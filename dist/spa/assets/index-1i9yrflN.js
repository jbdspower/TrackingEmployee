var V1=Object.defineProperty;var $v=e=>{throw TypeError(e)};var Z1=(e,t,r)=>t in e?V1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ms=(e,t,r)=>Z1(e,typeof t!="symbol"?t+"":t,r),lm=(e,t,r)=>t.has(e)||$v("Cannot "+r);var Ce=(e,t,r)=>(lm(e,t,"read from private field"),r?r.call(e):t.get(e)),qt=(e,t,r)=>t.has(e)?$v("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Lt=(e,t,r,a)=>(lm(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),Un=(e,t,r)=>(lm(e,t,"access private method"),r);var jd=(e,t,r,a)=>({set _(c){Lt(e,t,c,r)},get _(){return Ce(e,t,a)}});function q1(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cm={exports:{}},Sc={},um={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function G1(){if(Bv)return At;Bv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function C(z,J,X){this.props=z,this.context=J,this.refs=j,this.updater=X||k}C.prototype.isReactComponent={},C.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=C.prototype;function D(z,J,X){this.props=z,this.context=J,this.refs=j,this.updater=X||k}var M=D.prototype=new T;M.constructor=D,P(M,C.prototype),M.isPureReactComponent=!0;var O=Array.isArray,F=Object.prototype.hasOwnProperty,V={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function ee(z,J,X){var he,ce={},U=null,K=null;if(J!=null)for(he in J.ref!==void 0&&(K=J.ref),J.key!==void 0&&(U=""+J.key),J)F.call(J,he)&&!I.hasOwnProperty(he)&&(ce[he]=J[he]);var we=arguments.length-2;if(we===1)ce.children=X;else if(1<we){for(var Te=Array(we),$e=0;$e<we;$e++)Te[$e]=arguments[$e+2];ce.children=Te}if(z&&z.defaultProps)for(he in we=z.defaultProps,we)ce[he]===void 0&&(ce[he]=we[he]);return{$$typeof:e,type:z,key:U,ref:K,props:ce,_owner:V.current}}function se(z,J){return{$$typeof:e,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function G(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function Q(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(X){return J[X]})}var pe=/\/+/g;function Oe(z,J){return typeof z=="object"&&z!==null&&z.key!=null?Q(""+z.key):J.toString(36)}function ve(z,J,X,he,ce){var U=typeof z;(U==="undefined"||U==="boolean")&&(z=null);var K=!1;if(z===null)K=!0;else switch(U){case"string":case"number":K=!0;break;case"object":switch(z.$$typeof){case e:case t:K=!0}}if(K)return K=z,ce=ce(K),z=he===""?"."+Oe(K,0):he,O(ce)?(X="",z!=null&&(X=z.replace(pe,"$&/")+"/"),ve(ce,J,X,"",function($e){return $e})):ce!=null&&(G(ce)&&(ce=se(ce,X+(!ce.key||K&&K.key===ce.key?"":(""+ce.key).replace(pe,"$&/")+"/")+z)),J.push(ce)),1;if(K=0,he=he===""?".":he+":",O(z))for(var we=0;we<z.length;we++){U=z[we];var Te=he+Oe(U,we);K+=ve(U,J,X,Te,ce)}else if(Te=S(z),typeof Te=="function")for(z=Te.call(z),we=0;!(U=z.next()).done;)U=U.value,Te=he+Oe(U,we++),K+=ve(U,J,X,Te,ce);else if(U==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return K}function de(z,J,X){if(z==null)return z;var he=[],ce=0;return ve(z,he,"","",function(U){return J.call(X,U,ce++)}),he}function ye(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(X){(z._status===0||z._status===-1)&&(z._status=1,z._result=X)},function(X){(z._status===0||z._status===-1)&&(z._status=2,z._result=X)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var be={current:null},W={transition:null},ge={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:W,ReactCurrentOwner:V};function ie(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:de,forEach:function(z,J,X){de(z,function(){J.apply(this,arguments)},X)},count:function(z){var J=0;return de(z,function(){J++}),J},toArray:function(z){return de(z,function(J){return J})||[]},only:function(z){if(!G(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},At.Component=C,At.Fragment=r,At.Profiler=c,At.PureComponent=D,At.StrictMode=a,At.Suspense=g,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,At.act=ie,At.cloneElement=function(z,J,X){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var he=P({},z.props),ce=z.key,U=z.ref,K=z._owner;if(J!=null){if(J.ref!==void 0&&(U=J.ref,K=V.current),J.key!==void 0&&(ce=""+J.key),z.type&&z.type.defaultProps)var we=z.type.defaultProps;for(Te in J)F.call(J,Te)&&!I.hasOwnProperty(Te)&&(he[Te]=J[Te]===void 0&&we!==void 0?we[Te]:J[Te])}var Te=arguments.length-2;if(Te===1)he.children=X;else if(1<Te){we=Array(Te);for(var $e=0;$e<Te;$e++)we[$e]=arguments[$e+2];he.children=we}return{$$typeof:e,type:z.type,key:ce,ref:U,props:he,_owner:K}},At.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:d,_context:z},z.Consumer=z},At.createElement=ee,At.createFactory=function(z){var J=ee.bind(null,z);return J.type=z,J},At.createRef=function(){return{current:null}},At.forwardRef=function(z){return{$$typeof:p,render:z}},At.isValidElement=G,At.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:ye}},At.memo=function(z,J){return{$$typeof:w,type:z,compare:J===void 0?null:J}},At.startTransition=function(z){var J=W.transition;W.transition={};try{z()}finally{W.transition=J}},At.unstable_act=ie,At.useCallback=function(z,J){return be.current.useCallback(z,J)},At.useContext=function(z){return be.current.useContext(z)},At.useDebugValue=function(){},At.useDeferredValue=function(z){return be.current.useDeferredValue(z)},At.useEffect=function(z,J){return be.current.useEffect(z,J)},At.useId=function(){return be.current.useId()},At.useImperativeHandle=function(z,J,X){return be.current.useImperativeHandle(z,J,X)},At.useInsertionEffect=function(z,J){return be.current.useInsertionEffect(z,J)},At.useLayoutEffect=function(z,J){return be.current.useLayoutEffect(z,J)},At.useMemo=function(z,J){return be.current.useMemo(z,J)},At.useReducer=function(z,J,X){return be.current.useReducer(z,J,X)},At.useRef=function(z){return be.current.useRef(z)},At.useState=function(z){return be.current.useState(z)},At.useSyncExternalStore=function(z,J,X){return be.current.useSyncExternalStore(z,J,X)},At.useTransition=function(){return be.current.useTransition()},At.version="18.3.1",At}var Uv;function _p(){return Uv||(Uv=1,um.exports=G1()),um.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Y1(){if(Hv)return Sc;Hv=1;var e=_p(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,w){var _,b={},S=null,k=null;w!==void 0&&(S=""+w),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(k=g.ref);for(_ in g)a.call(g,_)&&!d.hasOwnProperty(_)&&(b[_]=g[_]);if(p&&p.defaultProps)for(_ in g=p.defaultProps,g)b[_]===void 0&&(b[_]=g[_]);return{$$typeof:t,type:p,key:S,ref:k,props:b,_owner:c.current}}return Sc.Fragment=r,Sc.jsx=f,Sc.jsxs=f,Sc}var Wv;function K1(){return Wv||(Wv=1,cm.exports=Y1()),cm.exports}var o=K1(),v=_p();const He=wp(v),Py=q1({__proto__:null,default:He},[v]),X1=1,Q1=1e6;let dm=0;function J1(){return dm=(dm+1)%Number.MAX_SAFE_INTEGER,dm.toString()}const fm=new Map,Vv=e=>{if(fm.has(e))return;const t=setTimeout(()=>{fm.delete(e),zc({type:"REMOVE_TOAST",toastId:e})},Q1);fm.set(e,t)},eN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,X1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Vv(r):e.toasts.forEach(a=>{Vv(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Bd=[];let Ud={toasts:[]};function zc(e){Ud=eN(Ud,e),Bd.forEach(t=>{t(Ud)})}function Wr({...e}){const t=J1(),r=c=>zc({type:"UPDATE_TOAST",toast:{...c,id:t}}),a=()=>zc({type:"DISMISS_TOAST",toastId:t});return zc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:c=>{c||a()}}}),{id:t,dismiss:a,update:r}}function vo(){const[e,t]=v.useState(Ud);return v.useEffect(()=>(Bd.push(t),()=>{const r=Bd.indexOf(t);r>-1&&Bd.splice(r,1)}),[e]),{...e,toast:Wr,dismiss:r=>zc({type:"DISMISS_TOAST",toastId:r})}}var hm={exports:{}},lr={},mm={exports:{}},pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function tN(){return Zv||(Zv=1,function(e){function t(W,ge){var ie=W.length;W.push(ge);e:for(;0<ie;){var z=ie-1>>>1,J=W[z];if(0<c(J,ge))W[z]=ge,W[ie]=J,ie=z;else break e}}function r(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var ge=W[0],ie=W.pop();if(ie!==ge){W[0]=ie;e:for(var z=0,J=W.length,X=J>>>1;z<X;){var he=2*(z+1)-1,ce=W[he],U=he+1,K=W[U];if(0>c(ce,ie))U<J&&0>c(K,ce)?(W[z]=K,W[U]=ie,z=U):(W[z]=ce,W[he]=ie,z=he);else if(U<J&&0>c(K,ie))W[z]=K,W[U]=ie,z=U;else break e}}return ge}function c(W,ge){var ie=W.sortIndex-ge.sortIndex;return ie!==0?ie:W.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var g=[],w=[],_=1,b=null,S=3,k=!1,P=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(W){for(var ge=r(w);ge!==null;){if(ge.callback===null)a(w);else if(ge.startTime<=W)a(w),ge.sortIndex=ge.expirationTime,t(g,ge);else break;ge=r(w)}}function O(W){if(j=!1,M(W),!P)if(r(g)!==null)P=!0,ye(F);else{var ge=r(w);ge!==null&&be(O,ge.startTime-W)}}function F(W,ge){P=!1,j&&(j=!1,T(ee),ee=-1),k=!0;var ie=S;try{for(M(ge),b=r(g);b!==null&&(!(b.expirationTime>ge)||W&&!Q());){var z=b.callback;if(typeof z=="function"){b.callback=null,S=b.priorityLevel;var J=z(b.expirationTime<=ge);ge=e.unstable_now(),typeof J=="function"?b.callback=J:b===r(g)&&a(g),M(ge)}else a(g);b=r(g)}if(b!==null)var X=!0;else{var he=r(w);he!==null&&be(O,he.startTime-ge),X=!1}return X}finally{b=null,S=ie,k=!1}}var V=!1,I=null,ee=-1,se=5,G=-1;function Q(){return!(e.unstable_now()-G<se)}function pe(){if(I!==null){var W=e.unstable_now();G=W;var ge=!0;try{ge=I(!0,W)}finally{ge?Oe():(V=!1,I=null)}}else V=!1}var Oe;if(typeof D=="function")Oe=function(){D(pe)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,de=ve.port2;ve.port1.onmessage=pe,Oe=function(){de.postMessage(null)}}else Oe=function(){C(pe,0)};function ye(W){I=W,V||(V=!0,Oe())}function be(W,ge){ee=C(function(){W(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){P||k||(P=!0,ye(F))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return r(g)},e.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var ie=S;S=ge;try{return W()}finally{S=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,ge){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ie=S;S=W;try{return ge()}finally{S=ie}},e.unstable_scheduleCallback=function(W,ge,ie){var z=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?z+ie:z):ie=z,W){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ie+J,W={id:_++,callback:ge,priorityLevel:W,startTime:ie,expirationTime:J,sortIndex:-1},ie>z?(W.sortIndex=ie,t(w,W),r(g)===null&&W===r(w)&&(j?(T(ee),ee=-1):j=!0,be(O,ie-z))):(W.sortIndex=J,t(g,W),P||k||(P=!0,ye(F))),W},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(W){var ge=S;return function(){var ie=S;S=ge;try{return W.apply(this,arguments)}finally{S=ie}}}}(pm)),pm}var qv;function nN(){return qv||(qv=1,mm.exports=tN()),mm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function rN(){if(Gv)return lr;Gv=1;var e=_p(),t=nN();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(n,i){f(n,i),f(n+"Capture",i)}function f(n,i){for(c[n]=i,n=0;n<i.length;n++)a.add(i[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},b={};function S(n){return g.call(b,n)?!0:g.call(_,n)?!1:w.test(n)?b[n]=!0:(_[n]=!0,!1)}function k(n,i,u,m){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,i,u,m){if(i===null||typeof i>"u"||k(n,i,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(n,i,u,m,y,N,R){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=n,this.type=i,this.sanitizeURL=N,this.removeEmptyString=R}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];C[i]=new j(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function D(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(T,D);C[i]=new j(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(T,D);C[i]=new j(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(T,D);C[i]=new j(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function M(n,i,u,m){var y=C.hasOwnProperty(i)?C[i]:null;(y!==null?y.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,u,y,m)&&(u=null),m||y===null?S(i)&&(u===null?n.removeAttribute(i):n.setAttribute(i,""+u)):y.mustUseProperty?n[y.propertyName]=u===null?y.type===3?!1:"":u:(i=y.attributeName,m=y.attributeNamespace,u===null?n.removeAttribute(i):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?n.setAttributeNS(m,i,u):n.setAttribute(i,u))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),V=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),Q=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),ye=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),W=Symbol.iterator;function ge(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var ie=Object.assign,z;function J(n){if(z===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);z=i&&i[1]||""}return`
`+z+n}var X=!1;function he(n,i){if(!n||X)return"";X=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(fe){var m=fe}Reflect.construct(n,[],i)}else{try{i.call()}catch(fe){m=fe}n.call(i.prototype)}else{try{throw Error()}catch(fe){m=fe}n()}}catch(fe){if(fe&&m&&typeof fe.stack=="string"){for(var y=fe.stack.split(`
`),N=m.stack.split(`
`),R=y.length-1,$=N.length-1;1<=R&&0<=$&&y[R]!==N[$];)$--;for(;1<=R&&0<=$;R--,$--)if(y[R]!==N[$]){if(R!==1||$!==1)do if(R--,$--,0>$||y[R]!==N[$]){var q=`
`+y[R].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=R&&0<=$);break}}}finally{X=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?J(n):""}function ce(n){switch(n.tag){case 5:return J(n.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return n=he(n.type,!1),n;case 11:return n=he(n.type.render,!1),n;case 1:return n=he(n.type,!0),n;default:return""}}function U(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case V:return"Portal";case se:return"Profiler";case ee:return"StrictMode";case Oe:return"Suspense";case ve:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Q:return(n.displayName||"Context")+".Consumer";case G:return(n._context.displayName||"Context")+".Provider";case pe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case de:return i=n.displayName||null,i!==null?i:U(n.type)||"Memo";case ye:i=n._payload,n=n._init;try{return U(n(i))}catch{}}return null}function K(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(i);case 8:return i===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function we(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Te(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $e(n){var i=Te(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),m=""+n[i];if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,N=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return y.call(this)},set:function(R){m=""+R,N.call(this,R)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ye(n){n._valueTracker||(n._valueTracker=$e(n))}function Ge(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var u=i.getValue(),m="";return n&&(m=Te(n)?n.checked?"true":"false":n.value),n=m,n!==u?(i.setValue(n),!0):!1}function at(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Mt(n,i){var u=i.checked;return ie({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function Ne(n,i){var u=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;u=we(i.value!=null?i.value:u),n._wrapperState={initialChecked:m,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Z(n,i){i=i.checked,i!=null&&M(n,"checked",i,!1)}function me(n,i){Z(n,i);var u=we(i.value),m=i.type;if(u!=null)m==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Ee(n,i.type,u):i.hasOwnProperty("defaultValue")&&Ee(n,i.type,we(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Se(n,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,u||i===n.value||(n.value=i),n.defaultValue=i}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function Ee(n,i,u){(i!=="number"||at(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var We=Array.isArray;function tt(n,i,u,m){if(n=n.options,i){i={};for(var y=0;y<u.length;y++)i["$"+u[y]]=!0;for(u=0;u<n.length;u++)y=i.hasOwnProperty("$"+n[u].value),n[u].selected!==y&&(n[u].selected=y),y&&m&&(n[u].defaultSelected=!0)}else{for(u=""+we(u),i=null,y=0;y<n.length;y++){if(n[y].value===u){n[y].selected=!0,m&&(n[y].defaultSelected=!0);return}i!==null||n[y].disabled||(i=n[y])}i!==null&&(i.selected=!0)}}function Qe(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ut(n,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(r(92));if(We(u)){if(1<u.length)throw Error(r(93));u=u[0]}i=u}i==null&&(i=""),u=i}n._wrapperState={initialValue:we(u)}}function Nt(n,i){var u=we(i.value),m=we(i.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),i.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),m!=null&&(n.defaultValue=""+m)}function bt(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Rt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Rt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vt,B=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,m,y){MSApp.execUnsafeLocalFunction(function(){return n(i,u,m,y)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Vt=Vt||document.createElement("div"),Vt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Vt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function je(n,i){if(i){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=i;return}}n.textContent=i}var Le={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Me=["Webkit","ms","Moz","O"];Object.keys(Le).forEach(function(n){Me.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Le[i]=Le[n]})});function ze(n,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Le.hasOwnProperty(n)&&Le[n]?(""+i).trim():i+"px"}function Ve(n,i){n=n.style;for(var u in i)if(i.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=ze(u,i[u],m);u==="float"&&(u="cssFloat"),m?n.setProperty(u,y):n[u]=y}}var Ue=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ke(n,i){if(i){if(Ue[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Ie(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oe=null;function te(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var le=null,_e=null,Be=null;function Ft(n){if(n=Qs(n)){if(typeof le!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Ba(i),le(n.stateNode,n.type,i))}}function st(n){_e?Be?Be.push(n):Be=[n]:_e=n}function Et(){if(_e){var n=_e,i=Be;if(Be=_e=null,Ft(n),i)for(n=0;n<i.length;n++)Ft(i[n])}}function zt(n,i){return n(i)}function Kt(){}var er=!1;function $s(n,i,u){if(er)return n(i,u);er=!0;try{return zt(n,i,u)}finally{er=!1,(_e!==null||Be!==null)&&(Kt(),Et())}}function vs(n,i){var u=n.stateNode;if(u===null)return null;var m=Ba(u);if(m===null)return null;u=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(r(231,i,typeof u));return u}var xo=!1;if(p)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){xo=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{xo=!1}function pa(n,i,u,m,y,N,R,$,q){var fe=Array.prototype.slice.call(arguments,3);try{i.apply(u,fe)}catch(Ae){this.onError(Ae)}}var Sn=!1,Je=null,_i=!1,ga=null,fu={onError:function(n){Sn=!0,Je=n}};function hu(n,i,u,m,y,N,R,$,q){Sn=!1,Je=null,pa.apply(fu,arguments)}function Dl(n,i,u,m,y,N,R,$,q){if(hu.apply(this,arguments),Sn){if(Sn){var fe=Je;Sn=!1,Je=null}else throw Error(r(198));_i||(_i=!0,ga=fe)}}function ys(n){var i=n,u=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(u=i.return),n=i.return;while(n)}return i.tag===3?u:null}function Bs(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Ol(n){if(ys(n)!==n)throw Error(r(188))}function $f(n){var i=n.alternate;if(!i){if(i=ys(n),i===null)throw Error(r(188));return i!==n?null:n}for(var u=n,m=i;;){var y=u.return;if(y===null)break;var N=y.alternate;if(N===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===u)return Ol(y),n;if(N===m)return Ol(y),i;N=N.sibling}throw Error(r(188))}if(u.return!==m.return)u=y,m=N;else{for(var R=!1,$=y.child;$;){if($===u){R=!0,u=y,m=N;break}if($===m){R=!0,m=y,u=N;break}$=$.sibling}if(!R){for($=N.child;$;){if($===u){R=!0,u=N,m=y;break}if($===m){R=!0,m=N,u=y;break}$=$.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?n:i}function mu(n){return n=$f(n),n!==null?pu(n):null}function pu(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=pu(n);if(i!==null)return i;n=n.sibling}return null}var gu=t.unstable_scheduleCallback,Il=t.unstable_cancelCallback,Bf=t.unstable_shouldYield,va=t.unstable_requestPaint,cn=t.unstable_now,Uf=t.unstable_getCurrentPriorityLevel,Fl=t.unstable_ImmediatePriority,vu=t.unstable_UserBlockingPriority,xa=t.unstable_NormalPriority,zl=t.unstable_LowPriority,yo=t.unstable_IdlePriority,bi=null,gr=null;function Ni(n){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(bi,n,void 0,(n.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:wo,tn=Math.log,ya=Math.LN2;function wo(n){return n>>>=0,n===0?32:31-(tn(n)/ya|0)|0}var Qr=64,_o=4194304;function yt(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Jt(n,i){var u=n.pendingLanes;if(u===0)return 0;var m=0,y=n.suspendedLanes,N=n.pingedLanes,R=u&268435455;if(R!==0){var $=R&~y;$!==0?m=yt($):(N&=R,N!==0&&(m=yt(N)))}else R=u&~y,R!==0?m=yt(R):N!==0&&(m=yt(N));if(m===0)return 0;if(i!==0&&i!==m&&(i&y)===0&&(y=m&-m,N=i&-i,y>=N||y===16&&(N&4194240)!==0))return i;if((m&4)!==0&&(m|=u&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=m;0<i;)u=31-_t(i),y=1<<u,m|=n[u],i&=~y;return m}function $l(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wa(n,i){for(var u=n.suspendedLanes,m=n.pingedLanes,y=n.expirationTimes,N=n.pendingLanes;0<N;){var R=31-_t(N),$=1<<R,q=y[R];q===-1?(($&u)===0||($&m)!==0)&&(y[R]=$l($,i)):q<=i&&(n.expiredLanes|=$),N&=~$}}function Dn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function xu(){var n=Qr;return Qr<<=1,(Qr&4194240)===0&&(Qr=64),n}function bo(n){for(var i=[],u=0;31>u;u++)i.push(n);return i}function vr(n,i,u){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-_t(i),n[i]=u}function mn(n,i){var u=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<u;){var y=31-_t(u),N=1<<y;i[y]=0,m[y]=-1,n[y]=-1,u&=~N}}function Jr(n,i){var u=n.entangledLanes|=i;for(n=n.entanglements;u;){var m=31-_t(u),y=1<<m;y&i|n[m]&i&&(n[m]|=i),u&=~y}}var $t=0;function No(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var _a,Us,ba,Na,Si,ji=!1,So=[],xr=null,es=null,Rr=null,Ei=new Map,pt=new Map,jn=[],Xt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bl(n,i){switch(n){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Ei.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(i.pointerId)}}function Hs(n,i,u,m,y,N){return n===null||n.nativeEvent!==N?(n={blockedOn:i,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[y]},i!==null&&(i=Qs(i),i!==null&&Us(i)),n):(n.eventSystemFlags|=m,i=n.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),n)}function Ul(n,i,u,m,y){switch(i){case"focusin":return xr=Hs(xr,n,i,u,m,y),!0;case"dragenter":return es=Hs(es,n,i,u,m,y),!0;case"mouseover":return Rr=Hs(Rr,n,i,u,m,y),!0;case"pointerover":var N=y.pointerId;return Ei.set(N,Hs(Ei.get(N)||null,n,i,u,m,y)),!0;case"gotpointercapture":return N=y.pointerId,pt.set(N,Hs(pt.get(N)||null,n,i,u,m,y)),!0}return!1}function Sa(n){var i=Xs(n.target);if(i!==null){var u=ys(i);if(u!==null){if(i=u.tag,i===13){if(i=Bs(u),i!==null){n.blockedOn=i,Si(n.priority,function(){ba(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var u=Ca(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var m=new u.constructor(u.type,u);oe=m,u.target.dispatchEvent(m),oe=null}else return i=Qs(u),i!==null&&Us(i),n.blockedOn=u,!1;i.shift()}return!0}function ja(n,i,u){Lr(n)&&u.delete(i)}function Ci(){ji=!1,xr!==null&&Lr(xr)&&(xr=null),es!==null&&Lr(es)&&(es=null),Rr!==null&&Lr(Rr)&&(Rr=null),Ei.forEach(ja),pt.forEach(ja)}function un(n,i){n.blockedOn===i&&(n.blockedOn=null,ji||(ji=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ci)))}function yr(n){function i(y){return un(y,n)}if(0<So.length){un(So[0],n);for(var u=1;u<So.length;u++){var m=So[u];m.blockedOn===n&&(m.blockedOn=null)}}for(xr!==null&&un(xr,n),es!==null&&un(es,n),Rr!==null&&un(Rr,n),Ei.forEach(i),pt.forEach(i),u=0;u<jn.length;u++)m=jn[u],m.blockedOn===n&&(m.blockedOn=null);for(;0<jn.length&&(u=jn[0],u.blockedOn===null);)Sa(u),u.blockedOn===null&&jn.shift()}var Ws=O.ReactCurrentBatchConfig,Pi=!0;function Hf(n,i,u,m){var y=$t,N=Ws.transition;Ws.transition=null;try{$t=1,Ti(n,i,u,m)}finally{$t=y,Ws.transition=N}}function yu(n,i,u,m){var y=$t,N=Ws.transition;Ws.transition=null;try{$t=4,Ti(n,i,u,m)}finally{$t=y,Ws.transition=N}}function Ti(n,i,u,m){if(Pi){var y=Ca(n,i,u,m);if(y===null)s(n,i,m,Ea,u),Bl(n,m);else if(Ul(y,n,i,u,m))m.stopPropagation();else if(Bl(n,m),i&4&&-1<Xt.indexOf(n)){for(;y!==null;){var N=Qs(y);if(N!==null&&_a(N),N=Ca(n,i,u,m),N===null&&s(n,i,m,Ea,u),N===y)break;y=N}y!==null&&m.stopPropagation()}else s(n,i,m,null,u)}}var Ea=null;function Ca(n,i,u,m){if(Ea=null,n=te(m),n=Xs(n),n!==null)if(i=ys(n),i===null)n=null;else if(u=i.tag,u===13){if(n=Bs(i),n!==null)return n;n=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ea=n,null}function It(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uf()){case Fl:return 1;case vu:return 4;case xa:case zl:return 16;case yo:return 536870912;default:return 16}default:return 16}}var ws=null,Zn=null,_s=null;function Hl(){if(_s)return _s;var n,i=Zn,u=i.length,m,y="value"in ws?ws.value:ws.textContent,N=y.length;for(n=0;n<u&&i[n]===y[n];n++);var R=u-n;for(m=1;m<=R&&i[u-m]===y[N-m];m++);return _s=y.slice(n,1<m?1-m:void 0)}function Pa(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function jo(){return!0}function wu(){return!1}function On(n){function i(u,m,y,N,R){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var $ in n)n.hasOwnProperty($)&&(u=n[$],this[$]=u?u(N):N[$]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?jo:wu,this.isPropagationStopped=wu,this}return ie(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),i}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wl=On(Eo),Vs=ie({},Eo,{view:0,detail:0}),Wf=On(Vs),tr,Vl,Co,wr=ie({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Co&&(Co&&n.type==="mousemove"?(tr=n.screenX-Co.screenX,Vl=n.screenY-Co.screenY):Vl=tr=0,Co=n),tr)},movementY:function(n){return"movementY"in n?n.movementY:Vl}}),Zl=On(wr),_u=ie({},wr,{dataTransfer:0}),ql=On(_u),Vf=ie({},Vs,{relatedTarget:0}),Ta=On(Vf),bu=ie({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Zf=On(bu),qf=ie({},Eo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Gl=On(qf),Gf=ie({},Eo,{data:0}),Yl=On(Gf),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ka={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yf(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Zs[n])?!!i[n]:!1}function qs(){return Yf}var nr=ie({},Vs,{key:function(n){if(n.key){var i=Nu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Pa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ka[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(n){return n.type==="keypress"?Pa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Su=On(nr),ju=ie({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=On(ju),Kl=ie({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),Xl=On(Kl),Kf=ie({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xf=On(Kf),Cu=ie({},wr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Qf=On(Cu),_r=[9,13,27,32],bs=p&&"CompositionEvent"in window,ki=null;p&&"documentMode"in document&&(ki=document.documentMode);var ts=p&&"TextEvent"in window&&!ki,Pu=p&&(!bs||ki&&8<ki&&11>=ki),Gs=" ",Tu=!1;function Po(n,i){switch(n){case"keyup":return _r.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ql(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ns=!1;function Jf(n,i){switch(n){case"compositionend":return Ql(i);case"keypress":return i.which!==32?null:(Tu=!0,Gs);case"textInput":return n=i.data,n===Gs&&Tu?null:n;default:return null}}function Ns(n,i){if(ns)return n==="compositionend"||!bs&&Po(n,i)?(n=Hl(),_s=Zn=ws=null,ns=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pu&&i.locale!=="ko"?null:i.data;default:return null}}var Ma={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ku(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ma[n.type]:i==="textarea"}function Ra(n,i,u,m){st(m),i=h(i,"onChange"),0<i.length&&(u=new Wl("onChange","change",null,u,m),n.push({event:u,listeners:i}))}var Mi=null,qn=null;function eh(n){ac(n,0)}function rs(n){var i=Js(n);if(Ge(i))return n}function th(n,i){if(n==="change")return i}var Ar=!1;if(p){var To;if(p){var La="oninput"in document;if(!La){var Aa=document.createElement("div");Aa.setAttribute("oninput","return;"),La=typeof Aa.oninput=="function"}To=La}else To=!1;Ar=To&&(!document.documentMode||9<document.documentMode)}function Ri(){Mi&&(Mi.detachEvent("onpropertychange",Da),qn=Mi=null)}function Da(n){if(n.propertyName==="value"&&rs(qn)){var i=[];Ra(i,qn,n,te(n)),$s(eh,i)}}function Oa(n,i,u){n==="focusin"?(Ri(),Mi=i,qn=u,Mi.attachEvent("onpropertychange",Da)):n==="focusout"&&Ri()}function ko(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rs(qn)}function Ia(n,i){if(n==="click")return rs(i)}function Jl(n,i){if(n==="input"||n==="change")return rs(i)}function Mu(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var br=typeof Object.is=="function"?Object.is:Mu;function Ss(n,i){if(br(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var u=Object.keys(n),m=Object.keys(i);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!g.call(i,y)||!br(n[y],i[y]))return!1}return!0}function Ru(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ec(n,i){var u=Ru(n);n=0;for(var m;u;){if(u.nodeType===3){if(m=n+u.textContent.length,n<=i&&m>=i)return{node:u,offset:i-n};n=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ru(u)}}function Lu(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Lu(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function tc(){for(var n=window,i=at();i instanceof n.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)n=i.contentWindow;else break;i=at(n.document)}return i}function nc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Dr(n){var i=tc(),u=n.focusedElem,m=n.selectionRange;if(i!==u&&u&&u.ownerDocument&&Lu(u.ownerDocument.documentElement,u)){if(m!==null&&nc(u)){if(i=m.start,n=m.end,n===void 0&&(n=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(n,u.value.length);else if(n=(i=u.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var y=u.textContent.length,N=Math.min(m.start,y);m=m.end===void 0?N:Math.min(m.end,y),!n.extend&&N>m&&(y=m,m=N,N=y),y=ec(u,N);var R=ec(u,m);y&&R&&(n.rangeCount!==1||n.anchorNode!==y.node||n.anchorOffset!==y.offset||n.focusNode!==R.node||n.focusOffset!==R.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),n.removeAllRanges(),N>m?(n.addRange(i),n.extend(R.node,R.offset)):(i.setEnd(R.node,R.offset),n.addRange(i)))}}for(i=[],n=u;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)n=i[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Fa=p&&"documentMode"in document&&11>=document.documentMode,Mo=null,Ro=null,Li=null,za=!1;function Au(n,i,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;za||Mo==null||Mo!==at(m)||(m=Mo,"selectionStart"in m&&nc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Li&&Ss(Li,m)||(Li=m,m=h(Ro,"onSelect"),0<m.length&&(i=new Wl("onSelect","select",null,i,u),n.push({event:i,listeners:m}),i.target=Mo)))}function js(n,i){var u={};return u[n.toLowerCase()]=i.toLowerCase(),u["Webkit"+n]="webkit"+i,u["Moz"+n]="moz"+i,u}var Lo={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},Es={},rc={};p&&(rc=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Ai(n){if(Es[n])return Es[n];if(!Lo[n])return n;var i=Lo[n],u;for(u in i)if(i.hasOwnProperty(u)&&u in rc)return Es[n]=i[u];return n}var Du=Ai("animationend"),Or=Ai("animationiteration"),sc=Ai("animationstart"),oc=Ai("transitionend"),Ao=new Map,Ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(n,i){Ao.set(n,i),d(i,[n])}for(var Ys=0;Ys<Ou.length;Ys++){var $a=Ou[Ys],Iu=$a.toLowerCase(),nh=$a[0].toUpperCase()+$a.slice(1);Nr(Iu,"on"+nh)}Nr(Du,"onAnimationEnd"),Nr(Or,"onAnimationIteration"),Nr(sc,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(oc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function ic(n,i,u){var m=n.type||"unknown-event";n.currentTarget=u,Dl(m,i,void 0,n),n.currentTarget=null}function ac(n,i){i=(i&4)!==0;for(var u=0;u<n.length;u++){var m=n[u],y=m.event;m=m.listeners;e:{var N=void 0;if(i)for(var R=m.length-1;0<=R;R--){var $=m[R],q=$.instance,fe=$.currentTarget;if($=$.listener,q!==N&&y.isPropagationStopped())break e;ic(y,$,fe),N=q}else for(R=0;R<m.length;R++){if($=m[R],q=$.instance,fe=$.currentTarget,$=$.listener,q!==N&&y.isPropagationStopped())break e;ic(y,$,fe),N=q}}}if(_i)throw n=ga,_i=!1,ga=null,n}function Qt(n,i){var u=i[zo];u===void 0&&(u=i[zo]=new Set);var m=n+"__bubble";u.has(m)||(zu(i,n,2,!1),u.add(m))}function lc(n,i,u){var m=0;i&&(m|=4),zu(u,n,m,i)}var Di="_reactListening"+Math.random().toString(36).slice(2);function Oo(n){if(!n[Di]){n[Di]=!0,a.forEach(function(u){u!=="selectionchange"&&(Fu.has(u)||lc(u,!1,n),lc(u,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Di]||(i[Di]=!0,lc("selectionchange",!1,i))}}function zu(n,i,u,m){switch(It(i)){case 1:var y=Hf;break;case 4:y=yu;break;default:y=Ti}u=y.bind(null,i,u,n),y=void 0,!xo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),m?y!==void 0?n.addEventListener(i,u,{capture:!0,passive:y}):n.addEventListener(i,u,!0):y!==void 0?n.addEventListener(i,u,{passive:y}):n.addEventListener(i,u,!1)}function s(n,i,u,m,y){var N=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var $=m.stateNode.containerInfo;if($===y||$.nodeType===8&&$.parentNode===y)break;if(R===4)for(R=m.return;R!==null;){var q=R.tag;if((q===3||q===4)&&(q=R.stateNode.containerInfo,q===y||q.nodeType===8&&q.parentNode===y))return;R=R.return}for(;$!==null;){if(R=Xs($),R===null)return;if(q=R.tag,q===5||q===6){m=N=R;continue e}$=$.parentNode}}m=m.return}$s(function(){var fe=N,Ae=te(u),De=[];e:{var Re=Ao.get(n);if(Re!==void 0){var qe=Wl,et=n;switch(n){case"keypress":if(Pa(u)===0)break e;case"keydown":case"keyup":qe=Su;break;case"focusin":et="focus",qe=Ta;break;case"focusout":et="blur",qe=Ta;break;case"beforeblur":case"afterblur":qe=Ta;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=Xl;break;case Du:case Or:case sc:qe=Zf;break;case oc:qe=Xf;break;case"scroll":qe=Wf;break;case"wheel":qe=Qf;break;case"copy":case"cut":case"paste":qe=Gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=Eu}var nt=(i&4)!==0,yn=!nt&&n==="scroll",re=nt?Re!==null?Re+"Capture":null:Re;nt=[];for(var Y=fe,ae;Y!==null;){ae=Y;var Fe=ae.stateNode;if(ae.tag===5&&Fe!==null&&(ae=Fe,re!==null&&(Fe=vs(Y,re),Fe!=null&&nt.push(l(Y,Fe,ae)))),yn)break;Y=Y.return}0<nt.length&&(Re=new qe(Re,et,null,u,Ae),De.push({event:Re,listeners:nt}))}}if((i&7)===0){e:{if(Re=n==="mouseover"||n==="pointerover",qe=n==="mouseout"||n==="pointerout",Re&&u!==oe&&(et=u.relatedTarget||u.fromElement)&&(Xs(et)||et[Zt]))break e;if((qe||Re)&&(Re=Ae.window===Ae?Ae:(Re=Ae.ownerDocument)?Re.defaultView||Re.parentWindow:window,qe?(et=u.relatedTarget||u.toElement,qe=fe,et=et?Xs(et):null,et!==null&&(yn=ys(et),et!==yn||et.tag!==5&&et.tag!==6)&&(et=null)):(qe=null,et=fe),qe!==et)){if(nt=Zl,Fe="onMouseLeave",re="onMouseEnter",Y="mouse",(n==="pointerout"||n==="pointerover")&&(nt=Eu,Fe="onPointerLeave",re="onPointerEnter",Y="pointer"),yn=qe==null?Re:Js(qe),ae=et==null?Re:Js(et),Re=new nt(Fe,Y+"leave",qe,u,Ae),Re.target=yn,Re.relatedTarget=ae,Fe=null,Xs(Ae)===fe&&(nt=new nt(re,Y+"enter",et,u,Ae),nt.target=ae,nt.relatedTarget=yn,Fe=nt),yn=Fe,qe&&et)t:{for(nt=qe,re=et,Y=0,ae=nt;ae;ae=x(ae))Y++;for(ae=0,Fe=re;Fe;Fe=x(Fe))ae++;for(;0<Y-ae;)nt=x(nt),Y--;for(;0<ae-Y;)re=x(re),ae--;for(;Y--;){if(nt===re||re!==null&&nt===re.alternate)break t;nt=x(nt),re=x(re)}nt=null}else nt=null;qe!==null&&E(De,Re,qe,nt,!1),et!==null&&yn!==null&&E(De,yn,et,nt,!0)}}e:{if(Re=fe?Js(fe):window,qe=Re.nodeName&&Re.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Re.type==="file")var rt=th;else if(ku(Re))if(Ar)rt=Jl;else{rt=ko;var ct=Oa}else(qe=Re.nodeName)&&qe.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(rt=Ia);if(rt&&(rt=rt(n,fe))){Ra(De,rt,u,Ae);break e}ct&&ct(n,Re,fe),n==="focusout"&&(ct=Re._wrapperState)&&ct.controlled&&Re.type==="number"&&Ee(Re,"number",Re.value)}switch(ct=fe?Js(fe):window,n){case"focusin":(ku(ct)||ct.contentEditable==="true")&&(Mo=ct,Ro=fe,Li=null);break;case"focusout":Li=Ro=Mo=null;break;case"mousedown":za=!0;break;case"contextmenu":case"mouseup":case"dragend":za=!1,Au(De,u,Ae);break;case"selectionchange":if(Fa)break;case"keydown":case"keyup":Au(De,u,Ae)}var ut;if(bs)e:{switch(n){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ns?Po(n,u)&&(gt="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(gt="onCompositionStart");gt&&(Pu&&u.locale!=="ko"&&(ns||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ns&&(ut=Hl()):(ws=Ae,Zn="value"in ws?ws.value:ws.textContent,ns=!0)),ct=h(fe,gt),0<ct.length&&(gt=new Yl(gt,n,null,u,Ae),De.push({event:gt,listeners:ct}),ut?gt.data=ut:(ut=Ql(u),ut!==null&&(gt.data=ut)))),(ut=ts?Jf(n,u):Ns(n,u))&&(fe=h(fe,"onBeforeInput"),0<fe.length&&(Ae=new Yl("onBeforeInput","beforeinput",null,u,Ae),De.push({event:Ae,listeners:fe}),Ae.data=ut))}ac(De,i)})}function l(n,i,u){return{instance:n,listener:i,currentTarget:u}}function h(n,i){for(var u=i+"Capture",m=[];n!==null;){var y=n,N=y.stateNode;y.tag===5&&N!==null&&(y=N,N=vs(n,u),N!=null&&m.unshift(l(n,N,y)),N=vs(n,i),N!=null&&m.push(l(n,N,y))),n=n.return}return m}function x(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function E(n,i,u,m,y){for(var N=i._reactName,R=[];u!==null&&u!==m;){var $=u,q=$.alternate,fe=$.stateNode;if(q!==null&&q===m)break;$.tag===5&&fe!==null&&($=fe,y?(q=vs(u,N),q!=null&&R.unshift(l(u,q,$))):y||(q=vs(u,N),q!=null&&R.push(l(u,q,$)))),u=u.return}R.length!==0&&n.push({event:i,listeners:R})}var A=/\r\n?/g,H=/\u0000|\uFFFD/g;function ne(n){return(typeof n=="string"?n:""+n).replace(A,`
`).replace(H,"")}function ue(n,i,u){if(i=ne(i),ne(n)!==i&&u)throw Error(r(425))}function ke(){}var Ze=null,lt=null;function St(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var En=typeof setTimeout=="function"?setTimeout:void 0,wn=typeof clearTimeout=="function"?clearTimeout:void 0,Gn=typeof Promise=="function"?Promise:void 0,In=typeof queueMicrotask=="function"?queueMicrotask:typeof Gn<"u"?function(n){return Gn.resolve(null).then(n).catch(Io)}:En;function Io(n){setTimeout(function(){throw n})}function cc(n,i){var u=i,m=0;do{var y=u.nextSibling;if(n.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){n.removeChild(y),yr(i);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);yr(i)}function Cs(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function $u(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return n;i--}else u==="/$"&&i++}n=n.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Ks,Fo="__reactProps$"+Ks,Zt="__reactContainer$"+Ks,zo="__reactEvents$"+Ks,rh="__reactListeners$"+Ks,sh="__reactHandles$"+Ks;function Xs(n){var i=n[Ir];if(i)return i;for(var u=n.parentNode;u;){if(i=u[Zt]||u[Ir]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(n=$u(n);n!==null;){if(u=n[Ir])return u;n=$u(n)}return i}n=u,u=n.parentNode}return null}function Qs(n){return n=n[Ir]||n[Zt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Js(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Ba(n){return n[Fo]||null}var oh=[],Ua=-1;function $o(n){return{current:n}}function nn(n){0>Ua||(n.current=oh[Ua],oh[Ua]=null,Ua--)}function en(n,i){Ua++,oh[Ua]=n.current,n.current=i}var Bo={},Fn=$o(Bo),rr=$o(!1),Oi=Bo;function Ha(n,i){var u=n.type.contextTypes;if(!u)return Bo;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var y={},N;for(N in u)y[N]=i[N];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=y),y}function sr(n){return n=n.childContextTypes,n!=null}function Bu(){nn(rr),nn(Fn)}function lg(n,i,u){if(Fn.current!==Bo)throw Error(r(168));en(Fn,i),en(rr,u)}function cg(n,i,u){var m=n.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in i))throw Error(r(108,K(n)||"Unknown",y));return ie({},u,m)}function Uu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Bo,Oi=Fn.current,en(Fn,n),en(rr,rr.current),!0}function ug(n,i,u){var m=n.stateNode;if(!m)throw Error(r(169));u?(n=cg(n,i,Oi),m.__reactInternalMemoizedMergedChildContext=n,nn(rr),nn(Fn),en(Fn,n)):nn(rr),en(rr,u)}var eo=null,Hu=!1,ih=!1;function dg(n){eo===null?eo=[n]:eo.push(n)}function u1(n){Hu=!0,dg(n)}function Uo(){if(!ih&&eo!==null){ih=!0;var n=0,i=$t;try{var u=eo;for($t=1;n<u.length;n++){var m=u[n];do m=m(!0);while(m!==null)}eo=null,Hu=!1}catch(y){throw eo!==null&&(eo=eo.slice(n+1)),gu(Fl,Uo),y}finally{$t=i,ih=!1}}return null}var Wa=[],Va=0,Wu=null,Vu=0,Fr=[],zr=0,Ii=null,to=1,no="";function Fi(n,i){Wa[Va++]=Vu,Wa[Va++]=Wu,Wu=n,Vu=i}function fg(n,i,u){Fr[zr++]=to,Fr[zr++]=no,Fr[zr++]=Ii,Ii=n;var m=to;n=no;var y=32-_t(m)-1;m&=~(1<<y),u+=1;var N=32-_t(i)+y;if(30<N){var R=y-y%5;N=(m&(1<<R)-1).toString(32),m>>=R,y-=R,to=1<<32-_t(i)+y|u<<y|m,no=N+n}else to=1<<N|u<<y|m,no=n}function ah(n){n.return!==null&&(Fi(n,1),fg(n,1,0))}function lh(n){for(;n===Wu;)Wu=Wa[--Va],Wa[Va]=null,Vu=Wa[--Va],Wa[Va]=null;for(;n===Ii;)Ii=Fr[--zr],Fr[zr]=null,no=Fr[--zr],Fr[zr]=null,to=Fr[--zr],Fr[zr]=null}var Sr=null,jr=null,on=!1,ss=null;function hg(n,i){var u=Hr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=n,i=n.deletions,i===null?(n.deletions=[u],n.flags|=16):i.push(u)}function mg(n,i){switch(n.tag){case 5:var u=n.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Sr=n,jr=Cs(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Sr=n,jr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=Ii!==null?{id:to,overflow:no}:null,n.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Hr(18,null,null,0),u.stateNode=i,u.return=n,n.child=u,Sr=n,jr=null,!0):!1;default:return!1}}function ch(n){return(n.mode&1)!==0&&(n.flags&128)===0}function uh(n){if(on){var i=jr;if(i){var u=i;if(!mg(n,i)){if(ch(n))throw Error(r(418));i=Cs(u.nextSibling);var m=Sr;i&&mg(n,i)?hg(m,u):(n.flags=n.flags&-4097|2,on=!1,Sr=n)}}else{if(ch(n))throw Error(r(418));n.flags=n.flags&-4097|2,on=!1,Sr=n}}}function pg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Sr=n}function Zu(n){if(n!==Sr)return!1;if(!on)return pg(n),on=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!St(n.type,n.memoizedProps)),i&&(i=jr)){if(ch(n))throw gg(),Error(r(418));for(;i;)hg(n,i),i=Cs(i.nextSibling)}if(pg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(i===0){jr=Cs(n.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}n=n.nextSibling}jr=null}}else jr=Sr?Cs(n.stateNode.nextSibling):null;return!0}function gg(){for(var n=jr;n;)n=Cs(n.nextSibling)}function Za(){jr=Sr=null,on=!1}function dh(n){ss===null?ss=[n]:ss.push(n)}var d1=O.ReactCurrentBatchConfig;function uc(n,i,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var m=u.stateNode}if(!m)throw Error(r(147,n));var y=m,N=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===N?i.ref:(i=function(R){var $=y.refs;R===null?delete $[N]:$[N]=R},i._stringRef=N,i)}if(typeof n!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,n))}return n}function qu(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function vg(n){var i=n._init;return i(n._payload)}function xg(n){function i(re,Y){if(n){var ae=re.deletions;ae===null?(re.deletions=[Y],re.flags|=16):ae.push(Y)}}function u(re,Y){if(!n)return null;for(;Y!==null;)i(re,Y),Y=Y.sibling;return null}function m(re,Y){for(re=new Map;Y!==null;)Y.key!==null?re.set(Y.key,Y):re.set(Y.index,Y),Y=Y.sibling;return re}function y(re,Y){return re=Ko(re,Y),re.index=0,re.sibling=null,re}function N(re,Y,ae){return re.index=ae,n?(ae=re.alternate,ae!==null?(ae=ae.index,ae<Y?(re.flags|=2,Y):ae):(re.flags|=2,Y)):(re.flags|=1048576,Y)}function R(re){return n&&re.alternate===null&&(re.flags|=2),re}function $(re,Y,ae,Fe){return Y===null||Y.tag!==6?(Y=nm(ae,re.mode,Fe),Y.return=re,Y):(Y=y(Y,ae),Y.return=re,Y)}function q(re,Y,ae,Fe){var rt=ae.type;return rt===I?Ae(re,Y,ae.props.children,Fe,ae.key):Y!==null&&(Y.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===ye&&vg(rt)===Y.type)?(Fe=y(Y,ae.props),Fe.ref=uc(re,Y,ae),Fe.return=re,Fe):(Fe=vd(ae.type,ae.key,ae.props,null,re.mode,Fe),Fe.ref=uc(re,Y,ae),Fe.return=re,Fe)}function fe(re,Y,ae,Fe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ae.containerInfo||Y.stateNode.implementation!==ae.implementation?(Y=rm(ae,re.mode,Fe),Y.return=re,Y):(Y=y(Y,ae.children||[]),Y.return=re,Y)}function Ae(re,Y,ae,Fe,rt){return Y===null||Y.tag!==7?(Y=Zi(ae,re.mode,Fe,rt),Y.return=re,Y):(Y=y(Y,ae),Y.return=re,Y)}function De(re,Y,ae){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Y=nm(""+Y,re.mode,ae),Y.return=re,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return ae=vd(Y.type,Y.key,Y.props,null,re.mode,ae),ae.ref=uc(re,null,Y),ae.return=re,ae;case V:return Y=rm(Y,re.mode,ae),Y.return=re,Y;case ye:var Fe=Y._init;return De(re,Fe(Y._payload),ae)}if(We(Y)||ge(Y))return Y=Zi(Y,re.mode,ae,null),Y.return=re,Y;qu(re,Y)}return null}function Re(re,Y,ae,Fe){var rt=Y!==null?Y.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return rt!==null?null:$(re,Y,""+ae,Fe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case F:return ae.key===rt?q(re,Y,ae,Fe):null;case V:return ae.key===rt?fe(re,Y,ae,Fe):null;case ye:return rt=ae._init,Re(re,Y,rt(ae._payload),Fe)}if(We(ae)||ge(ae))return rt!==null?null:Ae(re,Y,ae,Fe,null);qu(re,ae)}return null}function qe(re,Y,ae,Fe,rt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return re=re.get(ae)||null,$(Y,re,""+Fe,rt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case F:return re=re.get(Fe.key===null?ae:Fe.key)||null,q(Y,re,Fe,rt);case V:return re=re.get(Fe.key===null?ae:Fe.key)||null,fe(Y,re,Fe,rt);case ye:var ct=Fe._init;return qe(re,Y,ae,ct(Fe._payload),rt)}if(We(Fe)||ge(Fe))return re=re.get(ae)||null,Ae(Y,re,Fe,rt,null);qu(Y,Fe)}return null}function et(re,Y,ae,Fe){for(var rt=null,ct=null,ut=Y,gt=Y=0,Rn=null;ut!==null&&gt<ae.length;gt++){ut.index>gt?(Rn=ut,ut=null):Rn=ut.sibling;var Wt=Re(re,ut,ae[gt],Fe);if(Wt===null){ut===null&&(ut=Rn);break}n&&ut&&Wt.alternate===null&&i(re,ut),Y=N(Wt,Y,gt),ct===null?rt=Wt:ct.sibling=Wt,ct=Wt,ut=Rn}if(gt===ae.length)return u(re,ut),on&&Fi(re,gt),rt;if(ut===null){for(;gt<ae.length;gt++)ut=De(re,ae[gt],Fe),ut!==null&&(Y=N(ut,Y,gt),ct===null?rt=ut:ct.sibling=ut,ct=ut);return on&&Fi(re,gt),rt}for(ut=m(re,ut);gt<ae.length;gt++)Rn=qe(ut,re,gt,ae[gt],Fe),Rn!==null&&(n&&Rn.alternate!==null&&ut.delete(Rn.key===null?gt:Rn.key),Y=N(Rn,Y,gt),ct===null?rt=Rn:ct.sibling=Rn,ct=Rn);return n&&ut.forEach(function(Xo){return i(re,Xo)}),on&&Fi(re,gt),rt}function nt(re,Y,ae,Fe){var rt=ge(ae);if(typeof rt!="function")throw Error(r(150));if(ae=rt.call(ae),ae==null)throw Error(r(151));for(var ct=rt=null,ut=Y,gt=Y=0,Rn=null,Wt=ae.next();ut!==null&&!Wt.done;gt++,Wt=ae.next()){ut.index>gt?(Rn=ut,ut=null):Rn=ut.sibling;var Xo=Re(re,ut,Wt.value,Fe);if(Xo===null){ut===null&&(ut=Rn);break}n&&ut&&Xo.alternate===null&&i(re,ut),Y=N(Xo,Y,gt),ct===null?rt=Xo:ct.sibling=Xo,ct=Xo,ut=Rn}if(Wt.done)return u(re,ut),on&&Fi(re,gt),rt;if(ut===null){for(;!Wt.done;gt++,Wt=ae.next())Wt=De(re,Wt.value,Fe),Wt!==null&&(Y=N(Wt,Y,gt),ct===null?rt=Wt:ct.sibling=Wt,ct=Wt);return on&&Fi(re,gt),rt}for(ut=m(re,ut);!Wt.done;gt++,Wt=ae.next())Wt=qe(ut,re,gt,Wt.value,Fe),Wt!==null&&(n&&Wt.alternate!==null&&ut.delete(Wt.key===null?gt:Wt.key),Y=N(Wt,Y,gt),ct===null?rt=Wt:ct.sibling=Wt,ct=Wt);return n&&ut.forEach(function(W1){return i(re,W1)}),on&&Fi(re,gt),rt}function yn(re,Y,ae,Fe){if(typeof ae=="object"&&ae!==null&&ae.type===I&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case F:e:{for(var rt=ae.key,ct=Y;ct!==null;){if(ct.key===rt){if(rt=ae.type,rt===I){if(ct.tag===7){u(re,ct.sibling),Y=y(ct,ae.props.children),Y.return=re,re=Y;break e}}else if(ct.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===ye&&vg(rt)===ct.type){u(re,ct.sibling),Y=y(ct,ae.props),Y.ref=uc(re,ct,ae),Y.return=re,re=Y;break e}u(re,ct);break}else i(re,ct);ct=ct.sibling}ae.type===I?(Y=Zi(ae.props.children,re.mode,Fe,ae.key),Y.return=re,re=Y):(Fe=vd(ae.type,ae.key,ae.props,null,re.mode,Fe),Fe.ref=uc(re,Y,ae),Fe.return=re,re=Fe)}return R(re);case V:e:{for(ct=ae.key;Y!==null;){if(Y.key===ct)if(Y.tag===4&&Y.stateNode.containerInfo===ae.containerInfo&&Y.stateNode.implementation===ae.implementation){u(re,Y.sibling),Y=y(Y,ae.children||[]),Y.return=re,re=Y;break e}else{u(re,Y);break}else i(re,Y);Y=Y.sibling}Y=rm(ae,re.mode,Fe),Y.return=re,re=Y}return R(re);case ye:return ct=ae._init,yn(re,Y,ct(ae._payload),Fe)}if(We(ae))return et(re,Y,ae,Fe);if(ge(ae))return nt(re,Y,ae,Fe);qu(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,Y!==null&&Y.tag===6?(u(re,Y.sibling),Y=y(Y,ae),Y.return=re,re=Y):(u(re,Y),Y=nm(ae,re.mode,Fe),Y.return=re,re=Y),R(re)):u(re,Y)}return yn}var qa=xg(!0),yg=xg(!1),Gu=$o(null),Yu=null,Ga=null,fh=null;function hh(){fh=Ga=Yu=null}function mh(n){var i=Gu.current;nn(Gu),n._currentValue=i}function ph(n,i,u){for(;n!==null;){var m=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),n===u)break;n=n.return}}function Ya(n,i){Yu=n,fh=Ga=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(or=!0),n.firstContext=null)}function $r(n){var i=n._currentValue;if(fh!==n)if(n={context:n,memoizedValue:i,next:null},Ga===null){if(Yu===null)throw Error(r(308));Ga=n,Yu.dependencies={lanes:0,firstContext:n}}else Ga=Ga.next=n;return i}var zi=null;function gh(n){zi===null?zi=[n]:zi.push(n)}function wg(n,i,u,m){var y=i.interleaved;return y===null?(u.next=u,gh(i)):(u.next=y.next,y.next=u),i.interleaved=u,ro(n,m)}function ro(n,i){n.lanes|=i;var u=n.alternate;for(u!==null&&(u.lanes|=i),u=n,n=n.return;n!==null;)n.childLanes|=i,u=n.alternate,u!==null&&(u.childLanes|=i),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Ho=!1;function vh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function so(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Wo(n,i,u){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(Bt&2)!==0){var y=m.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),m.pending=i,ro(n,u)}return y=m.interleaved,y===null?(i.next=i,gh(m)):(i.next=y.next,y.next=i),m.interleaved=i,ro(n,u)}function Ku(n,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var m=i.lanes;m&=n.pendingLanes,u|=m,i.lanes=u,Jr(n,u)}}function bg(n,i){var u=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};N===null?y=N=R:N=N.next=R,u=u.next}while(u!==null);N===null?y=N=i:N=N.next=i}else y=N=i;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:m.shared,effects:m.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=i:n.next=i,u.lastBaseUpdate=i}function Xu(n,i,u,m){var y=n.updateQueue;Ho=!1;var N=y.firstBaseUpdate,R=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var q=$,fe=q.next;q.next=null,R===null?N=fe:R.next=fe,R=q;var Ae=n.alternate;Ae!==null&&(Ae=Ae.updateQueue,$=Ae.lastBaseUpdate,$!==R&&($===null?Ae.firstBaseUpdate=fe:$.next=fe,Ae.lastBaseUpdate=q))}if(N!==null){var De=y.baseState;R=0,Ae=fe=q=null,$=N;do{var Re=$.lane,qe=$.eventTime;if((m&Re)===Re){Ae!==null&&(Ae=Ae.next={eventTime:qe,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var et=n,nt=$;switch(Re=i,qe=u,nt.tag){case 1:if(et=nt.payload,typeof et=="function"){De=et.call(qe,De,Re);break e}De=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=nt.payload,Re=typeof et=="function"?et.call(qe,De,Re):et,Re==null)break e;De=ie({},De,Re);break e;case 2:Ho=!0}}$.callback!==null&&$.lane!==0&&(n.flags|=64,Re=y.effects,Re===null?y.effects=[$]:Re.push($))}else qe={eventTime:qe,lane:Re,tag:$.tag,payload:$.payload,callback:$.callback,next:null},Ae===null?(fe=Ae=qe,q=De):Ae=Ae.next=qe,R|=Re;if($=$.next,$===null){if($=y.shared.pending,$===null)break;Re=$,$=Re.next,Re.next=null,y.lastBaseUpdate=Re,y.shared.pending=null}}while(!0);if(Ae===null&&(q=De),y.baseState=q,y.firstBaseUpdate=fe,y.lastBaseUpdate=Ae,i=y.shared.interleaved,i!==null){y=i;do R|=y.lane,y=y.next;while(y!==i)}else N===null&&(y.shared.lanes=0);Ui|=R,n.lanes=R,n.memoizedState=De}}function Ng(n,i,u){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var m=n[i],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(r(191,y));y.call(m)}}}var dc={},Ps=$o(dc),fc=$o(dc),hc=$o(dc);function $i(n){if(n===dc)throw Error(r(174));return n}function xh(n,i){switch(en(hc,i),en(fc,n),en(Ps,dc),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ht(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Ht(i,n)}nn(Ps),en(Ps,i)}function Ka(){nn(Ps),nn(fc),nn(hc)}function Sg(n){$i(hc.current);var i=$i(Ps.current),u=Ht(i,n.type);i!==u&&(en(fc,n),en(Ps,u))}function yh(n){fc.current===n&&(nn(Ps),nn(fc))}var dn=$o(0);function Qu(n){for(var i=n;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var wh=[];function _h(){for(var n=0;n<wh.length;n++)wh[n]._workInProgressVersionPrimary=null;wh.length=0}var Ju=O.ReactCurrentDispatcher,bh=O.ReactCurrentBatchConfig,Bi=0,fn=null,Cn=null,kn=null,ed=!1,mc=!1,pc=0,f1=0;function zn(){throw Error(r(321))}function Nh(n,i){if(i===null)return!1;for(var u=0;u<i.length&&u<n.length;u++)if(!br(n[u],i[u]))return!1;return!0}function Sh(n,i,u,m,y,N){if(Bi=N,fn=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ju.current=n===null||n.memoizedState===null?g1:v1,n=u(m,y),mc){N=0;do{if(mc=!1,pc=0,25<=N)throw Error(r(301));N+=1,kn=Cn=null,i.updateQueue=null,Ju.current=x1,n=u(m,y)}while(mc)}if(Ju.current=rd,i=Cn!==null&&Cn.next!==null,Bi=0,kn=Cn=fn=null,ed=!1,i)throw Error(r(300));return n}function jh(){var n=pc!==0;return pc=0,n}function Ts(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?fn.memoizedState=kn=n:kn=kn.next=n,kn}function Br(){if(Cn===null){var n=fn.alternate;n=n!==null?n.memoizedState:null}else n=Cn.next;var i=kn===null?fn.memoizedState:kn.next;if(i!==null)kn=i,Cn=n;else{if(n===null)throw Error(r(310));Cn=n,n={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},kn===null?fn.memoizedState=kn=n:kn=kn.next=n}return kn}function gc(n,i){return typeof i=="function"?i(n):i}function Eh(n){var i=Br(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var m=Cn,y=m.baseQueue,N=u.pending;if(N!==null){if(y!==null){var R=y.next;y.next=N.next,N.next=R}m.baseQueue=y=N,u.pending=null}if(y!==null){N=y.next,m=m.baseState;var $=R=null,q=null,fe=N;do{var Ae=fe.lane;if((Bi&Ae)===Ae)q!==null&&(q=q.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),m=fe.hasEagerState?fe.eagerState:n(m,fe.action);else{var De={lane:Ae,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};q===null?($=q=De,R=m):q=q.next=De,fn.lanes|=Ae,Ui|=Ae}fe=fe.next}while(fe!==null&&fe!==N);q===null?R=m:q.next=$,br(m,i.memoizedState)||(or=!0),i.memoizedState=m,i.baseState=R,i.baseQueue=q,u.lastRenderedState=m}if(n=u.interleaved,n!==null){y=n;do N=y.lane,fn.lanes|=N,Ui|=N,y=y.next;while(y!==n)}else y===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Ch(n){var i=Br(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var m=u.dispatch,y=u.pending,N=i.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do N=n(N,R.action),R=R.next;while(R!==y);br(N,i.memoizedState)||(or=!0),i.memoizedState=N,i.baseQueue===null&&(i.baseState=N),u.lastRenderedState=N}return[N,m]}function jg(){}function Eg(n,i){var u=fn,m=Br(),y=i(),N=!br(m.memoizedState,y);if(N&&(m.memoizedState=y,or=!0),m=m.queue,Ph(Tg.bind(null,u,m,n),[n]),m.getSnapshot!==i||N||kn!==null&&kn.memoizedState.tag&1){if(u.flags|=2048,vc(9,Pg.bind(null,u,m,y,i),void 0,null),Mn===null)throw Error(r(349));(Bi&30)!==0||Cg(u,i,y)}return y}function Cg(n,i,u){n.flags|=16384,n={getSnapshot:i,value:u},i=fn.updateQueue,i===null?(i={lastEffect:null,stores:null},fn.updateQueue=i,i.stores=[n]):(u=i.stores,u===null?i.stores=[n]:u.push(n))}function Pg(n,i,u,m){i.value=u,i.getSnapshot=m,kg(i)&&Mg(n)}function Tg(n,i,u){return u(function(){kg(i)&&Mg(n)})}function kg(n){var i=n.getSnapshot;n=n.value;try{var u=i();return!br(n,u)}catch{return!0}}function Mg(n){var i=ro(n,1);i!==null&&ls(i,n,1,-1)}function Rg(n){var i=Ts();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:n},i.queue=n,n=n.dispatch=p1.bind(null,fn,n),[i.memoizedState,n]}function vc(n,i,u,m){return n={tag:n,create:i,destroy:u,deps:m,next:null},i=fn.updateQueue,i===null?(i={lastEffect:null,stores:null},fn.updateQueue=i,i.lastEffect=n.next=n):(u=i.lastEffect,u===null?i.lastEffect=n.next=n:(m=u.next,u.next=n,n.next=m,i.lastEffect=n)),n}function Lg(){return Br().memoizedState}function td(n,i,u,m){var y=Ts();fn.flags|=n,y.memoizedState=vc(1|i,u,void 0,m===void 0?null:m)}function nd(n,i,u,m){var y=Br();m=m===void 0?null:m;var N=void 0;if(Cn!==null){var R=Cn.memoizedState;if(N=R.destroy,m!==null&&Nh(m,R.deps)){y.memoizedState=vc(i,u,N,m);return}}fn.flags|=n,y.memoizedState=vc(1|i,u,N,m)}function Ag(n,i){return td(8390656,8,n,i)}function Ph(n,i){return nd(2048,8,n,i)}function Dg(n,i){return nd(4,2,n,i)}function Og(n,i){return nd(4,4,n,i)}function Ig(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Fg(n,i,u){return u=u!=null?u.concat([n]):null,nd(4,4,Ig.bind(null,i,n),u)}function Th(){}function zg(n,i){var u=Br();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&Nh(i,m[1])?m[0]:(u.memoizedState=[n,i],n)}function $g(n,i){var u=Br();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&Nh(i,m[1])?m[0]:(n=n(),u.memoizedState=[n,i],n)}function Bg(n,i,u){return(Bi&21)===0?(n.baseState&&(n.baseState=!1,or=!0),n.memoizedState=u):(br(u,i)||(u=xu(),fn.lanes|=u,Ui|=u,n.baseState=!0),i)}function h1(n,i){var u=$t;$t=u!==0&&4>u?u:4,n(!0);var m=bh.transition;bh.transition={};try{n(!1),i()}finally{$t=u,bh.transition=m}}function Ug(){return Br().memoizedState}function m1(n,i,u){var m=Go(n);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},Hg(n))Wg(i,u);else if(u=wg(n,i,u,m),u!==null){var y=Kn();ls(u,n,m,y),Vg(u,i,m)}}function p1(n,i,u){var m=Go(n),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hg(n))Wg(i,y);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=i.lastRenderedReducer,N!==null))try{var R=i.lastRenderedState,$=N(R,u);if(y.hasEagerState=!0,y.eagerState=$,br($,R)){var q=i.interleaved;q===null?(y.next=y,gh(i)):(y.next=q.next,q.next=y),i.interleaved=y;return}}catch{}finally{}u=wg(n,i,y,m),u!==null&&(y=Kn(),ls(u,n,m,y),Vg(u,i,m))}}function Hg(n){var i=n.alternate;return n===fn||i!==null&&i===fn}function Wg(n,i){mc=ed=!0;var u=n.pending;u===null?i.next=i:(i.next=u.next,u.next=i),n.pending=i}function Vg(n,i,u){if((u&4194240)!==0){var m=i.lanes;m&=n.pendingLanes,u|=m,i.lanes=u,Jr(n,u)}}var rd={readContext:$r,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},g1={readContext:$r,useCallback:function(n,i){return Ts().memoizedState=[n,i===void 0?null:i],n},useContext:$r,useEffect:Ag,useImperativeHandle:function(n,i,u){return u=u!=null?u.concat([n]):null,td(4194308,4,Ig.bind(null,i,n),u)},useLayoutEffect:function(n,i){return td(4194308,4,n,i)},useInsertionEffect:function(n,i){return td(4,2,n,i)},useMemo:function(n,i){var u=Ts();return i=i===void 0?null:i,n=n(),u.memoizedState=[n,i],n},useReducer:function(n,i,u){var m=Ts();return i=u!==void 0?u(i):i,m.memoizedState=m.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},m.queue=n,n=n.dispatch=m1.bind(null,fn,n),[m.memoizedState,n]},useRef:function(n){var i=Ts();return n={current:n},i.memoizedState=n},useState:Rg,useDebugValue:Th,useDeferredValue:function(n){return Ts().memoizedState=n},useTransition:function(){var n=Rg(!1),i=n[0];return n=h1.bind(null,n[1]),Ts().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,u){var m=fn,y=Ts();if(on){if(u===void 0)throw Error(r(407));u=u()}else{if(u=i(),Mn===null)throw Error(r(349));(Bi&30)!==0||Cg(m,i,u)}y.memoizedState=u;var N={value:u,getSnapshot:i};return y.queue=N,Ag(Tg.bind(null,m,N,n),[n]),m.flags|=2048,vc(9,Pg.bind(null,m,N,u,i),void 0,null),u},useId:function(){var n=Ts(),i=Mn.identifierPrefix;if(on){var u=no,m=to;u=(m&~(1<<32-_t(m)-1)).toString(32)+u,i=":"+i+"R"+u,u=pc++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=f1++,i=":"+i+"r"+u.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},v1={readContext:$r,useCallback:zg,useContext:$r,useEffect:Ph,useImperativeHandle:Fg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:$g,useReducer:Eh,useRef:Lg,useState:function(){return Eh(gc)},useDebugValue:Th,useDeferredValue:function(n){var i=Br();return Bg(i,Cn.memoizedState,n)},useTransition:function(){var n=Eh(gc)[0],i=Br().memoizedState;return[n,i]},useMutableSource:jg,useSyncExternalStore:Eg,useId:Ug,unstable_isNewReconciler:!1},x1={readContext:$r,useCallback:zg,useContext:$r,useEffect:Ph,useImperativeHandle:Fg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:$g,useReducer:Ch,useRef:Lg,useState:function(){return Ch(gc)},useDebugValue:Th,useDeferredValue:function(n){var i=Br();return Cn===null?i.memoizedState=n:Bg(i,Cn.memoizedState,n)},useTransition:function(){var n=Ch(gc)[0],i=Br().memoizedState;return[n,i]},useMutableSource:jg,useSyncExternalStore:Eg,useId:Ug,unstable_isNewReconciler:!1};function os(n,i){if(n&&n.defaultProps){i=ie({},i),n=n.defaultProps;for(var u in n)i[u]===void 0&&(i[u]=n[u]);return i}return i}function kh(n,i,u,m){i=n.memoizedState,u=u(m,i),u=u==null?i:ie({},i,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var sd={isMounted:function(n){return(n=n._reactInternals)?ys(n)===n:!1},enqueueSetState:function(n,i,u){n=n._reactInternals;var m=Kn(),y=Go(n),N=so(m,y);N.payload=i,u!=null&&(N.callback=u),i=Wo(n,N,y),i!==null&&(ls(i,n,y,m),Ku(i,n,y))},enqueueReplaceState:function(n,i,u){n=n._reactInternals;var m=Kn(),y=Go(n),N=so(m,y);N.tag=1,N.payload=i,u!=null&&(N.callback=u),i=Wo(n,N,y),i!==null&&(ls(i,n,y,m),Ku(i,n,y))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var u=Kn(),m=Go(n),y=so(u,m);y.tag=2,i!=null&&(y.callback=i),i=Wo(n,y,m),i!==null&&(ls(i,n,m,u),Ku(i,n,m))}};function Zg(n,i,u,m,y,N,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,N,R):i.prototype&&i.prototype.isPureReactComponent?!Ss(u,m)||!Ss(y,N):!0}function qg(n,i,u){var m=!1,y=Bo,N=i.contextType;return typeof N=="object"&&N!==null?N=$r(N):(y=sr(i)?Oi:Fn.current,m=i.contextTypes,N=(m=m!=null)?Ha(n,y):Bo),i=new i(u,N),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=sd,n.stateNode=i,i._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=y,n.__reactInternalMemoizedMaskedChildContext=N),i}function Gg(n,i,u,m){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,m),i.state!==n&&sd.enqueueReplaceState(i,i.state,null)}function Mh(n,i,u,m){var y=n.stateNode;y.props=u,y.state=n.memoizedState,y.refs={},vh(n);var N=i.contextType;typeof N=="object"&&N!==null?y.context=$r(N):(N=sr(i)?Oi:Fn.current,y.context=Ha(n,N)),y.state=n.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(kh(n,i,N,u),y.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(i=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),i!==y.state&&sd.enqueueReplaceState(y,y.state,null),Xu(n,u,y,m),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308)}function Xa(n,i){try{var u="",m=i;do u+=ce(m),m=m.return;while(m);var y=u}catch(N){y=`
Error generating stack: `+N.message+`
`+N.stack}return{value:n,source:i,stack:y,digest:null}}function Rh(n,i,u){return{value:n,source:null,stack:u??null,digest:i??null}}function Lh(n,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var y1=typeof WeakMap=="function"?WeakMap:Map;function Yg(n,i,u){u=so(-1,u),u.tag=3,u.payload={element:null};var m=i.value;return u.callback=function(){dd||(dd=!0,Gh=m),Lh(n,i)},u}function Kg(n,i,u){u=so(-1,u),u.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var y=i.value;u.payload=function(){return m(y)},u.callback=function(){Lh(n,i)}}var N=n.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(u.callback=function(){Lh(n,i),typeof m!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var R=i.stack;this.componentDidCatch(i.value,{componentStack:R!==null?R:""})}),u}function Xg(n,i,u){var m=n.pingCache;if(m===null){m=n.pingCache=new y1;var y=new Set;m.set(i,y)}else y=m.get(i),y===void 0&&(y=new Set,m.set(i,y));y.has(u)||(y.add(u),n=L1.bind(null,n,i,u),i.then(n,n))}function Qg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Jg(n,i,u,m,y){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=so(-1,1),i.tag=2,Wo(u,i,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=y,n)}var w1=O.ReactCurrentOwner,or=!1;function Yn(n,i,u,m){i.child=n===null?yg(i,null,u,m):qa(i,n.child,u,m)}function ev(n,i,u,m,y){u=u.render;var N=i.ref;return Ya(i,y),m=Sh(n,i,u,m,N,y),u=jh(),n!==null&&!or?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~y,oo(n,i,y)):(on&&u&&ah(i),i.flags|=1,Yn(n,i,m,y),i.child)}function tv(n,i,u,m,y){if(n===null){var N=u.type;return typeof N=="function"&&!tm(N)&&N.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=N,nv(n,i,N,m,y)):(n=vd(u.type,null,m,i,i.mode,y),n.ref=i.ref,n.return=i,i.child=n)}if(N=n.child,(n.lanes&y)===0){var R=N.memoizedProps;if(u=u.compare,u=u!==null?u:Ss,u(R,m)&&n.ref===i.ref)return oo(n,i,y)}return i.flags|=1,n=Ko(N,m),n.ref=i.ref,n.return=i,i.child=n}function nv(n,i,u,m,y){if(n!==null){var N=n.memoizedProps;if(Ss(N,m)&&n.ref===i.ref)if(or=!1,i.pendingProps=m=N,(n.lanes&y)!==0)(n.flags&131072)!==0&&(or=!0);else return i.lanes=n.lanes,oo(n,i,y)}return Ah(n,i,u,m,y)}function rv(n,i,u){var m=i.pendingProps,y=m.children,N=n!==null?n.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(Ja,Er),Er|=u;else{if((u&1073741824)===0)return n=N!==null?N.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,en(Ja,Er),Er|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=N!==null?N.baseLanes:u,en(Ja,Er),Er|=m}else N!==null?(m=N.baseLanes|u,i.memoizedState=null):m=u,en(Ja,Er),Er|=m;return Yn(n,i,y,u),i.child}function sv(n,i){var u=i.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Ah(n,i,u,m,y){var N=sr(u)?Oi:Fn.current;return N=Ha(i,N),Ya(i,y),u=Sh(n,i,u,m,N,y),m=jh(),n!==null&&!or?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~y,oo(n,i,y)):(on&&m&&ah(i),i.flags|=1,Yn(n,i,u,y),i.child)}function ov(n,i,u,m,y){if(sr(u)){var N=!0;Uu(i)}else N=!1;if(Ya(i,y),i.stateNode===null)id(n,i),qg(i,u,m),Mh(i,u,m,y),m=!0;else if(n===null){var R=i.stateNode,$=i.memoizedProps;R.props=$;var q=R.context,fe=u.contextType;typeof fe=="object"&&fe!==null?fe=$r(fe):(fe=sr(u)?Oi:Fn.current,fe=Ha(i,fe));var Ae=u.getDerivedStateFromProps,De=typeof Ae=="function"||typeof R.getSnapshotBeforeUpdate=="function";De||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==m||q!==fe)&&Gg(i,R,m,fe),Ho=!1;var Re=i.memoizedState;R.state=Re,Xu(i,m,R,y),q=i.memoizedState,$!==m||Re!==q||rr.current||Ho?(typeof Ae=="function"&&(kh(i,u,Ae,m),q=i.memoizedState),($=Ho||Zg(i,u,$,m,Re,q,fe))?(De||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(i.flags|=4194308)):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=q),R.props=m,R.state=q,R.context=fe,m=$):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{R=i.stateNode,_g(n,i),$=i.memoizedProps,fe=i.type===i.elementType?$:os(i.type,$),R.props=fe,De=i.pendingProps,Re=R.context,q=u.contextType,typeof q=="object"&&q!==null?q=$r(q):(q=sr(u)?Oi:Fn.current,q=Ha(i,q));var qe=u.getDerivedStateFromProps;(Ae=typeof qe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==De||Re!==q)&&Gg(i,R,m,q),Ho=!1,Re=i.memoizedState,R.state=Re,Xu(i,m,R,y);var et=i.memoizedState;$!==De||Re!==et||rr.current||Ho?(typeof qe=="function"&&(kh(i,u,qe,m),et=i.memoizedState),(fe=Ho||Zg(i,u,fe,m,Re,et,q)||!1)?(Ae||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,et,q),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,et,q)),typeof R.componentDidUpdate=="function"&&(i.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof R.componentDidUpdate!="function"||$===n.memoizedProps&&Re===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===n.memoizedProps&&Re===n.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=et),R.props=m,R.state=et,R.context=q,m=fe):(typeof R.componentDidUpdate!="function"||$===n.memoizedProps&&Re===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===n.memoizedProps&&Re===n.memoizedState||(i.flags|=1024),m=!1)}return Dh(n,i,u,m,N,y)}function Dh(n,i,u,m,y,N){sv(n,i);var R=(i.flags&128)!==0;if(!m&&!R)return y&&ug(i,u,!1),oo(n,i,N);m=i.stateNode,w1.current=i;var $=R&&typeof u.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,n!==null&&R?(i.child=qa(i,n.child,null,N),i.child=qa(i,null,$,N)):Yn(n,i,$,N),i.memoizedState=m.state,y&&ug(i,u,!0),i.child}function iv(n){var i=n.stateNode;i.pendingContext?lg(n,i.pendingContext,i.pendingContext!==i.context):i.context&&lg(n,i.context,!1),xh(n,i.containerInfo)}function av(n,i,u,m,y){return Za(),dh(y),i.flags|=256,Yn(n,i,u,m),i.child}var Oh={dehydrated:null,treeContext:null,retryLane:0};function Ih(n){return{baseLanes:n,cachePool:null,transitions:null}}function lv(n,i,u){var m=i.pendingProps,y=dn.current,N=!1,R=(i.flags&128)!==0,$;if(($=R)||($=n!==null&&n.memoizedState===null?!1:(y&2)!==0),$?(N=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(y|=1),en(dn,y&1),n===null)return uh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(R=m.children,n=m.fallback,N?(m=i.mode,N=i.child,R={mode:"hidden",children:R},(m&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=R):N=xd(R,m,0,null),n=Zi(n,m,u,null),N.return=i,n.return=i,N.sibling=n,i.child=N,i.child.memoizedState=Ih(u),i.memoizedState=Oh,n):Fh(i,R));if(y=n.memoizedState,y!==null&&($=y.dehydrated,$!==null))return _1(n,i,R,m,$,y,u);if(N){N=m.fallback,R=i.mode,y=n.child,$=y.sibling;var q={mode:"hidden",children:m.children};return(R&1)===0&&i.child!==y?(m=i.child,m.childLanes=0,m.pendingProps=q,i.deletions=null):(m=Ko(y,q),m.subtreeFlags=y.subtreeFlags&14680064),$!==null?N=Ko($,N):(N=Zi(N,R,u,null),N.flags|=2),N.return=i,m.return=i,m.sibling=N,i.child=m,m=N,N=i.child,R=n.child.memoizedState,R=R===null?Ih(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},N.memoizedState=R,N.childLanes=n.childLanes&~u,i.memoizedState=Oh,m}return N=n.child,n=N.sibling,m=Ko(N,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=u),m.return=i,m.sibling=null,n!==null&&(u=i.deletions,u===null?(i.deletions=[n],i.flags|=16):u.push(n)),i.child=m,i.memoizedState=null,m}function Fh(n,i){return i=xd({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function od(n,i,u,m){return m!==null&&dh(m),qa(i,n.child,null,u),n=Fh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function _1(n,i,u,m,y,N,R){if(u)return i.flags&256?(i.flags&=-257,m=Rh(Error(r(422))),od(n,i,R,m)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(N=m.fallback,y=i.mode,m=xd({mode:"visible",children:m.children},y,0,null),N=Zi(N,y,R,null),N.flags|=2,m.return=i,N.return=i,m.sibling=N,i.child=m,(i.mode&1)!==0&&qa(i,n.child,null,R),i.child.memoizedState=Ih(R),i.memoizedState=Oh,N);if((i.mode&1)===0)return od(n,i,R,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var $=m.dgst;return m=$,N=Error(r(419)),m=Rh(N,m,void 0),od(n,i,R,m)}if($=(R&n.childLanes)!==0,or||$){if(m=Mn,m!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|R))!==0?0:y,y!==0&&y!==N.retryLane&&(N.retryLane=y,ro(n,y),ls(m,n,y,-1))}return em(),m=Rh(Error(r(421))),od(n,i,R,m)}return y.data==="$?"?(i.flags|=128,i.child=n.child,i=A1.bind(null,n),y._reactRetry=i,null):(n=N.treeContext,jr=Cs(y.nextSibling),Sr=i,on=!0,ss=null,n!==null&&(Fr[zr++]=to,Fr[zr++]=no,Fr[zr++]=Ii,to=n.id,no=n.overflow,Ii=i),i=Fh(i,m.children),i.flags|=4096,i)}function cv(n,i,u){n.lanes|=i;var m=n.alternate;m!==null&&(m.lanes|=i),ph(n.return,i,u)}function zh(n,i,u,m,y){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=y)}function uv(n,i,u){var m=i.pendingProps,y=m.revealOrder,N=m.tail;if(Yn(n,i,m.children,u),m=dn.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cv(n,u,i);else if(n.tag===19)cv(n,u,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(en(dn,m),(i.mode&1)===0)i.memoizedState=null;else switch(y){case"forwards":for(u=i.child,y=null;u!==null;)n=u.alternate,n!==null&&Qu(n)===null&&(y=u),u=u.sibling;u=y,u===null?(y=i.child,i.child=null):(y=u.sibling,u.sibling=null),zh(i,!1,y,u,N);break;case"backwards":for(u=null,y=i.child,i.child=null;y!==null;){if(n=y.alternate,n!==null&&Qu(n)===null){i.child=y;break}n=y.sibling,y.sibling=u,u=y,y=n}zh(i,!0,u,null,N);break;case"together":zh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function id(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function oo(n,i,u){if(n!==null&&(i.dependencies=n.dependencies),Ui|=i.lanes,(u&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,u=Ko(n,n.pendingProps),i.child=u,u.return=i;n.sibling!==null;)n=n.sibling,u=u.sibling=Ko(n,n.pendingProps),u.return=i;u.sibling=null}return i.child}function b1(n,i,u){switch(i.tag){case 3:iv(i),Za();break;case 5:Sg(i);break;case 1:sr(i.type)&&Uu(i);break;case 4:xh(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,y=i.memoizedProps.value;en(Gu,m._currentValue),m._currentValue=y;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(en(dn,dn.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?lv(n,i,u):(en(dn,dn.current&1),n=oo(n,i,u),n!==null?n.sibling:null);en(dn,dn.current&1);break;case 19:if(m=(u&i.childLanes)!==0,(n.flags&128)!==0){if(m)return uv(n,i,u);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),en(dn,dn.current),m)break;return null;case 22:case 23:return i.lanes=0,rv(n,i,u)}return oo(n,i,u)}var dv,$h,fv,hv;dv=function(n,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},$h=function(){},fv=function(n,i,u,m){var y=n.memoizedProps;if(y!==m){n=i.stateNode,$i(Ps.current);var N=null;switch(u){case"input":y=Mt(n,y),m=Mt(n,m),N=[];break;case"select":y=ie({},y,{value:void 0}),m=ie({},m,{value:void 0}),N=[];break;case"textarea":y=Qe(n,y),m=Qe(n,m),N=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=ke)}Ke(u,m);var R;u=null;for(fe in y)if(!m.hasOwnProperty(fe)&&y.hasOwnProperty(fe)&&y[fe]!=null)if(fe==="style"){var $=y[fe];for(R in $)$.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(c.hasOwnProperty(fe)?N||(N=[]):(N=N||[]).push(fe,null));for(fe in m){var q=m[fe];if($=y!=null?y[fe]:void 0,m.hasOwnProperty(fe)&&q!==$&&(q!=null||$!=null))if(fe==="style")if($){for(R in $)!$.hasOwnProperty(R)||q&&q.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in q)q.hasOwnProperty(R)&&$[R]!==q[R]&&(u||(u={}),u[R]=q[R])}else u||(N||(N=[]),N.push(fe,u)),u=q;else fe==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,$=$?$.__html:void 0,q!=null&&$!==q&&(N=N||[]).push(fe,q)):fe==="children"?typeof q!="string"&&typeof q!="number"||(N=N||[]).push(fe,""+q):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(c.hasOwnProperty(fe)?(q!=null&&fe==="onScroll"&&Qt("scroll",n),N||$===q||(N=[])):(N=N||[]).push(fe,q))}u&&(N=N||[]).push("style",u);var fe=N;(i.updateQueue=fe)&&(i.flags|=4)}},hv=function(n,i,u,m){u!==m&&(i.flags|=4)};function xc(n,i){if(!on)switch(n.tailMode){case"hidden":i=n.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function $n(n){var i=n.alternate!==null&&n.alternate.child===n.child,u=0,m=0;if(i)for(var y=n.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=m,n.childLanes=u,i}function N1(n,i,u){var m=i.pendingProps;switch(lh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(i),null;case 1:return sr(i.type)&&Bu(),$n(i),null;case 3:return m=i.stateNode,Ka(),nn(rr),nn(Fn),_h(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(Zu(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ss!==null&&(Xh(ss),ss=null))),$h(n,i),$n(i),null;case 5:yh(i);var y=$i(hc.current);if(u=i.type,n!==null&&i.stateNode!=null)fv(n,i,u,m,y),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(r(166));return $n(i),null}if(n=$i(Ps.current),Zu(i)){m=i.stateNode,u=i.type;var N=i.memoizedProps;switch(m[Ir]=i,m[Fo]=N,n=(i.mode&1)!==0,u){case"dialog":Qt("cancel",m),Qt("close",m);break;case"iframe":case"object":case"embed":Qt("load",m);break;case"video":case"audio":for(y=0;y<Do.length;y++)Qt(Do[y],m);break;case"source":Qt("error",m);break;case"img":case"image":case"link":Qt("error",m),Qt("load",m);break;case"details":Qt("toggle",m);break;case"input":Ne(m,N),Qt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!N.multiple},Qt("invalid",m);break;case"textarea":Ut(m,N),Qt("invalid",m)}Ke(u,N),y=null;for(var R in N)if(N.hasOwnProperty(R)){var $=N[R];R==="children"?typeof $=="string"?m.textContent!==$&&(N.suppressHydrationWarning!==!0&&ue(m.textContent,$,n),y=["children",$]):typeof $=="number"&&m.textContent!==""+$&&(N.suppressHydrationWarning!==!0&&ue(m.textContent,$,n),y=["children",""+$]):c.hasOwnProperty(R)&&$!=null&&R==="onScroll"&&Qt("scroll",m)}switch(u){case"input":Ye(m),Se(m,N,!0);break;case"textarea":Ye(m),bt(m);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(m.onclick=ke)}m=y,i.updateQueue=m,m!==null&&(i.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Rt(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=R.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=R.createElement(u,{is:m.is}):(n=R.createElement(u),u==="select"&&(R=n,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):n=R.createElementNS(n,u),n[Ir]=i,n[Fo]=m,dv(n,i,!1,!1),i.stateNode=n;e:{switch(R=Ie(u,m),u){case"dialog":Qt("cancel",n),Qt("close",n),y=m;break;case"iframe":case"object":case"embed":Qt("load",n),y=m;break;case"video":case"audio":for(y=0;y<Do.length;y++)Qt(Do[y],n);y=m;break;case"source":Qt("error",n),y=m;break;case"img":case"image":case"link":Qt("error",n),Qt("load",n),y=m;break;case"details":Qt("toggle",n),y=m;break;case"input":Ne(n,m),y=Mt(n,m),Qt("invalid",n);break;case"option":y=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},y=ie({},m,{value:void 0}),Qt("invalid",n);break;case"textarea":Ut(n,m),y=Qe(n,m),Qt("invalid",n);break;default:y=m}Ke(u,y),$=y;for(N in $)if($.hasOwnProperty(N)){var q=$[N];N==="style"?Ve(n,q):N==="dangerouslySetInnerHTML"?(q=q?q.__html:void 0,q!=null&&B(n,q)):N==="children"?typeof q=="string"?(u!=="textarea"||q!=="")&&je(n,q):typeof q=="number"&&je(n,""+q):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(c.hasOwnProperty(N)?q!=null&&N==="onScroll"&&Qt("scroll",n):q!=null&&M(n,N,q,R))}switch(u){case"input":Ye(n),Se(n,m,!1);break;case"textarea":Ye(n),bt(n);break;case"option":m.value!=null&&n.setAttribute("value",""+we(m.value));break;case"select":n.multiple=!!m.multiple,N=m.value,N!=null?tt(n,!!m.multiple,N,!1):m.defaultValue!=null&&tt(n,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(n.onclick=ke)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return $n(i),null;case 6:if(n&&i.stateNode!=null)hv(n,i,n.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(r(166));if(u=$i(hc.current),$i(Ps.current),Zu(i)){if(m=i.stateNode,u=i.memoizedProps,m[Ir]=i,(N=m.nodeValue!==u)&&(n=Sr,n!==null))switch(n.tag){case 3:ue(m.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ue(m.nodeValue,u,(n.mode&1)!==0)}N&&(i.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Ir]=i,i.stateNode=m}return $n(i),null;case 13:if(nn(dn),m=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(on&&jr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)gg(),Za(),i.flags|=98560,N=!1;else if(N=Zu(i),m!==null&&m.dehydrated!==null){if(n===null){if(!N)throw Error(r(318));if(N=i.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Ir]=i}else Za(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$n(i),N=!1}else ss!==null&&(Xh(ss),ss=null),N=!0;if(!N)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(dn.current&1)!==0?Pn===0&&(Pn=3):em())),i.updateQueue!==null&&(i.flags|=4),$n(i),null);case 4:return Ka(),$h(n,i),n===null&&Oo(i.stateNode.containerInfo),$n(i),null;case 10:return mh(i.type._context),$n(i),null;case 17:return sr(i.type)&&Bu(),$n(i),null;case 19:if(nn(dn),N=i.memoizedState,N===null)return $n(i),null;if(m=(i.flags&128)!==0,R=N.rendering,R===null)if(m)xc(N,!1);else{if(Pn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(R=Qu(n),R!==null){for(i.flags|=128,xc(N,!1),m=R.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=u,u=i.child;u!==null;)N=u,n=m,N.flags&=14680066,R=N.alternate,R===null?(N.childLanes=0,N.lanes=n,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=R.childLanes,N.lanes=R.lanes,N.child=R.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=R.memoizedProps,N.memoizedState=R.memoizedState,N.updateQueue=R.updateQueue,N.type=R.type,n=R.dependencies,N.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return en(dn,dn.current&1|2),i.child}n=n.sibling}N.tail!==null&&cn()>el&&(i.flags|=128,m=!0,xc(N,!1),i.lanes=4194304)}else{if(!m)if(n=Qu(R),n!==null){if(i.flags|=128,m=!0,u=n.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),xc(N,!0),N.tail===null&&N.tailMode==="hidden"&&!R.alternate&&!on)return $n(i),null}else 2*cn()-N.renderingStartTime>el&&u!==1073741824&&(i.flags|=128,m=!0,xc(N,!1),i.lanes=4194304);N.isBackwards?(R.sibling=i.child,i.child=R):(u=N.last,u!==null?u.sibling=R:i.child=R,N.last=R)}return N.tail!==null?(i=N.tail,N.rendering=i,N.tail=i.sibling,N.renderingStartTime=cn(),i.sibling=null,u=dn.current,en(dn,m?u&1|2:u&1),i):($n(i),null);case 22:case 23:return Jh(),m=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(Er&1073741824)!==0&&($n(i),i.subtreeFlags&6&&(i.flags|=8192)):$n(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function S1(n,i){switch(lh(i),i.tag){case 1:return sr(i.type)&&Bu(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ka(),nn(rr),nn(Fn),_h(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return yh(i),null;case 13:if(nn(dn),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Za()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return nn(dn),null;case 4:return Ka(),null;case 10:return mh(i.type._context),null;case 22:case 23:return Jh(),null;case 24:return null;default:return null}}var ad=!1,Bn=!1,j1=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Qa(n,i){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){pn(n,i,m)}else u.current=null}function Bh(n,i,u){try{u()}catch(m){pn(n,i,m)}}var mv=!1;function E1(n,i){if(Ze=Pi,n=tc(),nc(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var R=0,$=-1,q=-1,fe=0,Ae=0,De=n,Re=null;t:for(;;){for(var qe;De!==u||y!==0&&De.nodeType!==3||($=R+y),De!==N||m!==0&&De.nodeType!==3||(q=R+m),De.nodeType===3&&(R+=De.nodeValue.length),(qe=De.firstChild)!==null;)Re=De,De=qe;for(;;){if(De===n)break t;if(Re===u&&++fe===y&&($=R),Re===N&&++Ae===m&&(q=R),(qe=De.nextSibling)!==null)break;De=Re,Re=De.parentNode}De=qe}u=$===-1||q===-1?null:{start:$,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(lt={focusedElem:n,selectionRange:u},Pi=!1,Xe=i;Xe!==null;)if(i=Xe,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Xe=n;else for(;Xe!==null;){i=Xe;try{var et=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var nt=et.memoizedProps,yn=et.memoizedState,re=i.stateNode,Y=re.getSnapshotBeforeUpdate(i.elementType===i.type?nt:os(i.type,nt),yn);re.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:var ae=i.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Fe){pn(i,i.return,Fe)}if(n=i.sibling,n!==null){n.return=i.return,Xe=n;break}Xe=i.return}return et=mv,mv=!1,et}function yc(n,i,u){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&n)===n){var N=y.destroy;y.destroy=void 0,N!==void 0&&Bh(i,u,N)}y=y.next}while(y!==m)}}function ld(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&n)===n){var m=u.create;u.destroy=m()}u=u.next}while(u!==i)}}function Uh(n){var i=n.ref;if(i!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof i=="function"?i(n):i.current=n}}function pv(n){var i=n.alternate;i!==null&&(n.alternate=null,pv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Ir],delete i[Fo],delete i[zo],delete i[rh],delete i[sh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gv(n){return n.tag===5||n.tag===3||n.tag===4}function vv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hh(n,i,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(n,i):u.insertBefore(n,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(n,u)):(i=u,i.appendChild(n)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=ke));else if(m!==4&&(n=n.child,n!==null))for(Hh(n,i,u),n=n.sibling;n!==null;)Hh(n,i,u),n=n.sibling}function Wh(n,i,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?u.insertBefore(n,i):u.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(Wh(n,i,u),n=n.sibling;n!==null;)Wh(n,i,u),n=n.sibling}var Ln=null,is=!1;function Vo(n,i,u){for(u=u.child;u!==null;)xv(n,i,u),u=u.sibling}function xv(n,i,u){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(bi,u)}catch{}switch(u.tag){case 5:Bn||Qa(u,i);case 6:var m=Ln,y=is;Ln=null,Vo(n,i,u),Ln=m,is=y,Ln!==null&&(is?(n=Ln,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Ln.removeChild(u.stateNode));break;case 18:Ln!==null&&(is?(n=Ln,u=u.stateNode,n.nodeType===8?cc(n.parentNode,u):n.nodeType===1&&cc(n,u),yr(n)):cc(Ln,u.stateNode));break;case 4:m=Ln,y=is,Ln=u.stateNode.containerInfo,is=!0,Vo(n,i,u),Ln=m,is=y;break;case 0:case 11:case 14:case 15:if(!Bn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var N=y,R=N.destroy;N=N.tag,R!==void 0&&((N&2)!==0||(N&4)!==0)&&Bh(u,i,R),y=y.next}while(y!==m)}Vo(n,i,u);break;case 1:if(!Bn&&(Qa(u,i),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch($){pn(u,i,$)}Vo(n,i,u);break;case 21:Vo(n,i,u);break;case 22:u.mode&1?(Bn=(m=Bn)||u.memoizedState!==null,Vo(n,i,u),Bn=m):Vo(n,i,u);break;default:Vo(n,i,u)}}function yv(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new j1),i.forEach(function(m){var y=D1.bind(null,n,m);u.has(m)||(u.add(m),m.then(y,y))})}}function as(n,i){var u=i.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var N=n,R=i,$=R;e:for(;$!==null;){switch($.tag){case 5:Ln=$.stateNode,is=!1;break e;case 3:Ln=$.stateNode.containerInfo,is=!0;break e;case 4:Ln=$.stateNode.containerInfo,is=!0;break e}$=$.return}if(Ln===null)throw Error(r(160));xv(N,R,y),Ln=null,is=!1;var q=y.alternate;q!==null&&(q.return=null),y.return=null}catch(fe){pn(y,i,fe)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)wv(i,n),i=i.sibling}function wv(n,i){var u=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(as(i,n),ks(n),m&4){try{yc(3,n,n.return),ld(3,n)}catch(nt){pn(n,n.return,nt)}try{yc(5,n,n.return)}catch(nt){pn(n,n.return,nt)}}break;case 1:as(i,n),ks(n),m&512&&u!==null&&Qa(u,u.return);break;case 5:if(as(i,n),ks(n),m&512&&u!==null&&Qa(u,u.return),n.flags&32){var y=n.stateNode;try{je(y,"")}catch(nt){pn(n,n.return,nt)}}if(m&4&&(y=n.stateNode,y!=null)){var N=n.memoizedProps,R=u!==null?u.memoizedProps:N,$=n.type,q=n.updateQueue;if(n.updateQueue=null,q!==null)try{$==="input"&&N.type==="radio"&&N.name!=null&&Z(y,N),Ie($,R);var fe=Ie($,N);for(R=0;R<q.length;R+=2){var Ae=q[R],De=q[R+1];Ae==="style"?Ve(y,De):Ae==="dangerouslySetInnerHTML"?B(y,De):Ae==="children"?je(y,De):M(y,Ae,De,fe)}switch($){case"input":me(y,N);break;case"textarea":Nt(y,N);break;case"select":var Re=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!N.multiple;var qe=N.value;qe!=null?tt(y,!!N.multiple,qe,!1):Re!==!!N.multiple&&(N.defaultValue!=null?tt(y,!!N.multiple,N.defaultValue,!0):tt(y,!!N.multiple,N.multiple?[]:"",!1))}y[Fo]=N}catch(nt){pn(n,n.return,nt)}}break;case 6:if(as(i,n),ks(n),m&4){if(n.stateNode===null)throw Error(r(162));y=n.stateNode,N=n.memoizedProps;try{y.nodeValue=N}catch(nt){pn(n,n.return,nt)}}break;case 3:if(as(i,n),ks(n),m&4&&u!==null&&u.memoizedState.isDehydrated)try{yr(i.containerInfo)}catch(nt){pn(n,n.return,nt)}break;case 4:as(i,n),ks(n);break;case 13:as(i,n),ks(n),y=n.child,y.flags&8192&&(N=y.memoizedState!==null,y.stateNode.isHidden=N,!N||y.alternate!==null&&y.alternate.memoizedState!==null||(qh=cn())),m&4&&yv(n);break;case 22:if(Ae=u!==null&&u.memoizedState!==null,n.mode&1?(Bn=(fe=Bn)||Ae,as(i,n),Bn=fe):as(i,n),ks(n),m&8192){if(fe=n.memoizedState!==null,(n.stateNode.isHidden=fe)&&!Ae&&(n.mode&1)!==0)for(Xe=n,Ae=n.child;Ae!==null;){for(De=Xe=Ae;Xe!==null;){switch(Re=Xe,qe=Re.child,Re.tag){case 0:case 11:case 14:case 15:yc(4,Re,Re.return);break;case 1:Qa(Re,Re.return);var et=Re.stateNode;if(typeof et.componentWillUnmount=="function"){m=Re,u=Re.return;try{i=m,et.props=i.memoizedProps,et.state=i.memoizedState,et.componentWillUnmount()}catch(nt){pn(m,u,nt)}}break;case 5:Qa(Re,Re.return);break;case 22:if(Re.memoizedState!==null){Nv(De);continue}}qe!==null?(qe.return=Re,Xe=qe):Nv(De)}Ae=Ae.sibling}e:for(Ae=null,De=n;;){if(De.tag===5){if(Ae===null){Ae=De;try{y=De.stateNode,fe?(N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):($=De.stateNode,q=De.memoizedProps.style,R=q!=null&&q.hasOwnProperty("display")?q.display:null,$.style.display=ze("display",R))}catch(nt){pn(n,n.return,nt)}}}else if(De.tag===6){if(Ae===null)try{De.stateNode.nodeValue=fe?"":De.memoizedProps}catch(nt){pn(n,n.return,nt)}}else if((De.tag!==22&&De.tag!==23||De.memoizedState===null||De===n)&&De.child!==null){De.child.return=De,De=De.child;continue}if(De===n)break e;for(;De.sibling===null;){if(De.return===null||De.return===n)break e;Ae===De&&(Ae=null),De=De.return}Ae===De&&(Ae=null),De.sibling.return=De.return,De=De.sibling}}break;case 19:as(i,n),ks(n),m&4&&yv(n);break;case 21:break;default:as(i,n),ks(n)}}function ks(n){var i=n.flags;if(i&2){try{e:{for(var u=n.return;u!==null;){if(gv(u)){var m=u;break e}u=u.return}throw Error(r(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(je(y,""),m.flags&=-33);var N=vv(n);Wh(n,N,y);break;case 3:case 4:var R=m.stateNode.containerInfo,$=vv(n);Hh(n,$,R);break;default:throw Error(r(161))}}catch(q){pn(n,n.return,q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function C1(n,i,u){Xe=n,_v(n)}function _v(n,i,u){for(var m=(n.mode&1)!==0;Xe!==null;){var y=Xe,N=y.child;if(y.tag===22&&m){var R=y.memoizedState!==null||ad;if(!R){var $=y.alternate,q=$!==null&&$.memoizedState!==null||Bn;$=ad;var fe=Bn;if(ad=R,(Bn=q)&&!fe)for(Xe=y;Xe!==null;)R=Xe,q=R.child,R.tag===22&&R.memoizedState!==null?Sv(y):q!==null?(q.return=R,Xe=q):Sv(y);for(;N!==null;)Xe=N,_v(N),N=N.sibling;Xe=y,ad=$,Bn=fe}bv(n)}else(y.subtreeFlags&8772)!==0&&N!==null?(N.return=y,Xe=N):bv(n)}}function bv(n){for(;Xe!==null;){var i=Xe;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Bn||ld(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!Bn)if(u===null)m.componentDidMount();else{var y=i.elementType===i.type?u.memoizedProps:os(i.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var N=i.updateQueue;N!==null&&Ng(i,N,m);break;case 3:var R=i.updateQueue;if(R!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}Ng(i,R,u)}break;case 5:var $=i.stateNode;if(u===null&&i.flags&4){u=$;var q=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":q.autoFocus&&u.focus();break;case"img":q.src&&(u.src=q.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var fe=i.alternate;if(fe!==null){var Ae=fe.memoizedState;if(Ae!==null){var De=Ae.dehydrated;De!==null&&yr(De)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Bn||i.flags&512&&Uh(i)}catch(Re){pn(i,i.return,Re)}}if(i===n){Xe=null;break}if(u=i.sibling,u!==null){u.return=i.return,Xe=u;break}Xe=i.return}}function Nv(n){for(;Xe!==null;){var i=Xe;if(i===n){Xe=null;break}var u=i.sibling;if(u!==null){u.return=i.return,Xe=u;break}Xe=i.return}}function Sv(n){for(;Xe!==null;){var i=Xe;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{ld(4,i)}catch(q){pn(i,u,q)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var y=i.return;try{m.componentDidMount()}catch(q){pn(i,y,q)}}var N=i.return;try{Uh(i)}catch(q){pn(i,N,q)}break;case 5:var R=i.return;try{Uh(i)}catch(q){pn(i,R,q)}}}catch(q){pn(i,i.return,q)}if(i===n){Xe=null;break}var $=i.sibling;if($!==null){$.return=i.return,Xe=$;break}Xe=i.return}}var P1=Math.ceil,cd=O.ReactCurrentDispatcher,Vh=O.ReactCurrentOwner,Ur=O.ReactCurrentBatchConfig,Bt=0,Mn=null,_n=null,An=0,Er=0,Ja=$o(0),Pn=0,wc=null,Ui=0,ud=0,Zh=0,_c=null,ir=null,qh=0,el=1/0,io=null,dd=!1,Gh=null,Zo=null,fd=!1,qo=null,hd=0,bc=0,Yh=null,md=-1,pd=0;function Kn(){return(Bt&6)!==0?cn():md!==-1?md:md=cn()}function Go(n){return(n.mode&1)===0?1:(Bt&2)!==0&&An!==0?An&-An:d1.transition!==null?(pd===0&&(pd=xu()),pd):(n=$t,n!==0||(n=window.event,n=n===void 0?16:It(n.type)),n)}function ls(n,i,u,m){if(50<bc)throw bc=0,Yh=null,Error(r(185));vr(n,u,m),((Bt&2)===0||n!==Mn)&&(n===Mn&&((Bt&2)===0&&(ud|=u),Pn===4&&Yo(n,An)),ar(n,m),u===1&&Bt===0&&(i.mode&1)===0&&(el=cn()+500,Hu&&Uo()))}function ar(n,i){var u=n.callbackNode;wa(n,i);var m=Jt(n,n===Mn?An:0);if(m===0)u!==null&&Il(u),n.callbackNode=null,n.callbackPriority=0;else if(i=m&-m,n.callbackPriority!==i){if(u!=null&&Il(u),i===1)n.tag===0?u1(Ev.bind(null,n)):dg(Ev.bind(null,n)),In(function(){(Bt&6)===0&&Uo()}),u=null;else{switch(No(m)){case 1:u=Fl;break;case 4:u=vu;break;case 16:u=xa;break;case 536870912:u=yo;break;default:u=xa}u=Av(u,jv.bind(null,n))}n.callbackPriority=i,n.callbackNode=u}}function jv(n,i){if(md=-1,pd=0,(Bt&6)!==0)throw Error(r(327));var u=n.callbackNode;if(tl()&&n.callbackNode!==u)return null;var m=Jt(n,n===Mn?An:0);if(m===0)return null;if((m&30)!==0||(m&n.expiredLanes)!==0||i)i=gd(n,m);else{i=m;var y=Bt;Bt|=2;var N=Pv();(Mn!==n||An!==i)&&(io=null,el=cn()+500,Wi(n,i));do try{M1();break}catch($){Cv(n,$)}while(!0);hh(),cd.current=N,Bt=y,_n!==null?i=0:(Mn=null,An=0,i=Pn)}if(i!==0){if(i===2&&(y=Dn(n),y!==0&&(m=y,i=Kh(n,y))),i===1)throw u=wc,Wi(n,0),Yo(n,m),ar(n,cn()),u;if(i===6)Yo(n,m);else{if(y=n.current.alternate,(m&30)===0&&!T1(y)&&(i=gd(n,m),i===2&&(N=Dn(n),N!==0&&(m=N,i=Kh(n,N))),i===1))throw u=wc,Wi(n,0),Yo(n,m),ar(n,cn()),u;switch(n.finishedWork=y,n.finishedLanes=m,i){case 0:case 1:throw Error(r(345));case 2:Vi(n,ir,io);break;case 3:if(Yo(n,m),(m&130023424)===m&&(i=qh+500-cn(),10<i)){if(Jt(n,0)!==0)break;if(y=n.suspendedLanes,(y&m)!==m){Kn(),n.pingedLanes|=n.suspendedLanes&y;break}n.timeoutHandle=En(Vi.bind(null,n,ir,io),i);break}Vi(n,ir,io);break;case 4:if(Yo(n,m),(m&4194240)===m)break;for(i=n.eventTimes,y=-1;0<m;){var R=31-_t(m);N=1<<R,R=i[R],R>y&&(y=R),m&=~N}if(m=y,m=cn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*P1(m/1960))-m,10<m){n.timeoutHandle=En(Vi.bind(null,n,ir,io),m);break}Vi(n,ir,io);break;case 5:Vi(n,ir,io);break;default:throw Error(r(329))}}}return ar(n,cn()),n.callbackNode===u?jv.bind(null,n):null}function Kh(n,i){var u=_c;return n.current.memoizedState.isDehydrated&&(Wi(n,i).flags|=256),n=gd(n,i),n!==2&&(i=ir,ir=u,i!==null&&Xh(i)),n}function Xh(n){ir===null?ir=n:ir.push.apply(ir,n)}function T1(n){for(var i=n;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],N=y.getSnapshot;y=y.value;try{if(!br(N(),y))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yo(n,i){for(i&=~Zh,i&=~ud,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var u=31-_t(i),m=1<<u;n[u]=-1,i&=~m}}function Ev(n){if((Bt&6)!==0)throw Error(r(327));tl();var i=Jt(n,0);if((i&1)===0)return ar(n,cn()),null;var u=gd(n,i);if(n.tag!==0&&u===2){var m=Dn(n);m!==0&&(i=m,u=Kh(n,m))}if(u===1)throw u=wc,Wi(n,0),Yo(n,i),ar(n,cn()),u;if(u===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Vi(n,ir,io),ar(n,cn()),null}function Qh(n,i){var u=Bt;Bt|=1;try{return n(i)}finally{Bt=u,Bt===0&&(el=cn()+500,Hu&&Uo())}}function Hi(n){qo!==null&&qo.tag===0&&(Bt&6)===0&&tl();var i=Bt;Bt|=1;var u=Ur.transition,m=$t;try{if(Ur.transition=null,$t=1,n)return n()}finally{$t=m,Ur.transition=u,Bt=i,(Bt&6)===0&&Uo()}}function Jh(){Er=Ja.current,nn(Ja)}function Wi(n,i){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,wn(u)),_n!==null)for(u=_n.return;u!==null;){var m=u;switch(lh(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Bu();break;case 3:Ka(),nn(rr),nn(Fn),_h();break;case 5:yh(m);break;case 4:Ka();break;case 13:nn(dn);break;case 19:nn(dn);break;case 10:mh(m.type._context);break;case 22:case 23:Jh()}u=u.return}if(Mn=n,_n=n=Ko(n.current,null),An=Er=i,Pn=0,wc=null,Zh=ud=Ui=0,ir=_c=null,zi!==null){for(i=0;i<zi.length;i++)if(u=zi[i],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,N=u.pending;if(N!==null){var R=N.next;N.next=y,m.next=R}u.pending=m}zi=null}return n}function Cv(n,i){do{var u=_n;try{if(hh(),Ju.current=rd,ed){for(var m=fn.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}ed=!1}if(Bi=0,kn=Cn=fn=null,mc=!1,pc=0,Vh.current=null,u===null||u.return===null){Pn=1,wc=i,_n=null;break}e:{var N=n,R=u.return,$=u,q=i;if(i=An,$.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var fe=q,Ae=$,De=Ae.tag;if((Ae.mode&1)===0&&(De===0||De===11||De===15)){var Re=Ae.alternate;Re?(Ae.updateQueue=Re.updateQueue,Ae.memoizedState=Re.memoizedState,Ae.lanes=Re.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var qe=Qg(R);if(qe!==null){qe.flags&=-257,Jg(qe,R,$,N,i),qe.mode&1&&Xg(N,fe,i),i=qe,q=fe;var et=i.updateQueue;if(et===null){var nt=new Set;nt.add(q),i.updateQueue=nt}else et.add(q);break e}else{if((i&1)===0){Xg(N,fe,i),em();break e}q=Error(r(426))}}else if(on&&$.mode&1){var yn=Qg(R);if(yn!==null){(yn.flags&65536)===0&&(yn.flags|=256),Jg(yn,R,$,N,i),dh(Xa(q,$));break e}}N=q=Xa(q,$),Pn!==4&&(Pn=2),_c===null?_c=[N]:_c.push(N),N=R;do{switch(N.tag){case 3:N.flags|=65536,i&=-i,N.lanes|=i;var re=Yg(N,q,i);bg(N,re);break e;case 1:$=q;var Y=N.type,ae=N.stateNode;if((N.flags&128)===0&&(typeof Y.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Zo===null||!Zo.has(ae)))){N.flags|=65536,i&=-i,N.lanes|=i;var Fe=Kg(N,$,i);bg(N,Fe);break e}}N=N.return}while(N!==null)}kv(u)}catch(rt){i=rt,_n===u&&u!==null&&(_n=u=u.return);continue}break}while(!0)}function Pv(){var n=cd.current;return cd.current=rd,n===null?rd:n}function em(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Mn===null||(Ui&268435455)===0&&(ud&268435455)===0||Yo(Mn,An)}function gd(n,i){var u=Bt;Bt|=2;var m=Pv();(Mn!==n||An!==i)&&(io=null,Wi(n,i));do try{k1();break}catch(y){Cv(n,y)}while(!0);if(hh(),Bt=u,cd.current=m,_n!==null)throw Error(r(261));return Mn=null,An=0,Pn}function k1(){for(;_n!==null;)Tv(_n)}function M1(){for(;_n!==null&&!Bf();)Tv(_n)}function Tv(n){var i=Lv(n.alternate,n,Er);n.memoizedProps=n.pendingProps,i===null?kv(n):_n=i,Vh.current=null}function kv(n){var i=n;do{var u=i.alternate;if(n=i.return,(i.flags&32768)===0){if(u=N1(u,i,Er),u!==null){_n=u;return}}else{if(u=S1(u,i),u!==null){u.flags&=32767,_n=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Pn=6,_n=null;return}}if(i=i.sibling,i!==null){_n=i;return}_n=i=n}while(i!==null);Pn===0&&(Pn=5)}function Vi(n,i,u){var m=$t,y=Ur.transition;try{Ur.transition=null,$t=1,R1(n,i,u,m)}finally{Ur.transition=y,$t=m}return null}function R1(n,i,u,m){do tl();while(qo!==null);if((Bt&6)!==0)throw Error(r(327));u=n.finishedWork;var y=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var N=u.lanes|u.childLanes;if(mn(n,N),n===Mn&&(_n=Mn=null,An=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||fd||(fd=!0,Av(xa,function(){return tl(),null})),N=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||N){N=Ur.transition,Ur.transition=null;var R=$t;$t=1;var $=Bt;Bt|=4,Vh.current=null,E1(n,u),wv(u,n),Dr(lt),Pi=!!Ze,lt=Ze=null,n.current=u,C1(u),va(),Bt=$,$t=R,Ur.transition=N}else n.current=u;if(fd&&(fd=!1,qo=n,hd=y),N=n.pendingLanes,N===0&&(Zo=null),Ni(u.stateNode),ar(n,cn()),i!==null)for(m=n.onRecoverableError,u=0;u<i.length;u++)y=i[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(dd)throw dd=!1,n=Gh,Gh=null,n;return(hd&1)!==0&&n.tag!==0&&tl(),N=n.pendingLanes,(N&1)!==0?n===Yh?bc++:(bc=0,Yh=n):bc=0,Uo(),null}function tl(){if(qo!==null){var n=No(hd),i=Ur.transition,u=$t;try{if(Ur.transition=null,$t=16>n?16:n,qo===null)var m=!1;else{if(n=qo,qo=null,hd=0,(Bt&6)!==0)throw Error(r(331));var y=Bt;for(Bt|=4,Xe=n.current;Xe!==null;){var N=Xe,R=N.child;if((Xe.flags&16)!==0){var $=N.deletions;if($!==null){for(var q=0;q<$.length;q++){var fe=$[q];for(Xe=fe;Xe!==null;){var Ae=Xe;switch(Ae.tag){case 0:case 11:case 15:yc(8,Ae,N)}var De=Ae.child;if(De!==null)De.return=Ae,Xe=De;else for(;Xe!==null;){Ae=Xe;var Re=Ae.sibling,qe=Ae.return;if(pv(Ae),Ae===fe){Xe=null;break}if(Re!==null){Re.return=qe,Xe=Re;break}Xe=qe}}}var et=N.alternate;if(et!==null){var nt=et.child;if(nt!==null){et.child=null;do{var yn=nt.sibling;nt.sibling=null,nt=yn}while(nt!==null)}}Xe=N}}if((N.subtreeFlags&2064)!==0&&R!==null)R.return=N,Xe=R;else e:for(;Xe!==null;){if(N=Xe,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:yc(9,N,N.return)}var re=N.sibling;if(re!==null){re.return=N.return,Xe=re;break e}Xe=N.return}}var Y=n.current;for(Xe=Y;Xe!==null;){R=Xe;var ae=R.child;if((R.subtreeFlags&2064)!==0&&ae!==null)ae.return=R,Xe=ae;else e:for(R=Y;Xe!==null;){if($=Xe,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:ld(9,$)}}catch(rt){pn($,$.return,rt)}if($===R){Xe=null;break e}var Fe=$.sibling;if(Fe!==null){Fe.return=$.return,Xe=Fe;break e}Xe=$.return}}if(Bt=y,Uo(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(bi,n)}catch{}m=!0}return m}finally{$t=u,Ur.transition=i}}return!1}function Mv(n,i,u){i=Xa(u,i),i=Yg(n,i,1),n=Wo(n,i,1),i=Kn(),n!==null&&(vr(n,1,i),ar(n,i))}function pn(n,i,u){if(n.tag===3)Mv(n,n,u);else for(;i!==null;){if(i.tag===3){Mv(i,n,u);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Zo===null||!Zo.has(m))){n=Xa(u,n),n=Kg(i,n,1),i=Wo(i,n,1),n=Kn(),i!==null&&(vr(i,1,n),ar(i,n));break}}i=i.return}}function L1(n,i,u){var m=n.pingCache;m!==null&&m.delete(i),i=Kn(),n.pingedLanes|=n.suspendedLanes&u,Mn===n&&(An&u)===u&&(Pn===4||Pn===3&&(An&130023424)===An&&500>cn()-qh?Wi(n,0):Zh|=u),ar(n,i)}function Rv(n,i){i===0&&((n.mode&1)===0?i=1:(i=_o,_o<<=1,(_o&130023424)===0&&(_o=4194304)));var u=Kn();n=ro(n,i),n!==null&&(vr(n,i,u),ar(n,u))}function A1(n){var i=n.memoizedState,u=0;i!==null&&(u=i.retryLane),Rv(n,u)}function D1(n,i){var u=0;switch(n.tag){case 13:var m=n.stateNode,y=n.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(i),Rv(n,u)}var Lv;Lv=function(n,i,u){if(n!==null)if(n.memoizedProps!==i.pendingProps||rr.current)or=!0;else{if((n.lanes&u)===0&&(i.flags&128)===0)return or=!1,b1(n,i,u);or=(n.flags&131072)!==0}else or=!1,on&&(i.flags&1048576)!==0&&fg(i,Vu,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;id(n,i),n=i.pendingProps;var y=Ha(i,Fn.current);Ya(i,u),y=Sh(null,i,m,n,y,u);var N=jh();return i.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,sr(m)?(N=!0,Uu(i)):N=!1,i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,vh(i),y.updater=sd,i.stateNode=y,y._reactInternals=i,Mh(i,m,n,u),i=Dh(null,i,m,!0,N,u)):(i.tag=0,on&&N&&ah(i),Yn(null,i,y,u),i=i.child),i;case 16:m=i.elementType;e:{switch(id(n,i),n=i.pendingProps,y=m._init,m=y(m._payload),i.type=m,y=i.tag=I1(m),n=os(m,n),y){case 0:i=Ah(null,i,m,n,u);break e;case 1:i=ov(null,i,m,n,u);break e;case 11:i=ev(null,i,m,n,u);break e;case 14:i=tv(null,i,m,os(m.type,n),u);break e}throw Error(r(306,m,""))}return i;case 0:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:os(m,y),Ah(n,i,m,y,u);case 1:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:os(m,y),ov(n,i,m,y,u);case 3:e:{if(iv(i),n===null)throw Error(r(387));m=i.pendingProps,N=i.memoizedState,y=N.element,_g(n,i),Xu(i,m,null,u);var R=i.memoizedState;if(m=R.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},i.updateQueue.baseState=N,i.memoizedState=N,i.flags&256){y=Xa(Error(r(423)),i),i=av(n,i,m,u,y);break e}else if(m!==y){y=Xa(Error(r(424)),i),i=av(n,i,m,u,y);break e}else for(jr=Cs(i.stateNode.containerInfo.firstChild),Sr=i,on=!0,ss=null,u=yg(i,null,m,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Za(),m===y){i=oo(n,i,u);break e}Yn(n,i,m,u)}i=i.child}return i;case 5:return Sg(i),n===null&&uh(i),m=i.type,y=i.pendingProps,N=n!==null?n.memoizedProps:null,R=y.children,St(m,y)?R=null:N!==null&&St(m,N)&&(i.flags|=32),sv(n,i),Yn(n,i,R,u),i.child;case 6:return n===null&&uh(i),null;case 13:return lv(n,i,u);case 4:return xh(i,i.stateNode.containerInfo),m=i.pendingProps,n===null?i.child=qa(i,null,m,u):Yn(n,i,m,u),i.child;case 11:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:os(m,y),ev(n,i,m,y,u);case 7:return Yn(n,i,i.pendingProps,u),i.child;case 8:return Yn(n,i,i.pendingProps.children,u),i.child;case 12:return Yn(n,i,i.pendingProps.children,u),i.child;case 10:e:{if(m=i.type._context,y=i.pendingProps,N=i.memoizedProps,R=y.value,en(Gu,m._currentValue),m._currentValue=R,N!==null)if(br(N.value,R)){if(N.children===y.children&&!rr.current){i=oo(n,i,u);break e}}else for(N=i.child,N!==null&&(N.return=i);N!==null;){var $=N.dependencies;if($!==null){R=N.child;for(var q=$.firstContext;q!==null;){if(q.context===m){if(N.tag===1){q=so(-1,u&-u),q.tag=2;var fe=N.updateQueue;if(fe!==null){fe=fe.shared;var Ae=fe.pending;Ae===null?q.next=q:(q.next=Ae.next,Ae.next=q),fe.pending=q}}N.lanes|=u,q=N.alternate,q!==null&&(q.lanes|=u),ph(N.return,u,i),$.lanes|=u;break}q=q.next}}else if(N.tag===10)R=N.type===i.type?null:N.child;else if(N.tag===18){if(R=N.return,R===null)throw Error(r(341));R.lanes|=u,$=R.alternate,$!==null&&($.lanes|=u),ph(R,u,i),R=N.sibling}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===i){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}Yn(n,i,y.children,u),i=i.child}return i;case 9:return y=i.type,m=i.pendingProps.children,Ya(i,u),y=$r(y),m=m(y),i.flags|=1,Yn(n,i,m,u),i.child;case 14:return m=i.type,y=os(m,i.pendingProps),y=os(m.type,y),tv(n,i,m,y,u);case 15:return nv(n,i,i.type,i.pendingProps,u);case 17:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:os(m,y),id(n,i),i.tag=1,sr(m)?(n=!0,Uu(i)):n=!1,Ya(i,u),qg(i,m,y),Mh(i,m,y,u),Dh(null,i,m,!0,n,u);case 19:return uv(n,i,u);case 22:return rv(n,i,u)}throw Error(r(156,i.tag))};function Av(n,i){return gu(n,i)}function O1(n,i,u,m){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(n,i,u,m){return new O1(n,i,u,m)}function tm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function I1(n){if(typeof n=="function")return tm(n)?1:0;if(n!=null){if(n=n.$$typeof,n===pe)return 11;if(n===de)return 14}return 2}function Ko(n,i){var u=n.alternate;return u===null?(u=Hr(n.tag,i,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=i,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,i=n.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function vd(n,i,u,m,y,N){var R=2;if(m=n,typeof n=="function")tm(n)&&(R=1);else if(typeof n=="string")R=5;else e:switch(n){case I:return Zi(u.children,y,N,i);case ee:R=8,y|=8;break;case se:return n=Hr(12,u,i,y|2),n.elementType=se,n.lanes=N,n;case Oe:return n=Hr(13,u,i,y),n.elementType=Oe,n.lanes=N,n;case ve:return n=Hr(19,u,i,y),n.elementType=ve,n.lanes=N,n;case be:return xd(u,y,N,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case G:R=10;break e;case Q:R=9;break e;case pe:R=11;break e;case de:R=14;break e;case ye:R=16,m=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Hr(R,u,i,y),i.elementType=n,i.type=m,i.lanes=N,i}function Zi(n,i,u,m){return n=Hr(7,n,m,i),n.lanes=u,n}function xd(n,i,u,m){return n=Hr(22,n,m,i),n.elementType=be,n.lanes=u,n.stateNode={isHidden:!1},n}function nm(n,i,u){return n=Hr(6,n,null,i),n.lanes=u,n}function rm(n,i,u){return i=Hr(4,n.children!==null?n.children:[],n.key,i),i.lanes=u,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function F1(n,i,u,m,y){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bo(0),this.expirationTimes=bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bo(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function sm(n,i,u,m,y,N,R,$,q){return n=new F1(n,i,u,$,q),i===1?(i=1,N===!0&&(i|=8)):i=0,N=Hr(3,null,null,i),n.current=N,N.stateNode=n,N.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(N),n}function z1(n,i,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:m==null?null:""+m,children:n,containerInfo:i,implementation:u}}function Dv(n){if(!n)return Bo;n=n._reactInternals;e:{if(ys(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(sr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var u=n.type;if(sr(u))return cg(n,u,i)}return i}function Ov(n,i,u,m,y,N,R,$,q){return n=sm(u,m,!0,n,y,N,R,$,q),n.context=Dv(null),u=n.current,m=Kn(),y=Go(u),N=so(m,y),N.callback=i??null,Wo(u,N,y),n.current.lanes=y,vr(n,y,m),ar(n,m),n}function yd(n,i,u,m){var y=i.current,N=Kn(),R=Go(y);return u=Dv(u),i.context===null?i.context=u:i.pendingContext=u,i=so(N,R),i.payload={element:n},m=m===void 0?null:m,m!==null&&(i.callback=m),n=Wo(y,i,R),n!==null&&(ls(n,y,R,N),Ku(n,y,R)),R}function wd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Iv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<i?u:i}}function om(n,i){Iv(n,i),(n=n.alternate)&&Iv(n,i)}function $1(){return null}var Fv=typeof reportError=="function"?reportError:function(n){console.error(n)};function im(n){this._internalRoot=n}_d.prototype.render=im.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));yd(n,i,null,null)},_d.prototype.unmount=im.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Hi(function(){yd(null,n,null,null)}),i[Zt]=null}};function _d(n){this._internalRoot=n}_d.prototype.unstable_scheduleHydration=function(n){if(n){var i=Na();n={blockedOn:null,target:n,priority:i};for(var u=0;u<jn.length&&i!==0&&i<jn[u].priority;u++);jn.splice(u,0,n),u===0&&Sa(n)}};function am(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function zv(){}function B1(n,i,u,m,y){if(y){if(typeof m=="function"){var N=m;m=function(){var fe=wd(R);N.call(fe)}}var R=Ov(i,m,n,0,null,!1,!1,"",zv);return n._reactRootContainer=R,n[Zt]=R.current,Oo(n.nodeType===8?n.parentNode:n),Hi(),R}for(;y=n.lastChild;)n.removeChild(y);if(typeof m=="function"){var $=m;m=function(){var fe=wd(q);$.call(fe)}}var q=sm(n,0,!1,null,null,!1,!1,"",zv);return n._reactRootContainer=q,n[Zt]=q.current,Oo(n.nodeType===8?n.parentNode:n),Hi(function(){yd(i,q,u,m)}),q}function Nd(n,i,u,m,y){var N=u._reactRootContainer;if(N){var R=N;if(typeof y=="function"){var $=y;y=function(){var q=wd(R);$.call(q)}}yd(i,R,n,y)}else R=B1(u,i,n,y,m);return wd(R)}_a=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var u=yt(i.pendingLanes);u!==0&&(Jr(i,u|1),ar(i,cn()),(Bt&6)===0&&(el=cn()+500,Uo()))}break;case 13:Hi(function(){var m=ro(n,1);if(m!==null){var y=Kn();ls(m,n,1,y)}}),om(n,1)}},Us=function(n){if(n.tag===13){var i=ro(n,134217728);if(i!==null){var u=Kn();ls(i,n,134217728,u)}om(n,134217728)}},ba=function(n){if(n.tag===13){var i=Go(n),u=ro(n,i);if(u!==null){var m=Kn();ls(u,n,i,m)}om(n,i)}},Na=function(){return $t},Si=function(n,i){var u=$t;try{return $t=n,i()}finally{$t=u}},le=function(n,i,u){switch(i){case"input":if(me(n,u),i=u.name,u.type==="radio"&&i!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var m=u[i];if(m!==n&&m.form===n.form){var y=Ba(m);if(!y)throw Error(r(90));Ge(m),me(m,y)}}}break;case"textarea":Nt(n,u);break;case"select":i=u.value,i!=null&&tt(n,!!u.multiple,i,!1)}},zt=Qh,Kt=Hi;var U1={usingClientEntryPoint:!1,Events:[Qs,Js,Ba,st,Et,Qh]},Nc={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H1={bundleType:Nc.bundleType,version:Nc.version,rendererPackageName:Nc.rendererPackageName,rendererConfig:Nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=mu(n),n===null?null:n.stateNode},findFiberByHostInstance:Nc.findFiberByHostInstance||$1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{bi=Sd.inject(H1),gr=Sd}catch{}}return lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U1,lr.createPortal=function(n,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!am(i))throw Error(r(200));return z1(n,i,null,u)},lr.createRoot=function(n,i){if(!am(n))throw Error(r(299));var u=!1,m="",y=Fv;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=sm(n,1,!1,null,null,u,!1,m,y),n[Zt]=i.current,Oo(n.nodeType===8?n.parentNode:n),new im(i)},lr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=mu(i),n=n===null?null:n.stateNode,n},lr.flushSync=function(n){return Hi(n)},lr.hydrate=function(n,i,u){if(!bd(i))throw Error(r(200));return Nd(null,n,i,!0,u)},lr.hydrateRoot=function(n,i,u){if(!am(n))throw Error(r(405));var m=u!=null&&u.hydratedSources||null,y=!1,N="",R=Fv;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),i=Ov(i,null,n,1,u??null,y,!1,N,R),n[Zt]=i.current,Oo(n),m)for(n=0;n<m.length;n++)u=m[n],y=u._getVersion,y=y(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,y]:i.mutableSourceEagerHydrationData.push(u,y);return new _d(i)},lr.render=function(n,i,u){if(!bd(i))throw Error(r(200));return Nd(null,n,i,!1,u)},lr.unmountComponentAtNode=function(n){if(!bd(n))throw Error(r(40));return n._reactRootContainer?(Hi(function(){Nd(null,null,n,!1,function(){n._reactRootContainer=null,n[Zt]=null})}),!0):!1},lr.unstable_batchedUpdates=Qh,lr.unstable_renderSubtreeIntoContainer=function(n,i,u,m){if(!bd(u))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Nd(n,i,u,!1,m)},lr.version="18.3.1-next-f1338f8080-20240426",lr}var Yv;function Ty(){if(Yv)return hm.exports;Yv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hm.exports=rN(),hm.exports}var fa=Ty();const cf=wp(fa);function ot(e,t,{checkForDefaultPrevented:r=!0}={}){return function(c){if(e==null||e(c),r===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function sN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function ky(...e){return t=>e.forEach(r=>sN(r,t))}function Ot(...e){return v.useCallback(ky(...e),e)}function Cl(e,t=[]){let r=[];function a(d,f){const p=v.createContext(f),g=r.length;r=[...r,f];function w(b){const{scope:S,children:k,...P}=b,j=(S==null?void 0:S[e][g])||p,C=v.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:k})}function _(b,S){const k=(S==null?void 0:S[e][g])||p,P=v.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return w.displayName=d+"Provider",[w,_]}const c=()=>{const d=r.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,oN(c,...t)]}function oN(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var ia=v.forwardRef((e,t)=>{const{children:r,...a}=e,c=v.Children.toArray(r),d=c.find(iN);if(d){const f=d.props.children,p=c.map(g=>g===d?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:g);return o.jsx(Fm,{...a,ref:t,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return o.jsx(Fm,{...a,ref:t,children:r})});ia.displayName="Slot";var Fm=v.forwardRef((e,t)=>{const{children:r,...a}=e;if(v.isValidElement(r)){const c=lN(r);return v.cloneElement(r,{...aN(a,r.props),ref:t?ky(t,c):c})}return v.Children.count(r)>1?v.Children.only(null):null});Fm.displayName="SlotClone";var My=({children:e})=>o.jsx(o.Fragment,{children:e});function iN(e){return v.isValidElement(e)&&e.type===My}function aN(e,t){const r={...t};for(const a in t){const c=e[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?r[a]=(...p)=>{d(...p),c(...p)}:c&&(r[a]=c):a==="style"?r[a]={...c,...d}:a==="className"&&(r[a]=[c,d].filter(Boolean).join(" "))}return{...e,...r}}function lN(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ry(e){const t=e+"CollectionProvider",[r,a]=Cl(t),[c,d]=r(t,{collectionRef:{current:null},itemMap:new Map}),f=k=>{const{scope:P,children:j}=k,C=He.useRef(null),T=He.useRef(new Map).current;return o.jsx(c,{scope:P,itemMap:T,collectionRef:C,children:j})};f.displayName=t;const p=e+"CollectionSlot",g=He.forwardRef((k,P)=>{const{scope:j,children:C}=k,T=d(p,j),D=Ot(P,T.collectionRef);return o.jsx(ia,{ref:D,children:C})});g.displayName=p;const w=e+"CollectionItemSlot",_="data-radix-collection-item",b=He.forwardRef((k,P)=>{const{scope:j,children:C,...T}=k,D=He.useRef(null),M=Ot(P,D),O=d(w,j);return He.useEffect(()=>(O.itemMap.set(D,{ref:D,...T}),()=>void O.itemMap.delete(D))),o.jsx(ia,{[_]:"",ref:M,children:C})});b.displayName=w;function S(k){const P=d(e+"CollectionConsumer",k);return He.useCallback(()=>{const C=P.collectionRef.current;if(!C)return[];const T=Array.from(C.querySelectorAll(`[${_}]`));return Array.from(P.itemMap.values()).sort((O,F)=>T.indexOf(O.ref.current)-T.indexOf(F.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:f,Slot:g,ItemSlot:b},S,a]}var cN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],wt=cN.reduce((e,t)=>{const r=v.forwardRef((a,c)=>{const{asChild:d,...f}=a,p=d?ia:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(p,{...f,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function uf(e,t){e&&fa.flushSync(()=>e.dispatchEvent(t))}function ln(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function bp(e,t=globalThis==null?void 0:globalThis.document){const r=ln(e);v.useEffect(()=>{const a=c=>{c.key==="Escape"&&r(c)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var uN="DismissableLayer",zm="dismissableLayer.update",dN="dismissableLayer.pointerDownOutside",fN="dismissableLayer.focusOutside",Kv,Ly=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ay=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(Ly),[_,b]=v.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=v.useState({}),P=Ot(t,I=>b(I)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(C),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=T,F=mN(I=>{const ee=I.target,se=[...w.branches].some(G=>G.contains(ee));!O||se||(c==null||c(I),f==null||f(I),I.defaultPrevented||p==null||p())},S),V=pN(I=>{const ee=I.target;[...w.branches].some(G=>G.contains(ee))||(d==null||d(I),f==null||f(I),I.defaultPrevented||p==null||p())},S);return bp(I=>{D===w.layers.size-1&&(a==null||a(I),!I.defaultPrevented&&p&&(I.preventDefault(),p()))},S),v.useEffect(()=>{if(_)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(Kv=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),Xv(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Kv)}},[_,S,r,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),Xv())},[_,w]),v.useEffect(()=>{const I=()=>k({});return document.addEventListener(zm,I),()=>document.removeEventListener(zm,I)},[]),o.jsx(wt.div,{...g,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:ot(e.onFocusCapture,V.onFocusCapture),onBlurCapture:ot(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:ot(e.onPointerDownCapture,F.onPointerDownCapture)})});Ay.displayName=uN;var hN="DismissableLayerBranch",Dy=v.forwardRef((e,t)=>{const r=v.useContext(Ly),a=v.useRef(null),c=Ot(t,a);return v.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(wt.div,{...e,ref:c})});Dy.displayName=hN;function mN(e,t=globalThis==null?void 0:globalThis.document){const r=ln(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){Oy(dN,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function pN(e,t=globalThis==null?void 0:globalThis.document){const r=ln(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&Oy(fN,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Xv(){const e=new CustomEvent(zm);document.dispatchEvent(e)}function Oy(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?uf(c,d):c.dispatchEvent(d)}var gN=Ay,vN=Dy,hn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},xN="Portal",Iy=v.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=v.useState(!1);hn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?cf.createPortal(o.jsx(wt.div,{...a,ref:t}),f):null});Iy.displayName=xN;function yN(e,t){return v.useReducer((r,a)=>t[r][a]??r,e)}var ha=e=>{const{present:t,children:r}=e,a=wN(t),c=typeof r=="function"?r({present:a.isPresent}):v.Children.only(r),d=Ot(a.ref,_N(c));return typeof r=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};ha.displayName="Presence";function wN(e){const[t,r]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=yN(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=Ed(a.current);d.current=p==="mounted"?w:"none"},[p]),hn(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,k=Ed(w);e?g("MOUNT"):k==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),hn(()=>{if(t){const w=b=>{const k=Ed(a.current).includes(b.animationName);b.target===t&&k&&fa.flushSync(()=>g("ANIMATION_END"))},_=b=>{b.target===t&&(d.current=Ed(a.current))};return t.addEventListener("animationstart",_),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{t.removeEventListener("animationstart",_),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),r(w)},[])}}function Ed(e){return(e==null?void 0:e.animationName)||"none"}function _N(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Uc({prop:e,defaultProp:t,onChange:r=()=>{}}){const[a,c]=bN({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:a,p=ln(r),g=v.useCallback(w=>{if(d){const b=typeof w=="function"?w(e):w;b!==e&&p(b)}else c(w)},[d,e,c,p]);return[f,g]}function bN({defaultProp:e,onChange:t}){const r=v.useState(e),[a]=r,c=v.useRef(a),d=ln(t);return v.useEffect(()=>{c.current!==a&&(d(a),c.current=a)},[a,c,d]),r}var NN="VisuallyHidden",eu=v.forwardRef((e,t)=>o.jsx(wt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));eu.displayName=NN;var SN=eu,Np="ToastProvider",[Sp,jN,EN]=Ry("Toast"),[Fy,zL]=Cl("Toast",[EN]),[CN,df]=Fy(Np),zy=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:f}=e,[p,g]=v.useState(null),[w,_]=v.useState(0),b=v.useRef(!1),S=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Np}\`. Expected non-empty \`string\`.`),o.jsx(Sp.Provider,{scope:t,children:o.jsx(CN,{scope:t,label:r,duration:a,swipeDirection:c,swipeThreshold:d,toastCount:w,viewport:p,onViewportChange:g,onToastAdd:v.useCallback(()=>_(k=>k+1),[]),onToastRemove:v.useCallback(()=>_(k=>k-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:S,children:f})})};zy.displayName=Np;var $y="ToastViewport",PN=["F8"],$m="toast.viewportPause",Bm="toast.viewportResume",By=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=PN,label:c="Notifications ({hotkey})",...d}=e,f=df($y,r),p=jN(r),g=v.useRef(null),w=v.useRef(null),_=v.useRef(null),b=v.useRef(null),S=Ot(t,b,f.onViewportChange),k=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=f.toastCount>0;v.useEffect(()=>{const C=T=>{var M;a.every(O=>T[O]||T.code===O)&&((M=b.current)==null||M.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[a]),v.useEffect(()=>{const C=g.current,T=b.current;if(P&&C&&T){const D=()=>{if(!f.isClosePausedRef.current){const V=new CustomEvent($m);T.dispatchEvent(V),f.isClosePausedRef.current=!0}},M=()=>{if(f.isClosePausedRef.current){const V=new CustomEvent(Bm);T.dispatchEvent(V),f.isClosePausedRef.current=!1}},O=V=>{!C.contains(V.relatedTarget)&&M()},F=()=>{C.contains(document.activeElement)||M()};return C.addEventListener("focusin",D),C.addEventListener("focusout",O),C.addEventListener("pointermove",D),C.addEventListener("pointerleave",F),window.addEventListener("blur",D),window.addEventListener("focus",M),()=>{C.removeEventListener("focusin",D),C.removeEventListener("focusout",O),C.removeEventListener("pointermove",D),C.removeEventListener("pointerleave",F),window.removeEventListener("blur",D),window.removeEventListener("focus",M)}}},[P,f.isClosePausedRef]);const j=v.useCallback(({tabbingDirection:C})=>{const D=p().map(M=>{const O=M.ref.current,F=[O,...BN(O)];return C==="forwards"?F:F.reverse()});return(C==="forwards"?D.reverse():D).flat()},[p]);return v.useEffect(()=>{const C=b.current;if(C){const T=D=>{var F,V,I;const M=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!M){const ee=document.activeElement,se=D.shiftKey;if(D.target===C&&se){(F=w.current)==null||F.focus();return}const pe=j({tabbingDirection:se?"backwards":"forwards"}),Oe=pe.findIndex(ve=>ve===ee);gm(pe.slice(Oe+1))?D.preventDefault():se?(V=w.current)==null||V.focus():(I=_.current)==null||I.focus()}};return C.addEventListener("keydown",T),()=>C.removeEventListener("keydown",T)}},[p,j]),o.jsxs(vN,{ref:g,role:"region","aria-label":c.replace("{hotkey}",k),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&o.jsx(Um,{ref:w,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"forwards"});gm(C)}}),o.jsx(Sp.Slot,{scope:r,children:o.jsx(wt.ol,{tabIndex:-1,...d,ref:S})}),P&&o.jsx(Um,{ref:_,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"backwards"});gm(C)}})]})});By.displayName=$y;var Uy="ToastFocusProxy",Um=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...c}=e,d=df(Uy,r);return o.jsx(eu,{"aria-hidden":!0,tabIndex:0,...c,ref:t,style:{position:"fixed"},onFocus:f=>{var w;const p=f.relatedTarget;!((w=d.viewport)!=null&&w.contains(p))&&a()}})});Um.displayName=Uy;var ff="Toast",TN="toast.swipeStart",kN="toast.swipeMove",MN="toast.swipeCancel",RN="toast.swipeEnd",Hy=v.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:c,onOpenChange:d,...f}=e,[p=!0,g]=Uc({prop:a,defaultProp:c,onChange:d});return o.jsx(ha,{present:r||p,children:o.jsx(DN,{open:p,...f,ref:t,onClose:()=>g(!1),onPause:ln(e.onPause),onResume:ln(e.onResume),onSwipeStart:ot(e.onSwipeStart,w=>{w.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ot(e.onSwipeMove,w=>{const{x:_,y:b}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","move"),w.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:ot(e.onSwipeCancel,w=>{w.currentTarget.setAttribute("data-swipe","cancel"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ot(e.onSwipeEnd,w=>{const{x:_,y:b}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","end"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),g(!1)})})})});Hy.displayName=ff;var[LN,AN]=Fy(ff,{onClose(){}}),DN=v.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:c,open:d,onClose:f,onEscapeKeyDown:p,onPause:g,onResume:w,onSwipeStart:_,onSwipeMove:b,onSwipeCancel:S,onSwipeEnd:k,...P}=e,j=df(ff,r),[C,T]=v.useState(null),D=Ot(t,ve=>T(ve)),M=v.useRef(null),O=v.useRef(null),F=c||j.duration,V=v.useRef(0),I=v.useRef(F),ee=v.useRef(0),{onToastAdd:se,onToastRemove:G}=j,Q=ln(()=>{var de;(C==null?void 0:C.contains(document.activeElement))&&((de=j.viewport)==null||de.focus()),f()}),pe=v.useCallback(ve=>{!ve||ve===1/0||(window.clearTimeout(ee.current),V.current=new Date().getTime(),ee.current=window.setTimeout(Q,ve))},[Q]);v.useEffect(()=>{const ve=j.viewport;if(ve){const de=()=>{pe(I.current),w==null||w()},ye=()=>{const be=new Date().getTime()-V.current;I.current=I.current-be,window.clearTimeout(ee.current),g==null||g()};return ve.addEventListener($m,ye),ve.addEventListener(Bm,de),()=>{ve.removeEventListener($m,ye),ve.removeEventListener(Bm,de)}}},[j.viewport,F,g,w,pe]),v.useEffect(()=>{d&&!j.isClosePausedRef.current&&pe(F)},[d,F,j.isClosePausedRef,pe]),v.useEffect(()=>(se(),()=>G()),[se,G]);const Oe=v.useMemo(()=>C?Ky(C):null,[C]);return j.viewport?o.jsxs(o.Fragment,{children:[Oe&&o.jsx(ON,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:Oe}),o.jsx(LN,{scope:r,onClose:Q,children:fa.createPortal(o.jsx(Sp.ItemSlot,{scope:r,children:o.jsx(gN,{asChild:!0,onEscapeKeyDown:ot(p,()=>{j.isFocusedToastEscapeKeyDownRef.current||Q(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(wt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":j.swipeDirection,...P,ref:D,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ot(e.onKeyDown,ve=>{ve.key==="Escape"&&(p==null||p(ve.nativeEvent),ve.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:ot(e.onPointerDown,ve=>{ve.button===0&&(M.current={x:ve.clientX,y:ve.clientY})}),onPointerMove:ot(e.onPointerMove,ve=>{if(!M.current)return;const de=ve.clientX-M.current.x,ye=ve.clientY-M.current.y,be=!!O.current,W=["left","right"].includes(j.swipeDirection),ge=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ie=W?ge(0,de):0,z=W?0:ge(0,ye),J=ve.pointerType==="touch"?10:2,X={x:ie,y:z},he={originalEvent:ve,delta:X};be?(O.current=X,Cd(kN,b,he,{discrete:!1})):Qv(X,j.swipeDirection,J)?(O.current=X,Cd(TN,_,he,{discrete:!1}),ve.target.setPointerCapture(ve.pointerId)):(Math.abs(de)>J||Math.abs(ye)>J)&&(M.current=null)}),onPointerUp:ot(e.onPointerUp,ve=>{const de=O.current,ye=ve.target;if(ye.hasPointerCapture(ve.pointerId)&&ye.releasePointerCapture(ve.pointerId),O.current=null,M.current=null,de){const be=ve.currentTarget,W={originalEvent:ve,delta:de};Qv(de,j.swipeDirection,j.swipeThreshold)?Cd(RN,k,W,{discrete:!0}):Cd(MN,S,W,{discrete:!0}),be.addEventListener("click",ge=>ge.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),ON=e=>{const{__scopeToast:t,children:r,...a}=e,c=df(ff,t),[d,f]=v.useState(!1),[p,g]=v.useState(!1);return zN(()=>f(!0)),v.useEffect(()=>{const w=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(w)},[]),p?null:o.jsx(Iy,{asChild:!0,children:o.jsx(eu,{...a,children:d&&o.jsxs(o.Fragment,{children:[c.label," ",r]})})})},IN="ToastTitle",Wy=v.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return o.jsx(wt.div,{...a,ref:t})});Wy.displayName=IN;var FN="ToastDescription",Vy=v.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return o.jsx(wt.div,{...a,ref:t})});Vy.displayName=FN;var Zy="ToastAction",qy=v.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?o.jsx(Yy,{altText:r,asChild:!0,children:o.jsx(jp,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Zy}\`. Expected non-empty \`string\`.`),null)});qy.displayName=Zy;var Gy="ToastClose",jp=v.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,c=AN(Gy,r);return o.jsx(Yy,{asChild:!0,children:o.jsx(wt.button,{type:"button",...a,ref:t,onClick:ot(e.onClick,c.onClose)})})});jp.displayName=Gy;var Yy=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...c}=e;return o.jsx(wt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...c,ref:t})});function Ky(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),$N(a)){const c=a.ariaHidden||a.hidden||a.style.display==="none",d=a.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const f=a.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...Ky(a))}}),t}function Cd(e,t,r,{discrete:a}){const c=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?uf(c,d):c.dispatchEvent(d)}var Qv=(e,t,r=0)=>{const a=Math.abs(e.x),c=Math.abs(e.y),d=a>c;return t==="left"||t==="right"?d&&a>r:!d&&c>r};function zN(e=()=>{}){const t=ln(e);hn(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function $N(e){return e.nodeType===e.ELEMENT_NODE}function BN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function gm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var UN=zy,Xy=By,Qy=Hy,Jy=Wy,ew=Vy,tw=qy,nw=jp;function rw(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(r=rw(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function sw(){for(var e,t,r=0,a="",c=arguments.length;r<c;r++)(e=arguments[r])&&(t=rw(e))&&(a&&(a+=" "),a+=t);return a}const Jv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ex=sw,tu=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return ex(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:c,defaultVariants:d}=t,f=Object.keys(c).map(w=>{const _=r==null?void 0:r[w],b=d==null?void 0:d[w];if(_===null)return null;const S=Jv(_)||Jv(b);return c[w][S]}),p=r&&Object.entries(r).reduce((w,_)=>{let[b,S]=_;return S===void 0||(w[b]=S),w},{}),g=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((w,_)=>{let{class:b,className:S,...k}=_;return Object.entries(k).every(P=>{let[j,C]=P;return Array.isArray(C)?C.includes({...d,...p}[j]):{...d,...p}[j]===C})?[...w,b,S]:w},[]);return ex(e,f,g,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ow=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:f,...p},g)=>v.createElement("svg",{ref:g,...WN,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:ow("lucide",c),...p},[...f.map(([w,_])=>v.createElement(w,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(e,t)=>{const r=v.forwardRef(({className:a,...c},d)=>v.createElement(VN,{ref:d,iconNode:t,className:ow(`lucide-${HN(e)}`,a),...c}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=it("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=it("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=it("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=it("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=it("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=it("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=it("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=it("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=it("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=it("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=it("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=it("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=it("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=it("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=it("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=it("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=it("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=it("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=it("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=it("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=it("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=it("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=it("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=it("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=it("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=it("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=it("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=it("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=it("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=it("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=it("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=it("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=it("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=it("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=it("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=it("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=it("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=it("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=it("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=it("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=it("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=it("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=it("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=it("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=it("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=it("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=it("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=it("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=it("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kp="-",nS=e=>{const t=sS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:f=>{const p=f.split(kp);return p[0]===""&&p.length!==1&&p.shift(),gw(p,t)||rS(f)},getConflictingClassGroupIds:(f,p)=>{const g=r[f]||[];return p&&a[f]?[...g,...a[f]]:g}}},gw=(e,t)=>{var f;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),c=a?gw(e.slice(1),a):void 0;if(c)return c;if(t.validators.length===0)return;const d=e.join(kp);return(f=t.validators.find(({validator:p})=>p(d)))==null?void 0:f.classGroupId},ox=/^\[(.+)\]$/,rS=e=>{if(ox.test(e)){const t=ox.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},sS=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return iS(Object.entries(e.classGroups),r).forEach(([d,f])=>{Zm(f,a,d,t)}),a},Zm=(e,t,r,a)=>{e.forEach(c=>{if(typeof c=="string"){const d=c===""?t:ix(t,c);d.classGroupId=r;return}if(typeof c=="function"){if(oS(c)){Zm(c(a),t,r,a);return}t.validators.push({validator:c,classGroupId:r});return}Object.entries(c).forEach(([d,f])=>{Zm(f,ix(t,d),r,a)})})},ix=(e,t)=>{let r=e;return t.split(kp).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},oS=e=>e.isThemeGetter,iS=(e,t)=>t?e.map(([r,a])=>{const c=a.map(d=>typeof d=="string"?t+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([f,p])=>[t+f,p])):d);return[r,c]}):e,aS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const c=(d,f)=>{r.set(d,f),t++,t>e&&(t=0,a=r,r=new Map)};return{get(d){let f=r.get(d);if(f!==void 0)return f;if((f=a.get(d))!==void 0)return c(d,f),f},set(d,f){r.has(d)?r.set(d,f):c(d,f)}}},vw="!",lS=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,c=t[0],d=t.length,f=p=>{const g=[];let w=0,_=0,b;for(let C=0;C<p.length;C++){let T=p[C];if(w===0){if(T===c&&(a||p.slice(C,C+d)===t)){g.push(p.slice(_,C)),_=C+d;continue}if(T==="/"){b=C;continue}}T==="["?w++:T==="]"&&w--}const S=g.length===0?p:p.substring(_),k=S.startsWith(vw),P=k?S.substring(1):S,j=b&&b>_?b-_:void 0;return{modifiers:g,hasImportantModifier:k,baseClassName:P,maybePostfixModifierPosition:j}};return r?p=>r({className:p,parseClassName:f}):f},cS=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},uS=e=>({cache:aS(e.cacheSize),parseClassName:lS(e),...nS(e)}),dS=/\s+/,fS=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:c}=t,d=[],f=e.trim().split(dS);let p="";for(let g=f.length-1;g>=0;g-=1){const w=f[g],{modifiers:_,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:k}=r(w);let P=!!k,j=a(P?S.substring(0,k):S);if(!j){if(!P){p=w+(p.length>0?" "+p:p);continue}if(j=a(S),!j){p=w+(p.length>0?" "+p:p);continue}P=!1}const C=cS(_).join(":"),T=b?C+vw:C,D=T+j;if(d.includes(D))continue;d.push(D);const M=c(j,P);for(let O=0;O<M.length;++O){const F=M[O];d.push(T+F)}p=w+(p.length>0?" "+p:p)}return p};function hS(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=xw(t))&&(a&&(a+=" "),a+=r);return a}const xw=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=xw(e[a]))&&(r&&(r+=" "),r+=t);return r};function mS(e,...t){let r,a,c,d=f;function f(g){const w=t.reduce((_,b)=>b(_),e());return r=uS(w),a=r.cache.get,c=r.cache.set,d=p,p(g)}function p(g){const w=a(g);if(w)return w;const _=fS(g,r);return c(g,_),_}return function(){return d(hS.apply(null,arguments))}}const rn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},yw=/^\[(?:([a-z-]+):)?(.+)\]$/i,pS=/^\d+\/\d+$/,gS=new Set(["px","full","screen"]),vS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_S=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ao=e=>ul(e)||gS.has(e)||pS.test(e),Qo=e=>Pl(e,"length",TS),ul=e=>!!e&&!Number.isNaN(Number(e)),ym=e=>Pl(e,"number",ul),jc=e=>!!e&&Number.isInteger(Number(e)),bS=e=>e.endsWith("%")&&ul(e.slice(0,-1)),Ct=e=>yw.test(e),Jo=e=>vS.test(e),NS=new Set(["length","size","percentage"]),SS=e=>Pl(e,NS,ww),jS=e=>Pl(e,"position",ww),ES=new Set(["image","url"]),CS=e=>Pl(e,ES,MS),PS=e=>Pl(e,"",kS),Ec=()=>!0,Pl=(e,t,r)=>{const a=yw.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},TS=e=>xS.test(e)&&!yS.test(e),ww=()=>!1,kS=e=>wS.test(e),MS=e=>_S.test(e),RS=()=>{const e=rn("colors"),t=rn("spacing"),r=rn("blur"),a=rn("brightness"),c=rn("borderColor"),d=rn("borderRadius"),f=rn("borderSpacing"),p=rn("borderWidth"),g=rn("contrast"),w=rn("grayscale"),_=rn("hueRotate"),b=rn("invert"),S=rn("gap"),k=rn("gradientColorStops"),P=rn("gradientColorStopPositions"),j=rn("inset"),C=rn("margin"),T=rn("opacity"),D=rn("padding"),M=rn("saturate"),O=rn("scale"),F=rn("sepia"),V=rn("skew"),I=rn("space"),ee=rn("translate"),se=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",Ct,t],pe=()=>[Ct,t],Oe=()=>["",ao,Qo],ve=()=>["auto",ul,Ct],de=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ye=()=>["solid","dashed","dotted","double","none"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],ge=()=>["","0",Ct],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[ul,Ct];return{cacheSize:500,separator:":",theme:{colors:[Ec],spacing:[ao,Qo],blur:["none","",Jo,Ct],brightness:z(),borderColor:[e],borderRadius:["none","","full",Jo,Ct],borderSpacing:pe(),borderWidth:Oe(),contrast:z(),grayscale:ge(),hueRotate:z(),invert:ge(),gap:pe(),gradientColorStops:[e],gradientColorStopPositions:[bS,Qo],inset:Q(),margin:Q(),opacity:z(),padding:pe(),saturate:z(),scale:z(),sepia:ge(),skew:z(),space:pe(),translate:pe()},classGroups:{aspect:[{aspect:["auto","square","video",Ct]}],container:["container"],columns:[{columns:[Jo]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...de(),Ct]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:se()}],"overscroll-x":[{"overscroll-x":se()}],"overscroll-y":[{"overscroll-y":se()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jc,Ct]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ct]}],grow:[{grow:ge()}],shrink:[{shrink:ge()}],order:[{order:["first","last","none",jc,Ct]}],"grid-cols":[{"grid-cols":[Ec]}],"col-start-end":[{col:["auto",{span:["full",jc,Ct]},Ct]}],"col-start":[{"col-start":ve()}],"col-end":[{"col-end":ve()}],"grid-rows":[{"grid-rows":[Ec]}],"row-start-end":[{row:["auto",{span:[jc,Ct]},Ct]}],"row-start":[{"row-start":ve()}],"row-end":[{"row-end":ve()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ct]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ct,t]}],"min-w":[{"min-w":[Ct,t,"min","max","fit"]}],"max-w":[{"max-w":[Ct,t,"none","full","min","max","fit","prose",{screen:[Jo]},Jo]}],h:[{h:[Ct,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ct,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ct,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ct,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jo,Qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ym]}],"font-family":[{font:[Ec]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ct]}],"line-clamp":[{"line-clamp":["none",ul,ym]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ao,Ct]}],"list-image":[{"list-image":["none",Ct]}],"list-style-type":[{list:["none","disc","decimal",Ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ao,Qo]}],"underline-offset":[{"underline-offset":["auto",ao,Ct]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:pe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...de(),jS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",SS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},CS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...ye(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:ye()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...ye()]}],"outline-offset":[{"outline-offset":[ao,Ct]}],"outline-w":[{outline:[ao,Qo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[ao,Qo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jo,PS]}],"shadow-color":[{shadow:[Ec]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":be()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",Jo,Ct]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[b]}],saturate:[{saturate:[M]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ct]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ct]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[jc,Ct]}],"translate-x":[{"translate-x":[ee]}],"translate-y":[{"translate-y":[ee]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ct]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":pe()}],"scroll-mx":[{"scroll-mx":pe()}],"scroll-my":[{"scroll-my":pe()}],"scroll-ms":[{"scroll-ms":pe()}],"scroll-me":[{"scroll-me":pe()}],"scroll-mt":[{"scroll-mt":pe()}],"scroll-mr":[{"scroll-mr":pe()}],"scroll-mb":[{"scroll-mb":pe()}],"scroll-ml":[{"scroll-ml":pe()}],"scroll-p":[{"scroll-p":pe()}],"scroll-px":[{"scroll-px":pe()}],"scroll-py":[{"scroll-py":pe()}],"scroll-ps":[{"scroll-ps":pe()}],"scroll-pe":[{"scroll-pe":pe()}],"scroll-pt":[{"scroll-pt":pe()}],"scroll-pr":[{"scroll-pr":pe()}],"scroll-pb":[{"scroll-pb":pe()}],"scroll-pl":[{"scroll-pl":pe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ao,Qo,ym]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LS=mS(RS);function mt(...e){return LS(sw(e))}const AS=UN,_w=v.forwardRef(({className:e,...t},r)=>o.jsx(Xy,{ref:r,className:mt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_w.displayName=Xy.displayName;const DS=tu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),bw=v.forwardRef(({className:e,variant:t,...r},a)=>o.jsx(Qy,{ref:a,className:mt(DS({variant:t}),e),...r}));bw.displayName=Qy.displayName;const OS=v.forwardRef(({className:e,...t},r)=>o.jsx(tw,{ref:r,className:mt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));OS.displayName=tw.displayName;const Nw=v.forwardRef(({className:e,...t},r)=>o.jsx(nw,{ref:r,className:mt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(ru,{className:"h-4 w-4"})}));Nw.displayName=nw.displayName;const Sw=v.forwardRef(({className:e,...t},r)=>o.jsx(Jy,{ref:r,className:mt("text-sm font-semibold",e),...t}));Sw.displayName=Jy.displayName;const jw=v.forwardRef(({className:e,...t},r)=>o.jsx(ew,{ref:r,className:mt("text-sm opacity-90",e),...t}));jw.displayName=ew.displayName;function IS(){const{toasts:e}=vo();return o.jsxs(AS,{children:[e.map(function({id:t,title:r,description:a,action:c,...d}){return o.jsxs(bw,{...d,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(Sw,{children:r}),a&&o.jsx(jw,{children:a})]}),c,o.jsx(Nw,{})]},t)}),o.jsx(_w,{})]})}var Pd={},ax;function FS(){if(ax)return Pd;ax=1;var e=Ty();return Pd.createRoot=e.createRoot,Pd.hydrateRoot=e.hydrateRoot,Pd}var zS=FS(),lx=["light","dark"],$S="(prefers-color-scheme: dark)",BS=v.createContext(void 0),US={setTheme:e=>{},themes:[]},HS=()=>{var e;return(e=v.useContext(BS))!=null?e:US};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:c,defaultTheme:d,value:f,attrs:p,nonce:g})=>{let w=d==="system",_=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${p.map(P=>`'${P}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,b=c?lx.includes(d)&&d?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${d}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",S=(P,j=!1,C=!0)=>{let T=f?f[P]:P,D=j?P+"|| ''":`'${T}'`,M="";return c&&C&&!j&&lx.includes(P)&&(M+=`d.style.colorScheme = '${P}';`),r==="class"?j||T?M+=`c.add(${D})`:M+="null":T&&(M+=`d[s](n,${D})`),M},k=e?`!function(){${_}${S(e)}}()`:a?`!function(){try{${_}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${w})){var t='${$S}',m=window.matchMedia(t);if(m.media!==t||m.matches){${S("dark")}}else{${S("light")}}}else if(e){${f?`var x=${JSON.stringify(f)};`:""}${S(f?"x[e]":"e",!0)}}${w?"":"else{"+S(d,!1,!1)+"}"}${b}}catch(e){}}()`:`!function(){try{${_}var e=localStorage.getItem('${t}');if(e){${f?`var x=${JSON.stringify(f)};`:""}${S(f?"x[e]":"e",!0)}}else{${S(d,!1,!1)};}${b}}catch(t){}}();`;return v.createElement("script",{nonce:g,dangerouslySetInnerHTML:{__html:k}})});var WS=e=>{switch(e){case"success":return qS;case"info":return YS;case"warning":return GS;case"error":return KS;default:return null}},VS=Array(12).fill(0),ZS=({visible:e})=>He.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},He.createElement("div",{className:"sonner-spinner"},VS.map((t,r)=>He.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),qS=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GS=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),YS=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),KS=He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XS=()=>{let[e,t]=He.useState(document.hidden);return He.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},qm=1,QS=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...a}=e,c=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:qm++,d=this.toasts.find(p=>p.id===c),f=e.dismissible===void 0?!0:e.dismissible;return d?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...e,id:c,title:r}),{...p,...e,id:c,dismissible:f,title:r}):p):this.addToast({title:r,...a,dismissible:f,id:c}),c},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=e instanceof Promise?e:e(),c=r!==void 0;return a.then(async d=>{if(ej(d)&&!d.ok){c=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:r,type:"error",message:f,description:p})}else if(t.success!==void 0){c=!1;let f=typeof t.success=="function"?await t.success(d):t.success,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"success",message:f,description:p})}}).catch(async d=>{if(t.error!==void 0){c=!1;let f=typeof t.error=="function"?await t.error(d):t.error,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"error",message:f,description:p})}}).finally(()=>{var d;c&&(this.dismiss(r),r=void 0),(d=t.finally)==null||d.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||qm++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Pr=new QS,JS=(e,t)=>{let r=(t==null?void 0:t.id)||qm++;return Pr.addToast({title:e,...t,id:r}),r},ej=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",tj=JS,nj=()=>Pr.toasts;Object.assign(tj,{success:Pr.success,info:Pr.info,warning:Pr.warning,error:Pr.error,custom:Pr.custom,message:Pr.message,promise:Pr.promise,dismiss:Pr.dismiss,loading:Pr.loading},{getHistory:nj});function rj(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}rj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Td(e){return e.label!==void 0}var sj=3,oj="32px",ij=4e3,aj=356,lj=14,cj=20,uj=200;function dj(...e){return e.filter(Boolean).join(" ")}var fj=e=>{var t,r,a,c,d,f,p,g,w,_;let{invert:b,toast:S,unstyled:k,interacting:P,setHeights:j,visibleToasts:C,heights:T,index:D,toasts:M,expanded:O,removeToast:F,defaultRichColors:V,closeButton:I,style:ee,cancelButtonStyle:se,actionButtonStyle:G,className:Q="",descriptionClassName:pe="",duration:Oe,position:ve,gap:de,loadingIcon:ye,expandByDefault:be,classNames:W,icons:ge,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:z,cn:J}=e,[X,he]=He.useState(!1),[ce,U]=He.useState(!1),[K,we]=He.useState(!1),[Te,$e]=He.useState(!1),[Ye,Ge]=He.useState(0),[at,Mt]=He.useState(0),Ne=He.useRef(null),Z=He.useRef(null),me=D===0,Se=D+1<=C,Ee=S.type,We=S.dismissible!==!1,tt=S.className||"",Qe=S.descriptionClassName||"",Ut=He.useMemo(()=>T.findIndex(oe=>oe.toastId===S.id)||0,[T,S.id]),Nt=He.useMemo(()=>{var oe;return(oe=S.closeButton)!=null?oe:I},[S.closeButton,I]),bt=He.useMemo(()=>S.duration||Oe||ij,[S.duration,Oe]),Rt=He.useRef(0),Ht=He.useRef(0),Vt=He.useRef(0),B=He.useRef(null),[je,Le]=ve.split("-"),Me=He.useMemo(()=>T.reduce((oe,te,le)=>le>=Ut?oe:oe+te.height,0),[T,Ut]),ze=XS(),Ve=S.invert||b,Ue=Ee==="loading";Ht.current=He.useMemo(()=>Ut*de+Me,[Ut,Me]),He.useEffect(()=>{he(!0)},[]),He.useLayoutEffect(()=>{if(!X)return;let oe=Z.current,te=oe.style.height;oe.style.height="auto";let le=oe.getBoundingClientRect().height;oe.style.height=te,Mt(le),j(_e=>_e.find(Be=>Be.toastId===S.id)?_e.map(Be=>Be.toastId===S.id?{...Be,height:le}:Be):[{toastId:S.id,height:le,position:S.position},..._e])},[X,S.title,S.description,j,S.id]);let Ke=He.useCallback(()=>{U(!0),Ge(Ht.current),j(oe=>oe.filter(te=>te.toastId!==S.id)),setTimeout(()=>{F(S)},uj)},[S,F,j,Ht]);He.useEffect(()=>{if(S.promise&&Ee==="loading"||S.duration===1/0||S.type==="loading")return;let oe,te=bt;return O||P||z&&ze?(()=>{if(Vt.current<Rt.current){let le=new Date().getTime()-Rt.current;te=te-le}Vt.current=new Date().getTime()})():te!==1/0&&(Rt.current=new Date().getTime(),oe=setTimeout(()=>{var le;(le=S.onAutoClose)==null||le.call(S,S),Ke()},te)),()=>clearTimeout(oe)},[O,P,be,S,bt,Ke,S.promise,Ee,z,ze]),He.useEffect(()=>{let oe=Z.current;if(oe){let te=oe.getBoundingClientRect().height;return Mt(te),j(le=>[{toastId:S.id,height:te,position:S.position},...le]),()=>j(le=>le.filter(_e=>_e.toastId!==S.id))}},[j,S.id]),He.useEffect(()=>{S.delete&&Ke()},[Ke,S.delete]);function Ie(){return ge!=null&&ge.loading?He.createElement("div",{className:"sonner-loader","data-visible":Ee==="loading"},ge.loading):ye?He.createElement("div",{className:"sonner-loader","data-visible":Ee==="loading"},ye):He.createElement(ZS,{visible:Ee==="loading"})}return He.createElement("li",{"aria-live":S.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Z,className:J(Q,tt,W==null?void 0:W.toast,(t=S==null?void 0:S.classNames)==null?void 0:t.toast,W==null?void 0:W.default,W==null?void 0:W[Ee],(r=S==null?void 0:S.classNames)==null?void 0:r[Ee]),"data-sonner-toast":"","data-rich-colors":(a=S.richColors)!=null?a:V,"data-styled":!(S.jsx||S.unstyled||k),"data-mounted":X,"data-promise":!!S.promise,"data-removed":ce,"data-visible":Se,"data-y-position":je,"data-x-position":Le,"data-index":D,"data-front":me,"data-swiping":K,"data-dismissible":We,"data-type":Ee,"data-invert":Ve,"data-swipe-out":Te,"data-expanded":!!(O||be&&X),style:{"--index":D,"--toasts-before":D,"--z-index":M.length-D,"--offset":`${ce?Ye:Ht.current}px`,"--initial-height":be?"auto":`${at}px`,...ee,...S.style},onPointerDown:oe=>{Ue||!We||(Ne.current=new Date,Ge(Ht.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(we(!0),B.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,te,le,_e;if(Te||!We)return;B.current=null;let Be=Number(((oe=Z.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ft=new Date().getTime()-((te=Ne.current)==null?void 0:te.getTime()),st=Math.abs(Be)/Ft;if(Math.abs(Be)>=cj||st>.11){Ge(Ht.current),(le=S.onDismiss)==null||le.call(S,S),Ke(),$e(!0);return}(_e=Z.current)==null||_e.style.setProperty("--swipe-amount","0px"),we(!1)},onPointerMove:oe=>{var te;if(!B.current||!We)return;let le=oe.clientY-B.current.y,_e=oe.clientX-B.current.x,Be=(je==="top"?Math.min:Math.max)(0,le),Ft=oe.pointerType==="touch"?10:2;Math.abs(Be)>Ft?(te=Z.current)==null||te.style.setProperty("--swipe-amount",`${le}px`):Math.abs(_e)>Ft&&(B.current=null)}},Nt&&!S.jsx?He.createElement("button",{"aria-label":ie,"data-disabled":Ue,"data-close-button":!0,onClick:Ue||!We?()=>{}:()=>{var oe;Ke(),(oe=S.onDismiss)==null||oe.call(S,S)},className:J(W==null?void 0:W.closeButton,(c=S==null?void 0:S.classNames)==null?void 0:c.closeButton)},He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},He.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),He.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,S.jsx||He.isValidElement(S.title)?S.jsx||S.title:He.createElement(He.Fragment,null,Ee||S.icon||S.promise?He.createElement("div",{"data-icon":"",className:J(W==null?void 0:W.icon,(d=S==null?void 0:S.classNames)==null?void 0:d.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||Ie():null,S.type!=="loading"?S.icon||(ge==null?void 0:ge[Ee])||WS(Ee):null):null,He.createElement("div",{"data-content":"",className:J(W==null?void 0:W.content,(f=S==null?void 0:S.classNames)==null?void 0:f.content)},He.createElement("div",{"data-title":"",className:J(W==null?void 0:W.title,(p=S==null?void 0:S.classNames)==null?void 0:p.title)},S.title),S.description?He.createElement("div",{"data-description":"",className:J(pe,Qe,W==null?void 0:W.description,(g=S==null?void 0:S.classNames)==null?void 0:g.description)},S.description):null),He.isValidElement(S.cancel)?S.cancel:S.cancel&&Td(S.cancel)?He.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||se,onClick:oe=>{var te,le;Td(S.cancel)&&We&&((le=(te=S.cancel).onClick)==null||le.call(te,oe),Ke())},className:J(W==null?void 0:W.cancelButton,(w=S==null?void 0:S.classNames)==null?void 0:w.cancelButton)},S.cancel.label):null,He.isValidElement(S.action)?S.action:S.action&&Td(S.action)?He.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||G,onClick:oe=>{var te,le;Td(S.action)&&(oe.defaultPrevented||((le=(te=S.action).onClick)==null||le.call(te,oe),Ke()))},className:J(W==null?void 0:W.actionButton,(_=S==null?void 0:S.classNames)==null?void 0:_.actionButton)},S.action.label):null))};function cx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var hj=e=>{let{invert:t,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,theme:g="light",richColors:w,duration:_,style:b,visibleToasts:S=sj,toastOptions:k,dir:P=cx(),gap:j=lj,loadingIcon:C,icons:T,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:M,cn:O=dj}=e,[F,V]=He.useState([]),I=He.useMemo(()=>Array.from(new Set([r].concat(F.filter(z=>z.position).map(z=>z.position)))),[F,r]),[ee,se]=He.useState([]),[G,Q]=He.useState(!1),[pe,Oe]=He.useState(!1),[ve,de]=He.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ye=He.useRef(null),be=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),W=He.useRef(null),ge=He.useRef(!1),ie=He.useCallback(z=>{var J;(J=F.find(X=>X.id===z.id))!=null&&J.delete||Pr.dismiss(z.id),V(X=>X.filter(({id:he})=>he!==z.id))},[F]);return He.useEffect(()=>Pr.subscribe(z=>{if(z.dismiss){V(J=>J.map(X=>X.id===z.id?{...X,delete:!0}:X));return}setTimeout(()=>{cf.flushSync(()=>{V(J=>{let X=J.findIndex(he=>he.id===z.id);return X!==-1?[...J.slice(0,X),{...J[X],...z},...J.slice(X+1)]:[z,...J]})})})}),[]),He.useEffect(()=>{if(g!=="system"){de(g);return}g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?de("dark"):de("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{de(z?"dark":"light")})},[g]),He.useEffect(()=>{F.length<=1&&Q(!1)},[F]),He.useEffect(()=>{let z=J=>{var X,he;a.every(ce=>J[ce]||J.code===ce)&&(Q(!0),(X=ye.current)==null||X.focus()),J.code==="Escape"&&(document.activeElement===ye.current||(he=ye.current)!=null&&he.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[a]),He.useEffect(()=>{if(ye.current)return()=>{W.current&&(W.current.focus({preventScroll:!0}),W.current=null,ge.current=!1)}},[ye.current]),F.length?He.createElement("section",{"aria-label":`${D} ${be}`,tabIndex:-1},I.map((z,J)=>{var X;let[he,ce]=z.split("-");return He.createElement("ol",{key:z,dir:P==="auto"?cx():P,tabIndex:-1,ref:ye,className:f,"data-sonner-toaster":!0,"data-theme":ve,"data-y-position":he,"data-x-position":ce,style:{"--front-toast-height":`${((X=ee[0])==null?void 0:X.height)||0}px`,"--offset":typeof p=="number"?`${p}px`:p||oj,"--width":`${aj}px`,"--gap":`${j}px`,...b},onBlur:U=>{ge.current&&!U.currentTarget.contains(U.relatedTarget)&&(ge.current=!1,W.current&&(W.current.focus({preventScroll:!0}),W.current=null))},onFocus:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||ge.current||(ge.current=!0,W.current=U.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{pe||Q(!1)},onPointerDown:U=>{U.target instanceof HTMLElement&&U.target.dataset.dismissible==="false"||Oe(!0)},onPointerUp:()=>Oe(!1)},F.filter(U=>!U.position&&J===0||U.position===z).map((U,K)=>{var we,Te;return He.createElement(fj,{key:U.id,icons:T,index:K,toast:U,defaultRichColors:w,duration:(we=k==null?void 0:k.duration)!=null?we:_,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:t,visibleToasts:S,closeButton:(Te=k==null?void 0:k.closeButton)!=null?Te:d,interacting:pe,position:z,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,removeToast:ie,toasts:F.filter($e=>$e.position==U.position),heights:ee.filter($e=>$e.position==U.position),setHeights:se,expandByDefault:c,gap:j,loadingIcon:C,expanded:G,pauseWhenPageIsHidden:M,cn:O})}))})):null};const mj=({...e})=>{const{theme:t="system"}=HS();return o.jsx(hj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function pj(e,t=[]){let r=[];function a(d,f){const p=v.createContext(f),g=r.length;r=[...r,f];const w=b=>{var T;const{scope:S,children:k,...P}=b,j=((T=S==null?void 0:S[e])==null?void 0:T[g])||p,C=v.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:k})};w.displayName=d+"Provider";function _(b,S){var j;const k=((j=S==null?void 0:S[e])==null?void 0:j[g])||p,P=v.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[w,_]}const c=()=>{const d=r.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,gj(c,...t)]}function gj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var vj="DismissableLayer",Gm="dismissableLayer.update",xj="dismissableLayer.pointerDownOutside",yj="dismissableLayer.focusOutside",ux,Ew=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mp=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(Ew),[_,b]=v.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=v.useState({}),P=Ot(t,I=>b(I)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(C),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=T,F=bj(I=>{const ee=I.target,se=[...w.branches].some(G=>G.contains(ee));!O||se||(c==null||c(I),f==null||f(I),I.defaultPrevented||p==null||p())},S),V=Nj(I=>{const ee=I.target;[...w.branches].some(G=>G.contains(ee))||(d==null||d(I),f==null||f(I),I.defaultPrevented||p==null||p())},S);return bp(I=>{D===w.layers.size-1&&(a==null||a(I),!I.defaultPrevented&&p&&(I.preventDefault(),p()))},S),v.useEffect(()=>{if(_)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(ux=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),dx(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=ux)}},[_,S,r,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),dx())},[_,w]),v.useEffect(()=>{const I=()=>k({});return document.addEventListener(Gm,I),()=>document.removeEventListener(Gm,I)},[]),o.jsx(wt.div,{...g,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:ot(e.onFocusCapture,V.onFocusCapture),onBlurCapture:ot(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:ot(e.onPointerDownCapture,F.onPointerDownCapture)})});Mp.displayName=vj;var wj="DismissableLayerBranch",_j=v.forwardRef((e,t)=>{const r=v.useContext(Ew),a=v.useRef(null),c=Ot(t,a);return v.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(wt.div,{...e,ref:c})});_j.displayName=wj;function bj(e,t=globalThis==null?void 0:globalThis.document){const r=ln(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){Cw(xj,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Nj(e,t=globalThis==null?void 0:globalThis.document){const r=ln(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&Cw(yj,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function dx(){const e=new CustomEvent(Gm);document.dispatchEvent(e)}function Cw(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?uf(c,d):c.dispatchEvent(d)}var Sj=Py.useId||(()=>{}),jj=0;function dl(e){const[t,r]=v.useState(Sj());return hn(()=>{r(a=>a??String(jj++))},[e]),t?`radix-${t}`:""}const Ej=["top","right","bottom","left"],hi=Math.min,Tr=Math.max,Gd=Math.round,kd=Math.floor,mi=e=>({x:e,y:e}),Cj={left:"right",right:"left",bottom:"top",top:"bottom"},Pj={start:"end",end:"start"};function Ym(e,t,r){return Tr(e,hi(t,r))}function mo(e,t){return typeof e=="function"?e(t):e}function po(e){return e.split("-")[0]}function Tl(e){return e.split("-")[1]}function Rp(e){return e==="x"?"y":"x"}function Lp(e){return e==="y"?"height":"width"}function pi(e){return["top","bottom"].includes(po(e))?"y":"x"}function Ap(e){return Rp(pi(e))}function Tj(e,t,r){r===void 0&&(r=!1);const a=Tl(e),c=Ap(e),d=Lp(c);let f=c==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[d]>t.floating[d]&&(f=Yd(f)),[f,Yd(f)]}function kj(e){const t=Yd(e);return[Km(e),t,Km(t)]}function Km(e){return e.replace(/start|end/g,t=>Pj[t])}function Mj(e,t,r){const a=["left","right"],c=["right","left"],d=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return r?t?c:a:t?a:c;case"left":case"right":return t?d:f;default:return[]}}function Rj(e,t,r,a){const c=Tl(e);let d=Mj(po(e),r==="start",a);return c&&(d=d.map(f=>f+"-"+c),t&&(d=d.concat(d.map(Km)))),d}function Yd(e){return e.replace(/left|right|bottom|top/g,t=>Cj[t])}function Lj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pw(e){return typeof e!="number"?Lj(e):{top:e,right:e,bottom:e,left:e}}function Kd(e){const{x:t,y:r,width:a,height:c}=e;return{width:a,height:c,top:r,left:t,right:t+a,bottom:r+c,x:t,y:r}}function fx(e,t,r){let{reference:a,floating:c}=e;const d=pi(t),f=Ap(t),p=Lp(f),g=po(t),w=d==="y",_=a.x+a.width/2-c.width/2,b=a.y+a.height/2-c.height/2,S=a[p]/2-c[p]/2;let k;switch(g){case"top":k={x:_,y:a.y-c.height};break;case"bottom":k={x:_,y:a.y+a.height};break;case"right":k={x:a.x+a.width,y:b};break;case"left":k={x:a.x-c.width,y:b};break;default:k={x:a.x,y:a.y}}switch(Tl(t)){case"start":k[f]-=S*(r&&w?-1:1);break;case"end":k[f]+=S*(r&&w?-1:1);break}return k}const Aj=async(e,t,r)=>{const{placement:a="bottom",strategy:c="absolute",middleware:d=[],platform:f}=r,p=d.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(t));let w=await f.getElementRects({reference:e,floating:t,strategy:c}),{x:_,y:b}=fx(w,a,g),S=a,k={},P=0;for(let j=0;j<p.length;j++){const{name:C,fn:T}=p[j],{x:D,y:M,data:O,reset:F}=await T({x:_,y:b,initialPlacement:a,placement:S,strategy:c,middlewareData:k,rects:w,platform:f,elements:{reference:e,floating:t}});_=D??_,b=M??b,k={...k,[C]:{...k[C],...O}},F&&P<=50&&(P++,typeof F=="object"&&(F.placement&&(S=F.placement),F.rects&&(w=F.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:c}):F.rects),{x:_,y:b}=fx(w,S,g)),j=-1)}return{x:_,y:b,placement:S,strategy:c,middlewareData:k}};async function Wc(e,t){var r;t===void 0&&(t={});const{x:a,y:c,platform:d,rects:f,elements:p,strategy:g}=e,{boundary:w="clippingAncestors",rootBoundary:_="viewport",elementContext:b="floating",altBoundary:S=!1,padding:k=0}=mo(t,e),P=Pw(k),C=p[S?b==="floating"?"reference":"floating":b],T=Kd(await d.getClippingRect({element:(r=await(d.isElement==null?void 0:d.isElement(C)))==null||r?C:C.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(p.floating)),boundary:w,rootBoundary:_,strategy:g})),D=b==="floating"?{x:a,y:c,width:f.floating.width,height:f.floating.height}:f.reference,M=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p.floating)),O=await(d.isElement==null?void 0:d.isElement(M))?await(d.getScale==null?void 0:d.getScale(M))||{x:1,y:1}:{x:1,y:1},F=Kd(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:D,offsetParent:M,strategy:g}):D);return{top:(T.top-F.top+P.top)/O.y,bottom:(F.bottom-T.bottom+P.bottom)/O.y,left:(T.left-F.left+P.left)/O.x,right:(F.right-T.right+P.right)/O.x}}const Dj=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:c,rects:d,platform:f,elements:p,middlewareData:g}=t,{element:w,padding:_=0}=mo(e,t)||{};if(w==null)return{};const b=Pw(_),S={x:r,y:a},k=Ap(c),P=Lp(k),j=await f.getDimensions(w),C=k==="y",T=C?"top":"left",D=C?"bottom":"right",M=C?"clientHeight":"clientWidth",O=d.reference[P]+d.reference[k]-S[k]-d.floating[P],F=S[k]-d.reference[k],V=await(f.getOffsetParent==null?void 0:f.getOffsetParent(w));let I=V?V[M]:0;(!I||!await(f.isElement==null?void 0:f.isElement(V)))&&(I=p.floating[M]||d.floating[P]);const ee=O/2-F/2,se=I/2-j[P]/2-1,G=hi(b[T],se),Q=hi(b[D],se),pe=G,Oe=I-j[P]-Q,ve=I/2-j[P]/2+ee,de=Ym(pe,ve,Oe),ye=!g.arrow&&Tl(c)!=null&&ve!==de&&d.reference[P]/2-(ve<pe?G:Q)-j[P]/2<0,be=ye?ve<pe?ve-pe:ve-Oe:0;return{[k]:S[k]+be,data:{[k]:de,centerOffset:ve-de-be,...ye&&{alignmentOffset:be}},reset:ye}}}),Oj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:c,middlewareData:d,rects:f,initialPlacement:p,platform:g,elements:w}=t,{mainAxis:_=!0,crossAxis:b=!0,fallbackPlacements:S,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:j=!0,...C}=mo(e,t);if((r=d.arrow)!=null&&r.alignmentOffset)return{};const T=po(c),D=pi(p),M=po(p)===p,O=await(g.isRTL==null?void 0:g.isRTL(w.floating)),F=S||(M||!j?[Yd(p)]:kj(p)),V=P!=="none";!S&&V&&F.push(...Rj(p,j,P,O));const I=[p,...F],ee=await Wc(t,C),se=[];let G=((a=d.flip)==null?void 0:a.overflows)||[];if(_&&se.push(ee[T]),b){const ve=Tj(c,f,O);se.push(ee[ve[0]],ee[ve[1]])}if(G=[...G,{placement:c,overflows:se}],!se.every(ve=>ve<=0)){var Q,pe;const ve=(((Q=d.flip)==null?void 0:Q.index)||0)+1,de=I[ve];if(de)return{data:{index:ve,overflows:G},reset:{placement:de}};let ye=(pe=G.filter(be=>be.overflows[0]<=0).sort((be,W)=>be.overflows[1]-W.overflows[1])[0])==null?void 0:pe.placement;if(!ye)switch(k){case"bestFit":{var Oe;const be=(Oe=G.filter(W=>{if(V){const ge=pi(W.placement);return ge===D||ge==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ge=>ge>0).reduce((ge,ie)=>ge+ie,0)]).sort((W,ge)=>W[1]-ge[1])[0])==null?void 0:Oe[0];be&&(ye=be);break}case"initialPlacement":ye=p;break}if(c!==ye)return{reset:{placement:ye}}}return{}}}};function hx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mx(e){return Ej.some(t=>e[t]>=0)}const Ij=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...c}=mo(e,t);switch(a){case"referenceHidden":{const d=await Wc(t,{...c,elementContext:"reference"}),f=hx(d,r.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:mx(f)}}}case"escaped":{const d=await Wc(t,{...c,altBoundary:!0}),f=hx(d,r.floating);return{data:{escapedOffsets:f,escaped:mx(f)}}}default:return{}}}}};async function Fj(e,t){const{placement:r,platform:a,elements:c}=e,d=await(a.isRTL==null?void 0:a.isRTL(c.floating)),f=po(r),p=Tl(r),g=pi(r)==="y",w=["left","top"].includes(f)?-1:1,_=d&&g?-1:1,b=mo(t,e);let{mainAxis:S,crossAxis:k,alignmentAxis:P}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return p&&typeof P=="number"&&(k=p==="end"?P*-1:P),g?{x:k*_,y:S*w}:{x:S*w,y:k*_}}const zj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:c,y:d,placement:f,middlewareData:p}=t,g=await Fj(t,e);return f===((r=p.offset)==null?void 0:r.placement)&&(a=p.arrow)!=null&&a.alignmentOffset?{}:{x:c+g.x,y:d+g.y,data:{...g,placement:f}}}}},$j=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:c}=t,{mainAxis:d=!0,crossAxis:f=!1,limiter:p={fn:C=>{let{x:T,y:D}=C;return{x:T,y:D}}},...g}=mo(e,t),w={x:r,y:a},_=await Wc(t,g),b=pi(po(c)),S=Rp(b);let k=w[S],P=w[b];if(d){const C=S==="y"?"top":"left",T=S==="y"?"bottom":"right",D=k+_[C],M=k-_[T];k=Ym(D,k,M)}if(f){const C=b==="y"?"top":"left",T=b==="y"?"bottom":"right",D=P+_[C],M=P-_[T];P=Ym(D,P,M)}const j=p.fn({...t,[S]:k,[b]:P});return{...j,data:{x:j.x-r,y:j.y-a,enabled:{[S]:d,[b]:f}}}}}},Bj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:c,rects:d,middlewareData:f}=t,{offset:p=0,mainAxis:g=!0,crossAxis:w=!0}=mo(e,t),_={x:r,y:a},b=pi(c),S=Rp(b);let k=_[S],P=_[b];const j=mo(p,t),C=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(g){const M=S==="y"?"height":"width",O=d.reference[S]-d.floating[M]+C.mainAxis,F=d.reference[S]+d.reference[M]-C.mainAxis;k<O?k=O:k>F&&(k=F)}if(w){var T,D;const M=S==="y"?"width":"height",O=["top","left"].includes(po(c)),F=d.reference[b]-d.floating[M]+(O&&((T=f.offset)==null?void 0:T[b])||0)+(O?0:C.crossAxis),V=d.reference[b]+d.reference[M]+(O?0:((D=f.offset)==null?void 0:D[b])||0)-(O?C.crossAxis:0);P<F?P=F:P>V&&(P=V)}return{[S]:k,[b]:P}}}},Uj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:c,rects:d,platform:f,elements:p}=t,{apply:g=()=>{},...w}=mo(e,t),_=await Wc(t,w),b=po(c),S=Tl(c),k=pi(c)==="y",{width:P,height:j}=d.floating;let C,T;b==="top"||b==="bottom"?(C=b,T=S===(await(f.isRTL==null?void 0:f.isRTL(p.floating))?"start":"end")?"left":"right"):(T=b,C=S==="end"?"top":"bottom");const D=j-_.top-_.bottom,M=P-_.left-_.right,O=hi(j-_[C],D),F=hi(P-_[T],M),V=!t.middlewareData.shift;let I=O,ee=F;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(ee=M),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(I=D),V&&!S){const G=Tr(_.left,0),Q=Tr(_.right,0),pe=Tr(_.top,0),Oe=Tr(_.bottom,0);k?ee=P-2*(G!==0||Q!==0?G+Q:Tr(_.left,_.right)):I=j-2*(pe!==0||Oe!==0?pe+Oe:Tr(_.top,_.bottom))}await g({...t,availableWidth:ee,availableHeight:I});const se=await f.getDimensions(p.floating);return P!==se.width||j!==se.height?{reset:{rects:!0}}:{}}}};function gf(){return typeof window<"u"}function kl(e){return Tw(e)?(e.nodeName||"").toLowerCase():"#document"}function kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fs(e){var t;return(t=(Tw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Tw(e){return gf()?e instanceof Node||e instanceof kr(e).Node:!1}function hs(e){return gf()?e instanceof Element||e instanceof kr(e).Element:!1}function Is(e){return gf()?e instanceof HTMLElement||e instanceof kr(e).HTMLElement:!1}function px(e){return!gf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kr(e).ShadowRoot}function su(e){const{overflow:t,overflowX:r,overflowY:a,display:c}=ms(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!["inline","contents"].includes(c)}function Hj(e){return["table","td","th"].includes(kl(e))}function vf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Dp(e){const t=Op(),r=hs(e)?ms(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function Wj(e){let t=gi(e);for(;Is(t)&&!Sl(t);){if(Dp(t))return t;if(vf(t))return null;t=gi(t)}return null}function Op(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sl(e){return["html","body","#document"].includes(kl(e))}function ms(e){return kr(e).getComputedStyle(e)}function xf(e){return hs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function gi(e){if(kl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||px(e)&&e.host||Fs(e);return px(t)?t.host:t}function kw(e){const t=gi(e);return Sl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Is(t)&&su(t)?t:kw(t)}function Vc(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const c=kw(e),d=c===((a=e.ownerDocument)==null?void 0:a.body),f=kr(c);if(d){const p=Xm(f);return t.concat(f,f.visualViewport||[],su(c)?c:[],p&&r?Vc(p):[])}return t.concat(c,Vc(c,[],r))}function Xm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Mw(e){const t=ms(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const c=Is(e),d=c?e.offsetWidth:r,f=c?e.offsetHeight:a,p=Gd(r)!==d||Gd(a)!==f;return p&&(r=d,a=f),{width:r,height:a,$:p}}function Ip(e){return hs(e)?e:e.contextElement}function fl(e){const t=Ip(e);if(!Is(t))return mi(1);const r=t.getBoundingClientRect(),{width:a,height:c,$:d}=Mw(t);let f=(d?Gd(r.width):r.width)/a,p=(d?Gd(r.height):r.height)/c;return(!f||!Number.isFinite(f))&&(f=1),(!p||!Number.isFinite(p))&&(p=1),{x:f,y:p}}const Vj=mi(0);function Rw(e){const t=kr(e);return!Op()||!t.visualViewport?Vj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zj(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==kr(e)?!1:t}function aa(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const c=e.getBoundingClientRect(),d=Ip(e);let f=mi(1);t&&(a?hs(a)&&(f=fl(a)):f=fl(e));const p=Zj(d,r,a)?Rw(d):mi(0);let g=(c.left+p.x)/f.x,w=(c.top+p.y)/f.y,_=c.width/f.x,b=c.height/f.y;if(d){const S=kr(d),k=a&&hs(a)?kr(a):a;let P=S,j=Xm(P);for(;j&&a&&k!==P;){const C=fl(j),T=j.getBoundingClientRect(),D=ms(j),M=T.left+(j.clientLeft+parseFloat(D.paddingLeft))*C.x,O=T.top+(j.clientTop+parseFloat(D.paddingTop))*C.y;g*=C.x,w*=C.y,_*=C.x,b*=C.y,g+=M,w+=O,P=kr(j),j=Xm(P)}}return Kd({width:_,height:b,x:g,y:w})}function qj(e){let{elements:t,rect:r,offsetParent:a,strategy:c}=e;const d=c==="fixed",f=Fs(a),p=t?vf(t.floating):!1;if(a===f||p&&d)return r;let g={scrollLeft:0,scrollTop:0},w=mi(1);const _=mi(0),b=Is(a);if((b||!b&&!d)&&((kl(a)!=="body"||su(f))&&(g=xf(a)),Is(a))){const S=aa(a);w=fl(a),_.x=S.x+a.clientLeft,_.y=S.y+a.clientTop}return{width:r.width*w.x,height:r.height*w.y,x:r.x*w.x-g.scrollLeft*w.x+_.x,y:r.y*w.y-g.scrollTop*w.y+_.y}}function Gj(e){return Array.from(e.getClientRects())}function Qm(e,t){const r=xf(e).scrollLeft;return t?t.left+r:aa(Fs(e)).left+r}function Yj(e){const t=Fs(e),r=xf(e),a=e.ownerDocument.body,c=Tr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),d=Tr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let f=-r.scrollLeft+Qm(e);const p=-r.scrollTop;return ms(a).direction==="rtl"&&(f+=Tr(t.clientWidth,a.clientWidth)-c),{width:c,height:d,x:f,y:p}}function Kj(e,t){const r=kr(e),a=Fs(e),c=r.visualViewport;let d=a.clientWidth,f=a.clientHeight,p=0,g=0;if(c){d=c.width,f=c.height;const w=Op();(!w||w&&t==="fixed")&&(p=c.offsetLeft,g=c.offsetTop)}return{width:d,height:f,x:p,y:g}}function Xj(e,t){const r=aa(e,!0,t==="fixed"),a=r.top+e.clientTop,c=r.left+e.clientLeft,d=Is(e)?fl(e):mi(1),f=e.clientWidth*d.x,p=e.clientHeight*d.y,g=c*d.x,w=a*d.y;return{width:f,height:p,x:g,y:w}}function gx(e,t,r){let a;if(t==="viewport")a=Kj(e,r);else if(t==="document")a=Yj(Fs(e));else if(hs(t))a=Xj(t,r);else{const c=Rw(e);a={...t,x:t.x-c.x,y:t.y-c.y}}return Kd(a)}function Lw(e,t){const r=gi(e);return r===t||!hs(r)||Sl(r)?!1:ms(r).position==="fixed"||Lw(r,t)}function Qj(e,t){const r=t.get(e);if(r)return r;let a=Vc(e,[],!1).filter(p=>hs(p)&&kl(p)!=="body"),c=null;const d=ms(e).position==="fixed";let f=d?gi(e):e;for(;hs(f)&&!Sl(f);){const p=ms(f),g=Dp(f);!g&&p.position==="fixed"&&(c=null),(d?!g&&!c:!g&&p.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||su(f)&&!g&&Lw(e,f))?a=a.filter(_=>_!==f):c=p,f=gi(f)}return t.set(e,a),a}function Jj(e){let{element:t,boundary:r,rootBoundary:a,strategy:c}=e;const f=[...r==="clippingAncestors"?vf(t)?[]:Qj(t,this._c):[].concat(r),a],p=f[0],g=f.reduce((w,_)=>{const b=gx(t,_,c);return w.top=Tr(b.top,w.top),w.right=hi(b.right,w.right),w.bottom=hi(b.bottom,w.bottom),w.left=Tr(b.left,w.left),w},gx(t,p,c));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function eE(e){const{width:t,height:r}=Mw(e);return{width:t,height:r}}function tE(e,t,r){const a=Is(t),c=Fs(t),d=r==="fixed",f=aa(e,!0,d,t);let p={scrollLeft:0,scrollTop:0};const g=mi(0);if(a||!a&&!d)if((kl(t)!=="body"||su(c))&&(p=xf(t)),a){const k=aa(t,!0,d,t);g.x=k.x+t.clientLeft,g.y=k.y+t.clientTop}else c&&(g.x=Qm(c));let w=0,_=0;if(c&&!a&&!d){const k=c.getBoundingClientRect();_=k.top+p.scrollTop,w=k.left+p.scrollLeft-Qm(c,k)}const b=f.left+p.scrollLeft-g.x-w,S=f.top+p.scrollTop-g.y-_;return{x:b,y:S,width:f.width,height:f.height}}function wm(e){return ms(e).position==="static"}function vx(e,t){if(!Is(e)||ms(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Fs(e)===r&&(r=r.ownerDocument.body),r}function Aw(e,t){const r=kr(e);if(vf(e))return r;if(!Is(e)){let c=gi(e);for(;c&&!Sl(c);){if(hs(c)&&!wm(c))return c;c=gi(c)}return r}let a=vx(e,t);for(;a&&Hj(a)&&wm(a);)a=vx(a,t);return a&&Sl(a)&&wm(a)&&!Dp(a)?r:a||Wj(e)||r}const nE=async function(e){const t=this.getOffsetParent||Aw,r=this.getDimensions,a=await r(e.floating);return{reference:tE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function rE(e){return ms(e).direction==="rtl"}const sE={convertOffsetParentRelativeRectToViewportRelativeRect:qj,getDocumentElement:Fs,getClippingRect:Jj,getOffsetParent:Aw,getElementRects:nE,getClientRects:Gj,getDimensions:eE,getScale:fl,isElement:hs,isRTL:rE};function oE(e,t){let r=null,a;const c=Fs(e);function d(){var p;clearTimeout(a),(p=r)==null||p.disconnect(),r=null}function f(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),d();const{left:w,top:_,width:b,height:S}=e.getBoundingClientRect();if(p||t(),!b||!S)return;const k=kd(_),P=kd(c.clientWidth-(w+b)),j=kd(c.clientHeight-(_+S)),C=kd(w),D={rootMargin:-k+"px "+-P+"px "+-j+"px "+-C+"px",threshold:Tr(0,hi(1,g))||1};let M=!0;function O(F){const V=F[0].intersectionRatio;if(V!==g){if(!M)return f();V?f(!1,V):a=setTimeout(()=>{f(!1,1e-7)},1e3)}M=!1}try{r=new IntersectionObserver(O,{...D,root:c.ownerDocument})}catch{r=new IntersectionObserver(O,D)}r.observe(e)}return f(!0),d}function iE(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,w=Ip(e),_=c||d?[...w?Vc(w):[],...Vc(t)]:[];_.forEach(T=>{c&&T.addEventListener("scroll",r,{passive:!0}),d&&T.addEventListener("resize",r)});const b=w&&p?oE(w,r):null;let S=-1,k=null;f&&(k=new ResizeObserver(T=>{let[D]=T;D&&D.target===w&&k&&(k.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var M;(M=k)==null||M.observe(t)})),r()}),w&&!g&&k.observe(w),k.observe(t));let P,j=g?aa(e):null;g&&C();function C(){const T=aa(e);j&&(T.x!==j.x||T.y!==j.y||T.width!==j.width||T.height!==j.height)&&r(),j=T,P=requestAnimationFrame(C)}return r(),()=>{var T;_.forEach(D=>{c&&D.removeEventListener("scroll",r),d&&D.removeEventListener("resize",r)}),b==null||b(),(T=k)==null||T.disconnect(),k=null,g&&cancelAnimationFrame(P)}}const aE=zj,lE=$j,cE=Oj,uE=Uj,dE=Ij,xx=Dj,fE=Bj,hE=(e,t,r)=>{const a=new Map,c={platform:sE,...r},d={...c.platform,_c:a};return Aj(e,t,{...c,platform:d})};var Wd=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Xd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,c;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!Xd(e[a],t[a]))return!1;return!0}if(c=Object.keys(e),r=c.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,c[a]))return!1;for(a=r;a--!==0;){const d=c[a];if(!(d==="_owner"&&e.$$typeof)&&!Xd(e[d],t[d]))return!1}return!0}return e!==e&&t!==t}function Dw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yx(e,t){const r=Dw(e);return Math.round(t*r)/r}function _m(e){const t=v.useRef(e);return Wd(()=>{t.current=e}),t}function mE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:c,elements:{reference:d,floating:f}={},transform:p=!0,whileElementsMounted:g,open:w}=e,[_,b]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[S,k]=v.useState(a);Xd(S,a)||k(a);const[P,j]=v.useState(null),[C,T]=v.useState(null),D=v.useCallback(W=>{W!==V.current&&(V.current=W,j(W))},[]),M=v.useCallback(W=>{W!==I.current&&(I.current=W,T(W))},[]),O=d||P,F=f||C,V=v.useRef(null),I=v.useRef(null),ee=v.useRef(_),se=g!=null,G=_m(g),Q=_m(c),pe=_m(w),Oe=v.useCallback(()=>{if(!V.current||!I.current)return;const W={placement:t,strategy:r,middleware:S};Q.current&&(W.platform=Q.current),hE(V.current,I.current,W).then(ge=>{const ie={...ge,isPositioned:pe.current!==!1};ve.current&&!Xd(ee.current,ie)&&(ee.current=ie,fa.flushSync(()=>{b(ie)}))})},[S,t,r,Q,pe]);Wd(()=>{w===!1&&ee.current.isPositioned&&(ee.current.isPositioned=!1,b(W=>({...W,isPositioned:!1})))},[w]);const ve=v.useRef(!1);Wd(()=>(ve.current=!0,()=>{ve.current=!1}),[]),Wd(()=>{if(O&&(V.current=O),F&&(I.current=F),O&&F){if(G.current)return G.current(O,F,Oe);Oe()}},[O,F,Oe,G,se]);const de=v.useMemo(()=>({reference:V,floating:I,setReference:D,setFloating:M}),[D,M]),ye=v.useMemo(()=>({reference:O,floating:F}),[O,F]),be=v.useMemo(()=>{const W={position:r,left:0,top:0};if(!ye.floating)return W;const ge=yx(ye.floating,_.x),ie=yx(ye.floating,_.y);return p?{...W,transform:"translate("+ge+"px, "+ie+"px)",...Dw(ye.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ge,top:ie}},[r,p,ye.floating,_.x,_.y]);return v.useMemo(()=>({..._,update:Oe,refs:de,elements:ye,floatingStyles:be}),[_,Oe,de,ye,be])}const pE=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:c}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?xx({element:a.current,padding:c}).fn(r):{}:a?xx({element:a,padding:c}).fn(r):{}}}},gE=(e,t)=>({...aE(e),options:[e,t]}),vE=(e,t)=>({...lE(e),options:[e,t]}),xE=(e,t)=>({...fE(e),options:[e,t]}),yE=(e,t)=>({...cE(e),options:[e,t]}),wE=(e,t)=>({...uE(e),options:[e,t]}),_E=(e,t)=>({...dE(e),options:[e,t]}),bE=(e,t)=>({...pE(e),options:[e,t]});var NE="Arrow",Ow=v.forwardRef((e,t)=>{const{children:r,width:a=10,height:c=5,...d}=e;return o.jsx(wt.svg,{...d,ref:t,width:a,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ow.displayName=NE;var SE=Ow;function Iw(e){const[t,r]=v.useState(void 0);return hn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let f,p;if("borderBoxSize"in d){const g=d.borderBoxSize,w=Array.isArray(g)?g[0]:g;f=w.inlineSize,p=w.blockSize}else f=e.offsetWidth,p=e.offsetHeight;r({width:f,height:p})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var Fp="Popper",[Fw,yf]=Cl(Fp),[jE,zw]=Fw(Fp),$w=e=>{const{__scopePopper:t,children:r}=e,[a,c]=v.useState(null);return o.jsx(jE,{scope:t,anchor:a,onAnchorChange:c,children:r})};$w.displayName=Fp;var Bw="PopperAnchor",Uw=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...c}=e,d=zw(Bw,r),f=v.useRef(null),p=Ot(t,f);return v.useEffect(()=>{d.onAnchorChange((a==null?void 0:a.current)||f.current)}),a?null:o.jsx(wt.div,{...c,ref:p})});Uw.displayName=Bw;var zp="PopperContent",[EE,CE]=Fw(zp),Hw=v.forwardRef((e,t)=>{var K,we,Te,$e,Ye,Ge;const{__scopePopper:r,side:a="bottom",sideOffset:c=0,align:d="center",alignOffset:f=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:w=[],collisionPadding:_=0,sticky:b="partial",hideWhenDetached:S=!1,updatePositionStrategy:k="optimized",onPlaced:P,...j}=e,C=zw(zp,r),[T,D]=v.useState(null),M=Ot(t,at=>D(at)),[O,F]=v.useState(null),V=Iw(O),I=(V==null?void 0:V.width)??0,ee=(V==null?void 0:V.height)??0,se=a+(d!=="center"?"-"+d:""),G=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},Q=Array.isArray(w)?w:[w],pe=Q.length>0,Oe={padding:G,boundary:Q.filter(TE),altBoundary:pe},{refs:ve,floatingStyles:de,placement:ye,isPositioned:be,middlewareData:W}=mE({strategy:"fixed",placement:se,whileElementsMounted:(...at)=>iE(...at,{animationFrame:k==="always"}),elements:{reference:C.anchor},middleware:[gE({mainAxis:c+ee,alignmentAxis:f}),g&&vE({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?xE():void 0,...Oe}),g&&yE({...Oe}),wE({...Oe,apply:({elements:at,rects:Mt,availableWidth:Ne,availableHeight:Z})=>{const{width:me,height:Se}=Mt.reference,Ee=at.floating.style;Ee.setProperty("--radix-popper-available-width",`${Ne}px`),Ee.setProperty("--radix-popper-available-height",`${Z}px`),Ee.setProperty("--radix-popper-anchor-width",`${me}px`),Ee.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),O&&bE({element:O,padding:p}),kE({arrowWidth:I,arrowHeight:ee}),S&&_E({strategy:"referenceHidden",...Oe})]}),[ge,ie]=Zw(ye),z=ln(P);hn(()=>{be&&(z==null||z())},[be,z]);const J=(K=W.arrow)==null?void 0:K.x,X=(we=W.arrow)==null?void 0:we.y,he=((Te=W.arrow)==null?void 0:Te.centerOffset)!==0,[ce,U]=v.useState();return hn(()=>{T&&U(window.getComputedStyle(T).zIndex)},[T]),o.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:be?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[($e=W.transformOrigin)==null?void 0:$e.x,(Ye=W.transformOrigin)==null?void 0:Ye.y].join(" "),...((Ge=W.hide)==null?void 0:Ge.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(EE,{scope:r,placedSide:ge,onArrowChange:F,arrowX:J,arrowY:X,shouldHideArrow:he,children:o.jsx(wt.div,{"data-side":ge,"data-align":ie,...j,ref:M,style:{...j.style,animation:be?void 0:"none"}})})})});Hw.displayName=zp;var Ww="PopperArrow",PE={top:"bottom",right:"left",bottom:"top",left:"right"},Vw=v.forwardRef(function(t,r){const{__scopePopper:a,...c}=t,d=CE(Ww,a),f=PE[d.placedSide];return o.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:o.jsx(SE,{...c,ref:r,style:{...c.style,display:"block"}})})});Vw.displayName=Ww;function TE(e){return e!==null}var kE=e=>({name:"transformOrigin",options:e,fn(t){var C,T,D;const{placement:r,rects:a,middlewareData:c}=t,f=((C=c.arrow)==null?void 0:C.centerOffset)!==0,p=f?0:e.arrowWidth,g=f?0:e.arrowHeight,[w,_]=Zw(r),b={start:"0%",center:"50%",end:"100%"}[_],S=(((T=c.arrow)==null?void 0:T.x)??0)+p/2,k=(((D=c.arrow)==null?void 0:D.y)??0)+g/2;let P="",j="";return w==="bottom"?(P=f?b:`${S}px`,j=`${-g}px`):w==="top"?(P=f?b:`${S}px`,j=`${a.floating.height+g}px`):w==="right"?(P=`${-g}px`,j=f?b:`${k}px`):w==="left"&&(P=`${a.floating.width+g}px`,j=f?b:`${k}px`),{data:{x:P,y:j}}}});function Zw(e){const[t,r="center"]=e.split("-");return[t,r]}var ME=$w,qw=Uw,Gw=Hw,Yw=Vw,RE="Portal",Kw=v.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=v.useState(!1);hn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?cf.createPortal(o.jsx(wt.div,{...a,ref:t}),f):null});Kw.displayName=RE;function LE(e,t){return v.useReducer((r,a)=>t[r][a]??r,e)}var Xw=e=>{const{present:t,children:r}=e,a=AE(t),c=typeof r=="function"?r({present:a.isPresent}):v.Children.only(r),d=Ot(a.ref,DE(c));return typeof r=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};Xw.displayName="Presence";function AE(e){const[t,r]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=LE(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=Md(a.current);d.current=p==="mounted"?w:"none"},[p]),hn(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,k=Md(w);e?g("MOUNT"):k==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),hn(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,b=k=>{const j=Md(a.current).includes(k.animationName);if(k.target===t&&j&&(g("ANIMATION_END"),!c.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},S=k=>{k.target===t&&(d.current=Md(a.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),r(w)},[])}}function Md(e){return(e==null?void 0:e.animationName)||"none"}function DE(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var[wf,$L]=pj("Tooltip",[yf]),$p=yf(),Qw="TooltipProvider",OE=700,wx="tooltip.open",[IE,Jw]=wf(Qw),e0=e=>{const{__scopeTooltip:t,delayDuration:r=OE,skipDelayDuration:a=300,disableHoverableContent:c=!1,children:d}=e,[f,p]=v.useState(!0),g=v.useRef(!1),w=v.useRef(0);return v.useEffect(()=>{const _=w.current;return()=>window.clearTimeout(_)},[]),o.jsx(IE,{scope:t,isOpenDelayed:f,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(w.current),p(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>p(!0),a)},[a]),isPointerInTransitRef:g,onPointerInTransitChange:v.useCallback(_=>{g.current=_},[]),disableHoverableContent:c,children:d})};e0.displayName=Qw;var t0="Tooltip",[BL,_f]=wf(t0),Jm="TooltipTrigger",FE=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,c=_f(Jm,r),d=Jw(Jm,r),f=$p(r),p=v.useRef(null),g=Ot(t,p,c.onTriggerChange),w=v.useRef(!1),_=v.useRef(!1),b=v.useCallback(()=>w.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),o.jsx(qw,{asChild:!0,...f,children:o.jsx(wt.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:g,onPointerMove:ot(e.onPointerMove,S=>{S.pointerType!=="touch"&&!_.current&&!d.isPointerInTransitRef.current&&(c.onTriggerEnter(),_.current=!0)}),onPointerLeave:ot(e.onPointerLeave,()=>{c.onTriggerLeave(),_.current=!1}),onPointerDown:ot(e.onPointerDown,()=>{w.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:ot(e.onFocus,()=>{w.current||c.onOpen()}),onBlur:ot(e.onBlur,c.onClose),onClick:ot(e.onClick,c.onClose)})})});FE.displayName=Jm;var zE="TooltipPortal",[UL,$E]=wf(zE,{forceMount:void 0}),jl="TooltipContent",n0=v.forwardRef((e,t)=>{const r=$E(jl,e.__scopeTooltip),{forceMount:a=r.forceMount,side:c="top",...d}=e,f=_f(jl,e.__scopeTooltip);return o.jsx(Xw,{present:a||f.open,children:f.disableHoverableContent?o.jsx(r0,{side:c,...d,ref:t}):o.jsx(BE,{side:c,...d,ref:t})})}),BE=v.forwardRef((e,t)=>{const r=_f(jl,e.__scopeTooltip),a=Jw(jl,e.__scopeTooltip),c=v.useRef(null),d=Ot(t,c),[f,p]=v.useState(null),{trigger:g,onClose:w}=r,_=c.current,{onPointerInTransitChange:b}=a,S=v.useCallback(()=>{p(null),b(!1)},[b]),k=v.useCallback((P,j)=>{const C=P.currentTarget,T={x:P.clientX,y:P.clientY},D=VE(T,C.getBoundingClientRect()),M=ZE(T,D),O=qE(j.getBoundingClientRect()),F=YE([...M,...O]);p(F),b(!0)},[b]);return v.useEffect(()=>()=>S(),[S]),v.useEffect(()=>{if(g&&_){const P=C=>k(C,_),j=C=>k(C,g);return g.addEventListener("pointerleave",P),_.addEventListener("pointerleave",j),()=>{g.removeEventListener("pointerleave",P),_.removeEventListener("pointerleave",j)}}},[g,_,k,S]),v.useEffect(()=>{if(f){const P=j=>{const C=j.target,T={x:j.clientX,y:j.clientY},D=(g==null?void 0:g.contains(C))||(_==null?void 0:_.contains(C)),M=!GE(T,f);D?S():M&&(S(),w())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[g,_,f,w,S]),o.jsx(r0,{...e,ref:d})}),[UE,HE]=wf(t0,{isInside:!1}),r0=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":c,onEscapeKeyDown:d,onPointerDownOutside:f,...p}=e,g=_f(jl,r),w=$p(r),{onClose:_}=g;return v.useEffect(()=>(document.addEventListener(wx,_),()=>document.removeEventListener(wx,_)),[_]),v.useEffect(()=>{if(g.trigger){const b=S=>{const k=S.target;k!=null&&k.contains(g.trigger)&&_()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[g.trigger,_]),o.jsx(Mp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:b=>b.preventDefault(),onDismiss:_,children:o.jsxs(Gw,{"data-state":g.stateAttribute,...w,...p,ref:t,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(My,{children:a}),o.jsx(UE,{scope:r,isInside:!0,children:o.jsx(SN,{id:g.contentId,role:"tooltip",children:c||a})})]})})});n0.displayName=jl;var s0="TooltipArrow",WE=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,c=$p(r);return HE(s0,r).isInside?null:o.jsx(Yw,{...c,...a,ref:t})});WE.displayName=s0;function VE(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),c=Math.abs(t.right-e.x),d=Math.abs(t.left-e.x);switch(Math.min(r,a,c,d)){case d:return"left";case c:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function ZE(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function qE(e){const{top:t,right:r,bottom:a,left:c}=e;return[{x:c,y:t},{x:r,y:t},{x:r,y:a},{x:c,y:a}]}function GE(e,t){const{x:r,y:a}=e;let c=!1;for(let d=0,f=t.length-1;d<t.length;f=d++){const p=t[d].x,g=t[d].y,w=t[f].x,_=t[f].y;g>a!=_>a&&r<(w-p)*(a-g)/(_-g)+p&&(c=!c)}return c}function YE(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),KE(t)}function KE(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const c=e[a];for(;t.length>=2;){const d=t[t.length-1],f=t[t.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))t.pop();else break}t.push(c)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const c=e[a];for(;r.length>=2;){const d=r[r.length-1],f=r[r.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))r.pop();else break}r.push(c)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var XE=e0,o0=n0;const QE=XE,JE=v.forwardRef(({className:e,sideOffset:t=4,...r},a)=>o.jsx(o0,{ref:a,sideOffset:t,className:mt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));JE.displayName=o0.displayName;var bf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nf=typeof window>"u"||"Deno"in globalThis;function cs(){}function eC(e,t){return typeof e=="function"?e(t):e}function tC(e){return typeof e=="number"&&e>=0&&e!==1/0}function nC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _x(e,t){return typeof e=="function"?e(t):e}function rC(e,t){return typeof e=="function"?e(t):e}function bx(e,t){const{type:r="all",exact:a,fetchStatus:c,predicate:d,queryKey:f,stale:p}=e;if(f){if(a){if(t.queryHash!==Bp(f,t.options))return!1}else if(!qc(t.queryKey,f))return!1}if(r!=="all"){const g=t.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||c&&c!==t.state.fetchStatus||d&&!d(t))}function Nx(e,t){const{exact:r,status:a,predicate:c,mutationKey:d}=e;if(d){if(!t.options.mutationKey)return!1;if(r){if(Zc(t.options.mutationKey)!==Zc(d))return!1}else if(!qc(t.options.mutationKey,d))return!1}return!(a&&t.state.status!==a||c&&!c(t))}function Bp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zc)(e)}function Zc(e){return JSON.stringify(e,(t,r)=>ep(r)?Object.keys(r).sort().reduce((a,c)=>(a[c]=r[c],a),{}):r)}function qc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!qc(e[r],t[r])):!1}function i0(e,t){if(e===t)return e;const r=Sx(e)&&Sx(t);if(r||ep(e)&&ep(t)){const a=r?e:Object.keys(e),c=a.length,d=r?t:Object.keys(t),f=d.length,p=r?[]:{};let g=0;for(let w=0;w<f;w++){const _=r?w:d[w];(!r&&a.includes(_)||r)&&e[_]===void 0&&t[_]===void 0?(p[_]=void 0,g++):(p[_]=i0(e[_],t[_]),p[_]===e[_]&&e[_]!==void 0&&g++)}return c===f&&g===c?e:p}return t}function Sx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ep(e){if(!jx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jx(e){return Object.prototype.toString.call(e)==="[object Object]"}function sC(e){return new Promise(t=>{setTimeout(t,e)})}function oC(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?i0(e,t):t}function iC(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function aC(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var a0=Symbol();function l0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===a0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Qi,si,ml,wy,lC=(wy=class extends bf{constructor(){super();qt(this,Qi);qt(this,si);qt(this,ml);Lt(this,ml,t=>{if(!Nf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ce(this,si)||this.setEventListener(Ce(this,ml))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,si))==null||t.call(this),Lt(this,si,void 0))}setEventListener(t){var r;Lt(this,ml,t),(r=Ce(this,si))==null||r.call(this),Lt(this,si,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){Ce(this,Qi)!==t&&(Lt(this,Qi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ce(this,Qi)=="boolean"?Ce(this,Qi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Qi=new WeakMap,si=new WeakMap,ml=new WeakMap,wy),c0=new lC,pl,oi,gl,_y,cC=(_y=class extends bf{constructor(){super();qt(this,pl,!0);qt(this,oi);qt(this,gl);Lt(this,gl,t=>{if(!Nf&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){Ce(this,oi)||this.setEventListener(Ce(this,gl))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,oi))==null||t.call(this),Lt(this,oi,void 0))}setEventListener(t){var r;Lt(this,gl,t),(r=Ce(this,oi))==null||r.call(this),Lt(this,oi,t(this.setOnline.bind(this)))}setOnline(t){Ce(this,pl)!==t&&(Lt(this,pl,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return Ce(this,pl)}},pl=new WeakMap,oi=new WeakMap,gl=new WeakMap,_y),Qd=new cC;function uC(e){return Math.min(1e3*2**e,3e4)}function u0(e){return(e??"online")==="online"?Qd.isOnline():!0}var d0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bm(e){return e instanceof d0}function f0(e){let t=!1,r=0,a=!1,c,d,f;const p=new Promise((T,D)=>{d=T,f=D}),g=T=>{var D;a||(P(new d0(T)),(D=e.abort)==null||D.call(e))},w=()=>{t=!0},_=()=>{t=!1},b=()=>c0.isFocused()&&(e.networkMode==="always"||Qd.isOnline())&&e.canRun(),S=()=>u0(e.networkMode)&&e.canRun(),k=T=>{var D;a||(a=!0,(D=e.onSuccess)==null||D.call(e,T),c==null||c(),d(T))},P=T=>{var D;a||(a=!0,(D=e.onError)==null||D.call(e,T),c==null||c(),f(T))},j=()=>new Promise(T=>{var D;c=M=>{(a||b())&&T(M)},(D=e.onPause)==null||D.call(e)}).then(()=>{var T;c=void 0,a||(T=e.onContinue)==null||T.call(e)}),C=()=>{if(a)return;let T;const D=r===0?e.initialPromise:void 0;try{T=D??e.fn()}catch(M){T=Promise.reject(M)}Promise.resolve(T).then(k).catch(M=>{var ee;if(a)return;const O=e.retry??(Nf?0:3),F=e.retryDelay??uC,V=typeof F=="function"?F(r,M):F,I=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,M);if(t||!I){P(M);return}r++,(ee=e.onFail)==null||ee.call(e,r,M),sC(V).then(()=>b()?void 0:j()).then(()=>{t?P(M):C()})})};return{promise:p,cancel:g,continue:()=>(c==null||c(),p),cancelRetry:w,continueRetry:_,canStart:S,start:()=>(S()?C():j().then(C),p)}}function dC(){let e=[],t=0,r=p=>{p()},a=p=>{p()},c=p=>setTimeout(p,0);const d=p=>{t?e.push(p):c(()=>{r(p)})},f=()=>{const p=e;e=[],p.length&&c(()=>{a(()=>{p.forEach(g=>{r(g)})})})};return{batch:p=>{let g;t++;try{g=p()}finally{t--,t||f()}return g},batchCalls:p=>(...g)=>{d(()=>{p(...g)})},schedule:d,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{a=p},setScheduler:p=>{c=p}}}var Qn=dC(),Ji,by,h0=(by=class{constructor(){qt(this,Ji)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tC(this.gcTime)&&Lt(this,Ji,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Nf?1/0:5*60*1e3))}clearGcTimeout(){Ce(this,Ji)&&(clearTimeout(Ce(this,Ji)),Lt(this,Ji,void 0))}},Ji=new WeakMap,by),vl,xl,Vr,Hn,Qc,ea,us,co,Ny,fC=(Ny=class extends h0{constructor(t){super();qt(this,us);qt(this,vl);qt(this,xl);qt(this,Vr);qt(this,Hn);qt(this,Qc);qt(this,ea);Lt(this,ea,!1),Lt(this,Qc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Lt(this,Vr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Lt(this,vl,mC(this.options)),this.state=t.state??Ce(this,vl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ce(this,Hn))==null?void 0:t.promise}setOptions(t){this.options={...Ce(this,Qc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ce(this,Vr).remove(this)}setData(t,r){const a=oC(this.state.data,t,this.options);return Un(this,us,co).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){Un(this,us,co).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,c;const r=(a=Ce(this,Hn))==null?void 0:a.promise;return(c=Ce(this,Hn))==null||c.cancel(t),r?r.then(cs).catch(cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ce(this,vl))}isActive(){return this.observers.some(t=>rC(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!nC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ce(this,Hn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ce(this,Hn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ce(this,Vr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ce(this,Hn)&&(Ce(this,ea)?Ce(this,Hn).cancel({revert:!0}):Ce(this,Hn).cancelRetry()),this.scheduleGc()),Ce(this,Vr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Un(this,us,co).call(this,{type:"invalidate"})}fetch(t,r){var g,w,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ce(this,Hn))return Ce(this,Hn).continueRetry(),Ce(this,Hn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(S=>S.options.queryFn);b&&this.setOptions(b.options)}const a=new AbortController,c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Lt(this,ea,!0),a.signal)})},d=()=>{const b=l0(this.options,r),S={queryKey:this.queryKey,meta:this.meta};return c(S),Lt(this,ea,!1),this.options.persister?this.options.persister(b,S,this):b(S)},f={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};c(f),(g=this.options.behavior)==null||g.onFetch(f,this),Lt(this,xl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=f.fetchOptions)==null?void 0:w.meta))&&Un(this,us,co).call(this,{type:"fetch",meta:(_=f.fetchOptions)==null?void 0:_.meta});const p=b=>{var S,k,P,j;bm(b)&&b.silent||Un(this,us,co).call(this,{type:"error",error:b}),bm(b)||((k=(S=Ce(this,Vr).config).onError)==null||k.call(S,b,this),(j=(P=Ce(this,Vr).config).onSettled)==null||j.call(P,this.state.data,b,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Lt(this,Hn,f0({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,abort:a.abort.bind(a),onSuccess:b=>{var S,k,P,j;if(b===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(C){p(C);return}(k=(S=Ce(this,Vr).config).onSuccess)==null||k.call(S,b,this),(j=(P=Ce(this,Vr).config).onSettled)==null||j.call(P,b,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(b,S)=>{Un(this,us,co).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{Un(this,us,co).call(this,{type:"pause"})},onContinue:()=>{Un(this,us,co).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),Ce(this,Hn).start()}},vl=new WeakMap,xl=new WeakMap,Vr=new WeakMap,Hn=new WeakMap,Qc=new WeakMap,ea=new WeakMap,us=new WeakSet,co=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...hC(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=t.error;return bm(c)&&c.revert&&Ce(this,xl)?{...Ce(this,xl),fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),Qn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Ce(this,Vr).notify({query:this,type:"updated",action:t})})},Ny);function hC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:u0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function mC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ls,Sy,pC=(Sy=class extends bf{constructor(t={}){super();qt(this,Ls);this.config=t,Lt(this,Ls,new Map)}build(t,r,a){const c=r.queryKey,d=r.queryHash??Bp(c,r);let f=this.get(d);return f||(f=new fC({cache:this,queryKey:c,queryHash:d,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(c)}),this.add(f)),f}add(t){Ce(this,Ls).has(t.queryHash)||(Ce(this,Ls).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ce(this,Ls).get(t.queryHash);r&&(t.destroy(),r===t&&Ce(this,Ls).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ce(this,Ls).get(t)}getAll(){return[...Ce(this,Ls).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>bx(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>bx(t,a)):r}notify(t){Qn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ls=new WeakMap,Sy),As,Xn,ta,Ds,ti,jy,gC=(jy=class extends h0{constructor(t){super();qt(this,Ds);qt(this,As);qt(this,Xn);qt(this,ta);this.mutationId=t.mutationId,Lt(this,Xn,t.mutationCache),Lt(this,As,[]),this.state=t.state||vC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ce(this,As).includes(t)||(Ce(this,As).push(t),this.clearGcTimeout(),Ce(this,Xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Lt(this,As,Ce(this,As).filter(r=>r!==t)),this.scheduleGc(),Ce(this,Xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ce(this,As).length||(this.state.status==="pending"?this.scheduleGc():Ce(this,Xn).remove(this))}continue(){var t;return((t=Ce(this,ta))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,d,f,p,g,w,_,b,S,k,P,j,C,T,D,M,O,F,V,I;Lt(this,ta,f0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(ee,se)=>{Un(this,Ds,ti).call(this,{type:"failed",failureCount:ee,error:se})},onPause:()=>{Un(this,Ds,ti).call(this,{type:"pause"})},onContinue:()=>{Un(this,Ds,ti).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ce(this,Xn).canRun(this)}));const r=this.state.status==="pending",a=!Ce(this,ta).canStart();try{if(!r){Un(this,Ds,ti).call(this,{type:"pending",variables:t,isPaused:a}),await((d=(c=Ce(this,Xn).config).onMutate)==null?void 0:d.call(c,t,this));const se=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,t));se!==this.state.context&&Un(this,Ds,ti).call(this,{type:"pending",context:se,variables:t,isPaused:a})}const ee=await Ce(this,ta).start();return await((w=(g=Ce(this,Xn).config).onSuccess)==null?void 0:w.call(g,ee,t,this.state.context,this)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,ee,t,this.state.context)),await((k=(S=Ce(this,Xn).config).onSettled)==null?void 0:k.call(S,ee,null,this.state.variables,this.state.context,this)),await((j=(P=this.options).onSettled)==null?void 0:j.call(P,ee,null,t,this.state.context)),Un(this,Ds,ti).call(this,{type:"success",data:ee}),ee}catch(ee){try{throw await((T=(C=Ce(this,Xn).config).onError)==null?void 0:T.call(C,ee,t,this.state.context,this)),await((M=(D=this.options).onError)==null?void 0:M.call(D,ee,t,this.state.context)),await((F=(O=Ce(this,Xn).config).onSettled)==null?void 0:F.call(O,void 0,ee,this.state.variables,this.state.context,this)),await((I=(V=this.options).onSettled)==null?void 0:I.call(V,void 0,ee,t,this.state.context)),ee}finally{Un(this,Ds,ti).call(this,{type:"error",error:ee})}}finally{Ce(this,Xn).runNext(this)}}},As=new WeakMap,Xn=new WeakMap,ta=new WeakMap,Ds=new WeakSet,ti=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qn.batch(()=>{Ce(this,As).forEach(a=>{a.onMutationUpdate(t)}),Ce(this,Xn).notify({mutation:this,type:"updated",action:t})})},jy);function vC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cr,Jc,Ey,xC=(Ey=class extends bf{constructor(t={}){super();qt(this,Cr);qt(this,Jc);this.config=t,Lt(this,Cr,new Map),Lt(this,Jc,Date.now())}build(t,r,a){const c=new gC({mutationCache:this,mutationId:++jd(this,Jc)._,options:t.defaultMutationOptions(r),state:a});return this.add(c),c}add(t){const r=Rd(t),a=Ce(this,Cr).get(r)??[];a.push(t),Ce(this,Cr).set(r,a),this.notify({type:"added",mutation:t})}remove(t){var a;const r=Rd(t);if(Ce(this,Cr).has(r)){const c=(a=Ce(this,Cr).get(r))==null?void 0:a.filter(d=>d!==t);c&&(c.length===0?Ce(this,Cr).delete(r):Ce(this,Cr).set(r,c))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const r=(a=Ce(this,Cr).get(Rd(t)))==null?void 0:a.find(c=>c.state.status==="pending");return!r||r===t}runNext(t){var a;const r=(a=Ce(this,Cr).get(Rd(t)))==null?void 0:a.find(c=>c!==t&&c.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Ce(this,Cr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(a=>Nx(r,a))}findAll(t={}){return this.getAll().filter(r=>Nx(t,r))}notify(t){Qn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Qn.batch(()=>Promise.all(t.map(r=>r.continue().catch(cs))))}},Cr=new WeakMap,Jc=new WeakMap,Ey);function Rd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Ex(e){return{onFetch:(t,r)=>{var _,b,S,k,P;const a=t.options,c=(S=(b=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:S.direction,d=((k=t.state.data)==null?void 0:k.pages)||[],f=((P=t.state.data)==null?void 0:P.pageParams)||[];let p={pages:[],pageParams:[]},g=0;const w=async()=>{let j=!1;const C=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(t.signal.aborted?j=!0:t.signal.addEventListener("abort",()=>{j=!0}),t.signal)})},T=l0(t.options,t.fetchOptions),D=async(M,O,F)=>{if(j)return Promise.reject();if(O==null&&M.pages.length)return Promise.resolve(M);const V={queryKey:t.queryKey,pageParam:O,direction:F?"backward":"forward",meta:t.options.meta};C(V);const I=await T(V),{maxPages:ee}=t.options,se=F?aC:iC;return{pages:se(M.pages,I,ee),pageParams:se(M.pageParams,O,ee)}};if(c&&d.length){const M=c==="backward",O=M?yC:Cx,F={pages:d,pageParams:f},V=O(a,F);p=await D(F,V,M)}else{const M=e??d.length;do{const O=g===0?f[0]??a.initialPageParam:Cx(a,p);if(g>0&&O==null)break;p=await D(p,O),g++}while(g<M)}return p};t.options.persister?t.fetchFn=()=>{var j,C;return(C=(j=t.options).persister)==null?void 0:C.call(j,w,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=w}}}function Cx(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function yC(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var gn,ii,ai,yl,wl,li,_l,bl,Cy,wC=(Cy=class{constructor(e={}){qt(this,gn);qt(this,ii);qt(this,ai);qt(this,yl);qt(this,wl);qt(this,li);qt(this,_l);qt(this,bl);Lt(this,gn,e.queryCache||new pC),Lt(this,ii,e.mutationCache||new xC),Lt(this,ai,e.defaultOptions||{}),Lt(this,yl,new Map),Lt(this,wl,new Map),Lt(this,li,0)}mount(){jd(this,li)._++,Ce(this,li)===1&&(Lt(this,_l,c0.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,gn).onFocus())})),Lt(this,bl,Qd.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,gn).onOnline())})))}unmount(){var e,t;jd(this,li)._--,Ce(this,li)===0&&((e=Ce(this,_l))==null||e.call(this),Lt(this,_l,void 0),(t=Ce(this,bl))==null||t.call(this),Lt(this,bl,void 0))}isFetching(e){return Ce(this,gn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ce(this,ii).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ce(this,gn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),a=Ce(this,gn).build(this,r);return e.revalidateIfStale&&a.isStaleByTime(_x(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Ce(this,gn).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),c=Ce(this,gn).get(a.queryHash),d=c==null?void 0:c.state.data,f=eC(t,d);if(f!==void 0)return Ce(this,gn).build(this,a).setData(f,{...r,manual:!0})}setQueriesData(e,t,r){return Qn.batch(()=>Ce(this,gn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ce(this,gn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ce(this,gn);Qn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ce(this,gn),a={type:"active",...e};return Qn.batch(()=>(r.findAll(e).forEach(c=>{c.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},a=Qn.batch(()=>Ce(this,gn).findAll(e).map(c=>c.cancel(r)));return Promise.all(a).then(cs).catch(cs)}invalidateQueries(e={},t={}){return Qn.batch(()=>{if(Ce(this,gn).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=Qn.batch(()=>Ce(this,gn).findAll(e).filter(c=>!c.isDisabled()).map(c=>{let d=c.fetch(void 0,r);return r.throwOnError||(d=d.catch(cs)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(a).then(cs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ce(this,gn).build(this,t);return r.isStaleByTime(_x(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(cs).catch(cs)}fetchInfiniteQuery(e){return e.behavior=Ex(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(cs).catch(cs)}ensureInfiniteQueryData(e){return e.behavior=Ex(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qd.isOnline()?Ce(this,ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ce(this,gn)}getMutationCache(){return Ce(this,ii)}getDefaultOptions(){return Ce(this,ai)}setDefaultOptions(e){Lt(this,ai,e)}setQueryDefaults(e,t){Ce(this,yl).set(Zc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ce(this,yl).values()];let r={};return t.forEach(a=>{qc(e,a.queryKey)&&(r={...r,...a.defaultOptions})}),r}setMutationDefaults(e,t){Ce(this,wl).set(Zc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ce(this,wl).values()];let r={};return t.forEach(a=>{qc(e,a.mutationKey)&&(r={...r,...a.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ce(this,ai).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===a0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ce(this,ai).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ce(this,gn).clear(),Ce(this,ii).clear()}},gn=new WeakMap,ii=new WeakMap,ai=new WeakMap,yl=new WeakMap,wl=new WeakMap,li=new WeakMap,_l=new WeakMap,bl=new WeakMap,Cy),_C=v.createContext(void 0),bC=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(_C.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gc.apply(this,arguments)}var ci;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ci||(ci={}));const Px="popstate";function NC(e){e===void 0&&(e={});function t(a,c){let{pathname:d,search:f,hash:p}=a.location;return tp("",{pathname:d,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(a,c){return typeof c=="string"?c:Jd(c)}return jC(t,r,null,e)}function Nn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function m0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SC(){return Math.random().toString(36).substr(2,8)}function Tx(e,t){return{usr:e.state,key:e.key,idx:t}}function tp(e,t,r,a){return r===void 0&&(r=null),Gc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ml(t):t,{state:r,key:t&&t.key||a||SC()})}function Jd(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ml(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function jC(e,t,r,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,f=c.history,p=ci.Pop,g=null,w=_();w==null&&(w=0,f.replaceState(Gc({},f.state,{idx:w}),""));function _(){return(f.state||{idx:null}).idx}function b(){p=ci.Pop;let C=_(),T=C==null?null:C-w;w=C,g&&g({action:p,location:j.location,delta:T})}function S(C,T){p=ci.Push;let D=tp(j.location,C,T);w=_()+1;let M=Tx(D,w),O=j.createHref(D);try{f.pushState(M,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;c.location.assign(O)}d&&g&&g({action:p,location:j.location,delta:1})}function k(C,T){p=ci.Replace;let D=tp(j.location,C,T);w=_();let M=Tx(D,w),O=j.createHref(D);f.replaceState(M,"",O),d&&g&&g({action:p,location:j.location,delta:0})}function P(C){let T=c.location.origin!=="null"?c.location.origin:c.location.href,D=typeof C=="string"?C:Jd(C);return D=D.replace(/ $/,"%20"),Nn(T,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,T)}let j={get action(){return p},get location(){return e(c,f)},listen(C){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Px,b),g=C,()=>{c.removeEventListener(Px,b),g=null}},createHref(C){return t(c,C)},createURL:P,encodeLocation(C){let T=P(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:S,replace:k,go(C){return f.go(C)}};return j}var kx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kx||(kx={}));function EC(e,t,r){return r===void 0&&(r="/"),CC(e,t,r)}function CC(e,t,r,a){let c=typeof t=="string"?Ml(t):t,d=Up(c.pathname||"/",r);if(d==null)return null;let f=p0(e);PC(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let w=$C(d);p=IC(f[g],w)}return p}function p0(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let c=(d,f,p)=>{let g={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};g.relativePath.startsWith("/")&&(Nn(g.relativePath.startsWith(a),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(a.length));let w=ui([a,g.relativePath]),_=r.concat(g);d.children&&d.children.length>0&&(Nn(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),p0(d.children,t,_,w)),!(d.path==null&&!d.index)&&t.push({path:w,score:DC(w,d.index),routesMeta:_})};return e.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))c(d,f);else for(let g of g0(d.path))c(d,f,g)}),t}function g0(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,c=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let f=g0(a.join("/")),p=[];return p.push(...f.map(g=>g===""?d:[d,g].join("/"))),c&&p.push(...f),p.map(g=>e.startsWith("/")&&g===""?"/":g)}function PC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:OC(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const TC=/^:[\w-]+$/,kC=3,MC=2,RC=1,LC=10,AC=-2,Mx=e=>e==="*";function DC(e,t){let r=e.split("/"),a=r.length;return r.some(Mx)&&(a+=AC),t&&(a+=MC),r.filter(c=>!Mx(c)).reduce((c,d)=>c+(TC.test(d)?kC:d===""?RC:LC),a)}function OC(e,t){return e.length===t.length&&e.slice(0,-1).every((a,c)=>a===t[c])?e[e.length-1]-t[t.length-1]:0}function IC(e,t,r){let{routesMeta:a}=e,c={},d="/",f=[];for(let p=0;p<a.length;++p){let g=a[p],w=p===a.length-1,_=d==="/"?t:t.slice(d.length)||"/",b=FC({path:g.relativePath,caseSensitive:g.caseSensitive,end:w},_),S=g.route;if(!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:ui([d,b.pathname]),pathnameBase:WC(ui([d,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(d=ui([d,b.pathnameBase]))}return f}function FC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=zC(e.path,e.caseSensitive,e.end),c=t.match(r);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:a.reduce((w,_,b)=>{let{paramName:S,isOptional:k}=_;if(S==="*"){let j=p[b]||"";f=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const P=p[b];return k&&!P?w[S]=void 0:w[S]=(P||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:f,pattern:e}}function zC(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),m0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),a]}function $C(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return m0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Up(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function BC(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:c=""}=typeof e=="string"?Ml(e):e;return{pathname:r?r.startsWith("/")?r:UC(r,t):t,search:VC(a),hash:ZC(c)}}function UC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Nm(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function v0(e,t){let r=HC(e);return t?r.map((a,c)=>c===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function x0(e,t,r,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=Ml(e):(c=Gc({},e),Nn(!c.pathname||!c.pathname.includes("?"),Nm("?","pathname","search",c)),Nn(!c.pathname||!c.pathname.includes("#"),Nm("#","pathname","hash",c)),Nn(!c.search||!c.search.includes("#"),Nm("#","search","hash",c)));let d=e===""||c.pathname==="",f=d?"/":c.pathname,p;if(f==null)p=r;else{let b=t.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;c.pathname=S.join("/")}p=b>=0?t[b]:"/"}let g=BC(c,p),w=f&&f!=="/"&&f.endsWith("/"),_=(d||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(w||_)&&(g.pathname+="/"),g}const ui=e=>e.join("/").replace(/\/\/+/g,"/"),WC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const y0=["post","put","patch","delete"];new Set(y0);const GC=["get",...y0];new Set(GC);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yc.apply(this,arguments)}const Hp=v.createContext(null),YC=v.createContext(null),ma=v.createContext(null),Sf=v.createContext(null),xi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),w0=v.createContext(null);function KC(e,t){let{relative:r}=t===void 0?{}:t;ou()||Nn(!1);let{basename:a,navigator:c}=v.useContext(ma),{hash:d,pathname:f,search:p}=N0(e,{relative:r}),g=f;return a!=="/"&&(g=f==="/"?a:ui([a,f])),c.createHref({pathname:g,search:p,hash:d})}function ou(){return v.useContext(Sf)!=null}function iu(){return ou()||Nn(!1),v.useContext(Sf).location}function _0(e){v.useContext(ma).static||v.useLayoutEffect(e)}function b0(){let{isDataRoute:e}=v.useContext(xi);return e?uP():XC()}function XC(){ou()||Nn(!1);let e=v.useContext(Hp),{basename:t,future:r,navigator:a}=v.useContext(ma),{matches:c}=v.useContext(xi),{pathname:d}=iu(),f=JSON.stringify(v0(c,r.v7_relativeSplatPath)),p=v.useRef(!1);return _0(()=>{p.current=!0}),v.useCallback(function(w,_){if(_===void 0&&(_={}),!p.current)return;if(typeof w=="number"){a.go(w);return}let b=x0(w,JSON.parse(f),d,_.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:ui([t,b.pathname])),(_.replace?a.replace:a.push)(b,_.state,_)},[t,a,f,d,e])}function QC(){let{matches:e}=v.useContext(xi),t=e[e.length-1];return t?t.params:{}}function N0(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=v.useContext(ma),{matches:c}=v.useContext(xi),{pathname:d}=iu(),f=JSON.stringify(v0(c,a.v7_relativeSplatPath));return v.useMemo(()=>x0(e,JSON.parse(f),d,r==="path"),[e,f,d,r])}function JC(e,t){return eP(e,t)}function eP(e,t,r,a){ou()||Nn(!1);let{navigator:c}=v.useContext(ma),{matches:d}=v.useContext(xi),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let w=iu(),_;if(t){var b;let C=typeof t=="string"?Ml(t):t;g==="/"||(b=C.pathname)!=null&&b.startsWith(g)||Nn(!1),_=C}else _=w;let S=_.pathname||"/",k=S;if(g!=="/"){let C=g.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let P=EC(e,{pathname:k}),j=oP(P&&P.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:ui([g,c.encodeLocation?c.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:ui([g,c.encodeLocation?c.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),d,r,a);return t&&j?v.createElement(Sf.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:ci.Pop}},j):j}function tP(){let e=cP(),t=qC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:c},r):null,null)}const nP=v.createElement(tP,null);class rP extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(xi.Provider,{value:this.props.routeContext},v.createElement(w0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sP(e){let{routeContext:t,match:r,children:a}=e,c=v.useContext(Hp);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(xi.Provider,{value:t},a)}function oP(e,t,r,a){var c;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var d;if(!r)return null;if(r.errors)e=r.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let f=e,p=(c=r)==null?void 0:c.errors;if(p!=null){let _=f.findIndex(b=>b.route.id&&(p==null?void 0:p[b.route.id])!==void 0);_>=0||Nn(!1),f=f.slice(0,Math.min(f.length,_+1))}let g=!1,w=-1;if(r&&a&&a.v7_partialHydration)for(let _=0;_<f.length;_++){let b=f[_];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(w=_),b.route.id){let{loaderData:S,errors:k}=r,P=b.route.loader&&S[b.route.id]===void 0&&(!k||k[b.route.id]===void 0);if(b.route.lazy||P){g=!0,w>=0?f=f.slice(0,w+1):f=[f[0]];break}}}return f.reduceRight((_,b,S)=>{let k,P=!1,j=null,C=null;r&&(k=p&&b.route.id?p[b.route.id]:void 0,j=b.route.errorElement||nP,g&&(w<0&&S===0?(dP("route-fallback"),P=!0,C=null):w===S&&(P=!0,C=b.route.hydrateFallbackElement||null)));let T=t.concat(f.slice(0,S+1)),D=()=>{let M;return k?M=j:P?M=C:b.route.Component?M=v.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=_,v.createElement(sP,{match:b,routeContext:{outlet:_,matches:T,isDataRoute:r!=null},children:M})};return r&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?v.createElement(rP,{location:r.location,revalidation:r.revalidation,component:j,error:k,children:D(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):D()},null)}var S0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(S0||{}),j0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(j0||{});function iP(e){let t=v.useContext(Hp);return t||Nn(!1),t}function aP(e){let t=v.useContext(YC);return t||Nn(!1),t}function lP(e){let t=v.useContext(xi);return t||Nn(!1),t}function E0(e){let t=lP(),r=t.matches[t.matches.length-1];return r.route.id||Nn(!1),r.route.id}function cP(){var e;let t=v.useContext(w0),r=aP(),a=E0();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function uP(){let{router:e}=iP(S0.UseNavigateStable),t=E0(j0.UseNavigateStable),r=v.useRef(!1);return _0(()=>{r.current=!0}),v.useCallback(function(c,d){d===void 0&&(d={}),r.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Yc({fromRouteId:t},d)))},[e,t])}const Rx={};function dP(e,t,r){Rx[e]||(Rx[e]=!0)}function ni(e){Nn(!1)}function fP(e){let{basename:t="/",children:r=null,location:a,navigationType:c=ci.Pop,navigator:d,static:f=!1,future:p}=e;ou()&&Nn(!1);let g=t.replace(/^\/*/,"/"),w=v.useMemo(()=>({basename:g,navigator:d,static:f,future:Yc({v7_relativeSplatPath:!1},p)}),[g,p,d,f]);typeof a=="string"&&(a=Ml(a));let{pathname:_="/",search:b="",hash:S="",state:k=null,key:P="default"}=a,j=v.useMemo(()=>{let C=Up(_,g);return C==null?null:{location:{pathname:C,search:b,hash:S,state:k,key:P},navigationType:c}},[g,_,b,S,k,P,c]);return j==null?null:v.createElement(ma.Provider,{value:w},v.createElement(Sf.Provider,{children:r,value:j}))}function hP(e){let{children:t,location:r}=e;return JC(np(t),r)}new Promise(()=>{});function np(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(a,c)=>{if(!v.isValidElement(a))return;let d=[...t,c];if(a.type===v.Fragment){r.push.apply(r,np(a.props.children,d));return}a.type!==ni&&Nn(!1),!a.props.index||!a.props.children||Nn(!1);let f={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=np(a.props.children,d)),r.push(f)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},rp.apply(this,arguments)}function mP(e,t){if(e==null)return{};var r={},a=Object.keys(e),c,d;for(d=0;d<a.length;d++)c=a[d],!(t.indexOf(c)>=0)&&(r[c]=e[c]);return r}function pP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gP(e,t){return e.button===0&&(!t||t==="_self")&&!pP(e)}const vP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],xP="6";try{window.__reactRouterVersion=xP}catch{}const yP="startTransition",Lx=Py[yP];function wP(e){let{basename:t,children:r,future:a,window:c}=e,d=v.useRef();d.current==null&&(d.current=NC({window:c,v5Compat:!0}));let f=d.current,[p,g]=v.useState({action:f.action,location:f.location}),{v7_startTransition:w}=a||{},_=v.useCallback(b=>{w&&Lx?Lx(()=>g(b)):g(b)},[g,w]);return v.useLayoutEffect(()=>f.listen(_),[f,_]),v.createElement(fP,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:f,future:a})}const _P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Os=v.forwardRef(function(t,r){let{onClick:a,relative:c,reloadDocument:d,replace:f,state:p,target:g,to:w,preventScrollReset:_,unstable_viewTransition:b}=t,S=mP(t,vP),{basename:k}=v.useContext(ma),P,j=!1;if(typeof w=="string"&&bP.test(w)&&(P=w,_P))try{let M=new URL(window.location.href),O=w.startsWith("//")?new URL(M.protocol+w):new URL(w),F=Up(O.pathname,k);O.origin===M.origin&&F!=null?w=F+O.search+O.hash:j=!0}catch{}let C=KC(w,{relative:c}),T=NP(w,{replace:f,state:p,target:g,preventScrollReset:_,relative:c,unstable_viewTransition:b});function D(M){a&&a(M),M.defaultPrevented||T(M)}return v.createElement("a",rp({},S,{href:P||C,onClick:j||d?a:D,ref:r,target:g}))});var Ax;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ax||(Ax={}));var Dx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dx||(Dx={}));function NP(e,t){let{target:r,replace:a,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p}=t===void 0?{}:t,g=b0(),w=iu(),_=N0(e,{relative:f});return v.useCallback(b=>{if(gP(b,r)){b.preventDefault();let S=a!==void 0?a:Jd(w)===Jd(_);g(e,{replace:S,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p})}},[w,g,_,a,c,r,e,d,f,p])}class ht{static init(){typeof window<"u"&&(this.baseUrl=window.location.origin,this.isInitialized=!0,console.log(`HttpClient: Initializing with baseUrl: ${this.baseUrl}`),console.log("HttpClient: Checking for fetch interference"),this.detectFetchInterference(),console.log(`HttpClient: Initialization complete. XHR mode: ${this.useXHROnly}`))}static ensureInitialized(){!this.isInitialized&&typeof window<"u"&&this.init(),!this.baseUrl&&typeof window<"u"&&(this.baseUrl=window.location.origin,console.log(`HttpClient: Fallback baseUrl set to: ${this.baseUrl}`))}static detectFetchInterference(){try{console.log("HttpClient: Checking for fetch interference...");const t={windowFS:!!window.FS,fullstoryScript:!!document.querySelector('script[src*="fullstory"]'),fsScript:!!document.querySelector('script[src*="fs.js"]'),userAgent:/fullstory/i.test(navigator.userAgent),fetchContainsFsJs:window.fetch.toString().includes("fs.js"),fetchTooShort:window.fetch.toString().length<50};if(console.log("HttpClient: FullStory detection checks:",t),Object.values(t).some(c=>c)){console.warn("FullStory detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}const a=window.fetch.toString();if(console.log("HttpClient: Fetch function length:",a.length),a.includes("eval")||a.includes("intercept")||a.includes("proxy")){console.warn("Fetch interception detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}console.log("HttpClient: No fetch interference detected, using native fetch")}catch{console.warn("Could not detect fetch interference, using XMLHttpRequest as fallback"),this.useXHROnly=!0}}static forceXHRMode(){console.log("HttpClient: Forced to use XMLHttpRequest mode"),this.useXHROnly=!0}static isUsingXHR(){return this.useXHROnly}static async testConnection(){try{console.log("HttpClient: Testing connection...");const t=await this.get("/api/employees",!1),r=t.ok;return console.log(`HttpClient: Connection test ${r?"passed":"failed"} - Status: ${t.status}`),r}catch(t){return console.error("HttpClient: Connection test failed:",t),!1}}static async fallbackFetch(t,r={}){return console.log(`HttpClient: XMLHttpRequest attempt to ${t}`),new Promise((a,c)=>{const d=new XMLHttpRequest,f=r.method||"GET";try{if(d.withCredentials=!1,d.open(f,t),r.headers){const p=r.headers;Object.keys(p).forEach(g=>{if(g.toLowerCase()!=="signal")try{d.setRequestHeader(g,p[g])}catch(w){console.warn(`HttpClient: Failed to set header ${g}:`,w)}})}d.timeout=25e3,d.onreadystatechange=()=>{console.log(`HttpClient: XHR readyState: ${d.readyState}, status: ${d.status}`)},d.onload=()=>{var p;console.log(`HttpClient: XHR onload - Status: ${d.status}, Response: ${(p=d.responseText)==null?void 0:p.substring(0,100)}...`);try{if(d.status>=200&&d.status<300){const g=new Response(d.responseText,{status:d.status,statusText:d.statusText,headers:new Headers({"Content-Type":d.getResponseHeader("Content-Type")||"application/json"})});a(g)}else c(new Error(`HTTP error ${d.status}: ${d.statusText||"No status text"}`))}catch(g){console.error("HttpClient: Error creating response:",g),c(new Error(`Failed to create response: ${g}`))}},d.onerror=p=>{console.error("HttpClient: XHR error event:",p),console.error("HttpClient: XHR error details:",{status:d.status,statusText:d.statusText,readyState:d.readyState,responseText:d.responseText,responseURL:d.responseURL,url:t,method:f});let g="XMLHttpRequest failed";d.readyState===0?g=`Request not initialized - possible CORS or network issue for ${t}`:d.readyState===1?g="Request opened but not sent":d.readyState===2?g="Headers received but request incomplete":d.readyState===3?g="Request in progress":d.readyState===4&&(d.status===0?g=`Network error or CORS policy blocked request to ${t}. Check if server is running and CORS is configured.`:g=`HTTP error ${d.status}: ${d.statusText||"Unknown error"} for ${t}`),c(new Error(g))},d.ontimeout=()=>{console.error("HttpClient: XHR timeout"),c(new Error("XMLHttpRequest timeout after 25 seconds"))},d.onabort=()=>{console.error("HttpClient: XHR aborted"),c(new Error("XMLHttpRequest was aborted"))},console.log(`HttpClient: Sending XHR ${f} request to ${t}`),r.body?(console.log("HttpClient: Request body:",r.body),d.send(r.body)):d.send()}catch(p){console.error("HttpClient: Error setting up XMLHttpRequest:",p),c(new Error(`Failed to setup XMLHttpRequest: ${p}`))}})}static async request(t,r={}){this.ensureInitialized();const a=t.startsWith("http")?t:`${this.baseUrl}${t}`,c=r.method||"GET",d=c==="GET"?`${c}:${a}`:null;if(d&&this.pendingRequests.has(d))return console.log(`HttpClient: Reusing pending request for ${a}`),this.pendingRequests.get(d);if(console.log(`HttpClient: Request to ${a} (baseUrl: ${this.baseUrl}, endpoint: ${t})`),!a||a==="undefined"||a.includes("undefined"))throw console.error("HttpClient: Invalid URL constructed:",{url:a,baseUrl:this.baseUrl,endpoint:t}),new Error(`Invalid URL: ${a}`);const p={...r,headers:{...{"Content-Type":"application/json"},...r.headers}},g=this.executeRequest(a,p);return d&&(this.pendingRequests.set(d,g),g.finally(()=>{this.pendingRequests.delete(d)})),g}static async executeRequest(t,r){var d,f;if(this.useXHROnly)return console.log(`HttpClient: Using XMLHttpRequest for ${t} (FullStory detected)`),this.fallbackFetch(t,r);let a=null,c=null;try{a=new AbortController,c=setTimeout(()=>{a&&!a.signal.aborted&&a.abort("Request timeout after 20 seconds")},2e4);const p={...r,signal:a.signal};console.log(`HttpClient: Attempting fetch to ${t}`);const g=await fetch(t,p);return c&&(clearTimeout(c),c=null),console.log(`HttpClient: Fetch successful to ${t}`,g.status),g}catch(p){c&&(clearTimeout(c),c=null),console.warn(`HttpClient: Fetch failed, trying fallback for ${t}:`,p),p instanceof TypeError&&(p.message.includes("fetch")||p.message.includes("Failed to fetch")||(d=p.stack)!=null&&d.includes("fullstory")||(f=p.stack)!=null&&f.includes("fs.js"))&&(console.log("HttpClient: Detected FullStory interference, switching to XMLHttpRequest mode permanently"),this.useXHROnly=!0),p instanceof Error&&p.name==="AbortError"&&console.log("HttpClient: Request was aborted, trying fallback without signal");try{const g=await this.fallbackFetch(t,r);return console.log(`HttpClient: Fallback successful to ${t}`,g.status),g}catch(g){throw console.error(`HttpClient: Both fetch and fallback failed for ${t}:`,g),g}}}static async requestWithRetry(t,r={},a=2){var d,f;let c=null;for(let p=0;p<=a;p++)try{return await this.request(t,r)}catch(g){if(c=g,console.warn(`HttpClient: Attempt ${p+1} failed for ${t}:`,g),g instanceof TypeError&&(g.message.includes("fetch")||g.message.includes("Failed to fetch")||(d=g.stack)!=null&&d.includes("fullstory")||(f=g.stack)!=null&&f.includes("fs.js"))){console.log("HttpClient: FullStory error detected in retry, switching to XMLHttpRequest mode"),this.useXHROnly=!0;try{const w=t.startsWith("http")?t:`${this.baseUrl}${t}`,b={...r,headers:{...{"Content-Type":"application/json"},...r.headers}};return await this.fallbackFetch(w,b)}catch(w){console.error("HttpClient: XHR fallback also failed:",w)}}p<a&&await new Promise(w=>setTimeout(w,Math.pow(2,p)*1e3))}throw c}static async get(t,r=!1){return r?this.requestWithRetry(t,{method:"GET"}):this.request(t,{method:"GET"})}static async post(t,r,a=!0){const c={method:"POST",body:r?JSON.stringify(r):void 0};return a?this.requestWithRetry(t,c):this.request(t,c)}static async put(t,r,a=!0){const c={method:"PUT",body:r?JSON.stringify(r):void 0};return a?this.requestWithRetry(t,c):this.request(t,c)}static async delete(t,r=!1){return r?this.requestWithRetry(t,{method:"DELETE"}):this.request(t,{method:"DELETE"})}}Ms(ht,"baseUrl",""),Ms(ht,"isInitialized",!1),Ms(ht,"useXHROnly",!1),Ms(ht,"pendingRequests",new Map);ht.init();const dt=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:mt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));dt.displayName="Card";const Tt=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:mt("flex flex-col space-y-1.5 p-6",e),...t}));Tt.displayName="CardHeader";const kt=v.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:mt("text-2xl font-semibold leading-none tracking-tight",e),...t}));kt.displayName="CardTitle";const SP=v.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:mt("text-sm text-muted-foreground",e),...t}));SP.displayName="CardDescription";const ft=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:mt("p-6 pt-0",e),...t}));ft.displayName="CardContent";const jP=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:mt("flex items-center p-6 pt-0",e),...t}));jP.displayName="CardFooter";const EP=tu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pe=v.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...c},d)=>{const f=a?ia:"button";return o.jsx(f,{className:mt(EP({variant:t,size:r,className:e})),ref:d,...c})});Pe.displayName="Button";const CP=tu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pt({className:e,variant:t,...r}){return o.jsx("div",{className:mt(CP({variant:t}),e),...r})}var Lc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var PP=Lc.exports,Ox;function TP(){return Ox||(Ox=1,function(e,t){(function(r,a){a(t)})(PP,function(r){var a="1.9.4";function c(s){var l,h,x,E;for(h=1,x=arguments.length;h<x;h++){E=arguments[h];for(l in E)s[l]=E[l]}return s}var d=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function f(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var x=h.call(arguments,2);return function(){return s.apply(l,x.length?x.concat(h.call(arguments)):arguments)}}var p=0;function g(s){return"_leaflet_id"in s||(s._leaflet_id=++p),s._leaflet_id}function w(s,l,h){var x,E,A,H;return H=function(){x=!1,E&&(A.apply(h,E),E=!1)},A=function(){x?E=arguments:(s.apply(h,arguments),setTimeout(H,l),x=!0)},A}function _(s,l,h){var x=l[1],E=l[0],A=x-E;return s===x&&h?s:((s-E)%A+A)%A+E}function b(){return!1}function S(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function k(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function P(s){return k(s).split(/\s+/)}function j(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function C(s,l,h){var x=[];for(var E in s)x.push(encodeURIComponent(h?E.toUpperCase():E)+"="+encodeURIComponent(s[E]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function D(s,l){return s.replace(T,function(h,x){var E=l[x];if(E===void 0)throw new Error("No value provided for variable "+h);return typeof E=="function"&&(E=E(l)),E})}var M=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function O(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var F="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var I=0;function ee(s){var l=+new Date,h=Math.max(0,16-(l-I));return I=l+h,window.setTimeout(s,h)}var se=window.requestAnimationFrame||V("RequestAnimationFrame")||ee,G=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Q(s,l,h){if(h&&se===ee)s.call(l);else return se.call(window,f(s,l))}function pe(s){s&&G.call(window,s)}var Oe={__proto__:null,extend:c,create:d,bind:f,get lastId(){return p},stamp:g,throttle:w,wrapNum:_,falseFn:b,formatNum:S,trim:k,splitWords:P,setOptions:j,getParamString:C,template:D,isArray:M,indexOf:O,emptyImageUrl:F,requestFn:se,cancelFn:G,requestAnimFrame:Q,cancelAnimFrame:pe};function ve(){}ve.extend=function(s){var l=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,x=d(h);x.constructor=l,l.prototype=x;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return s.statics&&c(l,s.statics),s.includes&&(de(s.includes),c.apply(null,[x].concat(s.includes))),c(x,s),delete x.statics,delete x.includes,x.options&&(x.options=h.options?d(h.options):{},c(x.options,s.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,H=x._initHooks.length;A<H;A++)x._initHooks[A].call(this)}},l},ve.include=function(s){var l=this.prototype.options;return c(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},ve.mergeOptions=function(s){return c(this.prototype.options,s),this},ve.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function de(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=M(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ye={on:function(s,l,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],l);else{s=P(s);for(var E=0,A=s.length;E<A;E++)this._on(s[E],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var x in s)this._off(x,s[x],l);else{s=P(s);for(var E=arguments.length===1,A=0,H=s.length;A<H;A++)E?this._off(s[A]):this._off(s[A],l,h)}return this},_on:function(s,l,h,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var E={fn:l,ctx:h};x&&(E.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(E)}},_off:function(s,l,h){var x,E,A;if(this._events&&(x=this._events[s],!!x)){if(arguments.length===1){if(this._firingCount)for(E=0,A=x.length;E<A;E++)x[E].fn=b;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var H=this._listens(s,l,h);if(H!==!1){var ne=x[H];this._firingCount&&(ne.fn=b,this._events[s]=x=x.slice()),x.splice(H,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var x=c({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[s];if(E){this._firingCount=this._firingCount+1||1;for(var A=0,H=E.length;A<H;A++){var ne=E[A],ue=ne.fn;ne.once&&this.off(s,ue,ne.ctx),ue.call(ne.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(s,l,h,x){typeof s!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(x=!!l,E=void 0,h=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,E,h)!==!1)return!0;if(x){for(var H in this._eventParents)if(this._eventParents[H].listens(s,l,h,x))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var x=this._events[s]||[];if(!l)return!!x.length;h===this&&(h=void 0);for(var E=0,A=x.length;E<A;E++)if(x[E].fn===l&&x[E].ctx===h)return E;return!1},once:function(s,l,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],l,!0);else{s=P(s);for(var E=0,A=s.length;E<A;E++)this._on(s[E],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[g(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[g(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,c({layer:s.target,propagatedFrom:s.target},s),!0)}};ye.addEventListener=ye.on,ye.removeEventListener=ye.clearAllEventListeners=ye.off,ye.addOneTimeEventListener=ye.once,ye.fireEvent=ye.fire,ye.hasEventListeners=ye.listens;var be=ve.extend(ye);function W(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var ge=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(s){return this.clone()._add(ie(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ie(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new W(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new W(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ge(this.x),this.y=ge(this.y),this},distanceTo:function(s){s=ie(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=ie(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ie(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function ie(s,l,h){return s instanceof W?s:M(s)?new W(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new W(s.x,s.y):new W(s,l,h)}function z(s,l){if(s)for(var h=l?[s,l]:s,x=0,E=h.length;x<E;x++)this.extend(h[x])}z.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof W||typeof s[0]=="number"||"x"in s)l=h=ie(s);else if(s=J(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ie(this.min.x,this.max.y)},getTopRight:function(){return ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof W?s=ie(s):s=J(s),s instanceof z?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=J(s);var l=this.min,h=this.max,x=s.min,E=s.max,A=E.x>=l.x&&x.x<=h.x,H=E.y>=l.y&&x.y<=h.y;return A&&H},overlaps:function(s){s=J(s);var l=this.min,h=this.max,x=s.min,E=s.max,A=E.x>l.x&&x.x<h.x,H=E.y>l.y&&x.y<h.y;return A&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,x=Math.abs(l.x-h.x)*s,E=Math.abs(l.y-h.y)*s;return J(ie(l.x-x,l.y-E),ie(h.x+x,h.y+E))},equals:function(s){return s?(s=J(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function J(s,l){return!s||s instanceof z?s:new z(s,l)}function X(s,l){if(s)for(var h=l?[s,l]:s,x=0,E=h.length;x<E;x++)this.extend(h[x])}X.prototype={extend:function(s){var l=this._southWest,h=this._northEast,x,E;if(s instanceof ce)x=s,E=s;else if(s instanceof X){if(x=s._southWest,E=s._northEast,!x||!E)return this}else return s?this.extend(U(s)||he(s)):this;return!l&&!h?(this._southWest=new ce(x.lat,x.lng),this._northEast=new ce(E.lat,E.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),h.lat=Math.max(E.lat,h.lat),h.lng=Math.max(E.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,x=Math.abs(l.lat-h.lat)*s,E=Math.abs(l.lng-h.lng)*s;return new X(new ce(l.lat-x,l.lng-E),new ce(h.lat+x,h.lng+E))},getCenter:function(){return new ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof ce||"lat"in s?s=U(s):s=he(s);var l=this._southWest,h=this._northEast,x,E;return s instanceof X?(x=s.getSouthWest(),E=s.getNorthEast()):x=E=s,x.lat>=l.lat&&E.lat<=h.lat&&x.lng>=l.lng&&E.lng<=h.lng},intersects:function(s){s=he(s);var l=this._southWest,h=this._northEast,x=s.getSouthWest(),E=s.getNorthEast(),A=E.lat>=l.lat&&x.lat<=h.lat,H=E.lng>=l.lng&&x.lng<=h.lng;return A&&H},overlaps:function(s){s=he(s);var l=this._southWest,h=this._northEast,x=s.getSouthWest(),E=s.getNorthEast(),A=E.lat>l.lat&&x.lat<h.lat,H=E.lng>l.lng&&x.lng<h.lng;return A&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=he(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function he(s,l){return s instanceof X?s:new X(s,l)}function ce(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}ce.prototype={equals:function(s,l){if(!s)return!1;s=U(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+S(this.lat,s)+", "+S(this.lng,s)+")"},distanceTo:function(s){return we.distance(this,U(s))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return he([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new ce(this.lat,this.lng,this.alt)}};function U(s,l,h){return s instanceof ce?s:M(s)&&typeof s[0]!="object"?s.length===3?new ce(s[0],s[1],s[2]):s.length===2?new ce(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new ce(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new ce(s,l,h)}var K={latLngToPoint:function(s,l){var h=this.projection.project(s),x=this.scale(l);return this.transformation._transform(h,x)},pointToLatLng:function(s,l){var h=this.scale(l),x=this.transformation.untransform(s,h);return this.projection.unproject(x)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),x=this.transformation.transform(l.min,h),E=this.transformation.transform(l.max,h);return new z(x,E)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?_(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?_(s.lat,this.wrapLat,!0):s.lat,x=s.alt;return new ce(h,l,x)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),x=l.lat-h.lat,E=l.lng-h.lng;if(x===0&&E===0)return s;var A=s.getSouthWest(),H=s.getNorthEast(),ne=new ce(A.lat-x,A.lng-E),ue=new ce(H.lat-x,H.lng-E);return new X(ne,ue)}},we=c({},K,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,x=s.lat*h,E=l.lat*h,A=Math.sin((l.lat-s.lat)*h/2),H=Math.sin((l.lng-s.lng)*h/2),ne=A*A+Math.cos(x)*Math.cos(E)*H*H,ue=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*ue}}),Te=6378137,$e={R:Te,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,s.lat),-h),E=Math.sin(x*l);return new W(this.R*s.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(s){var l=180/Math.PI;return new ce((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=Te*Math.PI;return new z([-s,-s],[s,s])}()};function Ye(s,l,h,x){if(M(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=x}Ye.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new W((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Ge(s,l,h,x){return new Ye(s,l,h,x)}var at=c({},we,{code:"EPSG:3857",projection:$e,transformation:function(){var s=.5/(Math.PI*$e.R);return Ge(s,.5,-s,.5)}()}),Mt=c({},at,{code:"EPSG:900913"});function Ne(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Z(s,l){var h="",x,E,A,H,ne,ue;for(x=0,A=s.length;x<A;x++){for(ne=s[x],E=0,H=ne.length;E<H;E++)ue=ne[E],h+=(E?"L":"M")+ue.x+" "+ue.y;h+=l?Je.svg?"z":"x":""}return h||"M0 0"}var me=document.documentElement.style,Se="ActiveXObject"in window,Ee=Se&&!document.addEventListener,We="msLaunchUri"in navigator&&!("documentMode"in document),tt=Sn("webkit"),Qe=Sn("android"),Ut=Sn("android 2")||Sn("android 3"),Nt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),bt=Qe&&Sn("Google")&&Nt<537&&!("AudioNode"in window),Rt=!!window.opera,Ht=!We&&Sn("chrome"),Vt=Sn("gecko")&&!tt&&!Rt&&!Se,B=!Ht&&Sn("safari"),je=Sn("phantom"),Le="OTransition"in me,Me=navigator.platform.indexOf("Win")===0,ze=Se&&"transition"in me,Ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ut,Ue="MozPerspective"in me,Ke=!window.L_DISABLE_3D&&(ze||Ve||Ue)&&!Le&&!je,Ie=typeof orientation<"u"||Sn("mobile"),oe=Ie&&tt,te=Ie&&Ve,le=!window.PointerEvent&&window.MSPointerEvent,_e=!!(window.PointerEvent||le),Be="ontouchstart"in window||!!window.TouchEvent,Ft=!window.L_NO_TOUCH&&(Be||_e),st=Ie&&Rt,Et=Ie&&Vt,zt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kt=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",b,l),window.removeEventListener("testPassiveEventSupport",b,l)}catch{}return s}(),er=function(){return!!document.createElement("canvas").getContext}(),$s=!!(document.createElementNS&&Ne("svg").createSVGRect),vs=!!$s&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xo=!$s&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),xs=navigator.platform.indexOf("Mac")===0,pa=navigator.platform.indexOf("Linux")===0;function Sn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Je={ie:Se,ielt9:Ee,edge:We,webkit:tt,android:Qe,android23:Ut,androidStock:bt,opera:Rt,chrome:Ht,gecko:Vt,safari:B,phantom:je,opera12:Le,win:Me,ie3d:ze,webkit3d:Ve,gecko3d:Ue,any3d:Ke,mobile:Ie,mobileWebkit:oe,mobileWebkit3d:te,msPointer:le,pointer:_e,touch:Ft,touchNative:Be,mobileOpera:st,mobileGecko:Et,retina:zt,passiveEvents:Kt,canvas:er,svg:$s,vml:xo,inlineSvg:vs,mac:xs,linux:pa},_i=Je.msPointer?"MSPointerDown":"pointerdown",ga=Je.msPointer?"MSPointerMove":"pointermove",fu=Je.msPointer?"MSPointerUp":"pointerup",hu=Je.msPointer?"MSPointerCancel":"pointercancel",Dl={touchstart:_i,touchmove:ga,touchend:fu,touchcancel:hu},ys={touchstart:cn,touchmove:va,touchend:va,touchcancel:va},Bs={},Ol=!1;function $f(s,l,h){return l==="touchstart"&&Bf(),ys[l]?(h=ys[l].bind(this,h),s.addEventListener(Dl[l],h,!1),h):(console.warn("wrong event specified:",l),b)}function mu(s,l,h){if(!Dl[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Dl[l],h,!1)}function pu(s){Bs[s.pointerId]=s}function gu(s){Bs[s.pointerId]&&(Bs[s.pointerId]=s)}function Il(s){delete Bs[s.pointerId]}function Bf(){Ol||(document.addEventListener(_i,pu,!0),document.addEventListener(ga,gu,!0),document.addEventListener(fu,Il,!0),document.addEventListener(hu,Il,!0),Ol=!0)}function va(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Bs)l.touches.push(Bs[h]);l.changedTouches=[l],s(l)}}function cn(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&un(l),va(s,l)}function Uf(s){var l={},h,x;for(x in s)h=s[x],l[x]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Fl=200;function vu(s,l){s.addEventListener("dblclick",l);var h=0,x;function E(A){if(A.detail!==1){x=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var H=Ws(A);if(!(H.some(function(ue){return ue instanceof HTMLLabelElement&&ue.attributes.for})&&!H.some(function(ue){return ue instanceof HTMLInputElement||ue instanceof HTMLSelectElement}))){var ne=Date.now();ne-h<=Fl?(x++,x===2&&l(Uf(A))):x=1,h=ne}}}return s.addEventListener("click",E),{dblclick:l,simDblclick:E}}function xa(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var zl=bo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yo=bo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bi=yo==="webkitTransition"||yo==="OTransition"?yo+"End":"transitionend";function gr(s){return typeof s=="string"?document.getElementById(s):s}function Ni(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(s,null);h=x?x[l]:null}return h==="auto"?null:h}function _t(s,l,h){var x=document.createElement(s);return x.className=l||"",h&&h.appendChild(x),x}function tn(s){var l=s.parentNode;l&&l.removeChild(s)}function ya(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function wo(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Qr(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function _o(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=wa(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function yt(s,l){if(s.classList!==void 0)for(var h=P(l),x=0,E=h.length;x<E;x++)s.classList.add(h[x]);else if(!_o(s,l)){var A=wa(s);$l(s,(A?A+" ":"")+l)}}function Jt(s,l){s.classList!==void 0?s.classList.remove(l):$l(s,k((" "+wa(s)+" ").replace(" "+l+" "," ")))}function $l(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function wa(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Dn(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&xu(s,l)}function xu(s,l){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+x+"(opacity="+l+")"}function bo(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function vr(s,l,h){var x=l||new W(0,0);s.style[zl]=(Je.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function mn(s,l){s._leaflet_pos=l,Je.any3d?vr(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function Jr(s){return s._leaflet_pos||new W(0,0)}var $t,No,_a;if("onselectstart"in document)$t=function(){pt(window,"selectstart",un)},No=function(){Xt(window,"selectstart",un)};else{var Us=bo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$t=function(){if(Us){var s=document.documentElement.style;_a=s[Us],s[Us]="none"}},No=function(){Us&&(document.documentElement.style[Us]=_a,_a=void 0)}}function ba(){pt(window,"dragstart",un)}function Na(){Xt(window,"dragstart",un)}var Si,ji;function So(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(xr(),Si=s,ji=s.style.outlineStyle,s.style.outlineStyle="none",pt(window,"keydown",xr))}function xr(){Si&&(Si.style.outlineStyle=ji,Si=void 0,ji=void 0,Xt(window,"keydown",xr))}function es(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Rr(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Ei={__proto__:null,TRANSFORM:zl,TRANSITION:yo,TRANSITION_END:bi,get:gr,getStyle:Ni,create:_t,remove:tn,empty:ya,toFront:wo,toBack:Qr,hasClass:_o,addClass:yt,removeClass:Jt,setClass:$l,getClass:wa,setOpacity:Dn,testProp:bo,setTransform:vr,setPosition:mn,getPosition:Jr,get disableTextSelection(){return $t},get enableTextSelection(){return No},disableImageDrag:ba,enableImageDrag:Na,preventOutline:So,restoreOutline:xr,getSizedParentNode:es,getScale:Rr};function pt(s,l,h,x){if(l&&typeof l=="object")for(var E in l)Ul(s,E,l[E],h);else{l=P(l);for(var A=0,H=l.length;A<H;A++)Ul(s,l[A],h,x)}return this}var jn="_leaflet_events";function Xt(s,l,h,x){if(arguments.length===1)Bl(s),delete s[jn];else if(l&&typeof l=="object")for(var E in l)Sa(s,E,l[E],h);else if(l=P(l),arguments.length===2)Bl(s,function(ne){return O(l,ne)!==-1});else for(var A=0,H=l.length;A<H;A++)Sa(s,l[A],h,x);return this}function Bl(s,l){for(var h in s[jn]){var x=h.split(/\d/)[0];(!l||l(x))&&Sa(s,x,null,null,h)}}var Hs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ul(s,l,h,x){var E=l+g(h)+(x?"_"+g(x):"");if(s[jn]&&s[jn][E])return this;var A=function(ne){return h.call(x||s,ne||window.event)},H=A;!Je.touchNative&&Je.pointer&&l.indexOf("touch")===0?A=$f(s,l,A):Je.touch&&l==="dblclick"?A=vu(s,A):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Hs[l]||l,A,Je.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(A=function(ne){ne=ne||window.event,Ti(s,ne)&&H(ne)},s.addEventListener(Hs[l],A,!1)):s.addEventListener(l,H,!1):s.attachEvent("on"+l,A),s[jn]=s[jn]||{},s[jn][E]=A}function Sa(s,l,h,x,E){E=E||l+g(h)+(x?"_"+g(x):"");var A=s[jn]&&s[jn][E];if(!A)return this;!Je.touchNative&&Je.pointer&&l.indexOf("touch")===0?mu(s,l,A):Je.touch&&l==="dblclick"?xa(s,A):"removeEventListener"in s?s.removeEventListener(Hs[l]||l,A,!1):s.detachEvent("on"+l,A),s[jn][E]=null}function Lr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ja(s){return Ul(s,"wheel",Lr),this}function Ci(s){return pt(s,"mousedown touchstart dblclick contextmenu",Lr),s._leaflet_disable_click=!0,this}function un(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function yr(s){return un(s),Lr(s),this}function Ws(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function Pi(s,l){if(!l)return new W(s.clientX,s.clientY);var h=Rr(l),x=h.boundingClientRect;return new W((s.clientX-x.left)/h.x-l.clientLeft,(s.clientY-x.top)/h.y-l.clientTop)}var Hf=Je.linux&&Je.chrome?window.devicePixelRatio:Je.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yu(s){return Je.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Hf:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ti(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Ea={__proto__:null,on:pt,off:Xt,stopPropagation:Lr,disableScrollPropagation:ja,disableClickPropagation:Ci,preventDefault:un,stop:yr,getPropagationPath:Ws,getMousePosition:Pi,getWheelDelta:yu,isExternalTarget:Ti,addListener:pt,removeListener:Xt},Ca=be.extend({run:function(s,l,h,x){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Jr(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),mn(this._el,h),this.fire("step")},_complete:function(){pe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),It=be.extend({options:{crs:at,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=j(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(U(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yo&&Je.any3d&&!Je.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),pt(this._proxy,bi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(U(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(Je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(Je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var x=this.getZoomScale(l),E=this.getSize().divideBy(2),A=s instanceof W?s:this.latLngToContainerPoint(s),H=A.subtract(E).multiplyBy(1-1/x),ne=this.containerPointToLatLng(E.add(H));return this.setView(ne,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():he(s);var h=ie(l.paddingTopLeft||l.padding||[0,0]),x=ie(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(s,!1,h.add(x));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:s.getCenter(),zoom:E};var A=x.subtract(h).divideBy(2),H=this.project(s.getSouthWest(),E),ne=this.project(s.getNorthEast(),E),ue=this.unproject(H.add(ne).divideBy(2).add(A),E);return{center:ue,zoom:E}},fitBounds:function(s,l){if(s=he(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=ie(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ca,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){yt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!Je.any3d)return this.setView(s,l,h);this._stop();var x=this.project(this.getCenter()),E=this.project(s),A=this.getSize(),H=this._zoom;s=U(s),l=l===void 0?H:l;var ne=Math.max(A.x,A.y),ue=ne*this.getZoomScale(H,l),ke=E.distanceTo(x)||1,Ze=1.42,lt=Ze*Ze;function St(Zt){var zo=Zt?-1:1,rh=Zt?ue:ne,sh=ue*ue-ne*ne+zo*lt*lt*ke*ke,Xs=2*rh*lt*ke,Qs=sh/Xs,Js=Math.sqrt(Qs*Qs+1)-Qs,Ba=Js<1e-9?-18:Math.log(Js);return Ba}function En(Zt){return(Math.exp(Zt)-Math.exp(-Zt))/2}function wn(Zt){return(Math.exp(Zt)+Math.exp(-Zt))/2}function Gn(Zt){return En(Zt)/wn(Zt)}var In=St(0);function Io(Zt){return ne*(wn(In)/wn(In+Ze*Zt))}function cc(Zt){return ne*(wn(In)*Gn(In+Ze*Zt)-En(In))/lt}function Cs(Zt){return 1-Math.pow(1-Zt,1.5)}var $u=Date.now(),Ks=(St(1)-In)/Ze,Ir=h.duration?1e3*h.duration:1e3*Ks*.8;function Fo(){var Zt=(Date.now()-$u)/Ir,zo=Cs(Zt)*Ks;Zt<=1?(this._flyToFrame=Q(Fo,this),this._move(this.unproject(x.add(E.subtract(x).multiplyBy(cc(zo)/ke)),H),this.getScaleZoom(ne/Io(zo),H),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Fo.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=he(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,he(s));return h.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=ie(l.paddingTopLeft||l.padding||[0,0]),x=ie(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),A=this.project(s),H=this.getPixelBounds(),ne=J([H.min.add(h),H.max.subtract(x)]),ue=ne.getSize();if(!ne.contains(A)){this._enforcingBounds=!0;var ke=A.subtract(ne.getCenter()),Ze=ne.extend(A).getSize().subtract(ue);E.x+=ke.x<0?-Ze.x:Ze.x,E.y+=ke.y<0?-Ze.y:Ze.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=c({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=l.divideBy(2).round(),E=h.divideBy(2).round(),A=x.subtract(E);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=c({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,x=new ce(l,h),E=x.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var H=this.getBoundsZoom(E);this.setView(x,A.maxZoom?Math.min(H,A.maxZoom):H)}var ne={latlng:x,bounds:E,timestamp:s.timestamp};for(var ue in s.coords)typeof s.coords[ue]=="number"&&(ne[ue]=s.coords[ue]);this.fire("locationfound",ne)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),tn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(pe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)tn(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),x=_t("div",h,l||this._mapPane);return s&&(this._panes[s]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new X(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=he(s),h=ie(h||[0,0]);var x=this.getZoom()||0,E=this.getMinZoom(),A=this.getMaxZoom(),H=s.getNorthWest(),ne=s.getSouthEast(),ue=this.getSize().subtract(h),ke=J(this.project(ne,x),this.project(H,x)).getSize(),Ze=Je.any3d?this.options.zoomSnap:1,lt=ue.x/ke.x,St=ue.y/ke.y,En=l?Math.max(lt,St):Math.min(lt,St);return x=this.getScaleZoom(En,x),Ze&&(x=Math.round(x/(Ze/100))*(Ze/100),x=l?Math.ceil(x/Ze)*Ze:Math.floor(x/Ze)*Ze),Math.max(E,Math.min(A,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new z(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var x=h.zoom(s*h.scale(l));return isNaN(x)?1/0:x},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(U(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(ie(s),l)},layerPointToLatLng:function(s){var l=ie(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(U(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(U(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(he(s))},distance:function(s,l){return this.options.crs.distance(U(s),U(l))},containerPointToLayerPoint:function(s){return ie(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ie(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(ie(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(U(s)))},mouseEventToContainerPoint:function(s){return Pi(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=gr(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");pt(l,"scroll",this._onScroll,this),this._containerId=g(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Je.any3d,yt(s,"leaflet-container"+(Je.touch?" leaflet-touch":"")+(Je.retina?" leaflet-retina":"")+(Je.ielt9?" leaflet-oldie":"")+(Je.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ni(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mn(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(s.markerPane,"leaflet-zoom-hide"),yt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){mn(this._mapPane,new W(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,h)._move(s,l)._moveEnd(E),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,x){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),x?h&&h.pinch&&this.fire("zoom",h):((E||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return pe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){mn(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[g(this._container)]=this;var l=s?Xt:pt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Je.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){pe(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],x,E=l==="mouseout"||l==="mouseover",A=s.target||s.srcElement,H=!1;A;){if(x=this._targets[g(A)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){H=!0;break}if(x&&x.listens(l,!0)&&(E&&!Ti(A,s)||(h.push(x),E))||A===this._container)break;A=A.parentNode}return!h.length&&!H&&!E&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&So(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var x=c({},s);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var E=this._findEventTargets(s,l);if(h){for(var A=[],H=0;H<h.length;H++)h[H].listens(l,!0)&&A.push(h[H]);E=A.concat(E)}if(E.length){l==="contextmenu"&&un(s);var ne=E[0],ue={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ke=ne.getLatLng&&(!ne._radius||ne._radius<=10);ue.containerPoint=ke?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(s),ue.layerPoint=this.containerPointToLayerPoint(ue.containerPoint),ue.latlng=ke?ne.getLatLng():this.layerPointToLatLng(ue.layerPoint)}for(H=0;H<E.length;H++)if(E[H].fire(l,ue,!0),ue.originalEvent._stopped||E[H].options.bubblingMouseEvents===!1&&O(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return Jr(this._mapPane)||new W(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var x=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(s,l,h){var x=this._getNewPixelOrigin(h,l);return J([this.project(s.getSouthWest(),l)._subtract(x),this.project(s.getNorthWest(),l)._subtract(x),this.project(s.getSouthEast(),l)._subtract(x),this.project(s.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var x=this.project(s,l),E=this.getSize().divideBy(2),A=new z(x.subtract(E),x.add(E)),H=this._getBoundsOffset(A,h,l);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?s:this.unproject(x.add(H),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),x=new z(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(s,l,h){var x=J(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),E=x.min.subtract(s.min),A=x.max.subtract(s.max),H=this._rebound(E.x,-A.x),ne=this._rebound(E.y,-A.y);return new W(H,ne)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),x=Je.any3d?this.options.zoomSnap:1;return x&&(s=Math.round(s/x)*x),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Jt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=_t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=zl,x=this._proxy.style[h];vr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){tn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();vr(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),E=this._getCenterOffset(s)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(E)?!1:(Q(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Jt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ws(s,l){return new It(s,l)}var Zn=ve.extend({options:{position:"topright"},initialize:function(s){j(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),x=s._controlCorners[h];return yt(l,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(tn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),_s=function(s){return new Zn(s)};It.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=_t("div",l+"control-container",this._container);function x(E,A){var H=l+E+" "+l+A;s[E+A]=_t("div",H,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)tn(this._controlCorners[s]);tn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Hl=Zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,x){return h<x?-1:x<h?1:0}},initialize:function(s,l,h){j(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in s)this._addLayer(s[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Zn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(g(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Jt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Jt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=_t("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ci(l),ja(l);var x=this._section=_t("section",s+"-list");h&&(this._map.on("click",this.collapse,this),pt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=_t("a",s+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),pt(E,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){un(A),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=_t("div",s+"-base",x),this._separator=_t("div",s+"-separator",x),this._overlaysList=_t("div",s+"-overlays",x),l.appendChild(x)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&g(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(x,E){return this.options.sortFunction(x.layer,E.layer,x.name,E.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ya(this._baseLayersList),ya(this._overlaysList),this._layerControlInputs=[];var s,l,h,x,E=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),l=l||x.overlay,s=s||!x.overlay,E+=x.overlay?0:1;return this.options.hideSingleBase&&(s=s&&E>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(g(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),x;s.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+g(this),h),this._layerControlInputs.push(x),x.layerId=g(s.layer),pt(x,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+s.name;var A=document.createElement("span");l.appendChild(A),A.appendChild(x),A.appendChild(E);var H=s.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,x=[],E=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)l=s[A],h=this._getLayer(l.layerId).layer,l.checked?x.push(h):l.checked||E.push(h);for(A=0;A<E.length;A++)this._map.hasLayer(E[A])&&this._map.removeLayer(E[A]);for(A=0;A<x.length;A++)this._map.hasLayer(x[A])||this._map.addLayer(x[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,x=this._map.getZoom(),E=s.length-1;E>=0;E--)l=s[E],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,pt(s,"click",un),this.expand();var l=this;setTimeout(function(){Xt(s,"click",un),l._preventClick=!1})}}),Pa=function(s,l,h){return new Hl(s,l,h)},jo=Zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=_t("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,x,E){var A=_t("a",h,x);return A.innerHTML=s,A.href="#",A.title=l,A.setAttribute("role","button"),A.setAttribute("aria-label",l),Ci(A),pt(A,"click",yr),pt(A,"click",E,this),pt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";Jt(this._zoomInButton,l),Jt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(yt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(yt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});It.mergeOptions({zoomControl:!0}),It.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new jo,this.addControl(this.zoomControl))});var wu=function(s){return new jo(s)},On=Zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=_t("div",l),x=this.options;return this._addScales(x,l+"-line",h),s.on(x.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=_t("div",l,h)),s.imperial&&(this._iScale=_t("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,x,E;l>5280?(h=l/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),Eo=function(s){return new On(s)},Wl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vs=Zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Je.inlineSvg?Wl+" ":"")+"Leaflet</a>"},initialize:function(s){j(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=_t("div","leaflet-control-attribution"),Ci(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});It.mergeOptions({attributionControl:!0}),It.addInitHook(function(){this.options.attributionControl&&new Vs().addTo(this)});var Wf=function(s){return new Vs(s)};Zn.Layers=Hl,Zn.Zoom=jo,Zn.Scale=On,Zn.Attribution=Vs,_s.layers=Pa,_s.zoom=wu,_s.scale=Eo,_s.attribution=Wf;var tr=ve.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});tr.addTo=function(s,l){return s.addHandler(l,this),this};var Vl={Events:ye},Co=Je.touch?"touchstart mousedown":"mousedown",wr=be.extend({options:{clickTolerance:3},initialize:function(s,l,h,x){j(this,x),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(pt(this._dragStartTarget,Co,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wr._dragging===this&&this.finishDrag(!0),Xt(this._dragStartTarget,Co,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!_o(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){wr._dragging===this&&this.finishDrag();return}if(!(wr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(wr._dragging=this,this._preventOutline&&So(this._element),ba(),$t(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=es(this._element);this._startPoint=new W(l.clientX,l.clientY),this._startPos=Jr(this._element),this._parentScale=Rr(h);var x=s.type==="mousedown";pt(document,x?"mousemove":"touchmove",this._onMove,this),pt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new W(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,un(s),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),mn(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Jt(document.body,"leaflet-dragging"),this._lastTarget&&(Jt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xt(document,"mousemove touchmove",this._onMove,this),Xt(document,"mouseup touchend touchcancel",this._onUp,this),Na(),No();var l=this._moved&&this._moving;this._moving=!1,wr._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Zl(s,l,h){var x,E=[1,4,2,8],A,H,ne,ue,ke,Ze,lt,St;for(A=0,Ze=s.length;A<Ze;A++)s[A]._code=Zs(s[A],l);for(ne=0;ne<4;ne++){for(lt=E[ne],x=[],A=0,Ze=s.length,H=Ze-1;A<Ze;H=A++)ue=s[A],ke=s[H],ue._code&lt?ke._code&lt||(St=ka(ke,ue,lt,l,h),St._code=Zs(St,l),x.push(St)):(ke._code&lt&&(St=ka(ke,ue,lt,l,h),St._code=Zs(St,l),x.push(St)),x.push(ue));s=x}return s}function _u(s,l){var h,x,E,A,H,ne,ue,ke,Ze;if(!s||s.length===0)throw new Error("latlngs not passed");nr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var lt=U([0,0]),St=he(s),En=St.getNorthWest().distanceTo(St.getSouthWest())*St.getNorthEast().distanceTo(St.getNorthWest());En<1700&&(lt=ql(s));var wn=s.length,Gn=[];for(h=0;h<wn;h++){var In=U(s[h]);Gn.push(l.project(U([In.lat-lt.lat,In.lng-lt.lng])))}for(ne=ue=ke=0,h=0,x=wn-1;h<wn;x=h++)E=Gn[h],A=Gn[x],H=E.y*A.x-A.y*E.x,ue+=(E.x+A.x)*H,ke+=(E.y+A.y)*H,ne+=H*3;ne===0?Ze=Gn[0]:Ze=[ue/ne,ke/ne];var Io=l.unproject(ie(Ze));return U([Io.lat+lt.lat,Io.lng+lt.lng])}function ql(s){for(var l=0,h=0,x=0,E=0;E<s.length;E++){var A=U(s[E]);l+=A.lat,h+=A.lng,x++}return U([l/x,h/x])}var Vf={__proto__:null,clipPolygon:Zl,polygonCenter:_u,centroid:ql};function Ta(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=Gf(s,h),s=qf(s,h),s}function bu(s,l,h){return Math.sqrt(qs(s,l,h,!0))}function Zf(s,l,h){return qs(s,l,h)}function qf(s,l){var h=s.length,x=typeof Uint8Array<"u"?Uint8Array:Array,E=new x(h);E[0]=E[h-1]=1,Gl(s,E,l,0,h-1);var A,H=[];for(A=0;A<h;A++)E[A]&&H.push(s[A]);return H}function Gl(s,l,h,x,E){var A=0,H,ne,ue;for(ne=x+1;ne<=E-1;ne++)ue=qs(s[ne],s[x],s[E],!0),ue>A&&(H=ne,A=ue);A>h&&(l[H]=1,Gl(s,l,h,x,H),Gl(s,l,h,H,E))}function Gf(s,l){for(var h=[s[0]],x=1,E=0,A=s.length;x<A;x++)Yf(s[x],s[E])>l&&(h.push(s[x]),E=x);return E<A-1&&h.push(s[A-1]),h}var Yl;function Nu(s,l,h,x,E){var A=x?Yl:Zs(s,h),H=Zs(l,h),ne,ue,ke;for(Yl=H;;){if(!(A|H))return[s,l];if(A&H)return!1;ne=A||H,ue=ka(s,l,ne,h,E),ke=Zs(ue,h),ne===A?(s=ue,A=ke):(l=ue,H=ke)}}function ka(s,l,h,x,E){var A=l.x-s.x,H=l.y-s.y,ne=x.min,ue=x.max,ke,Ze;return h&8?(ke=s.x+A*(ue.y-s.y)/H,Ze=ue.y):h&4?(ke=s.x+A*(ne.y-s.y)/H,Ze=ne.y):h&2?(ke=ue.x,Ze=s.y+H*(ue.x-s.x)/A):h&1&&(ke=ne.x,Ze=s.y+H*(ne.x-s.x)/A),new W(ke,Ze,E)}function Zs(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function Yf(s,l){var h=l.x-s.x,x=l.y-s.y;return h*h+x*x}function qs(s,l,h,x){var E=l.x,A=l.y,H=h.x-E,ne=h.y-A,ue=H*H+ne*ne,ke;return ue>0&&(ke=((s.x-E)*H+(s.y-A)*ne)/ue,ke>1?(E=h.x,A=h.y):ke>0&&(E+=H*ke,A+=ne*ke)),H=s.x-E,ne=s.y-A,x?H*H+ne*ne:new W(E,A)}function nr(s){return!M(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Su(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nr(s)}function ju(s,l){var h,x,E,A,H,ne,ue,ke;if(!s||s.length===0)throw new Error("latlngs not passed");nr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ze=U([0,0]),lt=he(s),St=lt.getNorthWest().distanceTo(lt.getSouthWest())*lt.getNorthEast().distanceTo(lt.getNorthWest());St<1700&&(Ze=ql(s));var En=s.length,wn=[];for(h=0;h<En;h++){var Gn=U(s[h]);wn.push(l.project(U([Gn.lat-Ze.lat,Gn.lng-Ze.lng])))}for(h=0,x=0;h<En-1;h++)x+=wn[h].distanceTo(wn[h+1])/2;if(x===0)ke=wn[0];else for(h=0,A=0;h<En-1;h++)if(H=wn[h],ne=wn[h+1],E=H.distanceTo(ne),A+=E,A>x){ue=(A-x)/E,ke=[ne.x-ue*(ne.x-H.x),ne.y-ue*(ne.y-H.y)];break}var In=l.unproject(ie(ke));return U([In.lat+Ze.lat,In.lng+Ze.lng])}var Eu={__proto__:null,simplify:Ta,pointToSegmentDistance:bu,closestPointOnSegment:Zf,clipSegment:Nu,_getEdgeIntersection:ka,_getBitCode:Zs,_sqClosestPointOnSegment:qs,isFlat:nr,_flat:Su,polylineCenter:ju},Kl={project:function(s){return new W(s.lng,s.lat)},unproject:function(s){return new ce(s.y,s.x)},bounds:new z([-180,-90],[180,90])},Xl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,x=s.lat*l,E=this.R_MINOR/h,A=Math.sqrt(1-E*E),H=A*Math.sin(x),ne=Math.tan(Math.PI/4-x/2)/Math.pow((1-H)/(1+H),A/2);return x=-h*Math.log(Math.max(ne,1e-10)),new W(s.lng*l*h,x)},unproject:function(s){for(var l=180/Math.PI,h=this.R,x=this.R_MINOR/h,E=Math.sqrt(1-x*x),A=Math.exp(-s.y/h),H=Math.PI/2-2*Math.atan(A),ne=0,ue=.1,ke;ne<15&&Math.abs(ue)>1e-7;ne++)ke=E*Math.sin(H),ke=Math.pow((1-ke)/(1+ke),E/2),ue=Math.PI/2-2*Math.atan(A*ke)-H,H+=ue;return new ce(H*l,s.x*l/h)}},Kf={__proto__:null,LonLat:Kl,Mercator:Xl,SphericalMercator:$e},Xf=c({},we,{code:"EPSG:3395",projection:Xl,transformation:function(){var s=.5/(Math.PI*Xl.R);return Ge(s,.5,-s,.5)}()}),Cu=c({},we,{code:"EPSG:4326",projection:Kl,transformation:Ge(1/180,1,-1/180,.5)}),Qf=c({},K,{projection:Kl,transformation:Ge(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,x=l.lat-s.lat;return Math.sqrt(h*h+x*x)},infinite:!0});K.Earth=we,K.EPSG3395=Xf,K.EPSG3857=at,K.EPSG900913=Mt,K.EPSG4326=Cu,K.Simple=Qf;var _r=be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[g(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[g(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});It.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=g(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=g(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return g(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?M(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[g(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=g(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var E=this._zoomBoundLayers[x].options;s=E.minZoom===void 0?s:Math.min(s,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bs=_r.extend({initialize:function(s,l){j(this,l),this._layers={};var h,x;if(s)for(h=0,x=s.length;h<x;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[s]&&x[s].apply(x,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return g(s)}}),ki=function(s,l){return new bs(s,l)},ts=bs.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),bs.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),bs.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new X;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Pu=function(s,l){return new ts(s,l)},Gs=ve.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){j(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(s,l){var h=this.options,x=h[l+"Size"];typeof x=="number"&&(x=[x,x]);var E=ie(x),A=ie(l==="shadow"&&h.shadowAnchor||h.iconAnchor||E&&E.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),E&&(s.style.width=E.x+"px",s.style.height=E.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return Je.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Tu(s){return new Gs(s)}var Po=Gs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Po.imagePath!="string"&&(Po.imagePath=this._detectIconPath()),(this.options.imagePath||Po.imagePath)+Gs.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,x,E){var A=x.exec(h);return A&&A[E]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=_t("div","leaflet-default-icon-path",document.body),l=Ni(s,"background-image")||Ni(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Ql=tr.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new wr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Jt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,x=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,A=Jr(l._icon),H=h.getPixelBounds(),ne=h.getPixelOrigin(),ue=J(H.min._subtract(ne).add(E),H.max._subtract(ne).subtract(E));if(!ue.contains(A)){var ke=ie((Math.max(ue.max.x,A.x)-ue.max.x)/(H.max.x-ue.max.x)-(Math.min(ue.min.x,A.x)-ue.min.x)/(H.min.x-ue.min.x),(Math.max(ue.max.y,A.y)-ue.max.y)/(H.max.y-ue.max.y)-(Math.min(ue.min.y,A.y)-ue.min.y)/(H.min.y-ue.min.y)).multiplyBy(x);h.panBy(ke,{animate:!1}),this._draggable._newPos._add(ke),this._draggable._startPos._add(ke),mn(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Q(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(pe(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,x=Jr(l._icon),E=l._map.layerPointToLatLng(x);h&&mn(h,x),l._latlng=E,s.latlng=E,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){pe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ns=_r.extend({options:{icon:new Po,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){j(this,l),this._latlng=U(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=U(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),yt(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(h,"focus",this._panOnFocus,this);var E=s.icon.createShadow(this._shadow),A=!1;E!==this._shadow&&(this._removeShadow(),A=!0),E&&(yt(E,l),E.alt=""),this._shadow=E,s.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xt(this._icon,"focus",this._panOnFocus,this),tn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&tn(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&mn(this._icon,s),this._shadow&&mn(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ql)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ql(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Dn(this._icon,s),this._shadow&&Dn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?ie(l.iconSize):ie(0,0),x=l.iconAnchor?ie(l.iconAnchor):ie(0,0);s.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Jf(s,l){return new ns(s,l)}var Ns=_r.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return j(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ma=Ns.extend({options:{fill:!0,radius:10},initialize:function(s,l){j(this,l),this._latlng=U(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=U(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Ns.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),x=[s+h,l+h];this._pxBounds=new z(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ku(s,l){return new Ma(s,l)}var Ra=Ma.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),j(this,l),this._latlng=U(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new X(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ns.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===we.distance){var E=Math.PI/180,A=this._mRadius/we.R/E,H=h.project([l+A,s]),ne=h.project([l-A,s]),ue=H.add(ne).divideBy(2),ke=h.unproject(ue).lat,Ze=Math.acos((Math.cos(A*E)-Math.sin(l*E)*Math.sin(ke*E))/(Math.cos(l*E)*Math.cos(ke*E)))/E;(isNaN(Ze)||Ze===0)&&(Ze=A/Math.cos(Math.PI/180*l)),this._point=ue.subtract(h.getPixelOrigin()),this._radius=isNaN(Ze)?0:ue.x-h.project([ke,s-Ze]).x,this._radiusY=ue.y-H.y}else{var lt=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(lt).x}this._updateBounds()}});function Mi(s,l,h){return new Ra(s,l,h)}var qn=Ns.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){j(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,x=qs,E,A,H=0,ne=this._parts.length;H<ne;H++)for(var ue=this._parts[H],ke=1,Ze=ue.length;ke<Ze;ke++){E=ue[ke-1],A=ue[ke];var lt=x(s,E,A,!0);lt<l&&(l=lt,h=x(s,E,A))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ju(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=U(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new X,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return nr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=nr(s),x=0,E=s.length;x<E;x++)h?(l[x]=U(s[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(s[x]);return l},_project:function(){var s=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new W(s,s);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var x=s[0]instanceof ce,E=s.length,A,H;if(x){for(H=[],A=0;A<E;A++)H[A]=this._map.latLngToLayerPoint(s[A]),h.extend(H[A]);l.push(H)}else for(A=0;A<E;A++)this._projectLatlngs(s[A],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,x,E,A,H,ne,ue;for(h=0,E=0,A=this._rings.length;h<A;h++)for(ue=this._rings[h],x=0,H=ue.length;x<H-1;x++)ne=Nu(ue[x],ue[x+1],s,x,!0),ne&&(l[E]=l[E]||[],l[E].push(ne[0]),(ne[1]!==ue[x+1]||x===H-2)&&(l[E].push(ne[1]),E++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,x=s.length;h<x;h++)s[h]=Ta(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,x,E,A,H,ne,ue=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,A=this._parts.length;h<A;h++)for(ne=this._parts[h],x=0,H=ne.length,E=H-1;x<H;E=x++)if(!(!l&&x===0)&&bu(s,ne[E],ne[x])<=ue)return!0;return!1}});function eh(s,l){return new qn(s,l)}qn._flat=Su;var rs=qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _u(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=qn.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof ce&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){qn.prototype._setLatLngs.call(this,s),nr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new W(l,l);if(s=new z(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,E=this._rings.length,A;x<E;x++)A=Zl(this._rings[x],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,x,E,A,H,ne,ue,ke;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,ue=this._parts.length;A<ue;A++)for(h=this._parts[A],H=0,ke=h.length,ne=ke-1;H<ke;ne=H++)x=h[H],E=h[ne],x.y>s.y!=E.y>s.y&&s.x<(E.x-x.x)*(s.y-x.y)/(E.y-x.y)+x.x&&(l=!l);return l||qn.prototype._containsPoint.call(this,s,!0)}});function th(s,l){return new rs(s,l)}var Ar=ts.extend({initialize:function(s,l){j(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=M(s)?s:s.features,h,x,E;if(l){for(h=0,x=l.length;h<x;h++)E=l[h],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var H=To(s,A);return H?(H.feature=Ia(s),H.defaultOptions=H.options,this.resetStyle(H),A.onEachFeature&&A.onEachFeature(s,H),this.addLayer(H)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=c({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function To(s,l){var h=s.type==="Feature"?s.geometry:s,x=h?h.coordinates:null,E=[],A=l&&l.pointToLayer,H=l&&l.coordsToLatLng||Aa,ne,ue,ke,Ze;if(!x&&!h)return null;switch(h.type){case"Point":return ne=H(x),La(A,s,ne,l);case"MultiPoint":for(ke=0,Ze=x.length;ke<Ze;ke++)ne=H(x[ke]),E.push(La(A,s,ne,l));return new ts(E);case"LineString":case"MultiLineString":return ue=Ri(x,h.type==="LineString"?0:1,H),new qn(ue,l);case"Polygon":case"MultiPolygon":return ue=Ri(x,h.type==="Polygon"?1:2,H),new rs(ue,l);case"GeometryCollection":for(ke=0,Ze=h.geometries.length;ke<Ze;ke++){var lt=To({geometry:h.geometries[ke],type:"Feature",properties:s.properties},l);lt&&E.push(lt)}return new ts(E);case"FeatureCollection":for(ke=0,Ze=h.features.length;ke<Ze;ke++){var St=To(h.features[ke],l);St&&E.push(St)}return new ts(E);default:throw new Error("Invalid GeoJSON object.")}}function La(s,l,h,x){return s?s(l,h):new ns(h,x&&x.markersInheritOptions&&x)}function Aa(s){return new ce(s[1],s[0],s[2])}function Ri(s,l,h){for(var x=[],E=0,A=s.length,H;E<A;E++)H=l?Ri(s[E],l-1,h):(h||Aa)(s[E]),x.push(H);return x}function Da(s,l){return s=U(s),s.alt!==void 0?[S(s.lng,l),S(s.lat,l),S(s.alt,l)]:[S(s.lng,l),S(s.lat,l)]}function Oa(s,l,h,x){for(var E=[],A=0,H=s.length;A<H;A++)E.push(l?Oa(s[A],nr(s[A])?0:l-1,h,x):Da(s[A],x));return!l&&h&&E.length>0&&E.push(E[0].slice()),E}function ko(s,l){return s.feature?c({},s.feature,{geometry:l}):Ia(l)}function Ia(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var Jl={toGeoJSON:function(s){return ko(this,{type:"Point",coordinates:Da(this.getLatLng(),s)})}};ns.include(Jl),Ra.include(Jl),Ma.include(Jl),qn.include({toGeoJSON:function(s){var l=!nr(this._latlngs),h=Oa(this._latlngs,l?1:0,!1,s);return ko(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),rs.include({toGeoJSON:function(s){var l=!nr(this._latlngs),h=l&&!nr(this._latlngs[0]),x=Oa(this._latlngs,h?2:l?1:0,!0,s);return l||(x=[x]),ko(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),bs.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),ko(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",x=[];return this.eachLayer(function(E){if(E.toGeoJSON){var A=E.toGeoJSON(s);if(h)x.push(A.geometry);else{var H=Ia(A);H.type==="FeatureCollection"?x.push.apply(x,H.features):x.push(H)}}}),h?ko(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Mu(s,l){return new Ar(s,l)}var br=Mu,Ss=_r.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=he(l),j(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){tn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&wo(this._image),this},bringToBack:function(){return this._map&&Qr(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=he(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:_t("img");if(yt(l,"leaflet-image-layer"),this._zoomAnimated&&yt(l,"leaflet-zoom-animated"),this.options.className&&yt(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;vr(this._image,h,l)},_reset:function(){var s=this._image,l=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();mn(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){Dn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Ru=function(s,l,h){return new Ss(s,l,h)},ec=Ss.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:_t("video");if(yt(l,"leaflet-image-layer"),this._zoomAnimated&&yt(l,"leaflet-zoom-animated"),this.options.className&&yt(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onloadeddata=f(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),x=[],E=0;E<h.length;E++)x.push(h[E].src);this._url=h.length>0?x:[l.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var H=_t("source");H.src=this._url[A],l.appendChild(H)}}});function Lu(s,l,h){return new ec(s,l,h)}var tc=Ss.extend({_initImage:function(){var s=this._image=this._url;yt(s,"leaflet-image-layer"),this._zoomAnimated&&yt(s,"leaflet-zoom-animated"),this.options.className&&yt(s,this.options.className),s.onselectstart=b,s.onmousemove=b}});function nc(s,l,h){return new tc(s,l,h)}var Dr=_r.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof ce||M(s))?(this._latlng=U(s),j(this,l)):(j(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Dn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Dn(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Dn(this._container,0),this._removeTimeout=setTimeout(f(tn,void 0,this._container),200)):tn(this._container),this.options.interactive&&(Jt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=U(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wo(this._container),this},bringToBack:function(){return this._map&&Qr(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof ts){l=null;var h=this._source._layers;for(var x in h)if(h[x]._map){l=h[x];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=ie(this.options.offset),h=this._getAnchor();this._zoomAnimated?mn(this._container,s.add(h)):l=l.add(s).add(h);var x=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});It.include({_initOverlay:function(s,l,h,x){var E=l;return E instanceof s||(E=new s(x).setContent(l)),h&&E.setLatLng(h),E}}),_r.include({_initOverlay:function(s,l,h,x){var E=h;return E instanceof s?(j(E,x),E._source=this):(E=l&&!x?l:new s(x,this),E.setContent(h)),E}});var Fa=Dr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Dr.prototype.openOn.call(this,s)},onAdd:function(s){Dr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ns||this._source.on("preclick",Lr))},onRemove:function(s){Dr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ns||this._source.off("preclick",Lr))},getEvents:function(){var s=Dr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=_t("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=_t("div",s+"-content-wrapper",l);if(this._contentNode=_t("div",s+"-content",h),Ci(l),ja(this._contentNode),pt(l,"contextmenu",Lr),this._tipContainer=_t("div",s+"-tip-container",l),this._tip=_t("div",s+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=_t("a",s+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',pt(x,"click",function(E){un(E),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var x=s.offsetHeight,E=this.options.maxHeight,A="leaflet-popup-scrolled";E&&x>E?(l.height=E+"px",yt(s,A)):Jt(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();mn(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Ni(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,x=this._containerWidth,E=new W(this._containerLeft,-h-this._containerBottom);E._add(Jr(this._container));var A=s.layerPointToContainerPoint(E),H=ie(this.options.autoPanPadding),ne=ie(this.options.autoPanPaddingTopLeft||H),ue=ie(this.options.autoPanPaddingBottomRight||H),ke=s.getSize(),Ze=0,lt=0;A.x+x+ue.x>ke.x&&(Ze=A.x+x-ke.x+ue.x),A.x-Ze-ne.x<0&&(Ze=A.x-ne.x),A.y+h+ue.y>ke.y&&(lt=A.y+h-ke.y+ue.y),A.y-lt-ne.y<0&&(lt=A.y-ne.y),(Ze||lt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Ze,lt]))}},_getAnchor:function(){return ie(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mo=function(s,l){return new Fa(s,l)};It.mergeOptions({closePopupOnClick:!0}),It.include({openPopup:function(s,l,h){return this._initOverlay(Fa,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),_r.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Fa,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ts||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){yr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Ns)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ro=Dr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Dr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Dr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Dr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_t("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,x=this._map,E=this._container,A=x.latLngToContainerPoint(x.getCenter()),H=x.layerPointToContainerPoint(s),ne=this.options.direction,ue=E.offsetWidth,ke=E.offsetHeight,Ze=ie(this.options.offset),lt=this._getAnchor();ne==="top"?(l=ue/2,h=ke):ne==="bottom"?(l=ue/2,h=0):ne==="center"?(l=ue/2,h=ke/2):ne==="right"?(l=0,h=ke/2):ne==="left"?(l=ue,h=ke/2):H.x<A.x?(ne="right",l=0,h=ke/2):(ne="left",l=ue+(Ze.x+lt.x)*2,h=ke/2),s=s.subtract(ie(l,h,!0)).add(Ze).add(lt),Jt(E,"leaflet-tooltip-right"),Jt(E,"leaflet-tooltip-left"),Jt(E,"leaflet-tooltip-top"),Jt(E,"leaflet-tooltip-bottom"),yt(E,"leaflet-tooltip-"+ne),mn(E,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Dn(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return ie(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Li=function(s,l){return new Ro(s,l)};It.include({openTooltip:function(s,l,h){return this._initOverlay(Ro,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),_r.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ro,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ts||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(pt(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),pt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,x;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),x=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var za=Gs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ya(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=ie(h.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Au(s){return new za(s)}Gs.Default=Po;var js=_r.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Je.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){j(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),tn(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof W?s:new W(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),x=0,E=l.length,A;x<E;x++)A=l[x].style.zIndex,l[x]!==this._container&&A&&(h=s(h,+A));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Je.ielt9){Dn(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var x in this._tiles){var E=this._tiles[x];if(!(!E.current||!E.loaded)){var A=Math.min(1,(s-E.loaded)/200);Dn(E.el,A),A<1?l=!0:(E.active?h=!0:this._onOpaqueTile(E),E.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(pe(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=_t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(tn(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[s],E=this._map;return x||(x=this._levels[s]={},x.el=_t("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=E.project(E.unproject(E.getPixelOrigin()),s).round(),x.zoom=s,this._setZoomTransform(x,E.getCenter(),E.getZoom()),b(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)tn(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,x){var E=Math.floor(s/2),A=Math.floor(l/2),H=h-1,ne=new W(+E,+A);ne.z=+H;var ue=this._tileCoordsToKey(ne),ke=this._tiles[ue];return ke&&ke.active?(ke.retain=!0,!0):(ke&&ke.loaded&&(ke.retain=!0),H>x?this._retainParent(E,A,H,x):!1)},_retainChildren:function(s,l,h,x){for(var E=2*s;E<2*s+2;E++)for(var A=2*l;A<2*l+2;A++){var H=new W(E,A);H.z=h+1;var ne=this._tileCoordsToKey(H),ue=this._tiles[ne];if(ue&&ue.active){ue.retain=!0;continue}else ue&&ue.loaded&&(ue.retain=!0);h+1<x&&this._retainChildren(E,A,h+1,x)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,x){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var A=this.options.updateWhenZooming&&E!==this._tileZoom;(!x||A)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var x=this._map.getZoomScale(h,s.zoom),E=s.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,h)).round();Je.any3d?vr(s.el,E,x):mn(s.el,E)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],x).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],x).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],x).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(h,this._tileZoom),E=l.project(s,this._tileZoom).floor(),A=l.getSize().divideBy(x*2);return new z(E.subtract(A),E.add(A))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(s),E=this._pxBoundsToTileRange(x),A=E.getCenter(),H=[],ne=this.options.keepBuffer,ue=new z(E.getBottomLeft().subtract([ne,-ne]),E.getTopRight().add([ne,-ne]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ke in this._tiles){var Ze=this._tiles[ke].coords;(Ze.z!==this._tileZoom||!ue.contains(new W(Ze.x,Ze.y)))&&(this._tiles[ke].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var lt=E.min.y;lt<=E.max.y;lt++)for(var St=E.min.x;St<=E.max.x;St++){var En=new W(St,lt);if(En.z=this._tileZoom,!!this._isValidTile(En)){var wn=this._tiles[this._tileCoordsToKey(En)];wn?wn.current=!0:H.push(En)}}if(H.sort(function(In,Io){return In.distanceTo(A)-Io.distanceTo(A)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gn=document.createDocumentFragment();for(St=0;St<H.length;St++)this._addTile(H[St],Gn);this._level.el.appendChild(Gn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(s);return he(this.options.bounds).overlaps(x)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),x=s.scaleBy(h),E=x.add(h),A=l.unproject(x,s.z),H=l.unproject(E,s.z);return[A,H]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new X(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new W(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(tn(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){yt(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=b,s.onmousemove=b,Je.ielt9&&this.options.opacity<1&&Dn(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),x=this._tileCoordsToKey(s),E=this.createTile(this._wrapCoords(s),f(this._tileReady,this,s));this._initTile(E),this.createTile.length<2&&Q(f(this._tileReady,this,s,null,E)),mn(E,h),this._tiles[x]={el:E,coords:s,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var x=this._tileCoordsToKey(s);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Dn(h.el,0),pe(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(yt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Je.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new W(this._wrapX?_(s.x,this._wrapX):s.x,this._wrapY?_(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new z(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Lo(s){return new js(s)}var Es=js.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=j(this,l),l.detectRetina&&Je.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return pt(h,"load",f(this._tileOnLoad,this,l,h)),pt(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:Je.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return D(this._url,c(l,this.options))},_tileOnLoad:function(s,l){Je.ielt9?setTimeout(f(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(s=l-s),s+x},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=b,l.onerror=b,!l.complete)){l.src=F;var h=this._tiles[s].coords;tn(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",F),js.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===F))return js.prototype._tileReady.call(this,s,l,h)}});function rc(s,l){return new Es(s,l)}var Ai=Es.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=c({},this.defaultWmsParams);for(var x in l)x in this.options||(h[x]=l[x]);l=j(this,l);var E=l.detectRetina&&Je.retina?2:1,A=this.getTileSize();h.width=A.x*E,h.height=A.y*E,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Es.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,x=J(h.project(l[0]),h.project(l[1])),E=x.min,A=x.max,H=(this._wmsVersion>=1.3&&this._crs===Cu?[E.y,E.x,A.y,A.x]:[E.x,E.y,A.x,A.y]).join(","),ne=Es.prototype.getTileUrl.call(this,s);return ne+C(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(s,l){return c(this.wmsParams,s),l||this.redraw(),this}});function Du(s,l){return new Ai(s,l)}Es.WMS=Ai,rc.wms=Du;var Or=_r.extend({options:{padding:.1},initialize:function(s){j(this,s),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),A=x.multiplyBy(-h).add(E).subtract(this._map._getNewPixelOrigin(s,l));Je.any3d?vr(this._container,A,h):mn(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new z(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),sc=Or.extend({options:{tolerance:0},getEvents:function(){var s=Or.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Or.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");pt(s,"mousemove",this._onMouseMove,this),pt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),pt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){pe(this._redrawRequest),delete this._ctx,tn(this._container),Xt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Or.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),x=Je.retina?2:1;mn(l,s.min),l.width=x*h.x,l.height=x*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Je.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Or.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[g(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,x=l.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete s._order,delete this._layers[g(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],x,E;for(E=0;E<l.length;E++){if(x=Number(l[E]),isNaN(x))return;h.push(x)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)s=x.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,x,E,A,H=s._parts,ne=H.length,ue=this._ctx;if(ne){for(ue.beginPath(),h=0;h<ne;h++){for(x=0,E=H[h].length;x<E;x++)A=H[h][x],ue[x?"lineTo":"moveTo"](A.x,A.y);l&&ue.closePath()}this._fillStroke(ue,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,x=Math.max(Math.round(s._radius),1),E=(Math.max(Math.round(s._radiusY),1)||x)/x;E!==1&&(h.save(),h.scale(1,E)),h.beginPath(),h.arc(l.x,l.y/E,x,0,Math.PI*2,!1),E!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(Jt(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(s),x&&(yt(this._container,"leaflet-interactive"),this._fireEvent([x],s,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,x=l.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,x=l.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function oc(s){return Je.canvas?new sc(s):null}var Ao=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ou={_initContainer:function(){this._container=_t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Or.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Ao("shape");yt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Ao("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;tn(l),s.removeInteractiveTarget(l),delete this._layers[g(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,x=s.options,E=s._container;E.stroked=!!x.stroke,E.filled=!!x.fill,x.stroke?(l||(l=s._stroke=Ao("stroke")),E.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=M(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(E.removeChild(l),s._stroke=null),x.fill?(h||(h=s._fill=Ao("fill")),E.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(E.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),x=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){wo(s._container)},_bringToBack:function(s){Qr(s._container)}},Nr=Je.vml?Ao:Ne,Ys=Or.extend({_initContainer:function(){this._container=Nr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Nr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){tn(this._container),Xt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Or.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),mn(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Nr("path");s.options.className&&yt(l,s.options.className),s.options.interactive&&yt(l,"leaflet-interactive"),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){tn(s._path),s.removeInteractiveTarget(s._path),delete this._layers[g(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Z(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),x=Math.max(Math.round(s._radiusY),1)||h,E="a"+h+","+x+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+E+h*2+",0 "+E+-h*2+",0 ";this._setPath(s,A)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){wo(s._path)},_bringToBack:function(s){Qr(s._path)}});Je.vml&&Ys.include(Ou);function $a(s){return Je.svg||Je.vml?new Ys(s):null}It.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&oc(s)||$a(s)}});var Iu=rs.extend({initialize:function(s,l){rs.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=he(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function nh(s,l){return new Iu(s,l)}Ys.create=Nr,Ys.pointsToPath=Z,Ar.geometryToLayer=To,Ar.coordsToLatLng=Aa,Ar.coordsToLatLngs=Ri,Ar.latLngToCoords=Da,Ar.latLngsToCoords=Oa,Ar.getFeature=ko,Ar.asFeature=Ia,It.mergeOptions({boxZoom:!0});var Do=tr.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){tn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$t(),ba(),this._startPoint=this._map.mouseEventToContainerPoint(s),pt(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=_t("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new z(this._point,this._startPoint),h=l.getSize();mn(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(tn(this._box),Jt(this._container,"leaflet-crosshair")),No(),Na(),Xt(document,{contextmenu:yr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new X(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});It.addInitHook("addHandler","boxZoom",Do),It.mergeOptions({doubleClickZoom:!0});var Fu=tr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),x=l.options.zoomDelta,E=s.originalEvent.shiftKey?h-x:h+x;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(s.containerPoint,E)}});It.addInitHook("addHandler","doubleClickZoom",Fu),It.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ic=tr.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new wr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Jt(this._map._container,"leaflet-grab"),Jt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=he(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,E=(x-l+h)%s+l-h,A=(x+l+h)%s-l-h,H=Math.abs(E+h)<Math.abs(A+h)?E:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(s){var l=this._map,h=l.options,x=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),x)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,H=h.easeLinearity,ne=E.multiplyBy(H/A),ue=ne.distanceTo([0,0]),ke=Math.min(h.inertiaMaxSpeed,ue),Ze=ne.multiplyBy(ke/ue),lt=ke/(h.inertiaDeceleration*H),St=Ze.multiplyBy(-lt/2).round();!St.x&&!St.y?l.fire("moveend"):(St=l._limitOffset(St,l.options.maxBounds),Q(function(){l.panBy(St,{duration:lt,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});It.addInitHook("addHandler","dragging",ic),It.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ac=tr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),pt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,x=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,x,E;for(x=0,E=h.left.length;x<E;x++)l[h.left[x]]=[-1*s,0];for(x=0,E=h.right.length;x<E;x++)l[h.right[x]]=[s,0];for(x=0,E=h.down.length;x<E;x++)l[h.down[x]]=[0,s];for(x=0,E=h.up.length;x<E;x++)l[h.up[x]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,x,E;for(x=0,E=h.zoomIn.length;x<E;x++)l[h.zoomIn[x]]=s;for(x=0,E=h.zoomOut.length;x<E;x++)l[h.zoomOut[x]]=-s},_addHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,x;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[l],s.shiftKey&&(x=ie(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(ie(x),h.options.maxBounds)),h.options.worldCopyJump){var E=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(E)}else h.panBy(x)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;yr(s)}}});It.addInitHook("addHandler","keyboard",ac),It.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qt=tr.extend({addHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=yu(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),yr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,A=h?Math.ceil(E/h)*h:E,H=s._limitZoom(l+(this._delta>0?A:-A))-l;this._delta=0,this._startTime=null,H&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+H):s.setZoomAround(this._lastMousePos,l+H))}});It.addInitHook("addHandler","scrollWheelZoom",Qt);var lc=600;It.mergeOptions({tapHold:Je.touchNative&&Je.safari&&Je.mobile,tapTolerance:15});var Di=tr.extend({addHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new W(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(pt(document,"touchend",un),pt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),lc),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){Xt(document,"touchend",un),Xt(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),Xt(document,"touchend touchcancel contextmenu",this._cancel,this),Xt(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new W(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});It.addInitHook("addHandler","tapHold",Di),It.mergeOptions({touchZoom:Je.touch,bounceAtZoomLimits:!0});var Oo=tr.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Jt(this._map._container,"leaflet-touch-zoom"),Xt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),x=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),un(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),x=l.mouseEventToContainerPoint(s.touches[1]),E=h.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var A=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(E===1&&A.x===0&&A.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),pe(this._animRequest);var H=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(H,this,!0),un(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,pe(this._animRequest),Xt(document,"touchmove",this._onTouchMove,this),Xt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});It.addInitHook("addHandler","touchZoom",Oo),It.BoxZoom=Do,It.DoubleClickZoom=Fu,It.Drag=ic,It.Keyboard=ac,It.ScrollWheelZoom=Qt,It.TapHold=Di,It.TouchZoom=Oo,r.Bounds=z,r.Browser=Je,r.CRS=K,r.Canvas=sc,r.Circle=Ra,r.CircleMarker=Ma,r.Class=ve,r.Control=Zn,r.DivIcon=za,r.DivOverlay=Dr,r.DomEvent=Ea,r.DomUtil=Ei,r.Draggable=wr,r.Evented=be,r.FeatureGroup=ts,r.GeoJSON=Ar,r.GridLayer=js,r.Handler=tr,r.Icon=Gs,r.ImageOverlay=Ss,r.LatLng=ce,r.LatLngBounds=X,r.Layer=_r,r.LayerGroup=bs,r.LineUtil=Eu,r.Map=It,r.Marker=ns,r.Mixin=Vl,r.Path=Ns,r.Point=W,r.PolyUtil=Vf,r.Polygon=rs,r.Polyline=qn,r.Popup=Fa,r.PosAnimation=Ca,r.Projection=Kf,r.Rectangle=Iu,r.Renderer=Or,r.SVG=Ys,r.SVGOverlay=tc,r.TileLayer=Es,r.Tooltip=Ro,r.Transformation=Ye,r.Util=Oe,r.VideoOverlay=ec,r.bind=f,r.bounds=J,r.canvas=oc,r.circle=Mi,r.circleMarker=ku,r.control=_s,r.divIcon=Au,r.extend=c,r.featureGroup=Pu,r.geoJSON=Mu,r.geoJson=br,r.gridLayer=Lo,r.icon=Tu,r.imageOverlay=Ru,r.latLng=U,r.latLngBounds=he,r.layerGroup=ki,r.map=ws,r.marker=Jf,r.point=ie,r.polygon=th,r.polyline=eh,r.popup=Mo,r.rectangle=nh,r.setOptions=j,r.stamp=g,r.svg=$a,r.svgOverlay=nc,r.tileLayer=rc,r.tooltip=Li,r.transformation=Ge,r.version=a,r.videoOverlay=Lu;var zu=window.L;r.noConflict=function(){return window.L=zu,this},window.L=r})}(Lc,Lc.exports)),Lc.exports}var kP=TP();const bn=wp(kP),MP=()=>({openRouteServiceKey:"your_production_api_key_here",mapboxKey:void 0,googleMapsKey:void 0}),Wp=()=>({type:"openroute",hasKey:!0,description:"OpenRouteService - Good accuracy, limited free tier"}),C0=()=>{const e=Wp(),t=[{service:"OpenRouteService",url:"https://openrouteservice.org/",freeLimit:"2,000 requests/day",paidOptions:"Available from 2.99/month",setup:"Set VITE_OPENROUTESERVICE_API_KEY in your .env file",recommended:!e.hasKey},{service:"MapBox",url:"https://www.mapbox.com/",freeLimit:"50,000 requests/month",paidOptions:"Pay-per-use beyond free tier",setup:"Set VITE_MAPBOX_API_KEY in your .env file",recommended:e.type==="free"},{service:"Google Maps",url:"https://developers.google.com/maps",freeLimit:"Paid service (requires billing)",paidOptions:"Most accurate, enterprise-grade",setup:"Set VITE_GOOGLE_MAPS_API_KEY in your .env file",recommended:!1}];return{current:e,recommendations:t}},Ki=class Ki{constructor(){Ms(this,"cache",new Map);Ms(this,"maxCacheSize",200);Ms(this,"cacheTimeout",60*60*1e3)}static getInstance(){return Ki.instance||(Ki.instance=new Ki),Ki.instance}getCacheKey(t,r){return`${t.lat.toFixed(5)},${t.lng.toFixed(5)}_${r.lat.toFixed(5)},${r.lng.toFixed(5)}`}isValidCache(t){return Date.now()-t.timestamp<this.cacheTimeout}async getRouteFromORS(t,r){var a,c;try{const p=await fetch("https://api.openrouteservice.org/v2/directions/driving-car",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"your_production_api_key_here"},body:JSON.stringify({coordinates:[[t.lng,t.lat],[r.lng,r.lat]],format:"geojson"})});if(!p.ok)return console.warn(`ORS API failed: ${p.status} ${p.statusText}`),null;const g=await p.json();if(g.features&&g.features.length>0){const w=g.features[0];return{coordinates:w.geometry.coordinates.map(b=>[b[1],b[0]]),distance:((a=w.properties.segments[0])==null?void 0:a.distance)||0,duration:((c=w.properties.segments[0])==null?void 0:c.duration)||0,source:"road-api",confidence:"high"}}}catch(d){console.warn("ORS routing failed:",d.message)}return null}async getRouteFromMapbox(t,r){try{const a=MP();if(!a.mapboxKey)return null;const c=`https://api.mapbox.com/directions/v5/mapbox/driving/${t.lng},${t.lat};${r.lng},${r.lat}?geometries=geojson&access_token=${a.mapboxKey}`,d=new AbortController,f=setTimeout(()=>d.abort(),1e4),p=await fetch(c,{signal:d.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(f),!p.ok)return console.warn(`MapBox API failed: ${p.status} ${p.statusText}`),null;const g=await p.json();if(g.routes&&g.routes.length>0){const w=g.routes[0];return!w.geometry||!w.geometry.coordinates||w.geometry.coordinates.length<2?(console.warn("MapBox returned invalid geometry"),null):{coordinates:w.geometry.coordinates.map(b=>[b[1],b[0]]),distance:w.distance||0,duration:w.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("MapBox routing timed out"):console.warn("MapBox routing failed:",a.message)}return null}async getRouteFromOSRM(t,r){try{const a=`https://router.project-osrm.org/route/v1/driving/${t.lng},${t.lat};${r.lng},${r.lat}?overview=full&geometries=geojson`,c=new AbortController,d=setTimeout(()=>c.abort(),1e4),f=await fetch(a,{signal:c.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(d),!f.ok)return console.warn(`OSRM API failed: ${f.status} ${f.statusText}`),null;const p=await f.json();if(p.routes&&p.routes.length>0){const g=p.routes[0];return!g.geometry||!g.geometry.coordinates||g.geometry.coordinates.length<2?(console.warn("OSRM returned invalid geometry"),null):{coordinates:g.geometry.coordinates.map(_=>[_[1],_[0]]),distance:g.distance||0,duration:g.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("OSRM routing timed out"):console.warn("OSRM routing failed:",a.message)}return null}calculateStraightLineDistance(t,r){const c=t.lat*Math.PI/180,d=r.lat*Math.PI/180,f=(r.lat-t.lat)*Math.PI/180,p=(t.lng-r.lng)*Math.PI/180,g=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))}createStraightLineRoute(t,r){const a=this.calculateStraightLineDistance(t,r),c=[];if(a>500){const d=Math.min(5,Math.floor(a/200));for(let f=0;f<=d;f++){const p=f/d,g=t.lat+(r.lat-t.lat)*p,w=t.lng+(r.lng-t.lng)*p;c.push([g,w])}}else c.push([t.lat,t.lng],[r.lat,r.lng]);return{coordinates:c,distance:a,duration:a/13.89,source:"straight-line",confidence:a<100?"medium":"low"}}async getRoute(t,r){const a=this.getCacheKey(t,r),c=this.cache.get(a);if(c&&this.isValidCache(c))return console.log(`Using cached route for ${this.calculateStraightLineDistance(t,r).toFixed(0)}m distance`),c.route;const d=this.calculateStraightLineDistance(t,r);if(d<30){console.log(`Short distance (${Math.round(d)}m), using direct line`);const p=this.createStraightLineRoute(t,r);return p.confidence="high",this.cache.set(a,{route:p,timestamp:Date.now()}),p}let f=null;if(d<1e4&&(f=await this.getRouteFromMapbox(t,r),!f&&d>50&&(f=await this.getRouteFromORS(t,r)),!f&&d>30&&(f=await this.getRouteFromOSRM(t,r))),!f){const p=d>=5e3?"Long distance":"API services unavailable";console.log(`${p} - using straight line for ${Math.round(d)}m distance`),f=this.createStraightLineRoute(t,r),d<200?f.confidence="medium":d>1e3&&(f.confidence="low")}if(this.cache.size>=this.maxCacheSize){const p=this.cache.keys().next().value;this.cache.delete(p)}return this.cache.set(a,{route:f,timestamp:Date.now()}),f}createGPSRoute(t){if(t.length<2)return{coordinates:[],distance:0,duration:0,source:"gps",confidence:"high"};const r=this.cleanGPSPoints(t),a=r.map(p=>[p.lat,p.lng]);let c=0;for(let p=1;p<r.length;p++){const g=r[p-1],w=r[p];c+=this.calculateStraightLineDistance(g,w)}let d=0;if(r[0].timestamp&&r[r.length-1].timestamp){const p=new Date(r[0].timestamp).getTime();d=(new Date(r[r.length-1].timestamp).getTime()-p)/1e3}else d=c/13.89;const f=this.assessGPSQuality(r,t.length);return console.log(` GPS route: ${r.length}/${t.length} points, ${(c/1e3).toFixed(2)}km, ${f} confidence`),{coordinates:a,distance:c,duration:d,source:"gps",confidence:f}}cleanGPSPoints(t){if(t.length<=2)return t;const r=[t[0]];for(let a=1;a<t.length;a++){const c=t[a],d=r[r.length-1],f=this.calculateStraightLineDistance(d,c);if(!(f<3)){if(c.timestamp&&d.timestamp){const p=(new Date(c.timestamp).getTime()-new Date(d.timestamp).getTime())/1e3;if(p>0&&p<5&&f>300){console.warn(`Skipping GPS outlier: ${Math.round(f)}m in ${p}s (${Math.round(f/p*3.6)}km/h)`);continue}}r.push(c)}}return r.length<2?(console.warn(`GPS cleaning removed too many points (${r.length}/${t.length}), using original`),t):r.length<t.length*.5?(console.warn(`GPS cleaning removed over 50% of points (${r.length}/${t.length}), using original`),t):(console.log(`GPS cleaning: kept ${r.length}/${t.length} points`),r)}assessGPSQuality(t,r){const a=t.length/r;return t.length>=10&&a>.7?"high":t.length>=5&&a>.5?"medium":"low"}async getRouteForPoints(t){if(t.length<2)return{coordinates:[],totalDistance:0,segments:[]};const r=[];let a=[],c=0,d=0;const f=15,p=t.length>f+1?this.selectKeyPoints(t,f):t;console.log(`Processing route with ${p.length} key points (from ${t.length} total GPS points)`);for(let b=0;b<p.length-1;b++)try{const S=await this.getRoute(p[b],p[b+1]);r.push(S),S.source==="road-api"&&d++,b===0?a.push(...S.coordinates):a.push(...S.coordinates.slice(1)),c+=S.distance}catch(S){console.warn(`Failed to get route for segment ${b}-${b+1}:`,S);const k=p[b],P=p[b+1],j=[[k.lat,k.lng],[P.lat,P.lng]];b===0?a.push(...j):a.push(j[1]);const C=this.calculateStraightLineDistance(k,P);c+=C}const g=r.length>0?d/r.length:0;let w="mixed",_="medium";return g>=.8?(w="road-api",_="high"):g>=.5?(w="road-mixed",_="medium"):(w="gps-fallback",_="low"),console.log(`Route complete: ${a.length} coordinates, ${Math.round(c/1e3*100)/100}km, ${d}/${r.length} road segments`),{coordinates:a,totalDistance:c,segments:r,source:w,confidence:_}}selectKeyPoints(t,r){if(t.length<=r)return t;const a=[t[0]],c=Math.floor(t.length/(r-2));for(let d=c;d<t.length-1;d+=c)a.push(t[d]);return a.push(t[t.length-1]),a}clearCache(){this.cache.clear()}};Ms(Ki,"instance");let sp=Ki;const Zr=sp.getInstance();delete bn.Icon.Default.prototype._getIconUrl;bn.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function Vp({employees:e,selectedEmployee:t,height:r="400px",onEmployeeClick:a,trackingSession:c,showRoute:d=!1}){const f=v.useRef(null),p=v.useRef(null),g=v.useRef({}),w=v.useRef(null),_=v.useRef([]),[b,S]=v.useState(!1),[k,P]=v.useState(null),[j,C]=v.useState(null);return v.useEffect(()=>{if(!p.current)return;f.current=bn.map(p.current).setView([40.7128,-74.006],12),bn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(f.current);const T=document.createElement("link");return T.rel="stylesheet",T.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",document.head.appendChild(T),()=>{f.current&&(f.current.remove(),f.current=null),document.head.removeChild(T)}},[]),v.useEffect(()=>{if(!f.current||!e.length)return;Object.values(g.current).forEach(M=>{var O;(O=f.current)==null||O.removeLayer(M)}),g.current={};const T=M=>{var F;const O=M==="active"?"#22c55e":M==="meeting"?"#f59e0b":"#6b7280";return bn.divIcon({html:`
          <div style="
            background-color: ${O};
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            ${t&&t===((F=e.find(V=>V.location.lat===parseFloat(M)&&V.location.lng===parseFloat(M)))==null?void 0:F.id)?"transform: scale(1.3);":""}
          "></div>
        `,className:"custom-div-icon",iconSize:[20,20],iconAnchor:[10,10]})},D=bn.latLngBounds([]);e.forEach(M=>{if(M.location.lat&&M.location.lng){const O=bn.marker([M.location.lat,M.location.lng],{icon:T(M.status)}).addTo(f.current);O.bindPopup(`
          <div style="min-width: 200px;">
            <h3 style="margin: 0 0 8px 0; font-weight: bold;">${M.name}</h3>
            <p style="margin: 0 0 4px 0; color: #666;">
              <span style="
                display: inline-block;
                padding: 2px 6px;
                border-radius: 4px;
                font-size: 12px;
                background-color: ${M.status==="active"?"#22c55e":M.status==="meeting"?"#f59e0b":"#6b7280"};
                color: white;
              ">${M.status==="active"?"On Route":M.status==="meeting"?"In Meeting":"Offline"}</span>
            </p>
            <p style="margin: 0 0 4px 0; font-size: 14px;">${M.location.address}</p>
            ${M.currentTask?`<p style="margin: 0 0 4px 0; font-size: 12px; font-style: italic;">${M.currentTask}</p>`:""}
            <p style="margin: 0; font-size: 12px; color: #888;">Updated ${M.lastUpdate}</p>
          </div>
        `),a&&O.on("click",()=>a(M.id)),g.current[M.id]=O,D.extend([M.location.lat,M.location.lng])}}),e.length>0&&D.isValid()&&f.current.fitBounds(D,{padding:[20,20]})},[e,t,a]),v.useEffect(()=>{if(!f.current)return;if(w.current&&(f.current.removeLayer(w.current),w.current=null),_.current.forEach(M=>{var O;(O=f.current)==null||O.removeLayer(M)}),_.current=[],!d||!c||!c.route.length){P(null),C(null);return}const T=c.route;if((async()=>{if(T.length<1){P("No GPS points available for route visualization"),C(null);return}S(!0),P(null);try{if(!f.current)return;let M=[],O="gps",F="medium";if(console.log(`Displaying route with ${T.length} GPS points`),T.length===1)M=[[T[0].lat,T[0].lng]],O="single-point",F="high";else if(M=T.map(se=>[se.lat,se.lng]),O="gps-points",F=T.length>=5?"medium":"basic",T.length>=2&&T.length<=10)try{if(console.log("Attempting road-based route enhancement..."),T.length<=3){const se=await Zr.getRoute(T[0],T[T.length-1]);se.source==="road-api"&&se.coordinates.length>0&&(M=se.coordinates,O="road-direct",F="high",console.log("Successfully enhanced route with direct road routing"))}else{const se=await Zr.createGPSRoute(T);se.coordinates.length>0&&(M=se.coordinates,O="gps-processed",F=se.confidence||"medium",console.log(`Successfully processed GPS route: ${se.confidence} confidence`))}}catch(se){console.warn("Route enhancement failed, using basic GPS points:",se.message)}const I=(()=>{switch(O){case"road-direct":case"road-api":return{color:"#2563eb",weight:5,opacity:.8,dashArray:void 0};case"gps-processed":return{color:"#16a34a",weight:4,opacity:.7,dashArray:void 0};case"single-point":return{color:"#dc2626",weight:6,opacity:.9,dashArray:void 0};default:return{color:"#ea580c",weight:3,opacity:.6,dashArray:"8, 4"}}})();if(O==="single-point"&&M.length===1){const se=M[0];w.current=bn.circle(se,{radius:50,color:I.color,weight:I.weight,opacity:I.opacity,fillColor:I.color,fillOpacity:.3}).addTo(f.current)}else M.length>=2&&(w.current=bn.polyline(M,{...I,smoothFactor:O.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current),bn.polyline(M,{color:"#000000",weight:I.weight+2,opacity:.2,smoothFactor:O.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current).bringToBack());if(C((()=>{switch(O){case"road-direct":case"road-api":return{type:"Road Network",confidence:"High Accuracy",points:M.length};case"gps-processed":return{type:"Enhanced GPS",confidence:F==="high"?"High Accuracy":"Medium Accuracy",points:T.length};case"single-point":return{type:"Current Location",confidence:"High Accuracy",points:1};default:return{type:"GPS Points",confidence:"Basic Accuracy",points:T.length}}})()),console.log(` Displayed ${O} route: ${M.length} coordinates, ${F} confidence`),M.length>0)if(M.length===1)f.current.setView(M[0],16);else{const se=bn.latLngBounds(M);f.current.fitBounds(se,{padding:[30,30]})}}catch(M){console.error("Error displaying route:",M),P(`Failed to display route: ${M.message}`),C(null);try{if(T.length>=1){const O=T.map(F=>[F.lat,F.lng]);if(O.length===1?w.current=bn.circle(O[0],{radius:30,color:"#dc2626",weight:2,opacity:.7,fillColor:"#dc2626",fillOpacity:.2}).addTo(f.current):w.current=bn.polyline(O,{color:"#dc2626",weight:3,opacity:.6,dashArray:"5, 5",smoothFactor:.1}).addTo(f.current),C({type:"Fallback GPS",confidence:"Limited",points:T.length}),P(null),O.length===1)f.current.setView(O[0],16);else{const F=bn.latLngBounds(O);f.current.fitBounds(F,{padding:[20,20]})}}}catch(O){console.error("Even fallback route failed:",O),P("Unable to display any route visualization")}}finally{S(!1)}})(),c.startLocation){const M=bn.divIcon({html:`
          <div style="
            background-color: #22c55e;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">S</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),O=bn.marker([c.startLocation.lat,c.startLocation.lng],{icon:M}).addTo(f.current);O.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #22c55e;">Route Start</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${new Date(c.startTime).toLocaleString()}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            ${c.startLocation.address}
          </p>
        </div>
      `),_.current.push(O)}if(c.endLocation&&c.status==="completed"){const M=bn.divIcon({html:`
          <div style="
            background-color: #ef4444;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">E</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),O=bn.marker([c.endLocation.lat,c.endLocation.lng],{icon:M}).addTo(f.current);O.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #ef4444;">Route End</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${c.endTime?new Date(c.endTime).toLocaleString():"In progress"}
          </p>
          <p style="margin: 0 0 4px 0; font-size: 12px; color: #666;">
            ${c.endLocation.address}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            Distance: ${(c.totalDistance/1e3).toFixed(2)} km
          </p>
        </div>
      `),_.current.push(O)}if(T.length>2){const M=Math.max(1,Math.floor(T.length/5));T.forEach((O,F)=>{if(F>0&&F<T.length-1&&F%M===0){const V=bn.divIcon({html:`
              <div style="
                background-color: #3b82f6;
                width: 8px;
                height: 8px;
                border-radius: 50%;
                border: 2px solid white;
                box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                opacity: 0.9;
              "></div>
            `,className:"custom-div-icon",iconSize:[8,8],iconAnchor:[4,4]}),I=bn.marker([O.lat,O.lng],{icon:V}).addTo(f.current);I.bindPopup(`
            <div style="min-width: 160px;">
              <h4 style="margin: 0 0 8px 0; color: #3b82f6;">Route Point</h4>
              <p style="margin: 0 0 4px 0; font-size: 12px;">
                <strong>Time:</strong> ${new Date(O.timestamp).toLocaleTimeString()}
              </p>
              <p style="margin: 0 0 4px 0; font-size: 11px; color: #666;">
                Position: ${O.lat.toFixed(6)}, ${O.lng.toFixed(6)}
              </p>
              <p style="margin: 0; font-size: 11px; color: #666;">
                Point ${F+1} of ${T.length}
              </p>
            </div>
          `),_.current.push(I)}})}},[d,c]),v.useEffect(()=>{if(!f.current||!t)return;const T=e.find(D=>D.id===t);T&&T.location.lat&&T.location.lng&&f.current.setView([T.location.lat,T.location.lng],15)},[t,e]),o.jsxs("div",{className:"relative",children:[o.jsx("div",{ref:p,style:{height:r,width:"100%",borderRadius:"8px"},className:"relative z-0"}),b&&o.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm border border-border rounded-md px-3 py-2 text-sm flex items-center space-x-2 z-10",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Generating route..."})]}),d&&j&&o.jsxs("div",{className:`absolute top-2 right-2 backdrop-blur-sm border rounded-md px-3 py-2 text-sm z-10 ${j.confidence==="High Accuracy"?"bg-blue-500/90 border-blue-500 text-white":j.confidence==="Medium Accuracy"?"bg-green-500/90 border-green-500 text-white":j.confidence==="Basic Accuracy"?"bg-orange-500/90 border-orange-500 text-white":"bg-red-500/90 border-red-500 text-white"}`,children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{children:[j.type.includes("Road")?"":j.type.includes("GPS + Road")?"":""," ",j.type]})}),o.jsxs("div",{className:"text-xs mt-1 opacity-90",children:[j.confidence,"  ",j.points," ",j.points===1?"point":"points"]}),j.type.includes("Road")&&o.jsx("div",{className:"text-xs mt-1 opacity-75",children:" Road-optimized route"})]}),k&&o.jsxs("div",{className:"absolute top-2 left-2 bg-destructive/90 backdrop-blur-sm border border-destructive rounded-md px-3 py-2 text-sm text-destructive-foreground z-10",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{children:" Route Display Issue"})}),o.jsx("div",{className:"text-xs mt-1",children:k}),o.jsx("div",{className:"text-xs mt-1 opacity-80",children:" Route will improve with more GPS points"})]})]})}const an=v.forwardRef(({className:e,type:t,...r},a)=>o.jsx("input",{type:t,className:mt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));an.displayName="Input";function RP(e,t){const r=v.createContext(t),a=d=>{const{children:f,...p}=d,g=v.useMemo(()=>p,Object.values(p));return o.jsx(r.Provider,{value:g,children:f})};a.displayName=e+"Provider";function c(d){const f=v.useContext(r);if(f)return f;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[a,c]}function LP(e,t=[]){let r=[];function a(d,f){const p=v.createContext(f),g=r.length;r=[...r,f];const w=b=>{var T;const{scope:S,children:k,...P}=b,j=((T=S==null?void 0:S[e])==null?void 0:T[g])||p,C=v.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:k})};w.displayName=d+"Provider";function _(b,S){var j;const k=((j=S==null?void 0:S[e])==null?void 0:j[g])||p,P=v.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[w,_]}const c=()=>{const d=r.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,AP(c,...t)]}function AP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var Sm="focusScope.autoFocusOnMount",jm="focusScope.autoFocusOnUnmount",Ix={bubbles:!1,cancelable:!0},DP="FocusScope",Zp=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...f}=e,[p,g]=v.useState(null),w=ln(c),_=ln(d),b=v.useRef(null),S=Ot(t,j=>g(j)),k=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(a){let j=function(M){if(k.paused||!p)return;const O=M.target;p.contains(O)?b.current=O:ri(b.current,{select:!0})},C=function(M){if(k.paused||!p)return;const O=M.relatedTarget;O!==null&&(p.contains(O)||ri(b.current,{select:!0}))},T=function(M){if(document.activeElement===document.body)for(const F of M)F.removedNodes.length>0&&ri(p)};document.addEventListener("focusin",j),document.addEventListener("focusout",C);const D=new MutationObserver(T);return p&&D.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",C),D.disconnect()}}},[a,p,k.paused]),v.useEffect(()=>{if(p){zx.add(k);const j=document.activeElement;if(!p.contains(j)){const T=new CustomEvent(Sm,Ix);p.addEventListener(Sm,w),p.dispatchEvent(T),T.defaultPrevented||(OP(BP(P0(p)),{select:!0}),document.activeElement===j&&ri(p))}return()=>{p.removeEventListener(Sm,w),setTimeout(()=>{const T=new CustomEvent(jm,Ix);p.addEventListener(jm,_),p.dispatchEvent(T),T.defaultPrevented||ri(j??document.body,{select:!0}),p.removeEventListener(jm,_),zx.remove(k)},0)}}},[p,w,_,k]);const P=v.useCallback(j=>{if(!r&&!a||k.paused)return;const C=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,T=document.activeElement;if(C&&T){const D=j.currentTarget,[M,O]=IP(D);M&&O?!j.shiftKey&&T===O?(j.preventDefault(),r&&ri(M,{select:!0})):j.shiftKey&&T===M&&(j.preventDefault(),r&&ri(O,{select:!0})):T===D&&j.preventDefault()}},[r,a,k.paused]);return o.jsx(wt.div,{tabIndex:-1,...f,ref:S,onKeyDown:P})});Zp.displayName=DP;function OP(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(ri(a,{select:t}),document.activeElement!==r)return}function IP(e){const t=P0(e),r=Fx(t,e),a=Fx(t.reverse(),e);return[r,a]}function P0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Fx(e,t){for(const r of e)if(!FP(r,{upTo:t}))return r}function FP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zP(e){return e instanceof HTMLInputElement&&"select"in e}function ri(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zP(e)&&t&&e.select()}}var zx=$P();function $P(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=$x(e,t),e.unshift(t)},remove(t){var r;e=$x(e,t),(r=e[0])==null||r.resume()}}}function $x(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function BP(e){return e.filter(t=>t.tagName!=="A")}function UP(e,t){return v.useReducer((r,a)=>t[r][a]??r,e)}var jf=e=>{const{present:t,children:r}=e,a=HP(t),c=typeof r=="function"?r({present:a.isPresent}):v.Children.only(r),d=Ot(a.ref,WP(c));return typeof r=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};jf.displayName="Presence";function HP(e){const[t,r]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=UP(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=Ld(a.current);d.current=p==="mounted"?w:"none"},[p]),hn(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,k=Ld(w);e?g("MOUNT"):k==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),hn(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,b=k=>{const j=Ld(a.current).includes(k.animationName);if(k.target===t&&j&&(g("ANIMATION_END"),!c.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},S=k=>{k.target===t&&(d.current=Ld(a.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),r(w)},[])}}function Ld(e){return(e==null?void 0:e.animationName)||"none"}function WP(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Em=0;function VP(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bx()),document.body.insertAdjacentElement("beforeend",e[1]??Bx()),Em++,()=>{Em===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Em--}},[])}function Bx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wn=function(){return Wn=Object.assign||function(t){for(var r,a=1,c=arguments.length;a<c;a++){r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},Wn.apply(this,arguments)};function qp(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(r[a[c]]=e[a[c]]);return r}function T0(e,t,r){if(r||arguments.length===2)for(var a=0,c=t.length,d;a<c;a++)(d||!(a in t))&&(d||(d=Array.prototype.slice.call(t,0,a)),d[a]=t[a]);return e.concat(d||Array.prototype.slice.call(t))}var $c="right-scroll-bar-position",Bc="width-before-scroll-bar",ZP="with-scroll-bars-hidden",qP="--removed-body-scroll-bar-size";function Cm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function GP(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var c=r.value;c!==a&&(r.value=a,r.callback(a,c))}}}})[0];return r.callback=t,r.facade}var YP=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ux=new WeakMap;function k0(e,t){var r=GP(null,function(a){return e.forEach(function(c){return Cm(c,a)})});return YP(function(){var a=Ux.get(r);if(a){var c=new Set(a),d=new Set(e),f=r.current;c.forEach(function(p){d.has(p)||Cm(p,null)}),d.forEach(function(p){c.has(p)||Cm(p,f)})}Ux.set(r,e)},[e]),r}function KP(e){return e}function XP(e,t){t===void 0&&(t=KP);var r=[],a=!1,c={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(d){var f=t(d,a);return r.push(f),function(){r=r.filter(function(p){return p!==f})}},assignSyncMedium:function(d){for(a=!0;r.length;){var f=r;r=[],f.forEach(d)}r={push:function(p){return d(p)},filter:function(){return r}}},assignMedium:function(d){a=!0;var f=[];if(r.length){var p=r;r=[],p.forEach(d),f=r}var g=function(){var _=f;f=[],_.forEach(d)},w=function(){return Promise.resolve().then(g)};w(),r={push:function(_){f.push(_),w()},filter:function(_){return f=f.filter(_),r}}}};return c}function M0(e){e===void 0&&(e={});var t=XP(null);return t.options=Wn({async:!0,ssr:!1},e),t}var R0=function(e){var t=e.sideCar,r=qp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return v.createElement(a,Wn({},r))};R0.isSideCarExport=!0;function L0(e,t){return e.useMedium(t),R0}var A0=M0(),Pm=function(){},Ef=v.forwardRef(function(e,t){var r=v.useRef(null),a=v.useState({onScrollCapture:Pm,onWheelCapture:Pm,onTouchMoveCapture:Pm}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,g=e.className,w=e.removeScrollBar,_=e.enabled,b=e.shards,S=e.sideCar,k=e.noIsolation,P=e.inert,j=e.allowPinchZoom,C=e.as,T=C===void 0?"div":C,D=e.gapMode,M=qp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=S,F=k0([r,t]),V=Wn(Wn({},M),c);return v.createElement(v.Fragment,null,_&&v.createElement(O,{sideCar:A0,removeScrollBar:w,shards:b,noIsolation:k,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:r,gapMode:D}),f?v.cloneElement(v.Children.only(p),Wn(Wn({},V),{ref:F})):v.createElement(T,Wn({},V,{className:g,ref:F}),p))});Ef.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ef.classNames={fullWidth:Bc,zeroRight:$c};var QP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function JP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=QP();return t&&e.setAttribute("nonce",t),e}function eT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var nT=function(){var e=0,t=null;return{add:function(r){e==0&&(t=JP())&&(eT(t,r),tT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rT=function(){var e=nT();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Gp=function(){var e=rT(),t=function(r){var a=r.styles,c=r.dynamic;return e(a,c),null};return t},sT={left:0,top:0,right:0,gap:0},Tm=function(e){return parseInt(e||"",10)||0},oT=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],c=t[e==="padding"?"paddingRight":"marginRight"];return[Tm(r),Tm(a),Tm(c)]},iT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return sT;var t=oT(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},aT=Gp(),hl="data-scroll-locked",lT=function(e,t,r,a){var c=e.left,d=e.top,f=e.right,p=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(ZP,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(p,"px ").concat(a,`;
  }
  body[`).concat(hl,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($c,` {
    right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(Bc,` {
    margin-right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat($c," .").concat($c,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Bc," .").concat(Bc,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(hl,`] {
    `).concat(qP,": ").concat(p,`px;
  }
`)},Hx=function(){var e=parseInt(document.body.getAttribute(hl)||"0",10);return isFinite(e)?e:0},cT=function(){v.useEffect(function(){return document.body.setAttribute(hl,(Hx()+1).toString()),function(){var e=Hx()-1;e<=0?document.body.removeAttribute(hl):document.body.setAttribute(hl,e.toString())}},[])},D0=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,c=a===void 0?"margin":a;cT();var d=v.useMemo(function(){return iT(c)},[c]);return v.createElement(aT,{styles:lT(d,!t,c,r?"":"!important")})},op=!1;if(typeof window<"u")try{var Ad=Object.defineProperty({},"passive",{get:function(){return op=!0,!0}});window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{op=!1}var nl=op?{passive:!1}:!1,uT=function(e){return e.tagName==="TEXTAREA"},O0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!uT(e)&&r[t]==="visible")},dT=function(e){return O0(e,"overflowY")},fT=function(e){return O0(e,"overflowX")},Wx=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=I0(e,a);if(c){var d=F0(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},hT=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},mT=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},I0=function(e,t){return e==="v"?dT(t):fT(t)},F0=function(e,t){return e==="v"?hT(t):mT(t)},pT=function(e,t){return e==="h"&&t==="rtl"?-1:1},gT=function(e,t,r,a,c){var d=pT(e,window.getComputedStyle(t).direction),f=d*a,p=r.target,g=t.contains(p),w=!1,_=f>0,b=0,S=0;do{var k=F0(e,p),P=k[0],j=k[1],C=k[2],T=j-C-d*P;(P||T)&&I0(e,p)&&(b+=T,S+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!g&&p!==document.body||g&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(S)<1)&&(w=!0),w},Dd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vx=function(e){return[e.deltaX,e.deltaY]},Zx=function(e){return e&&"current"in e?e.current:e},vT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},xT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},yT=0,rl=[];function wT(e){var t=v.useRef([]),r=v.useRef([0,0]),a=v.useRef(),c=v.useState(yT++)[0],d=v.useState(Gp)[0],f=v.useRef(e);v.useEffect(function(){f.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=T0([e.lockRef.current],(e.shards||[]).map(Zx),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=v.useCallback(function(j,C){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!f.current.allowPinchZoom;var T=Dd(j),D=r.current,M="deltaX"in j?j.deltaX:D[0]-T[0],O="deltaY"in j?j.deltaY:D[1]-T[1],F,V=j.target,I=Math.abs(M)>Math.abs(O)?"h":"v";if("touches"in j&&I==="h"&&V.type==="range")return!1;var ee=Wx(I,V);if(!ee)return!0;if(ee?F=I:(F=I==="v"?"h":"v",ee=Wx(I,V)),!ee)return!1;if(!a.current&&"changedTouches"in j&&(M||O)&&(a.current=F),!F)return!0;var se=a.current||F;return gT(se,C,j,se==="h"?M:O)},[]),g=v.useCallback(function(j){var C=j;if(!(!rl.length||rl[rl.length-1]!==d)){var T="deltaY"in C?Vx(C):Dd(C),D=t.current.filter(function(F){return F.name===C.type&&(F.target===C.target||C.target===F.shadowParent)&&vT(F.delta,T)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var M=(f.current.shards||[]).map(Zx).filter(Boolean).filter(function(F){return F.contains(C.target)}),O=M.length>0?p(C,M[0]):!f.current.noIsolation;O&&C.cancelable&&C.preventDefault()}}},[]),w=v.useCallback(function(j,C,T,D){var M={name:j,delta:C,target:T,should:D,shadowParent:_T(T)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(O){return O!==M})},1)},[]),_=v.useCallback(function(j){r.current=Dd(j),a.current=void 0},[]),b=v.useCallback(function(j){w(j.type,Vx(j),j.target,p(j,e.lockRef.current))},[]),S=v.useCallback(function(j){w(j.type,Dd(j),j.target,p(j,e.lockRef.current))},[]);v.useEffect(function(){return rl.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:S}),document.addEventListener("wheel",g,nl),document.addEventListener("touchmove",g,nl),document.addEventListener("touchstart",_,nl),function(){rl=rl.filter(function(j){return j!==d}),document.removeEventListener("wheel",g,nl),document.removeEventListener("touchmove",g,nl),document.removeEventListener("touchstart",_,nl)}},[]);var k=e.removeScrollBar,P=e.inert;return v.createElement(v.Fragment,null,P?v.createElement(d,{styles:xT(c)}):null,k?v.createElement(D0,{gapMode:e.gapMode}):null)}function _T(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bT=L0(A0,wT);var z0=v.forwardRef(function(e,t){return v.createElement(Ef,Wn({},e,{ref:t,sideCar:bT}))});z0.classNames=Ef.classNames;var NT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},sl=new WeakMap,Od=new WeakMap,Id={},km=0,$0=function(e){return e&&(e.host||$0(e.parentNode))},ST=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=$0(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},jT=function(e,t,r,a){var c=ST(t,Array.isArray(e)?e:[e]);Id[r]||(Id[r]=new WeakMap);var d=Id[r],f=[],p=new Set,g=new Set(c),w=function(b){!b||p.has(b)||(p.add(b),w(b.parentNode))};c.forEach(w);var _=function(b){!b||g.has(b)||Array.prototype.forEach.call(b.children,function(S){if(p.has(S))_(S);else try{var k=S.getAttribute(a),P=k!==null&&k!=="false",j=(sl.get(S)||0)+1,C=(d.get(S)||0)+1;sl.set(S,j),d.set(S,C),f.push(S),j===1&&P&&Od.set(S,!0),C===1&&S.setAttribute(r,"true"),P||S.setAttribute(a,"true")}catch(T){console.error("aria-hidden: cannot operate on ",S,T)}})};return _(t),p.clear(),km++,function(){f.forEach(function(b){var S=sl.get(b)-1,k=d.get(b)-1;sl.set(b,S),d.set(b,k),S||(Od.has(b)||b.removeAttribute(a),Od.delete(b)),k||b.removeAttribute(r)}),km--,km||(sl=new WeakMap,sl=new WeakMap,Od=new WeakMap,Id={})}},B0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),c=NT(e);return c?(a.push.apply(a,Array.from(c.querySelectorAll("[aria-live]"))),jT(a,c,r,"aria-hidden")):function(){return null}},Yp="Dialog",[U0,HL]=LP(Yp),[ET,ps]=U0(Yp),H0=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:c,onOpenChange:d,modal:f=!0}=e,p=v.useRef(null),g=v.useRef(null),[w=!1,_]=Uc({prop:a,defaultProp:c,onChange:d});return o.jsx(ET,{scope:t,triggerRef:p,contentRef:g,contentId:dl(),titleId:dl(),descriptionId:dl(),open:w,onOpenChange:_,onOpenToggle:v.useCallback(()=>_(b=>!b),[_]),modal:f,children:r})};H0.displayName=Yp;var W0="DialogTrigger",V0=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=ps(W0,r),d=Ot(t,c.triggerRef);return o.jsx(wt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Qp(c.open),...a,ref:d,onClick:ot(e.onClick,c.onOpenToggle)})});V0.displayName=W0;var Kp="DialogPortal",[CT,Z0]=U0(Kp,{forceMount:void 0}),q0=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:c}=e,d=ps(Kp,t);return o.jsx(CT,{scope:t,forceMount:r,children:v.Children.map(a,f=>o.jsx(jf,{present:r||d.open,children:o.jsx(Kw,{asChild:!0,container:c,children:f})}))})};q0.displayName=Kp;var ef="DialogOverlay",G0=v.forwardRef((e,t)=>{const r=Z0(ef,e.__scopeDialog),{forceMount:a=r.forceMount,...c}=e,d=ps(ef,e.__scopeDialog);return d.modal?o.jsx(jf,{present:a||d.open,children:o.jsx(PT,{...c,ref:t})}):null});G0.displayName=ef;var PT=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=ps(ef,r);return o.jsx(z0,{as:ia,allowPinchZoom:!0,shards:[c.contentRef],children:o.jsx(wt.div,{"data-state":Qp(c.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),la="DialogContent",Y0=v.forwardRef((e,t)=>{const r=Z0(la,e.__scopeDialog),{forceMount:a=r.forceMount,...c}=e,d=ps(la,e.__scopeDialog);return o.jsx(jf,{present:a||d.open,children:d.modal?o.jsx(TT,{...c,ref:t}):o.jsx(kT,{...c,ref:t})})});Y0.displayName=la;var TT=v.forwardRef((e,t)=>{const r=ps(la,e.__scopeDialog),a=v.useRef(null),c=Ot(t,r.contentRef,a);return v.useEffect(()=>{const d=a.current;if(d)return B0(d)},[]),o.jsx(K0,{...e,ref:c,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ot(e.onCloseAutoFocus,d=>{var f;d.preventDefault(),(f=r.triggerRef.current)==null||f.focus()}),onPointerDownOutside:ot(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0;(f.button===2||p)&&d.preventDefault()}),onFocusOutside:ot(e.onFocusOutside,d=>d.preventDefault())})}),kT=v.forwardRef((e,t)=>{const r=ps(la,e.__scopeDialog),a=v.useRef(!1),c=v.useRef(!1);return o.jsx(K0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var f,p;(f=e.onCloseAutoFocus)==null||f.call(e,d),d.defaultPrevented||(a.current||(p=r.triggerRef.current)==null||p.focus(),d.preventDefault()),a.current=!1,c.current=!1},onInteractOutside:d=>{var g,w;(g=e.onInteractOutside)==null||g.call(e,d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const f=d.target;((w=r.triggerRef.current)==null?void 0:w.contains(f))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),K0=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:d,...f}=e,p=ps(la,r),g=v.useRef(null),w=Ot(t,g);return VP(),o.jsxs(o.Fragment,{children:[o.jsx(Zp,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:c,onUnmountAutoFocus:d,children:o.jsx(Mp,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Qp(p.open),...f,ref:w,onDismiss:()=>p.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(MT,{titleId:p.titleId}),o.jsx(LT,{contentRef:g,descriptionId:p.descriptionId})]})]})}),Xp="DialogTitle",X0=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=ps(Xp,r);return o.jsx(wt.h2,{id:c.titleId,...a,ref:t})});X0.displayName=Xp;var Q0="DialogDescription",J0=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=ps(Q0,r);return o.jsx(wt.p,{id:c.descriptionId,...a,ref:t})});J0.displayName=Q0;var e_="DialogClose",t_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=ps(e_,r);return o.jsx(wt.button,{type:"button",...a,ref:t,onClick:ot(e.onClick,()=>c.onOpenChange(!1))})});t_.displayName=e_;function Qp(e){return e?"open":"closed"}var n_="DialogTitleWarning",[WL,r_]=RP(n_,{contentName:la,titleName:Xp,docsSlug:"dialog"}),MT=({titleId:e})=>{const t=r_(n_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},RT="DialogDescriptionWarning",LT=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r_(RT).contentName}}.`;return v.useEffect(()=>{var d;const c=(d=e.current)==null?void 0:d.getAttribute("aria-describedby");t&&c&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},AT=H0,DT=V0,OT=q0,s_=G0,o_=Y0,i_=X0,a_=J0,IT=t_;const Mr=AT,FT=DT,zT=OT,l_=v.forwardRef(({className:e,...t},r)=>o.jsx(s_,{ref:r,className:mt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));l_.displayName=s_.displayName;const dr=v.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(zT,{children:[o.jsx(l_,{}),o.jsxs(o_,{ref:a,className:mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(IT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(ru,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dr.displayName=o_.displayName;const fr=({className:e,...t})=>o.jsx("div",{className:mt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fr.displayName="DialogHeader";const ca=({className:e,...t})=>o.jsx("div",{className:mt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ca.displayName="DialogFooter";const hr=v.forwardRef(({className:e,...t},r)=>o.jsx(i_,{ref:r,className:mt("text-lg font-semibold leading-none tracking-tight",e),...t}));hr.displayName=i_.displayName;const mr=v.forwardRef(({className:e,...t},r)=>o.jsx(a_,{ref:r,className:mt("text-sm text-muted-foreground",e),...t}));mr.displayName=a_.displayName;function c_({employeeId:e,isOpen:t,onClose:r}){const[a,c]=v.useState([]),[d,f]=v.useState([]),[p,g]=v.useState(!1),[w,_]=v.useState(""),[b,S]=v.useState(1),[k,P]=v.useState(1),[j,C]=v.useState(0),[T,D]=v.useState(null),[M,O]=v.useState(!1),[F,V]=v.useState("all"),I=10;v.useEffect(()=>{t&&(ee(),e&&se())},[t,e,b]);const ee=async()=>{var de,ye,be,W;g(!0);try{const ge=new URLSearchParams({page:b.toString(),limit:I.toString()});e&&ge.append("employeeId",e),console.log("Fetching meeting history for employee:",e);const ie=await ht.get(`/api/meeting-history?${ge.toString()}`);if(ie.ok){const z=await ie.json();console.log("Meeting history data received:",z),console.log("Number of meetings:",((de=z.meetings)==null?void 0:de.length)||0),((ye=z.meetings)==null?void 0:ye.length)>0&&(console.log("First meeting details:",z.meetings[0]),console.log("First meeting's meetingDetails:",z.meetings[0].meetingDetails),console.log("Customer name:",(be=z.meetings[0].meetingDetails)==null?void 0:be.customerName),console.log("Customer employee name:",(W=z.meetings[0].meetingDetails)==null?void 0:W.customerEmployeeName)),c(z.meetings||[]),C(z.total||0),P(z.totalPages||1)}else console.error("Failed to fetch meeting history:",ie.status,ie.statusText)}catch(ge){console.error("Error fetching meeting history:",ge),c([]),C(0),P(1)}finally{g(!1)}},se=async()=>{try{if(!e)return;console.log("Fetching incomplete meeting remarks for employee:",e);const de=await ht.get(`/api/incomplete-meeting-remarks?employeeId=${e}`);if(de.ok){const ye=await de.json();console.log("Incomplete meeting remarks data received:",ye),f(ye.meetings||[])}else console.error("Failed to fetch incomplete meeting remarks:",de.status,de.statusText),f([])}catch(de){console.error("Error fetching incomplete meeting remarks:",de),f([])}},G=a.filter(de=>{var W,ge,ie,z,J;if(!w)return!0;const ye=w.toLowerCase(),be=de.meetingDetails;return((W=be.customerName)==null?void 0:W.toLowerCase().includes(ye))||((ge=be.customerEmployeeName)==null?void 0:ge.toLowerCase().includes(ye))||((ie=be.customerEmail)==null?void 0:ie.toLowerCase().includes(ye))||((z=be.customerDepartment)==null?void 0:z.toLowerCase().includes(ye))||((J=be.customerDesignation)==null?void 0:J.toLowerCase().includes(ye))||be.discussion.toLowerCase().includes(ye)}),Q=de=>{D(de),O(!0)},pe=de=>new Date(de).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Oe=()=>{b>1&&S(b-1)},ve=()=>{b<k&&S(b+1)};return o.jsxs(o.Fragment,{children:[o.jsx(Mr,{open:t,onOpenChange:r,children:o.jsxs(dr,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx(uw,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Meeting History"}),F==="all"&&j>0&&o.jsxs(Pt,{variant:"secondary",className:"ml-2",children:[j," meetings"]}),F==="incomplete"&&d.length>0&&o.jsxs(Pt,{variant:"destructive",className:"ml-2",children:[d.length," incomplete"]})]}),o.jsx(mr,{children:F==="all"?"View completed meetings with customer details and discussion notes.":"View incomplete meeting remarks from your logout sessions."})]}),o.jsxs("div",{className:"flex space-x-2 border-b",children:[o.jsxs(Pe,{variant:F==="all"?"default":"ghost",size:"sm",onClick:()=>V("all"),className:"px-4",children:["All Meetings (",j,")"]}),o.jsxs(Pe,{variant:F==="incomplete"?"default":"ghost",size:"sm",onClick:()=>V("incomplete"),className:"px-4",children:["Incomplete Remarks (",d.length,")"]})]}),o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col space-y-4",children:[F==="all"&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(an,{placeholder:"Search meetings by customer, discussion...",value:w,onChange:de=>_(de.target.value),className:"pl-10"})]}),o.jsxs(Pe,{variant:"outline",size:"sm",children:[o.jsx(dw,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:F==="all"?o.jsx(o.Fragment,{children:p?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):G.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:w?"No meetings found matching your search.":"No meeting history available."}):o.jsx("div",{className:"space-y-3",children:G.map(de=>o.jsx(dt,{className:"border-l-4 border-l-primary cursor-pointer hover:shadow-md transition-shadow",onClick:()=>Q(de),children:o.jsx(ft,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:pe(de.timestamp)})]}),de.leadInfo&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rx,{className:"h-4 w-4 text-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Lead: ",de.leadInfo.id]})]}),de.meetingDetails.customers&&de.meetingDetails.customers.length>0?o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vm,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm font-medium",children:["Customers (",de.meetingDetails.customers.length,")"]})]}),de.meetingDetails.customers.map((ye,be)=>o.jsxs("div",{className:"ml-6 text-sm",children:[o.jsx("div",{className:"font-medium",children:ye.customerName}),o.jsxs("div",{className:"text-muted-foreground",children:["Contact: ",ye.customerEmployeeName,ye.customerDesignation&&o.jsxs("span",{children:[" (",ye.customerDesignation,")"]})]})]},be))]}):o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vm,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:de.meetingDetails.customerName||"Unknown Company"})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[o.jsx(pf,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm",children:[de.meetingDetails.customerEmployeeName||"No contact person",de.meetingDetails.customerDesignation&&o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",de.meetingDetails.customerDesignation,")"]})]})]})]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Tp,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:de.meetingDetails.discussion})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:de.meetingDetails.customers&&de.meetingDetails.customers.length>0?de.meetingDetails.customers.map((ye,be)=>o.jsxs("div",{className:"flex flex-wrap gap-1",children:[ye.customerEmail&&o.jsxs(Pt,{variant:"outline",className:"text-xs",children:[o.jsx(di,{className:"h-3 w-3 mr-1"}),ye.customerEmail]}),ye.customerMobile&&o.jsxs(Pt,{variant:"outline",className:"text-xs",children:[o.jsx(fi,{className:"h-3 w-3 mr-1"}),ye.customerMobile]}),ye.customerDepartment&&o.jsx(Pt,{variant:"secondary",className:"text-xs",children:ye.customerDepartment})]},be)):o.jsxs(o.Fragment,{children:[de.meetingDetails.customerEmail&&o.jsxs(Pt,{variant:"outline",className:"text-xs",children:[o.jsx(di,{className:"h-3 w-3 mr-1"}),de.meetingDetails.customerEmail]}),de.meetingDetails.customerMobile&&o.jsxs(Pt,{variant:"outline",className:"text-xs",children:[o.jsx(fi,{className:"h-3 w-3 mr-1"}),de.meetingDetails.customerMobile]}),de.meetingDetails.customerDepartment&&o.jsx(Pt,{variant:"secondary",className:"text-xs",children:de.meetingDetails.customerDepartment})]})})]}),o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Q(de),children:"View Details"})]})})},de.id))})}):o.jsx(o.Fragment,{children:d.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No incomplete meeting remarks available."}):o.jsx("div",{className:"space-y-3",children:d.map(de=>o.jsx(dt,{className:"border-l-4 border-l-destructive cursor-pointer hover:shadow-md transition-shadow",onClick:()=>Q(de),children:o.jsx(ft,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Kr,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm font-medium text-destructive",children:pe(de.timestamp)})]}),de.meetingDetails.customers&&de.meetingDetails.customers.length>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vm,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:de.meetingDetails.customers[0].customerName})]}),de.meetingDetails.customers[0].customerEmployeeName&&o.jsxs("div",{className:"text-sm text-muted-foreground ml-6",children:["Contact: ",de.meetingDetails.customers[0].customerEmployeeName]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(vn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Reason:"}),o.jsx("p",{className:"text-sm line-clamp-2",children:de.meetingDetails.incompleteReason||de.meetingDetails.discussion})]})]})]}),o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Q(de),children:"View"})]})})},de.id))})})}),F==="all"&&k>1&&o.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(b-1)*I+1," to"," ",Math.min(b*I,j)," of ",j," ","meetings"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Pe,{variant:"outline",size:"sm",onClick:Oe,disabled:b<=1,children:[o.jsx(iw,{className:"h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm",children:["Page ",b," of ",k]}),o.jsxs(Pe,{variant:"outline",size:"sm",onClick:ve,disabled:b>=k,children:["Next",o.jsx(aw,{className:"h-4 w-4"})]})]})]})]})]})}),T&&o.jsx(Mr,{open:M,onOpenChange:O,children:o.jsxs(dr,{className:"sm:max-w-md",children:[o.jsxs(fr,{children:[o.jsx(hr,{children:"Meeting Details"}),o.jsx(mr,{children:pe(T.timestamp)})]}),o.jsxs("div",{className:"space-y-4",children:[T.meetingDetails.customers&&T.meetingDetails.customers.length>0?o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-muted-foreground",children:["Customer Contacts (",T.meetingDetails.customers.length,")"]}),o.jsx("div",{className:"space-y-3 mt-2",children:T.meetingDetails.customers.map((de,ye)=>o.jsxs("div",{className:"p-3 bg-muted/20 rounded-md space-y-2",children:[o.jsx("div",{children:o.jsx("span",{className:"text-sm font-medium",children:de.customerName})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("p",{children:de.customerEmployeeName})]}),de.customerDesignation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Position:"}),o.jsx("p",{children:de.customerDesignation})]}),de.customerDepartment&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("p",{children:de.customerDepartment})]}),de.customerEmail&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("p",{children:de.customerEmail})]}),de.customerMobile&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),o.jsx("p",{children:de.customerMobile})]})]})]},ye))})]}):o.jsxs(o.Fragment,{children:[T.meetingDetails.customerName&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer Name"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerName})]}),T.meetingDetails.customerEmployeeName&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Person"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerEmployeeName})]}),T.meetingDetails.customerEmail&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerEmail})]}),T.meetingDetails.customerMobile&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mobile"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerMobile})]}),T.meetingDetails.customerDesignation&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Designation"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerDesignation})]}),T.meetingDetails.customerDepartment&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerDepartment})]})]}),T.leadInfo&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Associated Lead"}),o.jsxs("div",{className:"p-3 bg-blue-50 rounded-md mt-2 space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rx,{className:"h-4 w-4 text-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Lead ID: ",T.leadInfo.id]})]}),o.jsxs("div",{className:"text-sm text-blue-600",children:["Company: ",T.leadInfo.companyName]}),o.jsxs("div",{className:"text-sm text-blue-600",children:["Contact: ",T.leadInfo.contactName]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Discussion"}),o.jsx("p",{className:"text-sm bg-muted/50 p-3 rounded-md mt-1",children:T.meetingDetails.discussion})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(Pe,{variant:"outline",onClick:()=>O(!1),children:"Close"})})]})})]})}function $T({onInstall:e,onDismiss:t}){const[r,a]=v.useState(null),[c,d]=v.useState(!1),[f,p]=v.useState(!1),[g,w]=v.useState(!1),[_,b]=v.useState(!1);v.useEffect(()=>{const P=window.matchMedia("(display-mode: standalone)").matches,j=/iPad|iPhone|iPod/.test(navigator.userAgent);b(P),w(j),p(P);const C=D=>{console.log("PWA install prompt available"),D.preventDefault(),a(D),d(!0)},T=()=>{console.log("PWA was installed"),p(!0),d(!1),a(null),e==null||e()};if(window.addEventListener("beforeinstallprompt",C),window.addEventListener("appinstalled",T),j&&!P){const D=setTimeout(()=>{d(!0)},2e3);return()=>clearTimeout(D)}return()=>{window.removeEventListener("beforeinstallprompt",C),window.removeEventListener("appinstalled",T)}},[e]);const S=async()=>{!r&&!g||r&&(r.prompt(),(await r.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),a(null),d(!1))},k=()=>{d(!1),t==null||t()};return f||!c?null:o.jsxs(dt,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-accent/5",children:[o.jsx(Tt,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(kt,{className:"flex items-center space-x-2 text-lg",children:[o.jsx(eS,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Install Fusion Tracker"}),o.jsx(Pt,{variant:"secondary",className:"bg-primary text-primary-foreground",children:"Recommended"})]}),o.jsx(Pe,{variant:"ghost",size:"sm",onClick:k,children:o.jsx(ru,{className:"h-4 w-4"})})]})}),o.jsxs(ft,{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Install this app on your device for enhanced location tracking capabilities"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Hd,{className:"h-4 w-4 text-success"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Better Background Tracking"})," - Works when phone is in pocket"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(ho,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Improved GPS Accuracy"})," - More precise location updates"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(qr,{className:"h-4 w-4 text-info"}),o.jsxs("span",{children:[o.jsx("strong",{children:"App-like Experience"})," - Faster loading and better performance"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(YN,{className:"h-4 w-4 text-accent"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Offline Support"})," - Basic functionality without internet"]})]})]}),g?o.jsxs("div",{className:"bg-info/10 border border-info/20 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm font-medium text-info mb-2",children:"iOS Installation:"}),o.jsxs("ol",{className:"text-xs text-muted-foreground space-y-1 list-decimal list-inside",children:[o.jsxs("li",{children:["Tap the ",o.jsx("strong",{children:"Share"})," button (square with arrow) in Safari"]}),o.jsxs("li",{children:["Scroll down and tap ",o.jsx("strong",{children:'"Add to Home Screen"'})]}),o.jsxs("li",{children:["Tap ",o.jsx("strong",{children:'"Add"'})," to install the app"]}),o.jsx("li",{children:"Find the app on your home screen and open it"})]})]}):o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Pe,{onClick:S,className:"flex-1",disabled:!r,children:[o.jsx(lw,{className:"h-4 w-4 mr-2"}),"Install App"]}),o.jsx(Pe,{variant:"outline",onClick:k,children:"Not Now"})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx("strong",{children:"Note:"})," Installing as a PWA provides native app-like capabilities while maintaining all web features. No app store required."]})]})]})}function BT(){const[e,t]=v.useState(!1),[r,a]=v.useState(!1);return v.useEffect(()=>{const c=window.matchMedia("(display-mode: standalone)").matches,d=/iPad|iPhone|iPod/.test(navigator.userAgent);a(c);const f=g=>{t(!0)},p=()=>{a(!0),t(!1)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",p),d&&!c&&t(!0),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",p)}},[]),{canInstall:e,isInstalled:r}}function pr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function go(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function UT(e,t){const r=pr(e);return isNaN(t)?go(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const u_=6048e5,HT=864e5,d_=6e4,f_=36e5;let WT={};function Cf(){return WT}function Kc(e,t){var p,g,w,_;const r=Cf(),a=(t==null?void 0:t.weekStartsOn)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??0,c=pr(e),d=c.getDay(),f=(d<a?7:0)+d-a;return c.setDate(c.getDate()-f),c.setHours(0,0,0,0),c}function tf(e){return Kc(e,{weekStartsOn:1})}function h_(e){const t=pr(e),r=t.getFullYear(),a=go(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const c=tf(a),d=go(e,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const f=tf(d);return t.getTime()>=c.getTime()?r+1:t.getTime()>=f.getTime()?r:r-1}function nf(e){const t=pr(e);return t.setHours(0,0,0,0),t}function qx(e){const t=pr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function VT(e,t){const r=nf(e),a=nf(t),c=+r-qx(r),d=+a-qx(a);return Math.round((c-d)/HT)}function ZT(e){const t=h_(e),r=go(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),tf(r)}function qT(e){return go(e,Date.now())}function GT(e,t){const r=nf(e),a=nf(t);return+r==+a}function YT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function KT(e){if(!YT(e)&&typeof e!="number")return!1;const t=pr(e);return!isNaN(Number(t))}function XT(e){const t=pr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function QT(e){const t=pr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function JT(e){const t=pr(e),r=go(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const e2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},t2=(e,t,r)=>{let a;const c=e2[e];return typeof c=="string"?a=c:t===1?a=c.one:a=c.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Mm(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const n2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},r2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},s2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},o2={date:Mm({formats:n2,defaultWidth:"full"}),time:Mm({formats:r2,defaultWidth:"full"}),dateTime:Mm({formats:s2,defaultWidth:"full"})},i2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},a2=(e,t,r,a)=>i2[e];function Cc(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let c;if(a==="formatting"&&e.formattingValues){const f=e.defaultFormattingWidth||e.defaultWidth,p=r!=null&&r.width?String(r.width):f;c=e.formattingValues[p]||e.formattingValues[f]}else{const f=e.defaultWidth,p=r!=null&&r.width?String(r.width):e.defaultWidth;c=e.values[p]||e.values[f]}const d=e.argumentCallback?e.argumentCallback(t):t;return c[d]}}const l2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},c2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},u2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},d2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},f2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},h2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m2=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},p2={ordinalNumber:m2,era:Cc({values:l2,defaultWidth:"wide"}),quarter:Cc({values:c2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Cc({values:u2,defaultWidth:"wide"}),day:Cc({values:d2,defaultWidth:"wide"}),dayPeriod:Cc({values:f2,defaultWidth:"wide",formattingValues:h2,defaultFormattingWidth:"wide"})};function Pc(e){return(t,r={})=>{const a=r.width,c=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],d=t.match(c);if(!d)return null;const f=d[0],p=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(p)?v2(p,b=>b.test(f)):g2(p,b=>b.test(f));let w;w=e.valueCallback?e.valueCallback(g):g,w=r.valueCallback?r.valueCallback(w):w;const _=t.slice(f.length);return{value:w,rest:_}}}function g2(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function v2(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function x2(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const c=a[0],d=t.match(e.parsePattern);if(!d)return null;let f=e.valueCallback?e.valueCallback(d[0]):d[0];f=r.valueCallback?r.valueCallback(f):f;const p=t.slice(c.length);return{value:f,rest:p}}}const y2=/^(\d+)(th|st|nd|rd)?/i,w2=/\d+/i,_2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},b2={any:[/^b/i,/^(a|c)/i]},N2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S2={any:[/1/i,/2/i,/3/i,/4/i]},j2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},C2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},P2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},T2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},M2={ordinalNumber:x2({matchPattern:y2,parsePattern:w2,valueCallback:e=>parseInt(e,10)}),era:Pc({matchPatterns:_2,defaultMatchWidth:"wide",parsePatterns:b2,defaultParseWidth:"any"}),quarter:Pc({matchPatterns:N2,defaultMatchWidth:"wide",parsePatterns:S2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Pc({matchPatterns:j2,defaultMatchWidth:"wide",parsePatterns:E2,defaultParseWidth:"any"}),day:Pc({matchPatterns:C2,defaultMatchWidth:"wide",parsePatterns:P2,defaultParseWidth:"any"}),dayPeriod:Pc({matchPatterns:T2,defaultMatchWidth:"any",parsePatterns:k2,defaultParseWidth:"any"})},R2={code:"en-US",formatDistance:t2,formatLong:o2,formatRelative:a2,localize:p2,match:M2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function L2(e){const t=pr(e);return VT(t,JT(t))+1}function A2(e){const t=pr(e),r=+tf(t)-+ZT(t);return Math.round(r/u_)+1}function m_(e,t){var _,b,S,k;const r=pr(e),a=r.getFullYear(),c=Cf(),d=(t==null?void 0:t.firstWeekContainsDate)??((b=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??c.firstWeekContainsDate??((k=(S=c.locale)==null?void 0:S.options)==null?void 0:k.firstWeekContainsDate)??1,f=go(e,0);f.setFullYear(a+1,0,d),f.setHours(0,0,0,0);const p=Kc(f,t),g=go(e,0);g.setFullYear(a,0,d),g.setHours(0,0,0,0);const w=Kc(g,t);return r.getTime()>=p.getTime()?a+1:r.getTime()>=w.getTime()?a:a-1}function D2(e,t){var p,g,w,_;const r=Cf(),a=(t==null?void 0:t.firstWeekContainsDate)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??1,c=m_(e,t),d=go(e,0);return d.setFullYear(c,0,a),d.setHours(0,0,0,0),Kc(d,t)}function O2(e,t){const r=pr(e),a=+Kc(r,t)-+D2(r,t);return Math.round(a/u_)+1}function Gt(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const ei={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Gt(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Gt(r+1,2)},d(e,t){return Gt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Gt(e.getHours()%12||12,t.length)},H(e,t){return Gt(e.getHours(),t.length)},m(e,t){return Gt(e.getMinutes(),t.length)},s(e,t){return Gt(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),c=Math.trunc(a*Math.pow(10,r-3));return Gt(c,t.length)}},ol={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gx={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),c=a>0?a:1-a;return r.ordinalNumber(c,{unit:"year"})}return ei.y(e,t)},Y:function(e,t,r,a){const c=m_(e,a),d=c>0?c:1-c;if(t==="YY"){const f=d%100;return Gt(f,2)}return t==="Yo"?r.ordinalNumber(d,{unit:"year"}):Gt(d,t.length)},R:function(e,t){const r=h_(e);return Gt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Gt(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Gt(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Gt(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return ei.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Gt(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const c=O2(e,a);return t==="wo"?r.ordinalNumber(c,{unit:"week"}):Gt(c,t.length)},I:function(e,t,r){const a=A2(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Gt(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ei.d(e,t)},D:function(e,t,r){const a=L2(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Gt(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(d);case"ee":return Gt(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(c,{width:"short",context:"formatting"});case"eeee":default:return r.day(c,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(d);case"cc":return Gt(d,t.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(c,{width:"narrow",context:"standalone"});case"cccccc":return r.day(c,{width:"short",context:"standalone"});case"cccc":default:return r.day(c,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),c=a===0?7:a;switch(t){case"i":return String(c);case"ii":return Gt(c,t.length);case"io":return r.ordinalNumber(c,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const c=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let c;switch(a===12?c=ol.noon:a===0?c=ol.midnight:c=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let c;switch(a>=17?c=ol.evening:a>=12?c=ol.afternoon:a>=4?c=ol.morning:c=ol.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return ei.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ei.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Gt(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Gt(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ei.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ei.s(e,t)},S:function(e,t){return ei.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Kx(a);case"XXXX":case"XX":return qi(a);case"XXXXX":case"XXX":default:return qi(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return Kx(a);case"xxxx":case"xx":return qi(a);case"xxxxx":case"xxx":default:return qi(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yx(a,":");case"OOOO":default:return"GMT"+qi(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yx(a,":");case"zzzz":default:return"GMT"+qi(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return Gt(a,t.length)},T:function(e,t,r){const a=e.getTime();return Gt(a,t.length)}};function Yx(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),c=Math.trunc(a/60),d=a%60;return d===0?r+String(c):r+String(c)+t+Gt(d,2)}function Kx(e,t){return e%60===0?(e>0?"-":"+")+Gt(Math.abs(e)/60,2):qi(e,t)}function qi(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),c=Gt(Math.trunc(a/60),2),d=Gt(a%60,2);return r+c+t+d}const Xx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},p_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},I2=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],c=r[2];if(!c)return Xx(e,t);let d;switch(a){case"P":d=t.dateTime({width:"short"});break;case"PP":d=t.dateTime({width:"medium"});break;case"PPP":d=t.dateTime({width:"long"});break;case"PPPP":default:d=t.dateTime({width:"full"});break}return d.replace("{{date}}",Xx(a,t)).replace("{{time}}",p_(c,t))},F2={p:p_,P:I2},z2=/^D+$/,$2=/^Y+$/,B2=["D","DD","YY","YYYY"];function U2(e){return z2.test(e)}function H2(e){return $2.test(e)}function W2(e,t,r){const a=V2(e,t,r);if(console.warn(a),B2.includes(e))throw new RangeError(a)}function V2(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Z2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,q2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,G2=/^'([^]*?)'?$/,Y2=/''/g,K2=/[a-zA-Z]/;function sn(e,t,r){var _,b,S,k;const a=Cf(),c=a.locale??R2,d=a.firstWeekContainsDate??((b=(_=a.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,f=a.weekStartsOn??((k=(S=a.locale)==null?void 0:S.options)==null?void 0:k.weekStartsOn)??0,p=pr(e);if(!KT(p))throw new RangeError("Invalid time value");let g=t.match(q2).map(P=>{const j=P[0];if(j==="p"||j==="P"){const C=F2[j];return C(P,c.formatLong)}return P}).join("").match(Z2).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const j=P[0];if(j==="'")return{isToken:!1,value:X2(P)};if(Gx[j])return{isToken:!0,value:P};if(j.match(K2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:P}});c.localize.preprocessor&&(g=c.localize.preprocessor(p,g));const w={firstWeekContainsDate:d,weekStartsOn:f,locale:c};return g.map(P=>{if(!P.isToken)return P.value;const j=P.value;(H2(j)||U2(j))&&W2(j,t,String(e));const C=Gx[j[0]];return C(p,j,c.localize,w)}).join("")}function X2(e){const t=e.match(G2);return t?t[1].replace(Y2,"'"):e}function Q2(e){return GT(e,qT(e))}function Qx(e,t){return UT(e,-t)}function J2(e,t){const a=rk(e);let c;if(a.date){const g=sk(a.date,2);c=ok(g.restDateString,g.year)}if(!c||isNaN(c.getTime()))return new Date(NaN);const d=c.getTime();let f=0,p;if(a.time&&(f=ik(a.time),isNaN(f)))return new Date(NaN);if(a.timezone){if(p=ak(a.timezone),isNaN(p))return new Date(NaN)}else{const g=new Date(d+f),w=new Date(0);return w.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),w.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),w}return new Date(d+f+p)}const Fd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ek=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tk=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nk=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rk(e){const t={},r=e.split(Fd.dateTimeDelimiter);let a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],Fd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Fd.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const c=Fd.timezone.exec(a);c?(t.time=a.replace(c[1],""),t.timezone=c[1]):t.time=a}return t}function sk(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const c=a[1]?parseInt(a[1]):null,d=a[2]?parseInt(a[2]):null;return{year:d===null?c:d*100,restDateString:e.slice((a[1]||a[2]).length)}}function ok(e,t){if(t===null)return new Date(NaN);const r=e.match(ek);if(!r)return new Date(NaN);const a=!!r[4],c=Tc(r[1]),d=Tc(r[2])-1,f=Tc(r[3]),p=Tc(r[4]),g=Tc(r[5])-1;if(a)return fk(t,p,g)?lk(t,p,g):new Date(NaN);{const w=new Date(0);return!uk(t,d,f)||!dk(t,c)?new Date(NaN):(w.setUTCFullYear(t,d,Math.max(c,f)),w)}}function Tc(e){return e?parseInt(e):1}function ik(e){const t=e.match(tk);if(!t)return NaN;const r=Rm(t[1]),a=Rm(t[2]),c=Rm(t[3]);return hk(r,a,c)?r*f_+a*d_+c*1e3:NaN}function Rm(e){return e&&parseFloat(e.replace(",","."))||0}function ak(e){if(e==="Z")return 0;const t=e.match(nk);if(!t)return 0;const r=t[1]==="+"?-1:1,a=parseInt(t[2]),c=t[3]&&parseInt(t[3])||0;return mk(a,c)?r*(a*f_+c*d_):NaN}function lk(e,t,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const c=a.getUTCDay()||7,d=(t-1)*7+r+1-c;return a.setUTCDate(a.getUTCDate()+d),a}const ck=[31,null,31,30,31,30,31,31,30,31,30,31];function g_(e){return e%400===0||e%4===0&&e%100!==0}function uk(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(ck[t]||(g_(e)?29:28))}function dk(e,t){return t>=1&&t<=(g_(e)?366:365)}function fk(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function hk(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function mk(e,t){return t>=0&&t<=59}function v_({userId:e,onStartMeeting:t,startedMeetingMap:r,onEndMeetingFromFollowUp:a,onMeetingsFetched:c,refreshTrigger:d,hasActiveMeeting:f=!1}){const[p,g]=v.useState([]),[w,_]=v.useState(!0),[b,S]=v.useState(null),[k,P]=v.useState(null),{toast:j}=vo();v.useEffect(()=>{if(r&&Object.keys(r).length>0){const[I]=Object.keys(r);P(I||null)}else f||P(null)},[r,f]),v.useEffect(()=>{C();const I=setInterval(C,6e4);return()=>clearInterval(I)},[e]),v.useEffect(()=>{d!==void 0&&d>0&&(console.log(" Refresh trigger changed, fetching meetings and clearing local state"),C(),P(null))},[d]);const C=async()=>{if(!e){S("User ID is required"),_(!1);return}try{S(null),console.log("Fetching meetings for user:",e);const se=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${e}`,G=await fetch(se);if(!G.ok)throw new Error(`Failed to fetch meetings: ${G.status}`);const Q=await G.json();console.log("All meetings fetched:",Q.length);const pe=Q.filter(ve=>{const de=ve.followupDate||ve.date;if(!de)return!1;try{const ye=J2(de);return Q2(ye)&&ve.status==="Approved"}catch{return console.warn("Invalid date format for meeting:",ve._id),!1}});console.log("Today's approved meetings:",pe.length),pe.forEach(ve=>{console.log(` Meeting ${ve.companyName}: status="${ve.meetingStatus}"`)});const Oe=pe.filter(ve=>D(ve));Oe.length>0?(console.log(" Found active meetings from API after refresh:",Oe.map(ve=>({id:ve._id,company:ve.companyName,status:ve.meetingStatus}))),P(Oe[0]._id)):console.log(" No active meetings found in API. Checking startedMeetingMap..."),g(pe),c&&c(pe)}catch(I){console.error("Error fetching meetings:",I),S(I instanceof Error?I.message:"Failed to fetch meetings")}finally{_(!1)}};console.log("Todays meeting");const T=I=>I.meetingStatus==="complete"||I.meetingStatus==="Completed"||I.meetingStatus==="COMPLETED",D=I=>I.meetingStatus==="In Progress"||I.meetingStatus==="IN_PROGRESS"||I.meetingStatus==="Started"||I.meetingStatus==="meeting on-going",M=f||!!k||r&&Object.keys(r).length>0||p.some(I=>D(I)),O=I=>{if(console.log(" Today's Meeting: Attempting to start meeting:",I.companyName),console.log(" Has active meeting?",f),console.log(" Local active followUpId:",k),M){console.log(" BLOCKED: Cannot start - active meeting exists"),j({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting, starting and marking as local active..."),P(I._id),t(I)},F=I=>{switch(I){case"Approved":return"bg-success text-success-foreground";case"Pending":return"bg-warning text-warning-foreground";case"Rejected":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},V=I=>{switch(I){case"Call":return o.jsx(fi,{className:"h-4 w-4"});case"Email":return o.jsx(di,{className:"h-4 w-4"});case"Meeting":return o.jsx(Kr,{className:"h-4 w-4"});default:return o.jsx(vn,{className:"h-4 w-4"})}};return w?o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsxs(kt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsxs(Pt,{variant:"secondary",children:[o.jsx(Nl,{className:"h-3 w-3 animate-spin mr-1"}),"Loading..."]})]})}),o.jsx(ft,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nl,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Fetching today's approved meetings..."})]})})]}):b?o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsxs(kt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsx(Pt,{variant:"destructive",children:"Error"})]})}),o.jsx(ft,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(vn,{className:"h-8 w-8 mx-auto text-destructive mb-2"}),o.jsx("p",{className:"text-sm text-destructive",children:b}),o.jsx(Pe,{variant:"outline",size:"sm",onClick:C,className:"mt-4",children:"Retry"})]})})]}):o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsxs(kt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsxs(Pt,{variant:"secondary",children:[p.length," ",p.length===1?"meeting":"meetings"]})]})}),o.jsx(ft,{className:"p-0",children:p.length===0?o.jsxs("div",{className:"text-center py-8 px-4",children:[o.jsx(Kr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),o.jsx("h4",{className:"font-medium mb-1",children:"No approved meetings for today"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Only approved meetings are shown here."})]}):o.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:p.map(I=>{r&&r[I._id];const ee=k===I._id,G=D(I)||ee;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[V(I.type),o.jsx("span",{className:"font-medium",children:I.type})]}),o.jsx(Pt,{className:F(I.status),variant:"secondary",children:I.status}),I.meetingTime&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(Tn,{className:"h-3 w-3"}),I.meetingTime]})]}),o.jsxs("div",{className:"space-y-1",children:[I.companyName&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(mf,{className:"h-3 w-3"}),o.jsx("span",{className:"font-medium",children:I.companyName})]}),I.customerName&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(pf,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:I.customerName}),I.customerDesignation&&o.jsxs("span",{className:"text-muted-foreground",children:[" ",I.customerDesignation]})]}),I.customerMobile&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(fi,{className:"h-3 w-3"}),I.customerMobile]}),I.customerEmail&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(di,{className:"h-3 w-3"}),I.customerEmail]}),I.remark&&o.jsxs("div",{className:"text-sm text-muted-foreground mt-2 p-2 bg-muted/50 rounded",children:[o.jsx("span",{className:"font-medium",children:"Note: "}),I.remark]})]})]}),I.meetingStatus==="Incomplete"||!1?o.jsxs(Pe,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 border-orange-500 text-orange-600",title:"Meeting marked as incomplete",children:[o.jsx(vn,{className:"h-4 w-4 mr-2"}),"Incomplete"]}):T(I)?o.jsxs(Pe,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0",children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),"Complete"]}):G?o.jsxs(Pe,{size:"sm",variant:"destructive",onClick:()=>{console.log(" End Meeting clicked for:",I._id),console.log(" startedMeetingMap:",r);const pe=r==null?void 0:r[I._id];a&&pe?(console.log(" Calling onEndMeetingFromFollowUp with:",I._id,pe),a(I._id,pe)):(console.warn(" Cannot end meeting - missing handler or meetingId:",{hasHandler:!!a,meetingId:pe,followUpId:I._id}),a&&a(I._id,""))},className:"flex-shrink-0",children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),"End Meeting"]}):M?o.jsxs(Pe,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 opacity-50 cursor-not-allowed",title:"Complete your current meeting first",children:[o.jsx(tx,{className:"h-4 w-4 mr-2"}),"Meeting Active"]}):o.jsxs(Pe,{size:"sm",onClick:()=>O(I),className:"flex-shrink-0",children:[o.jsx(tx,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})},I._id)})})})]})}var pk="Label",x_=v.forwardRef((e,t)=>o.jsx(wt.label,{...e,ref:t,onMouseDown:r=>{var c;r.target.closest("button, input, select, textarea")||((c=e.onMouseDown)==null||c.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));x_.displayName=pk;var y_=x_;const gk=tu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Dt=v.forwardRef(({className:e,...t},r)=>o.jsx(y_,{ref:r,className:mt(gk(),e),...t}));Dt.displayName=y_.displayName;const vi=v.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:mt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));vi.displayName="Textarea";function ip(e,[t,r]){return Math.min(r,Math.max(t,e))}var vk=v.createContext(void 0);function w_(e){const t=v.useContext(vk);return e||t||"ltr"}var xk="DismissableLayer",ap="dismissableLayer.update",yk="dismissableLayer.pointerDownOutside",wk="dismissableLayer.focusOutside",Jx,__=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),b_=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(__),[_,b]=v.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=v.useState({}),P=Ot(t,I=>b(I)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(C),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=T,F=Nk(I=>{const ee=I.target,se=[...w.branches].some(G=>G.contains(ee));!O||se||(c==null||c(I),f==null||f(I),I.defaultPrevented||p==null||p())},S),V=Sk(I=>{const ee=I.target;[...w.branches].some(G=>G.contains(ee))||(d==null||d(I),f==null||f(I),I.defaultPrevented||p==null||p())},S);return bp(I=>{D===w.layers.size-1&&(a==null||a(I),!I.defaultPrevented&&p&&(I.preventDefault(),p()))},S),v.useEffect(()=>{if(_)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(Jx=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),ey(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Jx)}},[_,S,r,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),ey())},[_,w]),v.useEffect(()=>{const I=()=>k({});return document.addEventListener(ap,I),()=>document.removeEventListener(ap,I)},[]),o.jsx(wt.div,{...g,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:ot(e.onFocusCapture,V.onFocusCapture),onBlurCapture:ot(e.onBlurCapture,V.onBlurCapture),onPointerDownCapture:ot(e.onPointerDownCapture,F.onPointerDownCapture)})});b_.displayName=xk;var _k="DismissableLayerBranch",bk=v.forwardRef((e,t)=>{const r=v.useContext(__),a=v.useRef(null),c=Ot(t,a);return v.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(wt.div,{...e,ref:c})});bk.displayName=_k;function Nk(e,t=globalThis==null?void 0:globalThis.document){const r=ln(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){N_(yk,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Sk(e,t=globalThis==null?void 0:globalThis.document){const r=ln(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&N_(wk,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ey(){const e=new CustomEvent(ap);document.dispatchEvent(e)}function N_(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?uf(c,d):c.dispatchEvent(d)}var Lm=0;function jk(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ty()),document.body.insertAdjacentElement("beforeend",e[1]??ty()),Lm++,()=>{Lm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Lm--}},[])}function ty(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Ek="Portal",S_=v.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=v.useState(!1);hn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?cf.createPortal(o.jsx(wt.div,{...a,ref:t}),f):null});S_.displayName=Ek;function j_(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var E_=M0(),Am=function(){},Pf=v.forwardRef(function(e,t){var r=v.useRef(null),a=v.useState({onScrollCapture:Am,onWheelCapture:Am,onTouchMoveCapture:Am}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,g=e.className,w=e.removeScrollBar,_=e.enabled,b=e.shards,S=e.sideCar,k=e.noIsolation,P=e.inert,j=e.allowPinchZoom,C=e.as,T=C===void 0?"div":C,D=e.gapMode,M=qp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=S,F=k0([r,t]),V=Wn(Wn({},M),c);return v.createElement(v.Fragment,null,_&&v.createElement(O,{sideCar:E_,removeScrollBar:w,shards:b,noIsolation:k,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:r,gapMode:D}),f?v.cloneElement(v.Children.only(p),Wn(Wn({},V),{ref:F})):v.createElement(T,Wn({},V,{className:g,ref:F}),p))});Pf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pf.classNames={fullWidth:Bc,zeroRight:$c};var lp=!1;if(typeof window<"u")try{var zd=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",zd,zd),window.removeEventListener("test",zd,zd)}catch{lp=!1}var il=lp?{passive:!1}:!1,Ck=function(e){return e.tagName==="TEXTAREA"},C_=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ck(e)&&r[t]==="visible")},Pk=function(e){return C_(e,"overflowY")},Tk=function(e){return C_(e,"overflowX")},ny=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=P_(e,a);if(c){var d=T_(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},kk=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},Mk=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},P_=function(e,t){return e==="v"?Pk(t):Tk(t)},T_=function(e,t){return e==="v"?kk(t):Mk(t)},Rk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Lk=function(e,t,r,a,c){var d=Rk(e,window.getComputedStyle(t).direction),f=d*a,p=r.target,g=t.contains(p),w=!1,_=f>0,b=0,S=0;do{var k=T_(e,p),P=k[0],j=k[1],C=k[2],T=j-C-d*P;(P||T)&&P_(e,p)&&(b+=T,S+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!g&&p!==document.body||g&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(S)<1)&&(w=!0),w},$d=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ry=function(e){return[e.deltaX,e.deltaY]},sy=function(e){return e&&"current"in e?e.current:e},Ak=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Dk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ok=0,al=[];function Ik(e){var t=v.useRef([]),r=v.useRef([0,0]),a=v.useRef(),c=v.useState(Ok++)[0],d=v.useState(Gp)[0],f=v.useRef(e);v.useEffect(function(){f.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=T0([e.lockRef.current],(e.shards||[]).map(sy),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=v.useCallback(function(j,C){if("touches"in j&&j.touches.length===2)return!f.current.allowPinchZoom;var T=$d(j),D=r.current,M="deltaX"in j?j.deltaX:D[0]-T[0],O="deltaY"in j?j.deltaY:D[1]-T[1],F,V=j.target,I=Math.abs(M)>Math.abs(O)?"h":"v";if("touches"in j&&I==="h"&&V.type==="range")return!1;var ee=ny(I,V);if(!ee)return!0;if(ee?F=I:(F=I==="v"?"h":"v",ee=ny(I,V)),!ee)return!1;if(!a.current&&"changedTouches"in j&&(M||O)&&(a.current=F),!F)return!0;var se=a.current||F;return Lk(se,C,j,se==="h"?M:O)},[]),g=v.useCallback(function(j){var C=j;if(!(!al.length||al[al.length-1]!==d)){var T="deltaY"in C?ry(C):$d(C),D=t.current.filter(function(F){return F.name===C.type&&(F.target===C.target||C.target===F.shadowParent)&&Ak(F.delta,T)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var M=(f.current.shards||[]).map(sy).filter(Boolean).filter(function(F){return F.contains(C.target)}),O=M.length>0?p(C,M[0]):!f.current.noIsolation;O&&C.cancelable&&C.preventDefault()}}},[]),w=v.useCallback(function(j,C,T,D){var M={name:j,delta:C,target:T,should:D,shadowParent:Fk(T)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(O){return O!==M})},1)},[]),_=v.useCallback(function(j){r.current=$d(j),a.current=void 0},[]),b=v.useCallback(function(j){w(j.type,ry(j),j.target,p(j,e.lockRef.current))},[]),S=v.useCallback(function(j){w(j.type,$d(j),j.target,p(j,e.lockRef.current))},[]);v.useEffect(function(){return al.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:S}),document.addEventListener("wheel",g,il),document.addEventListener("touchmove",g,il),document.addEventListener("touchstart",_,il),function(){al=al.filter(function(j){return j!==d}),document.removeEventListener("wheel",g,il),document.removeEventListener("touchmove",g,il),document.removeEventListener("touchstart",_,il)}},[]);var k=e.removeScrollBar,P=e.inert;return v.createElement(v.Fragment,null,P?v.createElement(d,{styles:Dk(c)}):null,k?v.createElement(D0,{gapMode:e.gapMode}):null)}function Fk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const zk=L0(E_,Ik);var k_=v.forwardRef(function(e,t){return v.createElement(Pf,Wn({},e,{ref:t,sideCar:zk}))});k_.classNames=Pf.classNames;var $k=[" ","Enter","ArrowUp","ArrowDown"],Bk=[" ","Enter"],au="Select",[Tf,kf,Uk]=Ry(au),[Rl,VL]=Cl(au,[Uk,yf]),Mf=yf(),[Hk,yi]=Rl(au),[Wk,Vk]=Rl(au),M_=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:c,onOpenChange:d,value:f,defaultValue:p,onValueChange:g,dir:w,name:_,autoComplete:b,disabled:S,required:k}=e,P=Mf(t),[j,C]=v.useState(null),[T,D]=v.useState(null),[M,O]=v.useState(!1),F=w_(w),[V=!1,I]=Uc({prop:a,defaultProp:c,onChange:d}),[ee,se]=Uc({prop:f,defaultProp:p,onChange:g}),G=v.useRef(null),Q=j?!!j.closest("form"):!0,[pe,Oe]=v.useState(new Set),ve=Array.from(pe).map(de=>de.props.value).join(";");return o.jsx(ME,{...P,children:o.jsxs(Hk,{required:k,scope:t,trigger:j,onTriggerChange:C,valueNode:T,onValueNodeChange:D,valueNodeHasChildren:M,onValueNodeHasChildrenChange:O,contentId:dl(),value:ee,onValueChange:se,open:V,onOpenChange:I,dir:F,triggerPointerDownPosRef:G,disabled:S,children:[o.jsx(Tf.Provider,{scope:t,children:o.jsx(Wk,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(de=>{Oe(ye=>new Set(ye).add(de))},[]),onNativeOptionRemove:v.useCallback(de=>{Oe(ye=>{const be=new Set(ye);return be.delete(de),be})},[]),children:r})}),Q?o.jsxs(nb,{"aria-hidden":!0,required:k,tabIndex:-1,name:_,autoComplete:b,value:ee,onChange:de=>se(de.target.value),disabled:S,children:[ee===void 0?o.jsx("option",{value:""}):null,Array.from(pe)]},ve):null]})})};M_.displayName=au;var R_="SelectTrigger",L_=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...c}=e,d=Mf(r),f=yi(R_,r),p=f.disabled||a,g=Ot(t,f.onTriggerChange),w=kf(r),[_,b,S]=rb(P=>{const j=w().filter(D=>!D.disabled),C=j.find(D=>D.value===f.value),T=sb(j,P,C);T!==void 0&&f.onValueChange(T.value)}),k=()=>{p||(f.onOpenChange(!0),S())};return o.jsx(qw,{asChild:!0,...d,children:o.jsx(wt.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":tb(f.value)?"":void 0,...c,ref:g,onClick:ot(c.onClick,P=>{P.currentTarget.focus()}),onPointerDown:ot(c.onPointerDown,P=>{const j=P.target;j.hasPointerCapture(P.pointerId)&&j.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&(k(),f.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)},P.preventDefault())}),onKeyDown:ot(c.onKeyDown,P=>{const j=_.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&b(P.key),!(j&&P.key===" ")&&$k.includes(P.key)&&(k(),P.preventDefault())})})})});L_.displayName=R_;var A_="SelectValue",D_=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:c,children:d,placeholder:f="",...p}=e,g=yi(A_,r),{onValueNodeHasChildrenChange:w}=g,_=d!==void 0,b=Ot(t,g.onValueNodeChange);return hn(()=>{w(_)},[w,_]),o.jsx(wt.span,{...p,ref:b,style:{pointerEvents:"none"},children:tb(g.value)?o.jsx(o.Fragment,{children:f}):d})});D_.displayName=A_;var Zk="SelectIcon",O_=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...c}=e;return o.jsx(wt.span,{"aria-hidden":!0,...c,ref:t,children:a||""})});O_.displayName=Zk;var qk="SelectPortal",I_=e=>o.jsx(S_,{asChild:!0,...e});I_.displayName=qk;var ua="SelectContent",F_=v.forwardRef((e,t)=>{const r=yi(ua,e.__scopeSelect),[a,c]=v.useState();if(hn(()=>{c(new DocumentFragment)},[]),!r.open){const d=a;return d?fa.createPortal(o.jsx(z_,{scope:e.__scopeSelect,children:o.jsx(Tf.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),d):null}return o.jsx($_,{...e,ref:t})});F_.displayName=ua;var fo=10,[z_,wi]=Rl(ua),Gk="SelectContentImpl",$_=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,side:p,sideOffset:g,align:w,alignOffset:_,arrowPadding:b,collisionBoundary:S,collisionPadding:k,sticky:P,hideWhenDetached:j,avoidCollisions:C,...T}=e,D=yi(ua,r),[M,O]=v.useState(null),[F,V]=v.useState(null),I=Ot(t,K=>O(K)),[ee,se]=v.useState(null),[G,Q]=v.useState(null),pe=kf(r),[Oe,ve]=v.useState(!1),de=v.useRef(!1);v.useEffect(()=>{if(M)return B0(M)},[M]),jk();const ye=v.useCallback(K=>{const[we,...Te]=pe().map(Ge=>Ge.ref.current),[$e]=Te.slice(-1),Ye=document.activeElement;for(const Ge of K)if(Ge===Ye||(Ge==null||Ge.scrollIntoView({block:"nearest"}),Ge===we&&F&&(F.scrollTop=0),Ge===$e&&F&&(F.scrollTop=F.scrollHeight),Ge==null||Ge.focus(),document.activeElement!==Ye))return},[pe,F]),be=v.useCallback(()=>ye([ee,M]),[ye,ee,M]);v.useEffect(()=>{Oe&&be()},[Oe,be]);const{onOpenChange:W,triggerPointerDownPosRef:ge}=D;v.useEffect(()=>{if(M){let K={x:0,y:0};const we=$e=>{var Ye,Ge;K={x:Math.abs(Math.round($e.pageX)-(((Ye=ge.current)==null?void 0:Ye.x)??0)),y:Math.abs(Math.round($e.pageY)-(((Ge=ge.current)==null?void 0:Ge.y)??0))}},Te=$e=>{K.x<=10&&K.y<=10?$e.preventDefault():M.contains($e.target)||W(!1),document.removeEventListener("pointermove",we),ge.current=null};return ge.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Te,{capture:!0})}}},[M,W,ge]),v.useEffect(()=>{const K=()=>W(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[W]);const[ie,z]=rb(K=>{const we=pe().filter(Ye=>!Ye.disabled),Te=we.find(Ye=>Ye.ref.current===document.activeElement),$e=sb(we,K,Te);$e&&setTimeout(()=>$e.ref.current.focus())}),J=v.useCallback((K,we,Te)=>{const $e=!de.current&&!Te;(D.value!==void 0&&D.value===we||$e)&&(se(K),$e&&(de.current=!0))},[D.value]),X=v.useCallback(()=>M==null?void 0:M.focus(),[M]),he=v.useCallback((K,we,Te)=>{const $e=!de.current&&!Te;(D.value!==void 0&&D.value===we||$e)&&Q(K)},[D.value]),ce=a==="popper"?cp:B_,U=ce===cp?{side:p,sideOffset:g,align:w,alignOffset:_,arrowPadding:b,collisionBoundary:S,collisionPadding:k,sticky:P,hideWhenDetached:j,avoidCollisions:C}:{};return o.jsx(z_,{scope:r,content:M,viewport:F,onViewportChange:V,itemRefCallback:J,selectedItem:ee,onItemLeave:X,itemTextRefCallback:he,focusSelectedItem:be,selectedItemText:G,position:a,isPositioned:Oe,searchRef:ie,children:o.jsx(k_,{as:ia,allowPinchZoom:!0,children:o.jsx(Zp,{asChild:!0,trapped:D.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:ot(c,K=>{var we;(we=D.trigger)==null||we.focus({preventScroll:!0}),K.preventDefault()}),children:o.jsx(b_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:o.jsx(ce,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:K=>K.preventDefault(),...T,...U,onPlaced:()=>ve(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:ot(T.onKeyDown,K=>{const we=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!we&&K.key.length===1&&z(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let $e=pe().filter(Ye=>!Ye.disabled).map(Ye=>Ye.ref.current);if(["ArrowUp","End"].includes(K.key)&&($e=$e.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const Ye=K.target,Ge=$e.indexOf(Ye);$e=$e.slice(Ge+1)}setTimeout(()=>ye($e)),K.preventDefault()}})})})})})})});$_.displayName=Gk;var Yk="SelectItemAlignedPosition",B_=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...c}=e,d=yi(ua,r),f=wi(ua,r),[p,g]=v.useState(null),[w,_]=v.useState(null),b=Ot(t,I=>_(I)),S=kf(r),k=v.useRef(!1),P=v.useRef(!0),{viewport:j,selectedItem:C,selectedItemText:T,focusSelectedItem:D}=f,M=v.useCallback(()=>{if(d.trigger&&d.valueNode&&p&&w&&j&&C&&T){const I=d.trigger.getBoundingClientRect(),ee=w.getBoundingClientRect(),se=d.valueNode.getBoundingClientRect(),G=T.getBoundingClientRect();if(d.dir!=="rtl"){const Ye=G.left-ee.left,Ge=se.left-Ye,at=I.left-Ge,Mt=I.width+at,Ne=Math.max(Mt,ee.width),Z=window.innerWidth-fo,me=ip(Ge,[fo,Z-Ne]);p.style.minWidth=Mt+"px",p.style.left=me+"px"}else{const Ye=ee.right-G.right,Ge=window.innerWidth-se.right-Ye,at=window.innerWidth-I.right-Ge,Mt=I.width+at,Ne=Math.max(Mt,ee.width),Z=window.innerWidth-fo,me=ip(Ge,[fo,Z-Ne]);p.style.minWidth=Mt+"px",p.style.right=me+"px"}const Q=S(),pe=window.innerHeight-fo*2,Oe=j.scrollHeight,ve=window.getComputedStyle(w),de=parseInt(ve.borderTopWidth,10),ye=parseInt(ve.paddingTop,10),be=parseInt(ve.borderBottomWidth,10),W=parseInt(ve.paddingBottom,10),ge=de+ye+Oe+W+be,ie=Math.min(C.offsetHeight*5,ge),z=window.getComputedStyle(j),J=parseInt(z.paddingTop,10),X=parseInt(z.paddingBottom,10),he=I.top+I.height/2-fo,ce=pe-he,U=C.offsetHeight/2,K=C.offsetTop+U,we=de+ye+K,Te=ge-we;if(we<=he){const Ye=C===Q[Q.length-1].ref.current;p.style.bottom="0px";const Ge=w.clientHeight-j.offsetTop-j.offsetHeight,at=Math.max(ce,U+(Ye?X:0)+Ge+be),Mt=we+at;p.style.height=Mt+"px"}else{const Ye=C===Q[0].ref.current;p.style.top="0px";const at=Math.max(he,de+j.offsetTop+(Ye?J:0)+U)+Te;p.style.height=at+"px",j.scrollTop=we-he+j.offsetTop}p.style.margin=`${fo}px 0`,p.style.minHeight=ie+"px",p.style.maxHeight=pe+"px",a==null||a(),requestAnimationFrame(()=>k.current=!0)}},[S,d.trigger,d.valueNode,p,w,j,C,T,d.dir,a]);hn(()=>M(),[M]);const[O,F]=v.useState();hn(()=>{w&&F(window.getComputedStyle(w).zIndex)},[w]);const V=v.useCallback(I=>{I&&P.current===!0&&(M(),D==null||D(),P.current=!1)},[M,D]);return o.jsx(Xk,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:k,onScrollButtonChange:V,children:o.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:o.jsx(wt.div,{...c,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});B_.displayName=Yk;var Kk="SelectPopperPosition",cp=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:c=fo,...d}=e,f=Mf(r);return o.jsx(Gw,{...f,...d,ref:t,align:a,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cp.displayName=Kk;var[Xk,Jp]=Rl(ua,{}),up="SelectViewport",U_=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...c}=e,d=wi(up,r),f=Jp(up,r),p=Ot(t,d.onViewportChange),g=v.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Tf.Slot,{scope:r,children:o.jsx(wt.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:p,style:{position:"relative",flex:1,overflow:"auto",...c.style},onScroll:ot(c.onScroll,w=>{const _=w.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:S}=f;if(S!=null&&S.current&&b){const k=Math.abs(g.current-_.scrollTop);if(k>0){const P=window.innerHeight-fo*2,j=parseFloat(b.style.minHeight),C=parseFloat(b.style.height),T=Math.max(j,C);if(T<P){const D=T+k,M=Math.min(P,D),O=D-M;b.style.height=M+"px",b.style.bottom==="0px"&&(_.scrollTop=O>0?O:0,b.style.justifyContent="flex-end")}}}g.current=_.scrollTop})})})]})});U_.displayName=up;var H_="SelectGroup",[Qk,Jk]=Rl(H_),eM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=dl();return o.jsx(Qk,{scope:r,id:c,children:o.jsx(wt.div,{role:"group","aria-labelledby":c,...a,ref:t})})});eM.displayName=H_;var W_="SelectLabel",V_=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=Jk(W_,r);return o.jsx(wt.div,{id:c.id,...a,ref:t})});V_.displayName=W_;var rf="SelectItem",[tM,Z_]=Rl(rf),q_=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:c=!1,textValue:d,...f}=e,p=yi(rf,r),g=wi(rf,r),w=p.value===a,[_,b]=v.useState(d??""),[S,k]=v.useState(!1),P=Ot(t,T=>{var D;return(D=g.itemRefCallback)==null?void 0:D.call(g,T,a,c)}),j=dl(),C=()=>{c||(p.onValueChange(a),p.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(tM,{scope:r,value:a,disabled:c,textId:j,isSelected:w,onItemTextChange:v.useCallback(T=>{b(D=>D||((T==null?void 0:T.textContent)??"").trim())},[]),children:o.jsx(Tf.ItemSlot,{scope:r,value:a,disabled:c,textValue:_,children:o.jsx(wt.div,{role:"option","aria-labelledby":j,"data-highlighted":S?"":void 0,"aria-selected":w&&S,"data-state":w?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...f,ref:P,onFocus:ot(f.onFocus,()=>k(!0)),onBlur:ot(f.onBlur,()=>k(!1)),onPointerUp:ot(f.onPointerUp,C),onPointerMove:ot(f.onPointerMove,T=>{var D;c?(D=g.onItemLeave)==null||D.call(g):T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ot(f.onPointerLeave,T=>{var D;T.currentTarget===document.activeElement&&((D=g.onItemLeave)==null||D.call(g))}),onKeyDown:ot(f.onKeyDown,T=>{var M;((M=g.searchRef)==null?void 0:M.current)!==""&&T.key===" "||(Bk.includes(T.key)&&C(),T.key===" "&&T.preventDefault())})})})})});q_.displayName=rf;var Ac="SelectItemText",G_=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:c,...d}=e,f=yi(Ac,r),p=wi(Ac,r),g=Z_(Ac,r),w=Vk(Ac,r),[_,b]=v.useState(null),S=Ot(t,T=>b(T),g.onItemTextChange,T=>{var D;return(D=p.itemTextRefCallback)==null?void 0:D.call(p,T,g.value,g.disabled)}),k=_==null?void 0:_.textContent,P=v.useMemo(()=>o.jsx("option",{value:g.value,disabled:g.disabled,children:k},g.value),[g.disabled,g.value,k]),{onNativeOptionAdd:j,onNativeOptionRemove:C}=w;return hn(()=>(j(P),()=>C(P)),[j,C,P]),o.jsxs(o.Fragment,{children:[o.jsx(wt.span,{id:g.textId,...d,ref:S}),g.isSelected&&f.valueNode&&!f.valueNodeHasChildren?fa.createPortal(d.children,f.valueNode):null]})});G_.displayName=Ac;var Y_="SelectItemIndicator",K_=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return Z_(Y_,r).isSelected?o.jsx(wt.span,{"aria-hidden":!0,...a,ref:t}):null});K_.displayName=Y_;var dp="SelectScrollUpButton",X_=v.forwardRef((e,t)=>{const r=wi(dp,e.__scopeSelect),a=Jp(dp,e.__scopeSelect),[c,d]=v.useState(!1),f=Ot(t,a.onScrollButtonChange);return hn(()=>{if(r.viewport&&r.isPositioned){let p=function(){const w=g.scrollTop>0;d(w)};const g=r.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),c?o.jsx(J_,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=r;p&&g&&(p.scrollTop=p.scrollTop-g.offsetHeight)}}):null});X_.displayName=dp;var fp="SelectScrollDownButton",Q_=v.forwardRef((e,t)=>{const r=wi(fp,e.__scopeSelect),a=Jp(fp,e.__scopeSelect),[c,d]=v.useState(!1),f=Ot(t,a.onScrollButtonChange);return hn(()=>{if(r.viewport&&r.isPositioned){let p=function(){const w=g.scrollHeight-g.clientHeight,_=Math.ceil(g.scrollTop)<w;d(_)};const g=r.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),c?o.jsx(J_,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=r;p&&g&&(p.scrollTop=p.scrollTop+g.offsetHeight)}}):null});Q_.displayName=fp;var J_=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...c}=e,d=wi("SelectScrollButton",r),f=v.useRef(null),p=kf(r),g=v.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return v.useEffect(()=>()=>g(),[g]),hn(()=>{var _;const w=p().find(b=>b.ref.current===document.activeElement);(_=w==null?void 0:w.ref.current)==null||_.scrollIntoView({block:"nearest"})},[p]),o.jsx(wt.div,{"aria-hidden":!0,...c,ref:t,style:{flexShrink:0,...c.style},onPointerDown:ot(c.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(a,50))}),onPointerMove:ot(c.onPointerMove,()=>{var w;(w=d.onItemLeave)==null||w.call(d),f.current===null&&(f.current=window.setInterval(a,50))}),onPointerLeave:ot(c.onPointerLeave,()=>{g()})})}),nM="SelectSeparator",eb=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return o.jsx(wt.div,{"aria-hidden":!0,...a,ref:t})});eb.displayName=nM;var hp="SelectArrow",rM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=Mf(r),d=yi(hp,r),f=wi(hp,r);return d.open&&f.position==="popper"?o.jsx(Yw,{...c,...a,ref:t}):null});rM.displayName=hp;function tb(e){return e===""||e===void 0}var nb=v.forwardRef((e,t)=>{const{value:r,...a}=e,c=v.useRef(null),d=Ot(t,c),f=j_(r);return v.useEffect(()=>{const p=c.current,g=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(g,"value").set;if(f!==r&&_){const b=new Event("change",{bubbles:!0});_.call(p,r),p.dispatchEvent(b)}},[f,r]),o.jsx(eu,{asChild:!0,children:o.jsx("select",{...a,ref:d,defaultValue:r})})});nb.displayName="BubbleSelect";function rb(e){const t=ln(e),r=v.useRef(""),a=v.useRef(0),c=v.useCallback(f=>{const p=r.current+f;t(p),function g(w){r.current=w,window.clearTimeout(a.current),w!==""&&(a.current=window.setTimeout(()=>g(""),1e3))}(p)},[t]),d=v.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,c,d]}function sb(e,t,r){const c=t.length>1&&Array.from(t).every(w=>w===t[0])?t[0]:t,d=r?e.indexOf(r):-1;let f=sM(e,Math.max(d,0));c.length===1&&(f=f.filter(w=>w!==r));const g=f.find(w=>w.textValue.toLowerCase().startsWith(c.toLowerCase()));return g!==r?g:void 0}function sM(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var oM=M_,ob=L_,iM=D_,aM=O_,lM=I_,ib=F_,cM=U_,ab=V_,lb=q_,uM=G_,dM=K_,cb=X_,ub=Q_,db=eb;const ds=oM,fs=iM,Gr=v.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(ob,{ref:a,className:mt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(aM,{asChild:!0,children:o.jsx(Pp,{className:"h-4 w-4 opacity-50"})})]}));Gr.displayName=ob.displayName;const fb=v.forwardRef(({className:e,...t},r)=>o.jsx(cb,{ref:r,className:mt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(qN,{className:"h-4 w-4"})}));fb.displayName=cb.displayName;const hb=v.forwardRef(({className:e,...t},r)=>o.jsx(ub,{ref:r,className:mt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Pp,{className:"h-4 w-4"})}));hb.displayName=ub.displayName;const Yr=v.forwardRef(({className:e,children:t,position:r="popper",...a},c)=>o.jsx(lM,{children:o.jsxs(ib,{ref:c,className:mt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[o.jsx(fb,{}),o.jsx(cM,{className:mt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(hb,{})]})}));Yr.displayName=ib.displayName;const fM=v.forwardRef(({className:e,...t},r)=>o.jsx(ab,{ref:r,className:mt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));fM.displayName=ab.displayName;const Yt=v.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(lb,{ref:a,className:mt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(dM,{children:o.jsx(Cp,{className:"h-4 w-4"})})}),o.jsx(uM,{children:t})]}));Yt.displayName=lb.displayName;const hM=v.forwardRef(({className:e,...t},r)=>o.jsx(db,{ref:r,className:mt("-mx-1 my-1 h-px bg-muted",e),...t}));hM.displayName=db.displayName;function oy({value:e,onValueChange:t,options:r=[],placeholder:a="Select an option...",emptyMessage:c="No options found.",disabled:d=!1,className:f,searchPlaceholder:p="Search..."}){const[g,w]=v.useState(!1),[_,b]=v.useState(""),S=Array.isArray(r)?r:[],k=_?S.filter(T=>{var V;if(!T||typeof T.value!="string"||typeof T.label!="string")return!1;const D=_.toLowerCase(),M=T.label.toLowerCase().includes(D),O=T.value.toLowerCase().includes(D),F=(V=T.searchTerms)==null?void 0:V.some(I=>I&&typeof I=="string"&&I.toLowerCase().includes(D));return M||O||F}):S,P=S.find(T=>(T==null?void 0:T.value)===e),j=T=>{t(T===e?"":T),w(!1),b("")},C=()=>{d||(w(!g),g||b(""))};return o.jsxs("div",{className:"relative",children:[o.jsxs(Pe,{variant:"outline",role:"combobox","aria-expanded":g,className:mt("w-full justify-between",f),disabled:d,onClick:C,type:"button",children:[P?P.label:a,o.jsx(Pp,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),g&&o.jsxs("div",{className:"absolute top-full left-0 right-0 z-[1001] mt-1 bg-popover border rounded-md shadow-lg",children:[o.jsxs("div",{className:"flex items-center border-b px-3 py-2",children:[o.jsx(nu,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(an,{placeholder:p,value:_,onChange:T=>b(T.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-8",autoFocus:!0})]}),o.jsx("div",{className:"max-h-64 overflow-y-auto",children:k.length>0?k.map((T,D)=>T&&T.value&&T.label?o.jsxs("button",{type:"button",className:mt("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",e===T.value&&"bg-accent text-accent-foreground"),onClick:()=>j(T.value),children:[o.jsx(Cp,{className:mt("mr-2 h-4 w-4",e===T.value?"opacity-100":"opacity-0")}),o.jsx("span",{className:"flex-1 text-left",children:T.label})]},`${T.value}-${D}`):null):o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:c})})]}),g&&o.jsx("div",{className:"fixed inset-0 z-[1000]",onClick:()=>w(!1)})]})}const mM=["Initial Client Meeting","Project Discussion","Equipment Installation","System Maintenance","Technical Support","Training Session","Progress Review","Problem Resolution","Contract Negotiation","Follow-up Meeting","Emergency Response","Consultation","Demo/Presentation","Site Survey","Other"];function mb({isOpen:e,onClose:t,onStartMeeting:r,employeeName:a,location:c,isLoading:d=!1,initialClientName:f="",initialCompanyName:p="",initialReason:g="",initialNotes:w=""}){var Mt;const[_,b]=v.useState(""),[S,k]=v.useState(""),[P,j]=v.useState(""),[C,T]=v.useState(""),[D,M]=v.useState({}),[O,F]=v.useState([]),[V,I]=v.useState(!1),[ee,se]=v.useState(null),[G,Q]=v.useState([]),[pe,Oe]=v.useState(!1),[ve,de]=v.useState(null),[ye,be]=v.useState(""),[W,ge]=v.useState([]),[ie,z]=v.useState(!1),[J,X]=v.useState(""),[he,ce]=v.useState(!1),{toast:U}=vo(),K=async()=>{I(!0),se(null);try{console.log("Fetching companies from external API for start meeting...");const Ne=await ht.request("https://jbdspower.in/LeafNetServer/api/customer",{method:"GET"});if(!Ne.ok)throw new Error(`Failed to fetch customers: ${Ne.statusText}`);const Z=await Ne.json();console.log("Customer API raw response:",Z);const me=Array.isArray(Z)?Z:[];console.log(`Fetched ${me.length} companies for start meeting`,me.slice(0,3)),F(me)}catch(Ne){console.error("Error fetching customers for start meeting:",Ne),se(Ne instanceof Error?Ne.message:"Failed to fetch customers")}finally{I(!1)}},we=async()=>{Oe(!0),de(null);try{console.log("Fetching leads from external API for start meeting...");const Ne=await ht.request("https://jbdspower.in/LeafNetServer/api/getAllLead",{method:"GET"});if(!Ne.ok)throw new Error(`Failed to fetch leads: ${Ne.statusText}`);const Z=await Ne.json();console.log("Leads API raw response:",Z);const me=Array.isArray(Z)?Z:[];console.log(`Fetched ${me.length} leads for start meeting`,me.slice(0,3)),Q(me)}catch(Ne){console.error("Error fetching leads for start meeting:",Ne),de(Ne instanceof Error?Ne.message:"Failed to fetch leads")}finally{Oe(!1)}},Te=Ne=>{if(!Ne||Ne==="custom"||!Array.isArray(G)){ge([]);return}console.log("Filtering leads for company:",Ne);const Z=G.filter(me=>{if(!me||!me.CompanyName)return!1;const Se=me.CompanyName.toLowerCase().trim()===Ne.toLowerCase().trim();return console.log(`Comparing "${me.CompanyName}" with "${Ne}": ${Se}`),Se});console.log(`Filtered ${Z.length} leads for company "${Ne}":`,Z),ge(Z)};console.log("filtered leads by compnay",Te),console.log("filtered leads",W);const $e=Ne=>{console.log("Client selection changed:",Ne),b(Ne),be(""),Te(Ne)};v.useEffect(()=>{e?(K(),we(),(f||p)&&(k(f||""),b(p||"custom")),g&&j(g),w&&T(w)):(b(""),k(""),j(""),T(""),be(""),M({}))},[e,f,p,g,w]),v.useEffect(()=>{G.length>0&&_&&_!=="custom"?Te(_):ge([])},[G,_]);const Ye=async()=>{if(!J.trim())return U({title:"Company Name Required",description:"Please enter a company name to create a lead.",variant:"destructive"}),!1;const Ne=localStorage.getItem("idToken");if(!Ne)return U({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"}),!1;const Z=localStorage.getItem("user"),me=Z?JSON.parse(Z)._id:"67daa55d9c4abb36045d5bfe";ce(!0);try{const Se={CompanyName:J.trim(),Name:"New Lead",CreatedBy:me,Id:`JBDSL-${Date.now().toString().slice(-4)}`};console.log(" Creating lead:",Se),console.log(" Token:",Ne.substring(0,20)+"...");const Ee=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${Ne}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Se)});if(console.log(" Response:",Ee.status),Ee.ok){const We=await Ee.json();return console.log(" Lead created:",We),U({title:"Lead Created",description:`Lead created successfully for ${J}`}),k(J),b("custom"),we(),!0}else{const We=await Ee.text();return console.error(" Failed:",Ee.status,We),U({title:"Failed to Create Lead",description:`Error: ${Ee.status}`,variant:"destructive"}),!1}}catch(Se){return console.error(" Error:",Se),U({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"}),!1}finally{ce(!1)}},Ge=async()=>{const Ne={},Z=_==="custom"?S:_;if(Z.trim()||(Ne.client="Client name is required"),P||(Ne.reason="Meeting reason is required"),Object.keys(Ne).length>0){M(Ne);return}ie&&J.trim()&&(await Ye()||console.warn("Lead creation failed, but proceeding with meeting"));const me=ye&&Array.isArray(G)?G.find(Se=>Se&&Se.Id===ye):null;console.log("Starting meeting with data:",{clientName:Z,reason:P,notes:C.trim(),leadId:ye||void 0,leadInfo:me}),M({}),r({clientName:Z,reason:P,notes:C.trim(),leadId:ye||void 0,leadInfo:me?{id:me.Id,companyName:me.CompanyName,contactName:me.Name}:void 0})},at=()=>{b(""),k(""),j(""),T(""),M({}),se(null),de(null),be(""),ge([]),z(!1),X(""),t()};return o.jsx(Mr,{open:e,onOpenChange:at,children:o.jsxs(dr,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx(Tn,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Start Meeting"})]}),o.jsxs(mr,{children:["Create a new meeting record for ",a]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground bg-muted/50 p-3 rounded-md",children:[o.jsx(Jn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Location: ",c]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Dt,{htmlFor:"client",children:"Client / Company"}),o.jsxs(Pe,{type:"button",variant:"outline",size:"sm",onClick:()=>{z(!ie),ie||X("")},className:"h-8",children:[o.jsx(Hc,{className:"h-4 w-4 mr-1"}),ie?"Cancel":"Create New Lead"]})]}),ee?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load companies"})]}),o.jsx("p",{className:"text-xs mt-1",children:ee}),o.jsx("button",{type:"button",onClick:K,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"customClientFallback",children:"Enter Client Name Manually"}),o.jsx(an,{id:"customClientFallback",value:S,onChange:Ne=>{k(Ne.target.value),b("custom")},placeholder:"Enter client name",className:D.client?"border-destructive":""})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx(oy,{value:_,onValueChange:$e,options:[...Array.isArray(O)?Array.from(new Map(O.filter(Ne=>{const Z=Ne&&Ne.CustomerCompanyName&&typeof Ne.CustomerCompanyName=="string"&&Ne.CustomerCompanyName.trim().length>0;return!Z&&Ne&&console.warn("Invalid customer data:",Ne),Z}).map(Ne=>[Ne.CustomerCompanyName.trim(),Ne])).values()).map(Ne=>({value:Ne.CustomerCompanyName.trim(),label:Ne.CustomerCompanyName.trim(),searchTerms:[Ne.CustomerCompanyName.trim()]})):[],{value:"custom",label:"Custom Client...",searchTerms:["custom","manual","other"]}],placeholder:V?"Loading companies...":"Select a company or choose custom",emptyMessage:"No companies found. Choose custom to enter manually.",disabled:V,searchPlaceholder:"Search companies...",className:D.client?"border-destructive":""}),o.jsx("div",{className:"text-xs text-muted-foreground",children:`Can't find your company? Use "Custom Client..." option above`})]}),D.client&&o.jsx("p",{className:"text-sm text-destructive",children:D.client})]}),ie&&o.jsxs("div",{className:"space-y-3 p-4 border-2 border-primary/30 rounded-lg bg-primary/5",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mf,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"font-semibold text-sm text-primary",children:"Create New Lead"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{htmlFor:"newLeadCompanyName",className:"text-sm font-medium",children:["Company Name for New Lead",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(an,{id:"newLeadCompanyName",value:J,onChange:Ne=>{X(Ne.target.value),k(Ne.target.value),b("custom")},placeholder:"Enter company name to create lead",disabled:he,className:"border-primary/50"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:" This will create a new lead and use it for the meeting"})]})]}),_==="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"customClient",children:"Custom Client Name"}),o.jsx(an,{id:"customClient",value:S,onChange:Ne=>k(Ne.target.value),placeholder:"Enter client name",className:D.client?"border-destructive":""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{htmlFor:"lead",children:["Lead Association (Optional)",_&&_!=="custom"&&W.length>0&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",W.length," leads for ",_,")"]})]}),ve?o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load leads"})]}),o.jsx("p",{className:"text-xs mt-1",children:ve}),o.jsx("button",{type:"button",onClick:we,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}):o.jsxs(o.Fragment,{children:[_&&_!=="custom"&&G.length>0&&W.length===0&&o.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted/50 rounded-md",children:['No leads found for "',_,'". You can still proceed without associating a lead.']}),(_&&_!=="custom"?W.length>0:G.length>0)?o.jsx(oy,{value:ye,onValueChange:Ne=>{console.log("Lead selection changed:",Ne),be(Ne)},options:Array.isArray(_&&_!=="custom"?W:G)?Array.from(new Map((_&&_!=="custom"?W:G).filter(Ne=>{const Z=Ne&&Ne.Id&&Ne.CompanyName&&Ne.Name&&typeof Ne.Id=="string"&&typeof Ne.CompanyName=="string"&&typeof Ne.Name=="string"&&Ne.Id.trim().length>0&&Ne.CompanyName.trim().length>0&&Ne.Name.trim().length>0;return!Z&&Ne&&console.warn("Invalid lead data:",Ne),Z}).map(Ne=>[Ne.Id.trim(),Ne])).values()).map(Ne=>({value:Ne.Id.trim(),label:`${Ne.Id.trim()} - ${Ne.CompanyName.trim()} (${Ne.Name.trim()})`,searchTerms:[Ne.CompanyName.trim(),Ne.Name.trim(),Ne.Email||"",Ne.Subject||"",Ne.Stage||"",Ne.Id.trim()].filter(Z=>Z&&typeof Z=="string"&&Z.length>0)})):[],placeholder:pe?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads",emptyMessage:_&&_!=="custom"?`No leads found for ${_}`:"No leads available",disabled:pe,searchPlaceholder:"Search leads by ID, company, name..."}):o.jsxs(ds,{value:ye,onValueChange:be,disabled:pe,children:[o.jsx(Gr,{children:o.jsx(fs,{placeholder:pe?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads"})}),o.jsx(Yr,{children:o.jsx(Yt,{value:"no-leads",disabled:!0,children:pe?"Loading...":"No leads available"})})]})]}),ye&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx(uw,{className:"h-3 w-3 inline mr-1"}),"Lead selected: ",(Mt=(_&&_!=="custom"?W:G).find(Ne=>Ne.Id===ye))==null?void 0:Mt.Subject]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"reason",children:"Meeting Reason / Type"}),o.jsxs(ds,{value:P,onValueChange:j,children:[o.jsx(Gr,{className:D.reason?"border-destructive":"",children:o.jsx(fs,{placeholder:"Select meeting reason"})}),o.jsx(Yr,{children:mM.map(Ne=>o.jsx(Yt,{value:Ne,children:Ne},Ne))})]}),D.reason&&o.jsx("p",{className:"text-sm text-destructive",children:D.reason})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"notes",children:"Notes (Optional)"}),o.jsx(vi,{id:"notes",value:C,onChange:Ne=>T(Ne.target.value),placeholder:"Add any additional notes about this meeting...",rows:3})]}),o.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(pf,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium",children:["Employee: ",a]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Tn,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:["Start Time: ",new Date().toLocaleString()]})]})]})]}),o.jsxs(ca,{children:[o.jsx(Pe,{variant:"outline",onClick:at,disabled:d||he,children:"Cancel"}),o.jsx(Pe,{onClick:Ge,disabled:d||he,children:he?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nl,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Creating Lead..."})]}):d?"Starting...":"Start Meeting"})]})]})})}function pM(e,t){return v.useReducer((r,a)=>t[r][a]??r,e)}var eg="ScrollArea",[pb,ZL]=Cl(eg),[gM,Xr]=pb(eg),gb=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:c,scrollHideDelay:d=600,...f}=e,[p,g]=v.useState(null),[w,_]=v.useState(null),[b,S]=v.useState(null),[k,P]=v.useState(null),[j,C]=v.useState(null),[T,D]=v.useState(0),[M,O]=v.useState(0),[F,V]=v.useState(!1),[I,ee]=v.useState(!1),se=Ot(t,Q=>g(Q)),G=w_(c);return o.jsx(gM,{scope:r,type:a,dir:G,scrollHideDelay:d,scrollArea:p,viewport:w,onViewportChange:_,content:b,onContentChange:S,scrollbarX:k,onScrollbarXChange:P,scrollbarXEnabled:F,onScrollbarXEnabledChange:V,scrollbarY:j,onScrollbarYChange:C,scrollbarYEnabled:I,onScrollbarYEnabledChange:ee,onCornerWidthChange:D,onCornerHeightChange:O,children:o.jsx(wt.div,{dir:G,...f,ref:se,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":M+"px",...e.style}})})});gb.displayName=eg;var vb="ScrollAreaViewport",xb=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:c,...d}=e,f=Xr(vb,r),p=v.useRef(null),g=Ot(t,p,f.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),o.jsx(wt.div,{"data-radix-scroll-area-viewport":"",...d,ref:g,style:{overflowX:f.scrollbarXEnabled?"scroll":"hidden",overflowY:f.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:f.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});xb.displayName=vb;var zs="ScrollAreaScrollbar",tg=v.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=Xr(zs,e.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:f}=c,p=e.orientation==="horizontal";return v.useEffect(()=>(p?d(!0):f(!0),()=>{p?d(!1):f(!1)}),[p,d,f]),c.type==="hover"?o.jsx(vM,{...a,ref:t,forceMount:r}):c.type==="scroll"?o.jsx(xM,{...a,ref:t,forceMount:r}):c.type==="auto"?o.jsx(yb,{...a,ref:t,forceMount:r}):c.type==="always"?o.jsx(ng,{...a,ref:t}):null});tg.displayName=zs;var vM=v.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=Xr(zs,e.__scopeScrollArea),[d,f]=v.useState(!1);return v.useEffect(()=>{const p=c.scrollArea;let g=0;if(p){const w=()=>{window.clearTimeout(g),f(!0)},_=()=>{g=window.setTimeout(()=>f(!1),c.scrollHideDelay)};return p.addEventListener("pointerenter",w),p.addEventListener("pointerleave",_),()=>{window.clearTimeout(g),p.removeEventListener("pointerenter",w),p.removeEventListener("pointerleave",_)}}},[c.scrollArea,c.scrollHideDelay]),o.jsx(ha,{present:r||d,children:o.jsx(yb,{"data-state":d?"visible":"hidden",...a,ref:t})})}),xM=v.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=Xr(zs,e.__scopeScrollArea),d=e.orientation==="horizontal",f=Lf(()=>g("SCROLL_END"),100),[p,g]=pM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(p==="idle"){const w=window.setTimeout(()=>g("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(w)}},[p,c.scrollHideDelay,g]),v.useEffect(()=>{const w=c.viewport,_=d?"scrollLeft":"scrollTop";if(w){let b=w[_];const S=()=>{const k=w[_];b!==k&&(g("SCROLL"),f()),b=k};return w.addEventListener("scroll",S),()=>w.removeEventListener("scroll",S)}},[c.viewport,d,g,f]),o.jsx(ha,{present:r||p!=="hidden",children:o.jsx(ng,{"data-state":p==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:ot(e.onPointerEnter,()=>g("POINTER_ENTER")),onPointerLeave:ot(e.onPointerLeave,()=>g("POINTER_LEAVE"))})})}),yb=v.forwardRef((e,t)=>{const r=Xr(zs,e.__scopeScrollArea),{forceMount:a,...c}=e,[d,f]=v.useState(!1),p=e.orientation==="horizontal",g=Lf(()=>{if(r.viewport){const w=r.viewport.offsetWidth<r.viewport.scrollWidth,_=r.viewport.offsetHeight<r.viewport.scrollHeight;f(p?w:_)}},10);return El(r.viewport,g),El(r.content,g),o.jsx(ha,{present:a||d,children:o.jsx(ng,{"data-state":d?"visible":"hidden",...c,ref:t})})}),ng=v.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,c=Xr(zs,e.__scopeScrollArea),d=v.useRef(null),f=v.useRef(0),[p,g]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),w=Sb(p.viewport,p.content),_={...a,sizes:p,onSizesChange:g,hasThumb:w>0&&w<1,onThumbChange:S=>d.current=S,onThumbPointerUp:()=>f.current=0,onThumbPointerDown:S=>f.current=S};function b(S,k){return SM(S,f.current,p,k)}return r==="horizontal"?o.jsx(yM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const S=c.viewport.scrollLeft,k=iy(S,p,c.dir);d.current.style.transform=`translate3d(${k}px, 0, 0)`}},onWheelScroll:S=>{c.viewport&&(c.viewport.scrollLeft=S)},onDragScroll:S=>{c.viewport&&(c.viewport.scrollLeft=b(S,c.dir))}}):r==="vertical"?o.jsx(wM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const S=c.viewport.scrollTop,k=iy(S,p);d.current.style.transform=`translate3d(0, ${k}px, 0)`}},onWheelScroll:S=>{c.viewport&&(c.viewport.scrollTop=S)},onDragScroll:S=>{c.viewport&&(c.viewport.scrollTop=b(S))}}):null}),yM=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...c}=e,d=Xr(zs,e.__scopeScrollArea),[f,p]=v.useState(),g=v.useRef(null),w=Ot(t,g,d.onScrollbarXChange);return v.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),o.jsx(_b,{"data-orientation":"horizontal",...c,ref:w,sizes:r,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rf(r)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.x),onDragScroll:_=>e.onDragScroll(_.x),onWheelScroll:(_,b)=>{if(d.viewport){const S=d.viewport.scrollLeft+_.deltaX;e.onWheelScroll(S),Eb(S,b)&&_.preventDefault()}},onResize:()=>{g.current&&d.viewport&&f&&a({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:g.current.clientWidth,paddingStart:of(f.paddingLeft),paddingEnd:of(f.paddingRight)}})}})}),wM=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...c}=e,d=Xr(zs,e.__scopeScrollArea),[f,p]=v.useState(),g=v.useRef(null),w=Ot(t,g,d.onScrollbarYChange);return v.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),o.jsx(_b,{"data-orientation":"vertical",...c,ref:w,sizes:r,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rf(r)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.y),onDragScroll:_=>e.onDragScroll(_.y),onWheelScroll:(_,b)=>{if(d.viewport){const S=d.viewport.scrollTop+_.deltaY;e.onWheelScroll(S),Eb(S,b)&&_.preventDefault()}},onResize:()=>{g.current&&d.viewport&&f&&a({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:g.current.clientHeight,paddingStart:of(f.paddingTop),paddingEnd:of(f.paddingBottom)}})}})}),[_M,wb]=pb(zs),_b=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:c,onThumbChange:d,onThumbPointerUp:f,onThumbPointerDown:p,onThumbPositionChange:g,onDragScroll:w,onWheelScroll:_,onResize:b,...S}=e,k=Xr(zs,r),[P,j]=v.useState(null),C=Ot(t,se=>j(se)),T=v.useRef(null),D=v.useRef(""),M=k.viewport,O=a.content-a.viewport,F=ln(_),V=ln(g),I=Lf(b,10);function ee(se){if(T.current){const G=se.clientX-T.current.left,Q=se.clientY-T.current.top;w({x:G,y:Q})}}return v.useEffect(()=>{const se=G=>{const Q=G.target;(P==null?void 0:P.contains(Q))&&F(G,O)};return document.addEventListener("wheel",se,{passive:!1}),()=>document.removeEventListener("wheel",se,{passive:!1})},[M,P,O,F]),v.useEffect(V,[a,V]),El(P,I),El(k.content,I),o.jsx(_M,{scope:r,scrollbar:P,hasThumb:c,onThumbChange:ln(d),onThumbPointerUp:ln(f),onThumbPositionChange:V,onThumbPointerDown:ln(p),children:o.jsx(wt.div,{...S,ref:C,style:{position:"absolute",...S.style},onPointerDown:ot(e.onPointerDown,se=>{se.button===0&&(se.target.setPointerCapture(se.pointerId),T.current=P.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k.viewport&&(k.viewport.style.scrollBehavior="auto"),ee(se))}),onPointerMove:ot(e.onPointerMove,ee),onPointerUp:ot(e.onPointerUp,se=>{const G=se.target;G.hasPointerCapture(se.pointerId)&&G.releasePointerCapture(se.pointerId),document.body.style.webkitUserSelect=D.current,k.viewport&&(k.viewport.style.scrollBehavior=""),T.current=null})})})}),sf="ScrollAreaThumb",bb=v.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=wb(sf,e.__scopeScrollArea);return o.jsx(ha,{present:r||c.hasThumb,children:o.jsx(bM,{ref:t,...a})})}),bM=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...c}=e,d=Xr(sf,r),f=wb(sf,r),{onThumbPositionChange:p}=f,g=Ot(t,b=>f.onThumbChange(b)),w=v.useRef(),_=Lf(()=>{w.current&&(w.current(),w.current=void 0)},100);return v.useEffect(()=>{const b=d.viewport;if(b){const S=()=>{if(_(),!w.current){const k=jM(b,p);w.current=k,p()}};return p(),b.addEventListener("scroll",S),()=>b.removeEventListener("scroll",S)}},[d.viewport,_,p]),o.jsx(wt.div,{"data-state":f.hasThumb?"visible":"hidden",...c,ref:g,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ot(e.onPointerDownCapture,b=>{const k=b.target.getBoundingClientRect(),P=b.clientX-k.left,j=b.clientY-k.top;f.onThumbPointerDown({x:P,y:j})}),onPointerUp:ot(e.onPointerUp,f.onThumbPointerUp)})});bb.displayName=sf;var rg="ScrollAreaCorner",Nb=v.forwardRef((e,t)=>{const r=Xr(rg,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?o.jsx(NM,{...e,ref:t}):null});Nb.displayName=rg;var NM=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,c=Xr(rg,r),[d,f]=v.useState(0),[p,g]=v.useState(0),w=!!(d&&p);return El(c.scrollbarX,()=>{var b;const _=((b=c.scrollbarX)==null?void 0:b.offsetHeight)||0;c.onCornerHeightChange(_),g(_)}),El(c.scrollbarY,()=>{var b;const _=((b=c.scrollbarY)==null?void 0:b.offsetWidth)||0;c.onCornerWidthChange(_),f(_)}),w?o.jsx(wt.div,{...a,ref:t,style:{width:d,height:p,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function of(e){return e?parseInt(e,10):0}function Sb(e,t){const r=e/t;return isNaN(r)?0:r}function Rf(e){const t=Sb(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function SM(e,t,r,a="ltr"){const c=Rf(r),d=c/2,f=t||d,p=c-f,g=r.scrollbar.paddingStart+f,w=r.scrollbar.size-r.scrollbar.paddingEnd-p,_=r.content-r.viewport,b=a==="ltr"?[0,_]:[_*-1,0];return jb([g,w],b)(e)}function iy(e,t,r="ltr"){const a=Rf(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,d=t.scrollbar.size-c,f=t.content-t.viewport,p=d-a,g=r==="ltr"?[0,f]:[f*-1,0],w=ip(e,g);return jb([0,f],[0,p])(w)}function jb(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function Eb(e,t){return e>0&&e<t}var jM=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function c(){const d={left:e.scrollLeft,top:e.scrollTop},f=r.left!==d.left,p=r.top!==d.top;(f||p)&&t(),r=d,a=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(a)};function Lf(e,t){const r=ln(e),a=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),v.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function El(e,t){const r=ln(t);hn(()=>{let a=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return c.observe(e),()=>{window.cancelAnimationFrame(a),c.unobserve(e)}}},[e,r])}var Cb=gb,EM=xb,CM=Nb;const Pb=v.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(Cb,{ref:a,className:mt("relative overflow-hidden",e),...r,children:[o.jsx(EM,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Tb,{}),o.jsx(CM,{})]}));Pb.displayName=Cb.displayName;const Tb=v.forwardRef(({className:e,orientation:t="vertical",...r},a)=>o.jsx(tg,{ref:a,orientation:t,className:mt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(bb,{className:"relative flex-1 rounded-full bg-border"})}));Tb.displayName=tg.displayName;function PM({isOpen:e,onClose:t,onSubmit:r,pendingMeetings:a}){const[c,d]=v.useState({}),[f,p]=v.useState({}),g=(b,S)=>{d(k=>({...k,[b]:S})),p(k=>{const P={...k};return delete P[b],P})},w=()=>{const b={};if(a.forEach(k=>{var P;(P=c[k._id])!=null&&P.trim()||(b[k._id]="Reason required")}),Object.keys(b).length>0){p(b);return}const S=a.map(k=>({meeting:k,reason:c[k._id].trim()}));r(S),d({}),p({})},_=()=>{d({}),p({}),t()};return o.jsx(Mr,{open:e,onOpenChange:_,children:o.jsxs(dr,{className:"sm:max-w-[600px] max-h-[90vh]",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center gap-2",children:[o.jsx(vn,{className:"h-5 w-5 text-warning"}),"Incomplete Today's Meetings"]}),o.jsxs(mr,{children:["You have ",a.length," incomplete meeting",a.length>1?"s":"",' scheduled for today. Please provide a reason for each meeting before logging out. These meetings will be marked as "Incomplete".']})]}),o.jsx(Pb,{className:"max-h-[60vh] pr-4",children:o.jsx("div",{className:"space-y-6 py-4",children:a.map((b,S)=>o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(mf,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-sm",children:b.companyName||"Unnamed Company"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.customerName,b.meetingTime&&`  ${b.meetingTime}`]}),b.remark&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:["Note: ",b.remark]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{htmlFor:`reason-${b._id}`,className:"text-sm",children:["Reason for not completing ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(vi,{id:`reason-${b._id}`,placeholder:"E.g., Client rescheduled, not available, technical issues...",value:c[b._id]||"",onChange:k=>g(b._id,k.target.value),rows:3,className:f[b._id]?"border-destructive":""}),f[b._id]&&o.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[o.jsx(vn,{className:"h-3 w-3"}),f[b._id]]})]})]},b._id))})}),o.jsxs(ca,{children:[o.jsx(Pe,{variant:"outline",onClick:_,children:"Cancel"}),o.jsx(Pe,{onClick:w,children:"Submit All & Logout"})]})]})})}function TM(){var he,ce;const[e,t]=v.useState([]),[r,a]=v.useState(null),[c,d]=v.useState(!0),[f,p]=v.useState(new Date),[g,w]=v.useState(!0),[_,b]=v.useState(!1),[S,k]=v.useState([]),[P,j]=v.useState(!1),[C,T]=v.useState(null),[D,M]=v.useState(!1),[O,F]=v.useState(!1),[V,I]=v.useState(null),{canInstall:ee,isInstalled:se}=BT();v.useEffect(()=>{const U=localStorage.getItem("user");if(U)try{const K=JSON.parse(U);I(K),!(K._id==="67daa55d9c4abb36045d5bfe")&&K._id&&(console.log(" Redirecting regular user to their tracking page"),Wr({title:"Access Denied",description:"Direct access to dashboard is not allowed. Redirecting to your tracking page...",variant:"destructive"}),setTimeout(()=>{window.location.href=`/tracking/${K._id}`},1500))}catch(K){console.error("Failed to parse user from localStorage:",K)}else console.error(" No user found in localStorage - access denied"),Wr({title:"Access Denied",description:"Please access the tracking page with a valid employee ID from the CRM system.",variant:"destructive"})},[]),v.useEffect(()=>{G();const U=setInterval(G,6e4);return()=>clearInterval(U)},[]);const G=async()=>{var U;try{console.log("Fetching employees");const K=await ht.get("/api/employees");if(K.ok){const we=await K.json();t(we.employees||[]),p(new Date),console.log("Employees data fetched successfully:",((U=we.employees)==null?void 0:U.length)||0)}else console.error(`Failed to fetch employees: ${K.status} ${K.statusText}`),t([])}catch(K){console.error("Error fetching employees:",K),t([])}finally{d(!1)}},Q=()=>{d(!0),G()},pe=async()=>{try{d(!0),console.log("Refreshing employee locations with Indian cities");const U=await ht.post("/api/employees/refresh-locations");if(U.ok){const K=await U.json();console.log("Locations refreshed successfully:",K),await G(),w(!1)}else{const K=await U.text().catch(()=>"Unknown error");console.error("Failed to refresh locations:",U.status,K),alert("Failed to refresh locations. Please try again.")}}catch(U){console.error("Error refreshing locations:",U),alert("Error refreshing locations. Please check your connection and try again.")}finally{d(!1)}},Oe=U=>{window.location.href=`tel:${U}`},ve=(U,K)=>{const we=encodeURIComponent(`Regarding Field Operations - ${K}`),Te=encodeURIComponent(`Hi ${K.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${U}?subject=${we}&body=${Te}`},de=async U=>{if(V!=null&&V._id)try{const K=await ht.get(`/api/meetings?employeeId=${V._id}&status=in-progress&limit=1`);if(K.ok){const we=await K.json();if(we.meetings&&we.meetings.length>0){Wr({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"}),console.log("Blocked: Active meeting exists:",we.meetings[0].id);return}}}catch(K){console.error("Error checking for active meetings:",K)}T(U),j(!0)},ye=async U=>{const K=e.find(we=>we.status==="active"||we.status==="meeting")||e[0];if(!K){Wr({title:"Error",description:"No active employee found to start meeting",variant:"destructive"});return}F(!0);try{const we=await ht.post("/api/meetings",{employeeId:K.id,location:{lat:K.location.lat,lng:K.location.lng,address:K.location.address},clientName:U.clientName,notes:`${U.reason}${U.notes?` - ${U.notes}`:""}`,leadId:U.leadId,leadInfo:U.leadInfo});if(we.ok)await ht.put(`/api/employees/${K.id}/status`,{status:"meeting"}),G(),j(!1),T(null),Wr({title:"Meeting Started",description:`Meeting with ${U.clientName} has been started successfully`});else{const Te=await we.json().catch(()=>({error:"Failed to start meeting"}));Wr({title:"Cannot Start Meeting",description:Te.error||"Failed to start meeting",variant:"destructive"})}}catch(we){console.error("Error starting meeting:",we),Wr({title:"Error",description:"Failed to start meeting. Please try again.",variant:"destructive"})}finally{F(!1)}},be=()=>{if(!(V!=null&&V._id)){ge();return}const U=S.filter(K=>!(K.meetingStatus==="complete"||K.meetingStatus==="Completed"||K.meetingStatus==="COMPLETED"));console.log("Incomplete today's meetings on logout:",U),U.length>0?M(!0):ge()},W=async U=>{console.log("Submitting incomplete meetings with reasons:",U);try{const K=U.map(async({meeting:Te,reason:$e})=>{try{const Ge="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),at=await fetch(`${Ge}/updateFollowUp/${Te._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});at.ok?console.log(` Updated meeting ${Te.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${Te.companyName} status:`,at.status)}catch(Ye){console.error(`Error updating meeting ${Te.companyName}:`,Ye)}});await Promise.all(K),(await ht.post("/api/incomplete-meeting-remarks",{employeeId:V._id,reason:"Multiple incomplete meetings",pendingMeetings:U.map(({meeting:Te,reason:$e})=>({_id:Te._id,leadId:Te.leadId,companyName:Te.companyName,customerName:Te.customerName,customerEmail:Te.customerEmail,customerMobile:Te.customerMobile,customerDesignation:Te.customerDesignation,meetingTime:Te.meetingTime,incompleteReason:$e}))})).ok?Wr({title:"Meetings Marked Incomplete",description:`${U.length} meeting(s) marked as incomplete with reasons.`}):(console.error("Failed to save incomplete meeting remarks"),Wr({title:"Warning",description:"Failed to save some meeting reasons, but meetings are marked incomplete.",variant:"destructive"}))}catch(K){console.error("Error saving incomplete meeting remarks:",K),Wr({title:"Warning",description:"Failed to save meeting reasons, but you can still logout.",variant:"destructive"})}M(!1),ge()},ge=()=>{localStorage.removeItem("idToken"),localStorage.removeItem("user"),Wr({title:"Logged Out",description:"You have been logged out successfully."}),window.location.href="/"},ie=U=>{switch(U){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},z=U=>{switch(U){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},J=e.filter(U=>U.status==="active"||U.status==="meeting");console.log("employee list",J);const X=e.length;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between overflow-auto",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:o.jsx(Jn,{className:"h-5 w-5 text-primary-foreground"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"FieldTracker"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Employee Location Management"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(Pe,{variant:"outline",size:"sm",onClick:Q,disabled:c,children:[o.jsx(cl,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),o.jsx(Pe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:"/dashboard",children:[o.jsx(Ep,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),o.jsx(Pe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:"/team-management",children:[o.jsx(ra,{className:"h-4 w-4 mr-2"}),"Manage Team"]})}),o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>b(!0),children:[o.jsx(Kr,{className:"h-4 w-4 mr-2"}),"Meeting History"]}),o.jsx(Pe,{size:"sm",asChild:!0,disabled:e.length===0,children:o.jsxs(Os,{to:`/tracking/${r||(e.length>0?e[0].id:"1")}`,children:[o.jsx(ho,{className:"h-4 w-4 mr-2"}),r?"View Selected":"Live View"]})}),V&&o.jsxs(Pe,{variant:"outline",size:"sm",onClick:be,children:[o.jsx(XN,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",f.toLocaleTimeString(),c&&"  Refreshing..."]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Active Employees"}),o.jsx(ra,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:J.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",X," total employees"]})]})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"In Meetings"}),o.jsx(Tp,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter(U=>U.status==="meeting").length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently with clients"})]})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"On Route"}),o.jsx(ho,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter(U=>U.status==="active").length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Moving to locations"})]})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Last Update"}),o.jsx(Tn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-info",children:"1m"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg response time"})]})]})]}),c&&e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employee data..."})]}),ee&&!se&&o.jsx("div",{className:"mb-6",children:o.jsx($T,{onInstall:()=>console.log("PWA installed"),onDismiss:()=>console.log("PWA install dismissed")})}),g&&e.length>0&&o.jsx(dt,{className:"border-info bg-info/5",children:o.jsx(ft,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between overflow-auto",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(vn,{className:"h-5 w-5 text-info mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-info mb-1",children:"Update Your Real Location"}),o.jsx("p",{className:"text-sm text-info/80 mb-3",children:`We've detected your team is in India. Click on any employee's "Live View" and use the "Start Tracking" button to update their real location for accurate tracking.`}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Pe,{size:"sm",variant:"outline",className:"border-info text-info hover:bg-info hover:text-white",onClick:()=>{const U=e[0];U&&window.open(`/tracking/${U.id}`,"_blank")},children:[o.jsx(ho,{className:"h-4 w-4 mr-2"}),"Enable Live Tracking"]}),o.jsxs(Pe,{size:"sm",className:"bg-info hover:bg-info/90 text-white",onClick:pe,disabled:c,children:[o.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Update to Indian Cities"]})]})]})]}),o.jsx(Pe,{variant:"ghost",size:"sm",onClick:()=>w(!1),className:"text-info hover:text-info",children:o.jsx(ru,{className:"h-4 w-4"})})]})})}),!c&&e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ra,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),o.jsx("p",{className:"text-muted-foreground",children:"Add employees to start tracking their locations."})]}),!c&&(V==null?void 0:V._id)&&o.jsx("div",{className:"mb-8",children:o.jsx(v_,{userId:V._id,onStartMeeting:de,onMeetingsFetched:k})}),!c&&e.length>0&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsxs(kt,{className:"flex items-center justify-between ",children:[o.jsx("span",{children:"Field Team"}),o.jsxs(Pt,{variant:"secondary",children:[e.length," total"]})]})}),o.jsx(ft,{className:"p-0 sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:o.jsx("div",{className:"space-y-0",children:e.map(U=>o.jsx("div",{className:`p-4 border-b last:border-b-0 cursor-pointer transition-colors hover:bg-muted/50 ${r===U.id?"bg-primary/5 border-l-4 border-l-primary":""}`,onClick:()=>a(U.id),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-foreground",children:U.name}),o.jsx(Pt,{variant:"secondary",className:`text-xs ${ie(U.status)}`,children:z(U.status)})]}),U.designation&&o.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[U.designation,U.department&&`  ${U.department}`]}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[o.jsx(Jn,{className:"h-3 w-3 inline mr-1"}),U.location.address]}),U.currentTask&&o.jsx("p",{className:"text-xs text-primary font-medium mb-1",children:U.currentTask}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx(Tn,{className:"h-3 w-3 inline mr-1"}),"Updated ",U.lastUpdate]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Pe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:K=>{K.stopPropagation(),Oe(U.phone)},title:"Call employee",children:o.jsx(fi,{className:"h-3 w-3"})}),o.jsx(Pe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:K=>{K.stopPropagation(),ve(U.email,U.name)},title:"Send email",children:o.jsx(di,{className:"h-3 w-3"})}),o.jsx(Pe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",asChild:!0,title:"Track employee",children:o.jsx(Os,{to:`/tracking/${U.id}`,onClick:K=>K.stopPropagation(),children:o.jsx(ho,{className:"h-3 w-3"})})})]})]})},U.id))})})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(dt,{className:"h-[600px]",children:[o.jsx(Tt,{children:o.jsxs(kt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Live Location Map"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>{r||a(null)},children:[o.jsx(ho,{className:"h-4 w-4 mr-2"}),r?"Center on Selected":"Fit All"]}),o.jsx("div",{className:"h-2 w-2 rounded-full bg-success animate-pulse"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Live"})]})]})}),o.jsxs(ft,{className:"p-4",children:[o.jsx(Vp,{employees:e,selectedEmployee:r,height:"500px",onEmployeeClick:a}),o.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm mt-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-success"}),o.jsx("span",{children:"On Route"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"}),o.jsx("span",{children:"In Meeting"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"}),o.jsx("span",{children:"Offline"})]})]})]})]})})]}),!c&&e.length>0&&o.jsx("div",{className:"mt-8",children:o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsx(kt,{children:"Recent Activity"})}),o.jsx(ft,{children:o.jsx("div",{className:"space-y-4",children:e.filter(U=>U.status!=="inactive").slice(0,3).map((U,K)=>o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`h-2 w-2 rounded-full mt-2 ${U.status==="active"?"bg-success":U.status==="meeting"?"bg-warning":"bg-info"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium",children:[U.name," ",U.status==="active"?"is on route":U.status==="meeting"?"started meeting":"updated location"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[U.location.address,"  ",U.lastUpdate]})]})]},U.id))})})]})})]}),o.jsx(c_,{isOpen:_,onClose:()=>b(!1)}),o.jsx(mb,{isOpen:P,onClose:()=>{j(!1),T(null)},onStartMeeting:ye,employeeName:((he=e[0])==null?void 0:he.name)||"Employee",location:((ce=e[0])==null?void 0:ce.location.address)||"Unknown location",isLoading:O,initialClientName:(C==null?void 0:C.customerName)||"",initialCompanyName:(C==null?void 0:C.companyName)||"",initialReason:(C==null?void 0:C.type)||"",initialNotes:(C==null?void 0:C.remark)||""}),o.jsx(PM,{isOpen:D,onClose:()=>M(!1),onSubmit:W,pendingMeetings:S.filter(U=>!(U.meetingStatus==="complete"||U.meetingStatus==="Completed"||U.meetingStatus==="COMPLETED"))})]})}const Dc=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:mt("w-full caption-bottom text-sm",e),...t})}));Dc.displayName="Table";const Oc=v.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:mt("[&_tr]:border-b",e),...t}));Oc.displayName="TableHeader";const Ic=v.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:mt("[&_tr:last-child]:border-0",e),...t}));Ic.displayName="TableBody";const kM=v.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:mt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));kM.displayName="TableFooter";const uo=v.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:mt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));uo.displayName="TableRow";const vt=v.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:mt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));vt.displayName="TableHead";const xt=v.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:mt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xt.displayName="TableCell";const MM=v.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:mt("mt-4 text-sm text-muted-foreground",e),...t}));MM.displayName="TableCaption";function kb({employeeId:e,isOpen:t,onClose:r}){const[a,c]=v.useState([]),[d,f]=v.useState(!1),[p,g]=v.useState(null),[w,_]=v.useState(""),[b,S]=v.useState("all"),[k,P]=v.useState(1),[j,C]=v.useState(1),[T,D]=v.useState(0),{toast:M}=vo(),O=async(Q=1)=>{f(!0);try{const pe=new URLSearchParams({page:Q.toString(),limit:"10"});e&&pe.append("employeeId",e),b!=="all"&&pe.append("status",b);const Oe=await ht.get(`/api/route-snapshots?${pe}`);if(Oe.ok){const ve=await Oe.json();c(ve.snapshots),C(ve.totalPages),D(ve.total),P(ve.page)}else throw new Error("Failed to fetch snapshots")}catch(pe){console.error("Error fetching snapshots:",pe),M({title:"Error",description:"Failed to load route snapshots. Please try again.",variant:"destructive"})}finally{f(!1)}};v.useEffect(()=>{t&&O(1)},[t,e,b]);const F=async Q=>{if(confirm("Are you sure you want to delete this snapshot?"))try{if((await ht.delete(`/api/route-snapshots/${Q}`)).ok)M({title:"Snapshot Deleted",description:"Route snapshot has been deleted successfully"}),O(k);else throw new Error("Failed to delete snapshot")}catch(pe){console.error("Error deleting snapshot:",pe),M({title:"Error",description:"Failed to delete snapshot. Please try again.",variant:"destructive"})}},V=a.filter(Q=>Q.title.toLowerCase().includes(w.toLowerCase())||Q.employeeName.toLowerCase().includes(w.toLowerCase())||Q.description&&Q.description.toLowerCase().includes(w.toLowerCase())),I=Q=>{if(!Q)return"N/A";const pe=Math.floor(Q/3600),Oe=Math.floor(Q%3600/60);return pe>0?`${pe}h ${Oe}m`:`${Oe}m`},ee=Q=>Q>1e3?`${(Q/1e3).toFixed(1)} km`:`${Q.toFixed(0)} m`,se=Q=>({id:Q.employeeId,name:Q.employeeName,email:"",phone:"",status:"active",location:Q.startLocation,lastUpdate:new Date(Q.captureTime).toLocaleString()}),G=Q=>({id:Q.trackingSessionId||Q.id,employeeId:Q.employeeId,startTime:Q.captureTime,endTime:Q.endLocation?Q.captureTime:void 0,startLocation:Q.startLocation,endLocation:Q.endLocation,route:Q.route,totalDistance:Q.totalDistance,duration:Q.duration,status:Q.status});return o.jsxs(o.Fragment,{children:[o.jsx(Mr,{open:t,onOpenChange:r,children:o.jsxs(dr,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center gap-2",children:[o.jsx(ll,{className:"h-5 w-5"}),"Route Snapshot History"]}),o.jsxs(mr,{children:["View and manage saved route snapshots",e&&" for this employee"]})]}),o.jsxs("div",{className:"flex flex-col h-[70vh]",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(nu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(an,{placeholder:"Search snapshots...",value:w,onChange:Q=>_(Q.target.value),className:"pl-10"})]})}),o.jsxs(ds,{value:b,onValueChange:S,children:[o.jsx(Gr,{className:"w-32",children:o.jsx(fs,{})}),o.jsxs(Yr,{children:[o.jsx(Yt,{value:"all",children:"All Status"}),o.jsx(Yt,{value:"active",children:"Active"}),o.jsx(Yt,{value:"completed",children:"Completed"})]})]}),o.jsx(Pe,{variant:"outline",size:"icon",onClick:()=>O(k),disabled:d,children:o.jsx(cl,{className:`h-4 w-4 ${d?"animate-spin":""}`})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:d?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(cl,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading snapshots..."})]})}):V.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ll,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Snapshots Found"}),o.jsx("p",{className:"text-muted-foreground",children:w||b!=="all"?"Try adjusting your search criteria":"No route snapshots have been created yet"})]})}):o.jsx("div",{className:"overflow-y-auto h-full",children:o.jsx("div",{className:"grid gap-4",children:V.map(Q=>o.jsx(dt,{className:"hover:shadow-md transition-shadow",children:o.jsx(ft,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold",children:Q.title}),o.jsx(Pt,{variant:"secondary",className:Q.status==="completed"?"bg-success text-success-foreground":"bg-warning text-warning-foreground",children:Q.status})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:new Date(Q.captureTime).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(na,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{children:[Q.snapshotMetadata.routePointsCount," points"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Jn,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:ee(Q.totalDistance)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Tn,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:I(Q.duration)})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:o.jsx("strong",{children:Q.employeeName})}),Q.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:Q.description})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>g(Q),children:[o.jsx(cw,{className:"h-4 w-4 mr-1"}),"View"]}),o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>F(Q.id),className:"text-destructive hover:text-destructive",children:o.jsx(mw,{className:"h-4 w-4"})})]})]})})},Q.id))})})}),j>1&&o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",V.length," of ",T," snapshots"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>O(k-1),disabled:k===1||d,children:[o.jsx(iw,{className:"h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm",children:["Page ",k," of ",j]}),o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>O(k+1),disabled:k===j||d,children:["Next",o.jsx(aw,{className:"h-4 w-4"})]})]})]})]})]})}),p&&o.jsx(Mr,{open:!!p,onOpenChange:()=>g(null),children:o.jsxs(dr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsx(hr,{children:p.title}),o.jsxs(mr,{children:["Route snapshot captured on ",new Date(p.captureTime).toLocaleString()]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(dt,{children:o.jsxs(ft,{className:"p-4 text-center",children:[o.jsx(na,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:p.snapshotMetadata.routePointsCount}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Route Points"})]})}),o.jsx(dt,{children:o.jsxs(ft,{className:"p-4 text-center",children:[o.jsx(Jn,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:ee(p.totalDistance)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Distance"})]})}),o.jsx(dt,{children:o.jsxs(ft,{className:"p-4 text-center",children:[o.jsx(Kr,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:p.meetings.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Meetings"})]})}),o.jsx(dt,{children:o.jsxs(ft,{className:"p-4 text-center",children:[o.jsx(Tn,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:I(p.duration)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]})})]}),o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsx(kt,{children:"Route Visualization"})}),o.jsx(ft,{children:o.jsx(Vp,{employees:[se(p)],height:"400px",trackingSession:G(p),showRoute:!0})})]}),p.description&&o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsx(kt,{children:"Description"})}),o.jsx(ft,{children:o.jsx("p",{className:"text-sm",children:p.description})})]}),p.meetings.length>0&&o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsx(kt,{children:"Meetings in Snapshot"})}),o.jsx(ft,{children:o.jsx("div",{className:"space-y-3",children:p.meetings.map(Q=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:Q.clientName||"Unknown Client"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:Q.location.address}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(Q.startTime).toLocaleString(),Q.endTime&&` - ${new Date(Q.endTime).toLocaleString()}`]})]}),o.jsx(Pt,{variant:"outline",children:Q.status})]},Q.id))})})]})]})]})})]})}function RM(){const[e,t]=v.useState([]),[r,a]=v.useState(!0),[c,d]=v.useState({employeeId:"all",dateRange:"all",searchTerm:""}),[f,p]=v.useState(null),[g,w]=v.useState([]),[_,b]=v.useState([]),[S,k]=v.useState(!1),[P,j]=v.useState({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1}),[C,T]=v.useState({isOpen:!1,employeeId:""}),[D,M]=v.useState({}),[O,F]=v.useState({}),[V,I]=v.useState({totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0});v.useEffect(()=>{ee()},[c]),v.useEffect(()=>{var Z;f&&ve(f,((Z=e.find(me=>me.employeeId===f))==null?void 0:Z.employeeName)||"Unknown")},[c.dateRange,c.startDate,c.endDate]);const ee=async()=>{try{a(!0);const Z=JSON.parse(localStorage.getItem("user")||"{}"),me=(Z==null?void 0:Z.role)==="super_admin",Se=new URLSearchParams;me?c.employeeId&&c.employeeId!=="all"&&Se.append("employeeId",c.employeeId):Z!=null&&Z._id&&Se.append("employeeId",Z._id),Se.append("dateRange",c.dateRange),c.startDate&&Se.append("startDate",c.startDate),c.endDate&&Se.append("endDate",c.endDate),c.searchTerm&&Se.append("search",c.searchTerm);const Ee=await ht.get(`/api/analytics/employees?${Se}`);if(Ee.ok){const We=await Ee.json();t(We.analytics||[]),I(We.summary||{totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0})}else console.error("Failed to fetch analytics"),t([])}catch(Z){console.error("Error fetching analytics",Z),t([])}finally{a(!1)}},se=(Z,me)=>{d(Se=>{const Ee={...Se,[Z]:me};return Z==="dateRange"&&me!=="custom"&&(Ee.startDate=void 0,Ee.endDate=void 0),Z==="startDate"&&me&&!Se.endDate&&(Ee.endDate=sn(new Date,"yyyy-MM-dd")),Ee})},G=()=>{d(Z=>({...Z,startDate:void 0,endDate:void 0}))},Q=Z=>{const me=new Date;let Se,Ee=sn(me,"yyyy-MM-dd");switch(Z){case"last7":Se=sn(Qx(me,6),"yyyy-MM-dd");break;case"last30":Se=sn(Qx(me,29),"yyyy-MM-dd");break;case"lastMonth":const We=new Date(me.getFullYear(),me.getMonth()-1,1),tt=new Date(me.getFullYear(),me.getMonth(),0);Se=sn(We,"yyyy-MM-dd"),Ee=sn(tt,"yyyy-MM-dd");break;case"thisMonth":Se=sn(QT(me),"yyyy-MM-dd"),Ee=sn(XT(me),"yyyy-MM-dd");break;default:return}d(We=>({...We,dateRange:"custom",startDate:Se,endDate:Ee}))},pe=()=>{switch(c.dateRange){case"all":return"All Time";case"today":return"Today";case"yesterday":return"Yesterday";case"week":return"This Week";case"month":return"This Month";case"custom":if(c.startDate&&c.endDate){const Z=new Date(c.startDate),me=new Date(c.endDate),Se=Z.getFullYear(),Ee=me.getFullYear(),We=new Date().getFullYear();return Se===Ee&&Se===We?`${sn(Z,"MMM dd")} - ${sn(me,"MMM dd")}`:Se===Ee?`${sn(Z,"MMM dd")} - ${sn(me,"MMM dd, yyyy")}`:`${sn(Z,"MMM dd, yyyy")} - ${sn(me,"MMM dd, yyyy")}`}return"Custom Range";default:return"Today"}},Oe=()=>{const Z=[["Employee Name","Total Meetings","Today's Meetings","Meeting Hours","Duty Hours"],...e.map(We=>[We.employeeName,We.totalMeetings.toString(),We.todayMeetings.toString(),`${We.totalMeetingHours.toFixed(1)}h`,`${We.totalDutyHours.toFixed(1)}h`])].map(We=>We.join(",")).join(`
`),me=new Blob([Z],{type:"text/csv"}),Se=window.URL.createObjectURL(me),Ee=document.createElement("a");Ee.href=Se,Ee.download=`employee-analytics-${sn(new Date,"yyyy-MM-dd")}.csv`,Ee.click(),window.URL.revokeObjectURL(Se)},ve=async(Z,me)=>{var Se,Ee;console.log(` Fetching details for employee: ${Z} (${me})`),p(Z),k(!0);try{const We=`/api/analytics/employee-details/${Z}?${new URLSearchParams({dateRange:c.dateRange,...c.startDate&&{startDate:c.startDate},...c.endDate&&{endDate:c.endDate}})}`;console.log(` Fetching employee details from: ${We}`);const tt=await ht.get(We);if(tt.ok){const Qe=await tt.json();console.log(" Employee details received:",{dayRecords:((Se=Qe.dayRecords)==null?void 0:Se.length)||0,meetingRecords:((Ee=Qe.meetingRecords)==null?void 0:Ee.length)||0});const Ut=Qe.dayRecords||[],Nt=Qe.meetingRecords||[];Nt.length>0?(console.log(" First meeting record structure:",Nt[0]),console.log(" Meeting ID present?",!!Nt[0].meetingId),console.log(" Approval fields:",{approvalStatus:Nt[0].approvalStatus,approvalReason:Nt[0].approvalReason,approvedBy:Nt[0].approvedBy,approvedByName:Nt[0].approvedByName}),console.log(" All meeting IDs:",Nt.map(bt=>({meetingId:bt.meetingId,hasId:!!bt.meetingId,company:bt.companyName,approvedBy:bt.approvedBy,approvedByName:bt.approvedByName})))):console.warn(" No meeting records received from API");try{const bt=new URLSearchParams({employeeId:Z});c.startDate&&bt.append("startDate",c.startDate),c.endDate&&bt.append("endDate",c.endDate);const Rt=`/api/analytics/attendance?${bt}`;console.log(` Fetching attendance from: ${Rt}`);const Ht=await ht.get(Rt);if(console.log(` Attendance response status: ${Ht.status}`),Ht.ok){const Vt=await Ht.json();if(console.log(" Attendance data received:",Vt),Vt.success&&Vt.data){console.log(` Processing ${Vt.data.length} attendance records`);const B=new Map(Vt.data.map(Le=>[Le.date,Le]));let je=0;Ut.forEach(Le=>{const Me=B.get(Le.date);Me&&(Le.attendanceStatus=Me.attendanceStatus,Le.attendanceReason=Me.attendanceReason,je++,console.log(` Merged attendance for ${Le.date}:`,{status:Me.attendanceStatus,reason:Me.attendanceReason}))}),console.log(` Merged ${je} attendance records with day records`)}else console.log(" No attendance data in response")}else console.warn(` Attendance API returned status: ${Ht.status}`)}catch(bt){console.error(" Failed to fetch attendance data:",bt)}if(console.log(` Setting state with ${Ut.length} day records and ${Nt.length} meeting records`),Nt.length>0){console.log(" Sample meeting record:",Nt[0]);const bt=Nt.filter(Rt=>!Rt.meetingId);bt.length>0&&console.error(` ${bt.length} meetings are missing IDs!`,bt),console.log(" Meeting IDs:",Nt.map(Rt=>({id:Rt.meetingId,company:Rt.companyName,hasId:!!Rt.meetingId})))}w(Ut),b(Nt)}else console.error(` Failed to fetch employee details - Status: ${tt.status}`),w([]),b([])}catch(We){console.error(" Error fetching employee details:",We),w([]),b([])}finally{k(!1),console.log(" Employee details loading complete")}},de=()=>{p(null),w([]),b([])},ye=(Z,me)=>{const Se=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900","bg-indigo-50 border-indigo-200 text-indigo-900"];return Se[me%Se.length]},be=async(Z,me)=>{var We,tt;if(!Z){console.error("No employee ID provided for meeting history");return}console.log("meeting works perfectly");const Se=((We=e.find(Qe=>Qe.employeeId===Z))==null?void 0:We.employeeName)||(f===Z?"Selected Employee":"Unknown Employee"),Ee=me?`employee: ${Z} (${Se}), leadId: ${me}`:`employee: ${Z} (${Se})`;console.log(`Opening meeting history for ${Ee}`),j({isOpen:!0,employeeId:Z,employeeName:me?`${Se} - Lead ${me}`:Se,meetingHistory:[],loading:!0});try{const Qe=new URLSearchParams;Qe.append("employeeId",Z),Qe.append("limit","50"),Qe.append("_t",Date.now().toString()),me&&Qe.append("leadId",me),c.dateRange!=="all"?(Qe.append("dateRange",c.dateRange),c.startDate&&Qe.append("startDate",c.startDate),c.endDate&&Qe.append("endDate",c.endDate),console.log(`Applying date filter to meeting history for ${Se}:`,c.dateRange)):console.log(`Showing ALL meetings in history for ${Se} (All Time filter selected)`),console.log(`Fetching meeting history for ${Se} with filters: ${Qe.toString()}`);const Nt=await ht.get(`/api/meeting-history?${Qe.toString()}`);if(Nt.ok){const bt=await Nt.json();console.log(`Meeting history response for ${Se}: ${((tt=bt.meetings)==null?void 0:tt.length)||0} records`);const Rt=bt.meetings||[],Ht=Rt.filter(B=>B.employeeId!==Z);Ht.length>0&&console.error(`WARNING: Found ${Ht.length} meetings that don't belong to employee ${Z}:`,Ht.map(B=>({meetingEmployeeId:B.employeeId,leadId:B.leadId})));const Vt=Rt.filter(B=>B.employeeId===Z);console.log(`After filtering: ${Vt.length} meetings actually belong to ${Se}`),j(B=>({...B,meetingHistory:Vt,loading:!1}))}else console.error(`Failed to fetch meeting history for ${Se}`),j(bt=>({...bt,meetingHistory:[],loading:!1}))}catch(Qe){console.error(`Error fetching meeting history for ${Se}:`,Qe),j(Ut=>({...Ut,meetingHistory:[],loading:!1}))}},W=()=>{console.log("Closing meeting history modal"),j({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1})},ge=Z=>{T({isOpen:!0,employeeId:Z})},ie=()=>{T({isOpen:!1,employeeId:""})},z=[{value:"full_day",label:"Full Day"},{value:"half_day",label:"Half Day"},{value:"off",label:"Off"},{value:"short_leave",label:"Short Leave"},{value:"ot",label:"OT"}],J=(Z,me,Se)=>{M(Ee=>({...Ee,[Z]:{attendanceStatus:me||"full_day",attendanceReason:Se||"",isEditing:!0,isSaving:!1}}))},X=Z=>{M(me=>{const Se={...me};return delete Se[Z],Se})},he=(Z,me)=>{M(Se=>({...Se,[Z]:{...Se[Z],attendanceStatus:me}}))},ce=(Z,me)=>{M(Se=>({...Se,[Z]:{...Se[Z],attendanceReason:me}}))},U=async Z=>{var Se;const me=D[Z];if(!(!me||!f)){console.log(` Saving attendance for ${Z}:`,me),M(Ee=>({...Ee,[Z]:{...Ee[Z],isSaving:!0}}));try{const Ee=JSON.parse(localStorage.getItem("user")||"{}"),We=(Ee==null?void 0:Ee._id)||null;console.log(` Logged-in user ID: ${We}`);const tt=await ht.post("/api/analytics/save-attendance",{employeeId:f,date:Z,attendanceStatus:me.attendanceStatus,attendanceReason:me.attendanceReason,attendenceCreated:We});if(tt.ok){const Qe=await tt.json();console.log(" Attendance saved successfully:",Qe),console.log(" Refetching employee details to update attendanceAddedBy...");const Ut=((Se=e.find(Nt=>Nt.employeeId===f))==null?void 0:Se.employeeName)||"Employee";await ve(f,Ut),X(Z),console.log(` Attendance updated in UI for ${Z}`)}else{console.error(` Failed to save attendance - Status: ${tt.status}`);const Qe=await tt.text();console.error("Error response:",Qe),alert("Failed to save attendance. Please try again.")}}catch(Ee){console.error(" Error saving attendance:",Ee),alert("Error saving attendance. Please try again.")}finally{M(Ee=>({...Ee,[Z]:{...Ee[Z],isSaving:!1}}))}}},K=Z=>{const me=Math.floor(Z),Se=Math.round((Z-me)*60);return`${me}h ${Se}m`},we=[{value:"ok",label:"OK"},{value:"not_ok",label:"Not OK"}],Te=Z=>Z.meetingId?Z.meetingId:`${Z.date}_${Z.companyName}_${Z.meetingInTime}`.replace(/\s+/g,"_"),$e=Z=>{const me=Te(Z);console.log(` Editing meeting approval for: ${me}`,{meetingId:Z.meetingId,company:Z.companyName,date:Z.date}),F(Se=>({...Se,[me]:{approvalStatus:Z.approvalStatus||"",approvalReason:Z.approvalReason||"",isEditing:!0,isSaving:!1,meetingId:Z.meetingId,meetingKey:me}}))},Ye=Z=>{F(me=>{const Se={...me};return delete Se[Z],Se})},Ge=(Z,me)=>{F(Se=>({...Se,[Z]:{...Se[Z],approvalStatus:me}}))},at=(Z,me)=>{F(Se=>({...Se,[Z]:{...Se[Z],approvalReason:me}}))},Mt=async Z=>{const me=O[Z];if(!me||!me.approvalStatus){alert("Please select an approval status");return}if(!me.approvalReason.trim()){alert("Please provide a reason for your approval decision");return}const Se=_.find(Ee=>Te(Ee)===Z);if(!Se){console.error(" Cannot find meeting record for key:",Z),alert("Error: Meeting record not found.");return}console.log(` Saving meeting approval for ${Z}:`,{meetingId:me.meetingId,employeeId:f,date:Se.date,company:Se.companyName,status:me.approvalStatus,reason:me.approvalReason}),F(Ee=>({...Ee,[Z]:{...Ee[Z],isSaving:!0}}));try{const Ee=JSON.parse(localStorage.getItem("user")||"{}"),We=(Ee==null?void 0:Ee._id)||null;console.log(` Logged-in user ID: ${We}`);let tt;if(me.meetingId){const Qe=`/api/meetings/${me.meetingId}/approval`;console.log(` Sending PUT request to: ${Qe}`),tt=await ht.put(Qe,{approvalStatus:me.approvalStatus,approvalReason:me.approvalReason,approvedBy:We})}else{const Qe="/api/meetings/approval-by-details";console.log(` Sending PUT request to: ${Qe} (using composite key)`),tt=await ht.put(Qe,{employeeId:f,date:Se.date,companyName:Se.companyName,meetingInTime:Se.meetingInTime,approvalStatus:me.approvalStatus,approvalReason:me.approvalReason,approvedBy:We})}if(console.log(` Response status: ${tt.status}`),tt.ok){const Qe=await tt.json();console.log(" Meeting approval saved successfully:",Qe),b(Ut=>Ut.map(Nt=>Te(Nt)===Z?{...Nt,approvalStatus:me.approvalStatus,approvalReason:me.approvalReason}:Nt)),Ye(Z),console.log(` Meeting approval updated in UI for ${Z}`)}else{console.error(` Failed to save meeting approval - Status: ${tt.status}`);const Qe=await tt.text();console.error("Error response:",Qe),alert("Failed to save meeting approval. Please try again.")}}catch(Ee){console.error(" Error saving meeting approval:",Ee),alert("Error saving meeting approval. Please try again.")}finally{F(Ee=>({...Ee,[Z]:{...Ee[Z],isSaving:!1}}))}},Ne=Z=>{switch(Z){case"active":return o.jsx(Pt,{className:"bg-success text-success-foreground",children:"Active"});case"meeting":return o.jsx(Pt,{className:"bg-warning text-warning-foreground",children:"In Meeting"});case"inactive":return o.jsx(Pt,{variant:"secondary",children:"Offline"});default:return o.jsx(Pt,{variant:"secondary",children:"Unknown"})}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Analytics Dashboard"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Employee performance and meeting analytics for"," ",pe()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pe,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(Os,{to:"/route-test",children:[o.jsx(hw,{className:"h-4 w-4 mr-2"}),"Test Route Tracking"]})}),o.jsxs(Pe,{onClick:Oe,variant:"outline",children:[o.jsx(lw,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Total Employees"}),o.jsx(ra,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold",children:V.totalEmployees}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active in system"})]})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Active Meetings"}),o.jsx(Ep,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:V.activeMeetings}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently ongoing"})]})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsxs(kt,{className:"text-sm font-medium",children:["Meetings ",pe()]}),o.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:V.totalMeetingsToday}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed meetings"})]})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Avg Meeting Duration"}),o.jsx(tS,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsxs("div",{className:"text-2xl font-bold text-info",children:[V.avgMeetingDuration.toFixed(1),"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Per meeting"})]})]})]}),o.jsxs(dt,{className:"mb-6",children:[o.jsx(Tt,{children:o.jsxs(kt,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(dw,{className:"h-4 w-4 mr-2"}),"Filters"]}),c.dateRange==="custom"&&c.startDate&&c.endDate&&o.jsxs(Pt,{variant:"secondary",className:"text-xs",children:["Custom: ",sn(new Date(c.startDate),"MMM dd")," -"," ",sn(new Date(c.endDate),"MMM dd")]})]})}),o.jsx(ft,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"search",children:"Search Employee"}),o.jsxs("div",{className:"relative",children:[o.jsx(nu,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(an,{id:"search",placeholder:"Search by name...",value:c.searchTerm,onChange:Z=>se("searchTerm",Z.target.value),className:"pl-8"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{children:"Employee"}),o.jsxs(ds,{value:c.employeeId,onValueChange:Z=>se("employeeId",Z),children:[o.jsx(Gr,{children:o.jsx(fs,{placeholder:"All Employees"})}),o.jsxs(Yr,{children:[o.jsx(Yt,{value:"all",children:"All Employees"}),e.map(Z=>o.jsx(Yt,{value:Z.employeeId,children:Z.employeeName},Z.employeeId))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{children:"Date Range"}),o.jsxs(ds,{value:c.dateRange,onValueChange:Z=>se("dateRange",Z),children:[o.jsx(Gr,{children:o.jsx(fs,{})}),o.jsxs(Yr,{children:[o.jsx(Yt,{value:"all",children:"All Time"}),o.jsx(Yt,{value:"today",children:"Today"}),o.jsx(Yt,{value:"yesterday",children:"Yesterday"}),o.jsx(Yt,{value:"week",children:"This Week"}),o.jsx(Yt,{value:"month",children:"This Month"}),o.jsx(Yt,{value:"custom",children:"Custom Range"})]})]})]}),c.dateRange==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"startDate",children:"Start Date"}),o.jsx(an,{id:"startDate",type:"date",value:c.startDate||"",onChange:Z=>se("startDate",Z.target.value),max:c.endDate||sn(new Date,"yyyy-MM-dd")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"endDate",children:"End Date"}),o.jsx(an,{id:"endDate",type:"date",value:c.endDate||"",onChange:Z=>se("endDate",Z.target.value),min:c.startDate||"",max:sn(new Date,"yyyy-MM-dd")}),c.dateRange==="custom"&&(!c.startDate||!c.endDate)&&o.jsx("p",{className:"text-xs text-amber-600",children:"Please select both start and end dates"})]})]}),c.dateRange==="custom"&&o.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-2 xl:col-span-2",children:[o.jsx(Dt,{children:"Quick Select"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Q("last7"),className:"text-xs",children:"Last 7 Days"}),o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Q("last30"),className:"text-xs",children:"Last 30 Days"}),o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Q("thisMonth"),className:"text-xs",children:"This Month"}),o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Q("lastMonth"),className:"text-xs",children:"Last Month"})]})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-1 xl:col-span-1",children:[o.jsx(Dt,{children:""}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Pe,{onClick:ee,className:"flex-1",disabled:r||c.dateRange==="custom"&&(!c.startDate||!c.endDate),children:[o.jsx(ZN,{className:"h-4 w-4 mr-2"}),r?"Loading...":"Apply Filter"]}),c.dateRange==="custom"&&o.jsx(Pe,{variant:"outline",onClick:G,disabled:r,children:"Clear"})]})]})]})})]}),f?o.jsxs("div",{className:"space-y-6",children:[o.jsx(dt,{children:o.jsx(ft,{className:"pt-6",children:o.jsxs(Pe,{onClick:de,variant:"outline",children:[o.jsx(hf,{className:"h-4 w-4 mr-2"}),"Back to Employee List"]})})}),S?o.jsx(dt,{children:o.jsx(ft,{className:"py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employee details..."})]})})}):o.jsxs(o.Fragment,{children:[Array.from(new Set([...g.map(me=>me.date),..._.map(me=>me.date)])).sort((me,Se)=>new Date(Se).getTime()-new Date(me).getTime()).map((me,Se)=>{var Qe,Ut,Nt,bt,Rt,Ht,Vt;const Ee=g.find(B=>B.date===me),We=_.filter(B=>B.date===me),tt=ye(me,Se);return o.jsxs("div",{className:`p-4 rounded-lg border-2 ${tt}`,children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:sn(new Date(me),"EEEE, MMMM dd, yyyy")}),Ee&&o.jsxs(dt,{className:"mb-4",children:[o.jsx(Tt,{children:o.jsx(kt,{className:"text-sm",children:"Daily Summary"})}),o.jsx(ft,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Dc,{children:[o.jsx(Oc,{children:o.jsxs(uo,{className:tt,children:[o.jsx(vt,{children:"Date"}),o.jsx(vt,{children:"Total Meetings"}),o.jsx(vt,{children:"Start Location Time"}),o.jsx(vt,{children:"Start Location Address"}),o.jsx(vt,{children:"Out Location Time"}),o.jsx(vt,{children:"Out Location Address"}),o.jsx(vt,{children:"Total Duty Hours"}),o.jsx(vt,{children:"Meeting Time"}),o.jsx(vt,{children:"Travel & Lunch Time"}),o.jsx(vt,{children:"Attendance Status"}),o.jsx(vt,{children:"Reason"}),o.jsx(vt,{children:"Attendance Added By"}),o.jsx(vt,{children:"Actions"})]})}),o.jsx(Ic,{children:o.jsxs(uo,{className:`${tt} opacity-80`,children:[o.jsx(xt,{children:sn(new Date(Ee.date),"MM/dd/yyyy")}),o.jsx(xt,{children:Ee.totalMeetings}),o.jsx(xt,{children:Ee.startLocationTime?sn(new Date(Ee.startLocationTime),"HH:mm"):"-"}),o.jsx(xt,{children:Ee.startLocationAddress||"-"}),o.jsx(xt,{children:Ee.outLocationTime?sn(new Date(Ee.outLocationTime),"HH:mm"):"-"}),o.jsx(xt,{children:Ee.outLocationAddress||"-"}),o.jsx(xt,{children:K(Ee.totalDutyHours)}),o.jsx(xt,{children:K(Ee.meetingTime)}),o.jsx(xt,{children:K(Ee.travelAndLunchTime)}),o.jsx(xt,{children:(Qe=D[me])!=null&&Qe.isEditing?o.jsxs(ds,{value:D[me].attendanceStatus,onValueChange:B=>he(me,B),children:[o.jsx(Gr,{className:"w-32",children:o.jsx(fs,{})}),o.jsx(Yr,{children:z.map(B=>o.jsx(Yt,{value:B.value,children:B.label},B.value))})]}):o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm",children:Ee.attendanceStatus?((Ut=z.find(B=>B.value===Ee.attendanceStatus))==null?void 0:Ut.label)||Ee.attendanceStatus:"Full Day"})})}),o.jsx(xt,{children:(Nt=D[me])!=null&&Nt.isEditing?o.jsx(vi,{value:D[me].attendanceReason,onChange:B=>ce(me,B.target.value),placeholder:"Enter reason...",className:"w-40 h-16 text-xs"}):o.jsx("div",{className:"max-w-40 text-xs",children:Ee.attendanceReason||"-"})}),o.jsx(xt,{children:o.jsx("div",{className:"text-xs text-muted-foreground",children:Ee.attendanceAddedBy||"-"})}),o.jsx(xt,{children:(bt=D[me])!=null&&bt.isEditing?o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Pe,{size:"sm",onClick:()=>U(me),disabled:(Rt=D[me])==null?void 0:Rt.isSaving,className:"h-7 px-2",children:(Ht=D[me])!=null&&Ht.isSaving?o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):o.jsx(Wm,{className:"h-3 w-3"})}),o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>X(me),disabled:(Vt=D[me])==null?void 0:Vt.isSaving,className:"h-7 px-2",children:""})]}):o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>J(me,Ee.attendanceStatus,Ee.attendanceReason),className:"h-7 px-2",children:o.jsx(Vm,{className:"h-3 w-3"})})})]})})]})})})]}),We.length>0&&o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsx(kt,{className:"text-sm",children:"Meeting Details"})}),o.jsx(ft,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Dc,{children:[o.jsx(Oc,{children:o.jsxs(uo,{className:tt,children:[o.jsx(vt,{children:"Employee Name"}),o.jsx(vt,{children:"Company Name"}),o.jsx(vt,{children:"Date"}),o.jsx(vt,{children:"Lead ID"}),o.jsx(vt,{children:"Meeting In Time"}),o.jsx(vt,{children:"Meeting In Location"}),o.jsx(vt,{children:"Meeting Out Time"}),o.jsx(vt,{children:"Meeting Out Location"}),o.jsx(vt,{children:"Total Stay Time"}),o.jsx(vt,{children:"Discussion"}),o.jsx(vt,{children:"Meeting Person"}),o.jsx(vt,{children:"Approval Status"}),o.jsx(vt,{children:"Approval Reason"}),o.jsx(vt,{children:"Approved By"}),o.jsx(vt,{children:"Attachments"}),o.jsx(vt,{children:"Actions"}),o.jsx(vt,{children:"History"})]})}),o.jsx(Ic,{children:We.map((B,je)=>{var Le;return o.jsxs(uo,{className:`${tt} opacity-80`,children:[o.jsx(xt,{children:((Le=e.find(Me=>Me.employeeId===f))==null?void 0:Le.employeeName)||B.employeeName}),o.jsx(xt,{children:B.companyName}),o.jsx(xt,{children:sn(new Date(B.date),"MM/dd/yyyy")}),o.jsx(xt,{children:B.leadId||"-"}),o.jsx(xt,{children:B.meetingInTime}),o.jsx(xt,{children:B.meetingInLocation}),o.jsx(xt,{children:B.meetingOutTime}),o.jsx(xt,{children:B.meetingOutLocation}),o.jsx(xt,{children:K(B.totalStayTime)}),o.jsx(xt,{className:"max-w-xs truncate",children:B.discussion||"-"}),o.jsx(xt,{children:B.meetingPerson}),o.jsx(xt,{children:(()=>{var ze;const Me=Te(B);return(ze=O[Me])!=null&&ze.isEditing?o.jsxs(ds,{value:O[Me].approvalStatus,onValueChange:Ve=>Ge(Me,Ve),children:[o.jsx(Gr,{className:"w-28",children:o.jsx(fs,{placeholder:"Select..."})}),o.jsx(Yr,{children:we.map(Ve=>o.jsx(Yt,{value:Ve.value,children:Ve.label},Ve.value))})]}):o.jsx("div",{className:"flex items-center space-x-2",children:B.approvalStatus?o.jsx(Pt,{variant:B.approvalStatus==="ok"?"default":"destructive",className:B.approvalStatus==="ok"?"bg-success text-success-foreground":"",children:B.approvalStatus==="ok"?"OK":"Not OK"}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Not reviewed"})})})()}),o.jsx(xt,{children:(()=>{var ze;const Me=Te(B);return(ze=O[Me])!=null&&ze.isEditing?o.jsx(vi,{value:O[Me].approvalReason,onChange:Ve=>at(Me,Ve.target.value),placeholder:"Enter reason (required)...",className:"w-48 h-16 text-xs"}):o.jsx("div",{className:"max-w-48 text-xs",children:B.approvalReason||"-"})})()}),o.jsx(xt,{children:o.jsx("div",{className:"text-xs text-muted-foreground",children:B.approvedByName||"-"})}),o.jsx(xt,{children:B.attachments&&B.attachments.length>0?o.jsx("div",{className:"flex flex-col space-y-1",children:B.attachments.map((Me,ze)=>{const Ve=Me.startsWith("data:");let Ue=`File ${ze+1}`,Ke="";if(Ve){const Ie=Me.match(/data:([^;]+);/);if(Ie){Ke=Ie[1];const oe=Ke.split("/")[1];Ue=`attachment-${ze+1}.${oe}`}}else Ue=Me.split("/").pop()||Ue;return o.jsxs("a",{href:Me,download:Ue,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center space-x-1",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),o.jsx("span",{className:"truncate max-w-[150px]",title:Ue,children:Ue})]},ze)})}):o.jsx("div",{className:"text-xs text-muted-foreground",children:"-"})}),o.jsx(xt,{children:(()=>{var ze,Ve,Ue,Ke;const Me=Te(B);return(ze=O[Me])!=null&&ze.isEditing?o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Pe,{size:"sm",onClick:()=>Mt(Me),disabled:(Ve=O[Me])==null?void 0:Ve.isSaving,className:"h-7 px-2",children:(Ue=O[Me])!=null&&Ue.isSaving?o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):o.jsx(Wm,{className:"h-3 w-3"})}),o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Ye(Me),disabled:(Ke=O[Me])==null?void 0:Ke.isSaving,className:"h-7 px-2",children:""})]}):o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>$e(B),className:"h-7 px-2",title:"Edit approval",children:o.jsx(Vm,{className:"h-3 w-3"})})})()}),o.jsx(xt,{children:o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>{const Me=f,ze=B.leadId;be(Me,ze)},children:[o.jsx(ll,{className:"h-4 w-4 mr-1"}),"History"]})})]},je)})})]})})})]})]},me)}),g.length===0&&_.length===0&&o.jsx(dt,{children:o.jsx(ft,{className:"py-12",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected employee and date range"})})})})]})]}):o.jsxs(dt,{children:[o.jsxs(Tt,{children:[o.jsx(kt,{children:"Employee Analytics"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed breakdown of employee performance and meeting statistics"})]}),o.jsx(ft,{children:r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]}):e.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected filters"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Dc,{children:[o.jsx(Oc,{children:o.jsxs(uo,{children:[o.jsx(vt,{children:"Employee Name"}),o.jsx(vt,{children:"Status"}),o.jsx(vt,{className:"text-center",children:"Total Meetings"}),o.jsx(vt,{className:"text-center",children:"Today's Meetings"}),o.jsx(vt,{className:"text-center",children:"Meeting Hours"}),o.jsx(vt,{className:"text-center",children:"Duty Hours"}),o.jsx(vt,{className:"text-center",children:"Actions"})]})}),o.jsx(Ic,{children:e.map(Z=>o.jsxs(uo,{children:[o.jsx(xt,{className:"font-medium",children:Z.employeeName}),o.jsx(xt,{children:Ne(Z.status)}),o.jsx(xt,{className:"text-center",children:o.jsx(Pt,{variant:"outline",children:Z.totalMeetings})}),o.jsx(xt,{className:"text-center",children:o.jsx(Pt,{variant:"outline",className:Z.todayMeetings>0?"bg-success/10 text-success border-success":"",children:Z.todayMeetings})}),o.jsx(xt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx(Tn,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{children:K(Z.totalMeetingHours)})]})}),o.jsx(xt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx(Tn,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{children:K(Z.totalDutyHours)})]})}),o.jsx(xt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>ve(Z.employeeId,Z.employeeName),children:[o.jsx(cw,{className:"h-4 w-4 mr-1"}),"View Details"]}),o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>ge(Z.employeeId),children:[o.jsx(ll,{className:"h-4 w-4 mr-1"}),"Route History"]})]})})]},Z.employeeId))})]})})})]})]}),o.jsx(Mr,{open:P.isOpen,onOpenChange:W,children:o.jsxs(dr,{className:"sm:max-w-[1200px] max-h-[80vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx(ll,{className:"h-5 w-5 text-primary"}),o.jsxs("span",{children:["Meeting History - ",P.employeeName," (ID:"," ",P.employeeId,")"]})]}),o.jsx(mr,{children:"Complete meeting history and interactions for this employee"})]}),o.jsx("div",{className:"space-y-4",children:P.loading?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading meeting history..."})]}):P.meetingHistory.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No meeting history found for this employee"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Dc,{children:[o.jsx(Oc,{children:o.jsxs(uo,{children:[o.jsx(vt,{children:"Date"}),o.jsx(vt,{children:"Employee"}),o.jsx(vt,{children:"Company"}),o.jsx(vt,{children:"Lead ID"}),o.jsx(vt,{children:"Customer Name"}),o.jsx(vt,{children:"Contact Person"}),o.jsx(vt,{children:"Contact Details"}),o.jsx(vt,{children:"Discussion"}),o.jsx(vt,{children:"Status"})]})}),o.jsx(Ic,{children:P.meetingHistory.map((Z,me)=>{var Se,Ee,We,tt,Qe,Ut,Nt,bt,Rt,Ht,Vt,B,je,Le,Me,ze,Ve,Ue,Ke,Ie,oe,te,le,_e,Be,Ft,st,Et,zt,Kt,er,$s,vs,xo,xs,pa,Sn;return o.jsxs(uo,{children:[o.jsx(xt,{children:sn(new Date(Z.timestamp),"MMM dd, yyyy HH:mm")}),o.jsx(xt,{className:"font-medium",children:P.employeeName}),o.jsx(xt,{className:"font-medium",children:((Se=Z.meetingDetails)==null?void 0:Se.customerName)||((tt=(We=(Ee=Z.meetingDetails)==null?void 0:Ee.customers)==null?void 0:We[0])==null?void 0:tt.customerName)||((Qe=Z.leadInfo)==null?void 0:Qe.companyName)||"-"}),o.jsx(xt,{children:Z.leadId?o.jsx(Pt,{variant:"outline",children:Z.leadId}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx(xt,{children:((Nt=(Ut=Z.meetingDetails)==null?void 0:Ut.customers)==null?void 0:Nt.map(Je=>Je.customerName).join(", "))||((bt=Z.meetingDetails)==null?void 0:bt.customerName)||"-"}),o.jsx(xt,{children:((Ht=(Rt=Z.meetingDetails)==null?void 0:Rt.customers)==null?void 0:Ht.map(Je=>Je.customerEmployeeName).join(", "))||((Vt=Z.meetingDetails)==null?void 0:Vt.customerEmployeeName)||"-"}),o.jsx(xt,{children:o.jsxs("div",{className:"text-xs space-y-1",children:[(((Le=(je=(B=Z.meetingDetails)==null?void 0:B.customers)==null?void 0:je[0])==null?void 0:Le.customerEmail)||((Me=Z.meetingDetails)==null?void 0:Me.customerEmail))&&o.jsxs("div",{children:[""," ",((Ue=(Ve=(ze=Z.meetingDetails)==null?void 0:ze.customers)==null?void 0:Ve[0])==null?void 0:Ue.customerEmail)||((Ke=Z.meetingDetails)==null?void 0:Ke.customerEmail)]}),(((te=(oe=(Ie=Z.meetingDetails)==null?void 0:Ie.customers)==null?void 0:oe[0])==null?void 0:te.customerMobile)||((le=Z.meetingDetails)==null?void 0:le.customerMobile))&&o.jsxs("div",{children:[""," ",((Ft=(Be=(_e=Z.meetingDetails)==null?void 0:_e.customers)==null?void 0:Be[0])==null?void 0:Ft.customerMobile)||((st=Z.meetingDetails)==null?void 0:st.customerMobile)]}),(((Kt=(zt=(Et=Z.meetingDetails)==null?void 0:Et.customers)==null?void 0:zt[0])==null?void 0:Kt.customerDesignation)||((er=Z.meetingDetails)==null?void 0:er.customerDesignation))&&o.jsxs("div",{children:[""," ",((xo=(vs=($s=Z.meetingDetails)==null?void 0:$s.customers)==null?void 0:vs[0])==null?void 0:xo.customerDesignation)||((xs=Z.meetingDetails)==null?void 0:xs.customerDesignation)]})]})}),o.jsx(xt,{className:"max-w-xs",children:o.jsx("div",{className:"truncate",title:(pa=Z.meetingDetails)==null?void 0:pa.discussion,children:((Sn=Z.meetingDetails)==null?void 0:Sn.discussion)||"-"})}),o.jsx(xt,{children:o.jsx(Pt,{variant:"default",className:"bg-success text-success-foreground",children:"Completed"})})]},me)})})]})})})]})}),o.jsx(kb,{employeeId:C.employeeId,isOpen:C.isOpen,onClose:ie})]})}const LM=(e={})=>{const[t,r]=v.useState({latitude:null,longitude:null,accuracy:null,error:null,loading:!0}),{enableHighAccuracy:a=!0,maximumAge:c=0,timeout:d=1e4,watchPosition:f=!1}=e,p=v.useCallback(_=>(r({latitude:_.coords.latitude,longitude:_.coords.longitude,accuracy:_.coords.accuracy,error:null,loading:!1}),_),[]),g=v.useCallback(_=>{let b="An unknown error occurred";switch(_.code){case _.PERMISSION_DENIED:b="Location access denied by user";break;case _.POSITION_UNAVAILABLE:b="Location information unavailable";break;case _.TIMEOUT:b="Location request timed out";break}return r(S=>({...S,error:b,loading:!1})),null},[]),w=v.useCallback(()=>new Promise(_=>{if(!navigator.geolocation){r(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1})),_(null);return}r(b=>({...b,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(b=>_(p(b)),b=>_(g(b)),{enableHighAccuracy:a,maximumAge:c,timeout:d})}),[a,c,d,p,g]);return v.useEffect(()=>{if(!navigator.geolocation){r(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1}));return}let _=null;return f?_=navigator.geolocation.watchPosition(p,g,{enableHighAccuracy:a,maximumAge:c,timeout:d}):w(),()=>{_!==null&&navigator.geolocation.clearWatch(_)}},[f,w,p,g,a,c,d]),{...t,getCurrentPosition:w}};function AM({employeeId:e,employeeName:t,onLocationUpdate:r,trackingEnabled:a=!1,onTrackingSessionStart:c,onTrackingSessionEnd:d,todaysMeetings:f=[]}){const{toast:p}=vo(),[g,w]=v.useState(!1),[_,b]=v.useState(""),[S,k]=v.useState(!1),[P,j]=v.useState([]),[C,T]=v.useState({}),D=()=>{try{const oe=localStorage.getItem(`tracking_${e}`);if(oe){const te=JSON.parse(oe);if(console.log(" Restored tracking state from localStorage:",te),te.isTracking===!0)return!0}}catch(oe){console.warn("Error reading tracking state from localStorage:",oe)}return!1},[M,O]=v.useState(D),[F,V]=v.useState(null),[I,ee]=v.useState(0),[se,G]=v.useState(null),[Q,pe]=v.useState(0),[Oe,ve]=v.useState(0),ye=(()=>{try{const oe=localStorage.getItem(`trackingData_${e}`);if(oe){const te=JSON.parse(oe);return console.log(" Restored tracking data from localStorage:",te),{currentSession:te.currentSession,trackingStartTime:te.trackingStartTime?new Date(te.trackingStartTime):null,routeCoordinates:te.routeCoordinates||[],totalDistance:te.totalDistance||0}}}catch(oe){console.warn("Error reading tracking data from localStorage:",oe)}return{currentSession:null,trackingStartTime:null,routeCoordinates:[],totalDistance:0}})(),[be,W]=v.useState(ye.currentSession),[ge,ie]=v.useState(ye.trackingStartTime),[z,J]=v.useState(null),[X,he]=v.useState(0),[ce,U]=v.useState(ye.routeCoordinates),[K,we]=v.useState(ye.totalDistance),Te=v.useRef(null),$e=(oe,te,le,_e,Be)=>{try{const Ft={isTracking:oe,timestamp:new Date().toISOString()},st={currentSession:te,trackingStartTime:le==null?void 0:le.toISOString(),routeCoordinates:_e,totalDistance:Be,lastSaved:new Date().toISOString()};localStorage.setItem(`tracking_${e}`,JSON.stringify(Ft)),localStorage.setItem(`trackingData_${e}`,JSON.stringify(st)),console.log(" Tracking state saved to localStorage")}catch(Ft){console.warn("Error saving tracking state to localStorage:",Ft)}},Ye=()=>{try{localStorage.removeItem(`tracking_${e}`),localStorage.removeItem(`trackingData_${e}`),console.log(" Tracking state cleared from localStorage")}catch(oe){console.warn("Error clearing tracking state from localStorage:",oe)}},[Ge,at]=v.useState(!1),[Mt,Ne]=v.useState(!1),[Z,me]=v.useState(!1),[Se,Ee]=v.useState(null),{latitude:We,longitude:tt,accuracy:Qe,error:Ut,loading:Nt,getCurrentPosition:bt}=LM({enableHighAccuracy:!0,maximumAge:0,timeout:3e4,watchPosition:M});v.useEffect(()=>{var oe;M&&ge&&be&&(console.log(" Restored active tracking session, resuming..."),bt(),c==null||c(be),Z&&Mt&&(console.log(" Restarting background tracking via Service Worker"),(oe=navigator.serviceWorker.controller)==null||oe.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}})))},[]),v.useEffect(()=>{const oe=()=>{M&&be&&($e(M,be,ge,ce,K),console.log(" Saved tracking state before page unload"))};return window.addEventListener("beforeunload",oe),()=>{window.removeEventListener("beforeunload",oe)}},[M,be,ge,ce,K]),v.useEffect(()=>{const oe=window.matchMedia("(display-mode: standalone)").matches,te=window.matchMedia("(display-mode: standalone)").matches;at(oe||te);const le="serviceWorker"in navigator,_e="Notification"in window;return Ne(le&&_e),le&&navigator.serviceWorker.ready.then(Be=>{console.log("Service Worker ready for location tracking"),me(!0),navigator.serviceWorker.addEventListener("message",Ht)}),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",Ht)}},[]);const Rt=v.useCallback((oe,te,le,_e)=>{const Ft=oe*Math.PI/180,st=le*Math.PI/180,Et=(le-oe)*Math.PI/180,zt=(te-_e)*Math.PI/180,Kt=Math.sin(Et/2)*Math.sin(Et/2)+Math.cos(Ft)*Math.cos(st)*Math.sin(zt/2)*Math.sin(zt/2);return 6371e3*(2*Math.atan2(Math.sqrt(Kt),Math.sqrt(1-Kt)))},[]),Ht=v.useCallback(oe=>{var te,le;if(((te=oe.data)==null?void 0:te.type)==="LOCATION_UPDATE"){const _e=oe.data.payload;if(console.log("Received background location update:",_e),M){const Be={lat:_e.latitude,lng:_e.longitude,address:`${_e.latitude.toFixed(6)}, ${_e.longitude.toFixed(6)}`,timestamp:_e.timestamp};U(Ft=>{const st=[...Ft,Be];if(Ft.length>0){const Et=Ft[Ft.length-1],zt=Rt(Et.lat,Et.lng,_e.latitude,_e.longitude);we(Kt=>Kt+zt)}return st})}}((le=oe.data)==null?void 0:le.type)==="GET_EMPLOYEE_ID"&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"EMPLOYEE_ID_RESPONSE",payload:e})},[M,e,Rt]);v.useEffect(()=>(M&&ge?(he(Date.now()-ge.getTime()),Te.current=setInterval(()=>{he(Date.now()-ge.getTime())},1e3)):Te.current&&(clearInterval(Te.current),Te.current=null),()=>{Te.current&&clearInterval(Te.current)}),[M,ge]),v.useEffect(()=>{if(We&&tt&&Qe&&M){const oe=Date.now(),te=oe-Oe;if((()=>{if(Oe===0)return!0;if(te<2e3)return!1;if(te>=15e3)return!0;if(ce.length>0){const _e=ce[ce.length-1];if(Rt(_e.lat,_e.lng,We,tt)>2||Qe&&Qe<15)return!0}return!1})()){Vt(We,tt,Qe);const _e={lat:We,lng:tt,address:`${We.toFixed(6)}, ${tt.toFixed(6)}`,timestamp:new Date().toISOString()};U(Be=>{if(!(()=>{if(Be.length===0)return!0;const Et=Be[Be.length-1];return!!(Rt(Et.lat,Et.lng,We,tt)>2||Qe&&Qe<15&&(!Et.accuracy||Qe<Et.accuracy*.8)||new Date().getTime()-new Date(Et.timestamp).getTime()>18e4)})()){const Et=Rt(Be[Be.length-1].lat,Be[Be.length-1].lng,We,tt);return Et>.5&&console.log(`Route point filtered: moved ${Et.toFixed(1)}m (threshold: 2m)`),Be}const st=[...Be,{..._e,accuracy:Qe}];if(Be.length>0){const Et=Be[Be.length-1],zt=Rt(Et.lat,Et.lng,We,tt);we(Kt=>{const er=Kt+zt;return $e(!0,be,ge,st,er),console.log(` Added route point: ${zt.toFixed(1)}m from last, ${st.length} total points, ${(er/1e3).toFixed(2)}km total`),er})}else $e(!0,be,ge,st,K),console.log(` Added first route point at ${We.toFixed(6)}, ${tt.toFixed(6)}`);return st}),V(new Date),ee(Be=>Be+1),ve(oe),r==null||r(We,tt,Qe)}else{const _e=te<2e3?`Rate limited: ${Math.ceil((2e3-te)/1e3)}s remaining`:"No significant movement detected";console.log(_e)}}},[We,tt,Qe,M,r,Oe,Rt]),console.log("testing location");const Vt=async(oe,te,le,_e=0)=>{try{console.log("Attempting to update location:",{employeeId:e,lat:oe,lng:te,accuracy:le,retryCount:_e});const Be=await ht.put(`/api/employees/${e}/location`,{lat:oe,lng:te,accuracy:le});if(!Be.ok){const st=await Be.text();throw new Error(`Failed to update location: ${Be.status} ${Be.statusText} - ${st}`)}const Ft=await Be.json();console.log("Location update successful:",Ft),G(null),pe(0)}catch(Be){if(console.error("Error updating location:",Be),_e<1&&Be instanceof TypeError&&Be.message.includes("fetch")){console.log("Retrying location update after network error..."),setTimeout(()=>Vt(oe,te,le,_e+1),3e3);return}G(Be instanceof Error?Be.message:"Unknown error"),pe(Ft=>Ft+1),Q>=2&&(O(!1),console.warn("Disabling tracking due to repeated failures"))}},B=async()=>{var Et;const oe=new Date;ie(oe),J(null),he(0),U([]),we(0),O(!0);try{if("wakeLock"in navigator){const zt=await navigator.wakeLock.request("screen");Ee(zt),console.log("Wake lock acquired for better tracking")}}catch(zt){console.warn("Wake lock failed:",zt)}let te=We||0,le=tt||0,_e="Getting location...";try{console.log(" Fetching fresh location for start position...");const zt=await bt();if(zt&&zt.coords){te=zt.coords.latitude,le=zt.coords.longitude,console.log(" Fresh start location obtained:",{lat:te,lng:le});try{console.log(" Fetching address for start location...");const Kt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${te}&lon=${le}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});Kt.ok?(_e=(await Kt.json()).display_name||`${te.toFixed(6)}, ${le.toFixed(6)}`,console.log(" Start address resolved:",_e)):_e=`${te.toFixed(6)}, ${le.toFixed(6)}`}catch(Kt){console.warn(" Failed to get start address, using coordinates:",Kt),_e=`${te.toFixed(6)}, ${le.toFixed(6)}`}}}catch(zt){console.warn(" Failed to get fresh start location:",zt),_e=te&&le?`${te.toFixed(6)}, ${le.toFixed(6)}`:"Getting location..."}Z&&Mt&&(console.log("Starting background tracking via Service Worker"),(Et=navigator.serviceWorker.controller)==null||Et.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}}));const Be=`session_${e}_${oe.getTime()}`,Ft={lat:te,lng:le,address:_e,timestamp:oe.toISOString()},st={id:Be,employeeId:e,startTime:oe.toISOString(),startLocation:Ft,route:[],totalDistance:0,status:"active"};console.log("Starting tracking session with address:",st),W(st),$e(!0,st,oe,[],0),c==null||c(st)};console.log("testing ");const je=async()=>{const oe=new Date;J(oe),O(!1);try{const te=(f||[]).filter(le=>{var Be;const _e=(Be=le.meetingStatus)==null?void 0:Be.toLowerCase();return _e!=="complete"&&_e!=="completed"&&_e!=="approved"});if(te&&te.length>0){console.log("Incomplete meetings detected:",te),j(te);const le={};te.forEach(_e=>{le[_e._id]=""}),T(le),w(!0),O(!0),J(null),p({title:"Incomplete Meetings",description:`You have ${te.length} incomplete meeting(s). Please provide a reason before logging out.`,variant:"destructive"});return}}catch(te){console.warn("Error checking for incomplete meetings:",te)}await Le(oe)},Le=async oe=>{var Ft;console.log(" Starting performStopTracking - fetching fresh location...");let te=We,le=tt,_e=Qe,Be=We&&tt?`${We.toFixed(6)}, ${tt.toFixed(6)}`:"Location unavailable";try{console.log(" Requesting fresh GPS location for end position...");const st=await bt();if(st&&st.coords){te=st.coords.latitude,le=st.coords.longitude,_e=st.coords.accuracy,console.log(" Fresh end location obtained:",{lat:te,lng:le,accuracy:_e});try{console.log(" Fetching address for end location..."),await new Promise(zt=>setTimeout(zt,1e3));const Et=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${te}&lon=${le}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"},signal:AbortSignal.timeout(5e3)});Et.ok?(Be=(await Et.json()).display_name||`${te.toFixed(6)}, ${le.toFixed(6)}`,console.log(" End address resolved:",Be)):(console.warn(" Address API returned error:",Et.status),Be=`${te.toFixed(6)}, ${le.toFixed(6)}`)}catch(Et){console.warn(" Failed to get address, using coordinates:",Et),Be=`${te.toFixed(6)}, ${le.toFixed(6)}`}await Vt(te,le,_e)}else console.warn(" Fresh location not available, using last known location:",{lat:te,lng:le})}catch(st){console.warn(" Failed to get fresh location, using last known:",st)}if(Se)try{await Se.release(),Ee(null),console.log("Wake lock released")}catch(st){console.warn("Failed to release wake lock:",st)}if(Z&&(console.log("Stopping background tracking via Service Worker"),(Ft=navigator.serviceWorker.controller)==null||Ft.postMessage({type:"STOP_BACKGROUND_TRACKING"})),Te.current&&(clearInterval(Te.current),Te.current=null),console.log("Stopping tracking - Debug info:",{hasCurrentSession:!!be,hasCoordinates:!!(te&&le),endLat:te,endLng:le,routePointsCount:ce.length,totalDistance:K,elapsedTime:X}),be){const st={lat:te||be.startLocation.lat,lng:le||be.startLocation.lng,address:Be,timestamp:oe.toISOString()};let Et=K;if(ce.length>=2)try{console.log(`Calculating accurate distance for ${ce.length} GPS points...`);const Kt=Zr.createGPSRoute(ce);Kt.distance>0?(Et=Kt.distance,console.log(`Distance updated to GPS-calculated: ${(Et/1e3).toFixed(2)} km (was ${(K/1e3).toFixed(2)} km)`)):console.log(`Keeping original GPS distance: ${(K/1e3).toFixed(2)} km`)}catch(Kt){console.warn("Failed to calculate improved distance, using original GPS distance:",Kt.message)}else console.log(`Route has only ${ce.length} points, keeping GPS distance: ${(K/1e3).toFixed(2)} km`);const zt={...be,endTime:oe.toISOString(),endLocation:st,route:ce.length>0?ce:[be.startLocation],totalDistance:Et,duration:X/1e3,status:"completed"};console.log("Calling onTrackingSessionEnd with session:",zt),W(zt),Ye(),d==null||d(zt)}else console.log("Cannot end tracking session - no current session"),Ye()},Me=async()=>{if(P.some(te=>!C[te._id]||!C[te._id].trim())){p({title:"Error",description:"Please provide a reason for each incomplete meeting.",variant:"destructive"});return}k(!0);try{console.log("Saving incomplete meeting remarks for employee:",e),console.log("Incomplete meetings:",P),console.log("Meeting remarks:",C);const te=P.map(async st=>{try{const zt="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),Kt=await fetch(`${zt}/updateFollowUp/${st._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});Kt.ok?console.log(` Updated meeting ${st.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${st.companyName} status:`,Kt.status)}catch(Et){console.error(`Error updating meeting ${st.companyName}:`,Et)}});await Promise.all(te);const le=P.map(st=>({_id:st._id,leadId:st.leadId,companyName:st.companyName,customerName:st.customerName,customerEmail:st.customerEmail||"",customerMobile:st.customerMobile||"",customerDesignation:st.customerDesignation||"",meetingTime:st.meetingTime||"",incompleteReason:C[st._id]})),_e=await ht.post("/api/incomplete-meeting-remarks",{employeeId:e,reason:"Multiple incomplete meetings",pendingMeetings:le});if(!_e.ok){const st=await _e.text().catch(()=>"Unknown error");throw new Error(`Failed to save remark: ${_e.status} ${st}`)}const Be=await _e.json();console.log("Incomplete meeting remarks saved:",Be),p({title:"Meetings Marked Incomplete",description:`${P.length} meeting(s) marked as incomplete with reasons.`}),O(!1),w(!1),T({}),j([]),await Le(new Date)}catch(te){console.error("Error saving remark:",te),p({title:"Error",description:te instanceof Error?te.message:"Failed to save remark",variant:"destructive"})}finally{k(!1)}},ze=()=>{w(!1),b(""),j([])},Ve=oe=>oe?oe<=10?"bg-success":oe<=50?"bg-warning":"bg-destructive":"bg-muted",Ue=oe=>oe?oe<=10?"High":oe<=50?"Medium":"Low":"Unknown",Ke=oe=>{const te=Math.floor(oe/1e3),le=Math.floor(te/60),_e=Math.floor(le/60);return _e>0?`${_e}h ${le%60}m ${te%60}s`:le>0?`${le}m ${te%60}s`:`${te}s`},Ie=oe=>oe>=1e3?`${(oe/1e3).toFixed(2)} km`:`${Math.round(oe)} m`;return o.jsxs(dt,{className:"w-full",children:[o.jsx(Tt,{children:o.jsxs(kt,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Jn,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Location Tracking"})]}),o.jsx(Pt,{variant:M?"default":"secondary",className:M?"bg-success":"",children:M?"Active":"Inactive"})]})}),o.jsxs(ft,{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Tracking for: ",o.jsx("span",{className:"font-medium",children:t})]}),Ge&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm bg-primary/10 border border-primary/20 rounded-lg p-2",children:[o.jsx(Hd,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-primary font-medium",children:"PWA Mode Active"}),o.jsx(Pt,{variant:"secondary",className:"text-xs",children:Mt?"Background Tracking Enabled":"Limited Background"})]}),!Ge&&Mt&&o.jsxs("div",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Hd,{className:"h-3 w-3 text-amber-600"}),o.jsx("span",{className:"font-medium text-amber-700 dark:text-amber-400",children:"Better Tracking Available"})]}),o.jsx("p",{className:"mt-1",children:"Install this app to your home screen for improved background GPS tracking when phone is in pocket."})]}),M&&ge&&o.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(sx,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"font-medium",children:"Session Active"})]}),o.jsx("div",{className:"text-sm font-mono text-primary",children:Ke(X)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Started"}),o.jsx("div",{className:"font-medium",children:ge.toLocaleTimeString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Distance"}),o.jsx("div",{className:"font-medium",children:Ie(K)})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[o.jsx(na,{className:"h-3 w-3"}),o.jsxs("span",{children:["Route points: ",ce.length]})]})]}),!M&&z&&ge&&o.jsxs("div",{className:"bg-success/5 border border-success/20 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(qr,{className:"h-4 w-4 text-success"}),o.jsx("span",{className:"font-medium",children:"Last Session"})]}),o.jsx("div",{className:"text-sm font-mono text-success",children:Ke(z.getTime()-ge.getTime())})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Started"}),o.jsx("div",{className:"font-medium",children:ge.toLocaleTimeString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Ended"}),o.jsx("div",{className:"font-medium",children:z.toLocaleTimeString()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-muted-foreground flex items-center",children:[o.jsx(fw,{className:"h-3 w-3 mr-1"}),"Distance"]}),o.jsx("div",{className:"font-medium",children:Ie(K)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-muted-foreground flex items-center",children:[o.jsx(na,{className:"h-3 w-3 mr-1"}),"Points"]}),o.jsx("div",{className:"font-medium",children:ce.length})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[Nt&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Nl,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Getting location..."})]}),Ut&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[o.jsx(vn,{className:"h-4 w-4"}),o.jsx("span",{children:Ut})]}),se&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[o.jsx(vn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Update failed: ",se," (Failures: ",Q,")"]})]}),We&&tt&&!Nt&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-success",children:[o.jsx(qr,{className:"h-4 w-4"}),o.jsx("span",{children:"Location acquired"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Latitude"}),o.jsx("div",{className:"font-mono",children:We.toFixed(6)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Longitude"}),o.jsx("div",{className:"font-mono",children:tt.toFixed(6)})]})]}),Qe&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Accuracy"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`h-2 w-2 rounded-full ${Ve(Qe)}`}),o.jsxs("span",{className:"text-sm",children:[Ue(Qe)," (",Math.round(Qe),"m)"]})]})]}),F&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(Tn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Last update: ",F.toLocaleTimeString()," (",I," updates)"]})]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[M?o.jsx(Pe,{onClick:je,variant:"destructive",className:"flex-1",children:"LogOut"}):o.jsxs(Pe,{onClick:B,className:"flex-1",children:[o.jsx(ho,{className:"h-4 w-4 mr-2"}),"LogIn"]}),o.jsxs(Pe,{variant:"outline",onClick:bt,children:[o.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Update Now"]})]}),!M&&o.jsxs("div",{className:"text-xs text-muted-foreground p-3 bg-muted/50 rounded-md",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Note:"})," Location tracking requires permission and works best outdoors or near windows. High accuracy mode uses GPS and may drain battery faster."]}),Ge?o.jsxs("p",{className:"mt-2 text-success",children:[o.jsx("strong",{children:"PWA Mode:"})," Enhanced background tracking is active. Your route will be tracked even when the phone is in your pocket."]}):o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Tip:"})," Install this app to your home screen for better background tracking when phone is in pocket."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Auto-capture:"})," Route map will be automatically saved when you stop tracking."]})]}),M&&o.jsxs("div",{className:"text-xs text-info p-3 bg-info/10 border border-info/20 rounded-md",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(na,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Route will be auto-captured when tracking stops"})]}),ge&&be&&o.jsxs("p",{className:"flex items-center mt-1 text-success",children:[o.jsx(qr,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Tracking restored from previous session"})]}),Ge&&Mt&&o.jsxs("p",{className:"flex items-center mt-1 text-success",children:[o.jsx(Hd,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Background tracking active - keep phone in pocket"})]}),Se&&o.jsxs("p",{className:"flex items-center mt-1 text-amber-600",children:[o.jsx(sx,{className:"h-3 w-3 mr-1"}),"Screen sleep disabled for better tracking"]})]}),o.jsx(Mr,{open:g,onOpenChange:ze,children:o.jsxs(dr,{className:"sm:max-w-[600px]",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center gap-2",children:[o.jsx(vn,{className:"h-5 w-5 text-warning"}),"Incomplete Meetings"]}),o.jsxs(mr,{children:["You have ",P.length," incomplete meeting(s) today. Please provide a reason for each company before logging out."]})]}),o.jsxs("div",{className:"space-y-4 py-4 max-h-[380px] overflow-y-auto",children:[P.map(oe=>o.jsxs("div",{className:"border border-muted-foreground/10 rounded-lg p-3 bg-muted/40 space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(vn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",children:oe.companyName||"No Company Name"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[oe.customerName&&o.jsxs(o.Fragment,{children:["Contact: ",oe.customerName]}),oe.meetingTime&&o.jsxs(o.Fragment,{children:[" "," Time: ",oe.meetingTime]})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Dt,{className:"text-xs",htmlFor:`reason-${oe._id}`,children:["Reason for not completing this meeting",o.jsx("span",{className:"text-destructive",children:" *"})]}),o.jsx(vi,{id:`reason-${oe._id}`,placeholder:"E.g., client postponed, decision maker not available, visit rescheduled, etc...",value:C[oe._id]||"",onChange:te=>T(le=>({...le,[oe._id]:te.target.value})),rows:3,disabled:S})]})]},oe._id)),P.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"No incomplete meetings found."})]}),o.jsxs(ca,{children:[o.jsx(Pe,{variant:"outline",onClick:ze,disabled:S,children:"Cancel"}),o.jsx(Pe,{onClick:Me,disabled:S,children:S?o.jsxs(o.Fragment,{children:[o.jsx(KN,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Submit & Logout"})]})]})})]})]})}const Mb=v.forwardRef(({onEmployeeSelect:e,selectedEmployeeId:t,disabled:r=!1,onAddNewEmployee:a,filterByCompany:c},d)=>{const[f,p]=v.useState([]),[g,w]=v.useState([]),[_,b]=v.useState([]),[S,k]=v.useState(!1),[P,j]=v.useState(null),C=async()=>{k(!0),j(null);try{const F=await fetch("https://jbdspower.in/LeafNetServer/api/customer");if(!F.ok)throw new Error(`Failed to fetch customers: ${F.statusText}`);const V=await F.json(),I=Array.isArray(V)?V:[];p(I);let ee=I.flatMap(se=>(se.Employees||[]).map(G=>({...G,customerName:se.CustomerCompanyName,customerId:se._id})));c&&typeof c=="string"&&(ee=ee.filter(se=>{var G;return((G=se.customerName)==null?void 0:G.toLowerCase().trim())===c.toLowerCase().trim()}),console.log(`Filtered employees for company "${c}":`,ee.length)),w(ee)}catch(F){console.error("Error fetching customers:",F),j(F instanceof Error?F.message:"Failed to fetch customers")}finally{k(!1)}},T=(F,V,I)=>{const ee={...F,customerName:V,customerId:I};console.log("Adding temporary employee:",ee),b(se=>{const G=[...se,ee];try{localStorage.setItem("tempCustomerEmployees",JSON.stringify(G))}catch(Q){console.error("Error saving temporary employees:",Q)}return console.log("Updated temp employees:",G),G})};v.useEffect(()=>{C()},[c]),v.useEffect(()=>{console.log("tempEmployees changed:",_)},[_]),v.useEffect(()=>{typeof window<"u"&&(window.debugCustomerSelector={getTempEmployees:()=>_,getEmployees:()=>g,addTestEmployee:()=>{const F={_id:`temp_test_${Date.now()}`,CustomerEmpName:"Test Employee",Designation:"Test Position",Department:"Test Dept",Mobile:"1234567890",Email:"test@test.com"};T(F,"Test Company",`temp_customer_${Date.now()}`)}})},[_,g,T]);const D=()=>{console.log("Clearing temporary employees"),b([]);try{localStorage.removeItem("tempCustomerEmployees")}catch(F){console.error("Error clearing temporary employees:",F)}},M=()=>{console.log("Resetting customer employee selection"),D()};v.useImperativeHandle(d,()=>({refreshCustomers:C,addTempEmployee:T,clearTempEmployees:D,resetSelection:M}));const O=F=>{const I=[...g,..._].find(ee=>ee._id===F);if(console.log("CustomerEmployeeSelector: Employee selected:",F),console.log("CustomerEmployeeSelector: Found employee:",I),I)if(I._id.startsWith("temp_")){const ee={_id:I.customerId,CustomerCompanyName:I.customerName,Employees:[I],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:I.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for temp employee:",I.CustomerEmpName,ee.CustomerCompanyName),e(I,ee)}else{const ee=f.find(se=>se._id===I.customerId);ee?(console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for regular employee:",I.CustomerEmpName,ee.CustomerCompanyName),e(I,ee)):console.error("CustomerEmployeeSelector: Customer not found for employee:",I)}};return P?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Dt,{className:"text-sm text-destructive",children:"Customer Employee"}),a&&o.jsxs(Pe,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:r,className:"flex items-center space-x-1",children:[o.jsx(Hc,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Add New"})]})]}),o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load customer employees"})]}),o.jsx("p",{className:"text-xs mt-1",children:P}),o.jsx(Pe,{type:"button",variant:"outline",size:"sm",onClick:C,className:"mt-2",children:"Try Again"})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Dt,{htmlFor:"customerEmployee",className:"text-sm",children:["Select Customer Employee",o.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&o.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[c," only"]}),_.length>0&&o.jsxs("span",{className:"ml-2 text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:["+",_.length," new"]})]}),a&&o.jsxs(Pe,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:r||S,className:"flex items-center space-x-1",children:[o.jsx(Hc,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Add New"})]})]}),o.jsxs(ds,{onValueChange:O,value:t||"",disabled:r||S,children:[o.jsx(Gr,{className:"w-full",children:o.jsx(fs,{placeholder:S?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nl,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Loading employees..."})]}):"Select a customer employee"})}),o.jsx(Yr,{children:(()=>{const F=g.length+_.length;return console.log("Rendering dropdown - Regular employees:",g.length,"Temp employees:",_.length),F===0?o.jsx(Yt,{value:"no-employees",disabled:!0,children:"No employees found"}):o.jsxs(o.Fragment,{children:[_.map(V=>o.jsxs(Yt,{value:V._id,children:[V.CustomerEmpName," (",V.customerName,") *"]},V._id)),g.map(V=>o.jsxs(Yt,{value:V._id,children:[V.CustomerEmpName," (",V.customerName,")"]},V._id))]})})()})]})]})});Mb.displayName="CustomerEmployeeSelector";var sg="Checkbox",[DM,qL]=Cl(sg),[OM,IM]=DM(sg),Rb=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:c,defaultChecked:d,required:f,disabled:p,value:g="on",onCheckedChange:w,..._}=e,[b,S]=v.useState(null),k=Ot(t,M=>S(M)),P=v.useRef(!1),j=b?!!b.closest("form"):!0,[C=!1,T]=Uc({prop:c,defaultProp:d,onChange:w}),D=v.useRef(C);return v.useEffect(()=>{const M=b==null?void 0:b.form;if(M){const O=()=>T(D.current);return M.addEventListener("reset",O),()=>M.removeEventListener("reset",O)}},[b,T]),o.jsxs(OM,{scope:r,state:C,disabled:p,children:[o.jsx(wt.button,{type:"button",role:"checkbox","aria-checked":sa(C)?"mixed":C,"aria-required":f,"data-state":Db(C),"data-disabled":p?"":void 0,disabled:p,value:g,..._,ref:k,onKeyDown:ot(e.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:ot(e.onClick,M=>{T(O=>sa(O)?!0:!O),j&&(P.current=M.isPropagationStopped(),P.current||M.stopPropagation())})}),j&&o.jsx(FM,{control:b,bubbles:!P.current,name:a,value:g,checked:C,required:f,disabled:p,style:{transform:"translateX(-100%)"}})]})});Rb.displayName=sg;var Lb="CheckboxIndicator",Ab=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...c}=e,d=IM(Lb,r);return o.jsx(ha,{present:a||sa(d.state)||d.state===!0,children:o.jsx(wt.span,{"data-state":Db(d.state),"data-disabled":d.disabled?"":void 0,...c,ref:t,style:{pointerEvents:"none",...e.style}})})});Ab.displayName=Lb;var FM=e=>{const{control:t,checked:r,bubbles:a=!0,...c}=e,d=v.useRef(null),f=j_(r),p=Iw(t);return v.useEffect(()=>{const g=d.current,w=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(w,"checked").set;if(f!==r&&b){const S=new Event("click",{bubbles:a});g.indeterminate=sa(r),b.call(g,sa(r)?!1:r),g.dispatchEvent(S)}},[f,r,a]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:sa(r)?!1:r,...c,tabIndex:-1,ref:d,style:{...e.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sa(e){return e==="indeterminate"}function Db(e){return sa(e)?"indeterminate":e?"checked":"unchecked"}var Ob=Rb,zM=Ab;const Ib=v.forwardRef(({className:e,...t},r)=>o.jsx(Ob,{ref:r,className:mt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(zM,{className:mt("flex items-center justify-center text-current"),children:o.jsx(Cp,{className:"h-4 w-4"})})}));Ib.displayName=Ob.displayName;const $M="https://jbdspower.in/LeafNetServer/api",BM="68340889566d91e049668f07";function UM({isOpen:e,onClose:t,onAddEmployee:r,isLoading:a=!1,defaultCustomerName:c=""}){const[d,f]=v.useState({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),[p,g]=v.useState({}),[w,_]=v.useState(!1),[b,S]=v.useState(!1),{toast:k}=vo();v.useEffect(()=>{e&&c&&f(O=>({...O,customerName:c}))},[e,c]);const P=()=>{const O={};return d.customerName.trim()||(O.customerName="Customer name is required"),d.customerEmployeeName.trim()||(O.customerEmployeeName="Employee name is required"),d.designation.trim()||(O.designation="Designation is required"),d.department.trim()||(O.department="Department is required"),d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(O.email="Please enter a valid email address"):O.email="Email is required",d.mobile.trim()?/^[\+]?[1-9][\d]{9,15}$/.test(d.mobile.replace(/[\s\-\(\)]/g,""))||(O.mobile="Please enter a valid mobile number (10-16 digits)"):O.mobile="Mobile number is required",g(O),Object.keys(O).length===0},j=(O,F)=>{f(V=>({...V,[O]:F})),p[O]&&g(V=>{const I={...V};return delete I[O],I})},C=async O=>{if(O.preventDefault(),!!P()){_(!0);try{const F={CustomerEmpName:d.customerEmployeeName,Department:d.department,Designation:d.designation,Email:d.email,Mobile:d.mobile};console.log("Saving employee to CRM:",F);const V=await fetch(`${$M}/addcustomerEmployee/${BM}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});if(!V.ok){const ee=await V.text();throw console.error("CRM API error:",ee),new Error(`Failed to save to CRM: ${V.status}`)}const I=await V.json();console.log("Employee saved to CRM successfully:",I),await r(d),b&&await T(),D()}catch(F){throw console.error("Error adding customer employee:",F),F}finally{_(!1)}}},T=async()=>{console.log(" Creating lead from customer employee data");const O=localStorage.getItem("idToken");if(!O){k({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"});return}const F=localStorage.getItem("user"),V=F?JSON.parse(F)._id:"67daa55d9c4abb36045d5bfe";try{const I={CompanyName:d.customerName,Name:d.customerEmployeeName,CreatedBy:V,Id:`JBDSL-${Date.now().toString().slice(-4)}`};d.email&&(I.Email=d.email),d.mobile&&(I.Mobile=d.mobile),d.designation&&(I.Designation=d.designation),d.department&&(I.Department=d.department),console.log(" Sending lead creation request:",I);const ee=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${O}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(ee.ok){const se=await ee.json();console.log(" Lead created successfully:",se),k({title:"Lead Created",description:`Lead created successfully for ${d.customerEmployeeName} at ${d.customerName}`})}else{const se=await ee.text();console.error(" Failed to create lead:",ee.status,se),k({title:"Failed to Create Lead",description:`Error: ${ee.status}`,variant:"destructive"})}}catch(I){console.error(" Error creating lead:",I),k({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"})}},D=()=>{w||a||(f({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),g({}),S(!1),t())},M=w||a;return o.jsx(Mr,{open:e,onOpenChange:D,children:o.jsxs(dr,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx(pw,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Add New Customer Employee"})]}),o.jsx(mr,{children:c?o.jsxs(o.Fragment,{children:["Create a new employee record for"," ",o.jsxs("span",{className:"font-medium",children:['"',c,'"']}),". The company name has been auto-filled from your current meeting."]}):o.jsx(o.Fragment,{children:"Create a new customer employee record. All fields marked with * are required."})})]}),o.jsxs("form",{onSubmit:C,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{htmlFor:"customerName",className:"text-sm",children:["Customer/Company Name",o.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&o.jsx("span",{className:"text-muted-foreground ml-2 text-xs",children:"(Auto-filled from meeting)"})]}),o.jsx(an,{id:"customerName",type:"text",placeholder:"Enter company/customer name",value:d.customerName,onChange:O=>j("customerName",O.target.value),disabled:M,className:p.customerName?"border-destructive":""}),p.customerName&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(vn,{className:"h-3 w-3"}),o.jsx("span",{children:p.customerName})]}),c&&d.customerName===c&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:['Customer name auto-filled from "',c,'" meeting. You can edit if needed.']})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{htmlFor:"customerEmployeeName",className:"text-sm",children:["Employee Name",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(an,{id:"customerEmployeeName",type:"text",placeholder:"Enter employee full name",value:d.customerEmployeeName,onChange:O=>j("customerEmployeeName",O.target.value),disabled:M,className:p.customerEmployeeName?"border-destructive":""}),p.customerEmployeeName&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(vn,{className:"h-3 w-3"}),o.jsx("span",{children:p.customerEmployeeName})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{htmlFor:"email",className:"text-sm",children:["Email Address",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(an,{id:"email",type:"email",placeholder:"employee@company.com",value:d.email,onChange:O=>j("email",O.target.value),disabled:M,className:p.email?"border-destructive":"",required:!0}),p.email&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(vn,{className:"h-3 w-3"}),o.jsx("span",{children:p.email})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{htmlFor:"mobile",className:"text-sm",children:["Mobile Number",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(an,{id:"mobile",type:"tel",placeholder:"1234567890",value:d.mobile,onChange:O=>j("mobile",O.target.value),disabled:M,className:p.mobile?"border-destructive":"",required:!0}),p.mobile&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(vn,{className:"h-3 w-3"}),o.jsx("span",{children:p.mobile})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{htmlFor:"designation",className:"text-sm",children:["Designation",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(an,{id:"designation",type:"text",placeholder:"e.g., Manager, Director, CEO",value:d.designation,onChange:O=>j("designation",O.target.value),disabled:M,className:p.designation?"border-destructive":""}),p.designation&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(vn,{className:"h-3 w-3"}),o.jsx("span",{children:p.designation})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{htmlFor:"department",className:"text-sm",children:["Department",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(an,{id:"department",type:"text",placeholder:"e.g., Sales, IT, HR, Operations",value:d.department,onChange:O=>j("department",O.target.value),disabled:M,className:p.department?"border-destructive":""}),p.department&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(vn,{className:"h-3 w-3"}),o.jsx("span",{children:p.department})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 pb-2 border-t",children:[o.jsx(Ib,{id:"createLead",checked:b,onCheckedChange:O=>S(O),disabled:M}),o.jsx(Dt,{htmlFor:"createLead",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Create Lead after adding employee"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(Pe,{type:"button",variant:"outline",onClick:D,disabled:M,children:"Cancel"}),o.jsx(Pe,{type:"submit",disabled:M,className:"min-w-[120px]",children:w||a?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Adding..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qr,{className:"h-4 w-4"}),o.jsx("span",{children:"Add Employee"})]})})]})]})]})})}function HM({isOpen:e,onClose:t,onEndMeeting:r,employeeName:a,isLoading:c=!1,currentMeeting:d=null,followUpMeetingData:f=null}){const[p,g]=v.useState({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),[w,_]=v.useState({}),[b,S]=v.useState(!1),[k,P]=v.useState(!1),[j,C]=v.useState([]),[T,D]=v.useState(null),[M,O]=v.useState(null),[F,V]=v.useState(!1),I=v.useRef(null),[ee,se]=v.useState([]),G=v.useRef(null),{toast:Q}=vo();v.useEffect(()=>{if(e&&f){console.log(" Prefilling form with follow-up meeting data:",f);const X={customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};console.log(" Created customer contact from follow-up:",X),C([X]),g(he=>{const ce={...he,customers:[X],customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};return console.log(" Updated formData with customer:",ce),ce}),console.log(" Form prefilled with customer data")}else e&&!f&&console.log(" Modal opened but no followUpMeetingData provided")},[e,f]),v.useEffect(()=>{console.log(" selectedCustomers changed:",j.length,j)},[j]);const pe=()=>{var he;const X={};if(console.log("Validating form with selectedCustomers:",j.length),console.log("Form data customers:",(he=p.customers)==null?void 0:he.length),j.length===0&&(X.customers="Please add at least one customer contact",console.log("Validation failed: No customers selected")),j.forEach((ce,U)=>{if(ce.customerEmail&&ce.customerEmail.trim()!==""&&typeof ce.customerEmail=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ce.customerEmail)&&(X[`customer_${U}_email`]=`Invalid email for ${ce.customerEmployeeName}`,console.log(`Validation failed: Invalid email for customer ${U}`)),ce.customerMobile&&ce.customerMobile.trim()!==""&&typeof ce.customerMobile=="string"&&ce.customerMobile.length>0){const K=ce.customerMobile.replace(/[\s\-\(\)]/g,"");/^\+?\d{7,15}$/.test(K)||(X[`customer_${U}_mobile`]=`Invalid mobile for ${ce.customerEmployeeName}`,console.log(`Validation failed: Invalid mobile for customer ${U}:`,ce.customerMobile))}}),p.discussion.trim()||(X.discussion="Discussion details are required",console.log("Validation failed: No discussion provided")),p.customerEmail&&p.customerEmail.trim()!==""&&typeof p.customerEmail=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.customerEmail)&&(X.customerEmail="Please enter a valid email address"),p.customerMobile&&p.customerMobile.trim()!==""&&typeof p.customerMobile=="string"){const ce=p.customerMobile.replace(/[\s\-\(\)]/g,"");/^\+?\d{7,15}$/.test(ce)||(X.customerMobile="Please enter a valid mobile number")}return console.log("Validation errors:",X),_(X),Object.keys(X).length===0},Oe=(X,he)=>{g(ce=>({...ce,[X]:he})),w[X]&&_(ce=>{const U={...ce};return delete U[X],U})},ve=(X,he)=>{console.log("EndMeetingModal: Customer employee selected:",X),console.log("EndMeetingModal: Customer selected:",he),D(X),O(he);const ce={customerName:he.CustomerCompanyName,customerEmployeeName:X.CustomerEmpName,customerEmail:String(X.Email||""),customerMobile:String(X.Mobile||""),customerDesignation:String(X.Designation||""),customerDepartment:String(X.Department||"")};if(j.some(K=>K.customerName===ce.customerName&&K.customerEmployeeName===ce.customerEmployeeName))console.log("EndMeetingModal: Customer already in list, skipping");else{const K=[...j,ce];C(K),g(we=>{var Te,$e,Ye,Ge,at,Mt;return{...we,customers:K,customerName:((Te=K[0])==null?void 0:Te.customerName)||"",customerEmployeeName:(($e=K[0])==null?void 0:$e.customerEmployeeName)||"",customerEmail:((Ye=K[0])==null?void 0:Ye.customerEmail)||"",customerMobile:((Ge=K[0])==null?void 0:Ge.customerMobile)||"",customerDesignation:((at=K[0])==null?void 0:at.customerDesignation)||"",customerDepartment:((Mt=K[0])==null?void 0:Mt.customerDepartment)||""}}),console.log("EndMeetingModal: Added customer to list:",ce),D(null),O(null)}},de=X=>{const he=j.filter((ce,U)=>U!==X);C(he),g(ce=>{var U,K,we,Te,$e,Ye;return{...ce,customers:he,customerName:((U=he[0])==null?void 0:U.customerName)||"",customerEmployeeName:((K=he[0])==null?void 0:K.customerEmployeeName)||"",customerEmail:((we=he[0])==null?void 0:we.customerEmail)||"",customerMobile:((Te=he[0])==null?void 0:Te.customerMobile)||"",customerDesignation:(($e=he[0])==null?void 0:$e.customerDesignation)||"",customerDepartment:((Ye=he[0])==null?void 0:Ye.customerDepartment)||""}}),console.log("EndMeetingModal: Removed customer from list, remaining:",he.length)},ye=async X=>{try{const ce={_id:`temp_${Date.now()}`,CustomerEmpName:X.customerEmployeeName,Designation:X.designation,Department:X.department,Mobile:X.mobile,Email:X.email},U={_id:`temp_customer_${Date.now()}`,CustomerCompanyName:X.customerName,Employees:[ce],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:X.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};return console.log("Creating new customer employee:",X),console.log("Generated employee object:",ce),console.log("Generated customer object:",U),await new Promise(K=>setTimeout(K,1e3)),I.current?(console.log("Adding temp employee to selector..."),I.current.addTempEmployee(ce,X.customerName,U._id),console.log("Temp employee added to selector")):console.error("customerSelectorRef.current is null!"),setTimeout(()=>{console.log("Auto-selecting newly created employee..."),ve(ce,U)},100),console.log("Customer employee added successfully!"),{employee:ce,customer:U}}catch(he){throw console.error("Error adding customer employee:",he),he}},be=async X=>{X.preventDefault(),console.log(" EndMeetingModal: Form submit triggered"),console.log("EndMeetingModal: Form data before validation:",p),console.log("EndMeetingModal: Selected customers:",j),console.log("EndMeetingModal: Discussion:",p.discussion),console.log("EndMeetingModal: Attached files:",ee.length);const he=pe();if(console.log("EndMeetingModal: Validation result:",he),!he){console.log("EndMeetingModal: Form validation failed with errors:",w);const ce=document.querySelector(".border-destructive");ce&&ce.scrollIntoView({behavior:"smooth",block:"center"});return}console.log(" EndMeetingModal: Validation passed, processing files..."),S(!0);try{const ce=ee.map(we=>new Promise((Te,$e)=>{const Ye=new FileReader;Ye.onload=()=>{const Ge=Ye.result;Te(Ge)},Ye.onerror=$e,Ye.readAsDataURL(we)}));console.log(" Converting files to base64...");const U=await Promise.all(ce);console.log(` Converted ${U.length} files to base64`);const K={...p,attachments:U.length>0?U:void 0};console.log("EndMeetingModal: Calling onEndMeeting with attachments:",{...K,attachments:U.length>0?`${U.length} files`:"none"}),await r(K),console.log(" Meeting ended successfully, clearing temp employees"),I.current&&I.current.clearTempEmployees(),z()}catch(ce){console.error(" Error ending meeting:",ce),Q({title:"Error",description:"Failed to end meeting. Please try again.",variant:"destructive"})}finally{S(!1)}},W=async()=>{if(console.log(" Creating lead from meeting data"),j.length===0){Q({title:"No Customer Selected",description:"Please select at least one customer to create a lead.",variant:"destructive"});return}const X=j[0],he=localStorage.getItem("idToken");if(!he){Q({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"});return}const ce=localStorage.getItem("userId")||"67daa55d9c4abb36045d5bfe";P(!0);try{const U={CompanyName:X.customerName,Name:X.customerEmployeeName,Email:X.customerEmail||"",Mobile:X.customerMobile||"",Designation:X.customerDesignation||"",Department:X.customerDepartment||"purchase",CreatedBy:ce,Id:`JBDSL-${Date.now().toString().slice(-4)}`};console.log(" Sending lead creation request:",U);const K=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${he}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(K.ok){const we=await K.json();console.log(" Lead created successfully:",we),Q({title:"Lead Created",description:`Lead created successfully for ${X.customerEmployeeName} at ${X.customerName}`})}else{const we=await K.text();console.error(" Failed to create lead:",K.status,we),Q({title:"Failed to Create Lead",description:`Error: ${K.status} - ${we.substring(0,100)}`,variant:"destructive"})}}catch(U){console.error(" Error creating lead:",U),Q({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"})}finally{P(!1)}},ge=X=>{const he=X.target.files;if(he&&he.length>0){const ce=Array.from(he),U=5*1024*1024,K=ce.filter(Te=>Te.size>U),we=ce.filter(Te=>Te.size<=U);if(K.length>0){const Te=K.map($e=>`${$e.name} (${($e.size/1024/1024).toFixed(2)} MB)`).join(", ");Q({title:"File Size Limit Exceeded",description:`The following file(s) exceed 5MB limit: ${Te}`,variant:"destructive"}),console.warn(" Oversized files rejected:",K.map($e=>({name:$e.name,size:$e.size})))}if(we.length>0){const Te=ee.reduce((at,Mt)=>at+Mt.size,0),$e=we.reduce((at,Mt)=>at+Mt.size,0),Ye=Te+$e,Ge=10*1024*1024;Ye>Ge?(Q({title:"Total Size Limit Exceeded",description:`Total file size cannot exceed 10MB. Current: ${(Te/1024/1024).toFixed(2)} MB, Adding: ${($e/1024/1024).toFixed(2)} MB`,variant:"destructive"}),console.warn(" Total size limit exceeded:",{currentTotalSize:Te,newTotalSize:$e,totalSize:Ye})):(se(at=>[...at,...we]),console.log(" Files attached:",we.map(at=>({name:at.name,size:`${(at.size/1024).toFixed(2)} KB`}))),Q({title:"Files Attached",description:`${we.length} file(s) attached successfully`}))}}G.current&&(G.current.value="")},ie=X=>{se(he=>he.filter((ce,U)=>U!==X)),console.log(" File removed at index:",X)},z=()=>{if(b||c){console.log(" Cannot close: Form is submitting or loading");return}console.log(" EndMeetingModal: Closing and resetting all state"),g({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),_({}),C([]),D(null),O(null),V(!1),se([]),I.current&&I.current.resetSelection(),t()},J=b||c||k;return o.jsx(Mr,{open:e,onOpenChange:z,children:o.jsxs(dr,{className:"sm:max-w-md  max-h-[90vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx(Tn,{className:"h-5 w-5 text-destructive"}),o.jsx("span",{children:"End Meeting"})]}),o.jsxs(mr,{children:["Complete the meeting for"," ",o.jsx("span",{className:"font-medium",children:a})," by providing customer details and discussion summary."]})]}),o.jsxs("form",{onSubmit:be,className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 py-2 border-b",children:[o.jsx(pf,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Select Customer Employee"})]}),o.jsxs("div",{className:"space-y-4",children:[(d==null?void 0:d.clientName)&&o.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"font-medium",children:["Meeting with: ",d.clientName]})}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Showing employees for this company only"})]}),o.jsx(Mb,{ref:I,onEmployeeSelect:ve,selectedEmployeeId:T==null?void 0:T._id,disabled:J,onAddNewEmployee:()=>V(!0),filterByCompany:d==null?void 0:d.clientName}),w.customers&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(vn,{className:"h-3 w-3"}),o.jsx("span",{children:w.customers})]}),j.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(mf,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium text-sm",children:["Selected Customer Contacts (",j.length,")"]})]}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:j.map((X,he)=>o.jsxs("div",{className:"p-3 border rounded-lg bg-muted/20 relative",children:[o.jsx(Pe,{type:"button",variant:"outline",size:"sm",onClick:()=>de(he),className:"absolute top-2 right-2 h-6 w-6 p-0 text-destructive hover:text-destructive",disabled:J,children:""}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm pr-8",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Company:"}),o.jsx("div",{className:"font-medium",children:X.customerName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("div",{className:"font-medium",children:X.customerEmployeeName})]}),X.customerDesignation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Position:"}),o.jsx("div",{children:X.customerDesignation})]}),X.customerDepartment&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("div",{children:X.customerDepartment})]}),X.customerEmail&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("div",{className:"text-xs",children:X.customerEmail})]}),X.customerMobile&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),o.jsx("div",{className:"text-xs",children:X.customerMobile})]})]})]},he))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{htmlFor:"discussion",className:"text-sm",children:["Discussion Details",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vi,{id:"discussion",placeholder:"Describe what was discussed in the meeting, key points, outcomes, and next steps...",value:p.discussion,onChange:X=>Oe("discussion",X.target.value),disabled:J,rows:4,className:w.discussion?"border-destructive":""}),w.discussion&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(vn,{className:"h-3 w-3"}),o.jsx("span",{children:w.discussion})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"This field is required and will be included in the meeting record."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Dt,{className:"text-sm flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xm,{className:"h-4 w-4"}),o.jsx("span",{children:"Attach Files (Optional)"})]}),o.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"Max 5MB per file"})]}),o.jsx("input",{ref:G,type:"file",multiple:!0,onChange:ge,disabled:J,className:"hidden",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx"}),o.jsxs(Pe,{type:"button",variant:"outline",onClick:()=>{var X;return(X=G.current)==null?void 0:X.click()},disabled:J,className:"w-full",children:[o.jsx(xm,{className:"h-4 w-4 mr-2"}),"Choose Files"]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Supported: Images, PDF, DOC, DOCX, XLS, XLSX  Max 5MB per file  Max 10MB total"}),ee.length>0&&o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center justify-between",children:[o.jsxs("span",{children:[ee.length," file(s) attached"]}),o.jsxs("span",{children:["Total: ",(ee.reduce((X,he)=>X+he.size,0)/1024/1024).toFixed(2)," MB"]})]}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:ee.map((X,he)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded bg-muted/20",children:[o.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[o.jsx(xm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-xs truncate",title:X.name,children:X.name}),o.jsxs("span",{className:"text-xs text-muted-foreground flex-shrink-0",children:["(",(X.size/1024).toFixed(1)," KB)"]})]}),o.jsx(Pe,{type:"button",variant:"ghost",size:"sm",onClick:()=>ie(he),disabled:J,className:"h-6 w-6 p-0 ml-2 flex-shrink-0",children:o.jsx(ru,{className:"h-3 w-3"})})]},he))})]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-4",children:[o.jsx(Pe,{type:"button",variant:"outline",onClick:W,disabled:J||j.length===0,className:"min-w-[120px]",children:k?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),o.jsx("span",{children:"Creating..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(pw,{className:"h-4 w-4"}),o.jsx("span",{children:"Create Lead"})]})}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(Pe,{type:"button",variant:"outline",onClick:z,disabled:J,children:"Cancel"}),o.jsx(Pe,{type:"submit",variant:"destructive",disabled:J,className:"min-w-[120px]",children:b||c?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Ending..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qr,{className:"h-4 w-4"}),o.jsx("span",{children:"End Meeting"})]})})]})]})]}),o.jsx(UM,{isOpen:F,onClose:()=>V(!1),onAddEmployee:ye,isLoading:c,defaultCustomerName:d==null?void 0:d.clientName})]})})}function WM({employee:e,trackingSession:t,meetings:r,isOpen:a,onClose:c,onSnapshotCreated:d}){const[f,p]=v.useState(""),[g,w]=v.useState(""),[_,b]=v.useState(!1),{toast:S}=vo();v.useEffect(()=>{if(a&&!f){const D=new Date,M=D.toLocaleDateString(),O=D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});p(`${e.name} Route - ${M} ${O}`)}},[a,e.name,f]);const k=()=>{const D=[];if(t!=null&&t.route&&D.push(...t.route),r.forEach(V=>{D.push(V.location)}),D.push(e.location),D.length===0)return{north:e.location.lat+.01,south:e.location.lat-.01,east:e.location.lng+.01,west:e.location.lng-.01};const M=D.map(V=>V.lat),O=D.map(V=>V.lng),F=.005;return{north:Math.max(...M)+F,south:Math.min(...M)-F,east:Math.max(...O)+F,west:Math.min(...O)-F}},P=()=>r.map(D=>({id:D.id,location:D.location,clientName:D.clientName,startTime:D.startTime,endTime:D.endTime,status:D.status})),j=async()=>{if(!f.trim()){S({title:"Title Required",description:"Please enter a title for the snapshot",variant:"destructive"});return}b(!0);try{const D={employeeId:e.id,employeeName:e.name,trackingSessionId:t==null?void 0:t.id,title:f.trim(),description:g.trim()||void 0,startLocation:(t==null?void 0:t.startLocation)||e.location,endLocation:t==null?void 0:t.endLocation,route:(t==null?void 0:t.route)||[e.location],meetings:P(),totalDistance:(t==null?void 0:t.totalDistance)||0,duration:t==null?void 0:t.duration,status:(t==null?void 0:t.status)||"active",mapBounds:k()},M=await ht.post("/api/route-snapshots",D);if(M.ok){const O=await M.json();S({title:"Snapshot Created",description:"Route snapshot has been saved successfully"}),d==null||d(O),c(),p(""),w("")}else throw new Error("Failed to create snapshot")}catch(D){console.error("Error creating snapshot:",D),S({title:"Error",description:"Failed to create route snapshot. Please try again.",variant:"destructive"})}finally{b(!1)}},T=(()=>{var V;const D=((V=t==null?void 0:t.route)==null?void 0:V.length)||1,M=(t==null?void 0:t.totalDistance)||0,O=r.length,F=t==null?void 0:t.duration;return{routePoints:D,totalDistance:M,meetingCount:O,duration:F}})();return o.jsx(Mr,{open:a,onOpenChange:c,children:o.jsxs(dr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center gap-2",children:[o.jsx(Hm,{className:"h-5 w-5"}),"Create Manual Route Snapshot"]}),o.jsxs(mr,{children:["Manually capture and save ",e.name,"'s current route and meeting locations for historical reference. Note: Routes are also automatically captured when tracking stops."]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"title",children:"Route Title *"}),o.jsx(an,{id:"title",value:f,onChange:D=>p(D.target.value),placeholder:"Enter a descriptive title for this snapshot",className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Dt,{htmlFor:"description",children:"Description (Optional)"}),o.jsx(vi,{id:"description",value:g,onChange:D=>w(D.target.value),placeholder:"Add any additional notes about this route snapshot",className:"w-full",rows:3})]})]}),o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsx(kt,{className:"text-lg",children:"Route Summary"})}),o.jsxs(ft,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(na,{className:"h-4 w-4"}),"Route Points"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.routePoints})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Jn,{className:"h-4 w-4"}),"Total Distance"]}),o.jsxs("div",{className:"text-2xl font-bold",children:[(T.totalDistance/1e3).toFixed(1)," km"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Kr,{className:"h-4 w-4"}),"Meetings"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.meetingCount})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Tn,{className:"h-4 w-4"}),"Duration"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.duration?`${Math.floor(T.duration/60)}m`:"Active"})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Current Location"}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Jn,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",children:e.location.address}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.location.lat.toFixed(6),", ",e.location.lng.toFixed(6)]})]})]})]})}),t&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Tracking Session"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Pt,{variant:"secondary",className:t.status==="active"?"bg-success text-success-foreground":"bg-muted text-muted-foreground",children:t.status}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(t.startTime).toLocaleString()]})]})]})}),r.length>0&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Meetings in Snapshot"}),o.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[r.slice(0,3).map(D=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:D.clientName||"Unknown Client"}),o.jsx(Pt,{variant:"outline",className:"text-xs",children:D.status})]},D.id)),r.length>3&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.length-3," more meetings"]})]})]})})]})]})]}),o.jsxs(ca,{children:[o.jsx(Pe,{variant:"outline",onClick:c,disabled:_,children:"Cancel"}),o.jsx(Pe,{onClick:j,disabled:_,children:_?o.jsxs(o.Fragment,{children:[o.jsx(Nl,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Snapshot..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Wm,{className:"h-4 w-4 mr-2"}),"Save Route"]})})]})]})})}function Fb(e,t){return function(){return e.apply(t,arguments)}}const{toString:VM}=Object.prototype,{getPrototypeOf:og}=Object,{iterator:Af,toStringTag:zb}=Symbol,Df=(e=>t=>{const r=VM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),gs=e=>(e=e.toLowerCase(),t=>Df(t)===e),Of=e=>t=>typeof t===e,{isArray:Ll}=Array,Xc=Of("undefined");function lu(e){return e!==null&&!Xc(e)&&e.constructor!==null&&!Xc(e.constructor)&&cr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $b=gs("ArrayBuffer");function ZM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$b(e.buffer),t}const qM=Of("string"),cr=Of("function"),Bb=Of("number"),cu=e=>e!==null&&typeof e=="object",GM=e=>e===!0||e===!1,Vd=e=>{if(Df(e)!=="object")return!1;const t=og(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zb in e)&&!(Af in e)},YM=e=>{if(!cu(e)||lu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},KM=gs("Date"),XM=gs("File"),QM=gs("Blob"),JM=gs("FileList"),eR=e=>cu(e)&&cr(e.pipe),tR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||cr(e.append)&&((t=Df(e))==="formdata"||t==="object"&&cr(e.toString)&&e.toString()==="[object FormData]"))},nR=gs("URLSearchParams"),[rR,sR,oR,iR]=["ReadableStream","Request","Response","Headers"].map(gs),aR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),Ll(e))for(a=0,c=e.length;a<c;a++)t.call(null,e[a],a,e);else{if(lu(e))return;const d=r?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let p;for(a=0;a<f;a++)p=d[a],t.call(null,e[p],p,e)}}function Ub(e,t){if(lu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,c;for(;a-- >0;)if(c=r[a],t===c.toLowerCase())return c;return null}const Xi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hb=e=>!Xc(e)&&e!==Xi;function mp(){const{caseless:e}=Hb(this)&&this||{},t={},r=(a,c)=>{const d=e&&Ub(t,c)||c;Vd(t[d])&&Vd(a)?t[d]=mp(t[d],a):Vd(a)?t[d]=mp({},a):Ll(a)?t[d]=a.slice():t[d]=a};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&uu(arguments[a],r);return t}const lR=(e,t,r,{allOwnKeys:a}={})=>(uu(t,(c,d)=>{r&&cr(c)?e[d]=Fb(c,r):e[d]=c},{allOwnKeys:a}),e),cR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),uR=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},dR=(e,t,r,a)=>{let c,d,f;const p={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)f=c[d],(!a||a(f,e,t))&&!p[f]&&(t[f]=e[f],p[f]=!0);e=r!==!1&&og(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},fR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},hR=e=>{if(!e)return null;if(Ll(e))return e;let t=e.length;if(!Bb(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},mR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&og(Uint8Array)),pR=(e,t)=>{const a=(e&&e[Af]).call(e);let c;for(;(c=a.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},gR=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},vR=gs("HTMLFormElement"),xR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,c){return a.toUpperCase()+c}),ay=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),yR=gs("RegExp"),Wb=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};uu(r,(c,d)=>{let f;(f=t(c,d,e))!==!1&&(a[d]=f||c)}),Object.defineProperties(e,a)},wR=e=>{Wb(e,(t,r)=>{if(cr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(cr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_R=(e,t)=>{const r={},a=c=>{c.forEach(d=>{r[d]=!0})};return Ll(e)?a(e):a(String(e).split(t)),r},bR=()=>{},NR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function SR(e){return!!(e&&cr(e.append)&&e[zb]==="FormData"&&e[Af])}const jR=e=>{const t=new Array(10),r=(a,c)=>{if(cu(a)){if(t.indexOf(a)>=0)return;if(lu(a))return a;if(!("toJSON"in a)){t[c]=a;const d=Ll(a)?[]:{};return uu(a,(f,p)=>{const g=r(f,c+1);!Xc(g)&&(d[p]=g)}),t[c]=void 0,d}}return a};return r(e,0)},ER=gs("AsyncFunction"),CR=e=>e&&(cu(e)||cr(e))&&cr(e.then)&&cr(e.catch),Vb=((e,t)=>e?setImmediate:t?((r,a)=>(Xi.addEventListener("message",({source:c,data:d})=>{c===Xi&&d===r&&a.length&&a.shift()()},!1),c=>{a.push(c),Xi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",cr(Xi.postMessage)),PR=typeof queueMicrotask<"u"?queueMicrotask.bind(Xi):typeof process<"u"&&process.nextTick||Vb,TR=e=>e!=null&&cr(e[Af]),xe={isArray:Ll,isArrayBuffer:$b,isBuffer:lu,isFormData:tR,isArrayBufferView:ZM,isString:qM,isNumber:Bb,isBoolean:GM,isObject:cu,isPlainObject:Vd,isEmptyObject:YM,isReadableStream:rR,isRequest:sR,isResponse:oR,isHeaders:iR,isUndefined:Xc,isDate:KM,isFile:XM,isBlob:QM,isRegExp:yR,isFunction:cr,isStream:eR,isURLSearchParams:nR,isTypedArray:mR,isFileList:JM,forEach:uu,merge:mp,extend:lR,trim:aR,stripBOM:cR,inherits:uR,toFlatObject:dR,kindOf:Df,kindOfTest:gs,endsWith:fR,toArray:hR,forEachEntry:pR,matchAll:gR,isHTMLForm:vR,hasOwnProperty:ay,hasOwnProp:ay,reduceDescriptors:Wb,freezeMethods:wR,toObjectSet:_R,toCamelCase:xR,noop:bR,toFiniteNumber:NR,findKey:Ub,global:Xi,isContextDefined:Hb,isSpecCompliantForm:SR,toJSONObject:jR,isAsyncFn:ER,isThenable:CR,setImmediate:Vb,asap:PR,isIterable:TR};function jt(e,t,r,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),c&&(this.response=c,this.status=c.status?c.status:null)}xe.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const Zb=jt.prototype,qb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qb[e]={value:e}});Object.defineProperties(jt,qb);Object.defineProperty(Zb,"isAxiosError",{value:!0});jt.from=(e,t,r,a,c,d)=>{const f=Object.create(Zb);return xe.toFlatObject(e,f,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),jt.call(f,e.message,t,r,a,c),f.cause=e,f.name=e.name,d&&Object.assign(f,d),f};const kR=null;function pp(e){return xe.isPlainObject(e)||xe.isArray(e)}function Gb(e){return xe.endsWith(e,"[]")?e.slice(0,-2):e}function ly(e,t,r){return e?e.concat(t).map(function(c,d){return c=Gb(c),!r&&d?"["+c+"]":c}).join(r?".":""):t}function MR(e){return xe.isArray(e)&&!e.some(pp)}const RR=xe.toFlatObject(xe,{},null,function(t){return/^is[A-Z]/.test(t)});function If(e,t,r){if(!xe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=xe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,C){return!xe.isUndefined(C[j])});const a=r.metaTokens,c=r.visitor||_,d=r.dots,f=r.indexes,g=(r.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(t);if(!xe.isFunction(c))throw new TypeError("visitor must be a function");function w(P){if(P===null)return"";if(xe.isDate(P))return P.toISOString();if(xe.isBoolean(P))return P.toString();if(!g&&xe.isBlob(P))throw new jt("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(P)||xe.isTypedArray(P)?g&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function _(P,j,C){let T=P;if(P&&!C&&typeof P=="object"){if(xe.endsWith(j,"{}"))j=a?j:j.slice(0,-2),P=JSON.stringify(P);else if(xe.isArray(P)&&MR(P)||(xe.isFileList(P)||xe.endsWith(j,"[]"))&&(T=xe.toArray(P)))return j=Gb(j),T.forEach(function(M,O){!(xe.isUndefined(M)||M===null)&&t.append(f===!0?ly([j],O,d):f===null?j:j+"[]",w(M))}),!1}return pp(P)?!0:(t.append(ly(C,j,d),w(P)),!1)}const b=[],S=Object.assign(RR,{defaultVisitor:_,convertValue:w,isVisitable:pp});function k(P,j){if(!xe.isUndefined(P)){if(b.indexOf(P)!==-1)throw Error("Circular reference detected in "+j.join("."));b.push(P),xe.forEach(P,function(T,D){(!(xe.isUndefined(T)||T===null)&&c.call(t,T,xe.isString(D)?D.trim():D,j,S))===!0&&k(T,j?j.concat(D):[D])}),b.pop()}}if(!xe.isObject(e))throw new TypeError("data must be an object");return k(e),t}function cy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function ig(e,t){this._pairs=[],e&&If(e,this,t)}const Yb=ig.prototype;Yb.append=function(t,r){this._pairs.push([t,r])};Yb.toString=function(t){const r=t?function(a){return t.call(this,a,cy)}:cy;return this._pairs.map(function(c){return r(c[0])+"="+r(c[1])},"").join("&")};function LR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Kb(e,t,r){if(!t)return e;const a=r&&r.encode||LR;xe.isFunction(r)&&(r={serialize:r});const c=r&&r.serialize;let d;if(c?d=c(t,r):d=xe.isURLSearchParams(t)?t.toString():new ig(t,r).toString(a),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class uy{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){xe.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Xb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AR=typeof URLSearchParams<"u"?URLSearchParams:ig,DR=typeof FormData<"u"?FormData:null,OR=typeof Blob<"u"?Blob:null,IR={isBrowser:!0,classes:{URLSearchParams:AR,FormData:DR,Blob:OR},protocols:["http","https","file","blob","url","data"]},ag=typeof window<"u"&&typeof document<"u",gp=typeof navigator=="object"&&navigator||void 0,FR=ag&&(!gp||["ReactNative","NativeScript","NS"].indexOf(gp.product)<0),zR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$R=ag&&window.location.href||"http://localhost",BR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ag,hasStandardBrowserEnv:FR,hasStandardBrowserWebWorkerEnv:zR,navigator:gp,origin:$R},Symbol.toStringTag,{value:"Module"})),Vn={...BR,...IR};function UR(e,t){return If(e,new Vn.classes.URLSearchParams,{visitor:function(r,a,c,d){return Vn.isNode&&xe.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function HR(e){return xe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function WR(e){const t={},r=Object.keys(e);let a;const c=r.length;let d;for(a=0;a<c;a++)d=r[a],t[d]=e[d];return t}function Qb(e){function t(r,a,c,d){let f=r[d++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),g=d>=r.length;return f=!f&&xe.isArray(c)?c.length:f,g?(xe.hasOwnProp(c,f)?c[f]=[c[f],a]:c[f]=a,!p):((!c[f]||!xe.isObject(c[f]))&&(c[f]=[]),t(r,a,c[f],d)&&xe.isArray(c[f])&&(c[f]=WR(c[f])),!p)}if(xe.isFormData(e)&&xe.isFunction(e.entries)){const r={};return xe.forEachEntry(e,(a,c)=>{t(HR(a),c,r,0)}),r}return null}function VR(e,t,r){if(xe.isString(e))try{return(t||JSON.parse)(e),xe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const du={transitional:Xb,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",c=a.indexOf("application/json")>-1,d=xe.isObject(t);if(d&&xe.isHTMLForm(t)&&(t=new FormData(t)),xe.isFormData(t))return c?JSON.stringify(Qb(t)):t;if(xe.isArrayBuffer(t)||xe.isBuffer(t)||xe.isStream(t)||xe.isFile(t)||xe.isBlob(t)||xe.isReadableStream(t))return t;if(xe.isArrayBufferView(t))return t.buffer;if(xe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return UR(t,this.formSerializer).toString();if((p=xe.isFileList(t))||a.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return If(p?{"files[]":t}:t,g&&new g,this.formSerializer)}}return d||c?(r.setContentType("application/json",!1),VR(t)):t}],transformResponse:[function(t){const r=this.transitional||du.transitional,a=r&&r.forcedJSONParsing,c=this.responseType==="json";if(xe.isResponse(t)||xe.isReadableStream(t))return t;if(t&&xe.isString(t)&&(a&&!this.responseType||c)){const f=!(r&&r.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(p){if(f)throw p.name==="SyntaxError"?jt.from(p,jt.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vn.classes.FormData,Blob:Vn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],e=>{du.headers[e]={}});const ZR=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qR=e=>{const t={};let r,a,c;return e&&e.split(`
`).forEach(function(f){c=f.indexOf(":"),r=f.substring(0,c).trim().toLowerCase(),a=f.substring(c+1).trim(),!(!r||t[r]&&ZR[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},dy=Symbol("internals");function kc(e){return e&&String(e).trim().toLowerCase()}function Zd(e){return e===!1||e==null?e:xe.isArray(e)?e.map(Zd):String(e)}function GR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const YR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Dm(e,t,r,a,c){if(xe.isFunction(a))return a.call(this,t,r);if(c&&(t=r),!!xe.isString(t)){if(xe.isString(a))return t.indexOf(a)!==-1;if(xe.isRegExp(a))return a.test(t)}}function KR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function XR(e,t){const r=xe.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(c,d,f){return this[a].call(this,t,c,d,f)},configurable:!0})})}let ur=class{constructor(t){t&&this.set(t)}set(t,r,a){const c=this;function d(p,g,w){const _=kc(g);if(!_)throw new Error("header name must be a non-empty string");const b=xe.findKey(c,_);(!b||c[b]===void 0||w===!0||w===void 0&&c[b]!==!1)&&(c[b||g]=Zd(p))}const f=(p,g)=>xe.forEach(p,(w,_)=>d(w,_,g));if(xe.isPlainObject(t)||t instanceof this.constructor)f(t,r);else if(xe.isString(t)&&(t=t.trim())&&!YR(t))f(qR(t),r);else if(xe.isObject(t)&&xe.isIterable(t)){let p={},g,w;for(const _ of t){if(!xe.isArray(_))throw TypeError("Object iterator must return a key-value pair");p[w=_[0]]=(g=p[w])?xe.isArray(g)?[...g,_[1]]:[g,_[1]]:_[1]}f(p,r)}else t!=null&&d(r,t,a);return this}get(t,r){if(t=kc(t),t){const a=xe.findKey(this,t);if(a){const c=this[a];if(!r)return c;if(r===!0)return GR(c);if(xe.isFunction(r))return r.call(this,c,a);if(xe.isRegExp(r))return r.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=kc(t),t){const a=xe.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Dm(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let c=!1;function d(f){if(f=kc(f),f){const p=xe.findKey(a,f);p&&(!r||Dm(a,a[p],p,r))&&(delete a[p],c=!0)}}return xe.isArray(t)?t.forEach(d):d(t),c}clear(t){const r=Object.keys(this);let a=r.length,c=!1;for(;a--;){const d=r[a];(!t||Dm(this,this[d],d,t,!0))&&(delete this[d],c=!0)}return c}normalize(t){const r=this,a={};return xe.forEach(this,(c,d)=>{const f=xe.findKey(a,d);if(f){r[f]=Zd(c),delete r[d];return}const p=t?KR(d):String(d).trim();p!==d&&delete r[d],r[p]=Zd(c),a[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return xe.forEach(this,(a,c)=>{a!=null&&a!==!1&&(r[c]=t&&xe.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(c=>a.set(c)),a}static accessor(t){const a=(this[dy]=this[dy]={accessors:{}}).accessors,c=this.prototype;function d(f){const p=kc(f);a[p]||(XR(c,f),a[p]=!0)}return xe.isArray(t)?t.forEach(d):d(t),this}};ur.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(ur.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});xe.freezeMethods(ur);function Om(e,t){const r=this||du,a=t||r,c=ur.from(a.headers);let d=a.data;return xe.forEach(e,function(p){d=p.call(r,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function Jb(e){return!!(e&&e.__CANCEL__)}function Al(e,t,r){jt.call(this,e??"canceled",jt.ERR_CANCELED,t,r),this.name="CanceledError"}xe.inherits(Al,jt,{__CANCEL__:!0});function e1(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new jt("Request failed with status code "+r.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function QR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function JR(e,t){e=e||10;const r=new Array(e),a=new Array(e);let c=0,d=0,f;return t=t!==void 0?t:1e3,function(g){const w=Date.now(),_=a[d];f||(f=w),r[c]=g,a[c]=w;let b=d,S=0;for(;b!==c;)S+=r[b++],b=b%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),w-f<t)return;const k=_&&w-_;return k?Math.round(S*1e3/k):void 0}}function eL(e,t){let r=0,a=1e3/t,c,d;const f=(w,_=Date.now())=>{r=_,c=null,d&&(clearTimeout(d),d=null),e(...w)};return[(...w)=>{const _=Date.now(),b=_-r;b>=a?f(w,_):(c=w,d||(d=setTimeout(()=>{d=null,f(c)},a-b)))},()=>c&&f(c)]}const af=(e,t,r=3)=>{let a=0;const c=JR(50,250);return eL(d=>{const f=d.loaded,p=d.lengthComputable?d.total:void 0,g=f-a,w=c(g),_=f<=p;a=f;const b={loaded:f,total:p,progress:p?f/p:void 0,bytes:g,rate:w||void 0,estimated:w&&p&&_?(p-f)/w:void 0,event:d,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(b)},r)},fy=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},hy=e=>(...t)=>xe.asap(()=>e(...t)),tL=Vn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Vn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Vn.origin),Vn.navigator&&/(msie|trident)/i.test(Vn.navigator.userAgent)):()=>!0,nL=Vn.hasStandardBrowserEnv?{write(e,t,r,a,c,d){const f=[e+"="+encodeURIComponent(t)];xe.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),xe.isString(a)&&f.push("path="+a),xe.isString(c)&&f.push("domain="+c),d===!0&&f.push("secure"),document.cookie=f.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function sL(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function t1(e,t,r){let a=!rL(t);return e&&(a||r==!1)?sL(e,t):t}const my=e=>e instanceof ur?{...e}:e;function da(e,t){t=t||{};const r={};function a(w,_,b,S){return xe.isPlainObject(w)&&xe.isPlainObject(_)?xe.merge.call({caseless:S},w,_):xe.isPlainObject(_)?xe.merge({},_):xe.isArray(_)?_.slice():_}function c(w,_,b,S){if(xe.isUndefined(_)){if(!xe.isUndefined(w))return a(void 0,w,b,S)}else return a(w,_,b,S)}function d(w,_){if(!xe.isUndefined(_))return a(void 0,_)}function f(w,_){if(xe.isUndefined(_)){if(!xe.isUndefined(w))return a(void 0,w)}else return a(void 0,_)}function p(w,_,b){if(b in t)return a(w,_);if(b in e)return a(void 0,w)}const g={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(w,_,b)=>c(my(w),my(_),b,!0)};return xe.forEach(Object.keys({...e,...t}),function(_){const b=g[_]||c,S=b(e[_],t[_],_);xe.isUndefined(S)&&b!==p||(r[_]=S)}),r}const n1=e=>{const t=da({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:p}=t;t.headers=f=ur.from(f),t.url=Kb(t1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let g;if(xe.isFormData(r)){if(Vn.hasStandardBrowserEnv||Vn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((g=f.getContentType())!==!1){const[w,..._]=g?g.split(";").map(b=>b.trim()).filter(Boolean):[];f.setContentType([w||"multipart/form-data",..._].join("; "))}}if(Vn.hasStandardBrowserEnv&&(a&&xe.isFunction(a)&&(a=a(t)),a||a!==!1&&tL(t.url))){const w=c&&d&&nL.read(d);w&&f.set(c,w)}return t},oL=typeof XMLHttpRequest<"u",iL=oL&&function(e){return new Promise(function(r,a){const c=n1(e);let d=c.data;const f=ur.from(c.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:w}=c,_,b,S,k,P;function j(){k&&k(),P&&P(),c.cancelToken&&c.cancelToken.unsubscribe(_),c.signal&&c.signal.removeEventListener("abort",_)}let C=new XMLHttpRequest;C.open(c.method.toUpperCase(),c.url,!0),C.timeout=c.timeout;function T(){if(!C)return;const M=ur.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),F={data:!p||p==="text"||p==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:e,request:C};e1(function(I){r(I),j()},function(I){a(I),j()},F),C=null}"onloadend"in C?C.onloadend=T:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(T)},C.onabort=function(){C&&(a(new jt("Request aborted",jt.ECONNABORTED,e,C)),C=null)},C.onerror=function(){a(new jt("Network Error",jt.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let O=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const F=c.transitional||Xb;c.timeoutErrorMessage&&(O=c.timeoutErrorMessage),a(new jt(O,F.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,e,C)),C=null},d===void 0&&f.setContentType(null),"setRequestHeader"in C&&xe.forEach(f.toJSON(),function(O,F){C.setRequestHeader(F,O)}),xe.isUndefined(c.withCredentials)||(C.withCredentials=!!c.withCredentials),p&&p!=="json"&&(C.responseType=c.responseType),w&&([S,P]=af(w,!0),C.addEventListener("progress",S)),g&&C.upload&&([b,k]=af(g),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",k)),(c.cancelToken||c.signal)&&(_=M=>{C&&(a(!M||M.type?new Al(null,e,C):M),C.abort(),C=null)},c.cancelToken&&c.cancelToken.subscribe(_),c.signal&&(c.signal.aborted?_():c.signal.addEventListener("abort",_)));const D=QR(c.url);if(D&&Vn.protocols.indexOf(D)===-1){a(new jt("Unsupported protocol "+D+":",jt.ERR_BAD_REQUEST,e));return}C.send(d||null)})},aL=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,c;const d=function(w){if(!c){c=!0,p();const _=w instanceof Error?w:this.reason;a.abort(_ instanceof jt?_:new Al(_ instanceof Error?_.message:_))}};let f=t&&setTimeout(()=>{f=null,d(new jt(`timeout ${t} of ms exceeded`,jt.ETIMEDOUT))},t);const p=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(w=>{w.unsubscribe?w.unsubscribe(d):w.removeEventListener("abort",d)}),e=null)};e.forEach(w=>w.addEventListener("abort",d));const{signal:g}=a;return g.unsubscribe=()=>xe.asap(p),g}},lL=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,c;for(;a<r;)c=a+t,yield e.slice(a,c),a=c},cL=async function*(e,t){for await(const r of uL(e))yield*lL(r,t)},uL=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},py=(e,t,r,a)=>{const c=cL(e,t);let d=0,f,p=g=>{f||(f=!0,a&&a(g))};return new ReadableStream({async pull(g){try{const{done:w,value:_}=await c.next();if(w){p(),g.close();return}let b=_.byteLength;if(r){let S=d+=b;r(S)}g.enqueue(new Uint8Array(_))}catch(w){throw p(w),w}},cancel(g){return p(g),c.return()}},{highWaterMark:2})},Ff=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",r1=Ff&&typeof ReadableStream=="function",dL=Ff&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),s1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},fL=r1&&s1(()=>{let e=!1;const t=new Request(Vn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),gy=64*1024,vp=r1&&s1(()=>xe.isReadableStream(new Response("").body)),lf={stream:vp&&(e=>e.body)};Ff&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!lf[t]&&(lf[t]=xe.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new jt(`Response type '${t}' is not supported`,jt.ERR_NOT_SUPPORT,a)})})})(new Response);const hL=async e=>{if(e==null)return 0;if(xe.isBlob(e))return e.size;if(xe.isSpecCompliantForm(e))return(await new Request(Vn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(e)||xe.isArrayBuffer(e))return e.byteLength;if(xe.isURLSearchParams(e)&&(e=e+""),xe.isString(e))return(await dL(e)).byteLength},mL=async(e,t)=>{const r=xe.toFiniteNumber(e.getContentLength());return r??hL(t)},pL=Ff&&(async e=>{let{url:t,method:r,data:a,signal:c,cancelToken:d,timeout:f,onDownloadProgress:p,onUploadProgress:g,responseType:w,headers:_,withCredentials:b="same-origin",fetchOptions:S}=n1(e);w=w?(w+"").toLowerCase():"text";let k=aL([c,d&&d.toAbortSignal()],f),P;const j=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let C;try{if(g&&fL&&r!=="get"&&r!=="head"&&(C=await mL(_,a))!==0){let F=new Request(t,{method:"POST",body:a,duplex:"half"}),V;if(xe.isFormData(a)&&(V=F.headers.get("content-type"))&&_.setContentType(V),F.body){const[I,ee]=fy(C,af(hy(g)));a=py(F.body,gy,I,ee)}}xe.isString(b)||(b=b?"include":"omit");const T="credentials"in Request.prototype;P=new Request(t,{...S,signal:k,method:r.toUpperCase(),headers:_.normalize().toJSON(),body:a,duplex:"half",credentials:T?b:void 0});let D=await fetch(P,S);const M=vp&&(w==="stream"||w==="response");if(vp&&(p||M&&j)){const F={};["status","statusText","headers"].forEach(se=>{F[se]=D[se]});const V=xe.toFiniteNumber(D.headers.get("content-length")),[I,ee]=p&&fy(V,af(hy(p),!0))||[];D=new Response(py(D.body,gy,I,()=>{ee&&ee(),j&&j()}),F)}w=w||"text";let O=await lf[xe.findKey(lf,w)||"text"](D,e);return!M&&j&&j(),await new Promise((F,V)=>{e1(F,V,{data:O,headers:ur.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:P})})}catch(T){throw j&&j(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new jt("Network Error",jt.ERR_NETWORK,e,P),{cause:T.cause||T}):jt.from(T,T&&T.code,e,P)}}),xp={http:kR,xhr:iL,fetch:pL};xe.forEach(xp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const vy=e=>`- ${e}`,gL=e=>xe.isFunction(e)||e===null||e===!1,o1={getAdapter:e=>{e=xe.isArray(e)?e:[e];const{length:t}=e;let r,a;const c={};for(let d=0;d<t;d++){r=e[d];let f;if(a=r,!gL(r)&&(a=xp[(f=String(r)).toLowerCase()],a===void 0))throw new jt(`Unknown adapter '${f}'`);if(a)break;c[f||"#"+d]=a}if(!a){const d=Object.entries(c).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=t?d.length>1?`since :
`+d.map(vy).join(`
`):" "+vy(d[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a},adapters:xp};function Im(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Al(null,e)}function xy(e){return Im(e),e.headers=ur.from(e.headers),e.data=Om.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),o1.getAdapter(e.adapter||du.adapter)(e).then(function(a){return Im(e),a.data=Om.call(e,e.transformResponse,a),a.headers=ur.from(a.headers),a},function(a){return Jb(a)||(Im(e),a&&a.response&&(a.response.data=Om.call(e,e.transformResponse,a.response),a.response.headers=ur.from(a.response.headers))),Promise.reject(a)})}const i1="1.11.0",zf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{zf[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const yy={};zf.transitional=function(t,r,a){function c(d,f){return"[Axios v"+i1+"] Transitional option '"+d+"'"+f+(a?". "+a:"")}return(d,f,p)=>{if(t===!1)throw new jt(c(f," has been removed"+(r?" in "+r:"")),jt.ERR_DEPRECATED);return r&&!yy[f]&&(yy[f]=!0,console.warn(c(f," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(d,f,p):!0}};zf.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function vL(e,t,r){if(typeof e!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const d=a[c],f=t[d];if(f){const p=e[d],g=p===void 0||f(p,d,e);if(g!==!0)throw new jt("option "+d+" must be "+g,jt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new jt("Unknown option "+d,jt.ERR_BAD_OPTION)}}const qd={assertOptions:vL,validators:zf},Rs=qd.validators;let oa=class{constructor(t){this.defaults=t||{},this.interceptors={request:new uy,response:new uy}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=da(this.defaults,r);const{transitional:a,paramsSerializer:c,headers:d}=r;a!==void 0&&qd.assertOptions(a,{silentJSONParsing:Rs.transitional(Rs.boolean),forcedJSONParsing:Rs.transitional(Rs.boolean),clarifyTimeoutError:Rs.transitional(Rs.boolean)},!1),c!=null&&(xe.isFunction(c)?r.paramsSerializer={serialize:c}:qd.assertOptions(c,{encode:Rs.function,serialize:Rs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),qd.assertOptions(r,{baseUrl:Rs.spelling("baseURL"),withXsrfToken:Rs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=d&&xe.merge(d.common,d[r.method]);d&&xe.forEach(["delete","get","head","post","put","patch","common"],P=>{delete d[P]}),r.headers=ur.concat(f,d);const p=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(g=g&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const w=[];this.interceptors.response.forEach(function(j){w.push(j.fulfilled,j.rejected)});let _,b=0,S;if(!g){const P=[xy.bind(this),void 0];for(P.unshift(...p),P.push(...w),S=P.length,_=Promise.resolve(r);b<S;)_=_.then(P[b++],P[b++]);return _}S=p.length;let k=r;for(b=0;b<S;){const P=p[b++],j=p[b++];try{k=P(k)}catch(C){j.call(this,C);break}}try{_=xy.call(this,k)}catch(P){return Promise.reject(P)}for(b=0,S=w.length;b<S;)_=_.then(w[b++],w[b++]);return _}getUri(t){t=da(this.defaults,t);const r=t1(t.baseURL,t.url,t.allowAbsoluteUrls);return Kb(r,t.params,t.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(t){oa.prototype[t]=function(r,a){return this.request(da(a||{},{method:t,url:r,data:(a||{}).data}))}});xe.forEach(["post","put","patch"],function(t){function r(a){return function(d,f,p){return this.request(da(p||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}oa.prototype[t]=r(),oa.prototype[t+"Form"]=r(!0)});let xL=class a1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(c=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](c);a._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(p=>{a.subscribe(p),d=p}).then(c);return f.cancel=function(){a.unsubscribe(d)},f},t(function(d,f,p){a.reason||(a.reason=new Al(d,f,p),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new a1(function(c){t=c}),cancel:t}}};function yL(e){return function(r){return e.apply(null,r)}}function wL(e){return xe.isObject(e)&&e.isAxiosError===!0}const yp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yp).forEach(([e,t])=>{yp[t]=e});function l1(e){const t=new oa(e),r=Fb(oa.prototype.request,t);return xe.extend(r,oa.prototype,t,{allOwnKeys:!0}),xe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(c){return l1(da(e,c))},r}const xn=l1(du);xn.Axios=oa;xn.CanceledError=Al;xn.CancelToken=xL;xn.isCancel=Jb;xn.VERSION=i1;xn.toFormData=If;xn.AxiosError=jt;xn.Cancel=xn.CanceledError;xn.all=function(t){return Promise.all(t)};xn.spread=yL;xn.isAxiosError=wL;xn.mergeConfig=da;xn.AxiosHeaders=ur;xn.formToJSON=e=>Qb(xe.isHTMLForm(e)?new FormData(e):e);xn.getAdapter=o1.getAdapter;xn.HttpStatusCode=yp;xn.default=xn;const{Axios:KL,AxiosError:XL,CanceledError:QL,isCancel:JL,CancelToken:eA,VERSION:tA,all:nA,Cancel:rA,isAxiosError:sA,spread:oA,toFormData:iA,AxiosHeaders:aA,HttpStatusCode:lA,formToJSON:cA,getAdapter:uA,mergeConfig:dA}=xn;function _L(){const e=b0(),{employeeId:t}=QC(),{toast:r}=vo(),[a,c]=v.useState(null),[d,f]=v.useState([]),[p,g]=v.useState([]),[w,_]=v.useState(!0),[b,S]=v.useState(!0),[k,P]=v.useState(!1),[j,C]=v.useState(!1),[T,D]=v.useState(!1),[M,O]=v.useState(null),[F,V]=v.useState(null),[I,ee]=v.useState(!1),[se,G]=v.useState(!1),[Q,pe]=v.useState(!1),[Oe,ve]=v.useState({});v.useEffect(()=>{console.log(" startedMeetingMap updated:",Oe)},[Oe]);const[de,ye]=v.useState(null),[be,W]=v.useState({}),[ge,ie]=v.useState(new Set),[z,J]=v.useState(0);v.useEffect(()=>{console.log(" Meetings state changed:",{count:d.length,meetings:d.map(B=>({id:B.id,status:B.status,client:B.clientName})),hasActive:d.some(B=>B.status==="in-progress"||B.status==="started")})},[d]),v.useEffect(()=>{if(!t){console.error(" No employee ID in URL - access denied"),r({title:"Access Denied",description:"Please access the tracking page with a valid employee ID",variant:"destructive"});return}console.log(" Loading tracking page for employee:",t),(async()=>{try{await Promise.all([X(),he()])}catch(je){console.error("Failed to initialize tracking data:",je)}})()},[t,e]);const X=async(B=0)=>{try{console.log("Fetching employee:",{employeeId:t,retryCount:B});const je=await ht.get(`/api/employees/${t}`);if(je.ok)try{const Le=je.headers.get("content-type");if(Le&&Le.includes("application/json")){const Me=await je.json();c(Me),console.log("Employee data fetched successfully:",Me)}else{const Me=await je.text();console.error("Server returned non-JSON response:",Me.substring(0,200)),c(null)}}catch(Le){console.error("Error parsing employee response:",Le),c(null)}else console.error(`Failed to fetch employee: ${je.status} ${je.statusText}`),c(null)}catch(je){if(console.error("Error fetching employee:",je),B<1&&je instanceof TypeError&&(je.message.includes("fetch")||je.message.includes("body stream"))){console.log("Retrying employee fetch after network error..."),setTimeout(()=>X(B+1),2e3);return}c(null)}},he=async(B=0)=>{try{console.log(" Fetching meetings:",{employeeId:t,retryCount:B});const je=await ht.get(`/api/meetings?employeeId=${t}&limit=5`);if(je.ok)try{const Le=je.headers.get("content-type");if(Le&&Le.includes("application/json")){const ze=(await je.json()).meetings||[];f(ze),console.log(" Meetings data fetched successfully:",{count:ze.length,meetings:ze.map(Ue=>({id:Ue.id,status:Ue.status,followUpId:Ue.followUpId,client:Ue.clientName}))});const Ve=ze.filter(Ue=>Ue.status==="in-progress"||Ue.status==="started");if(Ve.length>0){console.log(" Found active meetings after refresh:",Ve.map(Ke=>({id:Ke.id,followUpId:Ke.followUpId})));const Ue={};Ve.forEach(Ke=>{Ke.followUpId&&(console.log(" Restoring startedMeetingMap for follow-up meeting:",Ke.followUpId,"->",Ke.id),Ue[Ke.followUpId]=Ke.id)}),Object.keys(Ue).length>0&&ve(Ke=>({...Ke,...Ue})),O(Ve[0].id)}else console.log(" No active meetings found"),O(null)}else{const Me=await je.text();console.error("Server returned non-JSON response for meetings:",Me.substring(0,200)),f([])}}catch(Le){console.error("Error parsing meetings response:",Le),f([])}else console.error(`Failed to fetch meetings: ${je.status} ${je.statusText}`),f([])}catch(je){if(console.error("Error fetching meetings:",je),B<1&&je instanceof TypeError&&(je.message.includes("fetch")||je.message.includes("body stream"))){console.log("Retrying meetings fetch after network error..."),setTimeout(()=>he(B+1),2e3);return}f([])}finally{_(!1)}},ce=B=>{console.log("Today's follow-up meetings fetched:",B.length),g(B)},U=B=>{console.log(" Attempting to start meeting from follow-up:",B.companyName),console.log(" Current meetings:",d.map(Me=>({id:Me.id,status:Me.status,client:Me.clientName}))),console.log(" Total meetings:",d.length);const je=d.find(Me=>Me.status==="in-progress"||Me.status==="started");if(console.log(" Active meeting check result:",je?`Found: ${je.id}`:"None"),je){console.log(" BLOCKED: Active meeting exists:",je.id),r({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting found, proceeding to start...");const Le={clientName:B.customerName,reason:`Follow-up meeting - ${B.type}`,notes:B.remark||`Meeting with ${B.customerName} from ${B.companyName}`,leadId:B.leadId,leadInfo:{id:B.leadId,companyName:B.companyName,contactName:B.customerName}};Ee(Le,B._id)},K=(B,je,Le)=>{console.log("Location updated:",{lat:B,lng:je,accuracy:Le}),X()},we=(B,je,Le)=>{const Me=`https://www.google.com/maps?q=${B},${je}`,ze=`https://maps.apple.com/?q=${B},${je}`;/iPad|iPhone|iPod/.test(navigator.userAgent)?window.open(ze,"_blank"):window.open(Me,"_blank")},Te=B=>{window.location.href=`tel:${B}`},$e=(B,je)=>{const Le=encodeURIComponent(`Regarding Field Operations - ${je}`),Me=encodeURIComponent(`Hi ${je.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${B}?subject=${Le}&body=${Me}`},Ye=(B,je)=>{const Le=encodeURIComponent(`Hi ${je.split(" ")[0]}, checking in on your current location and status.`);window.location.href=`sms:${B}?body=${Le}`},[Ge,at]=v.useState(null),Mt=B=>{console.log("handleEndMeetingClick called with meetingId:",B),O(B),D(!0)},Ne=async(B,je)=>{console.log(" handleEndMeetingFromFollowUp called with:",{followUpId:B,meetingId:je}),console.log(" Fetching active meeting from local database AND external API..."),r({title:"Loading Meeting Data",description:"Searching for active meeting..."});let Le=je,Me=null;try{if(!Le||Le===""){if(console.log(" Step 1: Checking local database..."),B)try{console.log(" Querying local database by followUpId:",B);const Ve=await ht.get(`/api/meetings/active?followUpId=${B}`);Ve.ok?(Me=await Ve.json(),Le=Me.id,console.log(" Found active meeting in LOCAL DATABASE:",Le)):console.warn(" Not found in local database by followUpId (404)")}catch(Ve){console.warn(" Error querying local database by followUpId:",Ve)}if(!Le&&t)try{console.log(" Querying local database by employeeId:",t);const Ve=await ht.get(`/api/meetings/active?employeeId=${t}`);Ve.ok?(Me=await Ve.json(),Le=Me.id,console.log(" Found active meeting in LOCAL DATABASE:",Le)):console.warn(" Not found in local database by employeeId (404)")}catch(Ve){console.warn(" Error querying local database by employeeId:",Ve)}console.log(" Step 1 complete. finalMeetingId:",Le||"not found")}if((!Le||Le==="")&&(console.log(" Step 2: Not found in local database, checking external API..."),t))try{const Ke=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${t}`;console.log(" Querying external API:",Ke);const Ie=await fetch(Ke);if(Ie.ok){const oe=await Ie.json();console.log(" External API returned",oe.length,"follow-ups");const te=oe.find(le=>le.meetingStatus==="meeting on-going"||le.meetingStatus==="In Progress"||le.meetingStatus==="IN_PROGRESS"||le.meetingStatus==="Started");if(te){console.log(" Found ongoing meeting in EXTERNAL API:",te._id),console.log(" External meeting data:",{id:te._id,status:te.meetingStatus,company:te.companyName,customer:te.customerName});let le=!1;try{const _e=await ht.get(`/api/meetings/active?followUpId=${te._id}`);_e.ok&&(Me=await _e.json(),Le=Me.id,le=!0,console.log(" Found corresponding meeting in local database:",Le))}catch(_e){console.warn(" Error searching local database (404 expected):",_e.message)}if(!le&&!Le){console.warn(" External API shows ongoing meeting, but not found in local database"),console.warn(" Creating meeting in local database from external API data...");try{if(!a)console.error(" Cannot create meeting: No employee data");else{const _e=await ht.post("/api/meetings",{employeeId:a.id,location:{lat:a.location.lat,lng:a.location.lng,address:a.location.address},clientName:te.companyName,notes:`Recovered meeting from external API - ${te.type}: ${te.remark}`,followUpId:te._id,leadId:te.leadId||void 0,externalMeetingStatus:te.meetingStatus});_e.ok?(Me=await _e.json(),Le=Me.id,console.log(" Successfully created meeting in local database:",Le),console.log(" Meeting recovered from external API")):console.error(" Failed to create meeting in local database")}}catch(_e){console.error(" Error creating meeting in local database:",_e)}}}else console.warn(" No ongoing meetings found in external API"),console.log("Available meetings:",oe.map(le=>({id:le._id,status:le.meetingStatus,company:le.companyName})))}else console.error(" External API request failed:",Ie.status)}catch(Ve){console.error(" Error querying external API:",Ve)}if(!Le||Le===""){console.error(" No active meeting found in LOCAL DATABASE or EXTERNAL API!"),console.error("Searched with:",{followUpId:B,employeeId:t}),r({title:"No Active Meeting",description:"No active meeting found. The meeting may not have been saved properly when started.",variant:"destructive"});return}console.log(" Final meeting ID:",Le),Me&&(console.log(" Updating local state with meeting data..."),f(Ve=>Ve.find(Ke=>Ke.id===Me.id)?(console.log(" Meeting already in local state"),Ve):(console.log(" Adding meeting to local state"),[Me,...Ve])),Me.followUpId&&(console.log(" Restoring startedMeetingMap:",{[Me.followUpId]:Me.id}),ve(Ve=>({...Ve,[Me.followUpId]:Me.id}))));let ze=be[Le];!ze&&B&&(ze=p.find(Ve=>Ve._id===B),console.log(" Found follow-up data from todaysFollowUpMeetings:",!!ze)),!ze&&(Me!=null&&Me.followUpId)&&(ze=p.find(Ve=>Ve._id===Me.followUpId),console.log(" Found follow-up data by activeMeetingData.followUpId:",!!ze)),ze?(console.log(" Setting follow-up data for modal:",{company:ze.companyName,customer:ze.customerName}),ye(ze)):(console.warn(" No follow-up data found for meeting:",Le),console.warn("Modal will open without pre-filled customer data")),console.log(" Opening End Meeting modal with meeting ID:",Le),O(Le),D(!0)}catch(ze){console.error(" Error in handleEndMeetingFromFollowUp:",ze),r({title:"Error",description:"Failed to load meeting data from database. Please try again.",variant:"destructive"})}},Z=()=>{console.log("End meeting attempt. Employee status:",a==null?void 0:a.status,"Available meetings:",d);const B=d.find(je=>je.status==="in-progress"||je.status==="started");B?Mt(B.id):(console.error("No active meeting found to end. Available meetings:",d),r({title:"No Active Meeting",description:"No active meeting found for this employee. Please start a meeting first.",variant:"destructive"}))},me=async B=>{var Me;console.log(" handleEndMeetingWithDetails called with:",{activeMeetingId:M,meetingDetails:B,hasCustomers:((Me=B.customers)==null?void 0:Me.length)>0,hasDiscussion:!!B.discussion});const je=new Date().toISOString();console.log(" Meeting end time captured:",je);let Le=M;if(!Le){console.error(" Cannot end meeting: No activeMeetingId set!"),r({title:"Error",description:"No active meeting found. Please try again.",variant:"destructive"});return}at(Le);try{console.log("Ending meeting with details:",M,B);let ze=null;const Ve=3;let Ue=0;for(;Ue<Ve&&!ze;)try{if(console.log(` Attempt ${Ue+1}/${Ve}: Fetching location for meeting end...`),Ue===0&&r({title:"Getting Location",description:"Please wait while we fetch your current location..."}),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const _e=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",_e.state),_e.state==="denied"){r({title:"Location Permission Denied",description:"Please enable location access in your browser settings and try again.",variant:"destructive"}),at(null);return}_e.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}const te=await new Promise((_e,Be)=>{const Ft=15e3+Ue*5e3;navigator.geolocation.getCurrentPosition(_e,Be,{enableHighAccuracy:!0,maximumAge:0,timeout:Ft})});let le=`${te.coords.latitude.toFixed(6)}, ${te.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address for meeting end location...");const _e=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${te.coords.latitude}&lon=${te.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});_e.ok&&(le=(await _e.json()).display_name||le,console.log(" Meeting end address resolved:",le))}catch(_e){console.warn(" Failed to get address, using coordinates:",_e)}ze={lat:te.coords.latitude,lng:te.coords.longitude,address:le,timestamp:je},console.log(" Fresh end location obtained:",ze),r({title:"Location Obtained",description:"Ending meeting..."})}catch(te){if(Ue++,console.error(` Location fetch attempt ${Ue} failed:`,te),Ue<Ve)r({title:"Retrying Location",description:`Attempt ${Ue+1}/${Ve}. Please ensure location is enabled...`}),await new Promise(le=>setTimeout(le,1e3));else{const le=te instanceof GeolocationPositionError?te.code===1?"Location permission denied. Please enable location in your browser settings.":te.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";r({title:"Location Required",description:le,variant:"destructive"}),at(null);return}}if(!ze){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),at(null);return}console.log(" Sending PUT request to:",`/api/meetings/${Le}`);const Ke=d.find(te=>te.id===Le);if(!Ke){console.error(" Cannot find current meeting in local state:",Le),r({title:"Error",description:"Meeting data not found. Please refresh and try again.",variant:"destructive"}),at(null);return}console.log(" Current meeting data:",{id:Ke.id,startTime:Ke.startTime,clientName:Ke.clientName,status:Ke.status});const Ie={status:"completed",endTime:je,meetingDetails:B,endLocation:ze};console.log(" Update payload (preserving original startTime):",Ie);const oe=await ht.put(`/api/meetings/${Le}`,Ie);if(oe.ok){console.log("Meeting ended successfully");const te=Object.keys(Oe).find(le=>Oe[le]===Le);if(te)try{console.log("Updating follow-up status for:",te);const le=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${te}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"complete"})});le.ok?console.log("Follow-up meeting status updated to 'complete'"):console.error("Failed to update follow-up status:",le.status)}catch(le){console.error("Error updating follow-up status:",le)}try{const le=d.find(Be=>Be.id===Le);console.log("Attempting to add meeting to history with details:",{sessionId:(F==null?void 0:F.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:B,leadId:le==null?void 0:le.leadId,leadInfo:le==null?void 0:le.leadInfo});const _e=await ht.post("/api/meeting-history",{sessionId:(F==null?void 0:F.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:B,leadId:le==null?void 0:le.leadId,leadInfo:le==null?void 0:le.leadInfo});if(_e.ok){const Be=await _e.json();console.log("Meeting added to history successfully:",Be)}else{const Be=await _e.text();console.error("Failed to add meeting to history:",_e.status,Be)}}catch(le){console.error("Error adding meeting to history:",le)}ve(le=>{const _e={...le};return Object.keys(_e).forEach(Be=>{_e[Be]===Le&&delete _e[Be]}),_e}),W(le=>{const _e={...le};return delete _e[Le],_e}),ie(le=>{const _e=new Set(le);return _e.delete(Le),_e}),J(le=>le+1),await ht.put(`/api/employees/${t}/status`,{status:"active"}),await Promise.all([he(),X()])}else{const te=await oe.text();throw console.error("Failed to end meeting:",oe.status,te),new Error(`Failed to end meeting: ${te}`)}}catch(ze){throw console.error("Error ending meeting:",ze),ze}finally{at(null),O(null)}},Se=async B=>{if(!a)return;const je=new Date().toISOString();console.log(" Meeting start time captured:",je),C(!0);try{let Le=null;const Me=3;let ze=0;for(;ze<Me&&!Le;)try{if(console.log(` Attempt ${ze+1}/${Me}: Fetching location for meeting start...`),ze===0&&r({title:"Getting Location",description:"Please wait while we fetch your current location..."}),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const Ie=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",Ie.state),Ie.state==="denied"){r({title:"Location Permission Denied",description:"Please enable location access in your browser settings and try again.",variant:"destructive"}),C(!1);return}Ie.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}const Ue=await new Promise((Ie,oe)=>{const te=15e3+ze*5e3;navigator.geolocation.getCurrentPosition(Ie,oe,{enableHighAccuracy:!0,maximumAge:0,timeout:te})});let Ke=`${Ue.coords.latitude.toFixed(6)}, ${Ue.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address for meeting start location...");const Ie=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Ue.coords.latitude}&lon=${Ue.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});Ie.ok&&(Ke=(await Ie.json()).display_name||Ke,console.log(" Meeting start address resolved:",Ke))}catch(Ie){console.warn(" Failed to get address, using coordinates:",Ie)}Le={lat:Ue.coords.latitude,lng:Ue.coords.longitude,address:Ke},console.log(" Fresh start location obtained:",Le),r({title:"Location Obtained",description:"Starting meeting..."})}catch(Ue){if(ze++,console.error(` Location fetch attempt ${ze} failed:`,Ue),ze<Me)r({title:"Retrying Location",description:`Attempt ${ze+1}/${Me}. Please ensure location is enabled...`}),await new Promise(Ke=>setTimeout(Ke,1e3));else{const Ke=Ue instanceof GeolocationPositionError?Ue.code===1?"Location permission denied. Please enable location in your browser settings.":Ue.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";r({title:"Location Required",description:Ke,variant:"destructive"}),C(!1);return}}if(!Le){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),C(!1);return}const Ve=await ht.post("/api/meetings",{employeeId:a.id,location:Le,clientName:B.clientName,notes:`${B.reason}${B.notes?` - ${B.notes}`:""}`,leadId:B.leadId,leadInfo:B.leadInfo,startTime:je});if(Ve.ok){const Ue=await Ve.json();console.log(" Meeting created successfully:",{id:Ue.id,clientName:Ue.clientName,status:Ue.status,startTime:Ue.startTime,location:Ue.location}),f(Ke=>{console.log(" Adding meeting to state:",{id:Ue.id,clientName:Ue.clientName,status:Ue.status}),console.log(" Previous meetings count:",Ke.length);const Ie=[Ue,...Ke];return console.log(" New meetings count:",Ie.length),Ie}),await xn.put(`/api/employees/${t}/status`,{status:"meeting"}),X(),P(!1),r({title:"Meeting Started",description:`Meeting with ${B.clientName} has been started`}),console.log(" Meeting started successfully - UI should now show End Meeting button")}else{const Ue=await Ve.json().catch(()=>({error:"Failed to start meeting"}));r({title:"Cannot Start Meeting",description:Ue.error||"Failed to start meeting",variant:"destructive"})}}catch(Le){console.error("Error starting meeting:",Le),r({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{C(!1)}},Ee=async(B,je)=>{if(!a)return;const Le=new Date().toISOString();console.log(" Follow-up meeting start time captured:",Le),C(!0);try{const Me=p.find(Ie=>Ie._id===je);console.log(" Storing follow-up data for meeting:",Me);let ze=null;const Ve=3;let Ue=0;for(;Ue<Ve&&!ze;)try{if(console.log(` Attempt ${Ue+1}/${Ve}: Fetching location for meeting start...`),Ue===0&&r({title:"Getting Location",description:"Please wait while we fetch your current location..."}),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const te=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",te.state),te.state==="denied"){r({title:"Location Permission Denied",description:"Please enable location access in your browser settings and try again.",variant:"destructive"}),C(!1);return}te.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}const Ie=await new Promise((te,le)=>{const _e=15e3+Ue*5e3;navigator.geolocation.getCurrentPosition(te,le,{enableHighAccuracy:!0,maximumAge:0,timeout:_e})});let oe=`${Ie.coords.latitude.toFixed(6)}, ${Ie.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address for meeting start location...");const te=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Ie.coords.latitude}&lon=${Ie.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});te.ok&&(oe=(await te.json()).display_name||oe,console.log(" Meeting start address resolved:",oe))}catch(te){console.warn(" Failed to get address, using coordinates:",te)}ze={lat:Ie.coords.latitude,lng:Ie.coords.longitude,address:oe},console.log(" Fresh start location obtained:",ze),r({title:"Location Obtained",description:"Starting meeting..."})}catch(Ie){if(Ue++,console.error(` Location fetch attempt ${Ue} failed:`,Ie),Ue<Ve)r({title:"Retrying Location",description:`Attempt ${Ue+1}/${Ve}. Please ensure location is enabled...`}),await new Promise(oe=>setTimeout(oe,1e3));else{const oe=Ie instanceof GeolocationPositionError?Ie.code===1?"Location permission denied. Please enable location in your browser settings.":Ie.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";r({title:"Location Required",description:oe,variant:"destructive"}),C(!1);return}}if(!ze){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),C(!1);return}console.log(" Creating follow-up meeting with payload:",{employeeId:a.id,location:ze,clientName:B.clientName,notes:`${B.reason}${B.notes?` - ${B.notes}`:""}`,leadId:B.leadId,leadInfo:B.leadInfo,followUpId:je,externalMeetingStatus:"meeting on-going"});const Ke=await ht.post("/api/meetings",{employeeId:a.id,location:ze,clientName:B.clientName,notes:`${B.reason}${B.notes?` - ${B.notes}`:""}`,leadId:B.leadId,leadInfo:B.leadInfo,followUpId:je,externalMeetingStatus:"meeting on-going",startTime:Le});if(Ke.ok){const Ie=await Ke.json();console.log(" Follow-up meeting created successfully:",{id:Ie.id,clientName:Ie.clientName,status:Ie.status,startTime:Ie.startTime,location:Ie.location,followUpId:Ie.followUpId});const oe={...Ie,status:"in-progress",startTime:Ie.startTime||new Date().toISOString(),location:{...Ie.location,address:Ie.location.address||ze.address}};f(te=>(console.log(" Adding follow-up meeting to state:",oe.id),console.log(" Meeting details for state:",{id:oe.id,clientName:oe.clientName,status:oe.status,startTime:oe.startTime,location:oe.location}),[oe,...te])),ve(te=>{const le={...te,[je]:Ie.id};return console.log(" Updated startedMeetingMap:",le),le}),Me&&(W(te=>({...te,[Ie.id]:Me})),console.log(" Stored follow-up data for meeting ID:",Ie.id));try{const te=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${je}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"meeting on-going"})});te.ok?console.log(" Updated follow-up meetingStatus to 'meeting on-going' for:",je):console.warn(" Failed to update follow-up meetingStatus:",te.status)}catch(te){console.error(" Failed to update follow-up meetingStatus to meeting on-going:",te)}try{await xn.put(`/api/employees/${t}/status`,{status:"meeting"}),console.log(" Employee status updated to 'meeting'")}catch(te){console.error(" Failed to update employee status:",te)}X(),r({title:"Meeting Started",description:`Meeting with ${B.clientName} has been started`}),console.log(" Follow-up meeting started successfully - should now appear in Recent Meetings")}else{const Ie=await Ke.json().catch(()=>({error:"Failed to start meeting"}));console.error(" Failed to create follow-up meeting:",Ie),r({title:"Cannot Start Meeting",description:Ie.error||"Failed to start meeting",variant:"destructive"})}}catch(Me){console.error(" Error starting follow-up meeting:",Me),r({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{C(!1)}},We=()=>{const B=d.find(je=>je.status==="in-progress"||je.status==="started");if(B){console.log("Blocked: Active meeting exists:",{id:B.id,clientName:B.clientName,status:B.status,startTime:B.startTime}),r({title:"Cannot Start Meeting",description:`You already have an active meeting with ${B.clientName}. Please complete it before starting a new one.`,variant:"destructive"});return}console.log(" No active meeting found, opening start meeting modal"),P(!0)},tt=async B=>{V(B),console.log(" Tracking session started:",B);try{const je=await ht.post("/api/tracking-sessions",{id:B.id,employeeId:B.employeeId,startTime:B.startTime,startLocation:B.startLocation,route:B.route||[],totalDistance:B.totalDistance||0,status:B.status});if(je.ok){const Le=await je.json();console.log(" Tracking session saved to server:",Le)}else console.error(" Failed to save tracking session:",je.status)}catch(je){console.error(" Error saving tracking session:",je)}},Qe=async B=>{V(B),console.log(" Tracking session ended:",B);try{const je=await ht.put(`/api/tracking-sessions/${B.id}`,{endTime:B.endTime,endLocation:B.endLocation,route:B.route||[],totalDistance:B.totalDistance||0,duration:B.duration,status:B.status});if(je.ok){const Le=await je.json();console.log(" Tracking session updated on server:",Le)}else console.error(" Failed to update tracking session:",je.status)}catch(je){console.error(" Error updating tracking session:",je)}if(console.log("Auto-snapshot conditions:",{hasEmployee:!!a,sessionStatus:B.status,shouldCreateSnapshot:a&&B.status==="completed"}),a&&B.status==="completed")try{console.log("Auto-creating route snapshot for completed tracking session"),await Ut(B)}catch(je){console.error("Error auto-creating route snapshot:",je)}else console.log("Skipping auto-snapshot:",{reason:a?B.status!=="completed"?`Session status is ${B.status}`:"Unknown":"No employee data"})},Ut=async B=>{if(!a)return;const je=()=>{const Ie=[];if(B.route&&Ie.push(...B.route),d.forEach(_e=>{Ie.push(_e.location)}),Ie.push(a.location),Ie.length===0)return{north:a.location.lat+.01,south:a.location.lat-.01,east:a.location.lng+.01,west:a.location.lng-.01};const oe=Ie.map(_e=>_e.lat),te=Ie.map(_e=>_e.lng),le=.005;return{north:Math.max(...oe)+le,south:Math.min(...oe)-le,east:Math.max(...te)+le,west:Math.min(...te)-le}},Le=()=>d.map(Ie=>({id:Ie.id,location:Ie.location,clientName:Ie.clientName,startTime:Ie.startTime,endTime:Ie.endTime,status:Ie.status})),Me=new Date,ze=Me.toLocaleDateString(),Ve=Me.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Ue=`${a.name} Route - ${ze} ${Ve}`,Ke={employeeId:a.id,employeeName:a.name,trackingSessionId:B.id,title:Ue,description:`Auto-captured route snapshot when tracking stopped. Duration: ${Math.round((B.duration||0)/60)} minutes.`,startLocation:B.startLocation,endLocation:B.endLocation,route:B.route||[a.location],meetings:Le(),totalDistance:B.totalDistance||0,duration:B.duration,status:B.status,mapBounds:je()};try{const Ie=await ht.post("/api/route-snapshots",Ke);if(Ie.ok){const oe=await Ie.json();console.log("Auto-created route snapshot:",oe),r({title:"Route Auto-Captured",description:`${oe.title} saved successfully`})}else throw new Error("Failed to auto-create route snapshot")}catch(Ie){console.error("Error auto-creating route snapshot:",Ie),r({title:"Auto-capture Failed",description:"Use 'Manual Capture' button to save route",variant:"destructive"})}},Nt=B=>{switch(B){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},bt=B=>{switch(B){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}};if(w)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading tracking data..."})]})});if(!a)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Employee not found"}),o.jsx(Pe,{asChild:!0,children:o.jsx(Os,{to:"/",children:"Return to Dashboard"})})]})});const Rt=JSON.parse(localStorage.getItem("user")||"{}"),Vt=(Rt==null?void 0:Rt._id)==="67daa55d9c4abb36045d5bfe";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[Vt&&o.jsx(Pe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:"/",children:[o.jsx(hf,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:a.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time Tracking"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>G(!0),className:"text-primary",children:[o.jsx(Hm,{className:"h-4 w-4 mr-1"}),"Manual Capture"]}),o.jsx(Pt,{variant:"secondary",className:`${Nt(a.status)}`,children:bt(a.status)})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsx(kt,{children:"Employee Information"})}),o.jsxs(ft,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Name"}),o.jsx("span",{className:"font-medium",children:a.name})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("span",{className:"font-medium",children:a.email})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("span",{className:"font-medium",children:a.phone})]}),a.designation&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Designation"}),o.jsx("span",{className:"font-medium",children:a.designation})]}),a.department&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Department"}),o.jsx("span",{className:"font-medium",children:a.department})]}),a.companyName&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Company"}),o.jsx("span",{className:"font-medium text-right max-w-xs",children:a.companyName})]}),a.reportTo&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Reports To"}),o.jsx("span",{className:"font-medium",children:a.reportTo})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),o.jsx(Pt,{variant:"secondary",className:`${Nt(a.status)}`,children:bt(a.status)})]}),a.currentTask&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Task"}),o.jsx("span",{className:"font-medium text-right max-w-xs",children:a.currentTask})]})]}),d.find(je=>je.status==="in-progress"||je.status==="started")||a.status==="meeting"?o.jsx("div",{className:"pt-4 pb-2",children:o.jsxs(Pe,{variant:"destructive",size:"sm",className:"w-full",onClick:Z,disabled:Ge!==null,children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),Ge?"Ending Meeting...":"End Current Meeting"]})}):null,o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-4",children:[o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>Te(a.phone),children:[o.jsx(fi,{className:"h-4 w-4 mr-2"}),"Call"]}),o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>$e(a.email,a.name),children:[o.jsx(di,{className:"h-4 w-4 mr-2"}),"Email"]}),o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>Ye(a.phone,a.name),className:"col-span-2",children:[o.jsx(Tp,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]})]}),o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsxs(kt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Current Location"}),d.find(je=>je.status==="in-progress"||je.status==="started")||a.status==="meeting"?o.jsxs(Pe,{variant:"destructive",size:"sm",onClick:Z,disabled:Ge!==null,children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),Ge?"Ending...":"End Meeting"]}):o.jsxs(Pe,{variant:"outline",size:"sm",onClick:We,children:[o.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})}),o.jsxs(ft,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Jn,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:a.location.address}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.location.lat.toFixed(6),","," ",a.location.lng.toFixed(6)]}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[o.jsx(Tn,{className:"h-3 w-3 mr-1"}),"Last updated ",a.lastUpdate]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Pe,{variant:"outline",className:"w-full",onClick:()=>S(!b),children:[o.jsx(ho,{className:"h-4 w-4 mr-2"}),b?"Hide Map":"View on Map"]}),o.jsxs(Pe,{variant:"outline",className:"w-full",onClick:()=>we(a.location.lat,a.location.lng,a.location.address),children:[o.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Open in Maps App"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>G(!0),className:"text-primary",children:[o.jsx(Hm,{className:"h-4 w-4 mr-2"}),"Manual Capture"]}),o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>pe(!0),children:[o.jsx(ll,{className:"h-4 w-4 mr-2"}),"View History"]})]})]}),b&&a&&o.jsx("div",{className:"mt-4",children:o.jsx(Vp,{employees:[a],height:"300px",trackingSession:F,showRoute:F!==null})})]})]}),o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsxs(kt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Recent Meetings"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Pt,{variant:"secondary",children:d.length}),o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>ee(!0),children:[o.jsx(Kr,{className:"h-4 w-4 mr-2"}),"History"]})]})]})}),o.jsx(ft,{children:d.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent meetings"}):o.jsx("div",{className:"space-y-4",children:d.sort((B,je)=>new Date(je.startTime).getTime()-new Date(B.startTime).getTime()).map(B=>{var je;return console.log(" Rendering meeting:",{id:B.id,clientName:B.clientName,status:B.status,startTime:B.startTime,location:B.location,followUpId:B.followUpId}),o.jsxs("div",{className:`border rounded-lg p-3 space-y-2 ${B.status==="in-progress"?"border-warning bg-warning/5":"border-border"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"font-medium",children:[B.clientName||"Unknown Client",B.followUpId&&o.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Follow-up"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Pt,{variant:"secondary",className:B.status==="completed"?"bg-success text-success-foreground":B.status==="in-progress"?"bg-warning text-warning-foreground":"bg-info text-info-foreground",children:B.status}),B.status==="in-progress"&&o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>Mt(B.id),disabled:Ge===B.id,children:Ge===B.id?"Ending...":"End Meeting"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(Jn,{className:"h-3 w-3 mr-1"}),((je=B.location)==null?void 0:je.address)||"Location not available"]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(Kr,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Started:"}),o.jsx("span",{className:"ml-1",children:B.startTime?new Date(B.startTime).toLocaleString():"Time not available"})]}),B.endTime&&o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(Tn,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Ended:"}),o.jsx("span",{className:"ml-1",children:new Date(B.endTime).toLocaleString()})]}),B.status==="in-progress"&&o.jsxs("p",{className:"text-sm text-success flex items-center",children:[o.jsx(Tn,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Duration:"}),o.jsx("span",{className:"ml-1",children:(()=>{const Le=Date.now()-new Date(B.startTime).getTime(),Me=Math.floor(Le/(1e3*60)),ze=Math.floor(Me/60),Ve=Me%60;return ze>0?`${ze}h:${Ve.toString().padStart(2,"0")}m`:`${Ve}m`})()})]}),B.endTime&&B.status==="completed"&&o.jsxs("p",{className:"text-sm text-info flex items-center",children:[o.jsx(Tn,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Duration:"}),o.jsx("span",{className:"ml-1",children:(()=>{const Le=new Date(B.endTime).getTime()-new Date(B.startTime).getTime(),Me=Math.floor(Le/(1e3*60)),ze=Math.floor(Me/60),Ve=Me%60;return ze>0?`${ze}h:${Ve.toString().padStart(2,"0")}m`:`${Ve}m`})()})]})]}),B.notes&&o.jsx("p",{className:"text-sm",children:B.notes})]},B.id)})})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(AM,{employeeId:a.id,employeeName:a.name,onLocationUpdate:K,trackingEnabled:a.status==="active",onTrackingSessionStart:tt,onTrackingSessionEnd:Qe,todaysMeetings:p}),o.jsx(v_,{userId:t,onStartMeeting:U,startedMeetingMap:Oe,onEndMeetingFromFollowUp:Ne,onMeetingsFetched:ce,refreshTrigger:z,hasActiveMeeting:d.some(B=>B.status==="in-progress"||B.status==="started")})]})]})}),a&&o.jsx(mb,{isOpen:k,onClose:()=>P(!1),onStartMeeting:Se,employeeName:a.name,location:a.location.address,isLoading:j}),a&&o.jsx(HM,{isOpen:T,onClose:()=>{D(!1),O(null),ye(null)},onEndMeeting:me,employeeName:a.name,isLoading:Ge!==null,currentMeeting:M?d.find(B=>B.id===M):null,followUpMeetingData:de}),o.jsx(c_,{employeeId:t,isOpen:I,onClose:()=>ee(!1)}),a&&o.jsx(WM,{employee:a,trackingSession:F,meetings:d,isOpen:se,onClose:()=>G(!1),onSnapshotCreated:B=>{console.log("Snapshot created:",B)}}),o.jsx(kb,{employeeId:t,isOpen:Q,onClose:()=>pe(!1)})]})}function bL(){const[e,t]=v.useState([]),[r,a]=v.useState(!0),[c,d]=v.useState(""),[f,p]=v.useState("all"),[g,w]=v.useState(!1),[_,b]=v.useState(!1),[S,k]=v.useState(null),[P,j]=v.useState({name:"",email:"",phone:"",status:"active"});v.useEffect(()=>{C()},[]);const C=async()=>{var G;try{console.log("TeamManagement: Fetching employees...");const Q=await ht.get("/api/employees");if(Q.ok){const pe=await Q.json();console.log("TeamManagement: Successfully fetched employees:",((G=pe.employees)==null?void 0:G.length)||0),t(pe.employees||[])}else console.error("TeamManagement: Failed to fetch employees - Status:",Q.status),t([])}catch(Q){console.error("TeamManagement: Error fetching employees:",Q),t([])}finally{a(!1)}},T=async()=>{try{const G=await ht.post("/api/employees",{...P,location:{lat:40.7128,lng:-74.006,address:"New York, NY",timestamp:new Date().toISOString()},lastUpdate:"Just now",deviceId:`device_${Date.now()}`});G.ok?(console.log("TeamManagement: Employee added successfully"),C(),w(!1),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to add employee - Status:",G.status)}catch(G){console.error("TeamManagement: Error adding employee:",G)}},D=async()=>{if(S)try{const G=await ht.put(`/api/employees/${S.id}`,P);G.ok?(console.log("TeamManagement: Employee updated successfully"),C(),b(!1),k(null),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to update employee - Status:",G.status)}catch(G){console.error("TeamManagement: Error updating employee:",G)}},M=async G=>{if(confirm("Are you sure you want to delete this employee?"))try{const Q=await ht.delete(`/api/employees/${G}`);Q.ok?(console.log("TeamManagement: Employee deleted successfully"),C()):console.error("TeamManagement: Failed to delete employee - Status:",Q.status)}catch(Q){console.error("TeamManagement: Error deleting employee:",Q)}},O=G=>{window.location.href=`tel:${G}`},F=(G,Q)=>{const pe=encodeURIComponent(`Regarding Field Operations - ${Q}`),Oe=encodeURIComponent(`Hi ${Q.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${G}?subject=${pe}&body=${Oe}`},V=G=>{k(G),j({name:G.name,email:G.email,phone:G.phone,status:G.status}),b(!0)},I=G=>{switch(G){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},ee=G=>{switch(G){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},se=e.filter(G=>{const Q=G.name.toLowerCase().includes(c.toLowerCase())||G.email.toLowerCase().includes(c.toLowerCase()),pe=f==="all"||G.status===f;return Q&&pe});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Pe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:"/",children:[o.jsx(hf,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Team Management"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your field team employees"})]})]}),o.jsxs(Mr,{open:g,onOpenChange:w,children:[o.jsx(FT,{asChild:!0,children:o.jsxs(Pe,{children:[o.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Add Employee"]})}),o.jsxs(dr,{children:[o.jsxs(fr,{children:[o.jsx(hr,{children:"Add New Employee"}),o.jsx(mr,{children:"Add a new field employee to your team."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Dt,{htmlFor:"name",children:"Name"}),o.jsx(an,{id:"name",value:P.name,onChange:G=>j({...P,name:G.target.value}),placeholder:"Enter full name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Dt,{htmlFor:"email",children:"Email"}),o.jsx(an,{id:"email",type:"email",value:P.email,onChange:G=>j({...P,email:G.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Dt,{htmlFor:"phone",children:"Phone"}),o.jsx(an,{id:"phone",type:"tel",value:P.phone,onChange:G=>j({...P,phone:G.target.value}),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Dt,{htmlFor:"status",children:"Status"}),o.jsxs(ds,{value:P.status,onValueChange:G=>j({...P,status:G}),children:[o.jsx(Gr,{children:o.jsx(fs,{placeholder:"Select status"})}),o.jsxs(Yr,{children:[o.jsx(Yt,{value:"active",children:"Active"}),o.jsx(Yt,{value:"inactive",children:"Inactive"}),o.jsx(Yt,{value:"meeting",children:"In Meeting"})]})]})]})]}),o.jsxs(ca,{children:[o.jsx(Pe,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),o.jsx(Pe,{onClick:T,children:"Add Employee"})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(an,{placeholder:"Search employees...",value:c,onChange:G=>d(G.target.value),className:"pl-10"})]}),o.jsxs(ds,{value:f,onValueChange:p,children:[o.jsx(Gr,{className:"w-full sm:w-[180px]",children:o.jsx(fs,{placeholder:"Filter by status"})}),o.jsxs(Yr,{children:[o.jsx(Yt,{value:"all",children:"All Statuses"}),o.jsx(Yt,{value:"active",children:"Active"}),o.jsx(Yt,{value:"meeting",children:"In Meeting"}),o.jsx(Yt,{value:"inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Total Employees"}),o.jsx(ra,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(ft,{children:o.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Active"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-success"})]}),o.jsx(ft,{children:o.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter(G=>G.status==="active").length})})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"In Meetings"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"})]}),o.jsx(ft,{children:o.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter(G=>G.status==="meeting").length})})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Offline"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"})]}),o.jsx(ft,{children:o.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:e.filter(G=>G.status==="inactive").length})})]})]}),o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsxs(kt,{children:["Team Members (",se.length,")"]})}),o.jsx(ft,{children:r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employees..."})]}):se.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ra,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),o.jsx("p",{className:"text-muted-foreground",children:c||f!=="all"?"Try adjusting your search or filters.":"Add your first employee to get started."})]}):o.jsx("div",{className:"space-y-4",children:se.map(G=>o.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"font-semibold text-lg",children:G.name}),o.jsx(Pt,{variant:"secondary",className:`text-xs ${I(G.status)}`,children:ee(G.status)})]}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(di,{className:"h-3 w-3 mr-2"}),G.email]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(fi,{className:"h-3 w-3 mr-2"}),G.phone]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(Jn,{className:"h-3 w-3 mr-2"}),G.location.address]}),G.currentTask&&o.jsxs("p",{className:"text-primary font-medium",children:["Current Task: ",G.currentTask]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>O(G.phone),children:[o.jsx(fi,{className:"h-3 w-3 mr-1"}),"Call"]}),o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>F(G.email,G.name),children:[o.jsx(di,{className:"h-3 w-3 mr-1"}),"Email"]}),o.jsx(Pe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:`/tracking/${G.id}`,children:[o.jsx(ho,{className:"h-3 w-3 mr-1"}),"Track"]})}),o.jsxs(Pe,{variant:"outline",size:"sm",onClick:()=>V(G),children:[o.jsx(Vm,{className:"h-3 w-3 mr-1"}),"Edit"]}),o.jsx(Pe,{variant:"outline",size:"sm",onClick:()=>M(G.id),className:"text-destructive hover:text-destructive",children:o.jsx(mw,{className:"h-3 w-3"})})]})]})},G.id))})})]})]}),o.jsx(Mr,{open:_,onOpenChange:b,children:o.jsxs(dr,{children:[o.jsxs(fr,{children:[o.jsx(hr,{children:"Edit Employee"}),o.jsx(mr,{children:"Update employee information."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Dt,{htmlFor:"edit-name",children:"Name"}),o.jsx(an,{id:"edit-name",value:P.name,onChange:G=>j({...P,name:G.target.value}),placeholder:"Enter full name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Dt,{htmlFor:"edit-email",children:"Email"}),o.jsx(an,{id:"edit-email",type:"email",value:P.email,onChange:G=>j({...P,email:G.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Dt,{htmlFor:"edit-phone",children:"Phone"}),o.jsx(an,{id:"edit-phone",type:"tel",value:P.phone,onChange:G=>j({...P,phone:G.target.value}),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Dt,{htmlFor:"edit-status",children:"Status"}),o.jsxs(ds,{value:P.status,onValueChange:G=>j({...P,status:G}),children:[o.jsx(Gr,{children:o.jsx(fs,{placeholder:"Select status"})}),o.jsxs(Yr,{children:[o.jsx(Yt,{value:"active",children:"Active"}),o.jsx(Yt,{value:"inactive",children:"Inactive"}),o.jsx(Yt,{value:"meeting",children:"In Meeting"})]})]})]})]}),o.jsxs(ca,{children:[o.jsx(Pe,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),o.jsx(Pe,{onClick:D,children:"Save Changes"})]})]})})]})}const NL=tu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Gi=v.forwardRef(({className:e,variant:t,...r},a)=>o.jsx("div",{ref:a,role:"alert",className:mt(NL({variant:t}),e),...r}));Gi.displayName="Alert";const SL=v.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:mt("mb-1 font-medium leading-none tracking-tight",e),...t}));SL.displayName="AlertTitle";const Yi=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:mt("text-sm [&_p]:leading-relaxed",e),...t}));Yi.displayName="AlertDescription";function jL(){const[e,t]=v.useState(null),[r,a]=v.useState(!0),[c,d]=v.useState(!1),[f,p]=v.useState(null),[g,w]=v.useState(null),[_,b]=v.useState(!1),[S,k]=v.useState(!1);v.useEffect(()=>{P()},[]);const P=async()=>{try{a(!0),w(null);const M=await ht.get("/api/data-status");if(M.ok){const O=await M.json();t(O),console.log("Data status:",O)}else throw new Error(`Failed to fetch data status: ${M.status}`)}catch(M){console.error("Error fetching data status:",M),w(M.message)}finally{a(!1)}},j=async()=>{try{d(!0),p(null),w(null);const M=await ht.post("/api/data-sync",{});if(M.ok){const O=await M.json();p(O),console.log("Sync result:",O),await P()}else throw new Error(`Sync failed: ${M.status} ${M.statusText}`)}catch(M){console.error("Error syncing data:",M),w(M.message)}finally{d(!1)}},C=async()=>{try{b(!0),w(null),k(!1);const M=await ht.post("/api/employees/clear-cache",{});if(M.ok){const O=await M.json();k(!0),console.log("Location cache cleared:",O.message)}else throw new Error(`Cache clear failed: ${M.status} ${M.statusText}`)}catch(M){w(M instanceof Error?M.message:"Failed to clear location cache")}finally{b(!1)}},T=(M,O)=>M===0&&O>0?"text-yellow-600":M>0?"text-green-600":"text-gray-600",D=(M,O)=>M===0&&O>0?o.jsx(Rc,{className:"h-4 w-4 text-yellow-600"}):M>0?o.jsx(qr,{className:"h-4 w-4 text-green-600"}):o.jsx(nx,{className:"h-4 w-4 text-gray-600"});return r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(cl,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading data status..."})]})})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Data Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Monitor and synchronize MongoDB data storage"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(Pe,{onClick:P,variant:"outline",disabled:r,children:[o.jsx(cl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(Pe,{onClick:j,disabled:c,className:"bg-primary hover:bg-primary/90",children:[o.jsx(nx,{className:"h-4 w-4 mr-2"}),c?"Syncing...":"Sync Data"]}),o.jsxs(Pe,{onClick:C,disabled:_,variant:"outline",className:"border-orange-500 text-orange-600 hover:bg-orange-50",children:[o.jsx(cl,{className:"h-4 w-4 mr-2"}),_?"Clearing...":"Clear Location Cache"]})]})]}),g&&o.jsxs(Gi,{variant:"destructive",children:[o.jsx(Rc,{className:"h-4 w-4"}),o.jsx(Yi,{children:g})]}),f&&o.jsxs(Gi,{className:"border-green-200 bg-green-50",children:[o.jsx(qr,{className:"h-4 w-4 text-green-600"}),o.jsxs(Yi,{className:"text-green-800",children:[o.jsx("strong",{children:f.message}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsxs("p",{children:[" Meetings in MongoDB: ",f.stats.totalMeetingsInMongoDB]}),o.jsxs("p",{children:[" History in MongoDB: ",f.stats.totalHistoryInMongoDB]}),o.jsxs("p",{children:[" Meetings synced: ",f.stats.meetingsSynced]}),o.jsxs("p",{children:[" History synced: ",f.stats.historySynced]})]})]})]}),S&&o.jsxs(Gi,{className:"border-orange-200 bg-orange-50",children:[o.jsx(qr,{className:"h-4 w-4 text-orange-600"}),o.jsxs(Yi,{className:"text-orange-800",children:[o.jsx("strong",{children:"Location cache cleared successfully!"}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsx("p",{children:" All employees will now use real GPS location data"}),o.jsx("p",{children:" No more hardcoded cities (Delhi, Mumbai, etc.)"}),o.jsx("p",{children:" Refresh the employee list to see updated locations"})]})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"MongoDB Meetings"}),D(e.mongoDB.meetings,e.inMemory.meetings)]}),o.jsxs(ft,{children:[o.jsx("div",{className:`text-2xl font-bold ${T(e.mongoDB.meetings,e.inMemory.meetings)}`,children:e.mongoDB.meetings}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["In-memory: ",e.inMemory.meetings]})]})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Meeting History"}),o.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.mongoDB.history}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Historical records"})]})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Employees"}),o.jsx(ra,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.mongoDB.employees}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Employee records"})]})]}),o.jsxs(dt,{children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(kt,{className:"text-sm font-medium",children:"Tracking Sessions"}),o.jsx(Ep,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.mongoDB.trackingSessions}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Location sessions"})]})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsx(kt,{className:"text-lg",children:"Sample Meeting Data"})}),o.jsx(ft,{children:e.mongoDB.sampleMeeting?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleMeeting.id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),o.jsxs("span",{children:[e.mongoDB.sampleMeeting.employeeId.substring(0,8),"..."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Status:"}),o.jsx(Pt,{variant:"outline",children:e.mongoDB.sampleMeeting.status})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Lead ID:"}),o.jsx("span",{children:e.mongoDB.sampleMeeting.leadId||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Has Details:"}),o.jsx(Pt,{variant:e.mongoDB.sampleMeeting.hasDetails?"default":"secondary",children:e.mongoDB.sampleMeeting.hasDetails?"Yes":"No"})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No meeting data found"})})]}),o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsx(kt,{className:"text-lg",children:"Sample History Data"})}),o.jsx(ft,{children:e.mongoDB.sampleHistory?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleHistory.id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),o.jsxs("span",{children:[e.mongoDB.sampleHistory.employeeId.substring(0,8),"..."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Customers:"}),o.jsx(Pt,{variant:"outline",children:e.mongoDB.sampleHistory.hasCustomers?"Yes":"No"})]}),o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Discussion:"}),o.jsx("span",{className:"text-xs bg-muted p-2 rounded",children:e.mongoDB.sampleHistory.discussion||"No discussion"})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No history data found"})})]})]}),e&&o.jsxs(dt,{children:[o.jsx(Tt,{children:o.jsx(kt,{className:"text-lg",children:"Recommendations"})}),o.jsx(ft,{children:o.jsxs("div",{className:"space-y-3",children:[e.mongoDB.meetings===0&&e.inMemory.meetings>0&&o.jsxs(Gi,{className:"border-yellow-200 bg-yellow-50",children:[o.jsx(Rc,{className:"h-4 w-4 text-yellow-600"}),o.jsxs(Yi,{className:"text-yellow-800",children:[o.jsx("strong",{children:"Data Sync Needed:"})," You have ",e.inMemory.meetings,' meetings in memory but none in MongoDB. Click "Sync Data" to fix this.']})]}),e.mongoDB.meetings>e.mongoDB.history&&o.jsxs(Gi,{className:"border-blue-200 bg-blue-50",children:[o.jsx(Rc,{className:"h-4 w-4 text-blue-600"}),o.jsxs(Yi,{className:"text-blue-800",children:[o.jsx("strong",{children:"Missing History:"})," You have more meetings (",e.mongoDB.meetings,") than history entries (",e.mongoDB.history,"). Some meetings might not have been completed with proper details."]})]}),e.mongoDB.meetings>0&&e.mongoDB.history>0&&o.jsxs(Gi,{className:"border-green-200 bg-green-50",children:[o.jsx(qr,{className:"h-4 w-4 text-green-600"}),o.jsxs(Yi,{className:"text-green-800",children:[o.jsx("strong",{children:"Data Looks Good:"})," Your MongoDB storage is working properly with ",e.mongoDB.meetings," meetings and ",e.mongoDB.history," history entries."]})]})]})})]})]})})}const lo=[{lat:28.6139,lng:77.209,address:"Connaught Place, New Delhi",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"Karol Bagh",timestamp:"2024-01-15T09:15:00.000Z"},{lat:28.6511,lng:77.241,address:"Civil Lines",timestamp:"2024-01-15T09:30:00.000Z"},{lat:28.6785,lng:77.2654,address:"GTB Nagar",timestamp:"2024-01-15T09:45:00.000Z"},{lat:28.7041,lng:77.1025,address:"Rohini",timestamp:"2024-01-15T10:00:00.000Z"},{lat:28.7342,lng:77.0822,address:"Sector 3 Rohini",timestamp:"2024-01-15T10:10:00.000Z"},{lat:28.7503,lng:77.0689,address:"Client Office, Rohini",timestamp:"2024-01-15T10:20:00.000Z"}],Mc=[{lat:28.6139,lng:77.209,address:"Start",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"End",timestamp:"2024-01-15T09:15:00.000Z"}];class c1{constructor(){Ms(this,"results",[])}async runAllTests(){console.log(" Starting Route Tracking Comprehensive Tests"),console.log("=".repeat(60)),await this.testAPIConfiguration(),await this.testDistanceCalculations(),await this.testRouteProcessing(),await this.testRoutingAPIs(),await this.testGPSRouteCreation(),this.displayResults()}async testAPIConfiguration(){console.log(`
 Testing API Configuration...`);const t=Wp();C0(),console.log(`Current API: ${t.type} - ${t.description}`),console.log(`Has paid keys: ${t.hasKey}`),this.results.push({test:"API Configuration",status:" Pass",details:`Using ${t.type} API`,recommendation:t.hasKey?"Good to go!":"Consider upgrading to paid API for better reliability"})}async testDistanceCalculations(){console.log(`
 Testing Distance Calculations...`);const t=lo[0],r=lo[lo.length-1],a=this.calculateStraightLineDistance(t,r);console.log(`Straight-line distance: ${(a/1e3).toFixed(2)} km`);const c=Zr.createGPSRoute(lo);console.log(`GPS route distance: ${(c.distance/1e3).toFixed(2)} km`),console.log(`GPS route confidence: ${c.confidence}`);const d=c.distance>a&&c.distance<a*2;this.results.push({test:"Distance Calculations",status:d?" Pass":" Warning",details:`GPS: ${(c.distance/1e3).toFixed(2)}km, Straight: ${(a/1e3).toFixed(2)}km`,recommendation:d?"Distance calculations look correct":"GPS distance seems unrealistic"})}async testRouteProcessing(){console.log(`
 Testing Route Processing...`);const t=await Zr.getRouteForPoints(lo);console.log(`Processed route coordinates: ${t.coordinates.length}`),console.log(`Total distance: ${(t.totalDistance/1e3).toFixed(2)} km`),console.log(`Route source: ${t.source}`),console.log(`Route confidence: ${t.confidence}`);const r=t.totalDistance>0,a=t.coordinates.length>=2;this.results.push({test:"Route Processing",status:r&&a?" Pass":" Fail",details:`${t.coordinates.length} coords, ${(t.totalDistance/1e3).toFixed(2)}km`,recommendation:r?"Route processing working correctly":"Route processing needs fixing"})}async testRoutingAPIs(){console.log(`
 Testing Routing APIs...`);const t=Mc[0],r=Mc[1];try{const a=await Zr.getRoute(t,r);console.log(`API route source: ${a.source}`),console.log(`API route confidence: ${a.confidence}`),console.log(`API route distance: ${(a.distance/1e3).toFixed(2)} km`),console.log(`API route coordinates: ${a.coordinates.length}`);const c=a.coordinates.length>=2&&a.distance>0;this.results.push({test:"Routing APIs",status:c?" Pass":" Warning",details:`${a.source} source, ${a.confidence} confidence`,recommendation:a.source==="road-api"?"APIs working well":"APIs limited, consider paid service"})}catch(a){console.error("API routing failed:",a),this.results.push({test:"Routing APIs",status:" Fail",details:`Error: ${a.message}`,recommendation:"APIs not working, need paid service or fix"})}}async testGPSRouteCreation(){console.log(`
 Testing GPS Route Creation...`);const t=[{points:lo.slice(0,1),name:"Single point"},{points:lo.slice(0,2),name:"Two points"},{points:lo.slice(0,4),name:"Four points"},{points:lo,name:"Full route"}];for(const r of t){const a=Zr.createGPSRoute(r.points);console.log(`${r.name}: ${(a.distance/1e3).toFixed(2)}km, ${a.confidence} confidence`)}this.results.push({test:"GPS Route Creation",status:" Pass",details:"All point counts handled correctly",recommendation:"GPS route creation working properly"})}calculateStraightLineDistance(t,r){const c=t.lat*Math.PI/180,d=r.lat*Math.PI/180,f=(r.lat-t.lat)*Math.PI/180,p=(t.lng-r.lng)*Math.PI/180,g=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))}displayResults(){console.log(`
`+"=".repeat(60)),console.log(" TEST RESULTS SUMMARY"),console.log("=".repeat(60)),this.results.forEach((c,d)=>{console.log(`
${d+1}. ${c.test}`),console.log(`   Status: ${c.status}`),console.log(`   Details: ${c.details}`),console.log(`    ${c.recommendation}`)});const t=this.results.filter(c=>c.status.includes("")).length,r=this.results.filter(c=>c.status.includes("")).length,a=this.results.filter(c=>c.status.includes("")).length;console.log(`
`+"=".repeat(60)),console.log(` OVERALL RESULTS: ${t} Pass, ${r} Warning, ${a} Fail`),a>0?(console.log(`
 CRITICAL ISSUES FOUND - Route tracking may not work properly`),console.log("   Recommend using a paid API service for reliable routing")):r>0?(console.log(`
 SOME LIMITATIONS DETECTED - Route tracking working but could be improved`),console.log("   Consider upgrading to a paid API for better accuracy")):console.log(`
 ALL TESTS PASSED - Route tracking should work well!`),console.log(`
 API UPGRADE OPTIONS:`),console.log("    OpenRouteService: 2.99/month for 2000 requests/day"),console.log("    MapBox: Free 50k/month then pay-per-use"),console.log("    Google Maps: Enterprise-grade accuracy (requires billing)"),console.log(`
 TO ENABLE PAID APIs:`),console.log("   Add to your .env file:"),console.log("   VITE_OPENROUTESERVICE_API_KEY=your_key_here"),console.log("   VITE_MAPBOX_API_KEY=your_key_here"),console.log("   VITE_GOOGLE_MAPS_API_KEY=your_key_here")}async quickTest(){console.log(" Running Quick Route Tracking Test...");try{const t=Zr.createGPSRoute(Mc),r=t.distance>0,a=await Zr.getRoute(Mc[0],Mc[1]),c=a.coordinates.length>=2,d=r&&c;return console.log(` Quick test ${d?"PASSED":"FAILED"}`),console.log(`   GPS distance: ${(t.distance/1e3).toFixed(2)}km`),console.log(`   API source: ${a.source}, confidence: ${a.confidence}`),d}catch(t){return console.error(" Quick test FAILED:",t.message),!1}}}const EL=new c1,CL=()=>EL.quickTest();function PL(){const[e,t]=v.useState(!1),[r,a]=v.useState(!1),[c,d]=v.useState(null),[f,p]=v.useState([]),g=Wp(),w=C0(),_=async()=>{t(!0),p([]);const S=console.log,k=[];console.log=(...P)=>{k.push(P.join(" ")),S(...P)};try{const P=await CL();d(P),p(k)}catch(P){d(!1),p([...k,`Error: ${P.message}`])}finally{console.log=S,t(!1)}},b=async()=>{a(!0),p([]);const S=console.log,k=[];console.log=(...P)=>{k.push(P.join(" ")),S(...P)};try{await new c1().runAllTests(),p(k)}catch(P){p([...k,`Error: ${P.message}`])}finally{console.log=S,a(!1)}};return o.jsxs(dt,{className:"w-full max-w-4xl mx-auto",children:[o.jsxs(Tt,{children:[o.jsxs(kt,{className:"flex items-center gap-2",children:[o.jsx(hw,{className:"h-5 w-5"}),"Route Tracking Test Panel"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality after the fixes"})]}),o.jsxs(ft,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(JN,{className:"h-4 w-4"}),"API Configuration"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Current API"}),o.jsx(Pt,{variant:g.hasKey?"default":"secondary",children:g.type.toUpperCase()})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"API Status"}),o.jsx(Pt,{variant:g.hasKey?"default":"destructive",children:g.hasKey?"Configured":"Free Tier"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:g.hasKey?"Using configured API key":"Using free public APIs (limited)"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(QN,{className:"h-4 w-4"}),"Run Tests"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{onClick:_,disabled:e,className:"w-full",variant:"outline",children:e?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Running..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jn,{className:"h-4 w-4"}),"Quick Test"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tests basic distance calculation and API routing (~30 seconds)"}),c!==null&&o.jsx("div",{className:"flex items-center gap-2 mt-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"text-sm text-green-700",children:"Test Passed"})]}):o.jsxs(o.Fragment,{children:[o.jsx(GN,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"text-sm text-red-700",children:"Test Failed"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Pe,{onClick:b,disabled:r,className:"w-full",children:r?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Running..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(na,{className:"h-4 w-4"}),"Full Test Suite"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive testing of all route tracking features (~2 minutes)"})]})]})]}),f.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Test Output"}),o.jsx("div",{className:"p-4 bg-muted rounded-lg max-h-96 overflow-y-auto",children:o.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap",children:f.join(`
`)})})]}),!g.hasKey&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Rc,{className:"h-4 w-4"}),"Recommendations"]}),o.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[o.jsx("p",{className:"text-sm mb-3",children:"You're using free APIs which may be limited. For better reliability:"}),o.jsx("div",{className:"space-y-2",children:w.recommendations.filter(S=>S.recommended).map((S,k)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("strong",{children:[S.service,":"]})," ",S.freeLimit," free, ",S.paidOptions,o.jsx("br",{}),o.jsx("code",{className:"text-xs bg-gray-100 px-1 rounded",children:S.setup})]},k))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(fw,{className:"h-4 w-4"}),"Issues Fixed"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Distance Calculation"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Fixed 0 distance showing for 40km routes"}),o.jsx("li",{children:" Improved GPS point filtering (5m instead of 8m)"}),o.jsx("li",{children:" Better distance accumulation logic"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Route Visualization"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:' Fixed "Not enough points" error'}),o.jsx("li",{children:" Simplified route display logic"}),o.jsx("li",{children:" Better fallback for single GPS points"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" API Reliability"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Added timeout handling"}),o.jsx("li",{children:" Improved error handling"}),o.jsx("li",{children:" Better fallback strategies"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Performance"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Reduced API calls for long routes"}),o.jsx("li",{children:" Better caching strategies"}),o.jsx("li",{children:" More efficient GPS processing"})]})]})]})]})]})]})}function TL(){return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Pe,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:"/dashboard",children:[o.jsx(hf,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Route Tracking Test"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsx(PL,{})})]})}const kL=()=>{const e=iu();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};class Fc extends Error{}Fc.prototype.name="InvalidTokenError";function ML(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let a=r.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}function RL(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return ML(t)}catch{return atob(t)}}function LL(e,t){if(typeof e!="string")throw new Fc("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,a=e.split(".")[r];if(typeof a!="string")throw new Fc(`Invalid token specified: missing part #${r+1}`);let c;try{c=RL(a)}catch(d){throw new Fc(`Invalid token specified: invalid base64 for part #${r+1} (${d.message})`)}try{return JSON.parse(c)}catch(d){throw new Fc(`Invalid token specified: invalid json for part #${r+1} (${d.message})`)}}const AL=()=>{console.log(" Testing GPS routing functionality...");const e=[{lat:40.7128,lng:-74.006,address:"Start Location",timestamp:"2024-01-01T10:00:00Z"},{lat:40.713,lng:-74.0058,address:"Point 1",timestamp:"2024-01-01T10:01:00Z"},{lat:40.7135,lng:-74.0055,address:"Point 2",timestamp:"2024-01-01T10:02:00Z"},{lat:40.714,lng:-74.005,address:"Point 3",timestamp:"2024-01-01T10:03:00Z"},{lat:40.7145,lng:-74.0045,address:"End Location",timestamp:"2024-01-01T10:04:00Z"}],t=Zr.createGPSRoute(e);console.log(" GPS Route Result:",{source:t.source,confidence:t.confidence,coordinateCount:t.coordinates.length,distance:`${(t.distance/1e3).toFixed(2)} km`,duration:`${Math.round(t.duration)} seconds`}),console.log(" Testing edge cases...");const r=Zr.createGPSRoute([]);console.log("Empty route:",r);const a=Zr.createGPSRoute([e[0]]);return console.log("Single point route:",a),t},DL=()=>{console.log(`
 ROUTING COMPARISON:

 GPS TRACKING (RECOMMENDED):
-  Shows EXACT path taken by employee
-  High accuracy with real GPS coordinates
-  No dependency on external APIs
-  Works offline
-  Captures actual employee behavior

 ROAD API ROUTING:
-  Shows theoretical road-based route
-  May not match actual employee path
-  Depends on external services (OSRM/ORS)
-  Can fail due to network/API issues
-  Limited accuracy for tracking purposes

 STRAIGHT LINE FALLBACK:
-  Shows direct line between points
-  Ignores roads, buildings, obstacles
-  Very poor accuracy for tracking
-  Only useful as last resort
-  Does not represent actual route
  `)};ht.init();window.addEventListener("unhandledrejection",e=>{var t;((t=e.reason)==null?void 0:t.name)==="AbortError"&&(console.warn("Caught unhandled AbortError:",e.reason.message),e.preventDefault()),e.reason instanceof TypeError&&(e.reason.message.includes("fetch")||e.reason.message.includes("Failed to fetch"))&&(console.warn("Caught FullStory fetch interference:",e.reason.message),ht.forceXHRMode(),e.preventDefault())});if(typeof window<"u"){const e=window.fetch.toString();(e.includes("eval")||e.includes("fullstory")||e.length<50||window.FS)&&console.warn("FullStory detected on page load - HttpClient will use XMLHttpRequest on fetch failures")}const OL=new wC({defaultOptions:{queries:{retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4)}}}),IL=()=>(v.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("token");if(t)try{const r=LL(t);localStorage.setItem("idToken",t),localStorage.setItem("user",JSON.stringify(r)),console.log("Authenticated user:",r),window.history.replaceState({},document.title,window.location.pathname)}catch(r){console.error("Invalid token:",r)}console.log(" Initializing GPS routing system..."),AL(),DL()},[]),o.jsx(bC,{client:OL,children:o.jsxs(QE,{children:[o.jsx(IS,{}),o.jsx(mj,{}),o.jsx(wP,{children:o.jsxs(hP,{children:[o.jsx(ni,{path:"/",element:o.jsx(TM,{})}),o.jsx(ni,{path:"/dashboard",element:o.jsx(RM,{})}),o.jsx(ni,{path:"/tracking/:employeeId",element:o.jsx(_L,{})}),o.jsx(ni,{path:"/team-management",element:o.jsx(bL,{})}),o.jsx(ni,{path:"/data-management",element:o.jsx(jL,{})}),o.jsx(ni,{path:"/route-test",element:o.jsx(TL,{})}),o.jsx(ni,{path:"*",element:o.jsx(kL,{})})]})})]})}));zS.createRoot(document.getElementById("root")).render(o.jsx(IL,{}));
