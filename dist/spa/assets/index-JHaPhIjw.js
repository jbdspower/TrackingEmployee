var ZN=Object.defineProperty;var zv=e=>{throw TypeError(e)};var qN=(e,t,r)=>t in e?ZN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ds=(e,t,r)=>qN(e,typeof t!="symbol"?t+"":t,r),am=(e,t,r)=>t.has(e)||zv("Cannot "+r);var Te=(e,t,r)=>(am(e,t,"read from private field"),r?r.call(e):t.get(e)),Kt=(e,t,r)=>t.has(e)?zv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Lt=(e,t,r,a)=>(am(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),qn=(e,t,r)=>(am(e,t,"access private method"),r);var jd=(e,t,r,a)=>({set _(c){Lt(e,t,c,r)},get _(){return Te(e,t,a)}});function GN(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lm={exports:{}},Cc={},cm={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function YN(){if(Bv)return Dt;Bv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function C($,te,Pe){this.props=$,this.context=te,this.refs=j,this.updater=Pe||k}C.prototype.isReactComponent={},C.prototype.setState=function($,te){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,te,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function T(){}T.prototype=C.prototype;function D($,te,Pe){this.props=$,this.context=te,this.refs=j,this.updater=Pe||k}var M=D.prototype=new T;M.constructor=D,P(M,C.prototype),M.isPureReactComponent=!0;var O=Array.isArray,I=Object.prototype.hasOwnProperty,G={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function re($,te,Pe){var Le,Ee={},F=null,K=null;if(te!=null)for(Le in te.ref!==void 0&&(K=te.ref),te.key!==void 0&&(F=""+te.key),te)I.call(te,Le)&&!U.hasOwnProperty(Le)&&(Ee[Le]=te[Le]);var ue=arguments.length-2;if(ue===1)Ee.children=Pe;else if(1<ue){for(var be=Array(ue),Me=0;Me<ue;Me++)be[Me]=arguments[Me+2];Ee.children=be}if($&&$.defaultProps)for(Le in ue=$.defaultProps,ue)Ee[Le]===void 0&&(Ee[Le]=ue[Le]);return{$$typeof:e,type:$,key:F,ref:K,props:Ee,_owner:G.current}}function q($,te){return{$$typeof:e,type:$.type,key:te,ref:$.ref,props:$.props,_owner:$._owner}}function X($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function ne($){var te={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Pe){return te[Pe]})}var ge=/\/+/g;function Oe($,te){return typeof $=="object"&&$!==null&&$.key!=null?ne(""+$.key):te.toString(36)}function me($,te,Pe,Le,Ee){var F=typeof $;(F==="undefined"||F==="boolean")&&($=null);var K=!1;if($===null)K=!0;else switch(F){case"string":case"number":K=!0;break;case"object":switch($.$$typeof){case e:case t:K=!0}}if(K)return K=$,Ee=Ee(K),$=Le===""?"."+Oe(K,0):Le,O(Ee)?(Pe="",$!=null&&(Pe=$.replace(ge,"$&/")+"/"),me(Ee,te,Pe,"",function(Me){return Me})):Ee!=null&&(X(Ee)&&(Ee=q(Ee,Pe+(!Ee.key||K&&K.key===Ee.key?"":(""+Ee.key).replace(ge,"$&/")+"/")+$)),te.push(Ee)),1;if(K=0,Le=Le===""?".":Le+":",O($))for(var ue=0;ue<$.length;ue++){F=$[ue];var be=Le+Oe(F,ue);K+=me(F,te,Pe,be,Ee)}else if(be=S($),typeof be=="function")for($=be.call($),ue=0;!(F=$.next()).done;)F=F.value,be=Le+Oe(F,ue++),K+=me(F,te,Pe,be,Ee);else if(F==="object")throw te=String($),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return K}function $e($,te,Pe){if($==null)return $;var Le=[],Ee=0;return me($,Le,"","",function(F){return te.call(Pe,F,Ee++)}),Le}function J($){if($._status===-1){var te=$._result;te=te(),te.then(function(Pe){($._status===0||$._status===-1)&&($._status=1,$._result=Pe)},function(Pe){($._status===0||$._status===-1)&&($._status=2,$._result=Pe)}),$._status===-1&&($._status=0,$._result=te)}if($._status===1)return $._result.default;throw $._result}var _e={current:null},B={transition:null},pe={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:B,ReactCurrentOwner:G};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Dt.Children={map:$e,forEach:function($,te,Pe){$e($,function(){te.apply(this,arguments)},Pe)},count:function($){var te=0;return $e($,function(){te++}),te},toArray:function($){return $e($,function(te){return te})||[]},only:function($){if(!X($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Dt.Component=C,Dt.Fragment=r,Dt.Profiler=c,Dt.PureComponent=D,Dt.StrictMode=a,Dt.Suspense=g,Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Dt.act=ie,Dt.cloneElement=function($,te,Pe){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Le=P({},$.props),Ee=$.key,F=$.ref,K=$._owner;if(te!=null){if(te.ref!==void 0&&(F=te.ref,K=G.current),te.key!==void 0&&(Ee=""+te.key),$.type&&$.type.defaultProps)var ue=$.type.defaultProps;for(be in te)I.call(te,be)&&!U.hasOwnProperty(be)&&(Le[be]=te[be]===void 0&&ue!==void 0?ue[be]:te[be])}var be=arguments.length-2;if(be===1)Le.children=Pe;else if(1<be){ue=Array(be);for(var Me=0;Me<be;Me++)ue[Me]=arguments[Me+2];Le.children=ue}return{$$typeof:e,type:$.type,key:Ee,ref:F,props:Le,_owner:K}},Dt.createContext=function($){return $={$$typeof:f,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:d,_context:$},$.Consumer=$},Dt.createElement=re,Dt.createFactory=function($){var te=re.bind(null,$);return te.type=$,te},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function($){return{$$typeof:p,render:$}},Dt.isValidElement=X,Dt.lazy=function($){return{$$typeof:_,_payload:{_status:-1,_result:$},_init:J}},Dt.memo=function($,te){return{$$typeof:w,type:$,compare:te===void 0?null:te}},Dt.startTransition=function($){var te=B.transition;B.transition={};try{$()}finally{B.transition=te}},Dt.unstable_act=ie,Dt.useCallback=function($,te){return _e.current.useCallback($,te)},Dt.useContext=function($){return _e.current.useContext($)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function($){return _e.current.useDeferredValue($)},Dt.useEffect=function($,te){return _e.current.useEffect($,te)},Dt.useId=function(){return _e.current.useId()},Dt.useImperativeHandle=function($,te,Pe){return _e.current.useImperativeHandle($,te,Pe)},Dt.useInsertionEffect=function($,te){return _e.current.useInsertionEffect($,te)},Dt.useLayoutEffect=function($,te){return _e.current.useLayoutEffect($,te)},Dt.useMemo=function($,te){return _e.current.useMemo($,te)},Dt.useReducer=function($,te,Pe){return _e.current.useReducer($,te,Pe)},Dt.useRef=function($){return _e.current.useRef($)},Dt.useState=function($){return _e.current.useState($)},Dt.useSyncExternalStore=function($,te,Pe){return _e.current.useSyncExternalStore($,te,Pe)},Dt.useTransition=function(){return _e.current.useTransition()},Dt.version="18.3.1",Dt}var Uv;function _p(){return Uv||(Uv=1,cm.exports=YN()),cm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function KN(){if(Hv)return Cc;Hv=1;var e=_p(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,w){var _,b={},S=null,k=null;w!==void 0&&(S=""+w),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(k=g.ref);for(_ in g)a.call(g,_)&&!d.hasOwnProperty(_)&&(b[_]=g[_]);if(p&&p.defaultProps)for(_ in g=p.defaultProps,g)b[_]===void 0&&(b[_]=g[_]);return{$$typeof:t,type:p,key:S,ref:k,props:b,_owner:c.current}}return Cc.Fragment=r,Cc.jsx=f,Cc.jsxs=f,Cc}var Wv;function XN(){return Wv||(Wv=1,lm.exports=KN()),lm.exports}var o=XN(),v=_p();const Ue=wp(v),Ty=GN({__proto__:null,default:Ue},[v]),QN=1,JN=1e6;let um=0;function e1(){return um=(um+1)%Number.MAX_SAFE_INTEGER,um.toString()}const dm=new Map,Vv=e=>{if(dm.has(e))return;const t=setTimeout(()=>{dm.delete(e),$c({type:"REMOVE_TOAST",toastId:e})},JN);dm.set(e,t)},t1=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,QN)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Vv(r):e.toasts.forEach(a=>{Vv(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Bd=[];let Ud={toasts:[]};function $c(e){Ud=t1(Ud,e),Bd.forEach(t=>{t(Ud)})}function Kr({...e}){const t=e1(),r=c=>$c({type:"UPDATE_TOAST",toast:{...c,id:t}}),a=()=>$c({type:"DISMISS_TOAST",toastId:t});return $c({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:c=>{c||a()}}}),{id:t,dismiss:a,update:r}}function xo(){const[e,t]=v.useState(Ud);return v.useEffect(()=>(Bd.push(t),()=>{const r=Bd.indexOf(t);r>-1&&Bd.splice(r,1)}),[e]),{...e,toast:Kr,dismiss:r=>$c({type:"DISMISS_TOAST",toastId:r})}}var fm={exports:{}},pr={},hm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function n1(){return Zv||(Zv=1,function(e){function t(B,pe){var ie=B.length;B.push(pe);e:for(;0<ie;){var $=ie-1>>>1,te=B[$];if(0<c(te,pe))B[$]=pe,B[ie]=te,ie=$;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var pe=B[0],ie=B.pop();if(ie!==pe){B[0]=ie;e:for(var $=0,te=B.length,Pe=te>>>1;$<Pe;){var Le=2*($+1)-1,Ee=B[Le],F=Le+1,K=B[F];if(0>c(Ee,ie))F<te&&0>c(K,Ee)?(B[$]=K,B[F]=ie,$=F):(B[$]=Ee,B[Le]=ie,$=Le);else if(F<te&&0>c(K,ie))B[$]=K,B[F]=ie,$=F;else break e}}return pe}function c(B,pe){var ie=B.sortIndex-pe.sortIndex;return ie!==0?ie:B.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var g=[],w=[],_=1,b=null,S=3,k=!1,P=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(B){for(var pe=r(w);pe!==null;){if(pe.callback===null)a(w);else if(pe.startTime<=B)a(w),pe.sortIndex=pe.expirationTime,t(g,pe);else break;pe=r(w)}}function O(B){if(j=!1,M(B),!P)if(r(g)!==null)P=!0,J(I);else{var pe=r(w);pe!==null&&_e(O,pe.startTime-B)}}function I(B,pe){P=!1,j&&(j=!1,T(re),re=-1),k=!0;var ie=S;try{for(M(pe),b=r(g);b!==null&&(!(b.expirationTime>pe)||B&&!ne());){var $=b.callback;if(typeof $=="function"){b.callback=null,S=b.priorityLevel;var te=$(b.expirationTime<=pe);pe=e.unstable_now(),typeof te=="function"?b.callback=te:b===r(g)&&a(g),M(pe)}else a(g);b=r(g)}if(b!==null)var Pe=!0;else{var Le=r(w);Le!==null&&_e(O,Le.startTime-pe),Pe=!1}return Pe}finally{b=null,S=ie,k=!1}}var G=!1,U=null,re=-1,q=5,X=-1;function ne(){return!(e.unstable_now()-X<q)}function ge(){if(U!==null){var B=e.unstable_now();X=B;var pe=!0;try{pe=U(!0,B)}finally{pe?Oe():(G=!1,U=null)}}else G=!1}var Oe;if(typeof D=="function")Oe=function(){D(ge)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,$e=me.port2;me.port1.onmessage=ge,Oe=function(){$e.postMessage(null)}}else Oe=function(){C(ge,0)};function J(B){U=B,G||(G=!0,Oe())}function _e(B,pe){re=C(function(){B(e.unstable_now())},pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){P||k||(P=!0,J(I))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return r(g)},e.unstable_next=function(B){switch(S){case 1:case 2:case 3:var pe=3;break;default:pe=S}var ie=S;S=pe;try{return B()}finally{S=ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,pe){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=S;S=B;try{return pe()}finally{S=ie}},e.unstable_scheduleCallback=function(B,pe,ie){var $=e.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?$+ie:$):ie=$,B){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ie+te,B={id:_++,callback:pe,priorityLevel:B,startTime:ie,expirationTime:te,sortIndex:-1},ie>$?(B.sortIndex=ie,t(w,B),r(g)===null&&B===r(w)&&(j?(T(re),re=-1):j=!0,_e(O,ie-$))):(B.sortIndex=te,t(g,B),P||k||(P=!0,J(I))),B},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(B){var pe=S;return function(){var ie=S;S=pe;try{return B.apply(this,arguments)}finally{S=ie}}}}(mm)),mm}var qv;function r1(){return qv||(qv=1,hm.exports=n1()),hm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function s1(){if(Gv)return pr;Gv=1;var e=_p(),t=r1();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(n,i){f(n,i),f(n+"Capture",i)}function f(n,i){for(c[n]=i,n=0;n<i.length;n++)a.add(i[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},b={};function S(n){return g.call(b,n)?!0:g.call(_,n)?!1:w.test(n)?b[n]=!0:(_[n]=!0,!1)}function k(n,i,u,m){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,i,u,m){if(i===null||typeof i>"u"||k(n,i,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(n,i,u,m,y,N,R){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=n,this.type=i,this.sanitizeURL=N,this.removeEmptyString=R}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];C[i]=new j(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function D(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(T,D);C[i]=new j(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(T,D);C[i]=new j(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(T,D);C[i]=new j(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function M(n,i,u,m){var y=C.hasOwnProperty(i)?C[i]:null;(y!==null?y.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,u,y,m)&&(u=null),m||y===null?S(i)&&(u===null?n.removeAttribute(i):n.setAttribute(i,""+u)):y.mustUseProperty?n[y.propertyName]=u===null?y.type===3?!1:"":u:(i=y.attributeName,m=y.attributeNamespace,u===null?n.removeAttribute(i):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?n.setAttributeNS(m,i,u):n.setAttribute(i,u))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),G=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ne=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),B=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var ie=Object.assign,$;function te(n){if($===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);$=i&&i[1]||""}return`
`+$+n}var Pe=!1;function Le(n,i){if(!n||Pe)return"";Pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(he){var m=he}Reflect.construct(n,[],i)}else{try{i.call()}catch(he){m=he}n.call(i.prototype)}else{try{throw Error()}catch(he){m=he}n()}}catch(he){if(he&&m&&typeof he.stack=="string"){for(var y=he.stack.split(`
`),N=m.stack.split(`
`),R=y.length-1,z=N.length-1;1<=R&&0<=z&&y[R]!==N[z];)z--;for(;1<=R&&0<=z;R--,z--)if(y[R]!==N[z]){if(R!==1||z!==1)do if(R--,z--,0>z||y[R]!==N[z]){var Y=`
`+y[R].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=R&&0<=z);break}}}finally{Pe=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?te(n):""}function Ee(n){switch(n.tag){case 5:return te(n.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return n=Le(n.type,!1),n;case 11:return n=Le(n.type.render,!1),n;case 1:return n=Le(n.type,!0),n;default:return""}}function F(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case U:return"Fragment";case G:return"Portal";case q:return"Profiler";case re:return"StrictMode";case Oe:return"Suspense";case me:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ne:return(n.displayName||"Context")+".Consumer";case X:return(n._context.displayName||"Context")+".Provider";case ge:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $e:return i=n.displayName||null,i!==null?i:F(n.type)||"Memo";case J:i=n._payload,n=n._init;try{return F(n(i))}catch{}}return null}function K(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(i);case 8:return i===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ue(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function be(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Me(n){var i=be(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),m=""+n[i];if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,N=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return y.call(this)},set:function(R){m=""+R,N.call(this,R)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function He(n){n._valueTracker||(n._valueTracker=Me(n))}function Ze(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var u=i.getValue(),m="";return n&&(m=be(n)?n.checked?"true":"false":n.value),n=m,n!==u?(i.setValue(n),!0):!1}function rt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function xt(n,i){var u=i.checked;return ie({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function Se(n,i){var u=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;u=ue(i.value!=null?i.value:u),n._wrapperState={initialChecked:m,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Z(n,i){i=i.checked,i!=null&&M(n,"checked",i,!1)}function le(n,i){Z(n,i);var u=ue(i.value),m=i.type;if(u!=null)m==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Ne(n,i.type,u):i.hasOwnProperty("defaultValue")&&Ne(n,i.type,ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Ce(n,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,u||i===n.value||(n.value=i),n.defaultValue=i}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function Ne(n,i,u){(i!=="number"||rt(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var Be=Array.isArray;function Xe(n,i,u,m){if(n=n.options,i){i={};for(var y=0;y<u.length;y++)i["$"+u[y]]=!0;for(u=0;u<n.length;u++)y=i.hasOwnProperty("$"+n[u].value),n[u].selected!==y&&(n[u].selected=y),y&&m&&(n[u].defaultSelected=!0)}else{for(u=""+ue(u),i=null,y=0;y<n.length;y++){if(n[y].value===u){n[y].selected=!0,m&&(n[y].defaultSelected=!0);return}i!==null||n[y].disabled||(i=n[y])}i!==null&&(i.selected=!0)}}function Ye(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ut(n,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(r(92));if(Be(u)){if(1<u.length)throw Error(r(93));u=u[0]}i=u}i==null&&(i=""),u=i}n._wrapperState={initialValue:ue(u)}}function Pt(n,i){var u=ue(i.value),m=ue(i.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),i.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),m!=null&&(n.defaultValue=""+m)}function St(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function At(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ht(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?At(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qt,Vt=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,m,y){MSApp.execUnsafeLocalFunction(function(){return n(i,u,m,y)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(qt=qt||document.createElement("div"),qt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=qt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Je(n,i){if(i){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=i;return}}n.textContent=i}var $t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hn=["Webkit","ms","Moz","O"];Object.keys($t).forEach(function(n){hn.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),$t[i]=$t[n]})});function jt(n,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||$t.hasOwnProperty(n)&&$t[n]?(""+i).trim():i+"px"}function Xt(n,i){n=n.style;for(var u in i)if(i.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=jt(u,i[u],m);u==="float"&&(u="cssFloat"),m?n.setProperty(u,y):n[u]=y}}var en=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function H(n,i){if(i){if(en[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function ye(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V=null;function ee(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var de=null,ve=null,we=null;function We(n){if(n=to(n)){if(typeof de!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Ba(i),de(n.stateNode,n.type,i))}}function ce(n){ve?we?we.push(n):we=[n]:ve=n}function ze(){if(ve){var n=ve,i=we;if(we=ve=null,We(n),i)for(n=0;n<i.length;n++)We(i[n])}}function Ie(n,i){return n(i)}function nt(){}var zt=!1;function _r(n,i,u){if(zt)return n(i,u);zt=!0;try{return Ie(n,i,u)}finally{zt=!1,(ve!==null||we!==null)&&(nt(),ze())}}function Tt(n,i){var u=n.stateNode;if(u===null)return null;var m=Ba(u);if(m===null)return null;u=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(r(231,i,typeof u));return u}var pt=!1;if(p)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){pt=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{pt=!1}function Gt(n,i,u,m,y,N,R,z,Y){var he=Array.prototype.slice.call(arguments,3);try{i.apply(u,he)}catch(Ae){this.onError(Ae)}}var Sn=!1,Ke=null,bi=!1,ga=null,fu={onError:function(n){Sn=!0,Ke=n}};function hu(n,i,u,m,y,N,R,z,Y){Sn=!1,Ke=null,Gt.apply(fu,arguments)}function Fl(n,i,u,m,y,N,R,z,Y){if(hu.apply(this,arguments),Sn){if(Sn){var he=Ke;Sn=!1,Ke=null}else throw Error(r(198));bi||(bi=!0,ga=he)}}function Ns(n){var i=n,u=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(u=i.return),n=i.return;while(n)}return i.tag===3?u:null}function Ws(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function $l(n){if(Ns(n)!==n)throw Error(r(188))}function $f(n){var i=n.alternate;if(!i){if(i=Ns(n),i===null)throw Error(r(188));return i!==n?null:n}for(var u=n,m=i;;){var y=u.return;if(y===null)break;var N=y.alternate;if(N===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===u)return $l(y),n;if(N===m)return $l(y),i;N=N.sibling}throw Error(r(188))}if(u.return!==m.return)u=y,m=N;else{for(var R=!1,z=y.child;z;){if(z===u){R=!0,u=y,m=N;break}if(z===m){R=!0,m=y,u=N;break}z=z.sibling}if(!R){for(z=N.child;z;){if(z===u){R=!0,u=N,m=y;break}if(z===m){R=!0,m=N,u=y;break}z=z.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?n:i}function mu(n){return n=$f(n),n!==null?pu(n):null}function pu(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=pu(n);if(i!==null)return i;n=n.sibling}return null}var gu=t.unstable_scheduleCallback,zl=t.unstable_cancelCallback,zf=t.unstable_shouldYield,va=t.unstable_requestPaint,mn=t.unstable_now,Bf=t.unstable_getCurrentPriorityLevel,Bl=t.unstable_ImmediatePriority,vu=t.unstable_UserBlockingPriority,xa=t.unstable_NormalPriority,Ul=t.unstable_LowPriority,yo=t.unstable_IdlePriority,Ni=null,br=null;function Si(n){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Ni,n,void 0,(n.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:wo,on=Math.log,ya=Math.LN2;function wo(n){return n>>>=0,n===0?32:31-(on(n)/ya|0)|0}var ss=64,_o=4194304;function wt(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function rn(n,i){var u=n.pendingLanes;if(u===0)return 0;var m=0,y=n.suspendedLanes,N=n.pingedLanes,R=u&268435455;if(R!==0){var z=R&~y;z!==0?m=wt(z):(N&=R,N!==0&&(m=wt(N)))}else R=u&~y,R!==0?m=wt(R):N!==0&&(m=wt(N));if(m===0)return 0;if(i!==0&&i!==m&&(i&y)===0&&(y=m&-m,N=i&-i,y>=N||y===16&&(N&4194240)!==0))return i;if((m&4)!==0&&(m|=u&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=m;0<i;)u=31-bt(i),y=1<<u,m|=n[u],i&=~y;return m}function Hl(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wa(n,i){for(var u=n.suspendedLanes,m=n.pingedLanes,y=n.expirationTimes,N=n.pendingLanes;0<N;){var R=31-bt(N),z=1<<R,Y=y[R];Y===-1?((z&u)===0||(z&m)!==0)&&(y[R]=Hl(z,i)):Y<=i&&(n.expiredLanes|=z),N&=~z}}function zn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function xu(){var n=ss;return ss<<=1,(ss&4194240)===0&&(ss=64),n}function bo(n){for(var i=[],u=0;31>u;u++)i.push(n);return i}function Nr(n,i,u){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-bt(i),n[i]=u}function wn(n,i){var u=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<u;){var y=31-bt(u),N=1<<y;i[y]=0,m[y]=-1,n[y]=-1,u&=~N}}function os(n,i){var u=n.entangledLanes|=i;for(n=n.entanglements;u;){var m=31-bt(u),y=1<<m;y&i|n[m]&i&&(n[m]|=i),u&=~y}}var Bt=0;function No(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var _a,Vs,ba,Na,ji,Ei=!1,So=[],Sr=null,is=null,Fr=null,Ci=new Map,gt=new Map,kn=[],tn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wl(n,i){switch(n){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Ci.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gt.delete(i.pointerId)}}function Zs(n,i,u,m,y,N){return n===null||n.nativeEvent!==N?(n={blockedOn:i,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[y]},i!==null&&(i=to(i),i!==null&&Vs(i)),n):(n.eventSystemFlags|=m,i=n.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),n)}function Vl(n,i,u,m,y){switch(i){case"focusin":return Sr=Zs(Sr,n,i,u,m,y),!0;case"dragenter":return is=Zs(is,n,i,u,m,y),!0;case"mouseover":return Fr=Zs(Fr,n,i,u,m,y),!0;case"pointerover":var N=y.pointerId;return Ci.set(N,Zs(Ci.get(N)||null,n,i,u,m,y)),!0;case"gotpointercapture":return N=y.pointerId,gt.set(N,Zs(gt.get(N)||null,n,i,u,m,y)),!0}return!1}function Sa(n){var i=eo(n.target);if(i!==null){var u=Ns(i);if(u!==null){if(i=u.tag,i===13){if(i=Ws(u),i!==null){n.blockedOn=i,ji(n.priority,function(){ba(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function $r(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var u=Ca(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var m=new u.constructor(u.type,u);V=m,u.target.dispatchEvent(m),V=null}else return i=to(u),i!==null&&Vs(i),n.blockedOn=u,!1;i.shift()}return!0}function ja(n,i,u){$r(n)&&u.delete(i)}function Pi(){Ei=!1,Sr!==null&&$r(Sr)&&(Sr=null),is!==null&&$r(is)&&(is=null),Fr!==null&&$r(Fr)&&(Fr=null),Ci.forEach(ja),gt.forEach(ja)}function pn(n,i){n.blockedOn===i&&(n.blockedOn=null,Ei||(Ei=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pi)))}function jr(n){function i(y){return pn(y,n)}if(0<So.length){pn(So[0],n);for(var u=1;u<So.length;u++){var m=So[u];m.blockedOn===n&&(m.blockedOn=null)}}for(Sr!==null&&pn(Sr,n),is!==null&&pn(is,n),Fr!==null&&pn(Fr,n),Ci.forEach(i),gt.forEach(i),u=0;u<kn.length;u++)m=kn[u],m.blockedOn===n&&(m.blockedOn=null);for(;0<kn.length&&(u=kn[0],u.blockedOn===null);)Sa(u),u.blockedOn===null&&kn.shift()}var qs=O.ReactCurrentBatchConfig,Ti=!0;function Uf(n,i,u,m){var y=Bt,N=qs.transition;qs.transition=null;try{Bt=1,ki(n,i,u,m)}finally{Bt=y,qs.transition=N}}function yu(n,i,u,m){var y=Bt,N=qs.transition;qs.transition=null;try{Bt=4,ki(n,i,u,m)}finally{Bt=y,qs.transition=N}}function ki(n,i,u,m){if(Ti){var y=Ca(n,i,u,m);if(y===null)s(n,i,m,Ea,u),Wl(n,m);else if(Vl(y,n,i,u,m))m.stopPropagation();else if(Wl(n,m),i&4&&-1<tn.indexOf(n)){for(;y!==null;){var N=to(y);if(N!==null&&_a(N),N=Ca(n,i,u,m),N===null&&s(n,i,m,Ea,u),N===y)break;y=N}y!==null&&m.stopPropagation()}else s(n,i,m,null,u)}}var Ea=null;function Ca(n,i,u,m){if(Ea=null,n=ee(m),n=eo(n),n!==null)if(i=Ns(n),i===null)n=null;else if(u=i.tag,u===13){if(n=Ws(i),n!==null)return n;n=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ea=n,null}function Ft(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bf()){case Bl:return 1;case vu:return 4;case xa:case Ul:return 16;case yo:return 536870912;default:return 16}default:return 16}}var Ss=null,Xn=null,js=null;function Zl(){if(js)return js;var n,i=Xn,u=i.length,m,y="value"in Ss?Ss.value:Ss.textContent,N=y.length;for(n=0;n<u&&i[n]===y[n];n++);var R=u-n;for(m=1;m<=R&&i[u-m]===y[N-m];m++);return js=y.slice(n,1<m?1-m:void 0)}function Pa(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function jo(){return!0}function wu(){return!1}function Bn(n){function i(u,m,y,N,R){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var z in n)n.hasOwnProperty(z)&&(u=n[z],this[z]=u?u(N):N[z]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?jo:wu,this.isPropagationStopped=wu,this}return ie(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),i}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=Bn(Eo),Gs=ie({},Eo,{view:0,detail:0}),Hf=Bn(Gs),lr,Gl,Co,Er=ie({},Gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Co&&(Co&&n.type==="mousemove"?(lr=n.screenX-Co.screenX,Gl=n.screenY-Co.screenY):Gl=lr=0,Co=n),lr)},movementY:function(n){return"movementY"in n?n.movementY:Gl}}),Yl=Bn(Er),_u=ie({},Er,{dataTransfer:0}),Kl=Bn(_u),Wf=ie({},Gs,{relatedTarget:0}),Ta=Bn(Wf),bu=ie({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),Vf=Bn(bu),Zf=ie({},Eo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Xl=Bn(Zf),qf=ie({},Eo,{data:0}),Ql=Bn(qf),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ka={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ys={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gf(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Ys[n])?!!i[n]:!1}function Ks(){return Gf}var cr=ie({},Gs,{key:function(n){if(n.key){var i=Nu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Pa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ka[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(n){return n.type==="keypress"?Pa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Pa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Su=Bn(cr),ju=ie({},Er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=Bn(ju),Jl=ie({},Gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),ec=Bn(Jl),Yf=ie({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kf=Bn(Yf),Cu=ie({},Er,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Xf=Bn(Cu),Cr=[9,13,27,32],Es=p&&"CompositionEvent"in window,Mi=null;p&&"documentMode"in document&&(Mi=document.documentMode);var as=p&&"TextEvent"in window&&!Mi,Pu=p&&(!Es||Mi&&8<Mi&&11>=Mi),Xs=" ",Tu=!1;function Po(n,i){switch(n){case"keyup":return Cr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ls=!1;function Qf(n,i){switch(n){case"compositionend":return tc(i);case"keypress":return i.which!==32?null:(Tu=!0,Xs);case"textInput":return n=i.data,n===Xs&&Tu?null:n;default:return null}}function Cs(n,i){if(ls)return n==="compositionend"||!Es&&Po(n,i)?(n=Zl(),js=Xn=Ss=null,ls=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pu&&i.locale!=="ko"?null:i.data;default:return null}}var Ma={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ku(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ma[n.type]:i==="textarea"}function Ra(n,i,u,m){ce(m),i=h(i,"onChange"),0<i.length&&(u=new ql("onChange","change",null,u,m),n.push({event:u,listeners:i}))}var Ri=null,Qn=null;function Jf(n){uc(n,0)}function cs(n){var i=no(n);if(Ze(i))return n}function eh(n,i){if(n==="change")return i}var zr=!1;if(p){var To;if(p){var La="oninput"in document;if(!La){var Aa=document.createElement("div");Aa.setAttribute("oninput","return;"),La=typeof Aa.oninput=="function"}To=La}else To=!1;zr=To&&(!document.documentMode||9<document.documentMode)}function Li(){Ri&&(Ri.detachEvent("onpropertychange",Da),Qn=Ri=null)}function Da(n){if(n.propertyName==="value"&&cs(Qn)){var i=[];Ra(i,Qn,n,ee(n)),_r(Jf,i)}}function Oa(n,i,u){n==="focusin"?(Li(),Ri=i,Qn=u,Ri.attachEvent("onpropertychange",Da)):n==="focusout"&&Li()}function ko(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cs(Qn)}function Ia(n,i){if(n==="click")return cs(i)}function nc(n,i){if(n==="input"||n==="change")return cs(i)}function Mu(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Pr=typeof Object.is=="function"?Object.is:Mu;function Ps(n,i){if(Pr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var u=Object.keys(n),m=Object.keys(i);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!g.call(i,y)||!Pr(n[y],i[y]))return!1}return!0}function Ru(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rc(n,i){var u=Ru(n);n=0;for(var m;u;){if(u.nodeType===3){if(m=n+u.textContent.length,n<=i&&m>=i)return{node:u,offset:i-n};n=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ru(u)}}function Lu(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Lu(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function sc(){for(var n=window,i=rt();i instanceof n.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)n=i.contentWindow;else break;i=rt(n.document)}return i}function oc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Br(n){var i=sc(),u=n.focusedElem,m=n.selectionRange;if(i!==u&&u&&u.ownerDocument&&Lu(u.ownerDocument.documentElement,u)){if(m!==null&&oc(u)){if(i=m.start,n=m.end,n===void 0&&(n=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(n,u.value.length);else if(n=(i=u.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var y=u.textContent.length,N=Math.min(m.start,y);m=m.end===void 0?N:Math.min(m.end,y),!n.extend&&N>m&&(y=m,m=N,N=y),y=rc(u,N);var R=rc(u,m);y&&R&&(n.rangeCount!==1||n.anchorNode!==y.node||n.anchorOffset!==y.offset||n.focusNode!==R.node||n.focusOffset!==R.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),n.removeAllRanges(),N>m?(n.addRange(i),n.extend(R.node,R.offset)):(i.setEnd(R.node,R.offset),n.addRange(i)))}}for(i=[],n=u;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)n=i[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Fa=p&&"documentMode"in document&&11>=document.documentMode,Mo=null,Ro=null,Ai=null,$a=!1;function Au(n,i,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;$a||Mo==null||Mo!==rt(m)||(m=Mo,"selectionStart"in m&&oc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ai&&Ps(Ai,m)||(Ai=m,m=h(Ro,"onSelect"),0<m.length&&(i=new ql("onSelect","select",null,i,u),n.push({event:i,listeners:m}),i.target=Mo)))}function Ts(n,i){var u={};return u[n.toLowerCase()]=i.toLowerCase(),u["Webkit"+n]="webkit"+i,u["Moz"+n]="moz"+i,u}var Lo={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionend:Ts("Transition","TransitionEnd")},ks={},ic={};p&&(ic=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function Di(n){if(ks[n])return ks[n];if(!Lo[n])return n;var i=Lo[n],u;for(u in i)if(i.hasOwnProperty(u)&&u in ic)return ks[n]=i[u];return n}var Du=Di("animationend"),Ur=Di("animationiteration"),ac=Di("animationstart"),lc=Di("transitionend"),Ao=new Map,Ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(n,i){Ao.set(n,i),d(i,[n])}for(var Qs=0;Qs<Ou.length;Qs++){var za=Ou[Qs],Iu=za.toLowerCase(),th=za[0].toUpperCase()+za.slice(1);Tr(Iu,"on"+th)}Tr(Du,"onAnimationEnd"),Tr(Ur,"onAnimationIteration"),Tr(ac,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(lc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function cc(n,i,u){var m=n.type||"unknown-event";n.currentTarget=u,Fl(m,i,void 0,n),n.currentTarget=null}function uc(n,i){i=(i&4)!==0;for(var u=0;u<n.length;u++){var m=n[u],y=m.event;m=m.listeners;e:{var N=void 0;if(i)for(var R=m.length-1;0<=R;R--){var z=m[R],Y=z.instance,he=z.currentTarget;if(z=z.listener,Y!==N&&y.isPropagationStopped())break e;cc(y,z,he),N=Y}else for(R=0;R<m.length;R++){if(z=m[R],Y=z.instance,he=z.currentTarget,z=z.listener,Y!==N&&y.isPropagationStopped())break e;cc(y,z,he),N=Y}}}if(bi)throw n=ga,bi=!1,ga=null,n}function nn(n,i){var u=i[$o];u===void 0&&(u=i[$o]=new Set);var m=n+"__bubble";u.has(m)||($u(i,n,2,!1),u.add(m))}function dc(n,i,u){var m=0;i&&(m|=4),$u(u,n,m,i)}var Oi="_reactListening"+Math.random().toString(36).slice(2);function Oo(n){if(!n[Oi]){n[Oi]=!0,a.forEach(function(u){u!=="selectionchange"&&(Fu.has(u)||dc(u,!1,n),dc(u,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Oi]||(i[Oi]=!0,dc("selectionchange",!1,i))}}function $u(n,i,u,m){switch(Ft(i)){case 1:var y=Uf;break;case 4:y=yu;break;default:y=ki}u=y.bind(null,i,u,n),y=void 0,!pt||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),m?y!==void 0?n.addEventListener(i,u,{capture:!0,passive:y}):n.addEventListener(i,u,!0):y!==void 0?n.addEventListener(i,u,{passive:y}):n.addEventListener(i,u,!1)}function s(n,i,u,m,y){var N=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var z=m.stateNode.containerInfo;if(z===y||z.nodeType===8&&z.parentNode===y)break;if(R===4)for(R=m.return;R!==null;){var Y=R.tag;if((Y===3||Y===4)&&(Y=R.stateNode.containerInfo,Y===y||Y.nodeType===8&&Y.parentNode===y))return;R=R.return}for(;z!==null;){if(R=eo(z),R===null)return;if(Y=R.tag,Y===5||Y===6){m=N=R;continue e}z=z.parentNode}}m=m.return}_r(function(){var he=N,Ae=ee(u),De=[];e:{var Re=Ao.get(n);if(Re!==void 0){var qe=ql,Qe=n;switch(n){case"keypress":if(Pa(u)===0)break e;case"keydown":case"keyup":qe=Su;break;case"focusin":Qe="focus",qe=Ta;break;case"focusout":Qe="blur",qe=Ta;break;case"beforeblur":case"afterblur":qe=Ta;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":qe=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":qe=Kl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":qe=ec;break;case Du:case Ur:case ac:qe=Vf;break;case lc:qe=Kf;break;case"scroll":qe=Hf;break;case"wheel":qe=Xf;break;case"copy":case"cut":case"paste":qe=Xl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":qe=Eu}var et=(i&4)!==0,jn=!et&&n==="scroll",oe=et?Re!==null?Re+"Capture":null:Re;et=[];for(var Q=he,ae;Q!==null;){ae=Q;var Fe=ae.stateNode;if(ae.tag===5&&Fe!==null&&(ae=Fe,oe!==null&&(Fe=Tt(Q,oe),Fe!=null&&et.push(l(Q,Fe,ae)))),jn)break;Q=Q.return}0<et.length&&(Re=new qe(Re,Qe,null,u,Ae),De.push({event:Re,listeners:et}))}}if((i&7)===0){e:{if(Re=n==="mouseover"||n==="pointerover",qe=n==="mouseout"||n==="pointerout",Re&&u!==V&&(Qe=u.relatedTarget||u.fromElement)&&(eo(Qe)||Qe[Yt]))break e;if((qe||Re)&&(Re=Ae.window===Ae?Ae:(Re=Ae.ownerDocument)?Re.defaultView||Re.parentWindow:window,qe?(Qe=u.relatedTarget||u.toElement,qe=he,Qe=Qe?eo(Qe):null,Qe!==null&&(jn=Ns(Qe),Qe!==jn||Qe.tag!==5&&Qe.tag!==6)&&(Qe=null)):(qe=null,Qe=he),qe!==Qe)){if(et=Yl,Fe="onMouseLeave",oe="onMouseEnter",Q="mouse",(n==="pointerout"||n==="pointerover")&&(et=Eu,Fe="onPointerLeave",oe="onPointerEnter",Q="pointer"),jn=qe==null?Re:no(qe),ae=Qe==null?Re:no(Qe),Re=new et(Fe,Q+"leave",qe,u,Ae),Re.target=jn,Re.relatedTarget=ae,Fe=null,eo(Ae)===he&&(et=new et(oe,Q+"enter",Qe,u,Ae),et.target=ae,et.relatedTarget=jn,Fe=et),jn=Fe,qe&&Qe)t:{for(et=qe,oe=Qe,Q=0,ae=et;ae;ae=x(ae))Q++;for(ae=0,Fe=oe;Fe;Fe=x(Fe))ae++;for(;0<Q-ae;)et=x(et),Q--;for(;0<ae-Q;)oe=x(oe),ae--;for(;Q--;){if(et===oe||oe!==null&&et===oe.alternate)break t;et=x(et),oe=x(oe)}et=null}else et=null;qe!==null&&E(De,Re,qe,et,!1),Qe!==null&&jn!==null&&E(De,jn,Qe,et,!0)}}e:{if(Re=he?no(he):window,qe=Re.nodeName&&Re.nodeName.toLowerCase(),qe==="select"||qe==="input"&&Re.type==="file")var tt=eh;else if(ku(Re))if(zr)tt=nc;else{tt=ko;var lt=Oa}else(qe=Re.nodeName)&&qe.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(tt=Ia);if(tt&&(tt=tt(n,he))){Ra(De,tt,u,Ae);break e}lt&&lt(n,Re,he),n==="focusout"&&(lt=Re._wrapperState)&&lt.controlled&&Re.type==="number"&&Ne(Re,"number",Re.value)}switch(lt=he?no(he):window,n){case"focusin":(ku(lt)||lt.contentEditable==="true")&&(Mo=lt,Ro=he,Ai=null);break;case"focusout":Ai=Ro=Mo=null;break;case"mousedown":$a=!0;break;case"contextmenu":case"mouseup":case"dragend":$a=!1,Au(De,u,Ae);break;case"selectionchange":if(Fa)break;case"keydown":case"keyup":Au(De,u,Ae)}var ct;if(Es)e:{switch(n){case"compositionstart":var vt="onCompositionStart";break e;case"compositionend":vt="onCompositionEnd";break e;case"compositionupdate":vt="onCompositionUpdate";break e}vt=void 0}else ls?Po(n,u)&&(vt="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(vt="onCompositionStart");vt&&(Pu&&u.locale!=="ko"&&(ls||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&ls&&(ct=Zl()):(Ss=Ae,Xn="value"in Ss?Ss.value:Ss.textContent,ls=!0)),lt=h(he,vt),0<lt.length&&(vt=new Ql(vt,n,null,u,Ae),De.push({event:vt,listeners:lt}),ct?vt.data=ct:(ct=tc(u),ct!==null&&(vt.data=ct)))),(ct=as?Qf(n,u):Cs(n,u))&&(he=h(he,"onBeforeInput"),0<he.length&&(Ae=new Ql("onBeforeInput","beforeinput",null,u,Ae),De.push({event:Ae,listeners:he}),Ae.data=ct))}uc(De,i)})}function l(n,i,u){return{instance:n,listener:i,currentTarget:u}}function h(n,i){for(var u=i+"Capture",m=[];n!==null;){var y=n,N=y.stateNode;y.tag===5&&N!==null&&(y=N,N=Tt(n,u),N!=null&&m.unshift(l(n,N,y)),N=Tt(n,i),N!=null&&m.push(l(n,N,y))),n=n.return}return m}function x(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function E(n,i,u,m,y){for(var N=i._reactName,R=[];u!==null&&u!==m;){var z=u,Y=z.alternate,he=z.stateNode;if(Y!==null&&Y===m)break;z.tag===5&&he!==null&&(z=he,y?(Y=Tt(u,N),Y!=null&&R.unshift(l(u,Y,z))):y||(Y=Tt(u,N),Y!=null&&R.push(l(u,Y,z)))),u=u.return}R.length!==0&&n.push({event:i,listeners:R})}var A=/\r\n?/g,W=/\u0000|\uFFFD/g;function se(n){return(typeof n=="string"?n:""+n).replace(A,`
`).replace(W,"")}function fe(n,i,u){if(i=se(i),se(n)!==i&&u)throw Error(r(425))}function ke(){}var Ve=null,it=null;function Et(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mn=typeof setTimeout=="function"?setTimeout:void 0,En=typeof clearTimeout=="function"?clearTimeout:void 0,Jn=typeof Promise=="function"?Promise:void 0,Un=typeof queueMicrotask=="function"?queueMicrotask:typeof Jn<"u"?function(n){return Jn.resolve(null).then(n).catch(Io)}:Mn;function Io(n){setTimeout(function(){throw n})}function fc(n,i){var u=i,m=0;do{var y=u.nextSibling;if(n.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){n.removeChild(y),jr(i);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);jr(i)}function Ms(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function zu(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return n;i--}else u==="/$"&&i++}n=n.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Js,Fo="__reactProps$"+Js,Yt="__reactContainer$"+Js,$o="__reactEvents$"+Js,nh="__reactListeners$"+Js,rh="__reactHandles$"+Js;function eo(n){var i=n[Hr];if(i)return i;for(var u=n.parentNode;u;){if(i=u[Yt]||u[Hr]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(n=zu(n);n!==null;){if(u=n[Hr])return u;n=zu(n)}return i}n=u,u=n.parentNode}return null}function to(n){return n=n[Hr]||n[Yt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function no(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Ba(n){return n[Fo]||null}var sh=[],Ua=-1;function zo(n){return{current:n}}function an(n){0>Ua||(n.current=sh[Ua],sh[Ua]=null,Ua--)}function sn(n,i){Ua++,sh[Ua]=n.current,n.current=i}var Bo={},Hn=zo(Bo),ur=zo(!1),Ii=Bo;function Ha(n,i){var u=n.type.contextTypes;if(!u)return Bo;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var y={},N;for(N in u)y[N]=i[N];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=y),y}function dr(n){return n=n.childContextTypes,n!=null}function Bu(){an(ur),an(Hn)}function lg(n,i,u){if(Hn.current!==Bo)throw Error(r(168));sn(Hn,i),sn(ur,u)}function cg(n,i,u){var m=n.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in i))throw Error(r(108,K(n)||"Unknown",y));return ie({},u,m)}function Uu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Bo,Ii=Hn.current,sn(Hn,n),sn(ur,ur.current),!0}function ug(n,i,u){var m=n.stateNode;if(!m)throw Error(r(169));u?(n=cg(n,i,Ii),m.__reactInternalMemoizedMergedChildContext=n,an(ur),an(Hn),sn(Hn,n)):an(ur),sn(ur,u)}var ro=null,Hu=!1,oh=!1;function dg(n){ro===null?ro=[n]:ro.push(n)}function dN(n){Hu=!0,dg(n)}function Uo(){if(!oh&&ro!==null){oh=!0;var n=0,i=Bt;try{var u=ro;for(Bt=1;n<u.length;n++){var m=u[n];do m=m(!0);while(m!==null)}ro=null,Hu=!1}catch(y){throw ro!==null&&(ro=ro.slice(n+1)),gu(Bl,Uo),y}finally{Bt=i,oh=!1}}return null}var Wa=[],Va=0,Wu=null,Vu=0,Wr=[],Vr=0,Fi=null,so=1,oo="";function $i(n,i){Wa[Va++]=Vu,Wa[Va++]=Wu,Wu=n,Vu=i}function fg(n,i,u){Wr[Vr++]=so,Wr[Vr++]=oo,Wr[Vr++]=Fi,Fi=n;var m=so;n=oo;var y=32-bt(m)-1;m&=~(1<<y),u+=1;var N=32-bt(i)+y;if(30<N){var R=y-y%5;N=(m&(1<<R)-1).toString(32),m>>=R,y-=R,so=1<<32-bt(i)+y|u<<y|m,oo=N+n}else so=1<<N|u<<y|m,oo=n}function ih(n){n.return!==null&&($i(n,1),fg(n,1,0))}function ah(n){for(;n===Wu;)Wu=Wa[--Va],Wa[Va]=null,Vu=Wa[--Va],Wa[Va]=null;for(;n===Fi;)Fi=Wr[--Vr],Wr[Vr]=null,oo=Wr[--Vr],Wr[Vr]=null,so=Wr[--Vr],Wr[Vr]=null}var kr=null,Mr=null,un=!1,us=null;function hg(n,i){var u=Yr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=n,i=n.deletions,i===null?(n.deletions=[u],n.flags|=16):i.push(u)}function mg(n,i){switch(n.tag){case 5:var u=n.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,kr=n,Mr=Ms(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,kr=n,Mr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=Fi!==null?{id:so,overflow:oo}:null,n.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Yr(18,null,null,0),u.stateNode=i,u.return=n,n.child=u,kr=n,Mr=null,!0):!1;default:return!1}}function lh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ch(n){if(un){var i=Mr;if(i){var u=i;if(!mg(n,i)){if(lh(n))throw Error(r(418));i=Ms(u.nextSibling);var m=kr;i&&mg(n,i)?hg(m,u):(n.flags=n.flags&-4097|2,un=!1,kr=n)}}else{if(lh(n))throw Error(r(418));n.flags=n.flags&-4097|2,un=!1,kr=n}}}function pg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;kr=n}function Zu(n){if(n!==kr)return!1;if(!un)return pg(n),un=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Et(n.type,n.memoizedProps)),i&&(i=Mr)){if(lh(n))throw gg(),Error(r(418));for(;i;)hg(n,i),i=Ms(i.nextSibling)}if(pg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(i===0){Mr=Ms(n.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}n=n.nextSibling}Mr=null}}else Mr=kr?Ms(n.stateNode.nextSibling):null;return!0}function gg(){for(var n=Mr;n;)n=Ms(n.nextSibling)}function Za(){Mr=kr=null,un=!1}function uh(n){us===null?us=[n]:us.push(n)}var fN=O.ReactCurrentBatchConfig;function hc(n,i,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var m=u.stateNode}if(!m)throw Error(r(147,n));var y=m,N=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===N?i.ref:(i=function(R){var z=y.refs;R===null?delete z[N]:z[N]=R},i._stringRef=N,i)}if(typeof n!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,n))}return n}function qu(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function vg(n){var i=n._init;return i(n._payload)}function xg(n){function i(oe,Q){if(n){var ae=oe.deletions;ae===null?(oe.deletions=[Q],oe.flags|=16):ae.push(Q)}}function u(oe,Q){if(!n)return null;for(;Q!==null;)i(oe,Q),Q=Q.sibling;return null}function m(oe,Q){for(oe=new Map;Q!==null;)Q.key!==null?oe.set(Q.key,Q):oe.set(Q.index,Q),Q=Q.sibling;return oe}function y(oe,Q){return oe=Ko(oe,Q),oe.index=0,oe.sibling=null,oe}function N(oe,Q,ae){return oe.index=ae,n?(ae=oe.alternate,ae!==null?(ae=ae.index,ae<Q?(oe.flags|=2,Q):ae):(oe.flags|=2,Q)):(oe.flags|=1048576,Q)}function R(oe){return n&&oe.alternate===null&&(oe.flags|=2),oe}function z(oe,Q,ae,Fe){return Q===null||Q.tag!==6?(Q=tm(ae,oe.mode,Fe),Q.return=oe,Q):(Q=y(Q,ae),Q.return=oe,Q)}function Y(oe,Q,ae,Fe){var tt=ae.type;return tt===U?Ae(oe,Q,ae.props.children,Fe,ae.key):Q!==null&&(Q.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===J&&vg(tt)===Q.type)?(Fe=y(Q,ae.props),Fe.ref=hc(oe,Q,ae),Fe.return=oe,Fe):(Fe=vd(ae.type,ae.key,ae.props,null,oe.mode,Fe),Fe.ref=hc(oe,Q,ae),Fe.return=oe,Fe)}function he(oe,Q,ae,Fe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?(Q=nm(ae,oe.mode,Fe),Q.return=oe,Q):(Q=y(Q,ae.children||[]),Q.return=oe,Q)}function Ae(oe,Q,ae,Fe,tt){return Q===null||Q.tag!==7?(Q=qi(ae,oe.mode,Fe,tt),Q.return=oe,Q):(Q=y(Q,ae),Q.return=oe,Q)}function De(oe,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=tm(""+Q,oe.mode,ae),Q.return=oe,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return ae=vd(Q.type,Q.key,Q.props,null,oe.mode,ae),ae.ref=hc(oe,null,Q),ae.return=oe,ae;case G:return Q=nm(Q,oe.mode,ae),Q.return=oe,Q;case J:var Fe=Q._init;return De(oe,Fe(Q._payload),ae)}if(Be(Q)||pe(Q))return Q=qi(Q,oe.mode,ae,null),Q.return=oe,Q;qu(oe,Q)}return null}function Re(oe,Q,ae,Fe){var tt=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return tt!==null?null:z(oe,Q,""+ae,Fe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:return ae.key===tt?Y(oe,Q,ae,Fe):null;case G:return ae.key===tt?he(oe,Q,ae,Fe):null;case J:return tt=ae._init,Re(oe,Q,tt(ae._payload),Fe)}if(Be(ae)||pe(ae))return tt!==null?null:Ae(oe,Q,ae,Fe,null);qu(oe,ae)}return null}function qe(oe,Q,ae,Fe,tt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return oe=oe.get(ae)||null,z(Q,oe,""+Fe,tt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case I:return oe=oe.get(Fe.key===null?ae:Fe.key)||null,Y(Q,oe,Fe,tt);case G:return oe=oe.get(Fe.key===null?ae:Fe.key)||null,he(Q,oe,Fe,tt);case J:var lt=Fe._init;return qe(oe,Q,ae,lt(Fe._payload),tt)}if(Be(Fe)||pe(Fe))return oe=oe.get(ae)||null,Ae(Q,oe,Fe,tt,null);qu(Q,Fe)}return null}function Qe(oe,Q,ae,Fe){for(var tt=null,lt=null,ct=Q,vt=Q=0,In=null;ct!==null&&vt<ae.length;vt++){ct.index>vt?(In=ct,ct=null):In=ct.sibling;var Zt=Re(oe,ct,ae[vt],Fe);if(Zt===null){ct===null&&(ct=In);break}n&&ct&&Zt.alternate===null&&i(oe,ct),Q=N(Zt,Q,vt),lt===null?tt=Zt:lt.sibling=Zt,lt=Zt,ct=In}if(vt===ae.length)return u(oe,ct),un&&$i(oe,vt),tt;if(ct===null){for(;vt<ae.length;vt++)ct=De(oe,ae[vt],Fe),ct!==null&&(Q=N(ct,Q,vt),lt===null?tt=ct:lt.sibling=ct,lt=ct);return un&&$i(oe,vt),tt}for(ct=m(oe,ct);vt<ae.length;vt++)In=qe(ct,oe,vt,ae[vt],Fe),In!==null&&(n&&In.alternate!==null&&ct.delete(In.key===null?vt:In.key),Q=N(In,Q,vt),lt===null?tt=In:lt.sibling=In,lt=In);return n&&ct.forEach(function(Xo){return i(oe,Xo)}),un&&$i(oe,vt),tt}function et(oe,Q,ae,Fe){var tt=pe(ae);if(typeof tt!="function")throw Error(r(150));if(ae=tt.call(ae),ae==null)throw Error(r(151));for(var lt=tt=null,ct=Q,vt=Q=0,In=null,Zt=ae.next();ct!==null&&!Zt.done;vt++,Zt=ae.next()){ct.index>vt?(In=ct,ct=null):In=ct.sibling;var Xo=Re(oe,ct,Zt.value,Fe);if(Xo===null){ct===null&&(ct=In);break}n&&ct&&Xo.alternate===null&&i(oe,ct),Q=N(Xo,Q,vt),lt===null?tt=Xo:lt.sibling=Xo,lt=Xo,ct=In}if(Zt.done)return u(oe,ct),un&&$i(oe,vt),tt;if(ct===null){for(;!Zt.done;vt++,Zt=ae.next())Zt=De(oe,Zt.value,Fe),Zt!==null&&(Q=N(Zt,Q,vt),lt===null?tt=Zt:lt.sibling=Zt,lt=Zt);return un&&$i(oe,vt),tt}for(ct=m(oe,ct);!Zt.done;vt++,Zt=ae.next())Zt=qe(ct,oe,vt,Zt.value,Fe),Zt!==null&&(n&&Zt.alternate!==null&&ct.delete(Zt.key===null?vt:Zt.key),Q=N(Zt,Q,vt),lt===null?tt=Zt:lt.sibling=Zt,lt=Zt);return n&&ct.forEach(function(VN){return i(oe,VN)}),un&&$i(oe,vt),tt}function jn(oe,Q,ae,Fe){if(typeof ae=="object"&&ae!==null&&ae.type===U&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:e:{for(var tt=ae.key,lt=Q;lt!==null;){if(lt.key===tt){if(tt=ae.type,tt===U){if(lt.tag===7){u(oe,lt.sibling),Q=y(lt,ae.props.children),Q.return=oe,oe=Q;break e}}else if(lt.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===J&&vg(tt)===lt.type){u(oe,lt.sibling),Q=y(lt,ae.props),Q.ref=hc(oe,lt,ae),Q.return=oe,oe=Q;break e}u(oe,lt);break}else i(oe,lt);lt=lt.sibling}ae.type===U?(Q=qi(ae.props.children,oe.mode,Fe,ae.key),Q.return=oe,oe=Q):(Fe=vd(ae.type,ae.key,ae.props,null,oe.mode,Fe),Fe.ref=hc(oe,Q,ae),Fe.return=oe,oe=Fe)}return R(oe);case G:e:{for(lt=ae.key;Q!==null;){if(Q.key===lt)if(Q.tag===4&&Q.stateNode.containerInfo===ae.containerInfo&&Q.stateNode.implementation===ae.implementation){u(oe,Q.sibling),Q=y(Q,ae.children||[]),Q.return=oe,oe=Q;break e}else{u(oe,Q);break}else i(oe,Q);Q=Q.sibling}Q=nm(ae,oe.mode,Fe),Q.return=oe,oe=Q}return R(oe);case J:return lt=ae._init,jn(oe,Q,lt(ae._payload),Fe)}if(Be(ae))return Qe(oe,Q,ae,Fe);if(pe(ae))return et(oe,Q,ae,Fe);qu(oe,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"?(ae=""+ae,Q!==null&&Q.tag===6?(u(oe,Q.sibling),Q=y(Q,ae),Q.return=oe,oe=Q):(u(oe,Q),Q=tm(ae,oe.mode,Fe),Q.return=oe,oe=Q),R(oe)):u(oe,Q)}return jn}var qa=xg(!0),yg=xg(!1),Gu=zo(null),Yu=null,Ga=null,dh=null;function fh(){dh=Ga=Yu=null}function hh(n){var i=Gu.current;an(Gu),n._currentValue=i}function mh(n,i,u){for(;n!==null;){var m=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),n===u)break;n=n.return}}function Ya(n,i){Yu=n,dh=Ga=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(fr=!0),n.firstContext=null)}function Zr(n){var i=n._currentValue;if(dh!==n)if(n={context:n,memoizedValue:i,next:null},Ga===null){if(Yu===null)throw Error(r(308));Ga=n,Yu.dependencies={lanes:0,firstContext:n}}else Ga=Ga.next=n;return i}var zi=null;function ph(n){zi===null?zi=[n]:zi.push(n)}function wg(n,i,u,m){var y=i.interleaved;return y===null?(u.next=u,ph(i)):(u.next=y.next,y.next=u),i.interleaved=u,io(n,m)}function io(n,i){n.lanes|=i;var u=n.alternate;for(u!==null&&(u.lanes|=i),u=n,n=n.return;n!==null;)n.childLanes|=i,u=n.alternate,u!==null&&(u.childLanes|=i),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Ho=!1;function gh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ao(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Wo(n,i,u){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(Wt&2)!==0){var y=m.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),m.pending=i,io(n,u)}return y=m.interleaved,y===null?(i.next=i,ph(m)):(i.next=y.next,y.next=i),m.interleaved=i,io(n,u)}function Ku(n,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var m=i.lanes;m&=n.pendingLanes,u|=m,i.lanes=u,os(n,u)}}function bg(n,i){var u=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};N===null?y=N=R:N=N.next=R,u=u.next}while(u!==null);N===null?y=N=i:N=N.next=i}else y=N=i;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:m.shared,effects:m.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=i:n.next=i,u.lastBaseUpdate=i}function Xu(n,i,u,m){var y=n.updateQueue;Ho=!1;var N=y.firstBaseUpdate,R=y.lastBaseUpdate,z=y.shared.pending;if(z!==null){y.shared.pending=null;var Y=z,he=Y.next;Y.next=null,R===null?N=he:R.next=he,R=Y;var Ae=n.alternate;Ae!==null&&(Ae=Ae.updateQueue,z=Ae.lastBaseUpdate,z!==R&&(z===null?Ae.firstBaseUpdate=he:z.next=he,Ae.lastBaseUpdate=Y))}if(N!==null){var De=y.baseState;R=0,Ae=he=Y=null,z=N;do{var Re=z.lane,qe=z.eventTime;if((m&Re)===Re){Ae!==null&&(Ae=Ae.next={eventTime:qe,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Qe=n,et=z;switch(Re=i,qe=u,et.tag){case 1:if(Qe=et.payload,typeof Qe=="function"){De=Qe.call(qe,De,Re);break e}De=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=et.payload,Re=typeof Qe=="function"?Qe.call(qe,De,Re):Qe,Re==null)break e;De=ie({},De,Re);break e;case 2:Ho=!0}}z.callback!==null&&z.lane!==0&&(n.flags|=64,Re=y.effects,Re===null?y.effects=[z]:Re.push(z))}else qe={eventTime:qe,lane:Re,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ae===null?(he=Ae=qe,Y=De):Ae=Ae.next=qe,R|=Re;if(z=z.next,z===null){if(z=y.shared.pending,z===null)break;Re=z,z=Re.next,Re.next=null,y.lastBaseUpdate=Re,y.shared.pending=null}}while(!0);if(Ae===null&&(Y=De),y.baseState=Y,y.firstBaseUpdate=he,y.lastBaseUpdate=Ae,i=y.shared.interleaved,i!==null){y=i;do R|=y.lane,y=y.next;while(y!==i)}else N===null&&(y.shared.lanes=0);Hi|=R,n.lanes=R,n.memoizedState=De}}function Ng(n,i,u){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var m=n[i],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(r(191,y));y.call(m)}}}var mc={},Rs=zo(mc),pc=zo(mc),gc=zo(mc);function Bi(n){if(n===mc)throw Error(r(174));return n}function vh(n,i){switch(sn(gc,i),sn(pc,n),sn(Rs,mc),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ht(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Ht(i,n)}an(Rs),sn(Rs,i)}function Ka(){an(Rs),an(pc),an(gc)}function Sg(n){Bi(gc.current);var i=Bi(Rs.current),u=Ht(i,n.type);i!==u&&(sn(pc,n),sn(Rs,u))}function xh(n){pc.current===n&&(an(Rs),an(pc))}var gn=zo(0);function Qu(n){for(var i=n;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yh=[];function wh(){for(var n=0;n<yh.length;n++)yh[n]._workInProgressVersionPrimary=null;yh.length=0}var Ju=O.ReactCurrentDispatcher,_h=O.ReactCurrentBatchConfig,Ui=0,vn=null,Rn=null,Dn=null,ed=!1,vc=!1,xc=0,hN=0;function Wn(){throw Error(r(321))}function bh(n,i){if(i===null)return!1;for(var u=0;u<i.length&&u<n.length;u++)if(!Pr(n[u],i[u]))return!1;return!0}function Nh(n,i,u,m,y,N){if(Ui=N,vn=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ju.current=n===null||n.memoizedState===null?vN:xN,n=u(m,y),vc){N=0;do{if(vc=!1,xc=0,25<=N)throw Error(r(301));N+=1,Dn=Rn=null,i.updateQueue=null,Ju.current=yN,n=u(m,y)}while(vc)}if(Ju.current=rd,i=Rn!==null&&Rn.next!==null,Ui=0,Dn=Rn=vn=null,ed=!1,i)throw Error(r(300));return n}function Sh(){var n=xc!==0;return xc=0,n}function Ls(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?vn.memoizedState=Dn=n:Dn=Dn.next=n,Dn}function qr(){if(Rn===null){var n=vn.alternate;n=n!==null?n.memoizedState:null}else n=Rn.next;var i=Dn===null?vn.memoizedState:Dn.next;if(i!==null)Dn=i,Rn=n;else{if(n===null)throw Error(r(310));Rn=n,n={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Dn===null?vn.memoizedState=Dn=n:Dn=Dn.next=n}return Dn}function yc(n,i){return typeof i=="function"?i(n):i}function jh(n){var i=qr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var m=Rn,y=m.baseQueue,N=u.pending;if(N!==null){if(y!==null){var R=y.next;y.next=N.next,N.next=R}m.baseQueue=y=N,u.pending=null}if(y!==null){N=y.next,m=m.baseState;var z=R=null,Y=null,he=N;do{var Ae=he.lane;if((Ui&Ae)===Ae)Y!==null&&(Y=Y.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),m=he.hasEagerState?he.eagerState:n(m,he.action);else{var De={lane:Ae,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};Y===null?(z=Y=De,R=m):Y=Y.next=De,vn.lanes|=Ae,Hi|=Ae}he=he.next}while(he!==null&&he!==N);Y===null?R=m:Y.next=z,Pr(m,i.memoizedState)||(fr=!0),i.memoizedState=m,i.baseState=R,i.baseQueue=Y,u.lastRenderedState=m}if(n=u.interleaved,n!==null){y=n;do N=y.lane,vn.lanes|=N,Hi|=N,y=y.next;while(y!==n)}else y===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Eh(n){var i=qr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var m=u.dispatch,y=u.pending,N=i.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do N=n(N,R.action),R=R.next;while(R!==y);Pr(N,i.memoizedState)||(fr=!0),i.memoizedState=N,i.baseQueue===null&&(i.baseState=N),u.lastRenderedState=N}return[N,m]}function jg(){}function Eg(n,i){var u=vn,m=qr(),y=i(),N=!Pr(m.memoizedState,y);if(N&&(m.memoizedState=y,fr=!0),m=m.queue,Ch(Tg.bind(null,u,m,n),[n]),m.getSnapshot!==i||N||Dn!==null&&Dn.memoizedState.tag&1){if(u.flags|=2048,wc(9,Pg.bind(null,u,m,y,i),void 0,null),On===null)throw Error(r(349));(Ui&30)!==0||Cg(u,i,y)}return y}function Cg(n,i,u){n.flags|=16384,n={getSnapshot:i,value:u},i=vn.updateQueue,i===null?(i={lastEffect:null,stores:null},vn.updateQueue=i,i.stores=[n]):(u=i.stores,u===null?i.stores=[n]:u.push(n))}function Pg(n,i,u,m){i.value=u,i.getSnapshot=m,kg(i)&&Mg(n)}function Tg(n,i,u){return u(function(){kg(i)&&Mg(n)})}function kg(n){var i=n.getSnapshot;n=n.value;try{var u=i();return!Pr(n,u)}catch{return!0}}function Mg(n){var i=io(n,1);i!==null&&ms(i,n,1,-1)}function Rg(n){var i=Ls();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:n},i.queue=n,n=n.dispatch=gN.bind(null,vn,n),[i.memoizedState,n]}function wc(n,i,u,m){return n={tag:n,create:i,destroy:u,deps:m,next:null},i=vn.updateQueue,i===null?(i={lastEffect:null,stores:null},vn.updateQueue=i,i.lastEffect=n.next=n):(u=i.lastEffect,u===null?i.lastEffect=n.next=n:(m=u.next,u.next=n,n.next=m,i.lastEffect=n)),n}function Lg(){return qr().memoizedState}function td(n,i,u,m){var y=Ls();vn.flags|=n,y.memoizedState=wc(1|i,u,void 0,m===void 0?null:m)}function nd(n,i,u,m){var y=qr();m=m===void 0?null:m;var N=void 0;if(Rn!==null){var R=Rn.memoizedState;if(N=R.destroy,m!==null&&bh(m,R.deps)){y.memoizedState=wc(i,u,N,m);return}}vn.flags|=n,y.memoizedState=wc(1|i,u,N,m)}function Ag(n,i){return td(8390656,8,n,i)}function Ch(n,i){return nd(2048,8,n,i)}function Dg(n,i){return nd(4,2,n,i)}function Og(n,i){return nd(4,4,n,i)}function Ig(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Fg(n,i,u){return u=u!=null?u.concat([n]):null,nd(4,4,Ig.bind(null,i,n),u)}function Ph(){}function $g(n,i){var u=qr();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&bh(i,m[1])?m[0]:(u.memoizedState=[n,i],n)}function zg(n,i){var u=qr();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&bh(i,m[1])?m[0]:(n=n(),u.memoizedState=[n,i],n)}function Bg(n,i,u){return(Ui&21)===0?(n.baseState&&(n.baseState=!1,fr=!0),n.memoizedState=u):(Pr(u,i)||(u=xu(),vn.lanes|=u,Hi|=u,n.baseState=!0),i)}function mN(n,i){var u=Bt;Bt=u!==0&&4>u?u:4,n(!0);var m=_h.transition;_h.transition={};try{n(!1),i()}finally{Bt=u,_h.transition=m}}function Ug(){return qr().memoizedState}function pN(n,i,u){var m=Go(n);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},Hg(n))Wg(i,u);else if(u=wg(n,i,u,m),u!==null){var y=tr();ms(u,n,m,y),Vg(u,i,m)}}function gN(n,i,u){var m=Go(n),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hg(n))Wg(i,y);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=i.lastRenderedReducer,N!==null))try{var R=i.lastRenderedState,z=N(R,u);if(y.hasEagerState=!0,y.eagerState=z,Pr(z,R)){var Y=i.interleaved;Y===null?(y.next=y,ph(i)):(y.next=Y.next,Y.next=y),i.interleaved=y;return}}catch{}finally{}u=wg(n,i,y,m),u!==null&&(y=tr(),ms(u,n,m,y),Vg(u,i,m))}}function Hg(n){var i=n.alternate;return n===vn||i!==null&&i===vn}function Wg(n,i){vc=ed=!0;var u=n.pending;u===null?i.next=i:(i.next=u.next,u.next=i),n.pending=i}function Vg(n,i,u){if((u&4194240)!==0){var m=i.lanes;m&=n.pendingLanes,u|=m,i.lanes=u,os(n,u)}}var rd={readContext:Zr,useCallback:Wn,useContext:Wn,useEffect:Wn,useImperativeHandle:Wn,useInsertionEffect:Wn,useLayoutEffect:Wn,useMemo:Wn,useReducer:Wn,useRef:Wn,useState:Wn,useDebugValue:Wn,useDeferredValue:Wn,useTransition:Wn,useMutableSource:Wn,useSyncExternalStore:Wn,useId:Wn,unstable_isNewReconciler:!1},vN={readContext:Zr,useCallback:function(n,i){return Ls().memoizedState=[n,i===void 0?null:i],n},useContext:Zr,useEffect:Ag,useImperativeHandle:function(n,i,u){return u=u!=null?u.concat([n]):null,td(4194308,4,Ig.bind(null,i,n),u)},useLayoutEffect:function(n,i){return td(4194308,4,n,i)},useInsertionEffect:function(n,i){return td(4,2,n,i)},useMemo:function(n,i){var u=Ls();return i=i===void 0?null:i,n=n(),u.memoizedState=[n,i],n},useReducer:function(n,i,u){var m=Ls();return i=u!==void 0?u(i):i,m.memoizedState=m.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},m.queue=n,n=n.dispatch=pN.bind(null,vn,n),[m.memoizedState,n]},useRef:function(n){var i=Ls();return n={current:n},i.memoizedState=n},useState:Rg,useDebugValue:Ph,useDeferredValue:function(n){return Ls().memoizedState=n},useTransition:function(){var n=Rg(!1),i=n[0];return n=mN.bind(null,n[1]),Ls().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,u){var m=vn,y=Ls();if(un){if(u===void 0)throw Error(r(407));u=u()}else{if(u=i(),On===null)throw Error(r(349));(Ui&30)!==0||Cg(m,i,u)}y.memoizedState=u;var N={value:u,getSnapshot:i};return y.queue=N,Ag(Tg.bind(null,m,N,n),[n]),m.flags|=2048,wc(9,Pg.bind(null,m,N,u,i),void 0,null),u},useId:function(){var n=Ls(),i=On.identifierPrefix;if(un){var u=oo,m=so;u=(m&~(1<<32-bt(m)-1)).toString(32)+u,i=":"+i+"R"+u,u=xc++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=hN++,i=":"+i+"r"+u.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},xN={readContext:Zr,useCallback:$g,useContext:Zr,useEffect:Ch,useImperativeHandle:Fg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:zg,useReducer:jh,useRef:Lg,useState:function(){return jh(yc)},useDebugValue:Ph,useDeferredValue:function(n){var i=qr();return Bg(i,Rn.memoizedState,n)},useTransition:function(){var n=jh(yc)[0],i=qr().memoizedState;return[n,i]},useMutableSource:jg,useSyncExternalStore:Eg,useId:Ug,unstable_isNewReconciler:!1},yN={readContext:Zr,useCallback:$g,useContext:Zr,useEffect:Ch,useImperativeHandle:Fg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:zg,useReducer:Eh,useRef:Lg,useState:function(){return Eh(yc)},useDebugValue:Ph,useDeferredValue:function(n){var i=qr();return Rn===null?i.memoizedState=n:Bg(i,Rn.memoizedState,n)},useTransition:function(){var n=Eh(yc)[0],i=qr().memoizedState;return[n,i]},useMutableSource:jg,useSyncExternalStore:Eg,useId:Ug,unstable_isNewReconciler:!1};function ds(n,i){if(n&&n.defaultProps){i=ie({},i),n=n.defaultProps;for(var u in n)i[u]===void 0&&(i[u]=n[u]);return i}return i}function Th(n,i,u,m){i=n.memoizedState,u=u(m,i),u=u==null?i:ie({},i,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var sd={isMounted:function(n){return(n=n._reactInternals)?Ns(n)===n:!1},enqueueSetState:function(n,i,u){n=n._reactInternals;var m=tr(),y=Go(n),N=ao(m,y);N.payload=i,u!=null&&(N.callback=u),i=Wo(n,N,y),i!==null&&(ms(i,n,y,m),Ku(i,n,y))},enqueueReplaceState:function(n,i,u){n=n._reactInternals;var m=tr(),y=Go(n),N=ao(m,y);N.tag=1,N.payload=i,u!=null&&(N.callback=u),i=Wo(n,N,y),i!==null&&(ms(i,n,y,m),Ku(i,n,y))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var u=tr(),m=Go(n),y=ao(u,m);y.tag=2,i!=null&&(y.callback=i),i=Wo(n,y,m),i!==null&&(ms(i,n,m,u),Ku(i,n,m))}};function Zg(n,i,u,m,y,N,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,N,R):i.prototype&&i.prototype.isPureReactComponent?!Ps(u,m)||!Ps(y,N):!0}function qg(n,i,u){var m=!1,y=Bo,N=i.contextType;return typeof N=="object"&&N!==null?N=Zr(N):(y=dr(i)?Ii:Hn.current,m=i.contextTypes,N=(m=m!=null)?Ha(n,y):Bo),i=new i(u,N),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=sd,n.stateNode=i,i._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=y,n.__reactInternalMemoizedMaskedChildContext=N),i}function Gg(n,i,u,m){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,m),i.state!==n&&sd.enqueueReplaceState(i,i.state,null)}function kh(n,i,u,m){var y=n.stateNode;y.props=u,y.state=n.memoizedState,y.refs={},gh(n);var N=i.contextType;typeof N=="object"&&N!==null?y.context=Zr(N):(N=dr(i)?Ii:Hn.current,y.context=Ha(n,N)),y.state=n.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(Th(n,i,N,u),y.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(i=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),i!==y.state&&sd.enqueueReplaceState(y,y.state,null),Xu(n,u,y,m),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308)}function Xa(n,i){try{var u="",m=i;do u+=Ee(m),m=m.return;while(m);var y=u}catch(N){y=`
Error generating stack: `+N.message+`
`+N.stack}return{value:n,source:i,stack:y,digest:null}}function Mh(n,i,u){return{value:n,source:null,stack:u??null,digest:i??null}}function Rh(n,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var wN=typeof WeakMap=="function"?WeakMap:Map;function Yg(n,i,u){u=ao(-1,u),u.tag=3,u.payload={element:null};var m=i.value;return u.callback=function(){dd||(dd=!0,qh=m),Rh(n,i)},u}function Kg(n,i,u){u=ao(-1,u),u.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var y=i.value;u.payload=function(){return m(y)},u.callback=function(){Rh(n,i)}}var N=n.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(u.callback=function(){Rh(n,i),typeof m!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var R=i.stack;this.componentDidCatch(i.value,{componentStack:R!==null?R:""})}),u}function Xg(n,i,u){var m=n.pingCache;if(m===null){m=n.pingCache=new wN;var y=new Set;m.set(i,y)}else y=m.get(i),y===void 0&&(y=new Set,m.set(i,y));y.has(u)||(y.add(u),n=AN.bind(null,n,i,u),i.then(n,n))}function Qg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Jg(n,i,u,m,y){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=ao(-1,1),i.tag=2,Wo(u,i,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=y,n)}var _N=O.ReactCurrentOwner,fr=!1;function er(n,i,u,m){i.child=n===null?yg(i,null,u,m):qa(i,n.child,u,m)}function ev(n,i,u,m,y){u=u.render;var N=i.ref;return Ya(i,y),m=Nh(n,i,u,m,N,y),u=Sh(),n!==null&&!fr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~y,lo(n,i,y)):(un&&u&&ih(i),i.flags|=1,er(n,i,m,y),i.child)}function tv(n,i,u,m,y){if(n===null){var N=u.type;return typeof N=="function"&&!em(N)&&N.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=N,nv(n,i,N,m,y)):(n=vd(u.type,null,m,i,i.mode,y),n.ref=i.ref,n.return=i,i.child=n)}if(N=n.child,(n.lanes&y)===0){var R=N.memoizedProps;if(u=u.compare,u=u!==null?u:Ps,u(R,m)&&n.ref===i.ref)return lo(n,i,y)}return i.flags|=1,n=Ko(N,m),n.ref=i.ref,n.return=i,i.child=n}function nv(n,i,u,m,y){if(n!==null){var N=n.memoizedProps;if(Ps(N,m)&&n.ref===i.ref)if(fr=!1,i.pendingProps=m=N,(n.lanes&y)!==0)(n.flags&131072)!==0&&(fr=!0);else return i.lanes=n.lanes,lo(n,i,y)}return Lh(n,i,u,m,y)}function rv(n,i,u){var m=i.pendingProps,y=m.children,N=n!==null?n.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(Ja,Rr),Rr|=u;else{if((u&1073741824)===0)return n=N!==null?N.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,sn(Ja,Rr),Rr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=N!==null?N.baseLanes:u,sn(Ja,Rr),Rr|=m}else N!==null?(m=N.baseLanes|u,i.memoizedState=null):m=u,sn(Ja,Rr),Rr|=m;return er(n,i,y,u),i.child}function sv(n,i){var u=i.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Lh(n,i,u,m,y){var N=dr(u)?Ii:Hn.current;return N=Ha(i,N),Ya(i,y),u=Nh(n,i,u,m,N,y),m=Sh(),n!==null&&!fr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~y,lo(n,i,y)):(un&&m&&ih(i),i.flags|=1,er(n,i,u,y),i.child)}function ov(n,i,u,m,y){if(dr(u)){var N=!0;Uu(i)}else N=!1;if(Ya(i,y),i.stateNode===null)id(n,i),qg(i,u,m),kh(i,u,m,y),m=!0;else if(n===null){var R=i.stateNode,z=i.memoizedProps;R.props=z;var Y=R.context,he=u.contextType;typeof he=="object"&&he!==null?he=Zr(he):(he=dr(u)?Ii:Hn.current,he=Ha(i,he));var Ae=u.getDerivedStateFromProps,De=typeof Ae=="function"||typeof R.getSnapshotBeforeUpdate=="function";De||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==m||Y!==he)&&Gg(i,R,m,he),Ho=!1;var Re=i.memoizedState;R.state=Re,Xu(i,m,R,y),Y=i.memoizedState,z!==m||Re!==Y||ur.current||Ho?(typeof Ae=="function"&&(Th(i,u,Ae,m),Y=i.memoizedState),(z=Ho||Zg(i,u,z,m,Re,Y,he))?(De||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(i.flags|=4194308)):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=Y),R.props=m,R.state=Y,R.context=he,m=z):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{R=i.stateNode,_g(n,i),z=i.memoizedProps,he=i.type===i.elementType?z:ds(i.type,z),R.props=he,De=i.pendingProps,Re=R.context,Y=u.contextType,typeof Y=="object"&&Y!==null?Y=Zr(Y):(Y=dr(u)?Ii:Hn.current,Y=Ha(i,Y));var qe=u.getDerivedStateFromProps;(Ae=typeof qe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==De||Re!==Y)&&Gg(i,R,m,Y),Ho=!1,Re=i.memoizedState,R.state=Re,Xu(i,m,R,y);var Qe=i.memoizedState;z!==De||Re!==Qe||ur.current||Ho?(typeof qe=="function"&&(Th(i,u,qe,m),Qe=i.memoizedState),(he=Ho||Zg(i,u,he,m,Re,Qe,Y)||!1)?(Ae||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Qe,Y),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Qe,Y)),typeof R.componentDidUpdate=="function"&&(i.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof R.componentDidUpdate!="function"||z===n.memoizedProps&&Re===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===n.memoizedProps&&Re===n.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=Qe),R.props=m,R.state=Qe,R.context=Y,m=he):(typeof R.componentDidUpdate!="function"||z===n.memoizedProps&&Re===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===n.memoizedProps&&Re===n.memoizedState||(i.flags|=1024),m=!1)}return Ah(n,i,u,m,N,y)}function Ah(n,i,u,m,y,N){sv(n,i);var R=(i.flags&128)!==0;if(!m&&!R)return y&&ug(i,u,!1),lo(n,i,N);m=i.stateNode,_N.current=i;var z=R&&typeof u.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,n!==null&&R?(i.child=qa(i,n.child,null,N),i.child=qa(i,null,z,N)):er(n,i,z,N),i.memoizedState=m.state,y&&ug(i,u,!0),i.child}function iv(n){var i=n.stateNode;i.pendingContext?lg(n,i.pendingContext,i.pendingContext!==i.context):i.context&&lg(n,i.context,!1),vh(n,i.containerInfo)}function av(n,i,u,m,y){return Za(),uh(y),i.flags|=256,er(n,i,u,m),i.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Oh(n){return{baseLanes:n,cachePool:null,transitions:null}}function lv(n,i,u){var m=i.pendingProps,y=gn.current,N=!1,R=(i.flags&128)!==0,z;if((z=R)||(z=n!==null&&n.memoizedState===null?!1:(y&2)!==0),z?(N=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(y|=1),sn(gn,y&1),n===null)return ch(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(R=m.children,n=m.fallback,N?(m=i.mode,N=i.child,R={mode:"hidden",children:R},(m&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=R):N=xd(R,m,0,null),n=qi(n,m,u,null),N.return=i,n.return=i,N.sibling=n,i.child=N,i.child.memoizedState=Oh(u),i.memoizedState=Dh,n):Ih(i,R));if(y=n.memoizedState,y!==null&&(z=y.dehydrated,z!==null))return bN(n,i,R,m,z,y,u);if(N){N=m.fallback,R=i.mode,y=n.child,z=y.sibling;var Y={mode:"hidden",children:m.children};return(R&1)===0&&i.child!==y?(m=i.child,m.childLanes=0,m.pendingProps=Y,i.deletions=null):(m=Ko(y,Y),m.subtreeFlags=y.subtreeFlags&14680064),z!==null?N=Ko(z,N):(N=qi(N,R,u,null),N.flags|=2),N.return=i,m.return=i,m.sibling=N,i.child=m,m=N,N=i.child,R=n.child.memoizedState,R=R===null?Oh(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},N.memoizedState=R,N.childLanes=n.childLanes&~u,i.memoizedState=Dh,m}return N=n.child,n=N.sibling,m=Ko(N,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=u),m.return=i,m.sibling=null,n!==null&&(u=i.deletions,u===null?(i.deletions=[n],i.flags|=16):u.push(n)),i.child=m,i.memoizedState=null,m}function Ih(n,i){return i=xd({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function od(n,i,u,m){return m!==null&&uh(m),qa(i,n.child,null,u),n=Ih(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function bN(n,i,u,m,y,N,R){if(u)return i.flags&256?(i.flags&=-257,m=Mh(Error(r(422))),od(n,i,R,m)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(N=m.fallback,y=i.mode,m=xd({mode:"visible",children:m.children},y,0,null),N=qi(N,y,R,null),N.flags|=2,m.return=i,N.return=i,m.sibling=N,i.child=m,(i.mode&1)!==0&&qa(i,n.child,null,R),i.child.memoizedState=Oh(R),i.memoizedState=Dh,N);if((i.mode&1)===0)return od(n,i,R,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var z=m.dgst;return m=z,N=Error(r(419)),m=Mh(N,m,void 0),od(n,i,R,m)}if(z=(R&n.childLanes)!==0,fr||z){if(m=On,m!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|R))!==0?0:y,y!==0&&y!==N.retryLane&&(N.retryLane=y,io(n,y),ms(m,n,y,-1))}return Jh(),m=Mh(Error(r(421))),od(n,i,R,m)}return y.data==="$?"?(i.flags|=128,i.child=n.child,i=DN.bind(null,n),y._reactRetry=i,null):(n=N.treeContext,Mr=Ms(y.nextSibling),kr=i,un=!0,us=null,n!==null&&(Wr[Vr++]=so,Wr[Vr++]=oo,Wr[Vr++]=Fi,so=n.id,oo=n.overflow,Fi=i),i=Ih(i,m.children),i.flags|=4096,i)}function cv(n,i,u){n.lanes|=i;var m=n.alternate;m!==null&&(m.lanes|=i),mh(n.return,i,u)}function Fh(n,i,u,m,y){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=y)}function uv(n,i,u){var m=i.pendingProps,y=m.revealOrder,N=m.tail;if(er(n,i,m.children,u),m=gn.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cv(n,u,i);else if(n.tag===19)cv(n,u,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(sn(gn,m),(i.mode&1)===0)i.memoizedState=null;else switch(y){case"forwards":for(u=i.child,y=null;u!==null;)n=u.alternate,n!==null&&Qu(n)===null&&(y=u),u=u.sibling;u=y,u===null?(y=i.child,i.child=null):(y=u.sibling,u.sibling=null),Fh(i,!1,y,u,N);break;case"backwards":for(u=null,y=i.child,i.child=null;y!==null;){if(n=y.alternate,n!==null&&Qu(n)===null){i.child=y;break}n=y.sibling,y.sibling=u,u=y,y=n}Fh(i,!0,u,null,N);break;case"together":Fh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function id(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function lo(n,i,u){if(n!==null&&(i.dependencies=n.dependencies),Hi|=i.lanes,(u&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,u=Ko(n,n.pendingProps),i.child=u,u.return=i;n.sibling!==null;)n=n.sibling,u=u.sibling=Ko(n,n.pendingProps),u.return=i;u.sibling=null}return i.child}function NN(n,i,u){switch(i.tag){case 3:iv(i),Za();break;case 5:Sg(i);break;case 1:dr(i.type)&&Uu(i);break;case 4:vh(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,y=i.memoizedProps.value;sn(Gu,m._currentValue),m._currentValue=y;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(sn(gn,gn.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?lv(n,i,u):(sn(gn,gn.current&1),n=lo(n,i,u),n!==null?n.sibling:null);sn(gn,gn.current&1);break;case 19:if(m=(u&i.childLanes)!==0,(n.flags&128)!==0){if(m)return uv(n,i,u);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),sn(gn,gn.current),m)break;return null;case 22:case 23:return i.lanes=0,rv(n,i,u)}return lo(n,i,u)}var dv,$h,fv,hv;dv=function(n,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},$h=function(){},fv=function(n,i,u,m){var y=n.memoizedProps;if(y!==m){n=i.stateNode,Bi(Rs.current);var N=null;switch(u){case"input":y=xt(n,y),m=xt(n,m),N=[];break;case"select":y=ie({},y,{value:void 0}),m=ie({},m,{value:void 0}),N=[];break;case"textarea":y=Ye(n,y),m=Ye(n,m),N=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=ke)}H(u,m);var R;u=null;for(he in y)if(!m.hasOwnProperty(he)&&y.hasOwnProperty(he)&&y[he]!=null)if(he==="style"){var z=y[he];for(R in z)z.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(c.hasOwnProperty(he)?N||(N=[]):(N=N||[]).push(he,null));for(he in m){var Y=m[he];if(z=y!=null?y[he]:void 0,m.hasOwnProperty(he)&&Y!==z&&(Y!=null||z!=null))if(he==="style")if(z){for(R in z)!z.hasOwnProperty(R)||Y&&Y.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in Y)Y.hasOwnProperty(R)&&z[R]!==Y[R]&&(u||(u={}),u[R]=Y[R])}else u||(N||(N=[]),N.push(he,u)),u=Y;else he==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,z=z?z.__html:void 0,Y!=null&&z!==Y&&(N=N||[]).push(he,Y)):he==="children"?typeof Y!="string"&&typeof Y!="number"||(N=N||[]).push(he,""+Y):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(c.hasOwnProperty(he)?(Y!=null&&he==="onScroll"&&nn("scroll",n),N||z===Y||(N=[])):(N=N||[]).push(he,Y))}u&&(N=N||[]).push("style",u);var he=N;(i.updateQueue=he)&&(i.flags|=4)}},hv=function(n,i,u,m){u!==m&&(i.flags|=4)};function _c(n,i){if(!un)switch(n.tailMode){case"hidden":i=n.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function Vn(n){var i=n.alternate!==null&&n.alternate.child===n.child,u=0,m=0;if(i)for(var y=n.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=m,n.childLanes=u,i}function SN(n,i,u){var m=i.pendingProps;switch(ah(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(i),null;case 1:return dr(i.type)&&Bu(),Vn(i),null;case 3:return m=i.stateNode,Ka(),an(ur),an(Hn),wh(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(Zu(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,us!==null&&(Kh(us),us=null))),$h(n,i),Vn(i),null;case 5:xh(i);var y=Bi(gc.current);if(u=i.type,n!==null&&i.stateNode!=null)fv(n,i,u,m,y),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(r(166));return Vn(i),null}if(n=Bi(Rs.current),Zu(i)){m=i.stateNode,u=i.type;var N=i.memoizedProps;switch(m[Hr]=i,m[Fo]=N,n=(i.mode&1)!==0,u){case"dialog":nn("cancel",m),nn("close",m);break;case"iframe":case"object":case"embed":nn("load",m);break;case"video":case"audio":for(y=0;y<Do.length;y++)nn(Do[y],m);break;case"source":nn("error",m);break;case"img":case"image":case"link":nn("error",m),nn("load",m);break;case"details":nn("toggle",m);break;case"input":Se(m,N),nn("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!N.multiple},nn("invalid",m);break;case"textarea":Ut(m,N),nn("invalid",m)}H(u,N),y=null;for(var R in N)if(N.hasOwnProperty(R)){var z=N[R];R==="children"?typeof z=="string"?m.textContent!==z&&(N.suppressHydrationWarning!==!0&&fe(m.textContent,z,n),y=["children",z]):typeof z=="number"&&m.textContent!==""+z&&(N.suppressHydrationWarning!==!0&&fe(m.textContent,z,n),y=["children",""+z]):c.hasOwnProperty(R)&&z!=null&&R==="onScroll"&&nn("scroll",m)}switch(u){case"input":He(m),Ce(m,N,!0);break;case"textarea":He(m),St(m);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(m.onclick=ke)}m=y,i.updateQueue=m,m!==null&&(i.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=At(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=R.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=R.createElement(u,{is:m.is}):(n=R.createElement(u),u==="select"&&(R=n,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):n=R.createElementNS(n,u),n[Hr]=i,n[Fo]=m,dv(n,i,!1,!1),i.stateNode=n;e:{switch(R=ye(u,m),u){case"dialog":nn("cancel",n),nn("close",n),y=m;break;case"iframe":case"object":case"embed":nn("load",n),y=m;break;case"video":case"audio":for(y=0;y<Do.length;y++)nn(Do[y],n);y=m;break;case"source":nn("error",n),y=m;break;case"img":case"image":case"link":nn("error",n),nn("load",n),y=m;break;case"details":nn("toggle",n),y=m;break;case"input":Se(n,m),y=xt(n,m),nn("invalid",n);break;case"option":y=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},y=ie({},m,{value:void 0}),nn("invalid",n);break;case"textarea":Ut(n,m),y=Ye(n,m),nn("invalid",n);break;default:y=m}H(u,y),z=y;for(N in z)if(z.hasOwnProperty(N)){var Y=z[N];N==="style"?Xt(n,Y):N==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Vt(n,Y)):N==="children"?typeof Y=="string"?(u!=="textarea"||Y!=="")&&Je(n,Y):typeof Y=="number"&&Je(n,""+Y):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(c.hasOwnProperty(N)?Y!=null&&N==="onScroll"&&nn("scroll",n):Y!=null&&M(n,N,Y,R))}switch(u){case"input":He(n),Ce(n,m,!1);break;case"textarea":He(n),St(n);break;case"option":m.value!=null&&n.setAttribute("value",""+ue(m.value));break;case"select":n.multiple=!!m.multiple,N=m.value,N!=null?Xe(n,!!m.multiple,N,!1):m.defaultValue!=null&&Xe(n,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(n.onclick=ke)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Vn(i),null;case 6:if(n&&i.stateNode!=null)hv(n,i,n.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(r(166));if(u=Bi(gc.current),Bi(Rs.current),Zu(i)){if(m=i.stateNode,u=i.memoizedProps,m[Hr]=i,(N=m.nodeValue!==u)&&(n=kr,n!==null))switch(n.tag){case 3:fe(m.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fe(m.nodeValue,u,(n.mode&1)!==0)}N&&(i.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Hr]=i,i.stateNode=m}return Vn(i),null;case 13:if(an(gn),m=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(un&&Mr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)gg(),Za(),i.flags|=98560,N=!1;else if(N=Zu(i),m!==null&&m.dehydrated!==null){if(n===null){if(!N)throw Error(r(318));if(N=i.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Hr]=i}else Za(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Vn(i),N=!1}else us!==null&&(Kh(us),us=null),N=!0;if(!N)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(gn.current&1)!==0?Ln===0&&(Ln=3):Jh())),i.updateQueue!==null&&(i.flags|=4),Vn(i),null);case 4:return Ka(),$h(n,i),n===null&&Oo(i.stateNode.containerInfo),Vn(i),null;case 10:return hh(i.type._context),Vn(i),null;case 17:return dr(i.type)&&Bu(),Vn(i),null;case 19:if(an(gn),N=i.memoizedState,N===null)return Vn(i),null;if(m=(i.flags&128)!==0,R=N.rendering,R===null)if(m)_c(N,!1);else{if(Ln!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(R=Qu(n),R!==null){for(i.flags|=128,_c(N,!1),m=R.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=u,u=i.child;u!==null;)N=u,n=m,N.flags&=14680066,R=N.alternate,R===null?(N.childLanes=0,N.lanes=n,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=R.childLanes,N.lanes=R.lanes,N.child=R.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=R.memoizedProps,N.memoizedState=R.memoizedState,N.updateQueue=R.updateQueue,N.type=R.type,n=R.dependencies,N.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return sn(gn,gn.current&1|2),i.child}n=n.sibling}N.tail!==null&&mn()>el&&(i.flags|=128,m=!0,_c(N,!1),i.lanes=4194304)}else{if(!m)if(n=Qu(R),n!==null){if(i.flags|=128,m=!0,u=n.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),_c(N,!0),N.tail===null&&N.tailMode==="hidden"&&!R.alternate&&!un)return Vn(i),null}else 2*mn()-N.renderingStartTime>el&&u!==1073741824&&(i.flags|=128,m=!0,_c(N,!1),i.lanes=4194304);N.isBackwards?(R.sibling=i.child,i.child=R):(u=N.last,u!==null?u.sibling=R:i.child=R,N.last=R)}return N.tail!==null?(i=N.tail,N.rendering=i,N.tail=i.sibling,N.renderingStartTime=mn(),i.sibling=null,u=gn.current,sn(gn,m?u&1|2:u&1),i):(Vn(i),null);case 22:case 23:return Qh(),m=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(Rr&1073741824)!==0&&(Vn(i),i.subtreeFlags&6&&(i.flags|=8192)):Vn(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function jN(n,i){switch(ah(i),i.tag){case 1:return dr(i.type)&&Bu(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ka(),an(ur),an(Hn),wh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return xh(i),null;case 13:if(an(gn),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Za()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return an(gn),null;case 4:return Ka(),null;case 10:return hh(i.type._context),null;case 22:case 23:return Qh(),null;case 24:return null;default:return null}}var ad=!1,Zn=!1,EN=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Qa(n,i){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){_n(n,i,m)}else u.current=null}function zh(n,i,u){try{u()}catch(m){_n(n,i,m)}}var mv=!1;function CN(n,i){if(Ve=Ti,n=sc(),oc(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var R=0,z=-1,Y=-1,he=0,Ae=0,De=n,Re=null;t:for(;;){for(var qe;De!==u||y!==0&&De.nodeType!==3||(z=R+y),De!==N||m!==0&&De.nodeType!==3||(Y=R+m),De.nodeType===3&&(R+=De.nodeValue.length),(qe=De.firstChild)!==null;)Re=De,De=qe;for(;;){if(De===n)break t;if(Re===u&&++he===y&&(z=R),Re===N&&++Ae===m&&(Y=R),(qe=De.nextSibling)!==null)break;De=Re,Re=De.parentNode}De=qe}u=z===-1||Y===-1?null:{start:z,end:Y}}else u=null}u=u||{start:0,end:0}}else u=null;for(it={focusedElem:n,selectionRange:u},Ti=!1,Ge=i;Ge!==null;)if(i=Ge,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ge=n;else for(;Ge!==null;){i=Ge;try{var Qe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Qe!==null){var et=Qe.memoizedProps,jn=Qe.memoizedState,oe=i.stateNode,Q=oe.getSnapshotBeforeUpdate(i.elementType===i.type?et:ds(i.type,et),jn);oe.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ae=i.stateNode.containerInfo;ae.nodeType===1?ae.textContent="":ae.nodeType===9&&ae.documentElement&&ae.removeChild(ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Fe){_n(i,i.return,Fe)}if(n=i.sibling,n!==null){n.return=i.return,Ge=n;break}Ge=i.return}return Qe=mv,mv=!1,Qe}function bc(n,i,u){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&n)===n){var N=y.destroy;y.destroy=void 0,N!==void 0&&zh(i,u,N)}y=y.next}while(y!==m)}}function ld(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&n)===n){var m=u.create;u.destroy=m()}u=u.next}while(u!==i)}}function Bh(n){var i=n.ref;if(i!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof i=="function"?i(n):i.current=n}}function pv(n){var i=n.alternate;i!==null&&(n.alternate=null,pv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Hr],delete i[Fo],delete i[$o],delete i[nh],delete i[rh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gv(n){return n.tag===5||n.tag===3||n.tag===4}function vv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Uh(n,i,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(n,i):u.insertBefore(n,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(n,u)):(i=u,i.appendChild(n)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=ke));else if(m!==4&&(n=n.child,n!==null))for(Uh(n,i,u),n=n.sibling;n!==null;)Uh(n,i,u),n=n.sibling}function Hh(n,i,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?u.insertBefore(n,i):u.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(Hh(n,i,u),n=n.sibling;n!==null;)Hh(n,i,u),n=n.sibling}var Fn=null,fs=!1;function Vo(n,i,u){for(u=u.child;u!==null;)xv(n,i,u),u=u.sibling}function xv(n,i,u){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Ni,u)}catch{}switch(u.tag){case 5:Zn||Qa(u,i);case 6:var m=Fn,y=fs;Fn=null,Vo(n,i,u),Fn=m,fs=y,Fn!==null&&(fs?(n=Fn,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Fn.removeChild(u.stateNode));break;case 18:Fn!==null&&(fs?(n=Fn,u=u.stateNode,n.nodeType===8?fc(n.parentNode,u):n.nodeType===1&&fc(n,u),jr(n)):fc(Fn,u.stateNode));break;case 4:m=Fn,y=fs,Fn=u.stateNode.containerInfo,fs=!0,Vo(n,i,u),Fn=m,fs=y;break;case 0:case 11:case 14:case 15:if(!Zn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var N=y,R=N.destroy;N=N.tag,R!==void 0&&((N&2)!==0||(N&4)!==0)&&zh(u,i,R),y=y.next}while(y!==m)}Vo(n,i,u);break;case 1:if(!Zn&&(Qa(u,i),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(z){_n(u,i,z)}Vo(n,i,u);break;case 21:Vo(n,i,u);break;case 22:u.mode&1?(Zn=(m=Zn)||u.memoizedState!==null,Vo(n,i,u),Zn=m):Vo(n,i,u);break;default:Vo(n,i,u)}}function yv(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new EN),i.forEach(function(m){var y=ON.bind(null,n,m);u.has(m)||(u.add(m),m.then(y,y))})}}function hs(n,i){var u=i.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var N=n,R=i,z=R;e:for(;z!==null;){switch(z.tag){case 5:Fn=z.stateNode,fs=!1;break e;case 3:Fn=z.stateNode.containerInfo,fs=!0;break e;case 4:Fn=z.stateNode.containerInfo,fs=!0;break e}z=z.return}if(Fn===null)throw Error(r(160));xv(N,R,y),Fn=null,fs=!1;var Y=y.alternate;Y!==null&&(Y.return=null),y.return=null}catch(he){_n(y,i,he)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)wv(i,n),i=i.sibling}function wv(n,i){var u=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(hs(i,n),As(n),m&4){try{bc(3,n,n.return),ld(3,n)}catch(et){_n(n,n.return,et)}try{bc(5,n,n.return)}catch(et){_n(n,n.return,et)}}break;case 1:hs(i,n),As(n),m&512&&u!==null&&Qa(u,u.return);break;case 5:if(hs(i,n),As(n),m&512&&u!==null&&Qa(u,u.return),n.flags&32){var y=n.stateNode;try{Je(y,"")}catch(et){_n(n,n.return,et)}}if(m&4&&(y=n.stateNode,y!=null)){var N=n.memoizedProps,R=u!==null?u.memoizedProps:N,z=n.type,Y=n.updateQueue;if(n.updateQueue=null,Y!==null)try{z==="input"&&N.type==="radio"&&N.name!=null&&Z(y,N),ye(z,R);var he=ye(z,N);for(R=0;R<Y.length;R+=2){var Ae=Y[R],De=Y[R+1];Ae==="style"?Xt(y,De):Ae==="dangerouslySetInnerHTML"?Vt(y,De):Ae==="children"?Je(y,De):M(y,Ae,De,he)}switch(z){case"input":le(y,N);break;case"textarea":Pt(y,N);break;case"select":var Re=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!N.multiple;var qe=N.value;qe!=null?Xe(y,!!N.multiple,qe,!1):Re!==!!N.multiple&&(N.defaultValue!=null?Xe(y,!!N.multiple,N.defaultValue,!0):Xe(y,!!N.multiple,N.multiple?[]:"",!1))}y[Fo]=N}catch(et){_n(n,n.return,et)}}break;case 6:if(hs(i,n),As(n),m&4){if(n.stateNode===null)throw Error(r(162));y=n.stateNode,N=n.memoizedProps;try{y.nodeValue=N}catch(et){_n(n,n.return,et)}}break;case 3:if(hs(i,n),As(n),m&4&&u!==null&&u.memoizedState.isDehydrated)try{jr(i.containerInfo)}catch(et){_n(n,n.return,et)}break;case 4:hs(i,n),As(n);break;case 13:hs(i,n),As(n),y=n.child,y.flags&8192&&(N=y.memoizedState!==null,y.stateNode.isHidden=N,!N||y.alternate!==null&&y.alternate.memoizedState!==null||(Zh=mn())),m&4&&yv(n);break;case 22:if(Ae=u!==null&&u.memoizedState!==null,n.mode&1?(Zn=(he=Zn)||Ae,hs(i,n),Zn=he):hs(i,n),As(n),m&8192){if(he=n.memoizedState!==null,(n.stateNode.isHidden=he)&&!Ae&&(n.mode&1)!==0)for(Ge=n,Ae=n.child;Ae!==null;){for(De=Ge=Ae;Ge!==null;){switch(Re=Ge,qe=Re.child,Re.tag){case 0:case 11:case 14:case 15:bc(4,Re,Re.return);break;case 1:Qa(Re,Re.return);var Qe=Re.stateNode;if(typeof Qe.componentWillUnmount=="function"){m=Re,u=Re.return;try{i=m,Qe.props=i.memoizedProps,Qe.state=i.memoizedState,Qe.componentWillUnmount()}catch(et){_n(m,u,et)}}break;case 5:Qa(Re,Re.return);break;case 22:if(Re.memoizedState!==null){Nv(De);continue}}qe!==null?(qe.return=Re,Ge=qe):Nv(De)}Ae=Ae.sibling}e:for(Ae=null,De=n;;){if(De.tag===5){if(Ae===null){Ae=De;try{y=De.stateNode,he?(N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(z=De.stateNode,Y=De.memoizedProps.style,R=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,z.style.display=jt("display",R))}catch(et){_n(n,n.return,et)}}}else if(De.tag===6){if(Ae===null)try{De.stateNode.nodeValue=he?"":De.memoizedProps}catch(et){_n(n,n.return,et)}}else if((De.tag!==22&&De.tag!==23||De.memoizedState===null||De===n)&&De.child!==null){De.child.return=De,De=De.child;continue}if(De===n)break e;for(;De.sibling===null;){if(De.return===null||De.return===n)break e;Ae===De&&(Ae=null),De=De.return}Ae===De&&(Ae=null),De.sibling.return=De.return,De=De.sibling}}break;case 19:hs(i,n),As(n),m&4&&yv(n);break;case 21:break;default:hs(i,n),As(n)}}function As(n){var i=n.flags;if(i&2){try{e:{for(var u=n.return;u!==null;){if(gv(u)){var m=u;break e}u=u.return}throw Error(r(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Je(y,""),m.flags&=-33);var N=vv(n);Hh(n,N,y);break;case 3:case 4:var R=m.stateNode.containerInfo,z=vv(n);Uh(n,z,R);break;default:throw Error(r(161))}}catch(Y){_n(n,n.return,Y)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function PN(n,i,u){Ge=n,_v(n)}function _v(n,i,u){for(var m=(n.mode&1)!==0;Ge!==null;){var y=Ge,N=y.child;if(y.tag===22&&m){var R=y.memoizedState!==null||ad;if(!R){var z=y.alternate,Y=z!==null&&z.memoizedState!==null||Zn;z=ad;var he=Zn;if(ad=R,(Zn=Y)&&!he)for(Ge=y;Ge!==null;)R=Ge,Y=R.child,R.tag===22&&R.memoizedState!==null?Sv(y):Y!==null?(Y.return=R,Ge=Y):Sv(y);for(;N!==null;)Ge=N,_v(N),N=N.sibling;Ge=y,ad=z,Zn=he}bv(n)}else(y.subtreeFlags&8772)!==0&&N!==null?(N.return=y,Ge=N):bv(n)}}function bv(n){for(;Ge!==null;){var i=Ge;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Zn||ld(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!Zn)if(u===null)m.componentDidMount();else{var y=i.elementType===i.type?u.memoizedProps:ds(i.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var N=i.updateQueue;N!==null&&Ng(i,N,m);break;case 3:var R=i.updateQueue;if(R!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}Ng(i,R,u)}break;case 5:var z=i.stateNode;if(u===null&&i.flags&4){u=z;var Y=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&u.focus();break;case"img":Y.src&&(u.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var he=i.alternate;if(he!==null){var Ae=he.memoizedState;if(Ae!==null){var De=Ae.dehydrated;De!==null&&jr(De)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Zn||i.flags&512&&Bh(i)}catch(Re){_n(i,i.return,Re)}}if(i===n){Ge=null;break}if(u=i.sibling,u!==null){u.return=i.return,Ge=u;break}Ge=i.return}}function Nv(n){for(;Ge!==null;){var i=Ge;if(i===n){Ge=null;break}var u=i.sibling;if(u!==null){u.return=i.return,Ge=u;break}Ge=i.return}}function Sv(n){for(;Ge!==null;){var i=Ge;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{ld(4,i)}catch(Y){_n(i,u,Y)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var y=i.return;try{m.componentDidMount()}catch(Y){_n(i,y,Y)}}var N=i.return;try{Bh(i)}catch(Y){_n(i,N,Y)}break;case 5:var R=i.return;try{Bh(i)}catch(Y){_n(i,R,Y)}}}catch(Y){_n(i,i.return,Y)}if(i===n){Ge=null;break}var z=i.sibling;if(z!==null){z.return=i.return,Ge=z;break}Ge=i.return}}var TN=Math.ceil,cd=O.ReactCurrentDispatcher,Wh=O.ReactCurrentOwner,Gr=O.ReactCurrentBatchConfig,Wt=0,On=null,Cn=null,$n=0,Rr=0,Ja=zo(0),Ln=0,Nc=null,Hi=0,ud=0,Vh=0,Sc=null,hr=null,Zh=0,el=1/0,co=null,dd=!1,qh=null,Zo=null,fd=!1,qo=null,hd=0,jc=0,Gh=null,md=-1,pd=0;function tr(){return(Wt&6)!==0?mn():md!==-1?md:md=mn()}function Go(n){return(n.mode&1)===0?1:(Wt&2)!==0&&$n!==0?$n&-$n:fN.transition!==null?(pd===0&&(pd=xu()),pd):(n=Bt,n!==0||(n=window.event,n=n===void 0?16:Ft(n.type)),n)}function ms(n,i,u,m){if(50<jc)throw jc=0,Gh=null,Error(r(185));Nr(n,u,m),((Wt&2)===0||n!==On)&&(n===On&&((Wt&2)===0&&(ud|=u),Ln===4&&Yo(n,$n)),mr(n,m),u===1&&Wt===0&&(i.mode&1)===0&&(el=mn()+500,Hu&&Uo()))}function mr(n,i){var u=n.callbackNode;wa(n,i);var m=rn(n,n===On?$n:0);if(m===0)u!==null&&zl(u),n.callbackNode=null,n.callbackPriority=0;else if(i=m&-m,n.callbackPriority!==i){if(u!=null&&zl(u),i===1)n.tag===0?dN(Ev.bind(null,n)):dg(Ev.bind(null,n)),Un(function(){(Wt&6)===0&&Uo()}),u=null;else{switch(No(m)){case 1:u=Bl;break;case 4:u=vu;break;case 16:u=xa;break;case 536870912:u=yo;break;default:u=xa}u=Av(u,jv.bind(null,n))}n.callbackPriority=i,n.callbackNode=u}}function jv(n,i){if(md=-1,pd=0,(Wt&6)!==0)throw Error(r(327));var u=n.callbackNode;if(tl()&&n.callbackNode!==u)return null;var m=rn(n,n===On?$n:0);if(m===0)return null;if((m&30)!==0||(m&n.expiredLanes)!==0||i)i=gd(n,m);else{i=m;var y=Wt;Wt|=2;var N=Pv();(On!==n||$n!==i)&&(co=null,el=mn()+500,Vi(n,i));do try{RN();break}catch(z){Cv(n,z)}while(!0);fh(),cd.current=N,Wt=y,Cn!==null?i=0:(On=null,$n=0,i=Ln)}if(i!==0){if(i===2&&(y=zn(n),y!==0&&(m=y,i=Yh(n,y))),i===1)throw u=Nc,Vi(n,0),Yo(n,m),mr(n,mn()),u;if(i===6)Yo(n,m);else{if(y=n.current.alternate,(m&30)===0&&!kN(y)&&(i=gd(n,m),i===2&&(N=zn(n),N!==0&&(m=N,i=Yh(n,N))),i===1))throw u=Nc,Vi(n,0),Yo(n,m),mr(n,mn()),u;switch(n.finishedWork=y,n.finishedLanes=m,i){case 0:case 1:throw Error(r(345));case 2:Zi(n,hr,co);break;case 3:if(Yo(n,m),(m&130023424)===m&&(i=Zh+500-mn(),10<i)){if(rn(n,0)!==0)break;if(y=n.suspendedLanes,(y&m)!==m){tr(),n.pingedLanes|=n.suspendedLanes&y;break}n.timeoutHandle=Mn(Zi.bind(null,n,hr,co),i);break}Zi(n,hr,co);break;case 4:if(Yo(n,m),(m&4194240)===m)break;for(i=n.eventTimes,y=-1;0<m;){var R=31-bt(m);N=1<<R,R=i[R],R>y&&(y=R),m&=~N}if(m=y,m=mn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*TN(m/1960))-m,10<m){n.timeoutHandle=Mn(Zi.bind(null,n,hr,co),m);break}Zi(n,hr,co);break;case 5:Zi(n,hr,co);break;default:throw Error(r(329))}}}return mr(n,mn()),n.callbackNode===u?jv.bind(null,n):null}function Yh(n,i){var u=Sc;return n.current.memoizedState.isDehydrated&&(Vi(n,i).flags|=256),n=gd(n,i),n!==2&&(i=hr,hr=u,i!==null&&Kh(i)),n}function Kh(n){hr===null?hr=n:hr.push.apply(hr,n)}function kN(n){for(var i=n;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],N=y.getSnapshot;y=y.value;try{if(!Pr(N(),y))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yo(n,i){for(i&=~Vh,i&=~ud,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var u=31-bt(i),m=1<<u;n[u]=-1,i&=~m}}function Ev(n){if((Wt&6)!==0)throw Error(r(327));tl();var i=rn(n,0);if((i&1)===0)return mr(n,mn()),null;var u=gd(n,i);if(n.tag!==0&&u===2){var m=zn(n);m!==0&&(i=m,u=Yh(n,m))}if(u===1)throw u=Nc,Vi(n,0),Yo(n,i),mr(n,mn()),u;if(u===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Zi(n,hr,co),mr(n,mn()),null}function Xh(n,i){var u=Wt;Wt|=1;try{return n(i)}finally{Wt=u,Wt===0&&(el=mn()+500,Hu&&Uo())}}function Wi(n){qo!==null&&qo.tag===0&&(Wt&6)===0&&tl();var i=Wt;Wt|=1;var u=Gr.transition,m=Bt;try{if(Gr.transition=null,Bt=1,n)return n()}finally{Bt=m,Gr.transition=u,Wt=i,(Wt&6)===0&&Uo()}}function Qh(){Rr=Ja.current,an(Ja)}function Vi(n,i){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,En(u)),Cn!==null)for(u=Cn.return;u!==null;){var m=u;switch(ah(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Bu();break;case 3:Ka(),an(ur),an(Hn),wh();break;case 5:xh(m);break;case 4:Ka();break;case 13:an(gn);break;case 19:an(gn);break;case 10:hh(m.type._context);break;case 22:case 23:Qh()}u=u.return}if(On=n,Cn=n=Ko(n.current,null),$n=Rr=i,Ln=0,Nc=null,Vh=ud=Hi=0,hr=Sc=null,zi!==null){for(i=0;i<zi.length;i++)if(u=zi[i],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,N=u.pending;if(N!==null){var R=N.next;N.next=y,m.next=R}u.pending=m}zi=null}return n}function Cv(n,i){do{var u=Cn;try{if(fh(),Ju.current=rd,ed){for(var m=vn.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}ed=!1}if(Ui=0,Dn=Rn=vn=null,vc=!1,xc=0,Wh.current=null,u===null||u.return===null){Ln=1,Nc=i,Cn=null;break}e:{var N=n,R=u.return,z=u,Y=i;if(i=$n,z.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var he=Y,Ae=z,De=Ae.tag;if((Ae.mode&1)===0&&(De===0||De===11||De===15)){var Re=Ae.alternate;Re?(Ae.updateQueue=Re.updateQueue,Ae.memoizedState=Re.memoizedState,Ae.lanes=Re.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var qe=Qg(R);if(qe!==null){qe.flags&=-257,Jg(qe,R,z,N,i),qe.mode&1&&Xg(N,he,i),i=qe,Y=he;var Qe=i.updateQueue;if(Qe===null){var et=new Set;et.add(Y),i.updateQueue=et}else Qe.add(Y);break e}else{if((i&1)===0){Xg(N,he,i),Jh();break e}Y=Error(r(426))}}else if(un&&z.mode&1){var jn=Qg(R);if(jn!==null){(jn.flags&65536)===0&&(jn.flags|=256),Jg(jn,R,z,N,i),uh(Xa(Y,z));break e}}N=Y=Xa(Y,z),Ln!==4&&(Ln=2),Sc===null?Sc=[N]:Sc.push(N),N=R;do{switch(N.tag){case 3:N.flags|=65536,i&=-i,N.lanes|=i;var oe=Yg(N,Y,i);bg(N,oe);break e;case 1:z=Y;var Q=N.type,ae=N.stateNode;if((N.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(Zo===null||!Zo.has(ae)))){N.flags|=65536,i&=-i,N.lanes|=i;var Fe=Kg(N,z,i);bg(N,Fe);break e}}N=N.return}while(N!==null)}kv(u)}catch(tt){i=tt,Cn===u&&u!==null&&(Cn=u=u.return);continue}break}while(!0)}function Pv(){var n=cd.current;return cd.current=rd,n===null?rd:n}function Jh(){(Ln===0||Ln===3||Ln===2)&&(Ln=4),On===null||(Hi&268435455)===0&&(ud&268435455)===0||Yo(On,$n)}function gd(n,i){var u=Wt;Wt|=2;var m=Pv();(On!==n||$n!==i)&&(co=null,Vi(n,i));do try{MN();break}catch(y){Cv(n,y)}while(!0);if(fh(),Wt=u,cd.current=m,Cn!==null)throw Error(r(261));return On=null,$n=0,Ln}function MN(){for(;Cn!==null;)Tv(Cn)}function RN(){for(;Cn!==null&&!zf();)Tv(Cn)}function Tv(n){var i=Lv(n.alternate,n,Rr);n.memoizedProps=n.pendingProps,i===null?kv(n):Cn=i,Wh.current=null}function kv(n){var i=n;do{var u=i.alternate;if(n=i.return,(i.flags&32768)===0){if(u=SN(u,i,Rr),u!==null){Cn=u;return}}else{if(u=jN(u,i),u!==null){u.flags&=32767,Cn=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ln=6,Cn=null;return}}if(i=i.sibling,i!==null){Cn=i;return}Cn=i=n}while(i!==null);Ln===0&&(Ln=5)}function Zi(n,i,u){var m=Bt,y=Gr.transition;try{Gr.transition=null,Bt=1,LN(n,i,u,m)}finally{Gr.transition=y,Bt=m}return null}function LN(n,i,u,m){do tl();while(qo!==null);if((Wt&6)!==0)throw Error(r(327));u=n.finishedWork;var y=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var N=u.lanes|u.childLanes;if(wn(n,N),n===On&&(Cn=On=null,$n=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||fd||(fd=!0,Av(xa,function(){return tl(),null})),N=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||N){N=Gr.transition,Gr.transition=null;var R=Bt;Bt=1;var z=Wt;Wt|=4,Wh.current=null,CN(n,u),wv(u,n),Br(it),Ti=!!Ve,it=Ve=null,n.current=u,PN(u),va(),Wt=z,Bt=R,Gr.transition=N}else n.current=u;if(fd&&(fd=!1,qo=n,hd=y),N=n.pendingLanes,N===0&&(Zo=null),Si(u.stateNode),mr(n,mn()),i!==null)for(m=n.onRecoverableError,u=0;u<i.length;u++)y=i[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(dd)throw dd=!1,n=qh,qh=null,n;return(hd&1)!==0&&n.tag!==0&&tl(),N=n.pendingLanes,(N&1)!==0?n===Gh?jc++:(jc=0,Gh=n):jc=0,Uo(),null}function tl(){if(qo!==null){var n=No(hd),i=Gr.transition,u=Bt;try{if(Gr.transition=null,Bt=16>n?16:n,qo===null)var m=!1;else{if(n=qo,qo=null,hd=0,(Wt&6)!==0)throw Error(r(331));var y=Wt;for(Wt|=4,Ge=n.current;Ge!==null;){var N=Ge,R=N.child;if((Ge.flags&16)!==0){var z=N.deletions;if(z!==null){for(var Y=0;Y<z.length;Y++){var he=z[Y];for(Ge=he;Ge!==null;){var Ae=Ge;switch(Ae.tag){case 0:case 11:case 15:bc(8,Ae,N)}var De=Ae.child;if(De!==null)De.return=Ae,Ge=De;else for(;Ge!==null;){Ae=Ge;var Re=Ae.sibling,qe=Ae.return;if(pv(Ae),Ae===he){Ge=null;break}if(Re!==null){Re.return=qe,Ge=Re;break}Ge=qe}}}var Qe=N.alternate;if(Qe!==null){var et=Qe.child;if(et!==null){Qe.child=null;do{var jn=et.sibling;et.sibling=null,et=jn}while(et!==null)}}Ge=N}}if((N.subtreeFlags&2064)!==0&&R!==null)R.return=N,Ge=R;else e:for(;Ge!==null;){if(N=Ge,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:bc(9,N,N.return)}var oe=N.sibling;if(oe!==null){oe.return=N.return,Ge=oe;break e}Ge=N.return}}var Q=n.current;for(Ge=Q;Ge!==null;){R=Ge;var ae=R.child;if((R.subtreeFlags&2064)!==0&&ae!==null)ae.return=R,Ge=ae;else e:for(R=Q;Ge!==null;){if(z=Ge,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:ld(9,z)}}catch(tt){_n(z,z.return,tt)}if(z===R){Ge=null;break e}var Fe=z.sibling;if(Fe!==null){Fe.return=z.return,Ge=Fe;break e}Ge=z.return}}if(Wt=y,Uo(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Ni,n)}catch{}m=!0}return m}finally{Bt=u,Gr.transition=i}}return!1}function Mv(n,i,u){i=Xa(u,i),i=Yg(n,i,1),n=Wo(n,i,1),i=tr(),n!==null&&(Nr(n,1,i),mr(n,i))}function _n(n,i,u){if(n.tag===3)Mv(n,n,u);else for(;i!==null;){if(i.tag===3){Mv(i,n,u);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Zo===null||!Zo.has(m))){n=Xa(u,n),n=Kg(i,n,1),i=Wo(i,n,1),n=tr(),i!==null&&(Nr(i,1,n),mr(i,n));break}}i=i.return}}function AN(n,i,u){var m=n.pingCache;m!==null&&m.delete(i),i=tr(),n.pingedLanes|=n.suspendedLanes&u,On===n&&($n&u)===u&&(Ln===4||Ln===3&&($n&130023424)===$n&&500>mn()-Zh?Vi(n,0):Vh|=u),mr(n,i)}function Rv(n,i){i===0&&((n.mode&1)===0?i=1:(i=_o,_o<<=1,(_o&130023424)===0&&(_o=4194304)));var u=tr();n=io(n,i),n!==null&&(Nr(n,i,u),mr(n,u))}function DN(n){var i=n.memoizedState,u=0;i!==null&&(u=i.retryLane),Rv(n,u)}function ON(n,i){var u=0;switch(n.tag){case 13:var m=n.stateNode,y=n.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(i),Rv(n,u)}var Lv;Lv=function(n,i,u){if(n!==null)if(n.memoizedProps!==i.pendingProps||ur.current)fr=!0;else{if((n.lanes&u)===0&&(i.flags&128)===0)return fr=!1,NN(n,i,u);fr=(n.flags&131072)!==0}else fr=!1,un&&(i.flags&1048576)!==0&&fg(i,Vu,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;id(n,i),n=i.pendingProps;var y=Ha(i,Hn.current);Ya(i,u),y=Nh(null,i,m,n,y,u);var N=Sh();return i.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,dr(m)?(N=!0,Uu(i)):N=!1,i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,gh(i),y.updater=sd,i.stateNode=y,y._reactInternals=i,kh(i,m,n,u),i=Ah(null,i,m,!0,N,u)):(i.tag=0,un&&N&&ih(i),er(null,i,y,u),i=i.child),i;case 16:m=i.elementType;e:{switch(id(n,i),n=i.pendingProps,y=m._init,m=y(m._payload),i.type=m,y=i.tag=FN(m),n=ds(m,n),y){case 0:i=Lh(null,i,m,n,u);break e;case 1:i=ov(null,i,m,n,u);break e;case 11:i=ev(null,i,m,n,u);break e;case 14:i=tv(null,i,m,ds(m.type,n),u);break e}throw Error(r(306,m,""))}return i;case 0:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:ds(m,y),Lh(n,i,m,y,u);case 1:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:ds(m,y),ov(n,i,m,y,u);case 3:e:{if(iv(i),n===null)throw Error(r(387));m=i.pendingProps,N=i.memoizedState,y=N.element,_g(n,i),Xu(i,m,null,u);var R=i.memoizedState;if(m=R.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},i.updateQueue.baseState=N,i.memoizedState=N,i.flags&256){y=Xa(Error(r(423)),i),i=av(n,i,m,u,y);break e}else if(m!==y){y=Xa(Error(r(424)),i),i=av(n,i,m,u,y);break e}else for(Mr=Ms(i.stateNode.containerInfo.firstChild),kr=i,un=!0,us=null,u=yg(i,null,m,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Za(),m===y){i=lo(n,i,u);break e}er(n,i,m,u)}i=i.child}return i;case 5:return Sg(i),n===null&&ch(i),m=i.type,y=i.pendingProps,N=n!==null?n.memoizedProps:null,R=y.children,Et(m,y)?R=null:N!==null&&Et(m,N)&&(i.flags|=32),sv(n,i),er(n,i,R,u),i.child;case 6:return n===null&&ch(i),null;case 13:return lv(n,i,u);case 4:return vh(i,i.stateNode.containerInfo),m=i.pendingProps,n===null?i.child=qa(i,null,m,u):er(n,i,m,u),i.child;case 11:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:ds(m,y),ev(n,i,m,y,u);case 7:return er(n,i,i.pendingProps,u),i.child;case 8:return er(n,i,i.pendingProps.children,u),i.child;case 12:return er(n,i,i.pendingProps.children,u),i.child;case 10:e:{if(m=i.type._context,y=i.pendingProps,N=i.memoizedProps,R=y.value,sn(Gu,m._currentValue),m._currentValue=R,N!==null)if(Pr(N.value,R)){if(N.children===y.children&&!ur.current){i=lo(n,i,u);break e}}else for(N=i.child,N!==null&&(N.return=i);N!==null;){var z=N.dependencies;if(z!==null){R=N.child;for(var Y=z.firstContext;Y!==null;){if(Y.context===m){if(N.tag===1){Y=ao(-1,u&-u),Y.tag=2;var he=N.updateQueue;if(he!==null){he=he.shared;var Ae=he.pending;Ae===null?Y.next=Y:(Y.next=Ae.next,Ae.next=Y),he.pending=Y}}N.lanes|=u,Y=N.alternate,Y!==null&&(Y.lanes|=u),mh(N.return,u,i),z.lanes|=u;break}Y=Y.next}}else if(N.tag===10)R=N.type===i.type?null:N.child;else if(N.tag===18){if(R=N.return,R===null)throw Error(r(341));R.lanes|=u,z=R.alternate,z!==null&&(z.lanes|=u),mh(R,u,i),R=N.sibling}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===i){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}er(n,i,y.children,u),i=i.child}return i;case 9:return y=i.type,m=i.pendingProps.children,Ya(i,u),y=Zr(y),m=m(y),i.flags|=1,er(n,i,m,u),i.child;case 14:return m=i.type,y=ds(m,i.pendingProps),y=ds(m.type,y),tv(n,i,m,y,u);case 15:return nv(n,i,i.type,i.pendingProps,u);case 17:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:ds(m,y),id(n,i),i.tag=1,dr(m)?(n=!0,Uu(i)):n=!1,Ya(i,u),qg(i,m,y),kh(i,m,y,u),Ah(null,i,m,!0,n,u);case 19:return uv(n,i,u);case 22:return rv(n,i,u)}throw Error(r(156,i.tag))};function Av(n,i){return gu(n,i)}function IN(n,i,u,m){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(n,i,u,m){return new IN(n,i,u,m)}function em(n){return n=n.prototype,!(!n||!n.isReactComponent)}function FN(n){if(typeof n=="function")return em(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ge)return 11;if(n===$e)return 14}return 2}function Ko(n,i){var u=n.alternate;return u===null?(u=Yr(n.tag,i,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=i,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,i=n.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function vd(n,i,u,m,y,N){var R=2;if(m=n,typeof n=="function")em(n)&&(R=1);else if(typeof n=="string")R=5;else e:switch(n){case U:return qi(u.children,y,N,i);case re:R=8,y|=8;break;case q:return n=Yr(12,u,i,y|2),n.elementType=q,n.lanes=N,n;case Oe:return n=Yr(13,u,i,y),n.elementType=Oe,n.lanes=N,n;case me:return n=Yr(19,u,i,y),n.elementType=me,n.lanes=N,n;case _e:return xd(u,y,N,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case X:R=10;break e;case ne:R=9;break e;case ge:R=11;break e;case $e:R=14;break e;case J:R=16,m=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Yr(R,u,i,y),i.elementType=n,i.type=m,i.lanes=N,i}function qi(n,i,u,m){return n=Yr(7,n,m,i),n.lanes=u,n}function xd(n,i,u,m){return n=Yr(22,n,m,i),n.elementType=_e,n.lanes=u,n.stateNode={isHidden:!1},n}function tm(n,i,u){return n=Yr(6,n,null,i),n.lanes=u,n}function nm(n,i,u){return i=Yr(4,n.children!==null?n.children:[],n.key,i),i.lanes=u,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function $N(n,i,u,m,y){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bo(0),this.expirationTimes=bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bo(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function rm(n,i,u,m,y,N,R,z,Y){return n=new $N(n,i,u,z,Y),i===1?(i=1,N===!0&&(i|=8)):i=0,N=Yr(3,null,null,i),n.current=N,N.stateNode=n,N.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(N),n}function zN(n,i,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:m==null?null:""+m,children:n,containerInfo:i,implementation:u}}function Dv(n){if(!n)return Bo;n=n._reactInternals;e:{if(Ns(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(dr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var u=n.type;if(dr(u))return cg(n,u,i)}return i}function Ov(n,i,u,m,y,N,R,z,Y){return n=rm(u,m,!0,n,y,N,R,z,Y),n.context=Dv(null),u=n.current,m=tr(),y=Go(u),N=ao(m,y),N.callback=i??null,Wo(u,N,y),n.current.lanes=y,Nr(n,y,m),mr(n,m),n}function yd(n,i,u,m){var y=i.current,N=tr(),R=Go(y);return u=Dv(u),i.context===null?i.context=u:i.pendingContext=u,i=ao(N,R),i.payload={element:n},m=m===void 0?null:m,m!==null&&(i.callback=m),n=Wo(y,i,R),n!==null&&(ms(n,y,R,N),Ku(n,y,R)),R}function wd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Iv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<i?u:i}}function sm(n,i){Iv(n,i),(n=n.alternate)&&Iv(n,i)}function BN(){return null}var Fv=typeof reportError=="function"?reportError:function(n){console.error(n)};function om(n){this._internalRoot=n}_d.prototype.render=om.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));yd(n,i,null,null)},_d.prototype.unmount=om.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Wi(function(){yd(null,n,null,null)}),i[Yt]=null}};function _d(n){this._internalRoot=n}_d.prototype.unstable_scheduleHydration=function(n){if(n){var i=Na();n={blockedOn:null,target:n,priority:i};for(var u=0;u<kn.length&&i!==0&&i<kn[u].priority;u++);kn.splice(u,0,n),u===0&&Sa(n)}};function im(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function $v(){}function UN(n,i,u,m,y){if(y){if(typeof m=="function"){var N=m;m=function(){var he=wd(R);N.call(he)}}var R=Ov(i,m,n,0,null,!1,!1,"",$v);return n._reactRootContainer=R,n[Yt]=R.current,Oo(n.nodeType===8?n.parentNode:n),Wi(),R}for(;y=n.lastChild;)n.removeChild(y);if(typeof m=="function"){var z=m;m=function(){var he=wd(Y);z.call(he)}}var Y=rm(n,0,!1,null,null,!1,!1,"",$v);return n._reactRootContainer=Y,n[Yt]=Y.current,Oo(n.nodeType===8?n.parentNode:n),Wi(function(){yd(i,Y,u,m)}),Y}function Nd(n,i,u,m,y){var N=u._reactRootContainer;if(N){var R=N;if(typeof y=="function"){var z=y;y=function(){var Y=wd(R);z.call(Y)}}yd(i,R,n,y)}else R=UN(u,i,n,y,m);return wd(R)}_a=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var u=wt(i.pendingLanes);u!==0&&(os(i,u|1),mr(i,mn()),(Wt&6)===0&&(el=mn()+500,Uo()))}break;case 13:Wi(function(){var m=io(n,1);if(m!==null){var y=tr();ms(m,n,1,y)}}),sm(n,1)}},Vs=function(n){if(n.tag===13){var i=io(n,134217728);if(i!==null){var u=tr();ms(i,n,134217728,u)}sm(n,134217728)}},ba=function(n){if(n.tag===13){var i=Go(n),u=io(n,i);if(u!==null){var m=tr();ms(u,n,i,m)}sm(n,i)}},Na=function(){return Bt},ji=function(n,i){var u=Bt;try{return Bt=n,i()}finally{Bt=u}},de=function(n,i,u){switch(i){case"input":if(le(n,u),i=u.name,u.type==="radio"&&i!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var m=u[i];if(m!==n&&m.form===n.form){var y=Ba(m);if(!y)throw Error(r(90));Ze(m),le(m,y)}}}break;case"textarea":Pt(n,u);break;case"select":i=u.value,i!=null&&Xe(n,!!u.multiple,i,!1)}},Ie=Xh,nt=Wi;var HN={usingClientEntryPoint:!1,Events:[to,no,Ba,ce,ze,Xh]},Ec={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WN={bundleType:Ec.bundleType,version:Ec.version,rendererPackageName:Ec.rendererPackageName,rendererConfig:Ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=mu(n),n===null?null:n.stateNode},findFiberByHostInstance:Ec.findFiberByHostInstance||BN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{Ni=Sd.inject(WN),br=Sd}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HN,pr.createPortal=function(n,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(i))throw Error(r(200));return zN(n,i,null,u)},pr.createRoot=function(n,i){if(!im(n))throw Error(r(299));var u=!1,m="",y=Fv;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=rm(n,1,!1,null,null,u,!1,m,y),n[Yt]=i.current,Oo(n.nodeType===8?n.parentNode:n),new om(i)},pr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=mu(i),n=n===null?null:n.stateNode,n},pr.flushSync=function(n){return Wi(n)},pr.hydrate=function(n,i,u){if(!bd(i))throw Error(r(200));return Nd(null,n,i,!0,u)},pr.hydrateRoot=function(n,i,u){if(!im(n))throw Error(r(405));var m=u!=null&&u.hydratedSources||null,y=!1,N="",R=Fv;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),i=Ov(i,null,n,1,u??null,y,!1,N,R),n[Yt]=i.current,Oo(n),m)for(n=0;n<m.length;n++)u=m[n],y=u._getVersion,y=y(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,y]:i.mutableSourceEagerHydrationData.push(u,y);return new _d(i)},pr.render=function(n,i,u){if(!bd(i))throw Error(r(200));return Nd(null,n,i,!1,u)},pr.unmountComponentAtNode=function(n){if(!bd(n))throw Error(r(40));return n._reactRootContainer?(Wi(function(){Nd(null,null,n,!1,function(){n._reactRootContainer=null,n[Yt]=null})}),!0):!1},pr.unstable_batchedUpdates=Xh,pr.unstable_renderSubtreeIntoContainer=function(n,i,u,m){if(!bd(u))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Nd(n,i,u,!1,m)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var Yv;function ky(){if(Yv)return fm.exports;Yv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fm.exports=s1(),fm.exports}var ha=ky();const lf=wp(ha);function st(e,t,{checkForDefaultPrevented:r=!0}={}){return function(c){if(e==null||e(c),r===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function o1(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function My(...e){return t=>e.forEach(r=>o1(r,t))}function It(...e){return v.useCallback(My(...e),e)}function kl(e,t=[]){let r=[];function a(d,f){const p=v.createContext(f),g=r.length;r=[...r,f];function w(b){const{scope:S,children:k,...P}=b,j=(S==null?void 0:S[e][g])||p,C=v.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:k})}function _(b,S){const k=(S==null?void 0:S[e][g])||p,P=v.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return w.displayName=d+"Provider",[w,_]}const c=()=>{const d=r.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,i1(c,...t)]}function i1(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var aa=v.forwardRef((e,t)=>{const{children:r,...a}=e,c=v.Children.toArray(r),d=c.find(a1);if(d){const f=d.props.children,p=c.map(g=>g===d?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:g);return o.jsx(Im,{...a,ref:t,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return o.jsx(Im,{...a,ref:t,children:r})});aa.displayName="Slot";var Im=v.forwardRef((e,t)=>{const{children:r,...a}=e;if(v.isValidElement(r)){const c=c1(r);return v.cloneElement(r,{...l1(a,r.props),ref:t?My(t,c):c})}return v.Children.count(r)>1?v.Children.only(null):null});Im.displayName="SlotClone";var Ry=({children:e})=>o.jsx(o.Fragment,{children:e});function a1(e){return v.isValidElement(e)&&e.type===Ry}function l1(e,t){const r={...t};for(const a in t){const c=e[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?r[a]=(...p)=>{d(...p),c(...p)}:c&&(r[a]=c):a==="style"?r[a]={...c,...d}:a==="className"&&(r[a]=[c,d].filter(Boolean).join(" "))}return{...e,...r}}function c1(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ly(e){const t=e+"CollectionProvider",[r,a]=kl(t),[c,d]=r(t,{collectionRef:{current:null},itemMap:new Map}),f=k=>{const{scope:P,children:j}=k,C=Ue.useRef(null),T=Ue.useRef(new Map).current;return o.jsx(c,{scope:P,itemMap:T,collectionRef:C,children:j})};f.displayName=t;const p=e+"CollectionSlot",g=Ue.forwardRef((k,P)=>{const{scope:j,children:C}=k,T=d(p,j),D=It(P,T.collectionRef);return o.jsx(aa,{ref:D,children:C})});g.displayName=p;const w=e+"CollectionItemSlot",_="data-radix-collection-item",b=Ue.forwardRef((k,P)=>{const{scope:j,children:C,...T}=k,D=Ue.useRef(null),M=It(P,D),O=d(w,j);return Ue.useEffect(()=>(O.itemMap.set(D,{ref:D,...T}),()=>void O.itemMap.delete(D))),o.jsx(aa,{[_]:"",ref:M,children:C})});b.displayName=w;function S(k){const P=d(e+"CollectionConsumer",k);return Ue.useCallback(()=>{const C=P.collectionRef.current;if(!C)return[];const T=Array.from(C.querySelectorAll(`[${_}]`));return Array.from(P.itemMap.values()).sort((O,I)=>T.indexOf(O.ref.current)-T.indexOf(I.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:f,Slot:g,ItemSlot:b},S,a]}var u1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_t=u1.reduce((e,t)=>{const r=v.forwardRef((a,c)=>{const{asChild:d,...f}=a,p=d?aa:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(p,{...f,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function cf(e,t){e&&ha.flushSync(()=>e.dispatchEvent(t))}function fn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function bp(e,t=globalThis==null?void 0:globalThis.document){const r=fn(e);v.useEffect(()=>{const a=c=>{c.key==="Escape"&&r(c)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var d1="DismissableLayer",Fm="dismissableLayer.update",f1="dismissableLayer.pointerDownOutside",h1="dismissableLayer.focusOutside",Kv,Ay=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dy=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(Ay),[_,b]=v.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=v.useState({}),P=It(t,U=>b(U)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(C),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=T,I=p1(U=>{const re=U.target,q=[...w.branches].some(X=>X.contains(re));!O||q||(c==null||c(U),f==null||f(U),U.defaultPrevented||p==null||p())},S),G=g1(U=>{const re=U.target;[...w.branches].some(X=>X.contains(re))||(d==null||d(U),f==null||f(U),U.defaultPrevented||p==null||p())},S);return bp(U=>{D===w.layers.size-1&&(a==null||a(U),!U.defaultPrevented&&p&&(U.preventDefault(),p()))},S),v.useEffect(()=>{if(_)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(Kv=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),Xv(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Kv)}},[_,S,r,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),Xv())},[_,w]),v.useEffect(()=>{const U=()=>k({});return document.addEventListener(Fm,U),()=>document.removeEventListener(Fm,U)},[]),o.jsx(_t.div,{...g,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:st(e.onFocusCapture,G.onFocusCapture),onBlurCapture:st(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:st(e.onPointerDownCapture,I.onPointerDownCapture)})});Dy.displayName=d1;var m1="DismissableLayerBranch",Oy=v.forwardRef((e,t)=>{const r=v.useContext(Ay),a=v.useRef(null),c=It(t,a);return v.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(_t.div,{...e,ref:c})});Oy.displayName=m1;function p1(e,t=globalThis==null?void 0:globalThis.document){const r=fn(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){Iy(f1,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function g1(e,t=globalThis==null?void 0:globalThis.document){const r=fn(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&Iy(h1,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Xv(){const e=new CustomEvent(Fm);document.dispatchEvent(e)}function Iy(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var v1=Dy,x1=Oy,yn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},y1="Portal",Fy=v.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=v.useState(!1);yn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?lf.createPortal(o.jsx(_t.div,{...a,ref:t}),f):null});Fy.displayName=y1;function w1(e,t){return v.useReducer((r,a)=>t[r][a]??r,e)}var ma=e=>{const{present:t,children:r}=e,a=_1(t),c=typeof r=="function"?r({present:a.isPresent}):v.Children.only(r),d=It(a.ref,b1(c));return typeof r=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};ma.displayName="Presence";function _1(e){const[t,r]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=w1(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=Ed(a.current);d.current=p==="mounted"?w:"none"},[p]),yn(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,k=Ed(w);e?g("MOUNT"):k==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),yn(()=>{if(t){const w=b=>{const k=Ed(a.current).includes(b.animationName);b.target===t&&k&&ha.flushSync(()=>g("ANIMATION_END"))},_=b=>{b.target===t&&(d.current=Ed(a.current))};return t.addEventListener("animationstart",_),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{t.removeEventListener("animationstart",_),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),r(w)},[])}}function Ed(e){return(e==null?void 0:e.animationName)||"none"}function b1(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Uc({prop:e,defaultProp:t,onChange:r=()=>{}}){const[a,c]=N1({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:a,p=fn(r),g=v.useCallback(w=>{if(d){const b=typeof w=="function"?w(e):w;b!==e&&p(b)}else c(w)},[d,e,c,p]);return[f,g]}function N1({defaultProp:e,onChange:t}){const r=v.useState(e),[a]=r,c=v.useRef(a),d=fn(t);return v.useEffect(()=>{c.current!==a&&(d(a),c.current=a)},[a,c,d]),r}var S1="VisuallyHidden",eu=v.forwardRef((e,t)=>o.jsx(_t.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));eu.displayName=S1;var j1=eu,Np="ToastProvider",[Sp,E1,C1]=Ly("Toast"),[$y,zL]=kl("Toast",[C1]),[P1,uf]=$y(Np),zy=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:f}=e,[p,g]=v.useState(null),[w,_]=v.useState(0),b=v.useRef(!1),S=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Np}\`. Expected non-empty \`string\`.`),o.jsx(Sp.Provider,{scope:t,children:o.jsx(P1,{scope:t,label:r,duration:a,swipeDirection:c,swipeThreshold:d,toastCount:w,viewport:p,onViewportChange:g,onToastAdd:v.useCallback(()=>_(k=>k+1),[]),onToastRemove:v.useCallback(()=>_(k=>k-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:S,children:f})})};zy.displayName=Np;var By="ToastViewport",T1=["F8"],$m="toast.viewportPause",zm="toast.viewportResume",Uy=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=T1,label:c="Notifications ({hotkey})",...d}=e,f=uf(By,r),p=E1(r),g=v.useRef(null),w=v.useRef(null),_=v.useRef(null),b=v.useRef(null),S=It(t,b,f.onViewportChange),k=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=f.toastCount>0;v.useEffect(()=>{const C=T=>{var M;a.every(O=>T[O]||T.code===O)&&((M=b.current)==null||M.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[a]),v.useEffect(()=>{const C=g.current,T=b.current;if(P&&C&&T){const D=()=>{if(!f.isClosePausedRef.current){const G=new CustomEvent($m);T.dispatchEvent(G),f.isClosePausedRef.current=!0}},M=()=>{if(f.isClosePausedRef.current){const G=new CustomEvent(zm);T.dispatchEvent(G),f.isClosePausedRef.current=!1}},O=G=>{!C.contains(G.relatedTarget)&&M()},I=()=>{C.contains(document.activeElement)||M()};return C.addEventListener("focusin",D),C.addEventListener("focusout",O),C.addEventListener("pointermove",D),C.addEventListener("pointerleave",I),window.addEventListener("blur",D),window.addEventListener("focus",M),()=>{C.removeEventListener("focusin",D),C.removeEventListener("focusout",O),C.removeEventListener("pointermove",D),C.removeEventListener("pointerleave",I),window.removeEventListener("blur",D),window.removeEventListener("focus",M)}}},[P,f.isClosePausedRef]);const j=v.useCallback(({tabbingDirection:C})=>{const D=p().map(M=>{const O=M.ref.current,I=[O,...U1(O)];return C==="forwards"?I:I.reverse()});return(C==="forwards"?D.reverse():D).flat()},[p]);return v.useEffect(()=>{const C=b.current;if(C){const T=D=>{var I,G,U;const M=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!M){const re=document.activeElement,q=D.shiftKey;if(D.target===C&&q){(I=w.current)==null||I.focus();return}const ge=j({tabbingDirection:q?"backwards":"forwards"}),Oe=ge.findIndex(me=>me===re);pm(ge.slice(Oe+1))?D.preventDefault():q?(G=w.current)==null||G.focus():(U=_.current)==null||U.focus()}};return C.addEventListener("keydown",T),()=>C.removeEventListener("keydown",T)}},[p,j]),o.jsxs(x1,{ref:g,role:"region","aria-label":c.replace("{hotkey}",k),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&o.jsx(Bm,{ref:w,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"forwards"});pm(C)}}),o.jsx(Sp.Slot,{scope:r,children:o.jsx(_t.ol,{tabIndex:-1,...d,ref:S})}),P&&o.jsx(Bm,{ref:_,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"backwards"});pm(C)}})]})});Uy.displayName=By;var Hy="ToastFocusProxy",Bm=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...c}=e,d=uf(Hy,r);return o.jsx(eu,{"aria-hidden":!0,tabIndex:0,...c,ref:t,style:{position:"fixed"},onFocus:f=>{var w;const p=f.relatedTarget;!((w=d.viewport)!=null&&w.contains(p))&&a()}})});Bm.displayName=Hy;var df="Toast",k1="toast.swipeStart",M1="toast.swipeMove",R1="toast.swipeCancel",L1="toast.swipeEnd",Wy=v.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:c,onOpenChange:d,...f}=e,[p=!0,g]=Uc({prop:a,defaultProp:c,onChange:d});return o.jsx(ma,{present:r||p,children:o.jsx(O1,{open:p,...f,ref:t,onClose:()=>g(!1),onPause:fn(e.onPause),onResume:fn(e.onResume),onSwipeStart:st(e.onSwipeStart,w=>{w.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(e.onSwipeMove,w=>{const{x:_,y:b}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","move"),w.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:st(e.onSwipeCancel,w=>{w.currentTarget.setAttribute("data-swipe","cancel"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(e.onSwipeEnd,w=>{const{x:_,y:b}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","end"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),g(!1)})})})});Wy.displayName=df;var[A1,D1]=$y(df,{onClose(){}}),O1=v.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:c,open:d,onClose:f,onEscapeKeyDown:p,onPause:g,onResume:w,onSwipeStart:_,onSwipeMove:b,onSwipeCancel:S,onSwipeEnd:k,...P}=e,j=uf(df,r),[C,T]=v.useState(null),D=It(t,me=>T(me)),M=v.useRef(null),O=v.useRef(null),I=c||j.duration,G=v.useRef(0),U=v.useRef(I),re=v.useRef(0),{onToastAdd:q,onToastRemove:X}=j,ne=fn(()=>{var $e;(C==null?void 0:C.contains(document.activeElement))&&(($e=j.viewport)==null||$e.focus()),f()}),ge=v.useCallback(me=>{!me||me===1/0||(window.clearTimeout(re.current),G.current=new Date().getTime(),re.current=window.setTimeout(ne,me))},[ne]);v.useEffect(()=>{const me=j.viewport;if(me){const $e=()=>{ge(U.current),w==null||w()},J=()=>{const _e=new Date().getTime()-G.current;U.current=U.current-_e,window.clearTimeout(re.current),g==null||g()};return me.addEventListener($m,J),me.addEventListener(zm,$e),()=>{me.removeEventListener($m,J),me.removeEventListener(zm,$e)}}},[j.viewport,I,g,w,ge]),v.useEffect(()=>{d&&!j.isClosePausedRef.current&&ge(I)},[d,I,j.isClosePausedRef,ge]),v.useEffect(()=>(q(),()=>X()),[q,X]);const Oe=v.useMemo(()=>C?Xy(C):null,[C]);return j.viewport?o.jsxs(o.Fragment,{children:[Oe&&o.jsx(I1,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:Oe}),o.jsx(A1,{scope:r,onClose:ne,children:ha.createPortal(o.jsx(Sp.ItemSlot,{scope:r,children:o.jsx(v1,{asChild:!0,onEscapeKeyDown:st(p,()=>{j.isFocusedToastEscapeKeyDownRef.current||ne(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(_t.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":j.swipeDirection,...P,ref:D,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:st(e.onKeyDown,me=>{me.key==="Escape"&&(p==null||p(me.nativeEvent),me.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,ne()))}),onPointerDown:st(e.onPointerDown,me=>{me.button===0&&(M.current={x:me.clientX,y:me.clientY})}),onPointerMove:st(e.onPointerMove,me=>{if(!M.current)return;const $e=me.clientX-M.current.x,J=me.clientY-M.current.y,_e=!!O.current,B=["left","right"].includes(j.swipeDirection),pe=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ie=B?pe(0,$e):0,$=B?0:pe(0,J),te=me.pointerType==="touch"?10:2,Pe={x:ie,y:$},Le={originalEvent:me,delta:Pe};_e?(O.current=Pe,Cd(M1,b,Le,{discrete:!1})):Qv(Pe,j.swipeDirection,te)?(O.current=Pe,Cd(k1,_,Le,{discrete:!1}),me.target.setPointerCapture(me.pointerId)):(Math.abs($e)>te||Math.abs(J)>te)&&(M.current=null)}),onPointerUp:st(e.onPointerUp,me=>{const $e=O.current,J=me.target;if(J.hasPointerCapture(me.pointerId)&&J.releasePointerCapture(me.pointerId),O.current=null,M.current=null,$e){const _e=me.currentTarget,B={originalEvent:me,delta:$e};Qv($e,j.swipeDirection,j.swipeThreshold)?Cd(L1,k,B,{discrete:!0}):Cd(R1,S,B,{discrete:!0}),_e.addEventListener("click",pe=>pe.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),I1=e=>{const{__scopeToast:t,children:r,...a}=e,c=uf(df,t),[d,f]=v.useState(!1),[p,g]=v.useState(!1);return z1(()=>f(!0)),v.useEffect(()=>{const w=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(w)},[]),p?null:o.jsx(Fy,{asChild:!0,children:o.jsx(eu,{...a,children:d&&o.jsxs(o.Fragment,{children:[c.label," ",r]})})})},F1="ToastTitle",Vy=v.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return o.jsx(_t.div,{...a,ref:t})});Vy.displayName=F1;var $1="ToastDescription",Zy=v.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return o.jsx(_t.div,{...a,ref:t})});Zy.displayName=$1;var qy="ToastAction",Gy=v.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?o.jsx(Ky,{altText:r,asChild:!0,children:o.jsx(jp,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qy}\`. Expected non-empty \`string\`.`),null)});Gy.displayName=qy;var Yy="ToastClose",jp=v.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,c=D1(Yy,r);return o.jsx(Ky,{asChild:!0,children:o.jsx(_t.button,{type:"button",...a,ref:t,onClick:st(e.onClick,c.onClose)})})});jp.displayName=Yy;var Ky=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...c}=e;return o.jsx(_t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...c,ref:t})});function Xy(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),B1(a)){const c=a.ariaHidden||a.hidden||a.style.display==="none",d=a.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const f=a.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...Xy(a))}}),t}function Cd(e,t,r,{discrete:a}){const c=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var Qv=(e,t,r=0)=>{const a=Math.abs(e.x),c=Math.abs(e.y),d=a>c;return t==="left"||t==="right"?d&&a>r:!d&&c>r};function z1(e=()=>{}){const t=fn(e);yn(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function B1(e){return e.nodeType===e.ELEMENT_NODE}function U1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var H1=zy,Qy=Uy,Jy=Wy,ew=Vy,tw=Zy,nw=Gy,rw=jp;function sw(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(r=sw(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function ow(){for(var e,t,r=0,a="",c=arguments.length;r<c;r++)(e=arguments[r])&&(t=sw(e))&&(a&&(a+=" "),a+=t);return a}const Jv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ex=ow,tu=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return ex(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:c,defaultVariants:d}=t,f=Object.keys(c).map(w=>{const _=r==null?void 0:r[w],b=d==null?void 0:d[w];if(_===null)return null;const S=Jv(_)||Jv(b);return c[w][S]}),p=r&&Object.entries(r).reduce((w,_)=>{let[b,S]=_;return S===void 0||(w[b]=S),w},{}),g=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((w,_)=>{let{class:b,className:S,...k}=_;return Object.entries(k).every(P=>{let[j,C]=P;return Array.isArray(C)?C.includes({...d,...p}[j]):{...d,...p}[j]===C})?[...w,b,S]:w},[]);return ex(e,f,g,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iw=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:f,...p},g)=>v.createElement("svg",{ref:g,...V1,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:iw("lucide",c),...p},[...f.map(([w,_])=>v.createElement(w,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(e,t)=>{const r=v.forwardRef(({className:a,...c},d)=>v.createElement(Z1,{ref:d,iconNode:t,className:iw(`lucide-${W1(e)}`,a),...c}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ot("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ot("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=ot("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=ot("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=ot("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ot("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ot("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=ot("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=ot("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ot("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=ot("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ot("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ot("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ot("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ot("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=ot("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ot("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ot("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=ot("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ot("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ot("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=ot("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=ot("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ot("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ot("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ot("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ot("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=ot("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ot("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ot("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ot("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ot("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=ot("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=ot("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=ot("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kp="-",rS=e=>{const t=oS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:f=>{const p=f.split(kp);return p[0]===""&&p.length!==1&&p.shift(),vw(p,t)||sS(f)},getConflictingClassGroupIds:(f,p)=>{const g=r[f]||[];return p&&a[f]?[...g,...a[f]]:g}}},vw=(e,t)=>{var f;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),c=a?vw(e.slice(1),a):void 0;if(c)return c;if(t.validators.length===0)return;const d=e.join(kp);return(f=t.validators.find(({validator:p})=>p(d)))==null?void 0:f.classGroupId},ox=/^\[(.+)\]$/,sS=e=>{if(ox.test(e)){const t=ox.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},oS=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return aS(Object.entries(e.classGroups),r).forEach(([d,f])=>{Vm(f,a,d,t)}),a},Vm=(e,t,r,a)=>{e.forEach(c=>{if(typeof c=="string"){const d=c===""?t:ix(t,c);d.classGroupId=r;return}if(typeof c=="function"){if(iS(c)){Vm(c(a),t,r,a);return}t.validators.push({validator:c,classGroupId:r});return}Object.entries(c).forEach(([d,f])=>{Vm(f,ix(t,d),r,a)})})},ix=(e,t)=>{let r=e;return t.split(kp).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},iS=e=>e.isThemeGetter,aS=(e,t)=>t?e.map(([r,a])=>{const c=a.map(d=>typeof d=="string"?t+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([f,p])=>[t+f,p])):d);return[r,c]}):e,lS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const c=(d,f)=>{r.set(d,f),t++,t>e&&(t=0,a=r,r=new Map)};return{get(d){let f=r.get(d);if(f!==void 0)return f;if((f=a.get(d))!==void 0)return c(d,f),f},set(d,f){r.has(d)?r.set(d,f):c(d,f)}}},xw="!",cS=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,c=t[0],d=t.length,f=p=>{const g=[];let w=0,_=0,b;for(let C=0;C<p.length;C++){let T=p[C];if(w===0){if(T===c&&(a||p.slice(C,C+d)===t)){g.push(p.slice(_,C)),_=C+d;continue}if(T==="/"){b=C;continue}}T==="["?w++:T==="]"&&w--}const S=g.length===0?p:p.substring(_),k=S.startsWith(xw),P=k?S.substring(1):S,j=b&&b>_?b-_:void 0;return{modifiers:g,hasImportantModifier:k,baseClassName:P,maybePostfixModifierPosition:j}};return r?p=>r({className:p,parseClassName:f}):f},uS=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},dS=e=>({cache:lS(e.cacheSize),parseClassName:cS(e),...rS(e)}),fS=/\s+/,hS=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:c}=t,d=[],f=e.trim().split(fS);let p="";for(let g=f.length-1;g>=0;g-=1){const w=f[g],{modifiers:_,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:k}=r(w);let P=!!k,j=a(P?S.substring(0,k):S);if(!j){if(!P){p=w+(p.length>0?" "+p:p);continue}if(j=a(S),!j){p=w+(p.length>0?" "+p:p);continue}P=!1}const C=uS(_).join(":"),T=b?C+xw:C,D=T+j;if(d.includes(D))continue;d.push(D);const M=c(j,P);for(let O=0;O<M.length;++O){const I=M[O];d.push(T+I)}p=w+(p.length>0?" "+p:p)}return p};function mS(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=yw(t))&&(a&&(a+=" "),a+=r);return a}const yw=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=yw(e[a]))&&(r&&(r+=" "),r+=t);return r};function pS(e,...t){let r,a,c,d=f;function f(g){const w=t.reduce((_,b)=>b(_),e());return r=dS(w),a=r.cache.get,c=r.cache.set,d=p,p(g)}function p(g){const w=a(g);if(w)return w;const _=hS(g,r);return c(g,_),_}return function(){return d(mS.apply(null,arguments))}}const ln=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ww=/^\[(?:([a-z-]+):)?(.+)\]$/i,gS=/^\d+\/\d+$/,vS=new Set(["px","full","screen"]),xS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_S=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,uo=e=>hl(e)||vS.has(e)||gS.test(e),Qo=e=>Ml(e,"length",kS),hl=e=>!!e&&!Number.isNaN(Number(e)),xm=e=>Ml(e,"number",hl),Pc=e=>!!e&&Number.isInteger(Number(e)),NS=e=>e.endsWith("%")&&hl(e.slice(0,-1)),kt=e=>ww.test(e),Jo=e=>xS.test(e),SS=new Set(["length","size","percentage"]),jS=e=>Ml(e,SS,_w),ES=e=>Ml(e,"position",_w),CS=new Set(["image","url"]),PS=e=>Ml(e,CS,RS),TS=e=>Ml(e,"",MS),Tc=()=>!0,Ml=(e,t,r)=>{const a=ww.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},kS=e=>yS.test(e)&&!wS.test(e),_w=()=>!1,MS=e=>_S.test(e),RS=e=>bS.test(e),LS=()=>{const e=ln("colors"),t=ln("spacing"),r=ln("blur"),a=ln("brightness"),c=ln("borderColor"),d=ln("borderRadius"),f=ln("borderSpacing"),p=ln("borderWidth"),g=ln("contrast"),w=ln("grayscale"),_=ln("hueRotate"),b=ln("invert"),S=ln("gap"),k=ln("gradientColorStops"),P=ln("gradientColorStopPositions"),j=ln("inset"),C=ln("margin"),T=ln("opacity"),D=ln("padding"),M=ln("saturate"),O=ln("scale"),I=ln("sepia"),G=ln("skew"),U=ln("space"),re=ln("translate"),q=()=>["auto","contain","none"],X=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto",kt,t],ge=()=>[kt,t],Oe=()=>["",uo,Qo],me=()=>["auto",hl,kt],$e=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],pe=()=>["","0",kt],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[hl,kt];return{cacheSize:500,separator:":",theme:{colors:[Tc],spacing:[uo,Qo],blur:["none","",Jo,kt],brightness:$(),borderColor:[e],borderRadius:["none","","full",Jo,kt],borderSpacing:ge(),borderWidth:Oe(),contrast:$(),grayscale:pe(),hueRotate:$(),invert:pe(),gap:ge(),gradientColorStops:[e],gradientColorStopPositions:[NS,Qo],inset:ne(),margin:ne(),opacity:$(),padding:ge(),saturate:$(),scale:$(),sepia:pe(),skew:$(),space:ge(),translate:ge()},classGroups:{aspect:[{aspect:["auto","square","video",kt]}],container:["container"],columns:[{columns:[Jo]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$e(),kt]}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Pc,kt]}],basis:[{basis:ne()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",kt]}],grow:[{grow:pe()}],shrink:[{shrink:pe()}],order:[{order:["first","last","none",Pc,kt]}],"grid-cols":[{"grid-cols":[Tc]}],"col-start-end":[{col:["auto",{span:["full",Pc,kt]},kt]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[Tc]}],"row-start-end":[{row:["auto",{span:[Pc,kt]},kt]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",kt]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",kt,t]}],"min-w":[{"min-w":[kt,t,"min","max","fit"]}],"max-w":[{"max-w":[kt,t,"none","full","min","max","fit","prose",{screen:[Jo]},Jo]}],h:[{h:[kt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[kt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[kt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[kt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Jo,Qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xm]}],"font-family":[{font:[Tc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",kt]}],"line-clamp":[{"line-clamp":["none",hl,xm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",uo,kt]}],"list-image":[{"list-image":["none",kt]}],"list-style-type":[{list:["none","disc","decimal",kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",uo,Qo]}],"underline-offset":[{"underline-offset":["auto",uo,kt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ge()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$e(),ES]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},PS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:J()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[uo,kt]}],"outline-w":[{outline:[uo,Qo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[uo,Qo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Jo,TS]}],"shadow-color":[{shadow:[Tc]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[..._e(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":_e()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",Jo,kt]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[b]}],saturate:[{saturate:[M]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",kt]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",kt]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[Pc,kt]}],"translate-x":[{"translate-x":[re]}],"translate-y":[{"translate-y":[re]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",kt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",kt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ge()}],"scroll-mx":[{"scroll-mx":ge()}],"scroll-my":[{"scroll-my":ge()}],"scroll-ms":[{"scroll-ms":ge()}],"scroll-me":[{"scroll-me":ge()}],"scroll-mt":[{"scroll-mt":ge()}],"scroll-mr":[{"scroll-mr":ge()}],"scroll-mb":[{"scroll-mb":ge()}],"scroll-ml":[{"scroll-ml":ge()}],"scroll-p":[{"scroll-p":ge()}],"scroll-px":[{"scroll-px":ge()}],"scroll-py":[{"scroll-py":ge()}],"scroll-ps":[{"scroll-ps":ge()}],"scroll-pe":[{"scroll-pe":ge()}],"scroll-pt":[{"scroll-pt":ge()}],"scroll-pr":[{"scroll-pr":ge()}],"scroll-pb":[{"scroll-pb":ge()}],"scroll-pl":[{"scroll-pl":ge()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",kt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[uo,Qo,xm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AS=pS(LS);function mt(...e){return AS(ow(e))}const DS=H1,bw=v.forwardRef(({className:e,...t},r)=>o.jsx(Qy,{ref:r,className:mt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bw.displayName=Qy.displayName;const OS=tu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Nw=v.forwardRef(({className:e,variant:t,...r},a)=>o.jsx(Jy,{ref:a,className:mt(OS({variant:t}),e),...r}));Nw.displayName=Jy.displayName;const IS=v.forwardRef(({className:e,...t},r)=>o.jsx(nw,{ref:r,className:mt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));IS.displayName=nw.displayName;const Sw=v.forwardRef(({className:e,...t},r)=>o.jsx(rw,{ref:r,className:mt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(ru,{className:"h-4 w-4"})}));Sw.displayName=rw.displayName;const jw=v.forwardRef(({className:e,...t},r)=>o.jsx(ew,{ref:r,className:mt("text-sm font-semibold",e),...t}));jw.displayName=ew.displayName;const Ew=v.forwardRef(({className:e,...t},r)=>o.jsx(tw,{ref:r,className:mt("text-sm opacity-90",e),...t}));Ew.displayName=tw.displayName;function FS(){const{toasts:e}=xo();return o.jsxs(DS,{children:[e.map(function({id:t,title:r,description:a,action:c,...d}){return o.jsxs(Nw,{...d,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(jw,{children:r}),a&&o.jsx(Ew,{children:a})]}),c,o.jsx(Sw,{})]},t)}),o.jsx(bw,{})]})}var Pd={},ax;function $S(){if(ax)return Pd;ax=1;var e=ky();return Pd.createRoot=e.createRoot,Pd.hydrateRoot=e.hydrateRoot,Pd}var zS=$S(),lx=["light","dark"],BS="(prefers-color-scheme: dark)",US=v.createContext(void 0),HS={setTheme:e=>{},themes:[]},WS=()=>{var e;return(e=v.useContext(US))!=null?e:HS};v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:c,defaultTheme:d,value:f,attrs:p,nonce:g})=>{let w=d==="system",_=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${p.map(P=>`'${P}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,b=c?lx.includes(d)&&d?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${d}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",S=(P,j=!1,C=!0)=>{let T=f?f[P]:P,D=j?P+"|| ''":`'${T}'`,M="";return c&&C&&!j&&lx.includes(P)&&(M+=`d.style.colorScheme = '${P}';`),r==="class"?j||T?M+=`c.add(${D})`:M+="null":T&&(M+=`d[s](n,${D})`),M},k=e?`!function(){${_}${S(e)}}()`:a?`!function(){try{${_}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${w})){var t='${BS}',m=window.matchMedia(t);if(m.media!==t||m.matches){${S("dark")}}else{${S("light")}}}else if(e){${f?`var x=${JSON.stringify(f)};`:""}${S(f?"x[e]":"e",!0)}}${w?"":"else{"+S(d,!1,!1)+"}"}${b}}catch(e){}}()`:`!function(){try{${_}var e=localStorage.getItem('${t}');if(e){${f?`var x=${JSON.stringify(f)};`:""}${S(f?"x[e]":"e",!0)}}else{${S(d,!1,!1)};}${b}}catch(t){}}();`;return v.createElement("script",{nonce:g,dangerouslySetInnerHTML:{__html:k}})});var VS=e=>{switch(e){case"success":return GS;case"info":return KS;case"warning":return YS;case"error":return XS;default:return null}},ZS=Array(12).fill(0),qS=({visible:e})=>Ue.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Ue.createElement("div",{className:"sonner-spinner"},ZS.map((t,r)=>Ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),GS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),XS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),QS=()=>{let[e,t]=Ue.useState(document.hidden);return Ue.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Zm=1,JS=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...a}=e,c=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Zm++,d=this.toasts.find(p=>p.id===c),f=e.dismissible===void 0?!0:e.dismissible;return d?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...e,id:c,title:r}),{...p,...e,id:c,dismissible:f,title:r}):p):this.addToast({title:r,...a,dismissible:f,id:c}),c},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=e instanceof Promise?e:e(),c=r!==void 0;return a.then(async d=>{if(tj(d)&&!d.ok){c=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:r,type:"error",message:f,description:p})}else if(t.success!==void 0){c=!1;let f=typeof t.success=="function"?await t.success(d):t.success,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"success",message:f,description:p})}}).catch(async d=>{if(t.error!==void 0){c=!1;let f=typeof t.error=="function"?await t.error(d):t.error,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"error",message:f,description:p})}}).finally(()=>{var d;c&&(this.dismiss(r),r=void 0),(d=t.finally)==null||d.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Zm++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Ar=new JS,ej=(e,t)=>{let r=(t==null?void 0:t.id)||Zm++;return Ar.addToast({title:e,...t,id:r}),r},tj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nj=ej,rj=()=>Ar.toasts;Object.assign(nj,{success:Ar.success,info:Ar.info,warning:Ar.warning,error:Ar.error,custom:Ar.custom,message:Ar.message,promise:Ar.promise,dismiss:Ar.dismiss,loading:Ar.loading},{getHistory:rj});function sj(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}sj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Td(e){return e.label!==void 0}var oj=3,ij="32px",aj=4e3,lj=356,cj=14,uj=20,dj=200;function fj(...e){return e.filter(Boolean).join(" ")}var hj=e=>{var t,r,a,c,d,f,p,g,w,_;let{invert:b,toast:S,unstyled:k,interacting:P,setHeights:j,visibleToasts:C,heights:T,index:D,toasts:M,expanded:O,removeToast:I,defaultRichColors:G,closeButton:U,style:re,cancelButtonStyle:q,actionButtonStyle:X,className:ne="",descriptionClassName:ge="",duration:Oe,position:me,gap:$e,loadingIcon:J,expandByDefault:_e,classNames:B,icons:pe,closeButtonAriaLabel:ie="Close toast",pauseWhenPageIsHidden:$,cn:te}=e,[Pe,Le]=Ue.useState(!1),[Ee,F]=Ue.useState(!1),[K,ue]=Ue.useState(!1),[be,Me]=Ue.useState(!1),[He,Ze]=Ue.useState(0),[rt,xt]=Ue.useState(0),Se=Ue.useRef(null),Z=Ue.useRef(null),le=D===0,Ce=D+1<=C,Ne=S.type,Be=S.dismissible!==!1,Xe=S.className||"",Ye=S.descriptionClassName||"",Ut=Ue.useMemo(()=>T.findIndex(V=>V.toastId===S.id)||0,[T,S.id]),Pt=Ue.useMemo(()=>{var V;return(V=S.closeButton)!=null?V:U},[S.closeButton,U]),St=Ue.useMemo(()=>S.duration||Oe||aj,[S.duration,Oe]),At=Ue.useRef(0),Ht=Ue.useRef(0),qt=Ue.useRef(0),Vt=Ue.useRef(null),[Je,$t]=me.split("-"),hn=Ue.useMemo(()=>T.reduce((V,ee,de)=>de>=Ut?V:V+ee.height,0),[T,Ut]),jt=QS(),Xt=S.invert||b,en=Ne==="loading";Ht.current=Ue.useMemo(()=>Ut*$e+hn,[Ut,hn]),Ue.useEffect(()=>{Le(!0)},[]),Ue.useLayoutEffect(()=>{if(!Pe)return;let V=Z.current,ee=V.style.height;V.style.height="auto";let de=V.getBoundingClientRect().height;V.style.height=ee,xt(de),j(ve=>ve.find(we=>we.toastId===S.id)?ve.map(we=>we.toastId===S.id?{...we,height:de}:we):[{toastId:S.id,height:de,position:S.position},...ve])},[Pe,S.title,S.description,j,S.id]);let H=Ue.useCallback(()=>{F(!0),Ze(Ht.current),j(V=>V.filter(ee=>ee.toastId!==S.id)),setTimeout(()=>{I(S)},dj)},[S,I,j,Ht]);Ue.useEffect(()=>{if(S.promise&&Ne==="loading"||S.duration===1/0||S.type==="loading")return;let V,ee=St;return O||P||$&&jt?(()=>{if(qt.current<At.current){let de=new Date().getTime()-At.current;ee=ee-de}qt.current=new Date().getTime()})():ee!==1/0&&(At.current=new Date().getTime(),V=setTimeout(()=>{var de;(de=S.onAutoClose)==null||de.call(S,S),H()},ee)),()=>clearTimeout(V)},[O,P,_e,S,St,H,S.promise,Ne,$,jt]),Ue.useEffect(()=>{let V=Z.current;if(V){let ee=V.getBoundingClientRect().height;return xt(ee),j(de=>[{toastId:S.id,height:ee,position:S.position},...de]),()=>j(de=>de.filter(ve=>ve.toastId!==S.id))}},[j,S.id]),Ue.useEffect(()=>{S.delete&&H()},[H,S.delete]);function ye(){return pe!=null&&pe.loading?Ue.createElement("div",{className:"sonner-loader","data-visible":Ne==="loading"},pe.loading):J?Ue.createElement("div",{className:"sonner-loader","data-visible":Ne==="loading"},J):Ue.createElement(qS,{visible:Ne==="loading"})}return Ue.createElement("li",{"aria-live":S.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Z,className:te(ne,Xe,B==null?void 0:B.toast,(t=S==null?void 0:S.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[Ne],(r=S==null?void 0:S.classNames)==null?void 0:r[Ne]),"data-sonner-toast":"","data-rich-colors":(a=S.richColors)!=null?a:G,"data-styled":!(S.jsx||S.unstyled||k),"data-mounted":Pe,"data-promise":!!S.promise,"data-removed":Ee,"data-visible":Ce,"data-y-position":Je,"data-x-position":$t,"data-index":D,"data-front":le,"data-swiping":K,"data-dismissible":Be,"data-type":Ne,"data-invert":Xt,"data-swipe-out":be,"data-expanded":!!(O||_e&&Pe),style:{"--index":D,"--toasts-before":D,"--z-index":M.length-D,"--offset":`${Ee?He:Ht.current}px`,"--initial-height":_e?"auto":`${rt}px`,...re,...S.style},onPointerDown:V=>{en||!Be||(Se.current=new Date,Ze(Ht.current),V.target.setPointerCapture(V.pointerId),V.target.tagName!=="BUTTON"&&(ue(!0),Vt.current={x:V.clientX,y:V.clientY}))},onPointerUp:()=>{var V,ee,de,ve;if(be||!Be)return;Vt.current=null;let we=Number(((V=Z.current)==null?void 0:V.style.getPropertyValue("--swipe-amount").replace("px",""))||0),We=new Date().getTime()-((ee=Se.current)==null?void 0:ee.getTime()),ce=Math.abs(we)/We;if(Math.abs(we)>=uj||ce>.11){Ze(Ht.current),(de=S.onDismiss)==null||de.call(S,S),H(),Me(!0);return}(ve=Z.current)==null||ve.style.setProperty("--swipe-amount","0px"),ue(!1)},onPointerMove:V=>{var ee;if(!Vt.current||!Be)return;let de=V.clientY-Vt.current.y,ve=V.clientX-Vt.current.x,we=(Je==="top"?Math.min:Math.max)(0,de),We=V.pointerType==="touch"?10:2;Math.abs(we)>We?(ee=Z.current)==null||ee.style.setProperty("--swipe-amount",`${de}px`):Math.abs(ve)>We&&(Vt.current=null)}},Pt&&!S.jsx?Ue.createElement("button",{"aria-label":ie,"data-disabled":en,"data-close-button":!0,onClick:en||!Be?()=>{}:()=>{var V;H(),(V=S.onDismiss)==null||V.call(S,S)},className:te(B==null?void 0:B.closeButton,(c=S==null?void 0:S.classNames)==null?void 0:c.closeButton)},Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,S.jsx||Ue.isValidElement(S.title)?S.jsx||S.title:Ue.createElement(Ue.Fragment,null,Ne||S.icon||S.promise?Ue.createElement("div",{"data-icon":"",className:te(B==null?void 0:B.icon,(d=S==null?void 0:S.classNames)==null?void 0:d.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||ye():null,S.type!=="loading"?S.icon||(pe==null?void 0:pe[Ne])||VS(Ne):null):null,Ue.createElement("div",{"data-content":"",className:te(B==null?void 0:B.content,(f=S==null?void 0:S.classNames)==null?void 0:f.content)},Ue.createElement("div",{"data-title":"",className:te(B==null?void 0:B.title,(p=S==null?void 0:S.classNames)==null?void 0:p.title)},S.title),S.description?Ue.createElement("div",{"data-description":"",className:te(ge,Ye,B==null?void 0:B.description,(g=S==null?void 0:S.classNames)==null?void 0:g.description)},S.description):null),Ue.isValidElement(S.cancel)?S.cancel:S.cancel&&Td(S.cancel)?Ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||q,onClick:V=>{var ee,de;Td(S.cancel)&&Be&&((de=(ee=S.cancel).onClick)==null||de.call(ee,V),H())},className:te(B==null?void 0:B.cancelButton,(w=S==null?void 0:S.classNames)==null?void 0:w.cancelButton)},S.cancel.label):null,Ue.isValidElement(S.action)?S.action:S.action&&Td(S.action)?Ue.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||X,onClick:V=>{var ee,de;Td(S.action)&&(V.defaultPrevented||((de=(ee=S.action).onClick)==null||de.call(ee,V),H()))},className:te(B==null?void 0:B.actionButton,(_=S==null?void 0:S.classNames)==null?void 0:_.actionButton)},S.action.label):null))};function cx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var mj=e=>{let{invert:t,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,theme:g="light",richColors:w,duration:_,style:b,visibleToasts:S=oj,toastOptions:k,dir:P=cx(),gap:j=cj,loadingIcon:C,icons:T,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:M,cn:O=fj}=e,[I,G]=Ue.useState([]),U=Ue.useMemo(()=>Array.from(new Set([r].concat(I.filter($=>$.position).map($=>$.position)))),[I,r]),[re,q]=Ue.useState([]),[X,ne]=Ue.useState(!1),[ge,Oe]=Ue.useState(!1),[me,$e]=Ue.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Ue.useRef(null),_e=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=Ue.useRef(null),pe=Ue.useRef(!1),ie=Ue.useCallback($=>{var te;(te=I.find(Pe=>Pe.id===$.id))!=null&&te.delete||Ar.dismiss($.id),G(Pe=>Pe.filter(({id:Le})=>Le!==$.id))},[I]);return Ue.useEffect(()=>Ar.subscribe($=>{if($.dismiss){G(te=>te.map(Pe=>Pe.id===$.id?{...Pe,delete:!0}:Pe));return}setTimeout(()=>{lf.flushSync(()=>{G(te=>{let Pe=te.findIndex(Le=>Le.id===$.id);return Pe!==-1?[...te.slice(0,Pe),{...te[Pe],...$},...te.slice(Pe+1)]:[$,...te]})})})}),[]),Ue.useEffect(()=>{if(g!=="system"){$e(g);return}g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$e("dark"):$e("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{$e($?"dark":"light")})},[g]),Ue.useEffect(()=>{I.length<=1&&ne(!1)},[I]),Ue.useEffect(()=>{let $=te=>{var Pe,Le;a.every(Ee=>te[Ee]||te.code===Ee)&&(ne(!0),(Pe=J.current)==null||Pe.focus()),te.code==="Escape"&&(document.activeElement===J.current||(Le=J.current)!=null&&Le.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[a]),Ue.useEffect(()=>{if(J.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,pe.current=!1)}},[J.current]),I.length?Ue.createElement("section",{"aria-label":`${D} ${_e}`,tabIndex:-1},U.map(($,te)=>{var Pe;let[Le,Ee]=$.split("-");return Ue.createElement("ol",{key:$,dir:P==="auto"?cx():P,tabIndex:-1,ref:J,className:f,"data-sonner-toaster":!0,"data-theme":me,"data-y-position":Le,"data-x-position":Ee,style:{"--front-toast-height":`${((Pe=re[0])==null?void 0:Pe.height)||0}px`,"--offset":typeof p=="number"?`${p}px`:p||ij,"--width":`${lj}px`,"--gap":`${j}px`,...b},onBlur:F=>{pe.current&&!F.currentTarget.contains(F.relatedTarget)&&(pe.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||pe.current||(pe.current=!0,B.current=F.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{ge||ne(!1)},onPointerDown:F=>{F.target instanceof HTMLElement&&F.target.dataset.dismissible==="false"||Oe(!0)},onPointerUp:()=>Oe(!1)},I.filter(F=>!F.position&&te===0||F.position===$).map((F,K)=>{var ue,be;return Ue.createElement(hj,{key:F.id,icons:T,index:K,toast:F,defaultRichColors:w,duration:(ue=k==null?void 0:k.duration)!=null?ue:_,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:t,visibleToasts:S,closeButton:(be=k==null?void 0:k.closeButton)!=null?be:d,interacting:ge,position:$,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,removeToast:ie,toasts:I.filter(Me=>Me.position==F.position),heights:re.filter(Me=>Me.position==F.position),setHeights:q,expandByDefault:c,gap:j,loadingIcon:C,expanded:X,pauseWhenPageIsHidden:M,cn:O})}))})):null};const pj=({...e})=>{const{theme:t="system"}=WS();return o.jsx(mj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function gj(e,t=[]){let r=[];function a(d,f){const p=v.createContext(f),g=r.length;r=[...r,f];const w=b=>{var T;const{scope:S,children:k,...P}=b,j=((T=S==null?void 0:S[e])==null?void 0:T[g])||p,C=v.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:k})};w.displayName=d+"Provider";function _(b,S){var j;const k=((j=S==null?void 0:S[e])==null?void 0:j[g])||p,P=v.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[w,_]}const c=()=>{const d=r.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,vj(c,...t)]}function vj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var xj="DismissableLayer",qm="dismissableLayer.update",yj="dismissableLayer.pointerDownOutside",wj="dismissableLayer.focusOutside",ux,Cw=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mp=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(Cw),[_,b]=v.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=v.useState({}),P=It(t,U=>b(U)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(C),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=T,I=Nj(U=>{const re=U.target,q=[...w.branches].some(X=>X.contains(re));!O||q||(c==null||c(U),f==null||f(U),U.defaultPrevented||p==null||p())},S),G=Sj(U=>{const re=U.target;[...w.branches].some(X=>X.contains(re))||(d==null||d(U),f==null||f(U),U.defaultPrevented||p==null||p())},S);return bp(U=>{D===w.layers.size-1&&(a==null||a(U),!U.defaultPrevented&&p&&(U.preventDefault(),p()))},S),v.useEffect(()=>{if(_)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(ux=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),dx(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=ux)}},[_,S,r,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),dx())},[_,w]),v.useEffect(()=>{const U=()=>k({});return document.addEventListener(qm,U),()=>document.removeEventListener(qm,U)},[]),o.jsx(_t.div,{...g,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:st(e.onFocusCapture,G.onFocusCapture),onBlurCapture:st(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:st(e.onPointerDownCapture,I.onPointerDownCapture)})});Mp.displayName=xj;var _j="DismissableLayerBranch",bj=v.forwardRef((e,t)=>{const r=v.useContext(Cw),a=v.useRef(null),c=It(t,a);return v.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(_t.div,{...e,ref:c})});bj.displayName=_j;function Nj(e,t=globalThis==null?void 0:globalThis.document){const r=fn(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){Pw(yj,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Sj(e,t=globalThis==null?void 0:globalThis.document){const r=fn(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&Pw(wj,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function dx(){const e=new CustomEvent(qm);document.dispatchEvent(e)}function Pw(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var jj=Ty.useId||(()=>{}),Ej=0;function ml(e){const[t,r]=v.useState(jj());return yn(()=>{r(a=>a??String(Ej++))},[e]),t?`radix-${t}`:""}const Cj=["top","right","bottom","left"],hi=Math.min,Or=Math.max,Gd=Math.round,kd=Math.floor,mi=e=>({x:e,y:e}),Pj={left:"right",right:"left",bottom:"top",top:"bottom"},Tj={start:"end",end:"start"};function Gm(e,t,r){return Or(e,hi(t,r))}function go(e,t){return typeof e=="function"?e(t):e}function vo(e){return e.split("-")[0]}function Rl(e){return e.split("-")[1]}function Rp(e){return e==="x"?"y":"x"}function Lp(e){return e==="y"?"height":"width"}function pi(e){return["top","bottom"].includes(vo(e))?"y":"x"}function Ap(e){return Rp(pi(e))}function kj(e,t,r){r===void 0&&(r=!1);const a=Rl(e),c=Ap(e),d=Lp(c);let f=c==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[d]>t.floating[d]&&(f=Yd(f)),[f,Yd(f)]}function Mj(e){const t=Yd(e);return[Ym(e),t,Ym(t)]}function Ym(e){return e.replace(/start|end/g,t=>Tj[t])}function Rj(e,t,r){const a=["left","right"],c=["right","left"],d=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return r?t?c:a:t?a:c;case"left":case"right":return t?d:f;default:return[]}}function Lj(e,t,r,a){const c=Rl(e);let d=Rj(vo(e),r==="start",a);return c&&(d=d.map(f=>f+"-"+c),t&&(d=d.concat(d.map(Ym)))),d}function Yd(e){return e.replace(/left|right|bottom|top/g,t=>Pj[t])}function Aj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tw(e){return typeof e!="number"?Aj(e):{top:e,right:e,bottom:e,left:e}}function Kd(e){const{x:t,y:r,width:a,height:c}=e;return{width:a,height:c,top:r,left:t,right:t+a,bottom:r+c,x:t,y:r}}function fx(e,t,r){let{reference:a,floating:c}=e;const d=pi(t),f=Ap(t),p=Lp(f),g=vo(t),w=d==="y",_=a.x+a.width/2-c.width/2,b=a.y+a.height/2-c.height/2,S=a[p]/2-c[p]/2;let k;switch(g){case"top":k={x:_,y:a.y-c.height};break;case"bottom":k={x:_,y:a.y+a.height};break;case"right":k={x:a.x+a.width,y:b};break;case"left":k={x:a.x-c.width,y:b};break;default:k={x:a.x,y:a.y}}switch(Rl(t)){case"start":k[f]-=S*(r&&w?-1:1);break;case"end":k[f]+=S*(r&&w?-1:1);break}return k}const Dj=async(e,t,r)=>{const{placement:a="bottom",strategy:c="absolute",middleware:d=[],platform:f}=r,p=d.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(t));let w=await f.getElementRects({reference:e,floating:t,strategy:c}),{x:_,y:b}=fx(w,a,g),S=a,k={},P=0;for(let j=0;j<p.length;j++){const{name:C,fn:T}=p[j],{x:D,y:M,data:O,reset:I}=await T({x:_,y:b,initialPlacement:a,placement:S,strategy:c,middlewareData:k,rects:w,platform:f,elements:{reference:e,floating:t}});_=D??_,b=M??b,k={...k,[C]:{...k[C],...O}},I&&P<=50&&(P++,typeof I=="object"&&(I.placement&&(S=I.placement),I.rects&&(w=I.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:c}):I.rects),{x:_,y:b}=fx(w,S,g)),j=-1)}return{x:_,y:b,placement:S,strategy:c,middlewareData:k}};async function Wc(e,t){var r;t===void 0&&(t={});const{x:a,y:c,platform:d,rects:f,elements:p,strategy:g}=e,{boundary:w="clippingAncestors",rootBoundary:_="viewport",elementContext:b="floating",altBoundary:S=!1,padding:k=0}=go(t,e),P=Tw(k),C=p[S?b==="floating"?"reference":"floating":b],T=Kd(await d.getClippingRect({element:(r=await(d.isElement==null?void 0:d.isElement(C)))==null||r?C:C.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(p.floating)),boundary:w,rootBoundary:_,strategy:g})),D=b==="floating"?{x:a,y:c,width:f.floating.width,height:f.floating.height}:f.reference,M=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p.floating)),O=await(d.isElement==null?void 0:d.isElement(M))?await(d.getScale==null?void 0:d.getScale(M))||{x:1,y:1}:{x:1,y:1},I=Kd(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:D,offsetParent:M,strategy:g}):D);return{top:(T.top-I.top+P.top)/O.y,bottom:(I.bottom-T.bottom+P.bottom)/O.y,left:(T.left-I.left+P.left)/O.x,right:(I.right-T.right+P.right)/O.x}}const Oj=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:c,rects:d,platform:f,elements:p,middlewareData:g}=t,{element:w,padding:_=0}=go(e,t)||{};if(w==null)return{};const b=Tw(_),S={x:r,y:a},k=Ap(c),P=Lp(k),j=await f.getDimensions(w),C=k==="y",T=C?"top":"left",D=C?"bottom":"right",M=C?"clientHeight":"clientWidth",O=d.reference[P]+d.reference[k]-S[k]-d.floating[P],I=S[k]-d.reference[k],G=await(f.getOffsetParent==null?void 0:f.getOffsetParent(w));let U=G?G[M]:0;(!U||!await(f.isElement==null?void 0:f.isElement(G)))&&(U=p.floating[M]||d.floating[P]);const re=O/2-I/2,q=U/2-j[P]/2-1,X=hi(b[T],q),ne=hi(b[D],q),ge=X,Oe=U-j[P]-ne,me=U/2-j[P]/2+re,$e=Gm(ge,me,Oe),J=!g.arrow&&Rl(c)!=null&&me!==$e&&d.reference[P]/2-(me<ge?X:ne)-j[P]/2<0,_e=J?me<ge?me-ge:me-Oe:0;return{[k]:S[k]+_e,data:{[k]:$e,centerOffset:me-$e-_e,...J&&{alignmentOffset:_e}},reset:J}}}),Ij=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:c,middlewareData:d,rects:f,initialPlacement:p,platform:g,elements:w}=t,{mainAxis:_=!0,crossAxis:b=!0,fallbackPlacements:S,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:j=!0,...C}=go(e,t);if((r=d.arrow)!=null&&r.alignmentOffset)return{};const T=vo(c),D=pi(p),M=vo(p)===p,O=await(g.isRTL==null?void 0:g.isRTL(w.floating)),I=S||(M||!j?[Yd(p)]:Mj(p)),G=P!=="none";!S&&G&&I.push(...Lj(p,j,P,O));const U=[p,...I],re=await Wc(t,C),q=[];let X=((a=d.flip)==null?void 0:a.overflows)||[];if(_&&q.push(re[T]),b){const me=kj(c,f,O);q.push(re[me[0]],re[me[1]])}if(X=[...X,{placement:c,overflows:q}],!q.every(me=>me<=0)){var ne,ge;const me=(((ne=d.flip)==null?void 0:ne.index)||0)+1,$e=U[me];if($e)return{data:{index:me,overflows:X},reset:{placement:$e}};let J=(ge=X.filter(_e=>_e.overflows[0]<=0).sort((_e,B)=>_e.overflows[1]-B.overflows[1])[0])==null?void 0:ge.placement;if(!J)switch(k){case"bestFit":{var Oe;const _e=(Oe=X.filter(B=>{if(G){const pe=pi(B.placement);return pe===D||pe==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(pe=>pe>0).reduce((pe,ie)=>pe+ie,0)]).sort((B,pe)=>B[1]-pe[1])[0])==null?void 0:Oe[0];_e&&(J=_e);break}case"initialPlacement":J=p;break}if(c!==J)return{reset:{placement:J}}}return{}}}};function hx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mx(e){return Cj.some(t=>e[t]>=0)}const Fj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...c}=go(e,t);switch(a){case"referenceHidden":{const d=await Wc(t,{...c,elementContext:"reference"}),f=hx(d,r.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:mx(f)}}}case"escaped":{const d=await Wc(t,{...c,altBoundary:!0}),f=hx(d,r.floating);return{data:{escapedOffsets:f,escaped:mx(f)}}}default:return{}}}}};async function $j(e,t){const{placement:r,platform:a,elements:c}=e,d=await(a.isRTL==null?void 0:a.isRTL(c.floating)),f=vo(r),p=Rl(r),g=pi(r)==="y",w=["left","top"].includes(f)?-1:1,_=d&&g?-1:1,b=go(t,e);let{mainAxis:S,crossAxis:k,alignmentAxis:P}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return p&&typeof P=="number"&&(k=p==="end"?P*-1:P),g?{x:k*_,y:S*w}:{x:S*w,y:k*_}}const zj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:c,y:d,placement:f,middlewareData:p}=t,g=await $j(t,e);return f===((r=p.offset)==null?void 0:r.placement)&&(a=p.arrow)!=null&&a.alignmentOffset?{}:{x:c+g.x,y:d+g.y,data:{...g,placement:f}}}}},Bj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:c}=t,{mainAxis:d=!0,crossAxis:f=!1,limiter:p={fn:C=>{let{x:T,y:D}=C;return{x:T,y:D}}},...g}=go(e,t),w={x:r,y:a},_=await Wc(t,g),b=pi(vo(c)),S=Rp(b);let k=w[S],P=w[b];if(d){const C=S==="y"?"top":"left",T=S==="y"?"bottom":"right",D=k+_[C],M=k-_[T];k=Gm(D,k,M)}if(f){const C=b==="y"?"top":"left",T=b==="y"?"bottom":"right",D=P+_[C],M=P-_[T];P=Gm(D,P,M)}const j=p.fn({...t,[S]:k,[b]:P});return{...j,data:{x:j.x-r,y:j.y-a,enabled:{[S]:d,[b]:f}}}}}},Uj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:c,rects:d,middlewareData:f}=t,{offset:p=0,mainAxis:g=!0,crossAxis:w=!0}=go(e,t),_={x:r,y:a},b=pi(c),S=Rp(b);let k=_[S],P=_[b];const j=go(p,t),C=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(g){const M=S==="y"?"height":"width",O=d.reference[S]-d.floating[M]+C.mainAxis,I=d.reference[S]+d.reference[M]-C.mainAxis;k<O?k=O:k>I&&(k=I)}if(w){var T,D;const M=S==="y"?"width":"height",O=["top","left"].includes(vo(c)),I=d.reference[b]-d.floating[M]+(O&&((T=f.offset)==null?void 0:T[b])||0)+(O?0:C.crossAxis),G=d.reference[b]+d.reference[M]+(O?0:((D=f.offset)==null?void 0:D[b])||0)-(O?C.crossAxis:0);P<I?P=I:P>G&&(P=G)}return{[S]:k,[b]:P}}}},Hj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:c,rects:d,platform:f,elements:p}=t,{apply:g=()=>{},...w}=go(e,t),_=await Wc(t,w),b=vo(c),S=Rl(c),k=pi(c)==="y",{width:P,height:j}=d.floating;let C,T;b==="top"||b==="bottom"?(C=b,T=S===(await(f.isRTL==null?void 0:f.isRTL(p.floating))?"start":"end")?"left":"right"):(T=b,C=S==="end"?"top":"bottom");const D=j-_.top-_.bottom,M=P-_.left-_.right,O=hi(j-_[C],D),I=hi(P-_[T],M),G=!t.middlewareData.shift;let U=O,re=I;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(re=M),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(U=D),G&&!S){const X=Or(_.left,0),ne=Or(_.right,0),ge=Or(_.top,0),Oe=Or(_.bottom,0);k?re=P-2*(X!==0||ne!==0?X+ne:Or(_.left,_.right)):U=j-2*(ge!==0||Oe!==0?ge+Oe:Or(_.top,_.bottom))}await g({...t,availableWidth:re,availableHeight:U});const q=await f.getDimensions(p.floating);return P!==q.width||j!==q.height?{reset:{rects:!0}}:{}}}};function pf(){return typeof window<"u"}function Ll(e){return kw(e)?(e.nodeName||"").toLowerCase():"#document"}function Ir(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Us(e){var t;return(t=(kw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kw(e){return pf()?e instanceof Node||e instanceof Ir(e).Node:!1}function ys(e){return pf()?e instanceof Element||e instanceof Ir(e).Element:!1}function Bs(e){return pf()?e instanceof HTMLElement||e instanceof Ir(e).HTMLElement:!1}function px(e){return!pf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ir(e).ShadowRoot}function su(e){const{overflow:t,overflowX:r,overflowY:a,display:c}=ws(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!["inline","contents"].includes(c)}function Wj(e){return["table","td","th"].includes(Ll(e))}function gf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Dp(e){const t=Op(),r=ys(e)?ws(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function Vj(e){let t=gi(e);for(;Bs(t)&&!Cl(t);){if(Dp(t))return t;if(gf(t))return null;t=gi(t)}return null}function Op(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cl(e){return["html","body","#document"].includes(Ll(e))}function ws(e){return Ir(e).getComputedStyle(e)}function vf(e){return ys(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function gi(e){if(Ll(e)==="html")return e;const t=e.assignedSlot||e.parentNode||px(e)&&e.host||Us(e);return px(t)?t.host:t}function Mw(e){const t=gi(e);return Cl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bs(t)&&su(t)?t:Mw(t)}function Vc(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const c=Mw(e),d=c===((a=e.ownerDocument)==null?void 0:a.body),f=Ir(c);if(d){const p=Km(f);return t.concat(f,f.visualViewport||[],su(c)?c:[],p&&r?Vc(p):[])}return t.concat(c,Vc(c,[],r))}function Km(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rw(e){const t=ws(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const c=Bs(e),d=c?e.offsetWidth:r,f=c?e.offsetHeight:a,p=Gd(r)!==d||Gd(a)!==f;return p&&(r=d,a=f),{width:r,height:a,$:p}}function Ip(e){return ys(e)?e:e.contextElement}function pl(e){const t=Ip(e);if(!Bs(t))return mi(1);const r=t.getBoundingClientRect(),{width:a,height:c,$:d}=Rw(t);let f=(d?Gd(r.width):r.width)/a,p=(d?Gd(r.height):r.height)/c;return(!f||!Number.isFinite(f))&&(f=1),(!p||!Number.isFinite(p))&&(p=1),{x:f,y:p}}const Zj=mi(0);function Lw(e){const t=Ir(e);return!Op()||!t.visualViewport?Zj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qj(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ir(e)?!1:t}function la(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const c=e.getBoundingClientRect(),d=Ip(e);let f=mi(1);t&&(a?ys(a)&&(f=pl(a)):f=pl(e));const p=qj(d,r,a)?Lw(d):mi(0);let g=(c.left+p.x)/f.x,w=(c.top+p.y)/f.y,_=c.width/f.x,b=c.height/f.y;if(d){const S=Ir(d),k=a&&ys(a)?Ir(a):a;let P=S,j=Km(P);for(;j&&a&&k!==P;){const C=pl(j),T=j.getBoundingClientRect(),D=ws(j),M=T.left+(j.clientLeft+parseFloat(D.paddingLeft))*C.x,O=T.top+(j.clientTop+parseFloat(D.paddingTop))*C.y;g*=C.x,w*=C.y,_*=C.x,b*=C.y,g+=M,w+=O,P=Ir(j),j=Km(P)}}return Kd({width:_,height:b,x:g,y:w})}function Gj(e){let{elements:t,rect:r,offsetParent:a,strategy:c}=e;const d=c==="fixed",f=Us(a),p=t?gf(t.floating):!1;if(a===f||p&&d)return r;let g={scrollLeft:0,scrollTop:0},w=mi(1);const _=mi(0),b=Bs(a);if((b||!b&&!d)&&((Ll(a)!=="body"||su(f))&&(g=vf(a)),Bs(a))){const S=la(a);w=pl(a),_.x=S.x+a.clientLeft,_.y=S.y+a.clientTop}return{width:r.width*w.x,height:r.height*w.y,x:r.x*w.x-g.scrollLeft*w.x+_.x,y:r.y*w.y-g.scrollTop*w.y+_.y}}function Yj(e){return Array.from(e.getClientRects())}function Xm(e,t){const r=vf(e).scrollLeft;return t?t.left+r:la(Us(e)).left+r}function Kj(e){const t=Us(e),r=vf(e),a=e.ownerDocument.body,c=Or(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),d=Or(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let f=-r.scrollLeft+Xm(e);const p=-r.scrollTop;return ws(a).direction==="rtl"&&(f+=Or(t.clientWidth,a.clientWidth)-c),{width:c,height:d,x:f,y:p}}function Xj(e,t){const r=Ir(e),a=Us(e),c=r.visualViewport;let d=a.clientWidth,f=a.clientHeight,p=0,g=0;if(c){d=c.width,f=c.height;const w=Op();(!w||w&&t==="fixed")&&(p=c.offsetLeft,g=c.offsetTop)}return{width:d,height:f,x:p,y:g}}function Qj(e,t){const r=la(e,!0,t==="fixed"),a=r.top+e.clientTop,c=r.left+e.clientLeft,d=Bs(e)?pl(e):mi(1),f=e.clientWidth*d.x,p=e.clientHeight*d.y,g=c*d.x,w=a*d.y;return{width:f,height:p,x:g,y:w}}function gx(e,t,r){let a;if(t==="viewport")a=Xj(e,r);else if(t==="document")a=Kj(Us(e));else if(ys(t))a=Qj(t,r);else{const c=Lw(e);a={...t,x:t.x-c.x,y:t.y-c.y}}return Kd(a)}function Aw(e,t){const r=gi(e);return r===t||!ys(r)||Cl(r)?!1:ws(r).position==="fixed"||Aw(r,t)}function Jj(e,t){const r=t.get(e);if(r)return r;let a=Vc(e,[],!1).filter(p=>ys(p)&&Ll(p)!=="body"),c=null;const d=ws(e).position==="fixed";let f=d?gi(e):e;for(;ys(f)&&!Cl(f);){const p=ws(f),g=Dp(f);!g&&p.position==="fixed"&&(c=null),(d?!g&&!c:!g&&p.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||su(f)&&!g&&Aw(e,f))?a=a.filter(_=>_!==f):c=p,f=gi(f)}return t.set(e,a),a}function eE(e){let{element:t,boundary:r,rootBoundary:a,strategy:c}=e;const f=[...r==="clippingAncestors"?gf(t)?[]:Jj(t,this._c):[].concat(r),a],p=f[0],g=f.reduce((w,_)=>{const b=gx(t,_,c);return w.top=Or(b.top,w.top),w.right=hi(b.right,w.right),w.bottom=hi(b.bottom,w.bottom),w.left=Or(b.left,w.left),w},gx(t,p,c));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function tE(e){const{width:t,height:r}=Rw(e);return{width:t,height:r}}function nE(e,t,r){const a=Bs(t),c=Us(t),d=r==="fixed",f=la(e,!0,d,t);let p={scrollLeft:0,scrollTop:0};const g=mi(0);if(a||!a&&!d)if((Ll(t)!=="body"||su(c))&&(p=vf(t)),a){const k=la(t,!0,d,t);g.x=k.x+t.clientLeft,g.y=k.y+t.clientTop}else c&&(g.x=Xm(c));let w=0,_=0;if(c&&!a&&!d){const k=c.getBoundingClientRect();_=k.top+p.scrollTop,w=k.left+p.scrollLeft-Xm(c,k)}const b=f.left+p.scrollLeft-g.x-w,S=f.top+p.scrollTop-g.y-_;return{x:b,y:S,width:f.width,height:f.height}}function ym(e){return ws(e).position==="static"}function vx(e,t){if(!Bs(e)||ws(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Us(e)===r&&(r=r.ownerDocument.body),r}function Dw(e,t){const r=Ir(e);if(gf(e))return r;if(!Bs(e)){let c=gi(e);for(;c&&!Cl(c);){if(ys(c)&&!ym(c))return c;c=gi(c)}return r}let a=vx(e,t);for(;a&&Wj(a)&&ym(a);)a=vx(a,t);return a&&Cl(a)&&ym(a)&&!Dp(a)?r:a||Vj(e)||r}const rE=async function(e){const t=this.getOffsetParent||Dw,r=this.getDimensions,a=await r(e.floating);return{reference:nE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function sE(e){return ws(e).direction==="rtl"}const oE={convertOffsetParentRelativeRectToViewportRelativeRect:Gj,getDocumentElement:Us,getClippingRect:eE,getOffsetParent:Dw,getElementRects:rE,getClientRects:Yj,getDimensions:tE,getScale:pl,isElement:ys,isRTL:sE};function iE(e,t){let r=null,a;const c=Us(e);function d(){var p;clearTimeout(a),(p=r)==null||p.disconnect(),r=null}function f(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),d();const{left:w,top:_,width:b,height:S}=e.getBoundingClientRect();if(p||t(),!b||!S)return;const k=kd(_),P=kd(c.clientWidth-(w+b)),j=kd(c.clientHeight-(_+S)),C=kd(w),D={rootMargin:-k+"px "+-P+"px "+-j+"px "+-C+"px",threshold:Or(0,hi(1,g))||1};let M=!0;function O(I){const G=I[0].intersectionRatio;if(G!==g){if(!M)return f();G?f(!1,G):a=setTimeout(()=>{f(!1,1e-7)},1e3)}M=!1}try{r=new IntersectionObserver(O,{...D,root:c.ownerDocument})}catch{r=new IntersectionObserver(O,D)}r.observe(e)}return f(!0),d}function aE(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,w=Ip(e),_=c||d?[...w?Vc(w):[],...Vc(t)]:[];_.forEach(T=>{c&&T.addEventListener("scroll",r,{passive:!0}),d&&T.addEventListener("resize",r)});const b=w&&p?iE(w,r):null;let S=-1,k=null;f&&(k=new ResizeObserver(T=>{let[D]=T;D&&D.target===w&&k&&(k.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var M;(M=k)==null||M.observe(t)})),r()}),w&&!g&&k.observe(w),k.observe(t));let P,j=g?la(e):null;g&&C();function C(){const T=la(e);j&&(T.x!==j.x||T.y!==j.y||T.width!==j.width||T.height!==j.height)&&r(),j=T,P=requestAnimationFrame(C)}return r(),()=>{var T;_.forEach(D=>{c&&D.removeEventListener("scroll",r),d&&D.removeEventListener("resize",r)}),b==null||b(),(T=k)==null||T.disconnect(),k=null,g&&cancelAnimationFrame(P)}}const lE=zj,cE=Bj,uE=Ij,dE=Hj,fE=Fj,xx=Oj,hE=Uj,mE=(e,t,r)=>{const a=new Map,c={platform:oE,...r},d={...c.platform,_c:a};return Dj(e,t,{...c,platform:d})};var Wd=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Xd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,c;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!Xd(e[a],t[a]))return!1;return!0}if(c=Object.keys(e),r=c.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,c[a]))return!1;for(a=r;a--!==0;){const d=c[a];if(!(d==="_owner"&&e.$$typeof)&&!Xd(e[d],t[d]))return!1}return!0}return e!==e&&t!==t}function Ow(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yx(e,t){const r=Ow(e);return Math.round(t*r)/r}function wm(e){const t=v.useRef(e);return Wd(()=>{t.current=e}),t}function pE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:c,elements:{reference:d,floating:f}={},transform:p=!0,whileElementsMounted:g,open:w}=e,[_,b]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[S,k]=v.useState(a);Xd(S,a)||k(a);const[P,j]=v.useState(null),[C,T]=v.useState(null),D=v.useCallback(B=>{B!==G.current&&(G.current=B,j(B))},[]),M=v.useCallback(B=>{B!==U.current&&(U.current=B,T(B))},[]),O=d||P,I=f||C,G=v.useRef(null),U=v.useRef(null),re=v.useRef(_),q=g!=null,X=wm(g),ne=wm(c),ge=wm(w),Oe=v.useCallback(()=>{if(!G.current||!U.current)return;const B={placement:t,strategy:r,middleware:S};ne.current&&(B.platform=ne.current),mE(G.current,U.current,B).then(pe=>{const ie={...pe,isPositioned:ge.current!==!1};me.current&&!Xd(re.current,ie)&&(re.current=ie,ha.flushSync(()=>{b(ie)}))})},[S,t,r,ne,ge]);Wd(()=>{w===!1&&re.current.isPositioned&&(re.current.isPositioned=!1,b(B=>({...B,isPositioned:!1})))},[w]);const me=v.useRef(!1);Wd(()=>(me.current=!0,()=>{me.current=!1}),[]),Wd(()=>{if(O&&(G.current=O),I&&(U.current=I),O&&I){if(X.current)return X.current(O,I,Oe);Oe()}},[O,I,Oe,X,q]);const $e=v.useMemo(()=>({reference:G,floating:U,setReference:D,setFloating:M}),[D,M]),J=v.useMemo(()=>({reference:O,floating:I}),[O,I]),_e=v.useMemo(()=>{const B={position:r,left:0,top:0};if(!J.floating)return B;const pe=yx(J.floating,_.x),ie=yx(J.floating,_.y);return p?{...B,transform:"translate("+pe+"px, "+ie+"px)",...Ow(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:pe,top:ie}},[r,p,J.floating,_.x,_.y]);return v.useMemo(()=>({..._,update:Oe,refs:$e,elements:J,floatingStyles:_e}),[_,Oe,$e,J,_e])}const gE=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:c}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?xx({element:a.current,padding:c}).fn(r):{}:a?xx({element:a,padding:c}).fn(r):{}}}},vE=(e,t)=>({...lE(e),options:[e,t]}),xE=(e,t)=>({...cE(e),options:[e,t]}),yE=(e,t)=>({...hE(e),options:[e,t]}),wE=(e,t)=>({...uE(e),options:[e,t]}),_E=(e,t)=>({...dE(e),options:[e,t]}),bE=(e,t)=>({...fE(e),options:[e,t]}),NE=(e,t)=>({...gE(e),options:[e,t]});var SE="Arrow",Iw=v.forwardRef((e,t)=>{const{children:r,width:a=10,height:c=5,...d}=e;return o.jsx(_t.svg,{...d,ref:t,width:a,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Iw.displayName=SE;var jE=Iw;function Fw(e){const[t,r]=v.useState(void 0);return yn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let f,p;if("borderBoxSize"in d){const g=d.borderBoxSize,w=Array.isArray(g)?g[0]:g;f=w.inlineSize,p=w.blockSize}else f=e.offsetWidth,p=e.offsetHeight;r({width:f,height:p})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var Fp="Popper",[$w,xf]=kl(Fp),[EE,zw]=$w(Fp),Bw=e=>{const{__scopePopper:t,children:r}=e,[a,c]=v.useState(null);return o.jsx(EE,{scope:t,anchor:a,onAnchorChange:c,children:r})};Bw.displayName=Fp;var Uw="PopperAnchor",Hw=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...c}=e,d=zw(Uw,r),f=v.useRef(null),p=It(t,f);return v.useEffect(()=>{d.onAnchorChange((a==null?void 0:a.current)||f.current)}),a?null:o.jsx(_t.div,{...c,ref:p})});Hw.displayName=Uw;var $p="PopperContent",[CE,PE]=$w($p),Ww=v.forwardRef((e,t)=>{var K,ue,be,Me,He,Ze;const{__scopePopper:r,side:a="bottom",sideOffset:c=0,align:d="center",alignOffset:f=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:w=[],collisionPadding:_=0,sticky:b="partial",hideWhenDetached:S=!1,updatePositionStrategy:k="optimized",onPlaced:P,...j}=e,C=zw($p,r),[T,D]=v.useState(null),M=It(t,rt=>D(rt)),[O,I]=v.useState(null),G=Fw(O),U=(G==null?void 0:G.width)??0,re=(G==null?void 0:G.height)??0,q=a+(d!=="center"?"-"+d:""),X=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},ne=Array.isArray(w)?w:[w],ge=ne.length>0,Oe={padding:X,boundary:ne.filter(kE),altBoundary:ge},{refs:me,floatingStyles:$e,placement:J,isPositioned:_e,middlewareData:B}=pE({strategy:"fixed",placement:q,whileElementsMounted:(...rt)=>aE(...rt,{animationFrame:k==="always"}),elements:{reference:C.anchor},middleware:[vE({mainAxis:c+re,alignmentAxis:f}),g&&xE({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?yE():void 0,...Oe}),g&&wE({...Oe}),_E({...Oe,apply:({elements:rt,rects:xt,availableWidth:Se,availableHeight:Z})=>{const{width:le,height:Ce}=xt.reference,Ne=rt.floating.style;Ne.setProperty("--radix-popper-available-width",`${Se}px`),Ne.setProperty("--radix-popper-available-height",`${Z}px`),Ne.setProperty("--radix-popper-anchor-width",`${le}px`),Ne.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),O&&NE({element:O,padding:p}),ME({arrowWidth:U,arrowHeight:re}),S&&bE({strategy:"referenceHidden",...Oe})]}),[pe,ie]=qw(J),$=fn(P);yn(()=>{_e&&($==null||$())},[_e,$]);const te=(K=B.arrow)==null?void 0:K.x,Pe=(ue=B.arrow)==null?void 0:ue.y,Le=((be=B.arrow)==null?void 0:be.centerOffset)!==0,[Ee,F]=v.useState();return yn(()=>{T&&F(window.getComputedStyle(T).zIndex)},[T]),o.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...$e,transform:_e?$e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(Me=B.transformOrigin)==null?void 0:Me.x,(He=B.transformOrigin)==null?void 0:He.y].join(" "),...((Ze=B.hide)==null?void 0:Ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(CE,{scope:r,placedSide:pe,onArrowChange:I,arrowX:te,arrowY:Pe,shouldHideArrow:Le,children:o.jsx(_t.div,{"data-side":pe,"data-align":ie,...j,ref:M,style:{...j.style,animation:_e?void 0:"none"}})})})});Ww.displayName=$p;var Vw="PopperArrow",TE={top:"bottom",right:"left",bottom:"top",left:"right"},Zw=v.forwardRef(function(t,r){const{__scopePopper:a,...c}=t,d=PE(Vw,a),f=TE[d.placedSide];return o.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:o.jsx(jE,{...c,ref:r,style:{...c.style,display:"block"}})})});Zw.displayName=Vw;function kE(e){return e!==null}var ME=e=>({name:"transformOrigin",options:e,fn(t){var C,T,D;const{placement:r,rects:a,middlewareData:c}=t,f=((C=c.arrow)==null?void 0:C.centerOffset)!==0,p=f?0:e.arrowWidth,g=f?0:e.arrowHeight,[w,_]=qw(r),b={start:"0%",center:"50%",end:"100%"}[_],S=(((T=c.arrow)==null?void 0:T.x)??0)+p/2,k=(((D=c.arrow)==null?void 0:D.y)??0)+g/2;let P="",j="";return w==="bottom"?(P=f?b:`${S}px`,j=`${-g}px`):w==="top"?(P=f?b:`${S}px`,j=`${a.floating.height+g}px`):w==="right"?(P=`${-g}px`,j=f?b:`${k}px`):w==="left"&&(P=`${a.floating.width+g}px`,j=f?b:`${k}px`),{data:{x:P,y:j}}}});function qw(e){const[t,r="center"]=e.split("-");return[t,r]}var RE=Bw,Gw=Hw,Yw=Ww,Kw=Zw,LE="Portal",Xw=v.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=v.useState(!1);yn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?lf.createPortal(o.jsx(_t.div,{...a,ref:t}),f):null});Xw.displayName=LE;function AE(e,t){return v.useReducer((r,a)=>t[r][a]??r,e)}var Qw=e=>{const{present:t,children:r}=e,a=DE(t),c=typeof r=="function"?r({present:a.isPresent}):v.Children.only(r),d=It(a.ref,OE(c));return typeof r=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};Qw.displayName="Presence";function DE(e){const[t,r]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=AE(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=Md(a.current);d.current=p==="mounted"?w:"none"},[p]),yn(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,k=Md(w);e?g("MOUNT"):k==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),yn(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,b=k=>{const j=Md(a.current).includes(k.animationName);if(k.target===t&&j&&(g("ANIMATION_END"),!c.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},S=k=>{k.target===t&&(d.current=Md(a.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),r(w)},[])}}function Md(e){return(e==null?void 0:e.animationName)||"none"}function OE(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var[yf,BL]=gj("Tooltip",[xf]),zp=xf(),Jw="TooltipProvider",IE=700,wx="tooltip.open",[FE,e0]=yf(Jw),t0=e=>{const{__scopeTooltip:t,delayDuration:r=IE,skipDelayDuration:a=300,disableHoverableContent:c=!1,children:d}=e,[f,p]=v.useState(!0),g=v.useRef(!1),w=v.useRef(0);return v.useEffect(()=>{const _=w.current;return()=>window.clearTimeout(_)},[]),o.jsx(FE,{scope:t,isOpenDelayed:f,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(w.current),p(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>p(!0),a)},[a]),isPointerInTransitRef:g,onPointerInTransitChange:v.useCallback(_=>{g.current=_},[]),disableHoverableContent:c,children:d})};t0.displayName=Jw;var n0="Tooltip",[UL,wf]=yf(n0),Qm="TooltipTrigger",$E=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,c=wf(Qm,r),d=e0(Qm,r),f=zp(r),p=v.useRef(null),g=It(t,p,c.onTriggerChange),w=v.useRef(!1),_=v.useRef(!1),b=v.useCallback(()=>w.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),o.jsx(Gw,{asChild:!0,...f,children:o.jsx(_t.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:g,onPointerMove:st(e.onPointerMove,S=>{S.pointerType!=="touch"&&!_.current&&!d.isPointerInTransitRef.current&&(c.onTriggerEnter(),_.current=!0)}),onPointerLeave:st(e.onPointerLeave,()=>{c.onTriggerLeave(),_.current=!1}),onPointerDown:st(e.onPointerDown,()=>{w.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:st(e.onFocus,()=>{w.current||c.onOpen()}),onBlur:st(e.onBlur,c.onClose),onClick:st(e.onClick,c.onClose)})})});$E.displayName=Qm;var zE="TooltipPortal",[HL,BE]=yf(zE,{forceMount:void 0}),Pl="TooltipContent",r0=v.forwardRef((e,t)=>{const r=BE(Pl,e.__scopeTooltip),{forceMount:a=r.forceMount,side:c="top",...d}=e,f=wf(Pl,e.__scopeTooltip);return o.jsx(Qw,{present:a||f.open,children:f.disableHoverableContent?o.jsx(s0,{side:c,...d,ref:t}):o.jsx(UE,{side:c,...d,ref:t})})}),UE=v.forwardRef((e,t)=>{const r=wf(Pl,e.__scopeTooltip),a=e0(Pl,e.__scopeTooltip),c=v.useRef(null),d=It(t,c),[f,p]=v.useState(null),{trigger:g,onClose:w}=r,_=c.current,{onPointerInTransitChange:b}=a,S=v.useCallback(()=>{p(null),b(!1)},[b]),k=v.useCallback((P,j)=>{const C=P.currentTarget,T={x:P.clientX,y:P.clientY},D=ZE(T,C.getBoundingClientRect()),M=qE(T,D),O=GE(j.getBoundingClientRect()),I=KE([...M,...O]);p(I),b(!0)},[b]);return v.useEffect(()=>()=>S(),[S]),v.useEffect(()=>{if(g&&_){const P=C=>k(C,_),j=C=>k(C,g);return g.addEventListener("pointerleave",P),_.addEventListener("pointerleave",j),()=>{g.removeEventListener("pointerleave",P),_.removeEventListener("pointerleave",j)}}},[g,_,k,S]),v.useEffect(()=>{if(f){const P=j=>{const C=j.target,T={x:j.clientX,y:j.clientY},D=(g==null?void 0:g.contains(C))||(_==null?void 0:_.contains(C)),M=!YE(T,f);D?S():M&&(S(),w())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[g,_,f,w,S]),o.jsx(s0,{...e,ref:d})}),[HE,WE]=yf(n0,{isInside:!1}),s0=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":c,onEscapeKeyDown:d,onPointerDownOutside:f,...p}=e,g=wf(Pl,r),w=zp(r),{onClose:_}=g;return v.useEffect(()=>(document.addEventListener(wx,_),()=>document.removeEventListener(wx,_)),[_]),v.useEffect(()=>{if(g.trigger){const b=S=>{const k=S.target;k!=null&&k.contains(g.trigger)&&_()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[g.trigger,_]),o.jsx(Mp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:b=>b.preventDefault(),onDismiss:_,children:o.jsxs(Yw,{"data-state":g.stateAttribute,...w,...p,ref:t,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Ry,{children:a}),o.jsx(HE,{scope:r,isInside:!0,children:o.jsx(j1,{id:g.contentId,role:"tooltip",children:c||a})})]})})});r0.displayName=Pl;var o0="TooltipArrow",VE=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,c=zp(r);return WE(o0,r).isInside?null:o.jsx(Kw,{...c,...a,ref:t})});VE.displayName=o0;function ZE(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),c=Math.abs(t.right-e.x),d=Math.abs(t.left-e.x);switch(Math.min(r,a,c,d)){case d:return"left";case c:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function qE(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function GE(e){const{top:t,right:r,bottom:a,left:c}=e;return[{x:c,y:t},{x:r,y:t},{x:r,y:a},{x:c,y:a}]}function YE(e,t){const{x:r,y:a}=e;let c=!1;for(let d=0,f=t.length-1;d<t.length;f=d++){const p=t[d].x,g=t[d].y,w=t[f].x,_=t[f].y;g>a!=_>a&&r<(w-p)*(a-g)/(_-g)+p&&(c=!c)}return c}function KE(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),XE(t)}function XE(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const c=e[a];for(;t.length>=2;){const d=t[t.length-1],f=t[t.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))t.pop();else break}t.push(c)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const c=e[a];for(;r.length>=2;){const d=r[r.length-1],f=r[r.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))r.pop();else break}r.push(c)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var QE=t0,i0=r0;const JE=QE,eC=v.forwardRef(({className:e,sideOffset:t=4,...r},a)=>o.jsx(i0,{ref:a,sideOffset:t,className:mt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));eC.displayName=i0.displayName;var _f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bf=typeof window>"u"||"Deno"in globalThis;function ps(){}function tC(e,t){return typeof e=="function"?e(t):e}function nC(e){return typeof e=="number"&&e>=0&&e!==1/0}function rC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _x(e,t){return typeof e=="function"?e(t):e}function sC(e,t){return typeof e=="function"?e(t):e}function bx(e,t){const{type:r="all",exact:a,fetchStatus:c,predicate:d,queryKey:f,stale:p}=e;if(f){if(a){if(t.queryHash!==Bp(f,t.options))return!1}else if(!qc(t.queryKey,f))return!1}if(r!=="all"){const g=t.isActive();if(r==="active"&&!g||r==="inactive"&&g)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||c&&c!==t.state.fetchStatus||d&&!d(t))}function Nx(e,t){const{exact:r,status:a,predicate:c,mutationKey:d}=e;if(d){if(!t.options.mutationKey)return!1;if(r){if(Zc(t.options.mutationKey)!==Zc(d))return!1}else if(!qc(t.options.mutationKey,d))return!1}return!(a&&t.state.status!==a||c&&!c(t))}function Bp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Zc)(e)}function Zc(e){return JSON.stringify(e,(t,r)=>Jm(r)?Object.keys(r).sort().reduce((a,c)=>(a[c]=r[c],a),{}):r)}function qc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!qc(e[r],t[r])):!1}function a0(e,t){if(e===t)return e;const r=Sx(e)&&Sx(t);if(r||Jm(e)&&Jm(t)){const a=r?e:Object.keys(e),c=a.length,d=r?t:Object.keys(t),f=d.length,p=r?[]:{};let g=0;for(let w=0;w<f;w++){const _=r?w:d[w];(!r&&a.includes(_)||r)&&e[_]===void 0&&t[_]===void 0?(p[_]=void 0,g++):(p[_]=a0(e[_],t[_]),p[_]===e[_]&&e[_]!==void 0&&g++)}return c===f&&g===c?e:p}return t}function Sx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jm(e){if(!jx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jx(e){return Object.prototype.toString.call(e)==="[object Object]"}function oC(e){return new Promise(t=>{setTimeout(t,e)})}function iC(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?a0(e,t):t}function aC(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function lC(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var l0=Symbol();function c0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===l0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ji,si,vl,_y,cC=(_y=class extends _f{constructor(){super();Kt(this,Ji);Kt(this,si);Kt(this,vl);Lt(this,vl,t=>{if(!bf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Te(this,si)||this.setEventListener(Te(this,vl))}onUnsubscribe(){var t;this.hasListeners()||((t=Te(this,si))==null||t.call(this),Lt(this,si,void 0))}setEventListener(t){var r;Lt(this,vl,t),(r=Te(this,si))==null||r.call(this),Lt(this,si,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){Te(this,Ji)!==t&&(Lt(this,Ji,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Te(this,Ji)=="boolean"?Te(this,Ji):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ji=new WeakMap,si=new WeakMap,vl=new WeakMap,_y),u0=new cC,xl,oi,yl,by,uC=(by=class extends _f{constructor(){super();Kt(this,xl,!0);Kt(this,oi);Kt(this,yl);Lt(this,yl,t=>{if(!bf&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){Te(this,oi)||this.setEventListener(Te(this,yl))}onUnsubscribe(){var t;this.hasListeners()||((t=Te(this,oi))==null||t.call(this),Lt(this,oi,void 0))}setEventListener(t){var r;Lt(this,yl,t),(r=Te(this,oi))==null||r.call(this),Lt(this,oi,t(this.setOnline.bind(this)))}setOnline(t){Te(this,xl)!==t&&(Lt(this,xl,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return Te(this,xl)}},xl=new WeakMap,oi=new WeakMap,yl=new WeakMap,by),Qd=new uC;function dC(e){return Math.min(1e3*2**e,3e4)}function d0(e){return(e??"online")==="online"?Qd.isOnline():!0}var f0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _m(e){return e instanceof f0}function h0(e){let t=!1,r=0,a=!1,c,d,f;const p=new Promise((T,D)=>{d=T,f=D}),g=T=>{var D;a||(P(new f0(T)),(D=e.abort)==null||D.call(e))},w=()=>{t=!0},_=()=>{t=!1},b=()=>u0.isFocused()&&(e.networkMode==="always"||Qd.isOnline())&&e.canRun(),S=()=>d0(e.networkMode)&&e.canRun(),k=T=>{var D;a||(a=!0,(D=e.onSuccess)==null||D.call(e,T),c==null||c(),d(T))},P=T=>{var D;a||(a=!0,(D=e.onError)==null||D.call(e,T),c==null||c(),f(T))},j=()=>new Promise(T=>{var D;c=M=>{(a||b())&&T(M)},(D=e.onPause)==null||D.call(e)}).then(()=>{var T;c=void 0,a||(T=e.onContinue)==null||T.call(e)}),C=()=>{if(a)return;let T;const D=r===0?e.initialPromise:void 0;try{T=D??e.fn()}catch(M){T=Promise.reject(M)}Promise.resolve(T).then(k).catch(M=>{var re;if(a)return;const O=e.retry??(bf?0:3),I=e.retryDelay??dC,G=typeof I=="function"?I(r,M):I,U=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,M);if(t||!U){P(M);return}r++,(re=e.onFail)==null||re.call(e,r,M),oC(G).then(()=>b()?void 0:j()).then(()=>{t?P(M):C()})})};return{promise:p,cancel:g,continue:()=>(c==null||c(),p),cancelRetry:w,continueRetry:_,canStart:S,start:()=>(S()?C():j().then(C),p)}}function fC(){let e=[],t=0,r=p=>{p()},a=p=>{p()},c=p=>setTimeout(p,0);const d=p=>{t?e.push(p):c(()=>{r(p)})},f=()=>{const p=e;e=[],p.length&&c(()=>{a(()=>{p.forEach(g=>{r(g)})})})};return{batch:p=>{let g;t++;try{g=p()}finally{t--,t||f()}return g},batchCalls:p=>(...g)=>{d(()=>{p(...g)})},schedule:d,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{a=p},setScheduler:p=>{c=p}}}var rr=fC(),ea,Ny,m0=(Ny=class{constructor(){Kt(this,ea)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nC(this.gcTime)&&Lt(this,ea,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bf?1/0:5*60*1e3))}clearGcTimeout(){Te(this,ea)&&(clearTimeout(Te(this,ea)),Lt(this,ea,void 0))}},ea=new WeakMap,Ny),wl,_l,Xr,Gn,Qc,ta,gs,ho,Sy,hC=(Sy=class extends m0{constructor(t){super();Kt(this,gs);Kt(this,wl);Kt(this,_l);Kt(this,Xr);Kt(this,Gn);Kt(this,Qc);Kt(this,ta);Lt(this,ta,!1),Lt(this,Qc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Lt(this,Xr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Lt(this,wl,pC(this.options)),this.state=t.state??Te(this,wl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Te(this,Gn))==null?void 0:t.promise}setOptions(t){this.options={...Te(this,Qc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Te(this,Xr).remove(this)}setData(t,r){const a=iC(this.state.data,t,this.options);return qn(this,gs,ho).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){qn(this,gs,ho).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,c;const r=(a=Te(this,Gn))==null?void 0:a.promise;return(c=Te(this,Gn))==null||c.cancel(t),r?r.then(ps).catch(ps):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Te(this,wl))}isActive(){return this.observers.some(t=>sC(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!rC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Te(this,Gn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Te(this,Gn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Te(this,Xr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Te(this,Gn)&&(Te(this,ta)?Te(this,Gn).cancel({revert:!0}):Te(this,Gn).cancelRetry()),this.scheduleGc()),Te(this,Xr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qn(this,gs,ho).call(this,{type:"invalidate"})}fetch(t,r){var g,w,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Te(this,Gn))return Te(this,Gn).continueRetry(),Te(this,Gn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(S=>S.options.queryFn);b&&this.setOptions(b.options)}const a=new AbortController,c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Lt(this,ta,!0),a.signal)})},d=()=>{const b=c0(this.options,r),S={queryKey:this.queryKey,meta:this.meta};return c(S),Lt(this,ta,!1),this.options.persister?this.options.persister(b,S,this):b(S)},f={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};c(f),(g=this.options.behavior)==null||g.onFetch(f,this),Lt(this,_l,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=f.fetchOptions)==null?void 0:w.meta))&&qn(this,gs,ho).call(this,{type:"fetch",meta:(_=f.fetchOptions)==null?void 0:_.meta});const p=b=>{var S,k,P,j;_m(b)&&b.silent||qn(this,gs,ho).call(this,{type:"error",error:b}),_m(b)||((k=(S=Te(this,Xr).config).onError)==null||k.call(S,b,this),(j=(P=Te(this,Xr).config).onSettled)==null||j.call(P,this.state.data,b,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Lt(this,Gn,h0({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,abort:a.abort.bind(a),onSuccess:b=>{var S,k,P,j;if(b===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(C){p(C);return}(k=(S=Te(this,Xr).config).onSuccess)==null||k.call(S,b,this),(j=(P=Te(this,Xr).config).onSettled)==null||j.call(P,b,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(b,S)=>{qn(this,gs,ho).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{qn(this,gs,ho).call(this,{type:"pause"})},onContinue:()=>{qn(this,gs,ho).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),Te(this,Gn).start()}},wl=new WeakMap,_l=new WeakMap,Xr=new WeakMap,Gn=new WeakMap,Qc=new WeakMap,ta=new WeakMap,gs=new WeakSet,ho=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...mC(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=t.error;return _m(c)&&c.revert&&Te(this,_l)?{...Te(this,_l),fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),rr.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Te(this,Xr).notify({query:this,type:"updated",action:t})})},Sy);function mC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Is,jy,gC=(jy=class extends _f{constructor(t={}){super();Kt(this,Is);this.config=t,Lt(this,Is,new Map)}build(t,r,a){const c=r.queryKey,d=r.queryHash??Bp(c,r);let f=this.get(d);return f||(f=new hC({cache:this,queryKey:c,queryHash:d,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(c)}),this.add(f)),f}add(t){Te(this,Is).has(t.queryHash)||(Te(this,Is).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Te(this,Is).get(t.queryHash);r&&(t.destroy(),r===t&&Te(this,Is).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Te(this,Is).get(t)}getAll(){return[...Te(this,Is).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>bx(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>bx(t,a)):r}notify(t){rr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){rr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Is=new WeakMap,jy),Fs,nr,na,$s,ti,Ey,vC=(Ey=class extends m0{constructor(t){super();Kt(this,$s);Kt(this,Fs);Kt(this,nr);Kt(this,na);this.mutationId=t.mutationId,Lt(this,nr,t.mutationCache),Lt(this,Fs,[]),this.state=t.state||xC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Te(this,Fs).includes(t)||(Te(this,Fs).push(t),this.clearGcTimeout(),Te(this,nr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Lt(this,Fs,Te(this,Fs).filter(r=>r!==t)),this.scheduleGc(),Te(this,nr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Te(this,Fs).length||(this.state.status==="pending"?this.scheduleGc():Te(this,nr).remove(this))}continue(){var t;return((t=Te(this,na))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,d,f,p,g,w,_,b,S,k,P,j,C,T,D,M,O,I,G,U;Lt(this,na,h0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(re,q)=>{qn(this,$s,ti).call(this,{type:"failed",failureCount:re,error:q})},onPause:()=>{qn(this,$s,ti).call(this,{type:"pause"})},onContinue:()=>{qn(this,$s,ti).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Te(this,nr).canRun(this)}));const r=this.state.status==="pending",a=!Te(this,na).canStart();try{if(!r){qn(this,$s,ti).call(this,{type:"pending",variables:t,isPaused:a}),await((d=(c=Te(this,nr).config).onMutate)==null?void 0:d.call(c,t,this));const q=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,t));q!==this.state.context&&qn(this,$s,ti).call(this,{type:"pending",context:q,variables:t,isPaused:a})}const re=await Te(this,na).start();return await((w=(g=Te(this,nr).config).onSuccess)==null?void 0:w.call(g,re,t,this.state.context,this)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,re,t,this.state.context)),await((k=(S=Te(this,nr).config).onSettled)==null?void 0:k.call(S,re,null,this.state.variables,this.state.context,this)),await((j=(P=this.options).onSettled)==null?void 0:j.call(P,re,null,t,this.state.context)),qn(this,$s,ti).call(this,{type:"success",data:re}),re}catch(re){try{throw await((T=(C=Te(this,nr).config).onError)==null?void 0:T.call(C,re,t,this.state.context,this)),await((M=(D=this.options).onError)==null?void 0:M.call(D,re,t,this.state.context)),await((I=(O=Te(this,nr).config).onSettled)==null?void 0:I.call(O,void 0,re,this.state.variables,this.state.context,this)),await((U=(G=this.options).onSettled)==null?void 0:U.call(G,void 0,re,t,this.state.context)),re}finally{qn(this,$s,ti).call(this,{type:"error",error:re})}}finally{Te(this,nr).runNext(this)}}},Fs=new WeakMap,nr=new WeakMap,na=new WeakMap,$s=new WeakSet,ti=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rr.batch(()=>{Te(this,Fs).forEach(a=>{a.onMutationUpdate(t)}),Te(this,nr).notify({mutation:this,type:"updated",action:t})})},Ey);function xC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Lr,Jc,Cy,yC=(Cy=class extends _f{constructor(t={}){super();Kt(this,Lr);Kt(this,Jc);this.config=t,Lt(this,Lr,new Map),Lt(this,Jc,Date.now())}build(t,r,a){const c=new vC({mutationCache:this,mutationId:++jd(this,Jc)._,options:t.defaultMutationOptions(r),state:a});return this.add(c),c}add(t){const r=Rd(t),a=Te(this,Lr).get(r)??[];a.push(t),Te(this,Lr).set(r,a),this.notify({type:"added",mutation:t})}remove(t){var a;const r=Rd(t);if(Te(this,Lr).has(r)){const c=(a=Te(this,Lr).get(r))==null?void 0:a.filter(d=>d!==t);c&&(c.length===0?Te(this,Lr).delete(r):Te(this,Lr).set(r,c))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const r=(a=Te(this,Lr).get(Rd(t)))==null?void 0:a.find(c=>c.state.status==="pending");return!r||r===t}runNext(t){var a;const r=(a=Te(this,Lr).get(Rd(t)))==null?void 0:a.find(c=>c!==t&&c.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Te(this,Lr).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(a=>Nx(r,a))}findAll(t={}){return this.getAll().filter(r=>Nx(t,r))}notify(t){rr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return rr.batch(()=>Promise.all(t.map(r=>r.continue().catch(ps))))}},Lr=new WeakMap,Jc=new WeakMap,Cy);function Rd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Ex(e){return{onFetch:(t,r)=>{var _,b,S,k,P;const a=t.options,c=(S=(b=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:S.direction,d=((k=t.state.data)==null?void 0:k.pages)||[],f=((P=t.state.data)==null?void 0:P.pageParams)||[];let p={pages:[],pageParams:[]},g=0;const w=async()=>{let j=!1;const C=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(t.signal.aborted?j=!0:t.signal.addEventListener("abort",()=>{j=!0}),t.signal)})},T=c0(t.options,t.fetchOptions),D=async(M,O,I)=>{if(j)return Promise.reject();if(O==null&&M.pages.length)return Promise.resolve(M);const G={queryKey:t.queryKey,pageParam:O,direction:I?"backward":"forward",meta:t.options.meta};C(G);const U=await T(G),{maxPages:re}=t.options,q=I?lC:aC;return{pages:q(M.pages,U,re),pageParams:q(M.pageParams,O,re)}};if(c&&d.length){const M=c==="backward",O=M?wC:Cx,I={pages:d,pageParams:f},G=O(a,I);p=await D(I,G,M)}else{const M=e??d.length;do{const O=g===0?f[0]??a.initialPageParam:Cx(a,p);if(g>0&&O==null)break;p=await D(p,O),g++}while(g<M)}return p};t.options.persister?t.fetchFn=()=>{var j,C;return(C=(j=t.options).persister)==null?void 0:C.call(j,w,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=w}}}function Cx(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function wC(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var bn,ii,ai,bl,Nl,li,Sl,jl,Py,_C=(Py=class{constructor(e={}){Kt(this,bn);Kt(this,ii);Kt(this,ai);Kt(this,bl);Kt(this,Nl);Kt(this,li);Kt(this,Sl);Kt(this,jl);Lt(this,bn,e.queryCache||new gC),Lt(this,ii,e.mutationCache||new yC),Lt(this,ai,e.defaultOptions||{}),Lt(this,bl,new Map),Lt(this,Nl,new Map),Lt(this,li,0)}mount(){jd(this,li)._++,Te(this,li)===1&&(Lt(this,Sl,u0.subscribe(async e=>{e&&(await this.resumePausedMutations(),Te(this,bn).onFocus())})),Lt(this,jl,Qd.subscribe(async e=>{e&&(await this.resumePausedMutations(),Te(this,bn).onOnline())})))}unmount(){var e,t;jd(this,li)._--,Te(this,li)===0&&((e=Te(this,Sl))==null||e.call(this),Lt(this,Sl,void 0),(t=Te(this,jl))==null||t.call(this),Lt(this,jl,void 0))}isFetching(e){return Te(this,bn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Te(this,ii).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Te(this,bn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),a=Te(this,bn).build(this,r);return e.revalidateIfStale&&a.isStaleByTime(_x(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Te(this,bn).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),c=Te(this,bn).get(a.queryHash),d=c==null?void 0:c.state.data,f=tC(t,d);if(f!==void 0)return Te(this,bn).build(this,a).setData(f,{...r,manual:!0})}setQueriesData(e,t,r){return rr.batch(()=>Te(this,bn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Te(this,bn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Te(this,bn);rr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Te(this,bn),a={type:"active",...e};return rr.batch(()=>(r.findAll(e).forEach(c=>{c.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},a=rr.batch(()=>Te(this,bn).findAll(e).map(c=>c.cancel(r)));return Promise.all(a).then(ps).catch(ps)}invalidateQueries(e={},t={}){return rr.batch(()=>{if(Te(this,bn).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=rr.batch(()=>Te(this,bn).findAll(e).filter(c=>!c.isDisabled()).map(c=>{let d=c.fetch(void 0,r);return r.throwOnError||(d=d.catch(ps)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(a).then(ps)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Te(this,bn).build(this,t);return r.isStaleByTime(_x(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ps).catch(ps)}fetchInfiniteQuery(e){return e.behavior=Ex(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ps).catch(ps)}ensureInfiniteQueryData(e){return e.behavior=Ex(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qd.isOnline()?Te(this,ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return Te(this,bn)}getMutationCache(){return Te(this,ii)}getDefaultOptions(){return Te(this,ai)}setDefaultOptions(e){Lt(this,ai,e)}setQueryDefaults(e,t){Te(this,bl).set(Zc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Te(this,bl).values()];let r={};return t.forEach(a=>{qc(e,a.queryKey)&&(r={...r,...a.defaultOptions})}),r}setMutationDefaults(e,t){Te(this,Nl).set(Zc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Te(this,Nl).values()];let r={};return t.forEach(a=>{qc(e,a.mutationKey)&&(r={...r,...a.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Te(this,ai).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===l0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Te(this,ai).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Te(this,bn).clear(),Te(this,ii).clear()}},bn=new WeakMap,ii=new WeakMap,ai=new WeakMap,bl=new WeakMap,Nl=new WeakMap,li=new WeakMap,Sl=new WeakMap,jl=new WeakMap,Py),bC=v.createContext(void 0),NC=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(bC.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gc.apply(this,arguments)}var ci;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ci||(ci={}));const Px="popstate";function SC(e){e===void 0&&(e={});function t(a,c){let{pathname:d,search:f,hash:p}=a.location;return ep("",{pathname:d,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(a,c){return typeof c=="string"?c:Jd(c)}return EC(t,r,null,e)}function Tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jC(){return Math.random().toString(36).substr(2,8)}function Tx(e,t){return{usr:e.state,key:e.key,idx:t}}function ep(e,t,r,a){return r===void 0&&(r=null),Gc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Al(t):t,{state:r,key:t&&t.key||a||jC()})}function Jd(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Al(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function EC(e,t,r,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,f=c.history,p=ci.Pop,g=null,w=_();w==null&&(w=0,f.replaceState(Gc({},f.state,{idx:w}),""));function _(){return(f.state||{idx:null}).idx}function b(){p=ci.Pop;let C=_(),T=C==null?null:C-w;w=C,g&&g({action:p,location:j.location,delta:T})}function S(C,T){p=ci.Push;let D=ep(j.location,C,T);w=_()+1;let M=Tx(D,w),O=j.createHref(D);try{f.pushState(M,"",O)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;c.location.assign(O)}d&&g&&g({action:p,location:j.location,delta:1})}function k(C,T){p=ci.Replace;let D=ep(j.location,C,T);w=_();let M=Tx(D,w),O=j.createHref(D);f.replaceState(M,"",O),d&&g&&g({action:p,location:j.location,delta:0})}function P(C){let T=c.location.origin!=="null"?c.location.origin:c.location.href,D=typeof C=="string"?C:Jd(C);return D=D.replace(/ $/,"%20"),Tn(T,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,T)}let j={get action(){return p},get location(){return e(c,f)},listen(C){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Px,b),g=C,()=>{c.removeEventListener(Px,b),g=null}},createHref(C){return t(c,C)},createURL:P,encodeLocation(C){let T=P(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:S,replace:k,go(C){return f.go(C)}};return j}var kx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kx||(kx={}));function CC(e,t,r){return r===void 0&&(r="/"),PC(e,t,r)}function PC(e,t,r,a){let c=typeof t=="string"?Al(t):t,d=Up(c.pathname||"/",r);if(d==null)return null;let f=g0(e);TC(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let w=BC(d);p=FC(f[g],w)}return p}function g0(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let c=(d,f,p)=>{let g={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};g.relativePath.startsWith("/")&&(Tn(g.relativePath.startsWith(a),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(a.length));let w=ui([a,g.relativePath]),_=r.concat(g);d.children&&d.children.length>0&&(Tn(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),g0(d.children,t,_,w)),!(d.path==null&&!d.index)&&t.push({path:w,score:OC(w,d.index),routesMeta:_})};return e.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))c(d,f);else for(let g of v0(d.path))c(d,f,g)}),t}function v0(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,c=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let f=v0(a.join("/")),p=[];return p.push(...f.map(g=>g===""?d:[d,g].join("/"))),c&&p.push(...f),p.map(g=>e.startsWith("/")&&g===""?"/":g)}function TC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:IC(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const kC=/^:[\w-]+$/,MC=3,RC=2,LC=1,AC=10,DC=-2,Mx=e=>e==="*";function OC(e,t){let r=e.split("/"),a=r.length;return r.some(Mx)&&(a+=DC),t&&(a+=RC),r.filter(c=>!Mx(c)).reduce((c,d)=>c+(kC.test(d)?MC:d===""?LC:AC),a)}function IC(e,t){return e.length===t.length&&e.slice(0,-1).every((a,c)=>a===t[c])?e[e.length-1]-t[t.length-1]:0}function FC(e,t,r){let{routesMeta:a}=e,c={},d="/",f=[];for(let p=0;p<a.length;++p){let g=a[p],w=p===a.length-1,_=d==="/"?t:t.slice(d.length)||"/",b=$C({path:g.relativePath,caseSensitive:g.caseSensitive,end:w},_),S=g.route;if(!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:ui([d,b.pathname]),pathnameBase:VC(ui([d,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(d=ui([d,b.pathnameBase]))}return f}function $C(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=zC(e.path,e.caseSensitive,e.end),c=t.match(r);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:a.reduce((w,_,b)=>{let{paramName:S,isOptional:k}=_;if(S==="*"){let j=p[b]||"";f=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const P=p[b];return k&&!P?w[S]=void 0:w[S]=(P||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:f,pattern:e}}function zC(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),p0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),a]}function BC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return p0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Up(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function UC(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:c=""}=typeof e=="string"?Al(e):e;return{pathname:r?r.startsWith("/")?r:HC(r,t):t,search:ZC(a),hash:qC(c)}}function HC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function bm(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function x0(e,t){let r=WC(e);return t?r.map((a,c)=>c===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function y0(e,t,r,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=Al(e):(c=Gc({},e),Tn(!c.pathname||!c.pathname.includes("?"),bm("?","pathname","search",c)),Tn(!c.pathname||!c.pathname.includes("#"),bm("#","pathname","hash",c)),Tn(!c.search||!c.search.includes("#"),bm("#","search","hash",c)));let d=e===""||c.pathname==="",f=d?"/":c.pathname,p;if(f==null)p=r;else{let b=t.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;c.pathname=S.join("/")}p=b>=0?t[b]:"/"}let g=UC(c,p),w=f&&f!=="/"&&f.endsWith("/"),_=(d||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(w||_)&&(g.pathname+="/"),g}const ui=e=>e.join("/").replace(/\/\/+/g,"/"),VC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w0=["post","put","patch","delete"];new Set(w0);const YC=["get",...w0];new Set(YC);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yc(){return Yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yc.apply(this,arguments)}const Hp=v.createContext(null),KC=v.createContext(null),pa=v.createContext(null),Nf=v.createContext(null),yi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),_0=v.createContext(null);function XC(e,t){let{relative:r}=t===void 0?{}:t;ou()||Tn(!1);let{basename:a,navigator:c}=v.useContext(pa),{hash:d,pathname:f,search:p}=S0(e,{relative:r}),g=f;return a!=="/"&&(g=f==="/"?a:ui([a,f])),c.createHref({pathname:g,search:p,hash:d})}function ou(){return v.useContext(Nf)!=null}function iu(){return ou()||Tn(!1),v.useContext(Nf).location}function b0(e){v.useContext(pa).static||v.useLayoutEffect(e)}function N0(){let{isDataRoute:e}=v.useContext(yi);return e?dP():QC()}function QC(){ou()||Tn(!1);let e=v.useContext(Hp),{basename:t,future:r,navigator:a}=v.useContext(pa),{matches:c}=v.useContext(yi),{pathname:d}=iu(),f=JSON.stringify(x0(c,r.v7_relativeSplatPath)),p=v.useRef(!1);return b0(()=>{p.current=!0}),v.useCallback(function(w,_){if(_===void 0&&(_={}),!p.current)return;if(typeof w=="number"){a.go(w);return}let b=y0(w,JSON.parse(f),d,_.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:ui([t,b.pathname])),(_.replace?a.replace:a.push)(b,_.state,_)},[t,a,f,d,e])}function JC(){let{matches:e}=v.useContext(yi),t=e[e.length-1];return t?t.params:{}}function S0(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=v.useContext(pa),{matches:c}=v.useContext(yi),{pathname:d}=iu(),f=JSON.stringify(x0(c,a.v7_relativeSplatPath));return v.useMemo(()=>y0(e,JSON.parse(f),d,r==="path"),[e,f,d,r])}function eP(e,t){return tP(e,t)}function tP(e,t,r,a){ou()||Tn(!1);let{navigator:c}=v.useContext(pa),{matches:d}=v.useContext(yi),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let w=iu(),_;if(t){var b;let C=typeof t=="string"?Al(t):t;g==="/"||(b=C.pathname)!=null&&b.startsWith(g)||Tn(!1),_=C}else _=w;let S=_.pathname||"/",k=S;if(g!=="/"){let C=g.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let P=CC(e,{pathname:k}),j=iP(P&&P.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:ui([g,c.encodeLocation?c.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:ui([g,c.encodeLocation?c.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),d,r,a);return t&&j?v.createElement(Nf.Provider,{value:{location:Yc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:ci.Pop}},j):j}function nP(){let e=uP(),t=GC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:c},r):null,null)}const rP=v.createElement(nP,null);class sP extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(yi.Provider,{value:this.props.routeContext},v.createElement(_0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oP(e){let{routeContext:t,match:r,children:a}=e,c=v.useContext(Hp);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(yi.Provider,{value:t},a)}function iP(e,t,r,a){var c;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var d;if(!r)return null;if(r.errors)e=r.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let f=e,p=(c=r)==null?void 0:c.errors;if(p!=null){let _=f.findIndex(b=>b.route.id&&(p==null?void 0:p[b.route.id])!==void 0);_>=0||Tn(!1),f=f.slice(0,Math.min(f.length,_+1))}let g=!1,w=-1;if(r&&a&&a.v7_partialHydration)for(let _=0;_<f.length;_++){let b=f[_];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(w=_),b.route.id){let{loaderData:S,errors:k}=r,P=b.route.loader&&S[b.route.id]===void 0&&(!k||k[b.route.id]===void 0);if(b.route.lazy||P){g=!0,w>=0?f=f.slice(0,w+1):f=[f[0]];break}}}return f.reduceRight((_,b,S)=>{let k,P=!1,j=null,C=null;r&&(k=p&&b.route.id?p[b.route.id]:void 0,j=b.route.errorElement||rP,g&&(w<0&&S===0?(fP("route-fallback"),P=!0,C=null):w===S&&(P=!0,C=b.route.hydrateFallbackElement||null)));let T=t.concat(f.slice(0,S+1)),D=()=>{let M;return k?M=j:P?M=C:b.route.Component?M=v.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=_,v.createElement(oP,{match:b,routeContext:{outlet:_,matches:T,isDataRoute:r!=null},children:M})};return r&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?v.createElement(sP,{location:r.location,revalidation:r.revalidation,component:j,error:k,children:D(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):D()},null)}var j0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j0||{}),E0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E0||{});function aP(e){let t=v.useContext(Hp);return t||Tn(!1),t}function lP(e){let t=v.useContext(KC);return t||Tn(!1),t}function cP(e){let t=v.useContext(yi);return t||Tn(!1),t}function C0(e){let t=cP(),r=t.matches[t.matches.length-1];return r.route.id||Tn(!1),r.route.id}function uP(){var e;let t=v.useContext(_0),r=lP(),a=C0();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function dP(){let{router:e}=aP(j0.UseNavigateStable),t=C0(E0.UseNavigateStable),r=v.useRef(!1);return b0(()=>{r.current=!0}),v.useCallback(function(c,d){d===void 0&&(d={}),r.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Yc({fromRouteId:t},d)))},[e,t])}const Rx={};function fP(e,t,r){Rx[e]||(Rx[e]=!0)}function ni(e){Tn(!1)}function hP(e){let{basename:t="/",children:r=null,location:a,navigationType:c=ci.Pop,navigator:d,static:f=!1,future:p}=e;ou()&&Tn(!1);let g=t.replace(/^\/*/,"/"),w=v.useMemo(()=>({basename:g,navigator:d,static:f,future:Yc({v7_relativeSplatPath:!1},p)}),[g,p,d,f]);typeof a=="string"&&(a=Al(a));let{pathname:_="/",search:b="",hash:S="",state:k=null,key:P="default"}=a,j=v.useMemo(()=>{let C=Up(_,g);return C==null?null:{location:{pathname:C,search:b,hash:S,state:k,key:P},navigationType:c}},[g,_,b,S,k,P,c]);return j==null?null:v.createElement(pa.Provider,{value:w},v.createElement(Nf.Provider,{children:r,value:j}))}function mP(e){let{children:t,location:r}=e;return eP(tp(t),r)}new Promise(()=>{});function tp(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(a,c)=>{if(!v.isValidElement(a))return;let d=[...t,c];if(a.type===v.Fragment){r.push.apply(r,tp(a.props.children,d));return}a.type!==ni&&Tn(!1),!a.props.index||!a.props.children||Tn(!1);let f={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=tp(a.props.children,d)),r.push(f)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},np.apply(this,arguments)}function pP(e,t){if(e==null)return{};var r={},a=Object.keys(e),c,d;for(d=0;d<a.length;d++)c=a[d],!(t.indexOf(c)>=0)&&(r[c]=e[c]);return r}function gP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vP(e,t){return e.button===0&&(!t||t==="_self")&&!gP(e)}const xP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],yP="6";try{window.__reactRouterVersion=yP}catch{}const wP="startTransition",Lx=Ty[wP];function _P(e){let{basename:t,children:r,future:a,window:c}=e,d=v.useRef();d.current==null&&(d.current=SC({window:c,v5Compat:!0}));let f=d.current,[p,g]=v.useState({action:f.action,location:f.location}),{v7_startTransition:w}=a||{},_=v.useCallback(b=>{w&&Lx?Lx(()=>g(b)):g(b)},[g,w]);return v.useLayoutEffect(()=>f.listen(_),[f,_]),v.createElement(hP,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:f,future:a})}const bP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zs=v.forwardRef(function(t,r){let{onClick:a,relative:c,reloadDocument:d,replace:f,state:p,target:g,to:w,preventScrollReset:_,unstable_viewTransition:b}=t,S=pP(t,xP),{basename:k}=v.useContext(pa),P,j=!1;if(typeof w=="string"&&NP.test(w)&&(P=w,bP))try{let M=new URL(window.location.href),O=w.startsWith("//")?new URL(M.protocol+w):new URL(w),I=Up(O.pathname,k);O.origin===M.origin&&I!=null?w=I+O.search+O.hash:j=!0}catch{}let C=XC(w,{relative:c}),T=SP(w,{replace:f,state:p,target:g,preventScrollReset:_,relative:c,unstable_viewTransition:b});function D(M){a&&a(M),M.defaultPrevented||T(M)}return v.createElement("a",np({},S,{href:P||C,onClick:j||d?a:D,ref:r,target:g}))});var Ax;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ax||(Ax={}));var Dx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dx||(Dx={}));function SP(e,t){let{target:r,replace:a,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p}=t===void 0?{}:t,g=N0(),w=iu(),_=S0(e,{relative:f});return v.useCallback(b=>{if(vP(b,r)){b.preventDefault();let S=a!==void 0?a:Jd(w)===Jd(_);g(e,{replace:S,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p})}},[w,g,_,a,c,r,e,d,f,p])}class ut{static init(){typeof window<"u"&&(this.baseUrl=window.location.origin,this.isInitialized=!0,console.log(`HttpClient: Initializing with baseUrl: ${this.baseUrl}`),console.log("HttpClient: Checking for fetch interference"),this.detectFetchInterference(),console.log(`HttpClient: Initialization complete. XHR mode: ${this.useXHROnly}`))}static ensureInitialized(){!this.isInitialized&&typeof window<"u"&&this.init(),!this.baseUrl&&typeof window<"u"&&(this.baseUrl=window.location.origin,console.log(`HttpClient: Fallback baseUrl set to: ${this.baseUrl}`))}static detectFetchInterference(){try{console.log("HttpClient: Checking for fetch interference...");const t={windowFS:!!window.FS,fullstoryScript:!!document.querySelector('script[src*="fullstory"]'),fsScript:!!document.querySelector('script[src*="fs.js"]'),userAgent:/fullstory/i.test(navigator.userAgent),fetchContainsFsJs:window.fetch.toString().includes("fs.js"),fetchTooShort:window.fetch.toString().length<50};if(console.log("HttpClient: FullStory detection checks:",t),Object.values(t).some(c=>c)){console.warn("FullStory detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}const a=window.fetch.toString();if(console.log("HttpClient: Fetch function length:",a.length),a.includes("eval")||a.includes("intercept")||a.includes("proxy")){console.warn("Fetch interception detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}console.log("HttpClient: No fetch interference detected, using native fetch")}catch{console.warn("Could not detect fetch interference, using XMLHttpRequest as fallback"),this.useXHROnly=!0}}static forceXHRMode(){console.log("HttpClient: Forced to use XMLHttpRequest mode"),this.useXHROnly=!0}static isUsingXHR(){return this.useXHROnly}static async testConnection(){try{console.log("HttpClient: Testing connection...");const t=await this.get("/api/employees",!1),r=t.ok;return console.log(`HttpClient: Connection test ${r?"passed":"failed"} - Status: ${t.status}`),r}catch(t){return console.error("HttpClient: Connection test failed:",t),!1}}static async fallbackFetch(t,r={}){return console.log(`HttpClient: XMLHttpRequest attempt to ${t}`),new Promise((a,c)=>{const d=new XMLHttpRequest,f=r.method||"GET";try{if(d.withCredentials=!1,d.open(f,t),r.headers){const p=r.headers;Object.keys(p).forEach(g=>{if(g.toLowerCase()!=="signal")try{d.setRequestHeader(g,p[g])}catch(w){console.warn(`HttpClient: Failed to set header ${g}:`,w)}})}d.timeout=25e3,d.onreadystatechange=()=>{console.log(`HttpClient: XHR readyState: ${d.readyState}, status: ${d.status}`)},d.onload=()=>{var p;console.log(`HttpClient: XHR onload - Status: ${d.status}, Response: ${(p=d.responseText)==null?void 0:p.substring(0,100)}...`);try{if(d.status>=200&&d.status<300){const g=new Response(d.responseText,{status:d.status,statusText:d.statusText,headers:new Headers({"Content-Type":d.getResponseHeader("Content-Type")||"application/json"})});a(g)}else c(new Error(`HTTP error ${d.status}: ${d.statusText||"No status text"}`))}catch(g){console.error("HttpClient: Error creating response:",g),c(new Error(`Failed to create response: ${g}`))}},d.onerror=p=>{console.error("HttpClient: XHR error event:",p),console.error("HttpClient: XHR error details:",{status:d.status,statusText:d.statusText,readyState:d.readyState,responseText:d.responseText,responseURL:d.responseURL,url:t,method:f});let g="XMLHttpRequest failed";d.readyState===0?g=`Request not initialized - possible CORS or network issue for ${t}`:d.readyState===1?g="Request opened but not sent":d.readyState===2?g="Headers received but request incomplete":d.readyState===3?g="Request in progress":d.readyState===4&&(d.status===0?g=`Network error or CORS policy blocked request to ${t}. Check if server is running and CORS is configured.`:g=`HTTP error ${d.status}: ${d.statusText||"Unknown error"} for ${t}`),c(new Error(g))},d.ontimeout=()=>{console.error("HttpClient: XHR timeout"),c(new Error("XMLHttpRequest timeout after 25 seconds"))},d.onabort=()=>{console.error("HttpClient: XHR aborted"),c(new Error("XMLHttpRequest was aborted"))},console.log(`HttpClient: Sending XHR ${f} request to ${t}`),r.body?(console.log("HttpClient: Request body:",r.body),d.send(r.body)):d.send()}catch(p){console.error("HttpClient: Error setting up XMLHttpRequest:",p),c(new Error(`Failed to setup XMLHttpRequest: ${p}`))}})}static async request(t,r={}){this.ensureInitialized();const a=t.startsWith("http")?t:`${this.baseUrl}${t}`,c=r.method||"GET",d=c==="GET"?`${c}:${a}`:null;if(d&&this.pendingRequests.has(d))return console.log(`HttpClient: Reusing pending request for ${a}`),this.pendingRequests.get(d);if(console.log(`HttpClient: Request to ${a} (baseUrl: ${this.baseUrl}, endpoint: ${t})`),!a||a==="undefined"||a.includes("undefined"))throw console.error("HttpClient: Invalid URL constructed:",{url:a,baseUrl:this.baseUrl,endpoint:t}),new Error(`Invalid URL: ${a}`);const p={...r,headers:{...{"Content-Type":"application/json"},...r.headers}},g=this.executeRequest(a,p);return d&&(this.pendingRequests.set(d,g),g.finally(()=>{this.pendingRequests.delete(d)})),g}static async executeRequest(t,r){var d,f;if(this.useXHROnly)return console.log(`HttpClient: Using XMLHttpRequest for ${t} (FullStory detected)`),this.fallbackFetch(t,r);let a=null,c=null;try{a=new AbortController,c=setTimeout(()=>{a&&!a.signal.aborted&&a.abort("Request timeout after 20 seconds")},2e4);const p={...r,signal:a.signal};console.log(`HttpClient: Attempting fetch to ${t}`);const g=await fetch(t,p);return c&&(clearTimeout(c),c=null),console.log(`HttpClient: Fetch successful to ${t}`,g.status),g}catch(p){c&&(clearTimeout(c),c=null),console.warn(`HttpClient: Fetch failed, trying fallback for ${t}:`,p),p instanceof TypeError&&(p.message.includes("fetch")||p.message.includes("Failed to fetch")||(d=p.stack)!=null&&d.includes("fullstory")||(f=p.stack)!=null&&f.includes("fs.js"))&&(console.log("HttpClient: Detected FullStory interference, switching to XMLHttpRequest mode permanently"),this.useXHROnly=!0),p instanceof Error&&p.name==="AbortError"&&console.log("HttpClient: Request was aborted, trying fallback without signal");try{const g=await this.fallbackFetch(t,r);return console.log(`HttpClient: Fallback successful to ${t}`,g.status),g}catch(g){throw console.error(`HttpClient: Both fetch and fallback failed for ${t}:`,g),g}}}static async requestWithRetry(t,r={},a=2){var d,f;let c=null;for(let p=0;p<=a;p++)try{return await this.request(t,r)}catch(g){if(c=g,console.warn(`HttpClient: Attempt ${p+1} failed for ${t}:`,g),g instanceof TypeError&&(g.message.includes("fetch")||g.message.includes("Failed to fetch")||(d=g.stack)!=null&&d.includes("fullstory")||(f=g.stack)!=null&&f.includes("fs.js"))){console.log("HttpClient: FullStory error detected in retry, switching to XMLHttpRequest mode"),this.useXHROnly=!0;try{const w=t.startsWith("http")?t:`${this.baseUrl}${t}`,b={...r,headers:{...{"Content-Type":"application/json"},...r.headers}};return await this.fallbackFetch(w,b)}catch(w){console.error("HttpClient: XHR fallback also failed:",w)}}p<a&&await new Promise(w=>setTimeout(w,Math.pow(2,p)*1e3))}throw c}static async get(t,r=!1){return r?this.requestWithRetry(t,{method:"GET"}):this.request(t,{method:"GET"})}static async post(t,r,a=!0){const c={method:"POST",body:r?JSON.stringify(r):void 0};return a?this.requestWithRetry(t,c):this.request(t,c)}static async put(t,r,a=!0){const c={method:"PUT",body:r?JSON.stringify(r):void 0};return a?this.requestWithRetry(t,c):this.request(t,c)}static async delete(t,r=!1){return r?this.requestWithRetry(t,{method:"DELETE"}):this.request(t,{method:"DELETE"})}}Ds(ut,"baseUrl",""),Ds(ut,"isInitialized",!1),Ds(ut,"useXHROnly",!1),Ds(ut,"pendingRequests",new Map);ut.init();const dt=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:mt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));dt.displayName="Card";const Mt=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:mt("flex flex-col space-y-1.5 p-6",e),...t}));Mt.displayName="CardHeader";const Rt=v.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:mt("text-2xl font-semibold leading-none tracking-tight",e),...t}));Rt.displayName="CardTitle";const jP=v.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:mt("text-sm text-muted-foreground",e),...t}));jP.displayName="CardDescription";const ft=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:mt("p-6 pt-0",e),...t}));ft.displayName="CardContent";const EP=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:mt("flex items-center p-6 pt-0",e),...t}));EP.displayName="CardFooter";const CP=tu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),je=v.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...c},d)=>{const f=a?aa:"button";return o.jsx(f,{className:mt(CP({variant:t,size:r,className:e})),ref:d,...c})});je.displayName="Button";const PP=tu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nt({className:e,variant:t,...r}){return o.jsx("div",{className:mt(PP({variant:t}),e),...r})}var Oc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var TP=Oc.exports,Ox;function kP(){return Ox||(Ox=1,function(e,t){(function(r,a){a(t)})(TP,function(r){var a="1.9.4";function c(s){var l,h,x,E;for(h=1,x=arguments.length;h<x;h++){E=arguments[h];for(l in E)s[l]=E[l]}return s}var d=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function f(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var x=h.call(arguments,2);return function(){return s.apply(l,x.length?x.concat(h.call(arguments)):arguments)}}var p=0;function g(s){return"_leaflet_id"in s||(s._leaflet_id=++p),s._leaflet_id}function w(s,l,h){var x,E,A,W;return W=function(){x=!1,E&&(A.apply(h,E),E=!1)},A=function(){x?E=arguments:(s.apply(h,arguments),setTimeout(W,l),x=!0)},A}function _(s,l,h){var x=l[1],E=l[0],A=x-E;return s===x&&h?s:((s-E)%A+A)%A+E}function b(){return!1}function S(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function k(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function P(s){return k(s).split(/\s+/)}function j(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function C(s,l,h){var x=[];for(var E in s)x.push(encodeURIComponent(h?E.toUpperCase():E)+"="+encodeURIComponent(s[E]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function D(s,l){return s.replace(T,function(h,x){var E=l[x];if(E===void 0)throw new Error("No value provided for variable "+h);return typeof E=="function"&&(E=E(l)),E})}var M=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function O(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function G(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var U=0;function re(s){var l=+new Date,h=Math.max(0,16-(l-U));return U=l+h,window.setTimeout(s,h)}var q=window.requestAnimationFrame||G("RequestAnimationFrame")||re,X=window.cancelAnimationFrame||G("CancelAnimationFrame")||G("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ne(s,l,h){if(h&&q===re)s.call(l);else return q.call(window,f(s,l))}function ge(s){s&&X.call(window,s)}var Oe={__proto__:null,extend:c,create:d,bind:f,get lastId(){return p},stamp:g,throttle:w,wrapNum:_,falseFn:b,formatNum:S,trim:k,splitWords:P,setOptions:j,getParamString:C,template:D,isArray:M,indexOf:O,emptyImageUrl:I,requestFn:q,cancelFn:X,requestAnimFrame:ne,cancelAnimFrame:ge};function me(){}me.extend=function(s){var l=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,x=d(h);x.constructor=l,l.prototype=x;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return s.statics&&c(l,s.statics),s.includes&&($e(s.includes),c.apply(null,[x].concat(s.includes))),c(x,s),delete x.statics,delete x.includes,x.options&&(x.options=h.options?d(h.options):{},c(x.options,s.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,W=x._initHooks.length;A<W;A++)x._initHooks[A].call(this)}},l},me.include=function(s){var l=this.prototype.options;return c(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},me.mergeOptions=function(s){return c(this.prototype.options,s),this},me.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function $e(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=M(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(s,l,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],l);else{s=P(s);for(var E=0,A=s.length;E<A;E++)this._on(s[E],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var x in s)this._off(x,s[x],l);else{s=P(s);for(var E=arguments.length===1,A=0,W=s.length;A<W;A++)E?this._off(s[A]):this._off(s[A],l,h)}return this},_on:function(s,l,h,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var E={fn:l,ctx:h};x&&(E.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(E)}},_off:function(s,l,h){var x,E,A;if(this._events&&(x=this._events[s],!!x)){if(arguments.length===1){if(this._firingCount)for(E=0,A=x.length;E<A;E++)x[E].fn=b;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var W=this._listens(s,l,h);if(W!==!1){var se=x[W];this._firingCount&&(se.fn=b,this._events[s]=x=x.slice()),x.splice(W,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var x=c({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[s];if(E){this._firingCount=this._firingCount+1||1;for(var A=0,W=E.length;A<W;A++){var se=E[A],fe=se.fn;se.once&&this.off(s,fe,se.ctx),fe.call(se.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(s,l,h,x){typeof s!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(x=!!l,E=void 0,h=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,E,h)!==!1)return!0;if(x){for(var W in this._eventParents)if(this._eventParents[W].listens(s,l,h,x))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var x=this._events[s]||[];if(!l)return!!x.length;h===this&&(h=void 0);for(var E=0,A=x.length;E<A;E++)if(x[E].fn===l&&x[E].ctx===h)return E;return!1},once:function(s,l,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],l,!0);else{s=P(s);for(var E=0,A=s.length;E<A;E++)this._on(s[E],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[g(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[g(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,c({layer:s.target,propagatedFrom:s.target},s),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var _e=me.extend(J);function B(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var pe=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};B.prototype={clone:function(){return new B(this.x,this.y)},add:function(s){return this.clone()._add(ie(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(ie(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new B(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new B(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=pe(this.x),this.y=pe(this.y),this},distanceTo:function(s){s=ie(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=ie(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=ie(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function ie(s,l,h){return s instanceof B?s:M(s)?new B(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new B(s.x,s.y):new B(s,l,h)}function $(s,l){if(s)for(var h=l?[s,l]:s,x=0,E=h.length;x<E;x++)this.extend(h[x])}$.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof B||typeof s[0]=="number"||"x"in s)l=h=ie(s);else if(s=te(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return ie(this.min.x,this.max.y)},getTopRight:function(){return ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof B?s=ie(s):s=te(s),s instanceof $?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=te(s);var l=this.min,h=this.max,x=s.min,E=s.max,A=E.x>=l.x&&x.x<=h.x,W=E.y>=l.y&&x.y<=h.y;return A&&W},overlaps:function(s){s=te(s);var l=this.min,h=this.max,x=s.min,E=s.max,A=E.x>l.x&&x.x<h.x,W=E.y>l.y&&x.y<h.y;return A&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,x=Math.abs(l.x-h.x)*s,E=Math.abs(l.y-h.y)*s;return te(ie(l.x-x,l.y-E),ie(h.x+x,h.y+E))},equals:function(s){return s?(s=te(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function te(s,l){return!s||s instanceof $?s:new $(s,l)}function Pe(s,l){if(s)for(var h=l?[s,l]:s,x=0,E=h.length;x<E;x++)this.extend(h[x])}Pe.prototype={extend:function(s){var l=this._southWest,h=this._northEast,x,E;if(s instanceof Ee)x=s,E=s;else if(s instanceof Pe){if(x=s._southWest,E=s._northEast,!x||!E)return this}else return s?this.extend(F(s)||Le(s)):this;return!l&&!h?(this._southWest=new Ee(x.lat,x.lng),this._northEast=new Ee(E.lat,E.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),h.lat=Math.max(E.lat,h.lat),h.lng=Math.max(E.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,x=Math.abs(l.lat-h.lat)*s,E=Math.abs(l.lng-h.lng)*s;return new Pe(new Ee(l.lat-x,l.lng-E),new Ee(h.lat+x,h.lng+E))},getCenter:function(){return new Ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Ee||"lat"in s?s=F(s):s=Le(s);var l=this._southWest,h=this._northEast,x,E;return s instanceof Pe?(x=s.getSouthWest(),E=s.getNorthEast()):x=E=s,x.lat>=l.lat&&E.lat<=h.lat&&x.lng>=l.lng&&E.lng<=h.lng},intersects:function(s){s=Le(s);var l=this._southWest,h=this._northEast,x=s.getSouthWest(),E=s.getNorthEast(),A=E.lat>=l.lat&&x.lat<=h.lat,W=E.lng>=l.lng&&x.lng<=h.lng;return A&&W},overlaps:function(s){s=Le(s);var l=this._southWest,h=this._northEast,x=s.getSouthWest(),E=s.getNorthEast(),A=E.lat>l.lat&&x.lat<h.lat,W=E.lng>l.lng&&x.lng<h.lng;return A&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=Le(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Le(s,l){return s instanceof Pe?s:new Pe(s,l)}function Ee(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}Ee.prototype={equals:function(s,l){if(!s)return!1;s=F(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+S(this.lat,s)+", "+S(this.lng,s)+")"},distanceTo:function(s){return ue.distance(this,F(s))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return Le([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new Ee(this.lat,this.lng,this.alt)}};function F(s,l,h){return s instanceof Ee?s:M(s)&&typeof s[0]!="object"?s.length===3?new Ee(s[0],s[1],s[2]):s.length===2?new Ee(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Ee(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new Ee(s,l,h)}var K={latLngToPoint:function(s,l){var h=this.projection.project(s),x=this.scale(l);return this.transformation._transform(h,x)},pointToLatLng:function(s,l){var h=this.scale(l),x=this.transformation.untransform(s,h);return this.projection.unproject(x)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),x=this.transformation.transform(l.min,h),E=this.transformation.transform(l.max,h);return new $(x,E)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?_(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?_(s.lat,this.wrapLat,!0):s.lat,x=s.alt;return new Ee(h,l,x)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),x=l.lat-h.lat,E=l.lng-h.lng;if(x===0&&E===0)return s;var A=s.getSouthWest(),W=s.getNorthEast(),se=new Ee(A.lat-x,A.lng-E),fe=new Ee(W.lat-x,W.lng-E);return new Pe(se,fe)}},ue=c({},K,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,x=s.lat*h,E=l.lat*h,A=Math.sin((l.lat-s.lat)*h/2),W=Math.sin((l.lng-s.lng)*h/2),se=A*A+Math.cos(x)*Math.cos(E)*W*W,fe=2*Math.atan2(Math.sqrt(se),Math.sqrt(1-se));return this.R*fe}}),be=6378137,Me={R:be,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,s.lat),-h),E=Math.sin(x*l);return new B(this.R*s.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(s){var l=180/Math.PI;return new Ee((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=be*Math.PI;return new $([-s,-s],[s,s])}()};function He(s,l,h,x){if(M(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=x}He.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new B((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Ze(s,l,h,x){return new He(s,l,h,x)}var rt=c({},ue,{code:"EPSG:3857",projection:Me,transformation:function(){var s=.5/(Math.PI*Me.R);return Ze(s,.5,-s,.5)}()}),xt=c({},rt,{code:"EPSG:900913"});function Se(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Z(s,l){var h="",x,E,A,W,se,fe;for(x=0,A=s.length;x<A;x++){for(se=s[x],E=0,W=se.length;E<W;E++)fe=se[E],h+=(E?"L":"M")+fe.x+" "+fe.y;h+=l?Ke.svg?"z":"x":""}return h||"M0 0"}var le=document.documentElement.style,Ce="ActiveXObject"in window,Ne=Ce&&!document.addEventListener,Be="msLaunchUri"in navigator&&!("documentMode"in document),Xe=Sn("webkit"),Ye=Sn("android"),Ut=Sn("android 2")||Sn("android 3"),Pt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),St=Ye&&Sn("Google")&&Pt<537&&!("AudioNode"in window),At=!!window.opera,Ht=!Be&&Sn("chrome"),qt=Sn("gecko")&&!Xe&&!At&&!Ce,Vt=!Ht&&Sn("safari"),Je=Sn("phantom"),$t="OTransition"in le,hn=navigator.platform.indexOf("Win")===0,jt=Ce&&"transition"in le,Xt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ut,en="MozPerspective"in le,H=!window.L_DISABLE_3D&&(jt||Xt||en)&&!$t&&!Je,ye=typeof orientation<"u"||Sn("mobile"),V=ye&&Xe,ee=ye&&Xt,de=!window.PointerEvent&&window.MSPointerEvent,ve=!!(window.PointerEvent||de),we="ontouchstart"in window||!!window.TouchEvent,We=!window.L_NO_TOUCH&&(we||ve),ce=ye&&At,ze=ye&&qt,Ie=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,nt=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",b,l),window.removeEventListener("testPassiveEventSupport",b,l)}catch{}return s}(),zt=function(){return!!document.createElement("canvas").getContext}(),_r=!!(document.createElementNS&&Se("svg").createSVGRect),Tt=!!_r&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),pt=!_r&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),yt=navigator.platform.indexOf("Mac")===0,Gt=navigator.platform.indexOf("Linux")===0;function Sn(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ke={ie:Ce,ielt9:Ne,edge:Be,webkit:Xe,android:Ye,android23:Ut,androidStock:St,opera:At,chrome:Ht,gecko:qt,safari:Vt,phantom:Je,opera12:$t,win:hn,ie3d:jt,webkit3d:Xt,gecko3d:en,any3d:H,mobile:ye,mobileWebkit:V,mobileWebkit3d:ee,msPointer:de,pointer:ve,touch:We,touchNative:we,mobileOpera:ce,mobileGecko:ze,retina:Ie,passiveEvents:nt,canvas:zt,svg:_r,vml:pt,inlineSvg:Tt,mac:yt,linux:Gt},bi=Ke.msPointer?"MSPointerDown":"pointerdown",ga=Ke.msPointer?"MSPointerMove":"pointermove",fu=Ke.msPointer?"MSPointerUp":"pointerup",hu=Ke.msPointer?"MSPointerCancel":"pointercancel",Fl={touchstart:bi,touchmove:ga,touchend:fu,touchcancel:hu},Ns={touchstart:mn,touchmove:va,touchend:va,touchcancel:va},Ws={},$l=!1;function $f(s,l,h){return l==="touchstart"&&zf(),Ns[l]?(h=Ns[l].bind(this,h),s.addEventListener(Fl[l],h,!1),h):(console.warn("wrong event specified:",l),b)}function mu(s,l,h){if(!Fl[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Fl[l],h,!1)}function pu(s){Ws[s.pointerId]=s}function gu(s){Ws[s.pointerId]&&(Ws[s.pointerId]=s)}function zl(s){delete Ws[s.pointerId]}function zf(){$l||(document.addEventListener(bi,pu,!0),document.addEventListener(ga,gu,!0),document.addEventListener(fu,zl,!0),document.addEventListener(hu,zl,!0),$l=!0)}function va(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Ws)l.touches.push(Ws[h]);l.changedTouches=[l],s(l)}}function mn(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&pn(l),va(s,l)}function Bf(s){var l={},h,x;for(x in s)h=s[x],l[x]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Bl=200;function vu(s,l){s.addEventListener("dblclick",l);var h=0,x;function E(A){if(A.detail!==1){x=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var W=qs(A);if(!(W.some(function(fe){return fe instanceof HTMLLabelElement&&fe.attributes.for})&&!W.some(function(fe){return fe instanceof HTMLInputElement||fe instanceof HTMLSelectElement}))){var se=Date.now();se-h<=Bl?(x++,x===2&&l(Bf(A))):x=1,h=se}}}return s.addEventListener("click",E),{dblclick:l,simDblclick:E}}function xa(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Ul=bo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yo=bo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ni=yo==="webkitTransition"||yo==="OTransition"?yo+"End":"transitionend";function br(s){return typeof s=="string"?document.getElementById(s):s}function Si(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(s,null);h=x?x[l]:null}return h==="auto"?null:h}function bt(s,l,h){var x=document.createElement(s);return x.className=l||"",h&&h.appendChild(x),x}function on(s){var l=s.parentNode;l&&l.removeChild(s)}function ya(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function wo(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function ss(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function _o(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=wa(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function wt(s,l){if(s.classList!==void 0)for(var h=P(l),x=0,E=h.length;x<E;x++)s.classList.add(h[x]);else if(!_o(s,l)){var A=wa(s);Hl(s,(A?A+" ":"")+l)}}function rn(s,l){s.classList!==void 0?s.classList.remove(l):Hl(s,k((" "+wa(s)+" ").replace(" "+l+" "," ")))}function Hl(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function wa(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function zn(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&xu(s,l)}function xu(s,l){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+x+"(opacity="+l+")"}function bo(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function Nr(s,l,h){var x=l||new B(0,0);s.style[Ul]=(Ke.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function wn(s,l){s._leaflet_pos=l,Ke.any3d?Nr(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function os(s){return s._leaflet_pos||new B(0,0)}var Bt,No,_a;if("onselectstart"in document)Bt=function(){gt(window,"selectstart",pn)},No=function(){tn(window,"selectstart",pn)};else{var Vs=bo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Bt=function(){if(Vs){var s=document.documentElement.style;_a=s[Vs],s[Vs]="none"}},No=function(){Vs&&(document.documentElement.style[Vs]=_a,_a=void 0)}}function ba(){gt(window,"dragstart",pn)}function Na(){tn(window,"dragstart",pn)}var ji,Ei;function So(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Sr(),ji=s,Ei=s.style.outlineStyle,s.style.outlineStyle="none",gt(window,"keydown",Sr))}function Sr(){ji&&(ji.style.outlineStyle=Ei,ji=void 0,Ei=void 0,tn(window,"keydown",Sr))}function is(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Fr(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Ci={__proto__:null,TRANSFORM:Ul,TRANSITION:yo,TRANSITION_END:Ni,get:br,getStyle:Si,create:bt,remove:on,empty:ya,toFront:wo,toBack:ss,hasClass:_o,addClass:wt,removeClass:rn,setClass:Hl,getClass:wa,setOpacity:zn,testProp:bo,setTransform:Nr,setPosition:wn,getPosition:os,get disableTextSelection(){return Bt},get enableTextSelection(){return No},disableImageDrag:ba,enableImageDrag:Na,preventOutline:So,restoreOutline:Sr,getSizedParentNode:is,getScale:Fr};function gt(s,l,h,x){if(l&&typeof l=="object")for(var E in l)Vl(s,E,l[E],h);else{l=P(l);for(var A=0,W=l.length;A<W;A++)Vl(s,l[A],h,x)}return this}var kn="_leaflet_events";function tn(s,l,h,x){if(arguments.length===1)Wl(s),delete s[kn];else if(l&&typeof l=="object")for(var E in l)Sa(s,E,l[E],h);else if(l=P(l),arguments.length===2)Wl(s,function(se){return O(l,se)!==-1});else for(var A=0,W=l.length;A<W;A++)Sa(s,l[A],h,x);return this}function Wl(s,l){for(var h in s[kn]){var x=h.split(/\d/)[0];(!l||l(x))&&Sa(s,x,null,null,h)}}var Zs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vl(s,l,h,x){var E=l+g(h)+(x?"_"+g(x):"");if(s[kn]&&s[kn][E])return this;var A=function(se){return h.call(x||s,se||window.event)},W=A;!Ke.touchNative&&Ke.pointer&&l.indexOf("touch")===0?A=$f(s,l,A):Ke.touch&&l==="dblclick"?A=vu(s,A):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Zs[l]||l,A,Ke.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(A=function(se){se=se||window.event,ki(s,se)&&W(se)},s.addEventListener(Zs[l],A,!1)):s.addEventListener(l,W,!1):s.attachEvent("on"+l,A),s[kn]=s[kn]||{},s[kn][E]=A}function Sa(s,l,h,x,E){E=E||l+g(h)+(x?"_"+g(x):"");var A=s[kn]&&s[kn][E];if(!A)return this;!Ke.touchNative&&Ke.pointer&&l.indexOf("touch")===0?mu(s,l,A):Ke.touch&&l==="dblclick"?xa(s,A):"removeEventListener"in s?s.removeEventListener(Zs[l]||l,A,!1):s.detachEvent("on"+l,A),s[kn][E]=null}function $r(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function ja(s){return Vl(s,"wheel",$r),this}function Pi(s){return gt(s,"mousedown touchstart dblclick contextmenu",$r),s._leaflet_disable_click=!0,this}function pn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function jr(s){return pn(s),$r(s),this}function qs(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function Ti(s,l){if(!l)return new B(s.clientX,s.clientY);var h=Fr(l),x=h.boundingClientRect;return new B((s.clientX-x.left)/h.x-l.clientLeft,(s.clientY-x.top)/h.y-l.clientTop)}var Uf=Ke.linux&&Ke.chrome?window.devicePixelRatio:Ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yu(s){return Ke.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Uf:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ki(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Ea={__proto__:null,on:gt,off:tn,stopPropagation:$r,disableScrollPropagation:ja,disableClickPropagation:Pi,preventDefault:pn,stop:jr,getPropagationPath:qs,getMousePosition:Ti,getWheelDelta:yu,isExternalTarget:ki,addListener:gt,removeListener:tn},Ca=_e.extend({run:function(s,l,h,x){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=os(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ne(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),wn(this._el,h),this.fire("step")},_complete:function(){ge(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Ft=_e.extend({options:{crs:rt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=j(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(F(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yo&&Ke.any3d&&!Ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),gt(this._proxy,Ni,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter(F(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var x=this.getZoomScale(l),E=this.getSize().divideBy(2),A=s instanceof B?s:this.latLngToContainerPoint(s),W=A.subtract(E).multiplyBy(1-1/x),se=this.containerPointToLatLng(E.add(W));return this.setView(se,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Le(s);var h=ie(l.paddingTopLeft||l.padding||[0,0]),x=ie(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(s,!1,h.add(x));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:s.getCenter(),zoom:E};var A=x.subtract(h).divideBy(2),W=this.project(s.getSouthWest(),E),se=this.project(s.getNorthEast(),E),fe=this.unproject(W.add(se).divideBy(2).add(A),E);return{center:fe,zoom:E}},fitBounds:function(s,l){if(s=Le(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=ie(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ca,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){wt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!Ke.any3d)return this.setView(s,l,h);this._stop();var x=this.project(this.getCenter()),E=this.project(s),A=this.getSize(),W=this._zoom;s=F(s),l=l===void 0?W:l;var se=Math.max(A.x,A.y),fe=se*this.getZoomScale(W,l),ke=E.distanceTo(x)||1,Ve=1.42,it=Ve*Ve;function Et(Yt){var $o=Yt?-1:1,nh=Yt?fe:se,rh=fe*fe-se*se+$o*it*it*ke*ke,eo=2*nh*it*ke,to=rh/eo,no=Math.sqrt(to*to+1)-to,Ba=no<1e-9?-18:Math.log(no);return Ba}function Mn(Yt){return(Math.exp(Yt)-Math.exp(-Yt))/2}function En(Yt){return(Math.exp(Yt)+Math.exp(-Yt))/2}function Jn(Yt){return Mn(Yt)/En(Yt)}var Un=Et(0);function Io(Yt){return se*(En(Un)/En(Un+Ve*Yt))}function fc(Yt){return se*(En(Un)*Jn(Un+Ve*Yt)-Mn(Un))/it}function Ms(Yt){return 1-Math.pow(1-Yt,1.5)}var zu=Date.now(),Js=(Et(1)-Un)/Ve,Hr=h.duration?1e3*h.duration:1e3*Js*.8;function Fo(){var Yt=(Date.now()-zu)/Hr,$o=Ms(Yt)*Js;Yt<=1?(this._flyToFrame=ne(Fo,this),this._move(this.unproject(x.add(E.subtract(x).multiplyBy(fc($o)/ke)),W),this.getScaleZoom(se/Io($o),W),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Fo.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=Le(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,Le(s));return h.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=ie(l.paddingTopLeft||l.padding||[0,0]),x=ie(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),A=this.project(s),W=this.getPixelBounds(),se=te([W.min.add(h),W.max.subtract(x)]),fe=se.getSize();if(!se.contains(A)){this._enforcingBounds=!0;var ke=A.subtract(se.getCenter()),Ve=se.extend(A).getSize().subtract(fe);E.x+=ke.x<0?-Ve.x:Ve.x,E.y+=ke.y<0?-Ve.y:Ve.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=c({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=l.divideBy(2).round(),E=h.divideBy(2).round(),A=x.subtract(E);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=c({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,x=new Ee(l,h),E=x.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var W=this.getBoundsZoom(E);this.setView(x,A.maxZoom?Math.min(W,A.maxZoom):W)}var se={latlng:x,bounds:E,timestamp:s.timestamp};for(var fe in s.coords)typeof s.coords[fe]=="number"&&(se[fe]=s.coords[fe]);this.fire("locationfound",se)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),on(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ge(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)on(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),x=bt("div",h,l||this._mapPane);return s&&(this._panes[s]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new Pe(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=Le(s),h=ie(h||[0,0]);var x=this.getZoom()||0,E=this.getMinZoom(),A=this.getMaxZoom(),W=s.getNorthWest(),se=s.getSouthEast(),fe=this.getSize().subtract(h),ke=te(this.project(se,x),this.project(W,x)).getSize(),Ve=Ke.any3d?this.options.zoomSnap:1,it=fe.x/ke.x,Et=fe.y/ke.y,Mn=l?Math.max(it,Et):Math.min(it,Et);return x=this.getScaleZoom(Mn,x),Ve&&(x=Math.round(x/(Ve/100))*(Ve/100),x=l?Math.ceil(x/Ve)*Ve:Math.floor(x/Ve)*Ve),Math.max(E,Math.min(A,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new B(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new $(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var x=h.zoom(s*h.scale(l));return isNaN(x)?1/0:x},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(F(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(ie(s),l)},layerPointToLatLng:function(s){var l=ie(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project(F(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(F(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Le(s))},distance:function(s,l){return this.options.crs.distance(F(s),F(l))},containerPointToLayerPoint:function(s){return ie(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return ie(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(ie(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(s)))},mouseEventToContainerPoint:function(s){return Ti(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=br(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");gt(l,"scroll",this._onScroll,this),this._containerId=g(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke.any3d,wt(s,"leaflet-container"+(Ke.touch?" leaflet-touch":"")+(Ke.retina?" leaflet-retina":"")+(Ke.ielt9?" leaflet-oldie":"")+(Ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Si(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),wn(this._mapPane,new B(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(s.markerPane,"leaflet-zoom-hide"),wt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){wn(this._mapPane,new B(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,h)._move(s,l)._moveEnd(E),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,x){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),x?h&&h.pinch&&this.fire("zoom",h):((E||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ge(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){wn(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[g(this._container)]=this;var l=s?tn:gt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ke.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ge(this._resizeRequest),this._resizeRequest=ne(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],x,E=l==="mouseout"||l==="mouseover",A=s.target||s.srcElement,W=!1;A;){if(x=this._targets[g(A)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){W=!0;break}if(x&&x.listens(l,!0)&&(E&&!ki(A,s)||(h.push(x),E))||A===this._container)break;A=A.parentNode}return!h.length&&!W&&!E&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&So(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var x=c({},s);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var E=this._findEventTargets(s,l);if(h){for(var A=[],W=0;W<h.length;W++)h[W].listens(l,!0)&&A.push(h[W]);E=A.concat(E)}if(E.length){l==="contextmenu"&&pn(s);var se=E[0],fe={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ke=se.getLatLng&&(!se._radius||se._radius<=10);fe.containerPoint=ke?this.latLngToContainerPoint(se.getLatLng()):this.mouseEventToContainerPoint(s),fe.layerPoint=this.containerPointToLayerPoint(fe.containerPoint),fe.latlng=ke?se.getLatLng():this.layerPointToLatLng(fe.layerPoint)}for(W=0;W<E.length;W++)if(E[W].fire(l,fe,!0),fe.originalEvent._stopped||E[W].options.bubblingMouseEvents===!1&&O(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return os(this._mapPane)||new B(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var x=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(s,l,h){var x=this._getNewPixelOrigin(h,l);return te([this.project(s.getSouthWest(),l)._subtract(x),this.project(s.getNorthWest(),l)._subtract(x),this.project(s.getSouthEast(),l)._subtract(x),this.project(s.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var x=this.project(s,l),E=this.getSize().divideBy(2),A=new $(x.subtract(E),x.add(E)),W=this._getBoundsOffset(A,h,l);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?s:this.unproject(x.add(W),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),x=new $(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(s,l,h){var x=te(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),E=x.min.subtract(s.min),A=x.max.subtract(s.max),W=this._rebound(E.x,-A.x),se=this._rebound(E.y,-A.y);return new B(W,se)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),x=Ke.any3d?this.options.zoomSnap:1;return x&&(s=Math.round(s/x)*x),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){rn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=bt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=Ul,x=this._proxy.style[h];Nr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){on(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Nr(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),E=this._getCenterOffset(s)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(E)?!1:(ne(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&rn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ss(s,l){return new Ft(s,l)}var Xn=me.extend({options:{position:"topright"},initialize:function(s){j(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),x=s._controlCorners[h];return wt(l,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(on(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),js=function(s){return new Xn(s)};Ft.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=bt("div",l+"control-container",this._container);function x(E,A){var W=l+E+" "+l+A;s[E+A]=bt("div",W,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)on(this._controlCorners[s]);on(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zl=Xn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,x){return h<x?-1:x<h?1:0}},initialize:function(s,l,h){j(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in s)this._addLayer(s[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return Xn.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(g(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):rn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return rn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=bt("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Pi(l),ja(l);var x=this._section=bt("section",s+"-list");h&&(this._map.on("click",this.collapse,this),gt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=bt("a",s+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),gt(E,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){pn(A),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=bt("div",s+"-base",x),this._separator=bt("div",s+"-separator",x),this._overlaysList=bt("div",s+"-overlays",x),l.appendChild(x)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&g(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(x,E){return this.options.sortFunction(x.layer,E.layer,x.name,E.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ya(this._baseLayersList),ya(this._overlaysList),this._layerControlInputs=[];var s,l,h,x,E=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),l=l||x.overlay,s=s||!x.overlay,E+=x.overlay?0:1;return this.options.hideSingleBase&&(s=s&&E>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(g(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),x;s.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+g(this),h),this._layerControlInputs.push(x),x.layerId=g(s.layer),gt(x,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+s.name;var A=document.createElement("span");l.appendChild(A),A.appendChild(x),A.appendChild(E);var W=s.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,x=[],E=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)l=s[A],h=this._getLayer(l.layerId).layer,l.checked?x.push(h):l.checked||E.push(h);for(A=0;A<E.length;A++)this._map.hasLayer(E[A])&&this._map.removeLayer(E[A]);for(A=0;A<x.length;A++)this._map.hasLayer(x[A])||this._map.addLayer(x[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,x=this._map.getZoom(),E=s.length-1;E>=0;E--)l=s[E],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,gt(s,"click",pn),this.expand();var l=this;setTimeout(function(){tn(s,"click",pn),l._preventClick=!1})}}),Pa=function(s,l,h){return new Zl(s,l,h)},jo=Xn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=bt("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,x,E){var A=bt("a",h,x);return A.innerHTML=s,A.href="#",A.title=l,A.setAttribute("role","button"),A.setAttribute("aria-label",l),Pi(A),gt(A,"click",jr),gt(A,"click",E,this),gt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";rn(this._zoomInButton,l),rn(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(wt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(wt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ft.mergeOptions({zoomControl:!0}),Ft.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new jo,this.addControl(this.zoomControl))});var wu=function(s){return new jo(s)},Bn=Xn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=bt("div",l),x=this.options;return this._addScales(x,l+"-line",h),s.on(x.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=bt("div",l,h)),s.imperial&&(this._iScale=bt("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,x,E;l>5280?(h=l/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),Eo=function(s){return new Bn(s)},ql='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Gs=Xn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ke.inlineSvg?ql+" ":"")+"Leaflet</a>"},initialize:function(s){j(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=bt("div","leaflet-control-attribution"),Pi(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Ft.mergeOptions({attributionControl:!0}),Ft.addInitHook(function(){this.options.attributionControl&&new Gs().addTo(this)});var Hf=function(s){return new Gs(s)};Xn.Layers=Zl,Xn.Zoom=jo,Xn.Scale=Bn,Xn.Attribution=Gs,js.layers=Pa,js.zoom=wu,js.scale=Eo,js.attribution=Hf;var lr=me.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});lr.addTo=function(s,l){return s.addHandler(l,this),this};var Gl={Events:J},Co=Ke.touch?"touchstart mousedown":"mousedown",Er=_e.extend({options:{clickTolerance:3},initialize:function(s,l,h,x){j(this,x),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(gt(this._dragStartTarget,Co,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Er._dragging===this&&this.finishDrag(!0),tn(this._dragStartTarget,Co,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!_o(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Er._dragging===this&&this.finishDrag();return}if(!(Er._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Er._dragging=this,this._preventOutline&&So(this._element),ba(),Bt(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=is(this._element);this._startPoint=new B(l.clientX,l.clientY),this._startPos=os(this._element),this._parentScale=Fr(h);var x=s.type==="mousedown";gt(document,x?"mousemove":"touchmove",this._onMove,this),gt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new B(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,pn(s),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),wn(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){rn(document.body,"leaflet-dragging"),this._lastTarget&&(rn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tn(document,"mousemove touchmove",this._onMove,this),tn(document,"mouseup touchend touchcancel",this._onUp,this),Na(),No();var l=this._moved&&this._moving;this._moving=!1,Er._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Yl(s,l,h){var x,E=[1,4,2,8],A,W,se,fe,ke,Ve,it,Et;for(A=0,Ve=s.length;A<Ve;A++)s[A]._code=Ys(s[A],l);for(se=0;se<4;se++){for(it=E[se],x=[],A=0,Ve=s.length,W=Ve-1;A<Ve;W=A++)fe=s[A],ke=s[W],fe._code&it?ke._code&it||(Et=ka(ke,fe,it,l,h),Et._code=Ys(Et,l),x.push(Et)):(ke._code&it&&(Et=ka(ke,fe,it,l,h),Et._code=Ys(Et,l),x.push(Et)),x.push(fe));s=x}return s}function _u(s,l){var h,x,E,A,W,se,fe,ke,Ve;if(!s||s.length===0)throw new Error("latlngs not passed");cr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var it=F([0,0]),Et=Le(s),Mn=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Mn<1700&&(it=Kl(s));var En=s.length,Jn=[];for(h=0;h<En;h++){var Un=F(s[h]);Jn.push(l.project(F([Un.lat-it.lat,Un.lng-it.lng])))}for(se=fe=ke=0,h=0,x=En-1;h<En;x=h++)E=Jn[h],A=Jn[x],W=E.y*A.x-A.y*E.x,fe+=(E.x+A.x)*W,ke+=(E.y+A.y)*W,se+=W*3;se===0?Ve=Jn[0]:Ve=[fe/se,ke/se];var Io=l.unproject(ie(Ve));return F([Io.lat+it.lat,Io.lng+it.lng])}function Kl(s){for(var l=0,h=0,x=0,E=0;E<s.length;E++){var A=F(s[E]);l+=A.lat,h+=A.lng,x++}return F([l/x,h/x])}var Wf={__proto__:null,clipPolygon:Yl,polygonCenter:_u,centroid:Kl};function Ta(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=qf(s,h),s=Zf(s,h),s}function bu(s,l,h){return Math.sqrt(Ks(s,l,h,!0))}function Vf(s,l,h){return Ks(s,l,h)}function Zf(s,l){var h=s.length,x=typeof Uint8Array<"u"?Uint8Array:Array,E=new x(h);E[0]=E[h-1]=1,Xl(s,E,l,0,h-1);var A,W=[];for(A=0;A<h;A++)E[A]&&W.push(s[A]);return W}function Xl(s,l,h,x,E){var A=0,W,se,fe;for(se=x+1;se<=E-1;se++)fe=Ks(s[se],s[x],s[E],!0),fe>A&&(W=se,A=fe);A>h&&(l[W]=1,Xl(s,l,h,x,W),Xl(s,l,h,W,E))}function qf(s,l){for(var h=[s[0]],x=1,E=0,A=s.length;x<A;x++)Gf(s[x],s[E])>l&&(h.push(s[x]),E=x);return E<A-1&&h.push(s[A-1]),h}var Ql;function Nu(s,l,h,x,E){var A=x?Ql:Ys(s,h),W=Ys(l,h),se,fe,ke;for(Ql=W;;){if(!(A|W))return[s,l];if(A&W)return!1;se=A||W,fe=ka(s,l,se,h,E),ke=Ys(fe,h),se===A?(s=fe,A=ke):(l=fe,W=ke)}}function ka(s,l,h,x,E){var A=l.x-s.x,W=l.y-s.y,se=x.min,fe=x.max,ke,Ve;return h&8?(ke=s.x+A*(fe.y-s.y)/W,Ve=fe.y):h&4?(ke=s.x+A*(se.y-s.y)/W,Ve=se.y):h&2?(ke=fe.x,Ve=s.y+W*(fe.x-s.x)/A):h&1&&(ke=se.x,Ve=s.y+W*(se.x-s.x)/A),new B(ke,Ve,E)}function Ys(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function Gf(s,l){var h=l.x-s.x,x=l.y-s.y;return h*h+x*x}function Ks(s,l,h,x){var E=l.x,A=l.y,W=h.x-E,se=h.y-A,fe=W*W+se*se,ke;return fe>0&&(ke=((s.x-E)*W+(s.y-A)*se)/fe,ke>1?(E=h.x,A=h.y):ke>0&&(E+=W*ke,A+=se*ke)),W=s.x-E,se=s.y-A,x?W*W+se*se:new B(E,A)}function cr(s){return!M(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Su(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),cr(s)}function ju(s,l){var h,x,E,A,W,se,fe,ke;if(!s||s.length===0)throw new Error("latlngs not passed");cr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ve=F([0,0]),it=Le(s),Et=it.getNorthWest().distanceTo(it.getSouthWest())*it.getNorthEast().distanceTo(it.getNorthWest());Et<1700&&(Ve=Kl(s));var Mn=s.length,En=[];for(h=0;h<Mn;h++){var Jn=F(s[h]);En.push(l.project(F([Jn.lat-Ve.lat,Jn.lng-Ve.lng])))}for(h=0,x=0;h<Mn-1;h++)x+=En[h].distanceTo(En[h+1])/2;if(x===0)ke=En[0];else for(h=0,A=0;h<Mn-1;h++)if(W=En[h],se=En[h+1],E=W.distanceTo(se),A+=E,A>x){fe=(A-x)/E,ke=[se.x-fe*(se.x-W.x),se.y-fe*(se.y-W.y)];break}var Un=l.unproject(ie(ke));return F([Un.lat+Ve.lat,Un.lng+Ve.lng])}var Eu={__proto__:null,simplify:Ta,pointToSegmentDistance:bu,closestPointOnSegment:Vf,clipSegment:Nu,_getEdgeIntersection:ka,_getBitCode:Ys,_sqClosestPointOnSegment:Ks,isFlat:cr,_flat:Su,polylineCenter:ju},Jl={project:function(s){return new B(s.lng,s.lat)},unproject:function(s){return new Ee(s.y,s.x)},bounds:new $([-180,-90],[180,90])},ec={R:6378137,R_MINOR:6356752314245179e-9,bounds:new $([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,x=s.lat*l,E=this.R_MINOR/h,A=Math.sqrt(1-E*E),W=A*Math.sin(x),se=Math.tan(Math.PI/4-x/2)/Math.pow((1-W)/(1+W),A/2);return x=-h*Math.log(Math.max(se,1e-10)),new B(s.lng*l*h,x)},unproject:function(s){for(var l=180/Math.PI,h=this.R,x=this.R_MINOR/h,E=Math.sqrt(1-x*x),A=Math.exp(-s.y/h),W=Math.PI/2-2*Math.atan(A),se=0,fe=.1,ke;se<15&&Math.abs(fe)>1e-7;se++)ke=E*Math.sin(W),ke=Math.pow((1-ke)/(1+ke),E/2),fe=Math.PI/2-2*Math.atan(A*ke)-W,W+=fe;return new Ee(W*l,s.x*l/h)}},Yf={__proto__:null,LonLat:Jl,Mercator:ec,SphericalMercator:Me},Kf=c({},ue,{code:"EPSG:3395",projection:ec,transformation:function(){var s=.5/(Math.PI*ec.R);return Ze(s,.5,-s,.5)}()}),Cu=c({},ue,{code:"EPSG:4326",projection:Jl,transformation:Ze(1/180,1,-1/180,.5)}),Xf=c({},K,{projection:Jl,transformation:Ze(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,x=l.lat-s.lat;return Math.sqrt(h*h+x*x)},infinite:!0});K.Earth=ue,K.EPSG3395=Kf,K.EPSG3857=rt,K.EPSG900913=xt,K.EPSG4326=Cu,K.Simple=Xf;var Cr=_e.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[g(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[g(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ft.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=g(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=g(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return g(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?M(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[g(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=g(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var E=this._zoomBoundLayers[x].options;s=E.minZoom===void 0?s:Math.min(s,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Es=Cr.extend({initialize:function(s,l){j(this,l),this._layers={};var h,x;if(s)for(h=0,x=s.length;h<x;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[s]&&x[s].apply(x,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return g(s)}}),Mi=function(s,l){return new Es(s,l)},as=Es.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Es.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Es.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Pe;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Pu=function(s,l){return new as(s,l)},Xs=me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){j(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(s,l){var h=this.options,x=h[l+"Size"];typeof x=="number"&&(x=[x,x]);var E=ie(x),A=ie(l==="shadow"&&h.shadowAnchor||h.iconAnchor||E&&E.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),E&&(s.style.width=E.x+"px",s.style.height=E.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return Ke.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Tu(s){return new Xs(s)}var Po=Xs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Po.imagePath!="string"&&(Po.imagePath=this._detectIconPath()),(this.options.imagePath||Po.imagePath)+Xs.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,x,E){var A=x.exec(h);return A&&A[E]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=bt("div","leaflet-default-icon-path",document.body),l=Si(s,"background-image")||Si(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),tc=lr.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Er(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&rn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,x=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,A=os(l._icon),W=h.getPixelBounds(),se=h.getPixelOrigin(),fe=te(W.min._subtract(se).add(E),W.max._subtract(se).subtract(E));if(!fe.contains(A)){var ke=ie((Math.max(fe.max.x,A.x)-fe.max.x)/(W.max.x-fe.max.x)-(Math.min(fe.min.x,A.x)-fe.min.x)/(W.min.x-fe.min.x),(Math.max(fe.max.y,A.y)-fe.max.y)/(W.max.y-fe.max.y)-(Math.min(fe.min.y,A.y)-fe.min.y)/(W.min.y-fe.min.y)).multiplyBy(x);h.panBy(ke,{animate:!1}),this._draggable._newPos._add(ke),this._draggable._startPos._add(ke),wn(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ne(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(ge(this._panRequest),this._panRequest=ne(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,x=os(l._icon),E=l._map.layerPointToLatLng(x);h&&wn(h,x),l._latlng=E,s.latlng=E,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){ge(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ls=Cr.extend({options:{icon:new Po,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){j(this,l),this._latlng=F(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=F(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),wt(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gt(h,"focus",this._panOnFocus,this);var E=s.icon.createShadow(this._shadow),A=!1;E!==this._shadow&&(this._removeShadow(),A=!0),E&&(wt(E,l),E.alt=""),this._shadow=E,s.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tn(this._icon,"focus",this._panOnFocus,this),on(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&on(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&wn(this._icon,s),this._shadow&&wn(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tc)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tc(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&zn(this._icon,s),this._shadow&&zn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?ie(l.iconSize):ie(0,0),x=l.iconAnchor?ie(l.iconAnchor):ie(0,0);s.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qf(s,l){return new ls(s,l)}var Cs=Cr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return j(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ma=Cs.extend({options:{fill:!0,radius:10},initialize:function(s,l){j(this,l),this._latlng=F(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=F(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Cs.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),x=[s+h,l+h];this._pxBounds=new $(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ku(s,l){return new Ma(s,l)}var Ra=Ma.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),j(this,l),this._latlng=F(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Pe(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Cs.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===ue.distance){var E=Math.PI/180,A=this._mRadius/ue.R/E,W=h.project([l+A,s]),se=h.project([l-A,s]),fe=W.add(se).divideBy(2),ke=h.unproject(fe).lat,Ve=Math.acos((Math.cos(A*E)-Math.sin(l*E)*Math.sin(ke*E))/(Math.cos(l*E)*Math.cos(ke*E)))/E;(isNaN(Ve)||Ve===0)&&(Ve=A/Math.cos(Math.PI/180*l)),this._point=fe.subtract(h.getPixelOrigin()),this._radius=isNaN(Ve)?0:fe.x-h.project([ke,s-Ve]).x,this._radiusY=fe.y-W.y}else{var it=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(it).x}this._updateBounds()}});function Ri(s,l,h){return new Ra(s,l,h)}var Qn=Cs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){j(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,x=Ks,E,A,W=0,se=this._parts.length;W<se;W++)for(var fe=this._parts[W],ke=1,Ve=fe.length;ke<Ve;ke++){E=fe[ke-1],A=fe[ke];var it=x(s,E,A,!0);it<l&&(l=it,h=x(s,E,A))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ju(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=F(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Pe,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return cr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=cr(s),x=0,E=s.length;x<E;x++)h?(l[x]=F(s[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(s[x]);return l},_project:function(){var s=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new B(s,s);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var x=s[0]instanceof Ee,E=s.length,A,W;if(x){for(W=[],A=0;A<E;A++)W[A]=this._map.latLngToLayerPoint(s[A]),h.extend(W[A]);l.push(W)}else for(A=0;A<E;A++)this._projectLatlngs(s[A],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,x,E,A,W,se,fe;for(h=0,E=0,A=this._rings.length;h<A;h++)for(fe=this._rings[h],x=0,W=fe.length;x<W-1;x++)se=Nu(fe[x],fe[x+1],s,x,!0),se&&(l[E]=l[E]||[],l[E].push(se[0]),(se[1]!==fe[x+1]||x===W-2)&&(l[E].push(se[1]),E++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,x=s.length;h<x;h++)s[h]=Ta(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,x,E,A,W,se,fe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,A=this._parts.length;h<A;h++)for(se=this._parts[h],x=0,W=se.length,E=W-1;x<W;E=x++)if(!(!l&&x===0)&&bu(s,se[E],se[x])<=fe)return!0;return!1}});function Jf(s,l){return new Qn(s,l)}Qn._flat=Su;var cs=Qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _u(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=Qn.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof Ee&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){Qn.prototype._setLatLngs.call(this,s),cr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return cr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new B(l,l);if(s=new $(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,E=this._rings.length,A;x<E;x++)A=Yl(this._rings[x],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,x,E,A,W,se,fe,ke;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,fe=this._parts.length;A<fe;A++)for(h=this._parts[A],W=0,ke=h.length,se=ke-1;W<ke;se=W++)x=h[W],E=h[se],x.y>s.y!=E.y>s.y&&s.x<(E.x-x.x)*(s.y-x.y)/(E.y-x.y)+x.x&&(l=!l);return l||Qn.prototype._containsPoint.call(this,s,!0)}});function eh(s,l){return new cs(s,l)}var zr=as.extend({initialize:function(s,l){j(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=M(s)?s:s.features,h,x,E;if(l){for(h=0,x=l.length;h<x;h++)E=l[h],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var W=To(s,A);return W?(W.feature=Ia(s),W.defaultOptions=W.options,this.resetStyle(W),A.onEachFeature&&A.onEachFeature(s,W),this.addLayer(W)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=c({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function To(s,l){var h=s.type==="Feature"?s.geometry:s,x=h?h.coordinates:null,E=[],A=l&&l.pointToLayer,W=l&&l.coordsToLatLng||Aa,se,fe,ke,Ve;if(!x&&!h)return null;switch(h.type){case"Point":return se=W(x),La(A,s,se,l);case"MultiPoint":for(ke=0,Ve=x.length;ke<Ve;ke++)se=W(x[ke]),E.push(La(A,s,se,l));return new as(E);case"LineString":case"MultiLineString":return fe=Li(x,h.type==="LineString"?0:1,W),new Qn(fe,l);case"Polygon":case"MultiPolygon":return fe=Li(x,h.type==="Polygon"?1:2,W),new cs(fe,l);case"GeometryCollection":for(ke=0,Ve=h.geometries.length;ke<Ve;ke++){var it=To({geometry:h.geometries[ke],type:"Feature",properties:s.properties},l);it&&E.push(it)}return new as(E);case"FeatureCollection":for(ke=0,Ve=h.features.length;ke<Ve;ke++){var Et=To(h.features[ke],l);Et&&E.push(Et)}return new as(E);default:throw new Error("Invalid GeoJSON object.")}}function La(s,l,h,x){return s?s(l,h):new ls(h,x&&x.markersInheritOptions&&x)}function Aa(s){return new Ee(s[1],s[0],s[2])}function Li(s,l,h){for(var x=[],E=0,A=s.length,W;E<A;E++)W=l?Li(s[E],l-1,h):(h||Aa)(s[E]),x.push(W);return x}function Da(s,l){return s=F(s),s.alt!==void 0?[S(s.lng,l),S(s.lat,l),S(s.alt,l)]:[S(s.lng,l),S(s.lat,l)]}function Oa(s,l,h,x){for(var E=[],A=0,W=s.length;A<W;A++)E.push(l?Oa(s[A],cr(s[A])?0:l-1,h,x):Da(s[A],x));return!l&&h&&E.length>0&&E.push(E[0].slice()),E}function ko(s,l){return s.feature?c({},s.feature,{geometry:l}):Ia(l)}function Ia(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var nc={toGeoJSON:function(s){return ko(this,{type:"Point",coordinates:Da(this.getLatLng(),s)})}};ls.include(nc),Ra.include(nc),Ma.include(nc),Qn.include({toGeoJSON:function(s){var l=!cr(this._latlngs),h=Oa(this._latlngs,l?1:0,!1,s);return ko(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),cs.include({toGeoJSON:function(s){var l=!cr(this._latlngs),h=l&&!cr(this._latlngs[0]),x=Oa(this._latlngs,h?2:l?1:0,!0,s);return l||(x=[x]),ko(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),Es.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),ko(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",x=[];return this.eachLayer(function(E){if(E.toGeoJSON){var A=E.toGeoJSON(s);if(h)x.push(A.geometry);else{var W=Ia(A);W.type==="FeatureCollection"?x.push.apply(x,W.features):x.push(W)}}}),h?ko(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Mu(s,l){return new zr(s,l)}var Pr=Mu,Ps=Cr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=Le(l),j(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){on(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&wo(this._image),this},bringToBack:function(){return this._map&&ss(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Le(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:bt("img");if(wt(l,"leaflet-image-layer"),this._zoomAnimated&&wt(l,"leaflet-zoom-animated"),this.options.className&&wt(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Nr(this._image,h,l)},_reset:function(){var s=this._image,l=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();wn(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){zn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Ru=function(s,l,h){return new Ps(s,l,h)},rc=Ps.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:bt("video");if(wt(l,"leaflet-image-layer"),this._zoomAnimated&&wt(l,"leaflet-zoom-animated"),this.options.className&&wt(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onloadeddata=f(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),x=[],E=0;E<h.length;E++)x.push(h[E].src);this._url=h.length>0?x:[l.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var W=bt("source");W.src=this._url[A],l.appendChild(W)}}});function Lu(s,l,h){return new rc(s,l,h)}var sc=Ps.extend({_initImage:function(){var s=this._image=this._url;wt(s,"leaflet-image-layer"),this._zoomAnimated&&wt(s,"leaflet-zoom-animated"),this.options.className&&wt(s,this.options.className),s.onselectstart=b,s.onmousemove=b}});function oc(s,l,h){return new sc(s,l,h)}var Br=Cr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof Ee||M(s))?(this._latlng=F(s),j(this,l)):(j(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&zn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&zn(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(zn(this._container,0),this._removeTimeout=setTimeout(f(on,void 0,this._container),200)):on(this._container),this.options.interactive&&(rn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=F(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wo(this._container),this},bringToBack:function(){return this._map&&ss(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof as){l=null;var h=this._source._layers;for(var x in h)if(h[x]._map){l=h[x];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=ie(this.options.offset),h=this._getAnchor();this._zoomAnimated?wn(this._container,s.add(h)):l=l.add(s).add(h);var x=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Ft.include({_initOverlay:function(s,l,h,x){var E=l;return E instanceof s||(E=new s(x).setContent(l)),h&&E.setLatLng(h),E}}),Cr.include({_initOverlay:function(s,l,h,x){var E=h;return E instanceof s?(j(E,x),E._source=this):(E=l&&!x?l:new s(x,this),E.setContent(h)),E}});var Fa=Br.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Br.prototype.openOn.call(this,s)},onAdd:function(s){Br.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cs||this._source.on("preclick",$r))},onRemove:function(s){Br.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cs||this._source.off("preclick",$r))},getEvents:function(){var s=Br.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=bt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=bt("div",s+"-content-wrapper",l);if(this._contentNode=bt("div",s+"-content",h),Pi(l),ja(this._contentNode),gt(l,"contextmenu",$r),this._tipContainer=bt("div",s+"-tip-container",l),this._tip=bt("div",s+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=bt("a",s+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',gt(x,"click",function(E){pn(E),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var x=s.offsetHeight,E=this.options.maxHeight,A="leaflet-popup-scrolled";E&&x>E?(l.height=E+"px",wt(s,A)):rn(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();wn(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Si(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,x=this._containerWidth,E=new B(this._containerLeft,-h-this._containerBottom);E._add(os(this._container));var A=s.layerPointToContainerPoint(E),W=ie(this.options.autoPanPadding),se=ie(this.options.autoPanPaddingTopLeft||W),fe=ie(this.options.autoPanPaddingBottomRight||W),ke=s.getSize(),Ve=0,it=0;A.x+x+fe.x>ke.x&&(Ve=A.x+x-ke.x+fe.x),A.x-Ve-se.x<0&&(Ve=A.x-se.x),A.y+h+fe.y>ke.y&&(it=A.y+h-ke.y+fe.y),A.y-it-se.y<0&&(it=A.y-se.y),(Ve||it)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Ve,it]))}},_getAnchor:function(){return ie(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mo=function(s,l){return new Fa(s,l)};Ft.mergeOptions({closePopupOnClick:!0}),Ft.include({openPopup:function(s,l,h){return this._initOverlay(Fa,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Cr.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Fa,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof as||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){jr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Cs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Ro=Br.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Br.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Br.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Br.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,x=this._map,E=this._container,A=x.latLngToContainerPoint(x.getCenter()),W=x.layerPointToContainerPoint(s),se=this.options.direction,fe=E.offsetWidth,ke=E.offsetHeight,Ve=ie(this.options.offset),it=this._getAnchor();se==="top"?(l=fe/2,h=ke):se==="bottom"?(l=fe/2,h=0):se==="center"?(l=fe/2,h=ke/2):se==="right"?(l=0,h=ke/2):se==="left"?(l=fe,h=ke/2):W.x<A.x?(se="right",l=0,h=ke/2):(se="left",l=fe+(Ve.x+it.x)*2,h=ke/2),s=s.subtract(ie(l,h,!0)).add(Ve).add(it),rn(E,"leaflet-tooltip-right"),rn(E,"leaflet-tooltip-left"),rn(E,"leaflet-tooltip-top"),rn(E,"leaflet-tooltip-bottom"),wt(E,"leaflet-tooltip-"+se),wn(E,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&zn(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return ie(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ai=function(s,l){return new Ro(s,l)};Ft.include({openTooltip:function(s,l,h){return this._initOverlay(Ro,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Cr.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ro,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof as||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(gt(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),gt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,x;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),x=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var $a=Xs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ya(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=ie(h.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Au(s){return new $a(s)}Xs.Default=Po;var Ts=Cr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){j(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),on(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ss(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof B?s:new B(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),x=0,E=l.length,A;x<E;x++)A=l[x].style.zIndex,l[x]!==this._container&&A&&(h=s(h,+A));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ke.ielt9){zn(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var x in this._tiles){var E=this._tiles[x];if(!(!E.current||!E.loaded)){var A=Math.min(1,(s-E.loaded)/200);zn(E.el,A),A<1?l=!0:(E.active?h=!0:this._onOpaqueTile(E),E.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(ge(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=bt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(on(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[s],E=this._map;return x||(x=this._levels[s]={},x.el=bt("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=E.project(E.unproject(E.getPixelOrigin()),s).round(),x.zoom=s,this._setZoomTransform(x,E.getCenter(),E.getZoom()),b(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)on(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,x){var E=Math.floor(s/2),A=Math.floor(l/2),W=h-1,se=new B(+E,+A);se.z=+W;var fe=this._tileCoordsToKey(se),ke=this._tiles[fe];return ke&&ke.active?(ke.retain=!0,!0):(ke&&ke.loaded&&(ke.retain=!0),W>x?this._retainParent(E,A,W,x):!1)},_retainChildren:function(s,l,h,x){for(var E=2*s;E<2*s+2;E++)for(var A=2*l;A<2*l+2;A++){var W=new B(E,A);W.z=h+1;var se=this._tileCoordsToKey(W),fe=this._tiles[se];if(fe&&fe.active){fe.retain=!0;continue}else fe&&fe.loaded&&(fe.retain=!0);h+1<x&&this._retainChildren(E,A,h+1,x)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,x){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var A=this.options.updateWhenZooming&&E!==this._tileZoom;(!x||A)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var x=this._map.getZoomScale(h,s.zoom),E=s.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,h)).round();Ke.any3d?Nr(s.el,E,x):wn(s.el,E)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],x).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],x).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],x).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(h,this._tileZoom),E=l.project(s,this._tileZoom).floor(),A=l.getSize().divideBy(x*2);return new $(E.subtract(A),E.add(A))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(s),E=this._pxBoundsToTileRange(x),A=E.getCenter(),W=[],se=this.options.keepBuffer,fe=new $(E.getBottomLeft().subtract([se,-se]),E.getTopRight().add([se,-se]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ke in this._tiles){var Ve=this._tiles[ke].coords;(Ve.z!==this._tileZoom||!fe.contains(new B(Ve.x,Ve.y)))&&(this._tiles[ke].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var it=E.min.y;it<=E.max.y;it++)for(var Et=E.min.x;Et<=E.max.x;Et++){var Mn=new B(Et,it);if(Mn.z=this._tileZoom,!!this._isValidTile(Mn)){var En=this._tiles[this._tileCoordsToKey(Mn)];En?En.current=!0:W.push(Mn)}}if(W.sort(function(Un,Io){return Un.distanceTo(A)-Io.distanceTo(A)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Jn=document.createDocumentFragment();for(Et=0;Et<W.length;Et++)this._addTile(W[Et],Jn);this._level.el.appendChild(Jn)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(s);return Le(this.options.bounds).overlaps(x)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),x=s.scaleBy(h),E=x.add(h),A=l.unproject(x,s.z),W=l.unproject(E,s.z);return[A,W]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new Pe(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new B(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(on(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){wt(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=b,s.onmousemove=b,Ke.ielt9&&this.options.opacity<1&&zn(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),x=this._tileCoordsToKey(s),E=this.createTile(this._wrapCoords(s),f(this._tileReady,this,s));this._initTile(E),this.createTile.length<2&&ne(f(this._tileReady,this,s,null,E)),wn(E,h),this._tiles[x]={el:E,coords:s,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var x=this._tileCoordsToKey(s);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(zn(h.el,0),ge(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(wt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ke.ielt9||!this._map._fadeAnimated?ne(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new B(this._wrapX?_(s.x,this._wrapX):s.x,this._wrapY?_(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new $(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Lo(s){return new Ts(s)}var ks=Ts.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=j(this,l),l.detectRetina&&Ke.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return gt(h,"load",f(this._tileOnLoad,this,l,h)),gt(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:Ke.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return D(this._url,c(l,this.options))},_tileOnLoad:function(s,l){Ke.ielt9?setTimeout(f(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(s=l-s),s+x},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=b,l.onerror=b,!l.complete)){l.src=I;var h=this._tiles[s].coords;on(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",I),Ts.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===I))return Ts.prototype._tileReady.call(this,s,l,h)}});function ic(s,l){return new ks(s,l)}var Di=ks.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=c({},this.defaultWmsParams);for(var x in l)x in this.options||(h[x]=l[x]);l=j(this,l);var E=l.detectRetina&&Ke.retina?2:1,A=this.getTileSize();h.width=A.x*E,h.height=A.y*E,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,ks.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,x=te(h.project(l[0]),h.project(l[1])),E=x.min,A=x.max,W=(this._wmsVersion>=1.3&&this._crs===Cu?[E.y,E.x,A.y,A.x]:[E.x,E.y,A.x,A.y]).join(","),se=ks.prototype.getTileUrl.call(this,s);return se+C(this.wmsParams,se,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(s,l){return c(this.wmsParams,s),l||this.redraw(),this}});function Du(s,l){return new Di(s,l)}ks.WMS=Di,ic.wms=Du;var Ur=Cr.extend({options:{padding:.1},initialize:function(s){j(this,s),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),A=x.multiplyBy(-h).add(E).subtract(this._map._getNewPixelOrigin(s,l));Ke.any3d?Nr(this._container,A,h):wn(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new $(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ac=Ur.extend({options:{tolerance:0},getEvents:function(){var s=Ur.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");gt(s,"mousemove",this._onMouseMove,this),gt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),gt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){ge(this._redrawRequest),delete this._ctx,on(this._container),tn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ur.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),x=Ke.retina?2:1;wn(l,s.min),l.width=x*h.x,l.height=x*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[g(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,x=l.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete s._order,delete this._layers[g(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],x,E;for(E=0;E<l.length;E++){if(x=Number(l[E]),isNaN(x))return;h.push(x)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ne(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)s=x.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,x,E,A,W=s._parts,se=W.length,fe=this._ctx;if(se){for(fe.beginPath(),h=0;h<se;h++){for(x=0,E=W[h].length;x<E;x++)A=W[h][x],fe[x?"lineTo":"moveTo"](A.x,A.y);l&&fe.closePath()}this._fillStroke(fe,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,x=Math.max(Math.round(s._radius),1),E=(Math.max(Math.round(s._radiusY),1)||x)/x;E!==1&&(h.save(),h.scale(1,E)),h.beginPath(),h.arc(l.x,l.y/E,x,0,Math.PI*2,!1),E!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(rn(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(s),x&&(wt(this._container,"leaflet-interactive"),this._fireEvent([x],s,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,x=l.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,x=l.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function lc(s){return Ke.canvas?new ac(s):null}var Ao=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ou={_initContainer:function(){this._container=bt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ur.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Ao("shape");wt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Ao("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;on(l),s.removeInteractiveTarget(l),delete this._layers[g(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,x=s.options,E=s._container;E.stroked=!!x.stroke,E.filled=!!x.fill,x.stroke?(l||(l=s._stroke=Ao("stroke")),E.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=M(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(E.removeChild(l),s._stroke=null),x.fill?(h||(h=s._fill=Ao("fill")),E.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(E.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),x=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){wo(s._container)},_bringToBack:function(s){ss(s._container)}},Tr=Ke.vml?Ao:Se,Qs=Ur.extend({_initContainer:function(){this._container=Tr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Tr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){on(this._container),tn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ur.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),wn(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Tr("path");s.options.className&&wt(l,s.options.className),s.options.interactive&&wt(l,"leaflet-interactive"),this._updateStyle(s),this._layers[g(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){on(s._path),s.removeInteractiveTarget(s._path),delete this._layers[g(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Z(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),x=Math.max(Math.round(s._radiusY),1)||h,E="a"+h+","+x+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+E+h*2+",0 "+E+-h*2+",0 ";this._setPath(s,A)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){wo(s._path)},_bringToBack:function(s){ss(s._path)}});Ke.vml&&Qs.include(Ou);function za(s){return Ke.svg||Ke.vml?new Qs(s):null}Ft.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&lc(s)||za(s)}});var Iu=cs.extend({initialize:function(s,l){cs.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Le(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function th(s,l){return new Iu(s,l)}Qs.create=Tr,Qs.pointsToPath=Z,zr.geometryToLayer=To,zr.coordsToLatLng=Aa,zr.coordsToLatLngs=Li,zr.latLngToCoords=Da,zr.latLngsToCoords=Oa,zr.getFeature=ko,zr.asFeature=Ia,Ft.mergeOptions({boxZoom:!0});var Do=lr.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){on(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Bt(),ba(),this._startPoint=this._map.mouseEventToContainerPoint(s),gt(document,{contextmenu:jr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=bt("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new $(this._point,this._startPoint),h=l.getSize();wn(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(on(this._box),rn(this._container,"leaflet-crosshair")),No(),Na(),tn(document,{contextmenu:jr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new Pe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ft.addInitHook("addHandler","boxZoom",Do),Ft.mergeOptions({doubleClickZoom:!0});var Fu=lr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),x=l.options.zoomDelta,E=s.originalEvent.shiftKey?h-x:h+x;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(s.containerPoint,E)}});Ft.addInitHook("addHandler","doubleClickZoom",Fu),Ft.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var cc=lr.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Er(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){rn(this._map._container,"leaflet-grab"),rn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Le(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,E=(x-l+h)%s+l-h,A=(x+l+h)%s-l-h,W=Math.abs(E+h)<Math.abs(A+h)?E:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(s){var l=this._map,h=l.options,x=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),x)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,W=h.easeLinearity,se=E.multiplyBy(W/A),fe=se.distanceTo([0,0]),ke=Math.min(h.inertiaMaxSpeed,fe),Ve=se.multiplyBy(ke/fe),it=ke/(h.inertiaDeceleration*W),Et=Ve.multiplyBy(-it/2).round();!Et.x&&!Et.y?l.fire("moveend"):(Et=l._limitOffset(Et,l.options.maxBounds),ne(function(){l.panBy(Et,{duration:it,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});Ft.addInitHook("addHandler","dragging",cc),Ft.mergeOptions({keyboard:!0,keyboardPanDelta:80});var uc=lr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),gt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,x=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,x,E;for(x=0,E=h.left.length;x<E;x++)l[h.left[x]]=[-1*s,0];for(x=0,E=h.right.length;x<E;x++)l[h.right[x]]=[s,0];for(x=0,E=h.down.length;x<E;x++)l[h.down[x]]=[0,s];for(x=0,E=h.up.length;x<E;x++)l[h.up[x]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,x,E;for(x=0,E=h.zoomIn.length;x<E;x++)l[h.zoomIn[x]]=s;for(x=0,E=h.zoomOut.length;x<E;x++)l[h.zoomOut[x]]=-s},_addHooks:function(){gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,x;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[l],s.shiftKey&&(x=ie(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(ie(x),h.options.maxBounds)),h.options.worldCopyJump){var E=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(E)}else h.panBy(x)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;jr(s)}}});Ft.addInitHook("addHandler","keyboard",uc),Ft.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nn=lr.extend({addHooks:function(){gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=yu(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),jr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,A=h?Math.ceil(E/h)*h:E,W=s._limitZoom(l+(this._delta>0?A:-A))-l;this._delta=0,this._startTime=null,W&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+W):s.setZoomAround(this._lastMousePos,l+W))}});Ft.addInitHook("addHandler","scrollWheelZoom",nn);var dc=600;Ft.mergeOptions({tapHold:Ke.touchNative&&Ke.safari&&Ke.mobile,tapTolerance:15});var Oi=lr.extend({addHooks:function(){gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new B(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(gt(document,"touchend",pn),gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),dc),gt(document,"touchend touchcancel contextmenu",this._cancel,this),gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){tn(document,"touchend",pn),tn(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),tn(document,"touchend touchcancel contextmenu",this._cancel,this),tn(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new B(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Ft.addInitHook("addHandler","tapHold",Oi),Ft.mergeOptions({touchZoom:Ke.touch,bounceAtZoomLimits:!0});var Oo=lr.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){rn(this._map._container,"leaflet-touch-zoom"),tn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),x=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),gt(document,"touchmove",this._onTouchMove,this),gt(document,"touchend touchcancel",this._onTouchEnd,this),pn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),x=l.mouseEventToContainerPoint(s.touches[1]),E=h.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var A=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(E===1&&A.x===0&&A.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),ge(this._animRequest);var W=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ne(W,this,!0),pn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ge(this._animRequest),tn(document,"touchmove",this._onTouchMove,this),tn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ft.addInitHook("addHandler","touchZoom",Oo),Ft.BoxZoom=Do,Ft.DoubleClickZoom=Fu,Ft.Drag=cc,Ft.Keyboard=uc,Ft.ScrollWheelZoom=nn,Ft.TapHold=Oi,Ft.TouchZoom=Oo,r.Bounds=$,r.Browser=Ke,r.CRS=K,r.Canvas=ac,r.Circle=Ra,r.CircleMarker=Ma,r.Class=me,r.Control=Xn,r.DivIcon=$a,r.DivOverlay=Br,r.DomEvent=Ea,r.DomUtil=Ci,r.Draggable=Er,r.Evented=_e,r.FeatureGroup=as,r.GeoJSON=zr,r.GridLayer=Ts,r.Handler=lr,r.Icon=Xs,r.ImageOverlay=Ps,r.LatLng=Ee,r.LatLngBounds=Pe,r.Layer=Cr,r.LayerGroup=Es,r.LineUtil=Eu,r.Map=Ft,r.Marker=ls,r.Mixin=Gl,r.Path=Cs,r.Point=B,r.PolyUtil=Wf,r.Polygon=cs,r.Polyline=Qn,r.Popup=Fa,r.PosAnimation=Ca,r.Projection=Yf,r.Rectangle=Iu,r.Renderer=Ur,r.SVG=Qs,r.SVGOverlay=sc,r.TileLayer=ks,r.Tooltip=Ro,r.Transformation=He,r.Util=Oe,r.VideoOverlay=rc,r.bind=f,r.bounds=te,r.canvas=lc,r.circle=Ri,r.circleMarker=ku,r.control=js,r.divIcon=Au,r.extend=c,r.featureGroup=Pu,r.geoJSON=Mu,r.geoJson=Pr,r.gridLayer=Lo,r.icon=Tu,r.imageOverlay=Ru,r.latLng=F,r.latLngBounds=Le,r.layerGroup=Mi,r.map=Ss,r.marker=Qf,r.point=ie,r.polygon=eh,r.polyline=Jf,r.popup=Mo,r.rectangle=th,r.setOptions=j,r.stamp=g,r.svg=za,r.svgOverlay=oc,r.tileLayer=ic,r.tooltip=Ai,r.transformation=Ze,r.version=a,r.videoOverlay=Lu;var $u=window.L;r.noConflict=function(){return window.L=$u,this},window.L=r})}(Oc,Oc.exports)),Oc.exports}var MP=kP();const Pn=wp(MP),RP=()=>({openRouteServiceKey:"your_production_api_key_here",mapboxKey:void 0,googleMapsKey:void 0}),Wp=()=>({type:"openroute",hasKey:!0,description:"OpenRouteService - Good accuracy, limited free tier"}),P0=()=>{const e=Wp(),t=[{service:"OpenRouteService",url:"https://openrouteservice.org/",freeLimit:"2,000 requests/day",paidOptions:"Available from 2.99/month",setup:"Set VITE_OPENROUTESERVICE_API_KEY in your .env file",recommended:!e.hasKey},{service:"MapBox",url:"https://www.mapbox.com/",freeLimit:"50,000 requests/month",paidOptions:"Pay-per-use beyond free tier",setup:"Set VITE_MAPBOX_API_KEY in your .env file",recommended:e.type==="free"},{service:"Google Maps",url:"https://developers.google.com/maps",freeLimit:"Paid service (requires billing)",paidOptions:"Most accurate, enterprise-grade",setup:"Set VITE_GOOGLE_MAPS_API_KEY in your .env file",recommended:!1}];return{current:e,recommendations:t}},Xi=class Xi{constructor(){Ds(this,"cache",new Map);Ds(this,"maxCacheSize",200);Ds(this,"cacheTimeout",60*60*1e3)}static getInstance(){return Xi.instance||(Xi.instance=new Xi),Xi.instance}getCacheKey(t,r){return`${t.lat.toFixed(5)},${t.lng.toFixed(5)}_${r.lat.toFixed(5)},${r.lng.toFixed(5)}`}isValidCache(t){return Date.now()-t.timestamp<this.cacheTimeout}async getRouteFromORS(t,r){var a,c;try{const p=await fetch("https://api.openrouteservice.org/v2/directions/driving-car",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"your_production_api_key_here"},body:JSON.stringify({coordinates:[[t.lng,t.lat],[r.lng,r.lat]],format:"geojson"})});if(!p.ok)return console.warn(`ORS API failed: ${p.status} ${p.statusText}`),null;const g=await p.json();if(g.features&&g.features.length>0){const w=g.features[0];return{coordinates:w.geometry.coordinates.map(b=>[b[1],b[0]]),distance:((a=w.properties.segments[0])==null?void 0:a.distance)||0,duration:((c=w.properties.segments[0])==null?void 0:c.duration)||0,source:"road-api",confidence:"high"}}}catch(d){console.warn("ORS routing failed:",d.message)}return null}async getRouteFromMapbox(t,r){try{const a=RP();if(!a.mapboxKey)return null;const c=`https://api.mapbox.com/directions/v5/mapbox/driving/${t.lng},${t.lat};${r.lng},${r.lat}?geometries=geojson&access_token=${a.mapboxKey}`,d=new AbortController,f=setTimeout(()=>d.abort(),1e4),p=await fetch(c,{signal:d.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(f),!p.ok)return console.warn(`MapBox API failed: ${p.status} ${p.statusText}`),null;const g=await p.json();if(g.routes&&g.routes.length>0){const w=g.routes[0];return!w.geometry||!w.geometry.coordinates||w.geometry.coordinates.length<2?(console.warn("MapBox returned invalid geometry"),null):{coordinates:w.geometry.coordinates.map(b=>[b[1],b[0]]),distance:w.distance||0,duration:w.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("MapBox routing timed out"):console.warn("MapBox routing failed:",a.message)}return null}async getRouteFromOSRM(t,r){try{const a=`https://router.project-osrm.org/route/v1/driving/${t.lng},${t.lat};${r.lng},${r.lat}?overview=full&geometries=geojson`,c=new AbortController,d=setTimeout(()=>c.abort(),1e4),f=await fetch(a,{signal:c.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(d),!f.ok)return console.warn(`OSRM API failed: ${f.status} ${f.statusText}`),null;const p=await f.json();if(p.routes&&p.routes.length>0){const g=p.routes[0];return!g.geometry||!g.geometry.coordinates||g.geometry.coordinates.length<2?(console.warn("OSRM returned invalid geometry"),null):{coordinates:g.geometry.coordinates.map(_=>[_[1],_[0]]),distance:g.distance||0,duration:g.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("OSRM routing timed out"):console.warn("OSRM routing failed:",a.message)}return null}calculateStraightLineDistance(t,r){const c=t.lat*Math.PI/180,d=r.lat*Math.PI/180,f=(r.lat-t.lat)*Math.PI/180,p=(t.lng-r.lng)*Math.PI/180,g=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))}createStraightLineRoute(t,r){const a=this.calculateStraightLineDistance(t,r),c=[];if(a>500){const d=Math.min(5,Math.floor(a/200));for(let f=0;f<=d;f++){const p=f/d,g=t.lat+(r.lat-t.lat)*p,w=t.lng+(r.lng-t.lng)*p;c.push([g,w])}}else c.push([t.lat,t.lng],[r.lat,r.lng]);return{coordinates:c,distance:a,duration:a/13.89,source:"straight-line",confidence:a<100?"medium":"low"}}async getRoute(t,r){const a=this.getCacheKey(t,r),c=this.cache.get(a);if(c&&this.isValidCache(c))return console.log(`Using cached route for ${this.calculateStraightLineDistance(t,r).toFixed(0)}m distance`),c.route;const d=this.calculateStraightLineDistance(t,r);if(d<30){console.log(`Short distance (${Math.round(d)}m), using direct line`);const p=this.createStraightLineRoute(t,r);return p.confidence="high",this.cache.set(a,{route:p,timestamp:Date.now()}),p}let f=null;if(d<1e4&&(f=await this.getRouteFromMapbox(t,r),!f&&d>50&&(f=await this.getRouteFromORS(t,r)),!f&&d>30&&(f=await this.getRouteFromOSRM(t,r))),!f){const p=d>=5e3?"Long distance":"API services unavailable";console.log(`${p} - using straight line for ${Math.round(d)}m distance`),f=this.createStraightLineRoute(t,r),d<200?f.confidence="medium":d>1e3&&(f.confidence="low")}if(this.cache.size>=this.maxCacheSize){const p=this.cache.keys().next().value;this.cache.delete(p)}return this.cache.set(a,{route:f,timestamp:Date.now()}),f}createGPSRoute(t){if(t.length<2)return{coordinates:[],distance:0,duration:0,source:"gps",confidence:"high"};const r=this.cleanGPSPoints(t),a=r.map(p=>[p.lat,p.lng]);let c=0;for(let p=1;p<r.length;p++){const g=r[p-1],w=r[p];c+=this.calculateStraightLineDistance(g,w)}let d=0;if(r[0].timestamp&&r[r.length-1].timestamp){const p=new Date(r[0].timestamp).getTime();d=(new Date(r[r.length-1].timestamp).getTime()-p)/1e3}else d=c/13.89;const f=this.assessGPSQuality(r,t.length);return console.log(` GPS route: ${r.length}/${t.length} points, ${(c/1e3).toFixed(2)}km, ${f} confidence`),{coordinates:a,distance:c,duration:d,source:"gps",confidence:f}}cleanGPSPoints(t){if(t.length<=2)return t;const r=[t[0]];for(let a=1;a<t.length;a++){const c=t[a],d=r[r.length-1],f=this.calculateStraightLineDistance(d,c);if(!(f<3)){if(c.timestamp&&d.timestamp){const p=(new Date(c.timestamp).getTime()-new Date(d.timestamp).getTime())/1e3;if(p>0&&p<5&&f>300){console.warn(`Skipping GPS outlier: ${Math.round(f)}m in ${p}s (${Math.round(f/p*3.6)}km/h)`);continue}}r.push(c)}}return r.length<2?(console.warn(`GPS cleaning removed too many points (${r.length}/${t.length}), using original`),t):r.length<t.length*.5?(console.warn(`GPS cleaning removed over 50% of points (${r.length}/${t.length}), using original`),t):(console.log(`GPS cleaning: kept ${r.length}/${t.length} points`),r)}assessGPSQuality(t,r){const a=t.length/r;return t.length>=10&&a>.7?"high":t.length>=5&&a>.5?"medium":"low"}async getRouteForPoints(t){if(t.length<2)return{coordinates:[],totalDistance:0,segments:[]};const r=[];let a=[],c=0,d=0;const f=15,p=t.length>f+1?this.selectKeyPoints(t,f):t;console.log(`Processing route with ${p.length} key points (from ${t.length} total GPS points)`);for(let b=0;b<p.length-1;b++)try{const S=await this.getRoute(p[b],p[b+1]);r.push(S),S.source==="road-api"&&d++,b===0?a.push(...S.coordinates):a.push(...S.coordinates.slice(1)),c+=S.distance}catch(S){console.warn(`Failed to get route for segment ${b}-${b+1}:`,S);const k=p[b],P=p[b+1],j=[[k.lat,k.lng],[P.lat,P.lng]];b===0?a.push(...j):a.push(j[1]);const C=this.calculateStraightLineDistance(k,P);c+=C}const g=r.length>0?d/r.length:0;let w="mixed",_="medium";return g>=.8?(w="road-api",_="high"):g>=.5?(w="road-mixed",_="medium"):(w="gps-fallback",_="low"),console.log(`Route complete: ${a.length} coordinates, ${Math.round(c/1e3*100)/100}km, ${d}/${r.length} road segments`),{coordinates:a,totalDistance:c,segments:r,source:w,confidence:_}}selectKeyPoints(t,r){if(t.length<=r)return t;const a=[t[0]],c=Math.floor(t.length/(r-2));for(let d=c;d<t.length-1;d+=c)a.push(t[d]);return a.push(t[t.length-1]),a}clearCache(){this.cache.clear()}};Ds(Xi,"instance");let rp=Xi;const Qr=rp.getInstance();delete Pn.Icon.Default.prototype._getIconUrl;Pn.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function Vp({employees:e,selectedEmployee:t,height:r="400px",onEmployeeClick:a,trackingSession:c,showRoute:d=!1}){const f=v.useRef(null),p=v.useRef(null),g=v.useRef({}),w=v.useRef(null),_=v.useRef([]),[b,S]=v.useState(!1),[k,P]=v.useState(null),[j,C]=v.useState(null);return v.useEffect(()=>{if(!p.current)return;f.current=Pn.map(p.current).setView([40.7128,-74.006],12),Pn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(f.current);const T=document.createElement("link");return T.rel="stylesheet",T.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",document.head.appendChild(T),()=>{f.current&&(f.current.remove(),f.current=null),document.head.removeChild(T)}},[]),v.useEffect(()=>{if(!f.current||!e.length)return;Object.values(g.current).forEach(M=>{var O;(O=f.current)==null||O.removeLayer(M)}),g.current={};const T=M=>{var I;const O=M==="active"?"#22c55e":M==="meeting"?"#f59e0b":"#6b7280";return Pn.divIcon({html:`
          <div style="
            background-color: ${O};
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            ${t&&t===((I=e.find(G=>G.location.lat===parseFloat(M)&&G.location.lng===parseFloat(M)))==null?void 0:I.id)?"transform: scale(1.3);":""}
          "></div>
        `,className:"custom-div-icon",iconSize:[20,20],iconAnchor:[10,10]})},D=Pn.latLngBounds([]);e.forEach(M=>{if(M.location.lat&&M.location.lng){const O=Pn.marker([M.location.lat,M.location.lng],{icon:T(M.status)}).addTo(f.current);O.bindPopup(`
          <div style="min-width: 200px;">
            <h3 style="margin: 0 0 8px 0; font-weight: bold;">${M.name}</h3>
            <p style="margin: 0 0 4px 0; color: #666;">
              <span style="
                display: inline-block;
                padding: 2px 6px;
                border-radius: 4px;
                font-size: 12px;
                background-color: ${M.status==="active"?"#22c55e":M.status==="meeting"?"#f59e0b":"#6b7280"};
                color: white;
              ">${M.status==="active"?"On Route":M.status==="meeting"?"In Meeting":"Offline"}</span>
            </p>
            <p style="margin: 0 0 4px 0; font-size: 14px;">${M.location.address}</p>
            ${M.currentTask?`<p style="margin: 0 0 4px 0; font-size: 12px; font-style: italic;">${M.currentTask}</p>`:""}
            <p style="margin: 0; font-size: 12px; color: #888;">Updated ${M.lastUpdate}</p>
          </div>
        `),a&&O.on("click",()=>a(M.id)),g.current[M.id]=O,D.extend([M.location.lat,M.location.lng])}}),e.length>0&&D.isValid()&&f.current.fitBounds(D,{padding:[20,20]})},[e,t,a]),v.useEffect(()=>{if(!f.current)return;if(w.current&&(f.current.removeLayer(w.current),w.current=null),_.current.forEach(M=>{var O;(O=f.current)==null||O.removeLayer(M)}),_.current=[],!d||!c||!c.route.length){P(null),C(null);return}const T=c.route;if((async()=>{if(T.length<1){P("No GPS points available for route visualization"),C(null);return}S(!0),P(null);try{if(!f.current)return;let M=[],O="gps",I="medium";if(console.log(`Displaying route with ${T.length} GPS points`),T.length===1)M=[[T[0].lat,T[0].lng]],O="single-point",I="high";else if(M=T.map(q=>[q.lat,q.lng]),O="gps-points",I=T.length>=5?"medium":"basic",T.length>=2&&T.length<=10)try{if(console.log("Attempting road-based route enhancement..."),T.length<=3){const q=await Qr.getRoute(T[0],T[T.length-1]);q.source==="road-api"&&q.coordinates.length>0&&(M=q.coordinates,O="road-direct",I="high",console.log("Successfully enhanced route with direct road routing"))}else{const q=await Qr.createGPSRoute(T);q.coordinates.length>0&&(M=q.coordinates,O="gps-processed",I=q.confidence||"medium",console.log(`Successfully processed GPS route: ${q.confidence} confidence`))}}catch(q){console.warn("Route enhancement failed, using basic GPS points:",q.message)}const U=(()=>{switch(O){case"road-direct":case"road-api":return{color:"#2563eb",weight:5,opacity:.8,dashArray:void 0};case"gps-processed":return{color:"#16a34a",weight:4,opacity:.7,dashArray:void 0};case"single-point":return{color:"#dc2626",weight:6,opacity:.9,dashArray:void 0};default:return{color:"#ea580c",weight:3,opacity:.6,dashArray:"8, 4"}}})();if(O==="single-point"&&M.length===1){const q=M[0];w.current=Pn.circle(q,{radius:50,color:U.color,weight:U.weight,opacity:U.opacity,fillColor:U.color,fillOpacity:.3}).addTo(f.current)}else M.length>=2&&(w.current=Pn.polyline(M,{...U,smoothFactor:O.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current),Pn.polyline(M,{color:"#000000",weight:U.weight+2,opacity:.2,smoothFactor:O.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current).bringToBack());if(C((()=>{switch(O){case"road-direct":case"road-api":return{type:"Road Network",confidence:"High Accuracy",points:M.length};case"gps-processed":return{type:"Enhanced GPS",confidence:I==="high"?"High Accuracy":"Medium Accuracy",points:T.length};case"single-point":return{type:"Current Location",confidence:"High Accuracy",points:1};default:return{type:"GPS Points",confidence:"Basic Accuracy",points:T.length}}})()),console.log(` Displayed ${O} route: ${M.length} coordinates, ${I} confidence`),M.length>0)if(M.length===1)f.current.setView(M[0],16);else{const q=Pn.latLngBounds(M);f.current.fitBounds(q,{padding:[30,30]})}}catch(M){console.error("Error displaying route:",M),P(`Failed to display route: ${M.message}`),C(null);try{if(T.length>=1){const O=T.map(I=>[I.lat,I.lng]);if(O.length===1?w.current=Pn.circle(O[0],{radius:30,color:"#dc2626",weight:2,opacity:.7,fillColor:"#dc2626",fillOpacity:.2}).addTo(f.current):w.current=Pn.polyline(O,{color:"#dc2626",weight:3,opacity:.6,dashArray:"5, 5",smoothFactor:.1}).addTo(f.current),C({type:"Fallback GPS",confidence:"Limited",points:T.length}),P(null),O.length===1)f.current.setView(O[0],16);else{const I=Pn.latLngBounds(O);f.current.fitBounds(I,{padding:[20,20]})}}}catch(O){console.error("Even fallback route failed:",O),P("Unable to display any route visualization")}}finally{S(!1)}})(),c.startLocation){const M=Pn.divIcon({html:`
          <div style="
            background-color: #22c55e;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">S</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),O=Pn.marker([c.startLocation.lat,c.startLocation.lng],{icon:M}).addTo(f.current);O.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #22c55e;">Route Start</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${new Date(c.startTime).toLocaleString()}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            ${c.startLocation.address}
          </p>
        </div>
      `),_.current.push(O)}if(c.endLocation&&c.status==="completed"){const M=Pn.divIcon({html:`
          <div style="
            background-color: #ef4444;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">E</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),O=Pn.marker([c.endLocation.lat,c.endLocation.lng],{icon:M}).addTo(f.current);O.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #ef4444;">Route End</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${c.endTime?new Date(c.endTime).toLocaleString():"In progress"}
          </p>
          <p style="margin: 0 0 4px 0; font-size: 12px; color: #666;">
            ${c.endLocation.address}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            Distance: ${(c.totalDistance/1e3).toFixed(2)} km
          </p>
        </div>
      `),_.current.push(O)}if(T.length>2){const M=Math.max(1,Math.floor(T.length/5));T.forEach((O,I)=>{if(I>0&&I<T.length-1&&I%M===0){const G=Pn.divIcon({html:`
              <div style="
                background-color: #3b82f6;
                width: 8px;
                height: 8px;
                border-radius: 50%;
                border: 2px solid white;
                box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                opacity: 0.9;
              "></div>
            `,className:"custom-div-icon",iconSize:[8,8],iconAnchor:[4,4]}),U=Pn.marker([O.lat,O.lng],{icon:G}).addTo(f.current);U.bindPopup(`
            <div style="min-width: 160px;">
              <h4 style="margin: 0 0 8px 0; color: #3b82f6;">Route Point</h4>
              <p style="margin: 0 0 4px 0; font-size: 12px;">
                <strong>Time:</strong> ${new Date(O.timestamp).toLocaleTimeString()}
              </p>
              <p style="margin: 0 0 4px 0; font-size: 11px; color: #666;">
                Position: ${O.lat.toFixed(6)}, ${O.lng.toFixed(6)}
              </p>
              <p style="margin: 0; font-size: 11px; color: #666;">
                Point ${I+1} of ${T.length}
              </p>
            </div>
          `),_.current.push(U)}})}},[d,c]),v.useEffect(()=>{if(!f.current||!t)return;const T=e.find(D=>D.id===t);T&&T.location.lat&&T.location.lng&&f.current.setView([T.location.lat,T.location.lng],15)},[t,e]),o.jsxs("div",{className:"relative",children:[o.jsx("div",{ref:p,style:{height:r,width:"100%",borderRadius:"8px"},className:"relative z-0"}),b&&o.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm border border-border rounded-md px-3 py-2 text-sm flex items-center space-x-2 z-10",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Generating route..."})]}),d&&j&&o.jsxs("div",{className:`absolute top-2 right-2 backdrop-blur-sm border rounded-md px-3 py-2 text-sm z-10 ${j.confidence==="High Accuracy"?"bg-blue-500/90 border-blue-500 text-white":j.confidence==="Medium Accuracy"?"bg-green-500/90 border-green-500 text-white":j.confidence==="Basic Accuracy"?"bg-orange-500/90 border-orange-500 text-white":"bg-red-500/90 border-red-500 text-white"}`,children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{children:[j.type.includes("Road")?"":j.type.includes("GPS + Road")?"":""," ",j.type]})}),o.jsxs("div",{className:"text-xs mt-1 opacity-90",children:[j.confidence,"  ",j.points," ",j.points===1?"point":"points"]}),j.type.includes("Road")&&o.jsx("div",{className:"text-xs mt-1 opacity-75",children:" Road-optimized route"})]}),k&&o.jsxs("div",{className:"absolute top-2 left-2 bg-destructive/90 backdrop-blur-sm border border-destructive rounded-md px-3 py-2 text-sm text-destructive-foreground z-10",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{children:" Route Display Issue"})}),o.jsx("div",{className:"text-xs mt-1",children:k}),o.jsx("div",{className:"text-xs mt-1 opacity-80",children:" Route will improve with more GPS points"})]})]})}const dn=v.forwardRef(({className:e,type:t,...r},a)=>o.jsx("input",{type:t,className:mt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));dn.displayName="Input";function LP(e,t){const r=v.createContext(t),a=d=>{const{children:f,...p}=d,g=v.useMemo(()=>p,Object.values(p));return o.jsx(r.Provider,{value:g,children:f})};a.displayName=e+"Provider";function c(d){const f=v.useContext(r);if(f)return f;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[a,c]}function AP(e,t=[]){let r=[];function a(d,f){const p=v.createContext(f),g=r.length;r=[...r,f];const w=b=>{var T;const{scope:S,children:k,...P}=b,j=((T=S==null?void 0:S[e])==null?void 0:T[g])||p,C=v.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:k})};w.displayName=d+"Provider";function _(b,S){var j;const k=((j=S==null?void 0:S[e])==null?void 0:j[g])||p,P=v.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[w,_]}const c=()=>{const d=r.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,DP(c,...t)]}function DP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var Nm="focusScope.autoFocusOnMount",Sm="focusScope.autoFocusOnUnmount",Ix={bubbles:!1,cancelable:!0},OP="FocusScope",Zp=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...f}=e,[p,g]=v.useState(null),w=fn(c),_=fn(d),b=v.useRef(null),S=It(t,j=>g(j)),k=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(a){let j=function(M){if(k.paused||!p)return;const O=M.target;p.contains(O)?b.current=O:ri(b.current,{select:!0})},C=function(M){if(k.paused||!p)return;const O=M.relatedTarget;O!==null&&(p.contains(O)||ri(b.current,{select:!0}))},T=function(M){if(document.activeElement===document.body)for(const I of M)I.removedNodes.length>0&&ri(p)};document.addEventListener("focusin",j),document.addEventListener("focusout",C);const D=new MutationObserver(T);return p&&D.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",C),D.disconnect()}}},[a,p,k.paused]),v.useEffect(()=>{if(p){$x.add(k);const j=document.activeElement;if(!p.contains(j)){const T=new CustomEvent(Nm,Ix);p.addEventListener(Nm,w),p.dispatchEvent(T),T.defaultPrevented||(IP(UP(T0(p)),{select:!0}),document.activeElement===j&&ri(p))}return()=>{p.removeEventListener(Nm,w),setTimeout(()=>{const T=new CustomEvent(Sm,Ix);p.addEventListener(Sm,_),p.dispatchEvent(T),T.defaultPrevented||ri(j??document.body,{select:!0}),p.removeEventListener(Sm,_),$x.remove(k)},0)}}},[p,w,_,k]);const P=v.useCallback(j=>{if(!r&&!a||k.paused)return;const C=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,T=document.activeElement;if(C&&T){const D=j.currentTarget,[M,O]=FP(D);M&&O?!j.shiftKey&&T===O?(j.preventDefault(),r&&ri(M,{select:!0})):j.shiftKey&&T===M&&(j.preventDefault(),r&&ri(O,{select:!0})):T===D&&j.preventDefault()}},[r,a,k.paused]);return o.jsx(_t.div,{tabIndex:-1,...f,ref:S,onKeyDown:P})});Zp.displayName=OP;function IP(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(ri(a,{select:t}),document.activeElement!==r)return}function FP(e){const t=T0(e),r=Fx(t,e),a=Fx(t.reverse(),e);return[r,a]}function T0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Fx(e,t){for(const r of e)if(!$P(r,{upTo:t}))return r}function $P(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zP(e){return e instanceof HTMLInputElement&&"select"in e}function ri(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zP(e)&&t&&e.select()}}var $x=BP();function BP(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zx(e,t),e.unshift(t)},remove(t){var r;e=zx(e,t),(r=e[0])==null||r.resume()}}}function zx(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function UP(e){return e.filter(t=>t.tagName!=="A")}function HP(e,t){return v.useReducer((r,a)=>t[r][a]??r,e)}var Sf=e=>{const{present:t,children:r}=e,a=WP(t),c=typeof r=="function"?r({present:a.isPresent}):v.Children.only(r),d=It(a.ref,VP(c));return typeof r=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};Sf.displayName="Presence";function WP(e){const[t,r]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=HP(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=Ld(a.current);d.current=p==="mounted"?w:"none"},[p]),yn(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,k=Ld(w);e?g("MOUNT"):k==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),yn(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,b=k=>{const j=Ld(a.current).includes(k.animationName);if(k.target===t&&j&&(g("ANIMATION_END"),!c.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},S=k=>{k.target===t&&(d.current=Ld(a.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),r(w)},[])}}function Ld(e){return(e==null?void 0:e.animationName)||"none"}function VP(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jm=0;function ZP(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bx()),document.body.insertAdjacentElement("beforeend",e[1]??Bx()),jm++,()=>{jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jm--}},[])}function Bx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Yn=function(){return Yn=Object.assign||function(t){for(var r,a=1,c=arguments.length;a<c;a++){r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},Yn.apply(this,arguments)};function qp(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(r[a[c]]=e[a[c]]);return r}function k0(e,t,r){if(r||arguments.length===2)for(var a=0,c=t.length,d;a<c;a++)(d||!(a in t))&&(d||(d=Array.prototype.slice.call(t,0,a)),d[a]=t[a]);return e.concat(d||Array.prototype.slice.call(t))}var zc="right-scroll-bar-position",Bc="width-before-scroll-bar",qP="with-scroll-bars-hidden",GP="--removed-body-scroll-bar-size";function Em(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YP(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var c=r.value;c!==a&&(r.value=a,r.callback(a,c))}}}})[0];return r.callback=t,r.facade}var KP=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ux=new WeakMap;function M0(e,t){var r=YP(null,function(a){return e.forEach(function(c){return Em(c,a)})});return KP(function(){var a=Ux.get(r);if(a){var c=new Set(a),d=new Set(e),f=r.current;c.forEach(function(p){d.has(p)||Em(p,null)}),d.forEach(function(p){c.has(p)||Em(p,f)})}Ux.set(r,e)},[e]),r}function XP(e){return e}function QP(e,t){t===void 0&&(t=XP);var r=[],a=!1,c={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(d){var f=t(d,a);return r.push(f),function(){r=r.filter(function(p){return p!==f})}},assignSyncMedium:function(d){for(a=!0;r.length;){var f=r;r=[],f.forEach(d)}r={push:function(p){return d(p)},filter:function(){return r}}},assignMedium:function(d){a=!0;var f=[];if(r.length){var p=r;r=[],p.forEach(d),f=r}var g=function(){var _=f;f=[],_.forEach(d)},w=function(){return Promise.resolve().then(g)};w(),r={push:function(_){f.push(_),w()},filter:function(_){return f=f.filter(_),r}}}};return c}function R0(e){e===void 0&&(e={});var t=QP(null);return t.options=Yn({async:!0,ssr:!1},e),t}var L0=function(e){var t=e.sideCar,r=qp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return v.createElement(a,Yn({},r))};L0.isSideCarExport=!0;function A0(e,t){return e.useMedium(t),L0}var D0=R0(),Cm=function(){},jf=v.forwardRef(function(e,t){var r=v.useRef(null),a=v.useState({onScrollCapture:Cm,onWheelCapture:Cm,onTouchMoveCapture:Cm}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,g=e.className,w=e.removeScrollBar,_=e.enabled,b=e.shards,S=e.sideCar,k=e.noIsolation,P=e.inert,j=e.allowPinchZoom,C=e.as,T=C===void 0?"div":C,D=e.gapMode,M=qp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=S,I=M0([r,t]),G=Yn(Yn({},M),c);return v.createElement(v.Fragment,null,_&&v.createElement(O,{sideCar:D0,removeScrollBar:w,shards:b,noIsolation:k,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:r,gapMode:D}),f?v.cloneElement(v.Children.only(p),Yn(Yn({},G),{ref:I})):v.createElement(T,Yn({},G,{className:g,ref:I}),p))});jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jf.classNames={fullWidth:Bc,zeroRight:zc};var JP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=JP();return t&&e.setAttribute("nonce",t),e}function tT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rT=function(){var e=0,t=null;return{add:function(r){e==0&&(t=eT())&&(tT(t,r),nT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sT=function(){var e=rT();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Gp=function(){var e=sT(),t=function(r){var a=r.styles,c=r.dynamic;return e(a,c),null};return t},oT={left:0,top:0,right:0,gap:0},Pm=function(e){return parseInt(e||"",10)||0},iT=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],c=t[e==="padding"?"paddingRight":"marginRight"];return[Pm(r),Pm(a),Pm(c)]},aT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oT;var t=iT(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},lT=Gp(),gl="data-scroll-locked",cT=function(e,t,r,a){var c=e.left,d=e.top,f=e.right,p=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(qP,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(p,"px ").concat(a,`;
  }
  body[`).concat(gl,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(zc,` {
    right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(Bc,` {
    margin-right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(zc," .").concat(zc,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Bc," .").concat(Bc,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(gl,`] {
    `).concat(GP,": ").concat(p,`px;
  }
`)},Hx=function(){var e=parseInt(document.body.getAttribute(gl)||"0",10);return isFinite(e)?e:0},uT=function(){v.useEffect(function(){return document.body.setAttribute(gl,(Hx()+1).toString()),function(){var e=Hx()-1;e<=0?document.body.removeAttribute(gl):document.body.setAttribute(gl,e.toString())}},[])},O0=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,c=a===void 0?"margin":a;uT();var d=v.useMemo(function(){return aT(c)},[c]);return v.createElement(lT,{styles:cT(d,!t,c,r?"":"!important")})},sp=!1;if(typeof window<"u")try{var Ad=Object.defineProperty({},"passive",{get:function(){return sp=!0,!0}});window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{sp=!1}var nl=sp?{passive:!1}:!1,dT=function(e){return e.tagName==="TEXTAREA"},I0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!dT(e)&&r[t]==="visible")},fT=function(e){return I0(e,"overflowY")},hT=function(e){return I0(e,"overflowX")},Wx=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=F0(e,a);if(c){var d=$0(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},mT=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},pT=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},F0=function(e,t){return e==="v"?fT(t):hT(t)},$0=function(e,t){return e==="v"?mT(t):pT(t)},gT=function(e,t){return e==="h"&&t==="rtl"?-1:1},vT=function(e,t,r,a,c){var d=gT(e,window.getComputedStyle(t).direction),f=d*a,p=r.target,g=t.contains(p),w=!1,_=f>0,b=0,S=0;do{var k=$0(e,p),P=k[0],j=k[1],C=k[2],T=j-C-d*P;(P||T)&&F0(e,p)&&(b+=T,S+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!g&&p!==document.body||g&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(S)<1)&&(w=!0),w},Dd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vx=function(e){return[e.deltaX,e.deltaY]},Zx=function(e){return e&&"current"in e?e.current:e},xT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wT=0,rl=[];function _T(e){var t=v.useRef([]),r=v.useRef([0,0]),a=v.useRef(),c=v.useState(wT++)[0],d=v.useState(Gp)[0],f=v.useRef(e);v.useEffect(function(){f.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=k0([e.lockRef.current],(e.shards||[]).map(Zx),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=v.useCallback(function(j,C){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!f.current.allowPinchZoom;var T=Dd(j),D=r.current,M="deltaX"in j?j.deltaX:D[0]-T[0],O="deltaY"in j?j.deltaY:D[1]-T[1],I,G=j.target,U=Math.abs(M)>Math.abs(O)?"h":"v";if("touches"in j&&U==="h"&&G.type==="range")return!1;var re=Wx(U,G);if(!re)return!0;if(re?I=U:(I=U==="v"?"h":"v",re=Wx(U,G)),!re)return!1;if(!a.current&&"changedTouches"in j&&(M||O)&&(a.current=I),!I)return!0;var q=a.current||I;return vT(q,C,j,q==="h"?M:O)},[]),g=v.useCallback(function(j){var C=j;if(!(!rl.length||rl[rl.length-1]!==d)){var T="deltaY"in C?Vx(C):Dd(C),D=t.current.filter(function(I){return I.name===C.type&&(I.target===C.target||C.target===I.shadowParent)&&xT(I.delta,T)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var M=(f.current.shards||[]).map(Zx).filter(Boolean).filter(function(I){return I.contains(C.target)}),O=M.length>0?p(C,M[0]):!f.current.noIsolation;O&&C.cancelable&&C.preventDefault()}}},[]),w=v.useCallback(function(j,C,T,D){var M={name:j,delta:C,target:T,should:D,shadowParent:bT(T)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(O){return O!==M})},1)},[]),_=v.useCallback(function(j){r.current=Dd(j),a.current=void 0},[]),b=v.useCallback(function(j){w(j.type,Vx(j),j.target,p(j,e.lockRef.current))},[]),S=v.useCallback(function(j){w(j.type,Dd(j),j.target,p(j,e.lockRef.current))},[]);v.useEffect(function(){return rl.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:S}),document.addEventListener("wheel",g,nl),document.addEventListener("touchmove",g,nl),document.addEventListener("touchstart",_,nl),function(){rl=rl.filter(function(j){return j!==d}),document.removeEventListener("wheel",g,nl),document.removeEventListener("touchmove",g,nl),document.removeEventListener("touchstart",_,nl)}},[]);var k=e.removeScrollBar,P=e.inert;return v.createElement(v.Fragment,null,P?v.createElement(d,{styles:yT(c)}):null,k?v.createElement(O0,{gapMode:e.gapMode}):null)}function bT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NT=A0(D0,_T);var z0=v.forwardRef(function(e,t){return v.createElement(jf,Yn({},e,{ref:t,sideCar:NT}))});z0.classNames=jf.classNames;var ST=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},sl=new WeakMap,Od=new WeakMap,Id={},Tm=0,B0=function(e){return e&&(e.host||B0(e.parentNode))},jT=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=B0(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ET=function(e,t,r,a){var c=jT(t,Array.isArray(e)?e:[e]);Id[r]||(Id[r]=new WeakMap);var d=Id[r],f=[],p=new Set,g=new Set(c),w=function(b){!b||p.has(b)||(p.add(b),w(b.parentNode))};c.forEach(w);var _=function(b){!b||g.has(b)||Array.prototype.forEach.call(b.children,function(S){if(p.has(S))_(S);else try{var k=S.getAttribute(a),P=k!==null&&k!=="false",j=(sl.get(S)||0)+1,C=(d.get(S)||0)+1;sl.set(S,j),d.set(S,C),f.push(S),j===1&&P&&Od.set(S,!0),C===1&&S.setAttribute(r,"true"),P||S.setAttribute(a,"true")}catch(T){console.error("aria-hidden: cannot operate on ",S,T)}})};return _(t),p.clear(),Tm++,function(){f.forEach(function(b){var S=sl.get(b)-1,k=d.get(b)-1;sl.set(b,S),d.set(b,k),S||(Od.has(b)||b.removeAttribute(a),Od.delete(b)),k||b.removeAttribute(r)}),Tm--,Tm||(sl=new WeakMap,sl=new WeakMap,Od=new WeakMap,Id={})}},U0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),c=ST(e);return c?(a.push.apply(a,Array.from(c.querySelectorAll("[aria-live]"))),ET(a,c,r,"aria-hidden")):function(){return null}},Yp="Dialog",[H0,WL]=AP(Yp),[CT,_s]=H0(Yp),W0=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:c,onOpenChange:d,modal:f=!0}=e,p=v.useRef(null),g=v.useRef(null),[w=!1,_]=Uc({prop:a,defaultProp:c,onChange:d});return o.jsx(CT,{scope:t,triggerRef:p,contentRef:g,contentId:ml(),titleId:ml(),descriptionId:ml(),open:w,onOpenChange:_,onOpenToggle:v.useCallback(()=>_(b=>!b),[_]),modal:f,children:r})};W0.displayName=Yp;var V0="DialogTrigger",Z0=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=_s(V0,r),d=It(t,c.triggerRef);return o.jsx(_t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Qp(c.open),...a,ref:d,onClick:st(e.onClick,c.onOpenToggle)})});Z0.displayName=V0;var Kp="DialogPortal",[PT,q0]=H0(Kp,{forceMount:void 0}),G0=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:c}=e,d=_s(Kp,t);return o.jsx(PT,{scope:t,forceMount:r,children:v.Children.map(a,f=>o.jsx(Sf,{present:r||d.open,children:o.jsx(Xw,{asChild:!0,container:c,children:f})}))})};G0.displayName=Kp;var ef="DialogOverlay",Y0=v.forwardRef((e,t)=>{const r=q0(ef,e.__scopeDialog),{forceMount:a=r.forceMount,...c}=e,d=_s(ef,e.__scopeDialog);return d.modal?o.jsx(Sf,{present:a||d.open,children:o.jsx(TT,{...c,ref:t})}):null});Y0.displayName=ef;var TT=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=_s(ef,r);return o.jsx(z0,{as:aa,allowPinchZoom:!0,shards:[c.contentRef],children:o.jsx(_t.div,{"data-state":Qp(c.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),ca="DialogContent",K0=v.forwardRef((e,t)=>{const r=q0(ca,e.__scopeDialog),{forceMount:a=r.forceMount,...c}=e,d=_s(ca,e.__scopeDialog);return o.jsx(Sf,{present:a||d.open,children:d.modal?o.jsx(kT,{...c,ref:t}):o.jsx(MT,{...c,ref:t})})});K0.displayName=ca;var kT=v.forwardRef((e,t)=>{const r=_s(ca,e.__scopeDialog),a=v.useRef(null),c=It(t,r.contentRef,a);return v.useEffect(()=>{const d=a.current;if(d)return U0(d)},[]),o.jsx(X0,{...e,ref:c,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(e.onCloseAutoFocus,d=>{var f;d.preventDefault(),(f=r.triggerRef.current)==null||f.focus()}),onPointerDownOutside:st(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0;(f.button===2||p)&&d.preventDefault()}),onFocusOutside:st(e.onFocusOutside,d=>d.preventDefault())})}),MT=v.forwardRef((e,t)=>{const r=_s(ca,e.__scopeDialog),a=v.useRef(!1),c=v.useRef(!1);return o.jsx(X0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var f,p;(f=e.onCloseAutoFocus)==null||f.call(e,d),d.defaultPrevented||(a.current||(p=r.triggerRef.current)==null||p.focus(),d.preventDefault()),a.current=!1,c.current=!1},onInteractOutside:d=>{var g,w;(g=e.onInteractOutside)==null||g.call(e,d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const f=d.target;((w=r.triggerRef.current)==null?void 0:w.contains(f))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),X0=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:d,...f}=e,p=_s(ca,r),g=v.useRef(null),w=It(t,g);return ZP(),o.jsxs(o.Fragment,{children:[o.jsx(Zp,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:c,onUnmountAutoFocus:d,children:o.jsx(Mp,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Qp(p.open),...f,ref:w,onDismiss:()=>p.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(RT,{titleId:p.titleId}),o.jsx(AT,{contentRef:g,descriptionId:p.descriptionId})]})]})}),Xp="DialogTitle",Q0=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=_s(Xp,r);return o.jsx(_t.h2,{id:c.titleId,...a,ref:t})});Q0.displayName=Xp;var J0="DialogDescription",e_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=_s(J0,r);return o.jsx(_t.p,{id:c.descriptionId,...a,ref:t})});e_.displayName=J0;var t_="DialogClose",n_=v.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=_s(t_,r);return o.jsx(_t.button,{type:"button",...a,ref:t,onClick:st(e.onClick,()=>c.onOpenChange(!1))})});n_.displayName=t_;function Qp(e){return e?"open":"closed"}var r_="DialogTitleWarning",[VL,s_]=LP(r_,{contentName:ca,titleName:Xp,docsSlug:"dialog"}),RT=({titleId:e})=>{const t=s_(r_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},LT="DialogDescriptionWarning",AT=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s_(LT).contentName}}.`;return v.useEffect(()=>{var d;const c=(d=e.current)==null?void 0:d.getAttribute("aria-describedby");t&&c&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},DT=W0,OT=Z0,IT=G0,o_=Y0,i_=K0,a_=Q0,l_=e_,FT=n_;const xr=DT,$T=OT,zT=IT,c_=v.forwardRef(({className:e,...t},r)=>o.jsx(o_,{ref:r,className:mt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c_.displayName=o_.displayName;const or=v.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(zT,{children:[o.jsx(c_,{}),o.jsxs(i_,{ref:a,className:mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(FT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(ru,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));or.displayName=i_.displayName;const ir=({className:e,...t})=>o.jsx("div",{className:mt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ir.displayName="DialogHeader";const ua=({className:e,...t})=>o.jsx("div",{className:mt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ua.displayName="DialogFooter";const ar=v.forwardRef(({className:e,...t},r)=>o.jsx(a_,{ref:r,className:mt("text-lg font-semibold leading-none tracking-tight",e),...t}));ar.displayName=a_.displayName;const yr=v.forwardRef(({className:e,...t},r)=>o.jsx(l_,{ref:r,className:mt("text-sm text-muted-foreground",e),...t}));yr.displayName=l_.displayName;function op(e){return new Date(e).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function BT(e){const t=new Date(e),r=new Date,a=t.toLocaleDateString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"}),c=r.toLocaleDateString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return a===c}function UT(){return new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function u_({employeeId:e,isOpen:t,onClose:r}){var $e;const[a,c]=v.useState([]),[d,f]=v.useState([]),[p,g]=v.useState(!1),[w,_]=v.useState(""),[b,S]=v.useState(1),[k,P]=v.useState(1),[j,C]=v.useState(0),[T,D]=v.useState(null),[M,O]=v.useState(!1),[I,G]=v.useState("all"),U=10;v.useEffect(()=>{t&&(re(),e&&q())},[t,e,b]);const re=async()=>{var J,_e,B,pe;g(!0);try{const ie=new URLSearchParams({page:b.toString(),limit:U.toString()});e&&ie.append("employeeId",e),console.log("Fetching meeting history for employee:",e);const $=await ut.get(`/api/meeting-history?${ie.toString()}`);if($.ok){const te=await $.json();console.log("Meeting history data received:",te),console.log("Number of meetings:",((J=te.meetings)==null?void 0:J.length)||0),((_e=te.meetings)==null?void 0:_e.length)>0&&(console.log("First meeting details:",te.meetings[0]),console.log("First meeting's meetingDetails:",te.meetings[0].meetingDetails),console.log("Customer name:",(B=te.meetings[0].meetingDetails)==null?void 0:B.customerName),console.log("Customer employee name:",(pe=te.meetings[0].meetingDetails)==null?void 0:pe.customerEmployeeName)),c(te.meetings||[]),C(te.total||0),P(te.totalPages||1)}else console.error("Failed to fetch meeting history:",$.status,$.statusText)}catch(ie){console.error("Error fetching meeting history:",ie),c([]),C(0),P(1)}finally{g(!1)}},q=async()=>{try{if(!e)return;console.log("Fetching incomplete meeting remarks for employee:",e);const J=await ut.get(`/api/incomplete-meeting-remarks?employeeId=${e}`);if(J.ok){const _e=await J.json();console.log("Incomplete meeting remarks data received:",_e),f(_e.meetings||[])}else console.error("Failed to fetch incomplete meeting remarks:",J.status,J.statusText),f([])}catch(J){console.error("Error fetching incomplete meeting remarks:",J),f([])}},X=a.filter(J=>{var pe,ie,$,te,Pe;if(!w)return!0;const _e=w.toLowerCase(),B=J.meetingDetails;return((pe=B.customerName)==null?void 0:pe.toLowerCase().includes(_e))||((ie=B.customerEmployeeName)==null?void 0:ie.toLowerCase().includes(_e))||(($=B.customerEmail)==null?void 0:$.toLowerCase().includes(_e))||((te=B.customerDepartment)==null?void 0:te.toLowerCase().includes(_e))||((Pe=B.customerDesignation)==null?void 0:Pe.toLowerCase().includes(_e))||B.discussion.toLowerCase().includes(_e)}),ne=J=>{D(J),O(!0)},ge=J=>op(J),Oe=()=>{b>1&&S(b-1)},me=()=>{b<k&&S(b+1)};return o.jsxs(o.Fragment,{children:[o.jsx(xr,{open:t,onOpenChange:r,children:o.jsxs(or,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[o.jsxs(ir,{children:[o.jsxs(ar,{className:"flex items-center space-x-2",children:[o.jsx(dw,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Meeting History"}),I==="all"&&j>0&&o.jsxs(Nt,{variant:"secondary",className:"ml-2",children:[j," meetings"]}),I==="incomplete"&&d.length>0&&o.jsxs(Nt,{variant:"destructive",className:"ml-2",children:[d.length," incomplete"]})]}),o.jsx(yr,{children:I==="all"?"View completed meetings with customer details and discussion notes.":"View incomplete meeting remarks from your logout sessions."})]}),o.jsxs("div",{className:"flex space-x-2 border-b",children:[o.jsxs(je,{variant:I==="all"?"default":"ghost",size:"sm",onClick:()=>G("all"),className:"px-4",children:["All Meetings (",j,")"]}),o.jsxs(je,{variant:I==="incomplete"?"default":"ghost",size:"sm",onClick:()=>G("incomplete"),className:"px-4",children:["Incomplete Remarks (",d.length,")"]})]}),o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col space-y-4",children:[I==="all"&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(dn,{placeholder:"Search meetings by customer, discussion...",value:w,onChange:J=>_(J.target.value),className:"pl-10"})]}),o.jsxs(je,{variant:"outline",size:"sm",children:[o.jsx(fw,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:I==="all"?o.jsx(o.Fragment,{children:p?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):X.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:w?"No meetings found matching your search.":"No meeting history available."}):o.jsx("div",{className:"space-y-3",children:X.map(J=>{var _e;return o.jsx(dt,{className:"border-l-4 border-l-primary cursor-pointer hover:shadow-md transition-shadow",onClick:()=>ne(J),children:o.jsx(ft,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ns,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:ge(J.timestamp)})]}),J.leadInfo&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rx,{className:"h-4 w-4 text-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Lead: ",((_e=J.leadInfo)==null?void 0:_e.id)||null]})]}),J.meetingDetails.customers&&J.meetingDetails.customers.length>0?o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gm,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm font-medium",children:["Customers (",J.meetingDetails.customers.length,")"]})]}),J.meetingDetails.customers.map((B,pe)=>o.jsxs("div",{className:"ml-6 text-sm",children:[o.jsx("div",{className:"font-medium",children:B.customerName}),o.jsxs("div",{className:"text-muted-foreground",children:["Contact: ",B.customerEmployeeName,B.customerDesignation&&o.jsxs("span",{children:[" (",B.customerDesignation,")"]})]})]},pe))]}):o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gm,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:J.meetingDetails.customerName||"Unknown Company"})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[o.jsx(mf,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm",children:[J.meetingDetails.customerEmployeeName||"No contact person",J.meetingDetails.customerDesignation&&o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",J.meetingDetails.customerDesignation,")"]})]})]})]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Tp,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:J.meetingDetails.discussion})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:J.meetingDetails.customers&&J.meetingDetails.customers.length>0?J.meetingDetails.customers.map((B,pe)=>o.jsxs("div",{className:"flex flex-wrap gap-1",children:[B.customerEmail&&o.jsxs(Nt,{variant:"outline",className:"text-xs",children:[o.jsx(di,{className:"h-3 w-3 mr-1"}),B.customerEmail]}),B.customerMobile&&o.jsxs(Nt,{variant:"outline",className:"text-xs",children:[o.jsx(fi,{className:"h-3 w-3 mr-1"}),B.customerMobile]}),B.customerDepartment&&o.jsx(Nt,{variant:"secondary",className:"text-xs",children:B.customerDepartment})]},pe)):o.jsxs(o.Fragment,{children:[J.meetingDetails.customerEmail&&o.jsxs(Nt,{variant:"outline",className:"text-xs",children:[o.jsx(di,{className:"h-3 w-3 mr-1"}),J.meetingDetails.customerEmail]}),J.meetingDetails.customerMobile&&o.jsxs(Nt,{variant:"outline",className:"text-xs",children:[o.jsx(fi,{className:"h-3 w-3 mr-1"}),J.meetingDetails.customerMobile]}),J.meetingDetails.customerDepartment&&o.jsx(Nt,{variant:"secondary",className:"text-xs",children:J.meetingDetails.customerDepartment})]})})]}),o.jsx(je,{variant:"outline",size:"sm",onClick:()=>ne(J),children:"View Details"})]})})},J.id)})})}):o.jsx(o.Fragment,{children:d.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No incomplete meeting remarks available."}):o.jsx("div",{className:"space-y-3",children:d.map(J=>o.jsx(dt,{className:"border-l-4 border-l-destructive cursor-pointer hover:shadow-md transition-shadow",onClick:()=>ne(J),children:o.jsx(ft,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ns,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm font-medium text-destructive",children:ge(J.timestamp)})]}),J.meetingDetails.customers&&J.meetingDetails.customers.length>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gm,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:J.meetingDetails.customers[0].customerName})]}),J.meetingDetails.customers[0].customerEmployeeName&&o.jsxs("div",{className:"text-sm text-muted-foreground ml-6",children:["Contact: ",J.meetingDetails.customers[0].customerEmployeeName]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(xn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Reason:"}),o.jsx("p",{className:"text-sm line-clamp-2",children:J.meetingDetails.incompleteReason||J.meetingDetails.discussion})]})]})]}),o.jsx(je,{variant:"outline",size:"sm",onClick:()=>ne(J),children:"View"})]})})},J.id))})})}),I==="all"&&k>1&&o.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(b-1)*U+1," to"," ",Math.min(b*U,j)," of ",j," ","meetings"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:Oe,disabled:b<=1,children:[o.jsx(aw,{className:"h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm",children:["Page ",b," of ",k]}),o.jsxs(je,{variant:"outline",size:"sm",onClick:me,disabled:b>=k,children:["Next",o.jsx(lw,{className:"h-4 w-4"})]})]})]})]})]})}),T&&o.jsx(xr,{open:M,onOpenChange:O,children:o.jsxs(or,{className:"sm:max-w-md",children:[o.jsxs(ir,{children:[o.jsx(ar,{children:"Meeting Details"}),o.jsx(yr,{children:ge(T.timestamp)})]}),o.jsxs("div",{className:"space-y-4",children:[T.meetingDetails.customers&&T.meetingDetails.customers.length>0?o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-muted-foreground",children:["Customer Contacts (",T.meetingDetails.customers.length,")"]}),o.jsx("div",{className:"space-y-3 mt-2",children:T.meetingDetails.customers.map((J,_e)=>o.jsxs("div",{className:"p-3 bg-muted/20 rounded-md space-y-2",children:[o.jsx("div",{children:o.jsx("span",{className:"text-sm font-medium",children:J.customerName})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("p",{children:J.customerEmployeeName})]}),J.customerDesignation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Position:"}),o.jsx("p",{children:J.customerDesignation})]}),J.customerDepartment&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("p",{children:J.customerDepartment})]}),J.customerEmail&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("p",{children:J.customerEmail})]}),J.customerMobile&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),o.jsx("p",{children:J.customerMobile})]})]})]},_e))})]}):o.jsxs(o.Fragment,{children:[T.meetingDetails.customerName&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer Name"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerName})]}),T.meetingDetails.customerEmployeeName&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Person"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerEmployeeName})]}),T.meetingDetails.customerEmail&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerEmail})]}),T.meetingDetails.customerMobile&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mobile"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerMobile})]}),T.meetingDetails.customerDesignation&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Designation"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerDesignation})]}),T.meetingDetails.customerDepartment&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerDepartment})]})]}),T.leadInfo&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Associated Lead"}),o.jsxs("div",{className:"p-3 bg-blue-50 rounded-md mt-2 space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rx,{className:"h-4 w-4 text-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Lead ID: ",(($e=T.leadInfo)==null?void 0:$e.id)||null]})]}),o.jsxs("div",{className:"text-sm text-blue-600",children:["Company: ",T.leadInfo.companyName]}),o.jsxs("div",{className:"text-sm text-blue-600",children:["Contact: ",T.leadInfo.contactName]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Discussion"}),o.jsx("p",{className:"text-sm bg-muted/50 p-3 rounded-md mt-1",children:T.meetingDetails.discussion})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(je,{variant:"outline",onClick:()=>O(!1),children:"Close"})})]})})]})}function HT({onInstall:e,onDismiss:t}){const[r,a]=v.useState(null),[c,d]=v.useState(!1),[f,p]=v.useState(!1),[g,w]=v.useState(!1),[_,b]=v.useState(!1);v.useEffect(()=>{const P=window.matchMedia("(display-mode: standalone)").matches,j=/iPad|iPhone|iPod/.test(navigator.userAgent);b(P),w(j),p(P);const C=D=>{console.log("PWA install prompt available"),D.preventDefault(),a(D),d(!0)},T=()=>{console.log("PWA was installed"),p(!0),d(!1),a(null),e==null||e()};if(window.addEventListener("beforeinstallprompt",C),window.addEventListener("appinstalled",T),j&&!P){const D=setTimeout(()=>{d(!0)},2e3);return()=>clearTimeout(D)}return()=>{window.removeEventListener("beforeinstallprompt",C),window.removeEventListener("appinstalled",T)}},[e]);const S=async()=>{!r&&!g||r&&(r.prompt(),(await r.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),a(null),d(!1))},k=()=>{d(!1),t==null||t()};return f||!c?null:o.jsxs(dt,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-accent/5",children:[o.jsx(Mt,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Rt,{className:"flex items-center space-x-2 text-lg",children:[o.jsx(tS,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Install Fusion Tracker"}),o.jsx(Nt,{variant:"secondary",className:"bg-primary text-primary-foreground",children:"Recommended"})]}),o.jsx(je,{variant:"ghost",size:"sm",onClick:k,children:o.jsx(ru,{className:"h-4 w-4"})})]})}),o.jsxs(ft,{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Install this app on your device for enhanced location tracking capabilities"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Hd,{className:"h-4 w-4 text-success"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Better Background Tracking"})," - Works when phone is in pocket"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(po,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Improved GPS Accuracy"})," - More precise location updates"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Jr,{className:"h-4 w-4 text-info"}),o.jsxs("span",{children:[o.jsx("strong",{children:"App-like Experience"})," - Faster loading and better performance"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(K1,{className:"h-4 w-4 text-accent"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Offline Support"})," - Basic functionality without internet"]})]})]}),g?o.jsxs("div",{className:"bg-info/10 border border-info/20 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm font-medium text-info mb-2",children:"iOS Installation:"}),o.jsxs("ol",{className:"text-xs text-muted-foreground space-y-1 list-decimal list-inside",children:[o.jsxs("li",{children:["Tap the ",o.jsx("strong",{children:"Share"})," button (square with arrow) in Safari"]}),o.jsxs("li",{children:["Scroll down and tap ",o.jsx("strong",{children:'"Add to Home Screen"'})]}),o.jsxs("li",{children:["Tap ",o.jsx("strong",{children:'"Add"'})," to install the app"]}),o.jsx("li",{children:"Find the app on your home screen and open it"})]})]}):o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(je,{onClick:S,className:"flex-1",disabled:!r,children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),"Install App"]}),o.jsx(je,{variant:"outline",onClick:k,children:"Not Now"})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx("strong",{children:"Note:"})," Installing as a PWA provides native app-like capabilities while maintaining all web features. No app store required."]})]})]})}function WT(){const[e,t]=v.useState(!1),[r,a]=v.useState(!1);return v.useEffect(()=>{const c=window.matchMedia("(display-mode: standalone)").matches,d=/iPad|iPhone|iPod/.test(navigator.userAgent);a(c);const f=g=>{t(!0)},p=()=>{a(!0),t(!1)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",p),d&&!c&&t(!0),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",p)}},[]),{canInstall:e,isInstalled:r}}function wr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function vi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function VT(e,t){const r=wr(e);return isNaN(t)?vi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const d_=6048e5,ZT=864e5,f_=6e4,h_=36e5;let qT={};function Ef(){return qT}function Kc(e,t){var p,g,w,_;const r=Ef(),a=(t==null?void 0:t.weekStartsOn)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??0,c=wr(e),d=c.getDay(),f=(d<a?7:0)+d-a;return c.setDate(c.getDate()-f),c.setHours(0,0,0,0),c}function tf(e){return Kc(e,{weekStartsOn:1})}function m_(e){const t=wr(e),r=t.getFullYear(),a=vi(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const c=tf(a),d=vi(e,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const f=tf(d);return t.getTime()>=c.getTime()?r+1:t.getTime()>=f.getTime()?r:r-1}function qx(e){const t=wr(e);return t.setHours(0,0,0,0),t}function Gx(e){const t=wr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function GT(e,t){const r=qx(e),a=qx(t),c=+r-Gx(r),d=+a-Gx(a);return Math.round((c-d)/ZT)}function YT(e){const t=m_(e),r=vi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),tf(r)}function KT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function XT(e){if(!KT(e)&&typeof e!="number")return!1;const t=wr(e);return!isNaN(Number(t))}function QT(e){const t=wr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function JT(e){const t=wr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function e2(e){const t=wr(e),r=vi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const t2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n2=(e,t,r)=>{let a;const c=t2[e];return typeof c=="string"?a=c:t===1?a=c.one:a=c.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function km(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const r2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i2={date:km({formats:r2,defaultWidth:"full"}),time:km({formats:s2,defaultWidth:"full"}),dateTime:km({formats:o2,defaultWidth:"full"})},a2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l2=(e,t,r,a)=>a2[e];function kc(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let c;if(a==="formatting"&&e.formattingValues){const f=e.defaultFormattingWidth||e.defaultWidth,p=r!=null&&r.width?String(r.width):f;c=e.formattingValues[p]||e.formattingValues[f]}else{const f=e.defaultWidth,p=r!=null&&r.width?String(r.width):e.defaultWidth;c=e.values[p]||e.values[f]}const d=e.argumentCallback?e.argumentCallback(t):t;return c[d]}}const c2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},h2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},m2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},p2=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},g2={ordinalNumber:p2,era:kc({values:c2,defaultWidth:"wide"}),quarter:kc({values:u2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kc({values:d2,defaultWidth:"wide"}),day:kc({values:f2,defaultWidth:"wide"}),dayPeriod:kc({values:h2,defaultWidth:"wide",formattingValues:m2,defaultFormattingWidth:"wide"})};function Mc(e){return(t,r={})=>{const a=r.width,c=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],d=t.match(c);if(!d)return null;const f=d[0],p=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(p)?x2(p,b=>b.test(f)):v2(p,b=>b.test(f));let w;w=e.valueCallback?e.valueCallback(g):g,w=r.valueCallback?r.valueCallback(w):w;const _=t.slice(f.length);return{value:w,rest:_}}}function v2(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function x2(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function y2(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const c=a[0],d=t.match(e.parsePattern);if(!d)return null;let f=e.valueCallback?e.valueCallback(d[0]):d[0];f=r.valueCallback?r.valueCallback(f):f;const p=t.slice(c.length);return{value:f,rest:p}}}const w2=/^(\d+)(th|st|nd|rd)?/i,_2=/\d+/i,b2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},N2={any:[/^b/i,/^(a|c)/i]},S2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},j2={any:[/1/i,/2/i,/3/i,/4/i]},E2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},C2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},T2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},k2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},R2={ordinalNumber:y2({matchPattern:w2,parsePattern:_2,valueCallback:e=>parseInt(e,10)}),era:Mc({matchPatterns:b2,defaultMatchWidth:"wide",parsePatterns:N2,defaultParseWidth:"any"}),quarter:Mc({matchPatterns:S2,defaultMatchWidth:"wide",parsePatterns:j2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mc({matchPatterns:E2,defaultMatchWidth:"wide",parsePatterns:C2,defaultParseWidth:"any"}),day:Mc({matchPatterns:P2,defaultMatchWidth:"wide",parsePatterns:T2,defaultParseWidth:"any"}),dayPeriod:Mc({matchPatterns:k2,defaultMatchWidth:"any",parsePatterns:M2,defaultParseWidth:"any"})},L2={code:"en-US",formatDistance:n2,formatLong:i2,formatRelative:l2,localize:g2,match:R2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function A2(e){const t=wr(e);return GT(t,e2(t))+1}function D2(e){const t=wr(e),r=+tf(t)-+YT(t);return Math.round(r/d_)+1}function p_(e,t){var _,b,S,k;const r=wr(e),a=r.getFullYear(),c=Ef(),d=(t==null?void 0:t.firstWeekContainsDate)??((b=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??c.firstWeekContainsDate??((k=(S=c.locale)==null?void 0:S.options)==null?void 0:k.firstWeekContainsDate)??1,f=vi(e,0);f.setFullYear(a+1,0,d),f.setHours(0,0,0,0);const p=Kc(f,t),g=vi(e,0);g.setFullYear(a,0,d),g.setHours(0,0,0,0);const w=Kc(g,t);return r.getTime()>=p.getTime()?a+1:r.getTime()>=w.getTime()?a:a-1}function O2(e,t){var p,g,w,_;const r=Ef(),a=(t==null?void 0:t.firstWeekContainsDate)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??1,c=p_(e,t),d=vi(e,0);return d.setFullYear(c,0,a),d.setHours(0,0,0,0),Kc(d,t)}function I2(e,t){const r=wr(e),a=+Kc(r,t)-+O2(r,t);return Math.round(a/d_)+1}function Qt(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const ei={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Qt(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Qt(r+1,2)},d(e,t){return Qt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Qt(e.getHours()%12||12,t.length)},H(e,t){return Qt(e.getHours(),t.length)},m(e,t){return Qt(e.getMinutes(),t.length)},s(e,t){return Qt(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),c=Math.trunc(a*Math.pow(10,r-3));return Qt(c,t.length)}},ol={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yx={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),c=a>0?a:1-a;return r.ordinalNumber(c,{unit:"year"})}return ei.y(e,t)},Y:function(e,t,r,a){const c=p_(e,a),d=c>0?c:1-c;if(t==="YY"){const f=d%100;return Qt(f,2)}return t==="Yo"?r.ordinalNumber(d,{unit:"year"}):Qt(d,t.length)},R:function(e,t){const r=m_(e);return Qt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Qt(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Qt(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Qt(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return ei.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Qt(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const c=I2(e,a);return t==="wo"?r.ordinalNumber(c,{unit:"week"}):Qt(c,t.length)},I:function(e,t,r){const a=D2(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Qt(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ei.d(e,t)},D:function(e,t,r){const a=A2(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Qt(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(d);case"ee":return Qt(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(c,{width:"short",context:"formatting"});case"eeee":default:return r.day(c,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(d);case"cc":return Qt(d,t.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(c,{width:"narrow",context:"standalone"});case"cccccc":return r.day(c,{width:"short",context:"standalone"});case"cccc":default:return r.day(c,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),c=a===0?7:a;switch(t){case"i":return String(c);case"ii":return Qt(c,t.length);case"io":return r.ordinalNumber(c,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const c=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let c;switch(a===12?c=ol.noon:a===0?c=ol.midnight:c=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let c;switch(a>=17?c=ol.evening:a>=12?c=ol.afternoon:a>=4?c=ol.morning:c=ol.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return ei.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ei.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Qt(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Qt(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ei.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ei.s(e,t)},S:function(e,t){return ei.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Xx(a);case"XXXX":case"XX":return Gi(a);case"XXXXX":case"XXX":default:return Gi(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return Xx(a);case"xxxx":case"xx":return Gi(a);case"xxxxx":case"xxx":default:return Gi(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Kx(a,":");case"OOOO":default:return"GMT"+Gi(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Kx(a,":");case"zzzz":default:return"GMT"+Gi(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return Qt(a,t.length)},T:function(e,t,r){const a=e.getTime();return Qt(a,t.length)}};function Kx(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),c=Math.trunc(a/60),d=a%60;return d===0?r+String(c):r+String(c)+t+Qt(d,2)}function Xx(e,t){return e%60===0?(e>0?"-":"+")+Qt(Math.abs(e)/60,2):Gi(e,t)}function Gi(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),c=Qt(Math.trunc(a/60),2),d=Qt(a%60,2);return r+c+t+d}const Qx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},g_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},F2=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],c=r[2];if(!c)return Qx(e,t);let d;switch(a){case"P":d=t.dateTime({width:"short"});break;case"PP":d=t.dateTime({width:"medium"});break;case"PPP":d=t.dateTime({width:"long"});break;case"PPPP":default:d=t.dateTime({width:"full"});break}return d.replace("{{date}}",Qx(a,t)).replace("{{time}}",g_(c,t))},$2={p:g_,P:F2},z2=/^D+$/,B2=/^Y+$/,U2=["D","DD","YY","YYYY"];function H2(e){return z2.test(e)}function W2(e){return B2.test(e)}function V2(e,t,r){const a=Z2(e,t,r);if(console.warn(a),U2.includes(e))throw new RangeError(a)}function Z2(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const q2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y2=/^'([^]*?)'?$/,K2=/''/g,X2=/[a-zA-Z]/;function cn(e,t,r){var _,b,S,k;const a=Ef(),c=a.locale??L2,d=a.firstWeekContainsDate??((b=(_=a.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,f=a.weekStartsOn??((k=(S=a.locale)==null?void 0:S.options)==null?void 0:k.weekStartsOn)??0,p=wr(e);if(!XT(p))throw new RangeError("Invalid time value");let g=t.match(G2).map(P=>{const j=P[0];if(j==="p"||j==="P"){const C=$2[j];return C(P,c.formatLong)}return P}).join("").match(q2).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const j=P[0];if(j==="'")return{isToken:!1,value:Q2(P)};if(Yx[j])return{isToken:!0,value:P};if(j.match(X2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:P}});c.localize.preprocessor&&(g=c.localize.preprocessor(p,g));const w={firstWeekContainsDate:d,weekStartsOn:f,locale:c};return g.map(P=>{if(!P.isToken)return P.value;const j=P.value;(W2(j)||H2(j))&&V2(j,t,String(e));const C=Yx[j[0]];return C(p,j,c.localize,w)}).join("")}function Q2(e){const t=e.match(Y2);return t?t[1].replace(K2,"'"):e}function Jx(e,t){return VT(e,-t)}function J2(e,t){const a=rk(e);let c;if(a.date){const g=sk(a.date,2);c=ok(g.restDateString,g.year)}if(!c||isNaN(c.getTime()))return new Date(NaN);const d=c.getTime();let f=0,p;if(a.time&&(f=ik(a.time),isNaN(f)))return new Date(NaN);if(a.timezone){if(p=ak(a.timezone),isNaN(p))return new Date(NaN)}else{const g=new Date(d+f),w=new Date(0);return w.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),w.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),w}return new Date(d+f+p)}const Fd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ek=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tk=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nk=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rk(e){const t={},r=e.split(Fd.dateTimeDelimiter);let a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],Fd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Fd.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const c=Fd.timezone.exec(a);c?(t.time=a.replace(c[1],""),t.timezone=c[1]):t.time=a}return t}function sk(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const c=a[1]?parseInt(a[1]):null,d=a[2]?parseInt(a[2]):null;return{year:d===null?c:d*100,restDateString:e.slice((a[1]||a[2]).length)}}function ok(e,t){if(t===null)return new Date(NaN);const r=e.match(ek);if(!r)return new Date(NaN);const a=!!r[4],c=Rc(r[1]),d=Rc(r[2])-1,f=Rc(r[3]),p=Rc(r[4]),g=Rc(r[5])-1;if(a)return fk(t,p,g)?lk(t,p,g):new Date(NaN);{const w=new Date(0);return!uk(t,d,f)||!dk(t,c)?new Date(NaN):(w.setUTCFullYear(t,d,Math.max(c,f)),w)}}function Rc(e){return e?parseInt(e):1}function ik(e){const t=e.match(tk);if(!t)return NaN;const r=Mm(t[1]),a=Mm(t[2]),c=Mm(t[3]);return hk(r,a,c)?r*h_+a*f_+c*1e3:NaN}function Mm(e){return e&&parseFloat(e.replace(",","."))||0}function ak(e){if(e==="Z")return 0;const t=e.match(nk);if(!t)return 0;const r=t[1]==="+"?-1:1,a=parseInt(t[2]),c=t[3]&&parseInt(t[3])||0;return mk(a,c)?r*(a*h_+c*f_):NaN}function lk(e,t,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const c=a.getUTCDay()||7,d=(t-1)*7+r+1-c;return a.setUTCDate(a.getUTCDate()+d),a}const ck=[31,null,31,30,31,30,31,31,30,31,30,31];function v_(e){return e%400===0||e%4===0&&e%100!==0}function uk(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(ck[t]||(v_(e)?29:28))}function dk(e,t){return t>=1&&t<=(v_(e)?366:365)}function fk(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function hk(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function mk(e,t){return t>=0&&t<=59}function x_({userId:e,onStartMeeting:t,startedMeetingMap:r,onEndMeetingFromFollowUp:a,onMeetingsFetched:c,refreshTrigger:d,hasActiveMeeting:f=!1,todaysFollowUpMeetings:p}){const[g,w]=v.useState([]),[_,b]=v.useState(!0),[S,k]=v.useState(null),[P,j]=v.useState(null),{toast:C}=xo(),T=p||g;v.useEffect(()=>{if(r&&Object.keys(r).length>0){const[q]=Object.keys(r);j(q||null)}else f||j(null)},[r,f]),v.useEffect(()=>{D();const q=setInterval(D,6e4);return()=>clearInterval(q)},[e]),v.useEffect(()=>{d!==void 0&&d>0&&(console.log(" Refresh trigger changed, fetching meetings and clearing local state"),D(),j(null))},[d]);const D=async()=>{if(!e){k("User ID is required"),b(!1);return}try{k(null),console.log("Fetching meetings for user:",e);const ne=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${e}`,ge=await fetch(ne);if(!ge.ok)throw new Error(`Failed to fetch meetings: ${ge.status}`);const Oe=await ge.json();console.log("All meetings fetched:",Oe.length);const me=Oe.filter(J=>{const _e=J.followupDate||J.date;if(!_e)return!1;try{const B=J2(_e);return BT(B.toISOString())&&J.status==="Approved"}catch{return console.warn("Invalid date format for meeting:",J._id),!1}});console.log("Today's approved meetings:",me.length),me.forEach(J=>{console.log(` Meeting ${J.companyName}: status="${J.meetingStatus}"`)});const $e=me.filter(J=>O(J));$e.length>0?(console.log(" Found active meetings from API after refresh:",$e.map(J=>({id:J._id,company:J.companyName,status:J.meetingStatus}))),j($e[0]._id)):console.log(" No active meetings found in API. Checking startedMeetingMap..."),p||w(me),c&&c(me)}catch(q){console.error("Error fetching meetings:",q),k(q instanceof Error?q.message:"Failed to fetch meetings")}finally{b(!1)}};console.log("Todays meeting");const M=q=>{var X;return((X=q.status)==null?void 0:X.toLowerCase())==="completed"?!0:q.meetingStatus==="complete"||q.meetingStatus==="Completed"||q.meetingStatus==="COMPLETED"},O=q=>q.meetingStatus==="In Progress"||q.meetingStatus==="IN_PROGRESS"||q.meetingStatus==="Started"||q.meetingStatus==="meeting on-going",I=f||!!P||r&&Object.keys(r).length>0||T.some(q=>O(q)),G=q=>{if(console.log(" Today's Meeting: Attempting to start meeting:",q.companyName),console.log(" Has active meeting?",f),console.log(" Local active followUpId:",P),I){console.log(" BLOCKED: Cannot start - active meeting exists"),C({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting, starting and marking as local active..."),j(q._id),t(q)},U=q=>{switch(q){case"Approved":return"bg-success text-success-foreground";case"Pending":return"bg-warning text-warning-foreground";case"Rejected":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},re=q=>{switch(q){case"Call":return o.jsx(fi,{className:"h-4 w-4"});case"Email":return o.jsx(di,{className:"h-4 w-4"});case"Meeting":return o.jsx(ns,{className:"h-4 w-4"});default:return o.jsx(xn,{className:"h-4 w-4"})}};return _?o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsxs(Rt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsxs(Nt,{variant:"secondary",children:[o.jsx(El,{className:"h-3 w-3 animate-spin mr-1"}),"Loading..."]})]})}),o.jsx(ft,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(El,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Fetching today's approved meetings..."})]})})]}):S?o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsxs(Rt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsx(Nt,{variant:"destructive",children:"Error"})]})}),o.jsx(ft,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(xn,{className:"h-8 w-8 mx-auto text-destructive mb-2"}),o.jsx("p",{className:"text-sm text-destructive",children:S}),o.jsx(je,{variant:"outline",size:"sm",onClick:D,className:"mt-4",children:"Retry"})]})})]}):o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsxs(Rt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsxs(Nt,{variant:"secondary",children:[T.length," ",T.length===1?"meeting":"meetings"]})]})}),o.jsx(ft,{className:"p-0",children:T.length===0?o.jsxs("div",{className:"text-center py-8 px-4",children:[o.jsx(ns,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),o.jsx("h4",{className:"font-medium mb-1",children:"No approved meetings for today"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Only approved meetings are shown here."})]}):o.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:T.map(q=>{r&&r[q._id];const X=P===q._id,ge=O(q)||X;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[re(q.type),o.jsx("span",{className:"font-medium",children:q.type})]}),o.jsx(Nt,{className:U(q.status),variant:"secondary",children:q.status}),q.meetingTime&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(An,{className:"h-3 w-3"}),q.meetingTime]})]}),o.jsxs("div",{className:"space-y-1",children:[q.companyName&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(hf,{className:"h-3 w-3"}),o.jsx("span",{className:"font-medium",children:q.companyName})]}),q.customerName&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(mf,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:q.customerName}),q.customerDesignation&&o.jsxs("span",{className:"text-muted-foreground",children:[" ",q.customerDesignation]})]}),q.customerMobile&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(fi,{className:"h-3 w-3"}),q.customerMobile]}),q.customerEmail&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(di,{className:"h-3 w-3"}),q.customerEmail]}),q.remark&&o.jsxs("div",{className:"text-sm text-muted-foreground mt-2 p-2 bg-muted/50 rounded",children:[o.jsx("span",{className:"font-medium",children:"Note: "}),q.remark]})]})]}),q.meetingStatus==="Incomplete"||!1?o.jsxs(je,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 border-orange-500 text-orange-600",title:"Meeting marked as incomplete",children:[o.jsx(xn,{className:"h-4 w-4 mr-2"}),"Incomplete"]}):M(q)?o.jsxs(je,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0",children:[o.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Complete"]}):ge?o.jsxs(je,{size:"sm",variant:"destructive",onClick:()=>{console.log(" End Meeting clicked for:",q._id),console.log(" startedMeetingMap:",r);const me=r==null?void 0:r[q._id];a&&me?(console.log(" Calling onEndMeetingFromFollowUp with:",q._id,me),a(q._id,me)):(console.warn(" Cannot end meeting - missing handler or meetingId:",{hasHandler:!!a,meetingId:me,followUpId:q._id}),a&&a(q._id,""))},className:"flex-shrink-0",children:[o.jsx(An,{className:"h-4 w-4 mr-2"}),"End Meeting"]}):I?o.jsxs(je,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 opacity-50 cursor-not-allowed",title:"Complete your current meeting first",children:[o.jsx(tx,{className:"h-4 w-4 mr-2"}),"Meeting Active"]}):o.jsxs(je,{size:"sm",onClick:()=>G(q),className:"flex-shrink-0",children:[o.jsx(tx,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})},q._id)})})})]})}var pk="Label",y_=v.forwardRef((e,t)=>o.jsx(_t.label,{...e,ref:t,onMouseDown:r=>{var c;r.target.closest("button, input, select, textarea")||((c=e.onMouseDown)==null||c.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));y_.displayName=pk;var w_=y_;const gk=tu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ot=v.forwardRef(({className:e,...t},r)=>o.jsx(w_,{ref:r,className:mt(gk(),e),...t}));Ot.displayName=w_.displayName;const xi=v.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:mt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));xi.displayName="Textarea";function ip(e,[t,r]){return Math.min(r,Math.max(t,e))}var vk=v.createContext(void 0);function __(e){const t=v.useContext(vk);return e||t||"ltr"}var xk="DismissableLayer",ap="dismissableLayer.update",yk="dismissableLayer.pointerDownOutside",wk="dismissableLayer.focusOutside",ey,b_=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),N_=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(b_),[_,b]=v.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=v.useState({}),P=It(t,U=>b(U)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(C),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=T,I=Nk(U=>{const re=U.target,q=[...w.branches].some(X=>X.contains(re));!O||q||(c==null||c(U),f==null||f(U),U.defaultPrevented||p==null||p())},S),G=Sk(U=>{const re=U.target;[...w.branches].some(X=>X.contains(re))||(d==null||d(U),f==null||f(U),U.defaultPrevented||p==null||p())},S);return bp(U=>{D===w.layers.size-1&&(a==null||a(U),!U.defaultPrevented&&p&&(U.preventDefault(),p()))},S),v.useEffect(()=>{if(_)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(ey=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),ty(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=ey)}},[_,S,r,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),ty())},[_,w]),v.useEffect(()=>{const U=()=>k({});return document.addEventListener(ap,U),()=>document.removeEventListener(ap,U)},[]),o.jsx(_t.div,{...g,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:st(e.onFocusCapture,G.onFocusCapture),onBlurCapture:st(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:st(e.onPointerDownCapture,I.onPointerDownCapture)})});N_.displayName=xk;var _k="DismissableLayerBranch",bk=v.forwardRef((e,t)=>{const r=v.useContext(b_),a=v.useRef(null),c=It(t,a);return v.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(_t.div,{...e,ref:c})});bk.displayName=_k;function Nk(e,t=globalThis==null?void 0:globalThis.document){const r=fn(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){S_(yk,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Sk(e,t=globalThis==null?void 0:globalThis.document){const r=fn(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&S_(wk,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ty(){const e=new CustomEvent(ap);document.dispatchEvent(e)}function S_(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var Rm=0;function jk(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ny()),document.body.insertAdjacentElement("beforeend",e[1]??ny()),Rm++,()=>{Rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rm--}},[])}function ny(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Ek="Portal",j_=v.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=v.useState(!1);yn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?lf.createPortal(o.jsx(_t.div,{...a,ref:t}),f):null});j_.displayName=Ek;function E_(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var C_=R0(),Lm=function(){},Cf=v.forwardRef(function(e,t){var r=v.useRef(null),a=v.useState({onScrollCapture:Lm,onWheelCapture:Lm,onTouchMoveCapture:Lm}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,g=e.className,w=e.removeScrollBar,_=e.enabled,b=e.shards,S=e.sideCar,k=e.noIsolation,P=e.inert,j=e.allowPinchZoom,C=e.as,T=C===void 0?"div":C,D=e.gapMode,M=qp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=S,I=M0([r,t]),G=Yn(Yn({},M),c);return v.createElement(v.Fragment,null,_&&v.createElement(O,{sideCar:C_,removeScrollBar:w,shards:b,noIsolation:k,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:r,gapMode:D}),f?v.cloneElement(v.Children.only(p),Yn(Yn({},G),{ref:I})):v.createElement(T,Yn({},G,{className:g,ref:I}),p))});Cf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cf.classNames={fullWidth:Bc,zeroRight:zc};var lp=!1;if(typeof window<"u")try{var $d=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{lp=!1}var il=lp?{passive:!1}:!1,Ck=function(e){return e.tagName==="TEXTAREA"},P_=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ck(e)&&r[t]==="visible")},Pk=function(e){return P_(e,"overflowY")},Tk=function(e){return P_(e,"overflowX")},ry=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=T_(e,a);if(c){var d=k_(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},kk=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},Mk=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},T_=function(e,t){return e==="v"?Pk(t):Tk(t)},k_=function(e,t){return e==="v"?kk(t):Mk(t)},Rk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Lk=function(e,t,r,a,c){var d=Rk(e,window.getComputedStyle(t).direction),f=d*a,p=r.target,g=t.contains(p),w=!1,_=f>0,b=0,S=0;do{var k=k_(e,p),P=k[0],j=k[1],C=k[2],T=j-C-d*P;(P||T)&&T_(e,p)&&(b+=T,S+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!g&&p!==document.body||g&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(S)<1)&&(w=!0),w},zd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sy=function(e){return[e.deltaX,e.deltaY]},oy=function(e){return e&&"current"in e?e.current:e},Ak=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Dk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ok=0,al=[];function Ik(e){var t=v.useRef([]),r=v.useRef([0,0]),a=v.useRef(),c=v.useState(Ok++)[0],d=v.useState(Gp)[0],f=v.useRef(e);v.useEffect(function(){f.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=k0([e.lockRef.current],(e.shards||[]).map(oy),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=v.useCallback(function(j,C){if("touches"in j&&j.touches.length===2)return!f.current.allowPinchZoom;var T=zd(j),D=r.current,M="deltaX"in j?j.deltaX:D[0]-T[0],O="deltaY"in j?j.deltaY:D[1]-T[1],I,G=j.target,U=Math.abs(M)>Math.abs(O)?"h":"v";if("touches"in j&&U==="h"&&G.type==="range")return!1;var re=ry(U,G);if(!re)return!0;if(re?I=U:(I=U==="v"?"h":"v",re=ry(U,G)),!re)return!1;if(!a.current&&"changedTouches"in j&&(M||O)&&(a.current=I),!I)return!0;var q=a.current||I;return Lk(q,C,j,q==="h"?M:O)},[]),g=v.useCallback(function(j){var C=j;if(!(!al.length||al[al.length-1]!==d)){var T="deltaY"in C?sy(C):zd(C),D=t.current.filter(function(I){return I.name===C.type&&(I.target===C.target||C.target===I.shadowParent)&&Ak(I.delta,T)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var M=(f.current.shards||[]).map(oy).filter(Boolean).filter(function(I){return I.contains(C.target)}),O=M.length>0?p(C,M[0]):!f.current.noIsolation;O&&C.cancelable&&C.preventDefault()}}},[]),w=v.useCallback(function(j,C,T,D){var M={name:j,delta:C,target:T,should:D,shadowParent:Fk(T)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(O){return O!==M})},1)},[]),_=v.useCallback(function(j){r.current=zd(j),a.current=void 0},[]),b=v.useCallback(function(j){w(j.type,sy(j),j.target,p(j,e.lockRef.current))},[]),S=v.useCallback(function(j){w(j.type,zd(j),j.target,p(j,e.lockRef.current))},[]);v.useEffect(function(){return al.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:S}),document.addEventListener("wheel",g,il),document.addEventListener("touchmove",g,il),document.addEventListener("touchstart",_,il),function(){al=al.filter(function(j){return j!==d}),document.removeEventListener("wheel",g,il),document.removeEventListener("touchmove",g,il),document.removeEventListener("touchstart",_,il)}},[]);var k=e.removeScrollBar,P=e.inert;return v.createElement(v.Fragment,null,P?v.createElement(d,{styles:Dk(c)}):null,k?v.createElement(O0,{gapMode:e.gapMode}):null)}function Fk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $k=A0(C_,Ik);var M_=v.forwardRef(function(e,t){return v.createElement(Cf,Yn({},e,{ref:t,sideCar:$k}))});M_.classNames=Cf.classNames;var zk=[" ","Enter","ArrowUp","ArrowDown"],Bk=[" ","Enter"],au="Select",[Pf,Tf,Uk]=Ly(au),[Dl,ZL]=kl(au,[Uk,xf]),kf=xf(),[Hk,wi]=Dl(au),[Wk,Vk]=Dl(au),R_=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:c,onOpenChange:d,value:f,defaultValue:p,onValueChange:g,dir:w,name:_,autoComplete:b,disabled:S,required:k}=e,P=kf(t),[j,C]=v.useState(null),[T,D]=v.useState(null),[M,O]=v.useState(!1),I=__(w),[G=!1,U]=Uc({prop:a,defaultProp:c,onChange:d}),[re,q]=Uc({prop:f,defaultProp:p,onChange:g}),X=v.useRef(null),ne=j?!!j.closest("form"):!0,[ge,Oe]=v.useState(new Set),me=Array.from(ge).map($e=>$e.props.value).join(";");return o.jsx(RE,{...P,children:o.jsxs(Hk,{required:k,scope:t,trigger:j,onTriggerChange:C,valueNode:T,onValueNodeChange:D,valueNodeHasChildren:M,onValueNodeHasChildrenChange:O,contentId:ml(),value:re,onValueChange:q,open:G,onOpenChange:U,dir:I,triggerPointerDownPosRef:X,disabled:S,children:[o.jsx(Pf.Provider,{scope:t,children:o.jsx(Wk,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback($e=>{Oe(J=>new Set(J).add($e))},[]),onNativeOptionRemove:v.useCallback($e=>{Oe(J=>{const _e=new Set(J);return _e.delete($e),_e})},[]),children:r})}),ne?o.jsxs(rb,{"aria-hidden":!0,required:k,tabIndex:-1,name:_,autoComplete:b,value:re,onChange:$e=>q($e.target.value),disabled:S,children:[re===void 0?o.jsx("option",{value:""}):null,Array.from(ge)]},me):null]})})};R_.displayName=au;var L_="SelectTrigger",A_=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...c}=e,d=kf(r),f=wi(L_,r),p=f.disabled||a,g=It(t,f.onTriggerChange),w=Tf(r),[_,b,S]=sb(P=>{const j=w().filter(D=>!D.disabled),C=j.find(D=>D.value===f.value),T=ob(j,P,C);T!==void 0&&f.onValueChange(T.value)}),k=()=>{p||(f.onOpenChange(!0),S())};return o.jsx(Gw,{asChild:!0,...d,children:o.jsx(_t.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":nb(f.value)?"":void 0,...c,ref:g,onClick:st(c.onClick,P=>{P.currentTarget.focus()}),onPointerDown:st(c.onPointerDown,P=>{const j=P.target;j.hasPointerCapture(P.pointerId)&&j.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&(k(),f.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)},P.preventDefault())}),onKeyDown:st(c.onKeyDown,P=>{const j=_.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&b(P.key),!(j&&P.key===" ")&&zk.includes(P.key)&&(k(),P.preventDefault())})})})});A_.displayName=L_;var D_="SelectValue",O_=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:c,children:d,placeholder:f="",...p}=e,g=wi(D_,r),{onValueNodeHasChildrenChange:w}=g,_=d!==void 0,b=It(t,g.onValueNodeChange);return yn(()=>{w(_)},[w,_]),o.jsx(_t.span,{...p,ref:b,style:{pointerEvents:"none"},children:nb(g.value)?o.jsx(o.Fragment,{children:f}):d})});O_.displayName=D_;var Zk="SelectIcon",I_=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...c}=e;return o.jsx(_t.span,{"aria-hidden":!0,...c,ref:t,children:a||""})});I_.displayName=Zk;var qk="SelectPortal",F_=e=>o.jsx(j_,{asChild:!0,...e});F_.displayName=qk;var da="SelectContent",$_=v.forwardRef((e,t)=>{const r=wi(da,e.__scopeSelect),[a,c]=v.useState();if(yn(()=>{c(new DocumentFragment)},[]),!r.open){const d=a;return d?ha.createPortal(o.jsx(z_,{scope:e.__scopeSelect,children:o.jsx(Pf.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),d):null}return o.jsx(B_,{...e,ref:t})});$_.displayName=da;var mo=10,[z_,_i]=Dl(da),Gk="SelectContentImpl",B_=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,side:p,sideOffset:g,align:w,alignOffset:_,arrowPadding:b,collisionBoundary:S,collisionPadding:k,sticky:P,hideWhenDetached:j,avoidCollisions:C,...T}=e,D=wi(da,r),[M,O]=v.useState(null),[I,G]=v.useState(null),U=It(t,K=>O(K)),[re,q]=v.useState(null),[X,ne]=v.useState(null),ge=Tf(r),[Oe,me]=v.useState(!1),$e=v.useRef(!1);v.useEffect(()=>{if(M)return U0(M)},[M]),jk();const J=v.useCallback(K=>{const[ue,...be]=ge().map(Ze=>Ze.ref.current),[Me]=be.slice(-1),He=document.activeElement;for(const Ze of K)if(Ze===He||(Ze==null||Ze.scrollIntoView({block:"nearest"}),Ze===ue&&I&&(I.scrollTop=0),Ze===Me&&I&&(I.scrollTop=I.scrollHeight),Ze==null||Ze.focus(),document.activeElement!==He))return},[ge,I]),_e=v.useCallback(()=>J([re,M]),[J,re,M]);v.useEffect(()=>{Oe&&_e()},[Oe,_e]);const{onOpenChange:B,triggerPointerDownPosRef:pe}=D;v.useEffect(()=>{if(M){let K={x:0,y:0};const ue=Me=>{var He,Ze;K={x:Math.abs(Math.round(Me.pageX)-(((He=pe.current)==null?void 0:He.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((Ze=pe.current)==null?void 0:Ze.y)??0))}},be=Me=>{K.x<=10&&K.y<=10?Me.preventDefault():M.contains(Me.target)||B(!1),document.removeEventListener("pointermove",ue),pe.current=null};return pe.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",be,{capture:!0})}}},[M,B,pe]),v.useEffect(()=>{const K=()=>B(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[B]);const[ie,$]=sb(K=>{const ue=ge().filter(He=>!He.disabled),be=ue.find(He=>He.ref.current===document.activeElement),Me=ob(ue,K,be);Me&&setTimeout(()=>Me.ref.current.focus())}),te=v.useCallback((K,ue,be)=>{const Me=!$e.current&&!be;(D.value!==void 0&&D.value===ue||Me)&&(q(K),Me&&($e.current=!0))},[D.value]),Pe=v.useCallback(()=>M==null?void 0:M.focus(),[M]),Le=v.useCallback((K,ue,be)=>{const Me=!$e.current&&!be;(D.value!==void 0&&D.value===ue||Me)&&ne(K)},[D.value]),Ee=a==="popper"?cp:U_,F=Ee===cp?{side:p,sideOffset:g,align:w,alignOffset:_,arrowPadding:b,collisionBoundary:S,collisionPadding:k,sticky:P,hideWhenDetached:j,avoidCollisions:C}:{};return o.jsx(z_,{scope:r,content:M,viewport:I,onViewportChange:G,itemRefCallback:te,selectedItem:re,onItemLeave:Pe,itemTextRefCallback:Le,focusSelectedItem:_e,selectedItemText:X,position:a,isPositioned:Oe,searchRef:ie,children:o.jsx(M_,{as:aa,allowPinchZoom:!0,children:o.jsx(Zp,{asChild:!0,trapped:D.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:st(c,K=>{var ue;(ue=D.trigger)==null||ue.focus({preventScroll:!0}),K.preventDefault()}),children:o.jsx(N_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:o.jsx(Ee,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:K=>K.preventDefault(),...T,...F,onPlaced:()=>me(!0),ref:U,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:st(T.onKeyDown,K=>{const ue=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ue&&K.key.length===1&&$(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Me=ge().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const He=K.target,Ze=Me.indexOf(He);Me=Me.slice(Ze+1)}setTimeout(()=>J(Me)),K.preventDefault()}})})})})})})});B_.displayName=Gk;var Yk="SelectItemAlignedPosition",U_=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...c}=e,d=wi(da,r),f=_i(da,r),[p,g]=v.useState(null),[w,_]=v.useState(null),b=It(t,U=>_(U)),S=Tf(r),k=v.useRef(!1),P=v.useRef(!0),{viewport:j,selectedItem:C,selectedItemText:T,focusSelectedItem:D}=f,M=v.useCallback(()=>{if(d.trigger&&d.valueNode&&p&&w&&j&&C&&T){const U=d.trigger.getBoundingClientRect(),re=w.getBoundingClientRect(),q=d.valueNode.getBoundingClientRect(),X=T.getBoundingClientRect();if(d.dir!=="rtl"){const He=X.left-re.left,Ze=q.left-He,rt=U.left-Ze,xt=U.width+rt,Se=Math.max(xt,re.width),Z=window.innerWidth-mo,le=ip(Ze,[mo,Z-Se]);p.style.minWidth=xt+"px",p.style.left=le+"px"}else{const He=re.right-X.right,Ze=window.innerWidth-q.right-He,rt=window.innerWidth-U.right-Ze,xt=U.width+rt,Se=Math.max(xt,re.width),Z=window.innerWidth-mo,le=ip(Ze,[mo,Z-Se]);p.style.minWidth=xt+"px",p.style.right=le+"px"}const ne=S(),ge=window.innerHeight-mo*2,Oe=j.scrollHeight,me=window.getComputedStyle(w),$e=parseInt(me.borderTopWidth,10),J=parseInt(me.paddingTop,10),_e=parseInt(me.borderBottomWidth,10),B=parseInt(me.paddingBottom,10),pe=$e+J+Oe+B+_e,ie=Math.min(C.offsetHeight*5,pe),$=window.getComputedStyle(j),te=parseInt($.paddingTop,10),Pe=parseInt($.paddingBottom,10),Le=U.top+U.height/2-mo,Ee=ge-Le,F=C.offsetHeight/2,K=C.offsetTop+F,ue=$e+J+K,be=pe-ue;if(ue<=Le){const He=C===ne[ne.length-1].ref.current;p.style.bottom="0px";const Ze=w.clientHeight-j.offsetTop-j.offsetHeight,rt=Math.max(Ee,F+(He?Pe:0)+Ze+_e),xt=ue+rt;p.style.height=xt+"px"}else{const He=C===ne[0].ref.current;p.style.top="0px";const rt=Math.max(Le,$e+j.offsetTop+(He?te:0)+F)+be;p.style.height=rt+"px",j.scrollTop=ue-Le+j.offsetTop}p.style.margin=`${mo}px 0`,p.style.minHeight=ie+"px",p.style.maxHeight=ge+"px",a==null||a(),requestAnimationFrame(()=>k.current=!0)}},[S,d.trigger,d.valueNode,p,w,j,C,T,d.dir,a]);yn(()=>M(),[M]);const[O,I]=v.useState();yn(()=>{w&&I(window.getComputedStyle(w).zIndex)},[w]);const G=v.useCallback(U=>{U&&P.current===!0&&(M(),D==null||D(),P.current=!1)},[M,D]);return o.jsx(Xk,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:k,onScrollButtonChange:G,children:o.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:o.jsx(_t.div,{...c,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});U_.displayName=Yk;var Kk="SelectPopperPosition",cp=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:c=mo,...d}=e,f=kf(r);return o.jsx(Yw,{...f,...d,ref:t,align:a,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cp.displayName=Kk;var[Xk,Jp]=Dl(da,{}),up="SelectViewport",H_=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...c}=e,d=_i(up,r),f=Jp(up,r),p=It(t,d.onViewportChange),g=v.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Pf.Slot,{scope:r,children:o.jsx(_t.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:p,style:{position:"relative",flex:1,overflow:"auto",...c.style},onScroll:st(c.onScroll,w=>{const _=w.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:S}=f;if(S!=null&&S.current&&b){const k=Math.abs(g.current-_.scrollTop);if(k>0){const P=window.innerHeight-mo*2,j=parseFloat(b.style.minHeight),C=parseFloat(b.style.height),T=Math.max(j,C);if(T<P){const D=T+k,M=Math.min(P,D),O=D-M;b.style.height=M+"px",b.style.bottom==="0px"&&(_.scrollTop=O>0?O:0,b.style.justifyContent="flex-end")}}}g.current=_.scrollTop})})})]})});H_.displayName=up;var W_="SelectGroup",[Qk,Jk]=Dl(W_),eM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=ml();return o.jsx(Qk,{scope:r,id:c,children:o.jsx(_t.div,{role:"group","aria-labelledby":c,...a,ref:t})})});eM.displayName=W_;var V_="SelectLabel",Z_=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=Jk(V_,r);return o.jsx(_t.div,{id:c.id,...a,ref:t})});Z_.displayName=V_;var nf="SelectItem",[tM,q_]=Dl(nf),G_=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:c=!1,textValue:d,...f}=e,p=wi(nf,r),g=_i(nf,r),w=p.value===a,[_,b]=v.useState(d??""),[S,k]=v.useState(!1),P=It(t,T=>{var D;return(D=g.itemRefCallback)==null?void 0:D.call(g,T,a,c)}),j=ml(),C=()=>{c||(p.onValueChange(a),p.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(tM,{scope:r,value:a,disabled:c,textId:j,isSelected:w,onItemTextChange:v.useCallback(T=>{b(D=>D||((T==null?void 0:T.textContent)??"").trim())},[]),children:o.jsx(Pf.ItemSlot,{scope:r,value:a,disabled:c,textValue:_,children:o.jsx(_t.div,{role:"option","aria-labelledby":j,"data-highlighted":S?"":void 0,"aria-selected":w&&S,"data-state":w?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...f,ref:P,onFocus:st(f.onFocus,()=>k(!0)),onBlur:st(f.onBlur,()=>k(!1)),onPointerUp:st(f.onPointerUp,C),onPointerMove:st(f.onPointerMove,T=>{var D;c?(D=g.onItemLeave)==null||D.call(g):T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(f.onPointerLeave,T=>{var D;T.currentTarget===document.activeElement&&((D=g.onItemLeave)==null||D.call(g))}),onKeyDown:st(f.onKeyDown,T=>{var M;((M=g.searchRef)==null?void 0:M.current)!==""&&T.key===" "||(Bk.includes(T.key)&&C(),T.key===" "&&T.preventDefault())})})})})});G_.displayName=nf;var Ic="SelectItemText",Y_=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:c,...d}=e,f=wi(Ic,r),p=_i(Ic,r),g=q_(Ic,r),w=Vk(Ic,r),[_,b]=v.useState(null),S=It(t,T=>b(T),g.onItemTextChange,T=>{var D;return(D=p.itemTextRefCallback)==null?void 0:D.call(p,T,g.value,g.disabled)}),k=_==null?void 0:_.textContent,P=v.useMemo(()=>o.jsx("option",{value:g.value,disabled:g.disabled,children:k},g.value),[g.disabled,g.value,k]),{onNativeOptionAdd:j,onNativeOptionRemove:C}=w;return yn(()=>(j(P),()=>C(P)),[j,C,P]),o.jsxs(o.Fragment,{children:[o.jsx(_t.span,{id:g.textId,...d,ref:S}),g.isSelected&&f.valueNode&&!f.valueNodeHasChildren?ha.createPortal(d.children,f.valueNode):null]})});Y_.displayName=Ic;var K_="SelectItemIndicator",X_=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return q_(K_,r).isSelected?o.jsx(_t.span,{"aria-hidden":!0,...a,ref:t}):null});X_.displayName=K_;var dp="SelectScrollUpButton",Q_=v.forwardRef((e,t)=>{const r=_i(dp,e.__scopeSelect),a=Jp(dp,e.__scopeSelect),[c,d]=v.useState(!1),f=It(t,a.onScrollButtonChange);return yn(()=>{if(r.viewport&&r.isPositioned){let p=function(){const w=g.scrollTop>0;d(w)};const g=r.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),c?o.jsx(eb,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=r;p&&g&&(p.scrollTop=p.scrollTop-g.offsetHeight)}}):null});Q_.displayName=dp;var fp="SelectScrollDownButton",J_=v.forwardRef((e,t)=>{const r=_i(fp,e.__scopeSelect),a=Jp(fp,e.__scopeSelect),[c,d]=v.useState(!1),f=It(t,a.onScrollButtonChange);return yn(()=>{if(r.viewport&&r.isPositioned){let p=function(){const w=g.scrollHeight-g.clientHeight,_=Math.ceil(g.scrollTop)<w;d(_)};const g=r.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),c?o.jsx(eb,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=r;p&&g&&(p.scrollTop=p.scrollTop+g.offsetHeight)}}):null});J_.displayName=fp;var eb=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...c}=e,d=_i("SelectScrollButton",r),f=v.useRef(null),p=Tf(r),g=v.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return v.useEffect(()=>()=>g(),[g]),yn(()=>{var _;const w=p().find(b=>b.ref.current===document.activeElement);(_=w==null?void 0:w.ref.current)==null||_.scrollIntoView({block:"nearest"})},[p]),o.jsx(_t.div,{"aria-hidden":!0,...c,ref:t,style:{flexShrink:0,...c.style},onPointerDown:st(c.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(a,50))}),onPointerMove:st(c.onPointerMove,()=>{var w;(w=d.onItemLeave)==null||w.call(d),f.current===null&&(f.current=window.setInterval(a,50))}),onPointerLeave:st(c.onPointerLeave,()=>{g()})})}),nM="SelectSeparator",tb=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return o.jsx(_t.div,{"aria-hidden":!0,...a,ref:t})});tb.displayName=nM;var hp="SelectArrow",rM=v.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=kf(r),d=wi(hp,r),f=_i(hp,r);return d.open&&f.position==="popper"?o.jsx(Kw,{...c,...a,ref:t}):null});rM.displayName=hp;function nb(e){return e===""||e===void 0}var rb=v.forwardRef((e,t)=>{const{value:r,...a}=e,c=v.useRef(null),d=It(t,c),f=E_(r);return v.useEffect(()=>{const p=c.current,g=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(g,"value").set;if(f!==r&&_){const b=new Event("change",{bubbles:!0});_.call(p,r),p.dispatchEvent(b)}},[f,r]),o.jsx(eu,{asChild:!0,children:o.jsx("select",{...a,ref:d,defaultValue:r})})});rb.displayName="BubbleSelect";function sb(e){const t=fn(e),r=v.useRef(""),a=v.useRef(0),c=v.useCallback(f=>{const p=r.current+f;t(p),function g(w){r.current=w,window.clearTimeout(a.current),w!==""&&(a.current=window.setTimeout(()=>g(""),1e3))}(p)},[t]),d=v.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,c,d]}function ob(e,t,r){const c=t.length>1&&Array.from(t).every(w=>w===t[0])?t[0]:t,d=r?e.indexOf(r):-1;let f=sM(e,Math.max(d,0));c.length===1&&(f=f.filter(w=>w!==r));const g=f.find(w=>w.textValue.toLowerCase().startsWith(c.toLowerCase()));return g!==r?g:void 0}function sM(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var oM=R_,ib=A_,iM=O_,aM=I_,lM=F_,ab=$_,cM=H_,lb=Z_,cb=G_,uM=Y_,dM=X_,ub=Q_,db=J_,fb=tb;const vs=oM,xs=iM,es=v.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(ib,{ref:a,className:mt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(aM,{asChild:!0,children:o.jsx(Pp,{className:"h-4 w-4 opacity-50"})})]}));es.displayName=ib.displayName;const hb=v.forwardRef(({className:e,...t},r)=>o.jsx(ub,{ref:r,className:mt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(G1,{className:"h-4 w-4"})}));hb.displayName=ub.displayName;const mb=v.forwardRef(({className:e,...t},r)=>o.jsx(db,{ref:r,className:mt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Pp,{className:"h-4 w-4"})}));mb.displayName=db.displayName;const ts=v.forwardRef(({className:e,children:t,position:r="popper",...a},c)=>o.jsx(lM,{children:o.jsxs(ab,{ref:c,className:mt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[o.jsx(hb,{}),o.jsx(cM,{className:mt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(mb,{})]})}));ts.displayName=ab.displayName;const fM=v.forwardRef(({className:e,...t},r)=>o.jsx(lb,{ref:r,className:mt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));fM.displayName=lb.displayName;const Jt=v.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(cb,{ref:a,className:mt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(dM,{children:o.jsx(Cp,{className:"h-4 w-4"})})}),o.jsx(uM,{children:t})]}));Jt.displayName=cb.displayName;const hM=v.forwardRef(({className:e,...t},r)=>o.jsx(fb,{ref:r,className:mt("-mx-1 my-1 h-px bg-muted",e),...t}));hM.displayName=fb.displayName;function iy({value:e,onValueChange:t,options:r=[],placeholder:a="Select an option...",emptyMessage:c="No options found.",disabled:d=!1,className:f,searchPlaceholder:p="Search..."}){const[g,w]=v.useState(!1),[_,b]=v.useState(""),S=Array.isArray(r)?r:[],k=_?S.filter(T=>{var G;if(!T||typeof T.value!="string"||typeof T.label!="string")return!1;const D=_.toLowerCase(),M=T.label.toLowerCase().includes(D),O=T.value.toLowerCase().includes(D),I=(G=T.searchTerms)==null?void 0:G.some(U=>U&&typeof U=="string"&&U.toLowerCase().includes(D));return M||O||I}):S,P=S.find(T=>(T==null?void 0:T.value)===e),j=T=>{t(T===e?"":T),w(!1),b("")},C=()=>{d||(w(!g),g||b(""))};return o.jsxs("div",{className:"relative",children:[o.jsxs(je,{variant:"outline",role:"combobox","aria-expanded":g,className:mt("w-full justify-between",f),disabled:d,onClick:C,type:"button",children:[P?P.label:a,o.jsx(Pp,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),g&&o.jsxs("div",{className:"absolute top-full left-0 right-0 z-[1001] mt-1 bg-popover border rounded-md shadow-lg",children:[o.jsxs("div",{className:"flex items-center border-b px-3 py-2",children:[o.jsx(nu,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(dn,{placeholder:p,value:_,onChange:T=>b(T.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-8",autoFocus:!0})]}),o.jsx("div",{className:"max-h-64 overflow-y-auto",children:k.length>0?k.map((T,D)=>T&&T.value&&T.label?o.jsxs("button",{type:"button",className:mt("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",e===T.value&&"bg-accent text-accent-foreground"),onClick:()=>j(T.value),children:[o.jsx(Cp,{className:mt("mr-2 h-4 w-4",e===T.value?"opacity-100":"opacity-0")}),o.jsx("span",{className:"flex-1 text-left",children:T.label})]},`${T.value}-${D}`):null):o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:c})})]}),g&&o.jsx("div",{className:"fixed inset-0 z-[1000]",onClick:()=>w(!1)})]})}const mM=["Initial Client Meeting","Project Discussion","Equipment Installation","System Maintenance","Technical Support","Training Session","Progress Review","Problem Resolution","Contract Negotiation","Follow-up Meeting","Emergency Response","Consultation","Demo/Presentation","Site Survey","Other"];function pb({isOpen:e,onClose:t,onStartMeeting:r,employeeName:a,location:c,isLoading:d=!1,initialClientName:f="",initialCompanyName:p="",initialReason:g="",initialNotes:w=""}){var xt;const[_,b]=v.useState(""),[S,k]=v.useState(""),[P,j]=v.useState(""),[C,T]=v.useState(""),[D,M]=v.useState({}),[O,I]=v.useState([]),[G,U]=v.useState(!1),[re,q]=v.useState(null),[X,ne]=v.useState([]),[ge,Oe]=v.useState(!1),[me,$e]=v.useState(null),[J,_e]=v.useState(""),[B,pe]=v.useState([]),[ie,$]=v.useState(!1),[te,Pe]=v.useState(""),[Le,Ee]=v.useState(!1),{toast:F}=xo(),K=async()=>{U(!0),q(null);try{console.log("Fetching companies from external API for start meeting...");const Se=await ut.request("https://jbdspower.in/LeafNetServer/api/customer",{method:"GET"});if(!Se.ok)throw new Error(`Failed to fetch customers: ${Se.statusText}`);const Z=await Se.json();console.log("Customer API raw response:",Z);const le=Array.isArray(Z)?Z:[];console.log(`Fetched ${le.length} companies for start meeting`,le.slice(0,3)),I(le)}catch(Se){console.error("Error fetching customers for start meeting:",Se),q(Se instanceof Error?Se.message:"Failed to fetch customers")}finally{U(!1)}},ue=async()=>{Oe(!0),$e(null);try{console.log("Fetching leads from external API for start meeting...");const Se=await ut.request("https://jbdspower.in/LeafNetServer/api/getAllLead",{method:"GET"});if(!Se.ok)throw new Error(`Failed to fetch leads: ${Se.statusText}`);const Z=await Se.json();console.log("Leads API raw response:",Z);const le=Array.isArray(Z)?Z:[];console.log(`Fetched ${le.length} leads for start meeting`,le.slice(0,3)),ne(le)}catch(Se){console.error("Error fetching leads for start meeting:",Se),$e(Se instanceof Error?Se.message:"Failed to fetch leads")}finally{Oe(!1)}},be=Se=>{if(!Se||Se==="custom"||!Array.isArray(X)){pe([]);return}console.log("Filtering leads for company:",Se);const Z=X.filter(le=>{if(!le||!le.CompanyName)return!1;const Ce=le.CompanyName.toLowerCase().trim()===Se.toLowerCase().trim();return console.log(`Comparing "${le.CompanyName}" with "${Se}": ${Ce}`),Ce});console.log(`Filtered ${Z.length} leads for company "${Se}":`,Z),pe(Z)};console.log("filtered leads by compnay",be),console.log("filtered leads",B);const Me=Se=>{console.log("Client selection changed:",Se),b(Se),_e(""),be(Se)};v.useEffect(()=>{e?(K(),ue(),(f||p)&&(k(f||""),b(p||"custom")),g&&j(g),w&&T(w)):(b(""),k(""),j(""),T(""),_e(""),M({}))},[e,f,p,g,w]),v.useEffect(()=>{X.length>0&&_&&_!=="custom"?be(_):pe([])},[X,_]);const He=async()=>{if(!te.trim())return F({title:"Company Name Required",description:"Please enter a company name to create a lead.",variant:"destructive"}),!1;const Se=localStorage.getItem("idToken");if(!Se)return F({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"}),!1;const Z=localStorage.getItem("user"),le=Z?JSON.parse(Z)._id:"67daa55d9c4abb36045d5bfe";Ee(!0);try{const Ce={CompanyName:te.trim(),Name:"New Lead",CreatedBy:le,Id:`JBDSL-${Date.now().toString().slice(-4)}`};console.log(" Creating lead:",Ce),console.log(" Token:",Se.substring(0,20)+"...");const Ne=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${Se}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ce)});if(console.log(" Response:",Ne.status),Ne.ok){const Be=await Ne.json();return console.log(" Lead created:",Be),F({title:"Lead Created",description:`Lead created successfully for ${te}`}),k(te),b("custom"),ue(),!0}else{const Be=await Ne.text();return console.error(" Failed:",Ne.status,Be),F({title:"Failed to Create Lead",description:`Error: ${Ne.status}`,variant:"destructive"}),!1}}catch(Ce){return console.error(" Error:",Ce),F({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"}),!1}finally{Ee(!1)}},Ze=async()=>{const Se={},Z=_==="custom"?S:_;if(Z.trim()||(Se.client="Client name is required"),P||(Se.reason="Meeting reason is required"),Object.keys(Se).length>0){M(Se);return}ie&&te.trim()&&(await He()||console.warn("Lead creation failed, but proceeding with meeting"));const le=J&&Array.isArray(X)?X.find(Ce=>Ce&&Ce.Id===J):null;console.log("Starting meeting with data:",{clientName:Z,reason:P,notes:C.trim(),leadId:J||void 0,leadInfo:le||{}}),M({}),r({clientName:Z,reason:P,notes:C.trim(),leadId:J||void 0,leadInfo:le?{id:(le==null?void 0:le.Id)||{},companyName:le.CompanyName,contactName:le.Name}:void 0})},rt=()=>{b(""),k(""),j(""),T(""),M({}),q(null),$e(null),_e(""),pe([]),$(!1),Pe(""),t()};return o.jsx(xr,{open:e,onOpenChange:rt,children:o.jsxs(or,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(ir,{children:[o.jsxs(ar,{className:"flex items-center space-x-2",children:[o.jsx(An,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Start Meeting"})]}),o.jsxs(yr,{children:["Create a new meeting record for ",a]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground bg-muted/50 p-3 rounded-md",children:[o.jsx(sr,{className:"h-4 w-4"}),o.jsxs("span",{children:["Location: ",c]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ot,{htmlFor:"client",children:"Client / Company"}),o.jsxs(je,{type:"button",variant:"outline",size:"sm",onClick:()=>{$(!ie),ie||Pe("")},className:"h-8",children:[o.jsx(Hc,{className:"h-4 w-4 mr-1"}),ie?"Cancel":"Create New Lead"]})]}),re?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load companies"})]}),o.jsx("p",{className:"text-xs mt-1",children:re}),o.jsx("button",{type:"button",onClick:K,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"customClientFallback",children:"Enter Client Name Manually"}),o.jsx(dn,{id:"customClientFallback",value:S,onChange:Se=>{k(Se.target.value),b("custom")},placeholder:"Enter client name",className:D.client?"border-destructive":""})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx(iy,{value:_,onValueChange:Me,options:[...Array.isArray(O)?Array.from(new Map(O.filter(Se=>{const Z=Se&&Se.CustomerCompanyName&&typeof Se.CustomerCompanyName=="string"&&Se.CustomerCompanyName.trim().length>0;return!Z&&Se&&console.warn("Invalid customer data:",Se),Z}).map(Se=>[Se.CustomerCompanyName.trim(),Se])).values()).map(Se=>({value:Se.CustomerCompanyName.trim(),label:Se.CustomerCompanyName.trim(),searchTerms:[Se.CustomerCompanyName.trim()]})):[],{value:"custom",label:"Custom Client...",searchTerms:["custom","manual","other"]}],placeholder:G?"Loading companies...":"Select a company or choose custom",emptyMessage:"No companies found. Choose custom to enter manually.",disabled:G,searchPlaceholder:"Search companies...",className:D.client?"border-destructive":""}),o.jsx("div",{className:"text-xs text-muted-foreground",children:`Can't find your company? Use "Custom Client..." option above`})]}),D.client&&o.jsx("p",{className:"text-sm text-destructive",children:D.client})]}),ie&&o.jsxs("div",{className:"space-y-3 p-4 border-2 border-primary/30 rounded-lg bg-primary/5",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hf,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"font-semibold text-sm text-primary",children:"Create New Lead"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"newLeadCompanyName",className:"text-sm font-medium",children:["Company Name for New Lead",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"newLeadCompanyName",value:te,onChange:Se=>{Pe(Se.target.value),k(Se.target.value),b("custom")},placeholder:"Enter company name to create lead",disabled:Le,className:"border-primary/50"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:" This will create a new lead and use it for the meeting"})]})]}),_==="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"customClient",children:"Custom Client Name"}),o.jsx(dn,{id:"customClient",value:S,onChange:Se=>k(Se.target.value),placeholder:"Enter client name",className:D.client?"border-destructive":""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"lead",children:["Lead Association (Optional)",_&&_!=="custom"&&B.length>0&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",B.length," leads for ",_,")"]})]}),me?o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load leads"})]}),o.jsx("p",{className:"text-xs mt-1",children:me}),o.jsx("button",{type:"button",onClick:ue,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}):o.jsxs(o.Fragment,{children:[_&&_!=="custom"&&X.length>0&&B.length===0&&o.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted/50 rounded-md",children:['No leads found for "',_,'". You can still proceed without associating a lead.']}),(_&&_!=="custom"?B.length>0:X.length>0)?o.jsx(iy,{value:J,onValueChange:Se=>{console.log("Lead selection changed:",Se),_e(Se)},options:Array.isArray(_&&_!=="custom"?B:X)?Array.from(new Map((_&&_!=="custom"?B:X).filter(Se=>{const Z=Se&&Se.Id&&Se.CompanyName&&Se.Name&&typeof Se.Id=="string"&&typeof Se.CompanyName=="string"&&typeof Se.Name=="string"&&Se.Id.trim().length>0&&Se.CompanyName.trim().length>0&&Se.Name.trim().length>0;return!Z&&Se&&console.warn("Invalid lead data:",Se),Z}).map(Se=>[Se.Id.trim(),Se])).values()).map(Se=>({value:Se.Id.trim(),label:`${Se.Id.trim()} - ${Se.CompanyName.trim()} (${Se.Name.trim()})`,searchTerms:[Se.CompanyName.trim(),Se.Name.trim(),Se.Email||"",Se.Subject||"",Se.Stage||"",Se.Id.trim()].filter(Z=>Z&&typeof Z=="string"&&Z.length>0)})):[],placeholder:ge?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads",emptyMessage:_&&_!=="custom"?`No leads found for ${_}`:"No leads available",disabled:ge,searchPlaceholder:"Search leads by ID, company, name..."}):o.jsxs(vs,{value:J,onValueChange:_e,disabled:ge,children:[o.jsx(es,{children:o.jsx(xs,{placeholder:ge?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads"})}),o.jsx(ts,{children:o.jsx(Jt,{value:"no-leads",disabled:!0,children:ge?"Loading...":"No leads available"})})]})]}),J&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx(dw,{className:"h-3 w-3 inline mr-1"}),"Lead selected: ",(xt=(_&&_!=="custom"?B:X).find(Se=>Se.Id===J))==null?void 0:xt.Subject]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"reason",children:"Meeting Reason / Type"}),o.jsxs(vs,{value:P,onValueChange:j,children:[o.jsx(es,{className:D.reason?"border-destructive":"",children:o.jsx(xs,{placeholder:"Select meeting reason"})}),o.jsx(ts,{children:mM.map(Se=>o.jsx(Jt,{value:Se,children:Se},Se))})]}),D.reason&&o.jsx("p",{className:"text-sm text-destructive",children:D.reason})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"notes",children:"Notes (Optional)"}),o.jsx(xi,{id:"notes",value:C,onChange:Se=>T(Se.target.value),placeholder:"Add any additional notes about this meeting...",rows:3})]}),o.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(mf,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium",children:["Employee: ",a]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(An,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:["Start Time: ",UT()]})]})]})]}),o.jsxs(ua,{children:[o.jsx(je,{variant:"outline",onClick:rt,disabled:d||Le,children:"Cancel"}),o.jsx(je,{onClick:Ze,disabled:d||Le,children:Le?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(El,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Creating Lead..."})]}):d?"Starting...":"Start Meeting"})]})]})})}function pM(e,t){return v.useReducer((r,a)=>t[r][a]??r,e)}var eg="ScrollArea",[gb,qL]=kl(eg),[gM,rs]=gb(eg),vb=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:c,scrollHideDelay:d=600,...f}=e,[p,g]=v.useState(null),[w,_]=v.useState(null),[b,S]=v.useState(null),[k,P]=v.useState(null),[j,C]=v.useState(null),[T,D]=v.useState(0),[M,O]=v.useState(0),[I,G]=v.useState(!1),[U,re]=v.useState(!1),q=It(t,ne=>g(ne)),X=__(c);return o.jsx(gM,{scope:r,type:a,dir:X,scrollHideDelay:d,scrollArea:p,viewport:w,onViewportChange:_,content:b,onContentChange:S,scrollbarX:k,onScrollbarXChange:P,scrollbarXEnabled:I,onScrollbarXEnabledChange:G,scrollbarY:j,onScrollbarYChange:C,scrollbarYEnabled:U,onScrollbarYEnabledChange:re,onCornerWidthChange:D,onCornerHeightChange:O,children:o.jsx(_t.div,{dir:X,...f,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":M+"px",...e.style}})})});vb.displayName=eg;var xb="ScrollAreaViewport",yb=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:c,...d}=e,f=rs(xb,r),p=v.useRef(null),g=It(t,p,f.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),o.jsx(_t.div,{"data-radix-scroll-area-viewport":"",...d,ref:g,style:{overflowX:f.scrollbarXEnabled?"scroll":"hidden",overflowY:f.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:f.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});yb.displayName=xb;var Hs="ScrollAreaScrollbar",tg=v.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=rs(Hs,e.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:f}=c,p=e.orientation==="horizontal";return v.useEffect(()=>(p?d(!0):f(!0),()=>{p?d(!1):f(!1)}),[p,d,f]),c.type==="hover"?o.jsx(vM,{...a,ref:t,forceMount:r}):c.type==="scroll"?o.jsx(xM,{...a,ref:t,forceMount:r}):c.type==="auto"?o.jsx(wb,{...a,ref:t,forceMount:r}):c.type==="always"?o.jsx(ng,{...a,ref:t}):null});tg.displayName=Hs;var vM=v.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=rs(Hs,e.__scopeScrollArea),[d,f]=v.useState(!1);return v.useEffect(()=>{const p=c.scrollArea;let g=0;if(p){const w=()=>{window.clearTimeout(g),f(!0)},_=()=>{g=window.setTimeout(()=>f(!1),c.scrollHideDelay)};return p.addEventListener("pointerenter",w),p.addEventListener("pointerleave",_),()=>{window.clearTimeout(g),p.removeEventListener("pointerenter",w),p.removeEventListener("pointerleave",_)}}},[c.scrollArea,c.scrollHideDelay]),o.jsx(ma,{present:r||d,children:o.jsx(wb,{"data-state":d?"visible":"hidden",...a,ref:t})})}),xM=v.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=rs(Hs,e.__scopeScrollArea),d=e.orientation==="horizontal",f=Rf(()=>g("SCROLL_END"),100),[p,g]=pM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(p==="idle"){const w=window.setTimeout(()=>g("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(w)}},[p,c.scrollHideDelay,g]),v.useEffect(()=>{const w=c.viewport,_=d?"scrollLeft":"scrollTop";if(w){let b=w[_];const S=()=>{const k=w[_];b!==k&&(g("SCROLL"),f()),b=k};return w.addEventListener("scroll",S),()=>w.removeEventListener("scroll",S)}},[c.viewport,d,g,f]),o.jsx(ma,{present:r||p!=="hidden",children:o.jsx(ng,{"data-state":p==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:st(e.onPointerEnter,()=>g("POINTER_ENTER")),onPointerLeave:st(e.onPointerLeave,()=>g("POINTER_LEAVE"))})})}),wb=v.forwardRef((e,t)=>{const r=rs(Hs,e.__scopeScrollArea),{forceMount:a,...c}=e,[d,f]=v.useState(!1),p=e.orientation==="horizontal",g=Rf(()=>{if(r.viewport){const w=r.viewport.offsetWidth<r.viewport.scrollWidth,_=r.viewport.offsetHeight<r.viewport.scrollHeight;f(p?w:_)}},10);return Tl(r.viewport,g),Tl(r.content,g),o.jsx(ma,{present:a||d,children:o.jsx(ng,{"data-state":d?"visible":"hidden",...c,ref:t})})}),ng=v.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,c=rs(Hs,e.__scopeScrollArea),d=v.useRef(null),f=v.useRef(0),[p,g]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),w=jb(p.viewport,p.content),_={...a,sizes:p,onSizesChange:g,hasThumb:w>0&&w<1,onThumbChange:S=>d.current=S,onThumbPointerUp:()=>f.current=0,onThumbPointerDown:S=>f.current=S};function b(S,k){return SM(S,f.current,p,k)}return r==="horizontal"?o.jsx(yM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const S=c.viewport.scrollLeft,k=ay(S,p,c.dir);d.current.style.transform=`translate3d(${k}px, 0, 0)`}},onWheelScroll:S=>{c.viewport&&(c.viewport.scrollLeft=S)},onDragScroll:S=>{c.viewport&&(c.viewport.scrollLeft=b(S,c.dir))}}):r==="vertical"?o.jsx(wM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const S=c.viewport.scrollTop,k=ay(S,p);d.current.style.transform=`translate3d(0, ${k}px, 0)`}},onWheelScroll:S=>{c.viewport&&(c.viewport.scrollTop=S)},onDragScroll:S=>{c.viewport&&(c.viewport.scrollTop=b(S))}}):null}),yM=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...c}=e,d=rs(Hs,e.__scopeScrollArea),[f,p]=v.useState(),g=v.useRef(null),w=It(t,g,d.onScrollbarXChange);return v.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),o.jsx(bb,{"data-orientation":"horizontal",...c,ref:w,sizes:r,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mf(r)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.x),onDragScroll:_=>e.onDragScroll(_.x),onWheelScroll:(_,b)=>{if(d.viewport){const S=d.viewport.scrollLeft+_.deltaX;e.onWheelScroll(S),Cb(S,b)&&_.preventDefault()}},onResize:()=>{g.current&&d.viewport&&f&&a({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:g.current.clientWidth,paddingStart:sf(f.paddingLeft),paddingEnd:sf(f.paddingRight)}})}})}),wM=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...c}=e,d=rs(Hs,e.__scopeScrollArea),[f,p]=v.useState(),g=v.useRef(null),w=It(t,g,d.onScrollbarYChange);return v.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),o.jsx(bb,{"data-orientation":"vertical",...c,ref:w,sizes:r,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mf(r)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.y),onDragScroll:_=>e.onDragScroll(_.y),onWheelScroll:(_,b)=>{if(d.viewport){const S=d.viewport.scrollTop+_.deltaY;e.onWheelScroll(S),Cb(S,b)&&_.preventDefault()}},onResize:()=>{g.current&&d.viewport&&f&&a({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:g.current.clientHeight,paddingStart:sf(f.paddingTop),paddingEnd:sf(f.paddingBottom)}})}})}),[_M,_b]=gb(Hs),bb=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:c,onThumbChange:d,onThumbPointerUp:f,onThumbPointerDown:p,onThumbPositionChange:g,onDragScroll:w,onWheelScroll:_,onResize:b,...S}=e,k=rs(Hs,r),[P,j]=v.useState(null),C=It(t,q=>j(q)),T=v.useRef(null),D=v.useRef(""),M=k.viewport,O=a.content-a.viewport,I=fn(_),G=fn(g),U=Rf(b,10);function re(q){if(T.current){const X=q.clientX-T.current.left,ne=q.clientY-T.current.top;w({x:X,y:ne})}}return v.useEffect(()=>{const q=X=>{const ne=X.target;(P==null?void 0:P.contains(ne))&&I(X,O)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[M,P,O,I]),v.useEffect(G,[a,G]),Tl(P,U),Tl(k.content,U),o.jsx(_M,{scope:r,scrollbar:P,hasThumb:c,onThumbChange:fn(d),onThumbPointerUp:fn(f),onThumbPositionChange:G,onThumbPointerDown:fn(p),children:o.jsx(_t.div,{...S,ref:C,style:{position:"absolute",...S.style},onPointerDown:st(e.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),T.current=P.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k.viewport&&(k.viewport.style.scrollBehavior="auto"),re(q))}),onPointerMove:st(e.onPointerMove,re),onPointerUp:st(e.onPointerUp,q=>{const X=q.target;X.hasPointerCapture(q.pointerId)&&X.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=D.current,k.viewport&&(k.viewport.style.scrollBehavior=""),T.current=null})})})}),rf="ScrollAreaThumb",Nb=v.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=_b(rf,e.__scopeScrollArea);return o.jsx(ma,{present:r||c.hasThumb,children:o.jsx(bM,{ref:t,...a})})}),bM=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...c}=e,d=rs(rf,r),f=_b(rf,r),{onThumbPositionChange:p}=f,g=It(t,b=>f.onThumbChange(b)),w=v.useRef(),_=Rf(()=>{w.current&&(w.current(),w.current=void 0)},100);return v.useEffect(()=>{const b=d.viewport;if(b){const S=()=>{if(_(),!w.current){const k=jM(b,p);w.current=k,p()}};return p(),b.addEventListener("scroll",S),()=>b.removeEventListener("scroll",S)}},[d.viewport,_,p]),o.jsx(_t.div,{"data-state":f.hasThumb?"visible":"hidden",...c,ref:g,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:st(e.onPointerDownCapture,b=>{const k=b.target.getBoundingClientRect(),P=b.clientX-k.left,j=b.clientY-k.top;f.onThumbPointerDown({x:P,y:j})}),onPointerUp:st(e.onPointerUp,f.onThumbPointerUp)})});Nb.displayName=rf;var rg="ScrollAreaCorner",Sb=v.forwardRef((e,t)=>{const r=rs(rg,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?o.jsx(NM,{...e,ref:t}):null});Sb.displayName=rg;var NM=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,c=rs(rg,r),[d,f]=v.useState(0),[p,g]=v.useState(0),w=!!(d&&p);return Tl(c.scrollbarX,()=>{var b;const _=((b=c.scrollbarX)==null?void 0:b.offsetHeight)||0;c.onCornerHeightChange(_),g(_)}),Tl(c.scrollbarY,()=>{var b;const _=((b=c.scrollbarY)==null?void 0:b.offsetWidth)||0;c.onCornerWidthChange(_),f(_)}),w?o.jsx(_t.div,{...a,ref:t,style:{width:d,height:p,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function sf(e){return e?parseInt(e,10):0}function jb(e,t){const r=e/t;return isNaN(r)?0:r}function Mf(e){const t=jb(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function SM(e,t,r,a="ltr"){const c=Mf(r),d=c/2,f=t||d,p=c-f,g=r.scrollbar.paddingStart+f,w=r.scrollbar.size-r.scrollbar.paddingEnd-p,_=r.content-r.viewport,b=a==="ltr"?[0,_]:[_*-1,0];return Eb([g,w],b)(e)}function ay(e,t,r="ltr"){const a=Mf(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,d=t.scrollbar.size-c,f=t.content-t.viewport,p=d-a,g=r==="ltr"?[0,f]:[f*-1,0],w=ip(e,g);return Eb([0,f],[0,p])(w)}function Eb(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function Cb(e,t){return e>0&&e<t}var jM=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function c(){const d={left:e.scrollLeft,top:e.scrollTop},f=r.left!==d.left,p=r.top!==d.top;(f||p)&&t(),r=d,a=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(a)};function Rf(e,t){const r=fn(e),a=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),v.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function Tl(e,t){const r=fn(t);yn(()=>{let a=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return c.observe(e),()=>{window.cancelAnimationFrame(a),c.unobserve(e)}}},[e,r])}var Pb=vb,EM=yb,CM=Sb;const Tb=v.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(Pb,{ref:a,className:mt("relative overflow-hidden",e),...r,children:[o.jsx(EM,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(kb,{}),o.jsx(CM,{})]}));Tb.displayName=Pb.displayName;const kb=v.forwardRef(({className:e,orientation:t="vertical",...r},a)=>o.jsx(tg,{ref:a,orientation:t,className:mt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Nb,{className:"relative flex-1 rounded-full bg-border"})}));kb.displayName=tg.displayName;function PM({isOpen:e,onClose:t,onSubmit:r,pendingMeetings:a}){const[c,d]=v.useState({}),[f,p]=v.useState({}),g=(b,S)=>{d(k=>({...k,[b]:S})),p(k=>{const P={...k};return delete P[b],P})},w=()=>{const b={};if(a.forEach(k=>{var P;(P=c[k._id])!=null&&P.trim()||(b[k._id]="Reason required")}),Object.keys(b).length>0){p(b);return}const S=a.map(k=>({meeting:k,reason:c[k._id].trim()}));r(S),d({}),p({})},_=()=>{d({}),p({}),t()};return o.jsx(xr,{open:e,onOpenChange:_,children:o.jsxs(or,{className:"sm:max-w-[600px] max-h-[90vh]",children:[o.jsxs(ir,{children:[o.jsxs(ar,{className:"flex items-center gap-2",children:[o.jsx(xn,{className:"h-5 w-5 text-warning"}),"Incomplete Today's Meetings"]}),o.jsxs(yr,{children:["You have ",a.length," incomplete meeting",a.length>1?"s":"",' scheduled for today. Please provide a reason for each meeting before logging out. These meetings will be marked as "Incomplete".']})]}),o.jsx(Tb,{className:"max-h-[60vh] pr-4",children:o.jsx("div",{className:"space-y-6 py-4",children:a.map((b,S)=>o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(hf,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-sm",children:b.companyName||"Unnamed Company"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.customerName,b.meetingTime&&`  ${b.meetingTime}`]}),b.remark&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:["Note: ",b.remark]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:`reason-${b._id}`,className:"text-sm",children:["Reason for not completing ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(xi,{id:`reason-${b._id}`,placeholder:"E.g., Client rescheduled, not available, technical issues...",value:c[b._id]||"",onChange:k=>g(b._id,k.target.value),rows:3,className:f[b._id]?"border-destructive":""}),f[b._id]&&o.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[o.jsx(xn,{className:"h-3 w-3"}),f[b._id]]})]})]},b._id))})}),o.jsxs(ua,{children:[o.jsx(je,{variant:"outline",onClick:_,children:"Cancel"}),o.jsx(je,{onClick:w,children:"Submit All & Logout"})]})]})})}function TM(){var Le,Ee;const[e,t]=v.useState([]),[r,a]=v.useState(null),[c,d]=v.useState(!0),[f,p]=v.useState(new Date),[g,w]=v.useState(!0),[_,b]=v.useState(!1),[S,k]=v.useState([]),[P,j]=v.useState(!1),[C,T]=v.useState(null),[D,M]=v.useState(!1),[O,I]=v.useState(!1),[G,U]=v.useState(null),{canInstall:re,isInstalled:q}=WT();v.useEffect(()=>{const F=localStorage.getItem("user");if(F)try{const K=JSON.parse(F);U(K),!(K._id==="67daa55d9c4abb36045d5bfe")&&K._id&&(console.log(" Redirecting regular user to their tracking page"),Kr({title:"Access Denied",description:"Direct access to dashboard is not allowed. Redirecting to your tracking page...",variant:"destructive"}),setTimeout(()=>{window.location.href=`/tracking/${K._id}`},1500))}catch(K){console.error("Failed to parse user from localStorage:",K)}else console.error(" No user found in localStorage - access denied"),Kr({title:"Access Denied",description:"Please access the tracking page with a valid employee ID from the CRM system.",variant:"destructive"})},[]),v.useEffect(()=>{X();const F=setInterval(X,6e4);return()=>clearInterval(F)},[]);const X=async()=>{var F;try{console.log("Fetching employees");const K=await ut.get("/api/employees");if(K.ok){const ue=await K.json();t(ue.employees||[]),p(new Date),console.log("Employees data fetched successfully:",((F=ue.employees)==null?void 0:F.length)||0)}else console.error(`Failed to fetch employees: ${K.status} ${K.statusText}`),t([])}catch(K){console.error("Error fetching employees:",K),t([])}finally{d(!1)}},ne=()=>{d(!0),X()},ge=async()=>{try{d(!0),console.log("Refreshing employee locations with Indian cities");const F=await ut.post("/api/employees/refresh-locations");if(F.ok){const K=await F.json();console.log("Locations refreshed successfully:",K),await X(),w(!1)}else{const K=await F.text().catch(()=>"Unknown error");console.error("Failed to refresh locations:",F.status,K),alert("Failed to refresh locations. Please try again.")}}catch(F){console.error("Error refreshing locations:",F),alert("Error refreshing locations. Please check your connection and try again.")}finally{d(!1)}},Oe=F=>{window.location.href=`tel:${F}`},me=(F,K)=>{const ue=encodeURIComponent(`Regarding Field Operations - ${K}`),be=encodeURIComponent(`Hi ${K.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${F}?subject=${ue}&body=${be}`},$e=async F=>{if(G!=null&&G._id)try{const K=await ut.get(`/api/meetings?employeeId=${G._id}&status=in-progress&limit=1`);if(K.ok){const ue=await K.json();if(ue.meetings&&ue.meetings.length>0){Kr({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"}),console.log("Blocked: Active meeting exists:",ue.meetings[0].id);return}}}catch(K){console.error("Error checking for active meetings:",K)}T(F),j(!0)},J=async F=>{const K=e.find(ue=>ue.status==="active"||ue.status==="meeting")||e[0];if(!K){Kr({title:"Error",description:"No active employee found to start meeting",variant:"destructive"});return}I(!0);try{const ue=await ut.post("/api/meetings",{employeeId:K.id,location:{lat:K.location.lat,lng:K.location.lng,address:K.location.address},clientName:F.clientName,notes:`${F.reason}${F.notes?` - ${F.notes}`:""}`,leadId:F.leadId,leadInfo:F.leadInfo});if(ue.ok)await ut.put(`/api/employees/${K.id}/status`,{status:"meeting"}),X(),j(!1),T(null),Kr({title:"Meeting Started",description:`Meeting with ${F.clientName} has been started successfully`});else{const be=await ue.json().catch(()=>({error:"Failed to start meeting"}));Kr({title:"Cannot Start Meeting",description:be.error||"Failed to start meeting",variant:"destructive"})}}catch(ue){console.error("Error starting meeting:",ue),Kr({title:"Error",description:"Failed to start meeting. Please try again.",variant:"destructive"})}finally{I(!1)}},_e=()=>{if(!(G!=null&&G._id)){pe();return}const F=S.filter(K=>!(K.meetingStatus==="complete"||K.meetingStatus==="Completed"||K.meetingStatus==="COMPLETED"));console.log("Incomplete today's meetings on logout:",F),F.length>0?M(!0):pe()},B=async F=>{console.log("Submitting incomplete meetings with reasons:",F);try{const K=F.map(async({meeting:be,reason:Me})=>{try{const Ze="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),rt=await fetch(`${Ze}/updateFollowUp/${be._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});rt.ok?console.log(` Updated meeting ${be.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${be.companyName} status:`,rt.status)}catch(He){console.error(`Error updating meeting ${be.companyName}:`,He)}});await Promise.all(K),(await ut.post("/api/incomplete-meeting-remarks",{employeeId:G._id,reason:"Multiple incomplete meetings",pendingMeetings:F.map(({meeting:be,reason:Me})=>({_id:be._id,leadId:be.leadId,companyName:be.companyName,customerName:be.customerName,customerEmail:be.customerEmail,customerMobile:be.customerMobile,customerDesignation:be.customerDesignation,meetingTime:be.meetingTime,incompleteReason:Me}))})).ok?Kr({title:"Meetings Marked Incomplete",description:`${F.length} meeting(s) marked as incomplete with reasons.`}):(console.error("Failed to save incomplete meeting remarks"),Kr({title:"Warning",description:"Failed to save some meeting reasons, but meetings are marked incomplete.",variant:"destructive"}))}catch(K){console.error("Error saving incomplete meeting remarks:",K),Kr({title:"Warning",description:"Failed to save meeting reasons, but you can still logout.",variant:"destructive"})}M(!1),pe()},pe=()=>{localStorage.removeItem("idToken"),localStorage.removeItem("user"),Kr({title:"Logged Out",description:"You have been logged out successfully."}),window.location.href="/"},ie=F=>{switch(F){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},$=F=>{switch(F){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},te=e.filter(F=>F.status==="active"||F.status==="meeting");console.log("employee list",te);const Pe=e.length;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between overflow-auto",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:o.jsx(sr,{className:"h-5 w-5 text-primary-foreground"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"FieldTracker"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Employee Location Management"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:ne,disabled:c,children:[o.jsx(fl,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),o.jsx(je,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(zs,{to:"/dashboard",children:[o.jsx(Ep,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),o.jsx(je,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(zs,{to:"/team-management",children:[o.jsx(sa,{className:"h-4 w-4 mr-2"}),"Manage Team"]})}),o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>b(!0),children:[o.jsx(ns,{className:"h-4 w-4 mr-2"}),"Meeting History"]}),o.jsx(je,{size:"sm",asChild:!0,disabled:e.length===0,children:o.jsxs(zs,{to:`/tracking/${r||(e.length>0?e[0].id:"1")}`,children:[o.jsx(po,{className:"h-4 w-4 mr-2"}),r?"View Selected":"Live View"]})}),G&&o.jsxs(je,{variant:"outline",size:"sm",onClick:_e,children:[o.jsx(Q1,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",f.toLocaleTimeString(),c&&"  Refreshing..."]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Active Employees"}),o.jsx(sa,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:te.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",Pe," total employees"]})]})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"In Meetings"}),o.jsx(Tp,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter(F=>F.status==="meeting").length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently with clients"})]})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"On Route"}),o.jsx(po,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter(F=>F.status==="active").length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Moving to locations"})]})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Last Update"}),o.jsx(An,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-info",children:"1m"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg response time"})]})]})]}),c&&e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employee data..."})]}),re&&!q&&o.jsx("div",{className:"mb-6",children:o.jsx(HT,{onInstall:()=>console.log("PWA installed"),onDismiss:()=>console.log("PWA install dismissed")})}),g&&e.length>0&&o.jsx(dt,{className:"border-info bg-info/5",children:o.jsx(ft,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between overflow-auto",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(xn,{className:"h-5 w-5 text-info mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-info mb-1",children:"Update Your Real Location"}),o.jsx("p",{className:"text-sm text-info/80 mb-3",children:`We've detected your team is in India. Click on any employee's "Live View" and use the "Start Tracking" button to update their real location for accurate tracking.`}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(je,{size:"sm",variant:"outline",className:"border-info text-info hover:bg-info hover:text-white",onClick:()=>{const F=e[0];F&&window.open(`/tracking/${F.id}`,"_blank")},children:[o.jsx(po,{className:"h-4 w-4 mr-2"}),"Enable Live Tracking"]}),o.jsxs(je,{size:"sm",className:"bg-info hover:bg-info/90 text-white",onClick:ge,disabled:c,children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),"Update to Indian Cities"]})]})]})]}),o.jsx(je,{variant:"ghost",size:"sm",onClick:()=>w(!1),className:"text-info hover:text-info",children:o.jsx(ru,{className:"h-4 w-4"})})]})})}),!c&&e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(sa,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),o.jsx("p",{className:"text-muted-foreground",children:"Add employees to start tracking their locations."})]}),!c&&(G==null?void 0:G._id)&&o.jsx("div",{className:"mb-8",children:o.jsx(x_,{userId:G._id,onStartMeeting:$e,onMeetingsFetched:k})}),!c&&e.length>0&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsxs(Rt,{className:"flex items-center justify-between ",children:[o.jsx("span",{children:"Field Team"}),o.jsxs(Nt,{variant:"secondary",children:[e.length," total"]})]})}),o.jsx(ft,{className:"p-0 sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:o.jsx("div",{className:"space-y-0",children:e.map(F=>o.jsx("div",{className:`p-4 border-b last:border-b-0 cursor-pointer transition-colors hover:bg-muted/50 ${r===F.id?"bg-primary/5 border-l-4 border-l-primary":""}`,onClick:()=>a(F.id),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-foreground",children:F.name}),o.jsx(Nt,{variant:"secondary",className:`text-xs ${ie(F.status)}`,children:$(F.status)})]}),F.designation&&o.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[F.designation,F.department&&`  ${F.department}`]}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[o.jsx(sr,{className:"h-3 w-3 inline mr-1"}),F.location.address]}),F.currentTask&&o.jsx("p",{className:"text-xs text-primary font-medium mb-1",children:F.currentTask}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx(An,{className:"h-3 w-3 inline mr-1"}),"Updated ",F.lastUpdate]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(je,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:K=>{K.stopPropagation(),Oe(F.phone)},title:"Call employee",children:o.jsx(fi,{className:"h-3 w-3"})}),o.jsx(je,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:K=>{K.stopPropagation(),me(F.email,F.name)},title:"Send email",children:o.jsx(di,{className:"h-3 w-3"})}),o.jsx(je,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",asChild:!0,title:"Track employee",children:o.jsx(zs,{to:`/tracking/${F.id}`,onClick:K=>K.stopPropagation(),children:o.jsx(po,{className:"h-3 w-3"})})})]})]})},F.id))})})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(dt,{className:"h-[600px]",children:[o.jsx(Mt,{children:o.jsxs(Rt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Live Location Map"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>{r||a(null)},children:[o.jsx(po,{className:"h-4 w-4 mr-2"}),r?"Center on Selected":"Fit All"]}),o.jsx("div",{className:"h-2 w-2 rounded-full bg-success animate-pulse"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Live"})]})]})}),o.jsxs(ft,{className:"p-4",children:[o.jsx(Vp,{employees:e,selectedEmployee:r,height:"500px",onEmployeeClick:a}),o.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm mt-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-success"}),o.jsx("span",{children:"On Route"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"}),o.jsx("span",{children:"In Meeting"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"}),o.jsx("span",{children:"Offline"})]})]})]})]})})]}),!c&&e.length>0&&o.jsx("div",{className:"mt-8",children:o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsx(Rt,{children:"Recent Activity"})}),o.jsx(ft,{children:o.jsx("div",{className:"space-y-4",children:e.filter(F=>F.status!=="inactive").slice(0,3).map((F,K)=>o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`h-2 w-2 rounded-full mt-2 ${F.status==="active"?"bg-success":F.status==="meeting"?"bg-warning":"bg-info"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium",children:[F.name," ",F.status==="active"?"is on route":F.status==="meeting"?"started meeting":"updated location"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.location.address,"  ",F.lastUpdate]})]})]},F.id))})})]})})]}),o.jsx(u_,{isOpen:_,onClose:()=>b(!1)}),o.jsx(pb,{isOpen:P,onClose:()=>{j(!1),T(null)},onStartMeeting:J,employeeName:((Le=e[0])==null?void 0:Le.name)||"Employee",location:((Ee=e[0])==null?void 0:Ee.location.address)||"Unknown location",isLoading:O,initialClientName:(C==null?void 0:C.customerName)||"",initialCompanyName:(C==null?void 0:C.companyName)||"",initialReason:(C==null?void 0:C.type)||"",initialNotes:(C==null?void 0:C.remark)||""}),o.jsx(PM,{isOpen:D,onClose:()=>M(!1),onSubmit:B,pendingMeetings:S.filter(F=>!(F.meetingStatus==="complete"||F.meetingStatus==="Completed"||F.meetingStatus==="COMPLETED"))})]})}const ll=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:mt("w-full caption-bottom text-sm",e),...t})}));ll.displayName="Table";const cl=v.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:mt("[&_tr]:border-b",e),...t}));cl.displayName="TableHeader";const ul=v.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:mt("[&_tr:last-child]:border-0",e),...t}));ul.displayName="TableBody";const kM=v.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:mt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));kM.displayName="TableFooter";const Dr=v.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:mt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Dr.displayName="TableRow";const ht=v.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:mt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ht.displayName="TableHead";const at=v.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:mt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));at.displayName="TableCell";const MM=v.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:mt("mt-4 text-sm text-muted-foreground",e),...t}));MM.displayName="TableCaption";function Mb({employeeId:e,isOpen:t,onClose:r}){const[a,c]=v.useState([]),[d,f]=v.useState(!1),[p,g]=v.useState(null),[w,_]=v.useState(""),[b,S]=v.useState("all"),[k,P]=v.useState(1),[j,C]=v.useState(1),[T,D]=v.useState(0),{toast:M}=xo(),O=async(ne=1)=>{f(!0);try{const ge=new URLSearchParams({page:ne.toString(),limit:"10"});e&&ge.append("employeeId",e),b!=="all"&&ge.append("status",b);const Oe=await ut.get(`/api/route-snapshots?${ge}`);if(Oe.ok){const me=await Oe.json();c(me.snapshots),C(me.totalPages),D(me.total),P(me.page)}else throw new Error("Failed to fetch snapshots")}catch(ge){console.error("Error fetching snapshots:",ge),M({title:"Error",description:"Failed to load route snapshots. Please try again.",variant:"destructive"})}finally{f(!1)}};v.useEffect(()=>{t&&O(1)},[t,e,b]);const I=async ne=>{if(confirm("Are you sure you want to delete this snapshot?"))try{if((await ut.delete(`/api/route-snapshots/${ne}`)).ok)M({title:"Snapshot Deleted",description:"Route snapshot has been deleted successfully"}),O(k);else throw new Error("Failed to delete snapshot")}catch(ge){console.error("Error deleting snapshot:",ge),M({title:"Error",description:"Failed to delete snapshot. Please try again.",variant:"destructive"})}},G=a.filter(ne=>ne.title.toLowerCase().includes(w.toLowerCase())||ne.employeeName.toLowerCase().includes(w.toLowerCase())||ne.description&&ne.description.toLowerCase().includes(w.toLowerCase())),U=ne=>{if(!ne)return"N/A";const ge=Math.floor(ne/3600),Oe=Math.floor(ne%3600/60);return ge>0?`${ge}h ${Oe}m`:`${Oe}m`},re=ne=>ne>1e3?`${(ne/1e3).toFixed(1)} km`:`${ne.toFixed(0)} m`,q=ne=>({id:ne.employeeId,name:ne.employeeName,email:"",phone:"",status:"active",location:ne.startLocation,lastUpdate:new Date(ne.captureTime).toLocaleString()}),X=ne=>({id:ne.trackingSessionId||ne.id,employeeId:ne.employeeId,startTime:ne.captureTime,endTime:ne.endLocation?ne.captureTime:void 0,startLocation:ne.startLocation,endLocation:ne.endLocation,route:ne.route,totalDistance:ne.totalDistance,duration:ne.duration,status:ne.status});return o.jsxs(o.Fragment,{children:[o.jsx(xr,{open:t,onOpenChange:r,children:o.jsxs(or,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsxs(ir,{children:[o.jsxs(ar,{className:"flex items-center gap-2",children:[o.jsx(dl,{className:"h-5 w-5"}),"Route Snapshot History"]}),o.jsxs(yr,{children:["View and manage saved route snapshots",e&&" for this employee"]})]}),o.jsxs("div",{className:"flex flex-col h-[70vh]",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(nu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(dn,{placeholder:"Search snapshots...",value:w,onChange:ne=>_(ne.target.value),className:"pl-10"})]})}),o.jsxs(vs,{value:b,onValueChange:S,children:[o.jsx(es,{className:"w-32",children:o.jsx(xs,{})}),o.jsxs(ts,{children:[o.jsx(Jt,{value:"all",children:"All Status"}),o.jsx(Jt,{value:"active",children:"Active"}),o.jsx(Jt,{value:"completed",children:"Completed"})]})]}),o.jsx(je,{variant:"outline",size:"icon",onClick:()=>O(k),disabled:d,children:o.jsx(fl,{className:`h-4 w-4 ${d?"animate-spin":""}`})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:d?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(fl,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading snapshots..."})]})}):G.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(dl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Snapshots Found"}),o.jsx("p",{className:"text-muted-foreground",children:w||b!=="all"?"Try adjusting your search criteria":"No route snapshots have been created yet"})]})}):o.jsx("div",{className:"overflow-y-auto h-full",children:o.jsx("div",{className:"grid gap-4",children:G.map(ne=>o.jsx(dt,{className:"hover:shadow-md transition-shadow",children:o.jsx(ft,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold",children:ne.title}),o.jsx(Nt,{variant:"secondary",className:ne.status==="completed"?"bg-success text-success-foreground":"bg-warning text-warning-foreground",children:ne.status})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ns,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:new Date(ne.captureTime).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ra,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{children:[ne.snapshotMetadata.routePointsCount," points"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:re(ne.totalDistance)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(An,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:U(ne.duration)})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:o.jsx("strong",{children:ne.employeeName})}),ne.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:ne.description})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>g(ne),children:[o.jsx(uw,{className:"h-4 w-4 mr-1"}),"View"]}),o.jsx(je,{variant:"outline",size:"sm",onClick:()=>I(ne.id),className:"text-destructive hover:text-destructive",children:o.jsx(pw,{className:"h-4 w-4"})})]})]})})},ne.id))})})}),j>1&&o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",G.length," of ",T," snapshots"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>O(k-1),disabled:k===1||d,children:[o.jsx(aw,{className:"h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm",children:["Page ",k," of ",j]}),o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>O(k+1),disabled:k===j||d,children:["Next",o.jsx(lw,{className:"h-4 w-4"})]})]})]})]})]})}),p&&o.jsx(xr,{open:!!p,onOpenChange:()=>g(null),children:o.jsxs(or,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(ir,{children:[o.jsx(ar,{children:p.title}),o.jsxs(yr,{children:["Route snapshot captured on ",new Date(p.captureTime).toLocaleString()]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(dt,{children:o.jsxs(ft,{className:"p-4 text-center",children:[o.jsx(ra,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:p.snapshotMetadata.routePointsCount}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Route Points"})]})}),o.jsx(dt,{children:o.jsxs(ft,{className:"p-4 text-center",children:[o.jsx(sr,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:re(p.totalDistance)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Distance"})]})}),o.jsx(dt,{children:o.jsxs(ft,{className:"p-4 text-center",children:[o.jsx(ns,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:p.meetings.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Meetings"})]})}),o.jsx(dt,{children:o.jsxs(ft,{className:"p-4 text-center",children:[o.jsx(An,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:U(p.duration)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]})})]}),o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsx(Rt,{children:"Route Visualization"})}),o.jsx(ft,{children:o.jsx(Vp,{employees:[q(p)],height:"400px",trackingSession:X(p),showRoute:!0})})]}),p.description&&o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsx(Rt,{children:"Description"})}),o.jsx(ft,{children:o.jsx("p",{className:"text-sm",children:p.description})})]}),p.meetings.length>0&&o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsx(Rt,{children:"Meetings in Snapshot"})}),o.jsx(ft,{children:o.jsx("div",{className:"space-y-3",children:p.meetings.map(ne=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:ne.clientName||"Unknown Client"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:ne.location.address}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(ne.startTime).toLocaleString(),ne.endTime&&` - ${new Date(ne.endTime).toLocaleString()}`]})]}),o.jsx(Nt,{variant:"outline",children:ne.status})]},ne.id))})})]})]})]})})]})}const RM=e=>e>=7.5?"full_day":e>=3.5&&e<=7.5?"half_day":"absent";function LM(){const[e,t]=v.useState([]),[r,a]=v.useState(!0),[c,d]=v.useState({employeeId:"all",dateRange:"all",searchTerm:""}),[f,p]=v.useState(null),[g,w]=v.useState([]),[_,b]=v.useState([]),[S,k]=v.useState(!1),[P,j]=v.useState({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1}),[C,T]=v.useState({isOpen:!1,employeeId:""}),[D,M]=v.useState({}),[O,I]=v.useState({}),[G,U]=v.useState({totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0});v.useEffect(()=>{re()},[c]),v.useEffect(()=>{var Z;f&&me(f,((Z=e.find(le=>le.employeeId===f))==null?void 0:Z.employeeName)||"Unknown")},[c.dateRange,c.startDate,c.endDate]);const re=async()=>{try{a(!0);const Z=JSON.parse(localStorage.getItem("user")||"{}"),le=(Z==null?void 0:Z.role)==="super_admin",Ce=new URLSearchParams;le?c.employeeId&&c.employeeId!=="all"&&Ce.append("employeeId",c.employeeId):Z!=null&&Z._id&&Ce.append("employeeId",Z._id),Ce.append("dateRange",c.dateRange),c.startDate&&Ce.append("startDate",c.startDate),c.endDate&&Ce.append("endDate",c.endDate),c.searchTerm&&Ce.append("search",c.searchTerm);const Ne=await ut.get(`/api/analytics/employees?${Ce}`);if(Ne.ok){const Be=await Ne.json();t(Be.analytics||[]),U(Be.summary||{totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0})}else console.error("Failed to fetch analytics"),t([])}catch(Z){console.error("Error fetching analytics",Z),t([])}finally{a(!1)}},q=(Z,le)=>{d(Ce=>{const Ne={...Ce,[Z]:le};return Z==="dateRange"&&le!=="custom"&&(Ne.startDate=void 0,Ne.endDate=void 0),Z==="startDate"&&le&&!Ce.endDate&&(Ne.endDate=cn(new Date,"yyyy-MM-dd")),Ne})},X=()=>{d(Z=>({...Z,startDate:void 0,endDate:void 0}))},ne=Z=>{const le=new Date;let Ce,Ne=cn(le,"yyyy-MM-dd");switch(Z){case"last7":Ce=cn(Jx(le,6),"yyyy-MM-dd");break;case"last30":Ce=cn(Jx(le,29),"yyyy-MM-dd");break;case"lastMonth":const Be=new Date(le.getFullYear(),le.getMonth()-1,1),Xe=new Date(le.getFullYear(),le.getMonth(),0);Ce=cn(Be,"yyyy-MM-dd"),Ne=cn(Xe,"yyyy-MM-dd");break;case"thisMonth":Ce=cn(JT(le),"yyyy-MM-dd"),Ne=cn(QT(le),"yyyy-MM-dd");break;default:return}d(Be=>({...Be,dateRange:"custom",startDate:Ce,endDate:Ne}))},ge=()=>{switch(c.dateRange){case"all":return"All Time";case"today":return"Today";case"yesterday":return"Yesterday";case"week":return"This Week";case"month":return"This Month";case"custom":if(c.startDate&&c.endDate){const Z=new Date(c.startDate),le=new Date(c.endDate),Ce=Z.getFullYear(),Ne=le.getFullYear(),Be=new Date().getFullYear();return Ce===Ne&&Ce===Be?`${cn(Z,"MMM dd")} - ${cn(le,"MMM dd")}`:Ce===Ne?`${cn(Z,"MMM dd")} - ${cn(le,"MMM dd, yyyy")}`:`${cn(Z,"MMM dd, yyyy")} - ${cn(le,"MMM dd, yyyy")}`}return"Custom Range";default:return"Today"}},Oe=()=>{const Z=[["Employee Name","Total Meetings","Today's Meetings","Meeting Hours","Duty Hours"],...e.map(Be=>[Be.employeeName,Be.totalMeetings.toString(),Be.todayMeetings.toString(),`${Be.totalMeetingHours.toFixed(1)}h`,`${Be.totalDutyHours.toFixed(1)}h`])].map(Be=>Be.join(",")).join(`
`),le=new Blob([Z],{type:"text/csv"}),Ce=window.URL.createObjectURL(le),Ne=document.createElement("a");Ne.href=Ce,Ne.download=`employee-analytics-${cn(new Date,"yyyy-MM-dd")}.csv`,Ne.click(),window.URL.revokeObjectURL(Ce)},me=async(Z,le)=>{var Ce,Ne;console.log(` Fetching details for employee: ${Z} (${le})`),p(Z),k(!0);try{const Be=`/api/analytics/employee-details/${Z}?${new URLSearchParams({dateRange:c.dateRange,...c.startDate&&{startDate:c.startDate},...c.endDate&&{endDate:c.endDate}})}`;console.log(` Fetching employee details from: ${Be}`);const Xe=await ut.get(Be);if(Xe.ok){const Ye=await Xe.json();console.log(" Employee details received:",{dayRecords:((Ce=Ye.dayRecords)==null?void 0:Ce.length)||0,meetingRecords:((Ne=Ye.meetingRecords)==null?void 0:Ne.length)||0});const Ut=Ye.dayRecords||[],Pt=Ye.meetingRecords||[];Pt.length>0?(console.log(" First meeting record structure:",Pt[0]),console.log(" Meeting ID present?",!!Pt[0].meetingId),console.log(" Approval fields:",{approvalStatus:Pt[0].approvalStatus,approvalReason:Pt[0].approvalReason,approvedBy:Pt[0].approvedBy,approvedByName:Pt[0].approvedByName}),console.log(" All meeting IDs:",Pt.map(St=>({meetingId:St.meetingId,hasId:!!St.meetingId,company:St.companyName,approvedBy:St.approvedBy,approvedByName:St.approvedByName})))):console.warn(" No meeting records received from API");try{const St=new URLSearchParams({employeeId:Z});c.startDate&&St.append("startDate",c.startDate),c.endDate&&St.append("endDate",c.endDate);const At=`/api/analytics/attendance?${St}`;console.log(` Fetching attendance from: ${At}`);const Ht=await ut.get(At);if(console.log(` Attendance response status: ${Ht.status}`),Ht.ok){const qt=await Ht.json();if(console.log(" Attendance data received:",qt),qt.success&&qt.data){console.log(` Processing ${qt.data.length} attendance records`);const Vt=new Map(qt.data.map($t=>[$t.date,$t]));let Je=0;Ut.forEach($t=>{const hn=Vt.get($t.date);$t.automaticAttendanceStatus=RM($t.totalDutyHours),hn?($t.attendanceStatus=hn.attendanceStatus,$t.attendanceReason=hn.attendanceReason,Je++,console.log(` Merged attendance for ${$t.date}:`,{status:hn.attendanceStatus,reason:hn.attendanceReason,automaticStatus:$t.automaticAttendanceStatus})):($t.attendanceStatus=$t.automaticAttendanceStatus,$t.attendanceReason="Auto-calculated based on duty hours")}),console.log(` Merged ${Je} attendance records with day records`)}else console.log(" No attendance data in response")}else console.warn(` Attendance API returned status: ${Ht.status}`)}catch(St){console.error(" Failed to fetch attendance data:",St)}if(console.log(` Setting state with ${Ut.length} day records and ${Pt.length} meeting records`),Pt.length>0){console.log(" Sample meeting record:",Pt[0]);const St=Pt.filter(At=>!At.meetingId);St.length>0&&console.error(` ${St.length} meetings are missing IDs!`,St),console.log(" Meeting IDs:",Pt.map(At=>({id:At.meetingId,company:At.companyName,hasId:!!At.meetingId})))}w(Ut),b(Pt)}else console.error(` Failed to fetch employee details - Status: ${Xe.status}`),w([]),b([])}catch(Be){console.error(" Error fetching employee details:",Be),w([]),b([])}finally{k(!1),console.log(" Employee details loading complete")}},$e=()=>{p(null),w([]),b([])},J=(Z,le)=>{const Ce=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900","bg-indigo-50 border-indigo-200 text-indigo-900"];return Ce[le%Ce.length]},_e=async(Z,le)=>{var Be,Xe;if(!Z){console.error("No employee ID provided for meeting history");return}console.log("meeting works perfectly");const Ce=((Be=e.find(Ye=>Ye.employeeId===Z))==null?void 0:Be.employeeName)||(f===Z?"Selected Employee":"Unknown Employee"),Ne=le?`employee: ${Z} (${Ce}), leadId: ${le}`:`employee: ${Z} (${Ce})`;console.log(`Opening meeting history for ${Ne}`),j({isOpen:!0,employeeId:Z,employeeName:le?`${Ce} - Lead ${le}`:Ce,meetingHistory:[],loading:!0});try{const Ye=new URLSearchParams;Ye.append("employeeId",Z),Ye.append("limit","50"),Ye.append("_t",Date.now().toString()),le&&Ye.append("leadId",le),c.dateRange!=="all"?(Ye.append("dateRange",c.dateRange),c.startDate&&Ye.append("startDate",c.startDate),c.endDate&&Ye.append("endDate",c.endDate),console.log(`Applying date filter to meeting history for ${Ce}:`,c.dateRange)):console.log(`Showing ALL meetings in history for ${Ce} (All Time filter selected)`),console.log(`Fetching meeting history for ${Ce} with filters: ${Ye.toString()}`);const Pt=await ut.get(`/api/meeting-history?${Ye.toString()}`);if(Pt.ok){const St=await Pt.json();console.log(`Meeting history response for ${Ce}: ${((Xe=St.meetings)==null?void 0:Xe.length)||0} records`);const At=St.meetings||[],Ht=At.filter(Vt=>Vt.employeeId!==Z);Ht.length>0&&console.error(`WARNING: Found ${Ht.length} meetings that don't belong to employee ${Z}:`,Ht.map(Vt=>({meetingEmployeeId:Vt.employeeId,leadId:Vt.leadId})));const qt=At.filter(Vt=>Vt.employeeId===Z);console.log(`After filtering: ${qt.length} meetings actually belong to ${Ce}`),j(Vt=>({...Vt,meetingHistory:qt,loading:!1}))}else console.error(`Failed to fetch meeting history for ${Ce}`),j(St=>({...St,meetingHistory:[],loading:!1}))}catch(Ye){console.error(`Error fetching meeting history for ${Ce}:`,Ye),j(Ut=>({...Ut,meetingHistory:[],loading:!1}))}},B=()=>{console.log("Closing meeting history modal"),j({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1})},pe=Z=>{T({isOpen:!0,employeeId:Z})},ie=()=>{T({isOpen:!1,employeeId:""})},$=[{value:"full_day",label:"Full Day"},{value:"half_day",label:"Half Day"},{value:"off",label:"Off"},{value:"short_leave",label:"Short Leave"},{value:"absent",label:"Absent"},{value:"ot",label:"OT"}],te=(Z,le,Ce)=>{M(Ne=>({...Ne,[Z]:{attendanceStatus:le||"full_day",attendanceReason:Ce||"",isEditing:!0,isSaving:!1}}))},Pe=Z=>{M(le=>{const Ce={...le};return delete Ce[Z],Ce})},Le=(Z,le)=>{M(Ce=>({...Ce,[Z]:{...Ce[Z],attendanceStatus:le}}))},Ee=(Z,le)=>{M(Ce=>({...Ce,[Z]:{...Ce[Z],attendanceReason:le}}))},F=async Z=>{var Ce;const le=D[Z];if(!(!le||!f)){console.log(` Saving attendance for ${Z}:`,le),M(Ne=>({...Ne,[Z]:{...Ne[Z],isSaving:!0}}));try{const Ne=JSON.parse(localStorage.getItem("user")||"{}"),Be=(Ne==null?void 0:Ne._id)||null;console.log(` Logged-in user ID: ${Be}`);const Xe=await ut.post("/api/analytics/save-attendance",{employeeId:f,date:Z,attendanceStatus:le.attendanceStatus,attendanceReason:le.attendanceReason,attendenceCreated:Be,isManual:!0});if(Xe.ok){const Ye=await Xe.json();console.log(" Attendance saved successfully:",Ye),console.log(" Refetching employee details to update attendanceAddedBy...");const Ut=((Ce=e.find(Pt=>Pt.employeeId===f))==null?void 0:Ce.employeeName)||"Employee";await me(f,Ut),Pe(Z),console.log(` Attendance updated in UI for ${Z}`)}else{console.error(` Failed to save attendance - Status: ${Xe.status}`);const Ye=await Xe.text();console.error("Error response:",Ye),alert("Failed to save attendance. Please try again.")}}catch(Ne){console.error(" Error saving attendance:",Ne),alert("Error saving attendance. Please try again.")}finally{M(Ne=>({...Ne,[Z]:{...Ne[Z],isSaving:!1}}))}}},K=Z=>{const le=Math.floor(Z),Ce=Math.round((Z-le)*60);return`${le}h ${Ce}m`},ue=[{value:"ok",label:"OK"},{value:"not_ok",label:"Not OK"},{value:"pending",label:"Pending"}],be=Z=>Z.meetingId?Z.meetingId:`${Z.date}_${Z.companyName}_${Z.meetingInTime}`.replace(/\s+/g,"_"),Me=Z=>{const le=be(Z);console.log(` Editing meeting approval for: ${le}`,{meetingId:Z.meetingId,company:Z.companyName,date:Z.date}),I(Ce=>({...Ce,[le]:{approvalStatus:Z.approvalStatus||"",approvalReason:Z.approvalReason||"",isEditing:!0,isSaving:!1,meetingId:Z.meetingId,meetingKey:le}}))},He=Z=>{I(le=>{const Ce={...le};return delete Ce[Z],Ce})},Ze=(Z,le)=>{I(Ce=>({...Ce,[Z]:{...Ce[Z],approvalStatus:le}}))},rt=(Z,le)=>{I(Ce=>({...Ce,[Z]:{...Ce[Z],approvalReason:le}}))},xt=async Z=>{const le=O[Z];if(!le||!le.approvalStatus){alert("Please select an approval status");return}if(!le.approvalReason.trim()){alert("Please provide a reason for your approval decision");return}const Ce=_.find(Ne=>be(Ne)===Z);if(!Ce){console.error(" Cannot find meeting record for key:",Z),alert("Error: Meeting record not found.");return}console.log(` Saving meeting approval for ${Z}:`,{meetingId:le.meetingId,employeeId:f,date:Ce.date,company:Ce.companyName,status:le.approvalStatus,reason:le.approvalReason}),I(Ne=>({...Ne,[Z]:{...Ne[Z],isSaving:!0}}));try{const Ne=JSON.parse(localStorage.getItem("user")||"{}"),Be=(Ne==null?void 0:Ne._id)||null;console.log(` Logged-in user ID: ${Be}`);let Xe;if(le.meetingId){const Ye=`/api/meetings/${le.meetingId}/approval`;console.log(` Sending PUT request to: ${Ye}`),Xe=await ut.put(Ye,{approvalStatus:le.approvalStatus,approvalReason:le.approvalReason,approvedBy:Be})}else{const Ye="/api/meetings/approval-by-details";console.log(` Sending PUT request to: ${Ye} (using composite key)`),Xe=await ut.put(Ye,{employeeId:f,date:Ce.date,companyName:Ce.companyName,meetingInTime:Ce.meetingInTime,approvalStatus:le.approvalStatus,approvalReason:le.approvalReason,approvedBy:Be})}if(console.log(` Response status: ${Xe.status}`),Xe.ok){const Ye=await Xe.json();console.log(" Meeting approval saved successfully:",Ye),b(Ut=>Ut.map(Pt=>be(Pt)===Z?{...Pt,approvalStatus:le.approvalStatus,approvalReason:le.approvalReason}:Pt)),He(Z),console.log(` Meeting approval updated in UI for ${Z}`)}else{console.error(` Failed to save meeting approval - Status: ${Xe.status}`);const Ye=await Xe.text();console.error("Error response:",Ye),alert("Failed to save meeting approval. Please try again.")}}catch(Ne){console.error(" Error saving meeting approval:",Ne),alert("Error saving meeting approval. Please try again.")}finally{I(Ne=>({...Ne,[Z]:{...Ne[Z],isSaving:!1}}))}},Se=Z=>{switch(Z){case"active":return o.jsx(Nt,{className:"bg-success text-success-foreground",children:"Active"});case"meeting":return o.jsx(Nt,{className:"bg-warning text-warning-foreground",children:"In Meeting"});case"inactive":return o.jsx(Nt,{variant:"secondary",children:"Offline"});default:return o.jsx(Nt,{variant:"secondary",children:"Unknown"})}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Analytics Dashboard"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Employee performance and meeting analytics for"," ",ge()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(je,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(zs,{to:"/route-test",children:[o.jsx(mw,{className:"h-4 w-4 mr-2"}),"Test Route Tracking"]})}),o.jsxs(je,{onClick:Oe,variant:"outline",children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Total Employees"}),o.jsx(sa,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold",children:G.totalEmployees}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active in system"})]})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Active Meetings"}),o.jsx(Ep,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:G.activeMeetings}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently ongoing"})]})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsxs(Rt,{className:"text-sm font-medium",children:["Meetings ",ge()]}),o.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:G.totalMeetingsToday}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed meetings"})]})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Avg Meeting Duration"}),o.jsx(nS,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsxs("div",{className:"text-2xl font-bold text-info",children:[G.avgMeetingDuration.toFixed(1),"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Per meeting"})]})]})]}),o.jsxs(dt,{className:"mb-6",children:[o.jsx(Mt,{children:o.jsxs(Rt,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(fw,{className:"h-4 w-4 mr-2"}),"Filters"]}),c.dateRange==="custom"&&c.startDate&&c.endDate&&o.jsxs(Nt,{variant:"secondary",className:"text-xs",children:["Custom: ",cn(new Date(c.startDate),"MMM dd")," -"," ",cn(new Date(c.endDate),"MMM dd")]})]})}),o.jsx(ft,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"search",children:"Search Employee"}),o.jsxs("div",{className:"relative",children:[o.jsx(nu,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(dn,{id:"search",placeholder:"Search by name...",value:c.searchTerm,onChange:Z=>q("searchTerm",Z.target.value),className:"pl-8"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{children:"Employee"}),o.jsxs(vs,{value:c.employeeId,onValueChange:Z=>q("employeeId",Z),children:[o.jsx(es,{children:o.jsx(xs,{placeholder:"All Employees"})}),o.jsxs(ts,{children:[o.jsx(Jt,{value:"all",children:"All Employees"}),e.map(Z=>o.jsx(Jt,{value:Z.employeeId,children:Z.employeeName},Z.employeeId))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{children:"Date Range"}),o.jsxs(vs,{value:c.dateRange,onValueChange:Z=>q("dateRange",Z),children:[o.jsx(es,{children:o.jsx(xs,{})}),o.jsxs(ts,{children:[o.jsx(Jt,{value:"all",children:"All Time"}),o.jsx(Jt,{value:"today",children:"Today"}),o.jsx(Jt,{value:"yesterday",children:"Yesterday"}),o.jsx(Jt,{value:"week",children:"This Week"}),o.jsx(Jt,{value:"month",children:"This Month"}),o.jsx(Jt,{value:"custom",children:"Custom Range"})]})]})]}),c.dateRange==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"startDate",children:"Start Date"}),o.jsx(dn,{id:"startDate",type:"date",value:c.startDate||"",onChange:Z=>q("startDate",Z.target.value),max:c.endDate||cn(new Date,"yyyy-MM-dd")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"endDate",children:"End Date"}),o.jsx(dn,{id:"endDate",type:"date",value:c.endDate||"",onChange:Z=>q("endDate",Z.target.value),min:c.startDate||"",max:cn(new Date,"yyyy-MM-dd")}),c.dateRange==="custom"&&(!c.startDate||!c.endDate)&&o.jsx("p",{className:"text-xs text-amber-600",children:"Please select both start and end dates"})]})]}),c.dateRange==="custom"&&o.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-2 xl:col-span-2",children:[o.jsx(Ot,{children:"Quick Select"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(je,{variant:"outline",size:"sm",onClick:()=>ne("last7"),className:"text-xs",children:"Last 7 Days"}),o.jsx(je,{variant:"outline",size:"sm",onClick:()=>ne("last30"),className:"text-xs",children:"Last 30 Days"}),o.jsx(je,{variant:"outline",size:"sm",onClick:()=>ne("thisMonth"),className:"text-xs",children:"This Month"}),o.jsx(je,{variant:"outline",size:"sm",onClick:()=>ne("lastMonth"),className:"text-xs",children:"Last Month"})]})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-1 xl:col-span-1",children:[o.jsx(Ot,{children:""}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(je,{onClick:re,className:"flex-1",disabled:r||c.dateRange==="custom"&&(!c.startDate||!c.endDate),children:[o.jsx(q1,{className:"h-4 w-4 mr-2"}),r?"Loading...":"Apply Filter"]}),c.dateRange==="custom"&&o.jsx(je,{variant:"outline",onClick:X,disabled:r,children:"Clear"})]})]})]})})]}),f?o.jsxs("div",{className:"space-y-6",children:[o.jsx(dt,{children:o.jsx(ft,{className:"pt-6",children:o.jsxs(je,{onClick:$e,variant:"outline",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Employee List"]})})}),S?o.jsx(dt,{children:o.jsx(ft,{className:"py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employee details..."})]})})}):o.jsxs(o.Fragment,{children:[Array.from(new Set([...g.map(le=>le.date),..._.map(le=>le.date)])).sort((le,Ce)=>new Date(Ce).getTime()-new Date(le).getTime()).map((le,Ce)=>{var Ye,Ut,Pt,St,At,Ht,qt,Vt;const Ne=g.find(Je=>Je.date===le),Be=_.filter(Je=>Je.date===le),Xe=J(le,Ce);return o.jsxs("div",{className:`p-4 rounded-lg border-2 ${Xe}`,children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:cn(new Date(le),"EEEE, MMMM dd, yyyy")}),Ne&&o.jsxs(dt,{className:"mb-4",children:[o.jsx(Mt,{children:o.jsx(Rt,{className:"text-sm",children:"Daily Summary"})}),o.jsx(ft,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ll,{children:[o.jsx(cl,{children:o.jsxs(Dr,{className:Xe,children:[o.jsx(ht,{children:"Date"}),o.jsx(ht,{children:"Total Meetings"}),o.jsx(ht,{children:"Start Location Time"}),o.jsx(ht,{children:"Start Location Address"}),o.jsx(ht,{children:"Out Location Time"}),o.jsx(ht,{children:"Out Location Address"}),o.jsx(ht,{children:"Total Duty Hours"}),o.jsx(ht,{children:"Meeting Time"}),o.jsx(ht,{children:"Travel & Lunch Time"}),o.jsx(ht,{children:"Attendance Status"}),o.jsx(ht,{children:"Reason"}),o.jsx(ht,{children:"Attendance Added By"}),o.jsx(ht,{children:"Actions"})]})}),o.jsx(ul,{children:o.jsxs(Dr,{className:`${Xe} opacity-80`,children:[o.jsx(at,{children:cn(new Date(Ne.date),"MM/dd/yyyy")}),o.jsx(at,{children:Ne.totalMeetings}),o.jsx(at,{children:Ne.startLocationTime?cn(new Date(Ne.startLocationTime),"HH:mm"):"-"}),o.jsx(at,{children:Ne.startLocationAddress||"-"}),o.jsx(at,{children:Ne.outLocationTime?cn(new Date(Ne.outLocationTime),"HH:mm"):"-"}),o.jsx(at,{children:Ne.outLocationAddress||"-"}),o.jsx(at,{children:K(Ne.totalDutyHours)}),o.jsx(at,{children:K(Ne.meetingTime)}),o.jsx(at,{children:K(Ne.travelAndLunchTime)}),o.jsx(at,{children:(Ye=D[le])!=null&&Ye.isEditing?o.jsxs(vs,{value:D[le].attendanceStatus,onValueChange:Je=>Le(le,Je),children:[o.jsx(es,{className:"w-32",children:o.jsx(xs,{})}),o.jsx(ts,{children:$.map(Je=>o.jsx(Jt,{value:Je.value,children:Je.label},Je.value))})]}):o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm",children:Ne.attendanceStatus?((Ut=$.find(Je=>Je.value===Ne.attendanceStatus))==null?void 0:Ut.label)||Ne.attendanceStatus:"Full Day"}),Ne.automaticAttendanceStatus&&Ne.attendanceStatus!==Ne.automaticAttendanceStatus&&o.jsx(Nt,{variant:"outline",className:"text-xs",children:"Manual"})]}),Ne.automaticAttendanceStatus&&Ne.attendanceStatus!==Ne.automaticAttendanceStatus&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Auto: ",((Pt=$.find(Je=>Je.value===Ne.automaticAttendanceStatus))==null?void 0:Pt.label)||Ne.automaticAttendanceStatus,"(",Ne.totalDutyHours.toFixed(2),"h)"]})]})}),o.jsx(at,{children:(St=D[le])!=null&&St.isEditing?o.jsx(xi,{value:D[le].attendanceReason,onChange:Je=>Ee(le,Je.target.value),placeholder:"Enter reason...",className:"w-40 h-16 text-xs"}):o.jsx("div",{className:"max-w-40 text-xs",children:Ne.attendanceReason||"-"})}),o.jsx(at,{children:o.jsx("div",{className:"text-xs text-muted-foreground",children:Ne.attendanceAddedBy||"-"})}),o.jsx(at,{children:(At=D[le])!=null&&At.isEditing?o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(je,{size:"sm",onClick:()=>F(le),disabled:(Ht=D[le])==null?void 0:Ht.isSaving,className:"h-7 px-2",children:(qt=D[le])!=null&&qt.isSaving?o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):o.jsx(Hm,{className:"h-3 w-3"})}),o.jsx(je,{variant:"outline",size:"sm",onClick:()=>Pe(le),disabled:(Vt=D[le])==null?void 0:Vt.isSaving,className:"h-7 px-2",children:""})]}):o.jsx(je,{variant:"outline",size:"sm",onClick:()=>te(le,Ne.attendanceStatus,Ne.attendanceReason),className:"h-7 px-2",children:o.jsx(Wm,{className:"h-3 w-3"})})})]})})]})})})]}),Be.length>0&&o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsx(Rt,{className:"text-sm",children:"Meeting Details"})}),o.jsx(ft,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ll,{children:[o.jsx(cl,{children:o.jsxs(Dr,{className:Xe,children:[o.jsx(ht,{children:"Employee Name"}),o.jsx(ht,{children:"Company Name"}),o.jsx(ht,{children:"Date"}),o.jsx(ht,{children:"Lead ID"}),o.jsx(ht,{children:"Meeting In Time"}),o.jsx(ht,{children:"Meeting In Location"}),o.jsx(ht,{children:"Meeting Out Time"}),o.jsx(ht,{children:"Meeting Out Location"}),o.jsx(ht,{children:"Total Stay Time"}),o.jsx(ht,{children:"Discussion"}),o.jsx(ht,{children:"Meeting Person"}),o.jsx(ht,{children:"Approval Status"}),o.jsx(ht,{children:"Approval Reason"}),o.jsx(ht,{children:"Approved By"}),o.jsx(ht,{children:"Attachments"}),o.jsx(ht,{children:"Actions"}),o.jsx(ht,{children:"History"})]})}),o.jsx(ul,{children:Be.map((Je,$t)=>{var hn;return o.jsxs(Dr,{className:`${Xe} opacity-80`,children:[o.jsx(at,{children:((hn=e.find(jt=>jt.employeeId===f))==null?void 0:hn.employeeName)||Je.employeeName}),o.jsx(at,{children:Je.companyName}),o.jsx(at,{children:cn(new Date(Je.date),"MM/dd/yyyy")}),o.jsx(at,{children:Je.leadId||"-"}),o.jsx(at,{children:Je.meetingInTime}),o.jsx(at,{children:Je.meetingInLocation}),o.jsx(at,{children:Je.meetingOutTime}),o.jsx(at,{children:Je.meetingOutLocation}),o.jsx(at,{children:K(Je.totalStayTime)}),o.jsx(at,{className:"max-w-xs truncate",children:Je.discussion||"-"}),o.jsx(at,{children:Je.meetingPerson}),o.jsx(at,{children:(()=>{var Xt;const jt=be(Je);return(Xt=O[jt])!=null&&Xt.isEditing?o.jsxs(vs,{value:O[jt].approvalStatus,onValueChange:en=>Ze(jt,en),children:[o.jsx(es,{className:"w-28",children:o.jsx(xs,{placeholder:"Select..."})}),o.jsx(ts,{children:ue.map(en=>o.jsx(Jt,{value:en.value,children:en.label},en.value))})]}):o.jsx("div",{className:"flex items-center space-x-2",children:Je.approvalStatus?o.jsx(Nt,{variant:Je.approvalStatus==="ok"?"default":"destructive",className:Je.approvalStatus==="ok"?"bg-success text-success-foreground":"",children:Je.approvalStatus==="ok"?"OK":"Not OK"}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Not reviewed"})})})()}),o.jsx(at,{children:(()=>{var Xt;const jt=be(Je);return(Xt=O[jt])!=null&&Xt.isEditing?o.jsx(xi,{value:O[jt].approvalReason,onChange:en=>rt(jt,en.target.value),placeholder:"Enter reason (required)...",className:"w-48 h-16 text-xs"}):o.jsx("div",{className:"max-w-48 text-xs",children:Je.approvalReason||"-"})})()}),o.jsx(at,{children:o.jsx("div",{className:"text-xs text-muted-foreground",children:Je.approvedByName||"-"})}),o.jsx(at,{children:Je.attachments&&Je.attachments.length>0?o.jsx("div",{className:"flex flex-col space-y-1",children:Je.attachments.map((jt,Xt)=>{const en=jt.startsWith("data:");let H=`File ${Xt+1}`,ye="";if(en){const V=jt.match(/data:([^;]+);/);if(V){ye=V[1];const ee=ye.split("/")[1];H=`attachment-${Xt+1}.${ee}`}}else H=jt.split("/").pop()||H;return o.jsxs("a",{href:jt,download:H,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center space-x-1",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),o.jsx("span",{className:"truncate max-w-[150px]",title:H,children:H})]},Xt)})}):o.jsx("div",{className:"text-xs text-muted-foreground",children:"-"})}),o.jsx(at,{children:(()=>{var Xt,en,H,ye;const jt=be(Je);return(Xt=O[jt])!=null&&Xt.isEditing?o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(je,{size:"sm",onClick:()=>xt(jt),disabled:(en=O[jt])==null?void 0:en.isSaving,className:"h-7 px-2",children:(H=O[jt])!=null&&H.isSaving?o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):o.jsx(Hm,{className:"h-3 w-3"})}),o.jsx(je,{variant:"outline",size:"sm",onClick:()=>He(jt),disabled:(ye=O[jt])==null?void 0:ye.isSaving,className:"h-7 px-2",children:""})]}):o.jsx(je,{variant:"outline",size:"sm",onClick:()=>Me(Je),className:"h-7 px-2",title:"Edit approval",children:o.jsx(Wm,{className:"h-3 w-3"})})})()}),o.jsx(at,{children:o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>{const jt=f,Xt=Je.leadId;_e(jt,Xt)},children:[o.jsx(dl,{className:"h-4 w-4 mr-1"}),"History"]})})]},$t)})})]})})})]})]},le)}),g.length===0&&_.length===0&&o.jsx(dt,{children:o.jsx(ft,{className:"py-12",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected employee and date range"})})})})]})]}):o.jsxs(dt,{children:[o.jsxs(Mt,{children:[o.jsx(Rt,{children:"Employee Analytics"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed breakdown of employee performance and meeting statistics"})]}),o.jsx(ft,{children:r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]}):e.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected filters"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ll,{children:[o.jsx(cl,{children:o.jsxs(Dr,{children:[o.jsx(ht,{children:"Employee Name"}),o.jsx(ht,{children:"Status"}),o.jsx(ht,{className:"text-center",children:"Total Meetings"}),o.jsx(ht,{className:"text-center",children:"Today's Meetings"}),o.jsx(ht,{className:"text-center",children:"Meeting Hours"}),o.jsx(ht,{className:"text-center",children:"Duty Hours"}),o.jsx(ht,{className:"text-center",children:"Actions"})]})}),o.jsx(ul,{children:e.map(Z=>o.jsxs(Dr,{children:[o.jsx(at,{className:"font-medium",children:Z.employeeName}),o.jsx(at,{children:Se(Z.status)}),o.jsx(at,{className:"text-center",children:o.jsx(Nt,{variant:"outline",children:Z.totalMeetings})}),o.jsx(at,{className:"text-center",children:o.jsx(Nt,{variant:"outline",className:Z.todayMeetings>0?"bg-success/10 text-success border-success":"",children:Z.todayMeetings})}),o.jsx(at,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx(An,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{children:K(Z.totalMeetingHours)})]})}),o.jsx(at,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx(An,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{children:K(Z.totalDutyHours)})]})}),o.jsx(at,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>me(Z.employeeId,Z.employeeName),children:[o.jsx(uw,{className:"h-4 w-4 mr-1"}),"View Details"]}),o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>pe(Z.employeeId),children:[o.jsx(dl,{className:"h-4 w-4 mr-1"}),"Route History"]})]})})]},Z.employeeId))})]})})})]})]}),o.jsx(xr,{open:P.isOpen,onOpenChange:B,children:o.jsxs(or,{className:"sm:max-w-[1200px] max-h-[80vh] overflow-y-auto",children:[o.jsxs(ir,{children:[o.jsxs(ar,{className:"flex items-center space-x-2",children:[o.jsx(dl,{className:"h-5 w-5 text-primary"}),o.jsxs("span",{children:["Meeting History - ",P.employeeName," (ID:"," ",P.employeeId,")"]})]}),o.jsx(yr,{children:"Complete meeting history and interactions for this employee"})]}),o.jsx("div",{className:"space-y-4",children:P.loading?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading meeting history..."})]}):P.meetingHistory.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No meeting history found for this employee"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ll,{children:[o.jsx(cl,{children:o.jsxs(Dr,{children:[o.jsx(ht,{children:"Date"}),o.jsx(ht,{children:"Employee"}),o.jsx(ht,{children:"Company"}),o.jsx(ht,{children:"Lead ID"}),o.jsx(ht,{children:"Customer Name"}),o.jsx(ht,{children:"Contact Person"}),o.jsx(ht,{children:"Contact Details"}),o.jsx(ht,{children:"Discussion"}),o.jsx(ht,{children:"Status"})]})}),o.jsx(ul,{children:P.meetingHistory.map((Z,le)=>{var Ce,Ne,Be,Xe,Ye,Ut,Pt,St,At,Ht,qt,Vt,Je,$t,hn,jt,Xt,en,H,ye,V,ee,de,ve,we,We,ce,ze,Ie,nt,zt,_r,Tt,pt,yt,Gt,Sn;return o.jsxs(Dr,{children:[o.jsx(at,{children:cn(new Date(Z.timestamp),"MMM dd, yyyy HH:mm")}),o.jsx(at,{className:"font-medium",children:P.employeeName}),o.jsx(at,{className:"font-medium",children:((Ce=Z.meetingDetails)==null?void 0:Ce.customerName)||((Xe=(Be=(Ne=Z.meetingDetails)==null?void 0:Ne.customers)==null?void 0:Be[0])==null?void 0:Xe.customerName)||((Ye=Z.leadInfo)==null?void 0:Ye.companyName)||"-"}),o.jsx(at,{children:Z.leadId?o.jsx(Nt,{variant:"outline",children:Z.leadId}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx(at,{children:((Pt=(Ut=Z.meetingDetails)==null?void 0:Ut.customers)==null?void 0:Pt.map(Ke=>Ke.customerName).join(", "))||((St=Z.meetingDetails)==null?void 0:St.customerName)||"-"}),o.jsx(at,{children:((Ht=(At=Z.meetingDetails)==null?void 0:At.customers)==null?void 0:Ht.map(Ke=>Ke.customerEmployeeName).join(", "))||((qt=Z.meetingDetails)==null?void 0:qt.customerEmployeeName)||"-"}),o.jsx(at,{children:o.jsxs("div",{className:"text-xs space-y-1",children:[((($t=(Je=(Vt=Z.meetingDetails)==null?void 0:Vt.customers)==null?void 0:Je[0])==null?void 0:$t.customerEmail)||((hn=Z.meetingDetails)==null?void 0:hn.customerEmail))&&o.jsxs("div",{children:[""," ",((en=(Xt=(jt=Z.meetingDetails)==null?void 0:jt.customers)==null?void 0:Xt[0])==null?void 0:en.customerEmail)||((H=Z.meetingDetails)==null?void 0:H.customerEmail)]}),(((ee=(V=(ye=Z.meetingDetails)==null?void 0:ye.customers)==null?void 0:V[0])==null?void 0:ee.customerMobile)||((de=Z.meetingDetails)==null?void 0:de.customerMobile))&&o.jsxs("div",{children:[""," ",((We=(we=(ve=Z.meetingDetails)==null?void 0:ve.customers)==null?void 0:we[0])==null?void 0:We.customerMobile)||((ce=Z.meetingDetails)==null?void 0:ce.customerMobile)]}),(((nt=(Ie=(ze=Z.meetingDetails)==null?void 0:ze.customers)==null?void 0:Ie[0])==null?void 0:nt.customerDesignation)||((zt=Z.meetingDetails)==null?void 0:zt.customerDesignation))&&o.jsxs("div",{children:[""," ",((pt=(Tt=(_r=Z.meetingDetails)==null?void 0:_r.customers)==null?void 0:Tt[0])==null?void 0:pt.customerDesignation)||((yt=Z.meetingDetails)==null?void 0:yt.customerDesignation)]})]})}),o.jsx(at,{className:"max-w-xs",children:o.jsx("div",{className:"truncate",title:(Gt=Z.meetingDetails)==null?void 0:Gt.discussion,children:((Sn=Z.meetingDetails)==null?void 0:Sn.discussion)||"-"})}),o.jsx(at,{children:o.jsx(Nt,{variant:"default",className:"bg-success text-success-foreground",children:"Completed"})})]},le)})})]})})})]})}),o.jsx(Mb,{employeeId:C.employeeId,isOpen:C.isOpen,onClose:ie})]})}const AM=(e={})=>{const[t,r]=v.useState({latitude:null,longitude:null,accuracy:null,error:null,loading:!0}),{enableHighAccuracy:a=!0,maximumAge:c=0,timeout:d=1e4,watchPosition:f=!1}=e,p=v.useCallback(_=>(r({latitude:_.coords.latitude,longitude:_.coords.longitude,accuracy:_.coords.accuracy,error:null,loading:!1}),_),[]),g=v.useCallback(_=>{let b="An unknown error occurred";switch(_.code){case _.PERMISSION_DENIED:b="Location access denied by user";break;case _.POSITION_UNAVAILABLE:b="Location information unavailable";break;case _.TIMEOUT:b="Location request timed out";break}return r(S=>({...S,error:b,loading:!1})),null},[]),w=v.useCallback(()=>new Promise(_=>{if(!navigator.geolocation){r(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1})),_(null);return}r(b=>({...b,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(b=>_(p(b)),b=>_(g(b)),{enableHighAccuracy:a,maximumAge:c,timeout:d})}),[a,c,d,p,g]);return v.useEffect(()=>{if(!navigator.geolocation){r(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1}));return}let _=null;return f?_=navigator.geolocation.watchPosition(p,g,{enableHighAccuracy:a,maximumAge:c,timeout:d}):w(),()=>{_!==null&&navigator.geolocation.clearWatch(_)}},[f,w,p,g,a,c,d]),{...t,getCurrentPosition:w}};function DM({employeeId:e,employeeName:t,onLocationUpdate:r,trackingEnabled:a=!1,onTrackingSessionStart:c,onTrackingSessionEnd:d,todaysMeetings:f=[]}){const{toast:p}=xo(),[g,w]=v.useState(!1),[_,b]=v.useState(""),[S,k]=v.useState(!1),[P,j]=v.useState([]),[C,T]=v.useState({}),D=()=>{try{const V=localStorage.getItem(`tracking_${e}`);if(V){const ee=JSON.parse(V);if(console.log(" Restored tracking state from localStorage:",ee),ee.isTracking===!0)return!0}}catch(V){console.warn("Error reading tracking state from localStorage:",V)}return!1},[M,O]=v.useState(D),[I,G]=v.useState(null),[U,re]=v.useState(0),[q,X]=v.useState(null),[ne,ge]=v.useState(0),[Oe,me]=v.useState(0),J=(()=>{try{const V=localStorage.getItem(`trackingData_${e}`);if(V){const ee=JSON.parse(V);return console.log(" Restored tracking data from localStorage:",ee),{currentSession:ee.currentSession,trackingStartTime:ee.trackingStartTime?new Date(ee.trackingStartTime):null,routeCoordinates:ee.routeCoordinates||[],totalDistance:ee.totalDistance||0}}}catch(V){console.warn("Error reading tracking data from localStorage:",V)}return{currentSession:null,trackingStartTime:null,routeCoordinates:[],totalDistance:0}})(),[_e,B]=v.useState(J.currentSession),[pe,ie]=v.useState(J.trackingStartTime),[$,te]=v.useState(null),[Pe,Le]=v.useState(0),[Ee,F]=v.useState(J.routeCoordinates),[K,ue]=v.useState(J.totalDistance),be=v.useRef(null),Me=(V,ee,de,ve,we)=>{try{const We={isTracking:V,timestamp:new Date().toISOString()},ce={currentSession:ee,trackingStartTime:de==null?void 0:de.toISOString(),routeCoordinates:ve,totalDistance:we,lastSaved:new Date().toISOString()};localStorage.setItem(`tracking_${e}`,JSON.stringify(We)),localStorage.setItem(`trackingData_${e}`,JSON.stringify(ce)),console.log(" Tracking state saved to localStorage")}catch(We){console.warn("Error saving tracking state to localStorage:",We)}},He=()=>{try{localStorage.removeItem(`tracking_${e}`),localStorage.removeItem(`trackingData_${e}`),console.log(" Tracking state cleared from localStorage")}catch(V){console.warn("Error clearing tracking state from localStorage:",V)}},[Ze,rt]=v.useState(!1),[xt,Se]=v.useState(!1),[Z,le]=v.useState(!1),[Ce,Ne]=v.useState(null),{latitude:Be,longitude:Xe,accuracy:Ye,error:Ut,loading:Pt,getCurrentPosition:St}=AM({enableHighAccuracy:!0,maximumAge:0,timeout:3e4,watchPosition:M});v.useEffect(()=>{var V;M&&pe&&_e&&(console.log(" Restored active tracking session, resuming..."),St(),c==null||c(_e),Z&&xt&&(console.log(" Restarting background tracking via Service Worker"),(V=navigator.serviceWorker.controller)==null||V.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}})))},[]),v.useEffect(()=>{const V=()=>{M&&_e&&(Me(M,_e,pe,Ee,K),console.log(" Saved tracking state before page unload"))};return window.addEventListener("beforeunload",V),()=>{window.removeEventListener("beforeunload",V)}},[M,_e,pe,Ee,K]),v.useEffect(()=>{const V=window.matchMedia("(display-mode: standalone)").matches,ee=window.matchMedia("(display-mode: standalone)").matches;rt(V||ee);const de="serviceWorker"in navigator,ve="Notification"in window;return Se(de&&ve),de&&navigator.serviceWorker.ready.then(we=>{console.log("Service Worker ready for location tracking"),le(!0),navigator.serviceWorker.addEventListener("message",Ht)}),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",Ht)}},[]);const At=v.useCallback((V,ee,de,ve)=>{const We=V*Math.PI/180,ce=de*Math.PI/180,ze=(de-V)*Math.PI/180,Ie=(ee-ve)*Math.PI/180,nt=Math.sin(ze/2)*Math.sin(ze/2)+Math.cos(We)*Math.cos(ce)*Math.sin(Ie/2)*Math.sin(Ie/2);return 6371e3*(2*Math.atan2(Math.sqrt(nt),Math.sqrt(1-nt)))},[]),Ht=v.useCallback(V=>{var ee,de;if(((ee=V.data)==null?void 0:ee.type)==="LOCATION_UPDATE"){const ve=V.data.payload;if(console.log("Received background location update:",ve),M){const we={lat:ve.latitude,lng:ve.longitude,address:`${ve.latitude.toFixed(6)}, ${ve.longitude.toFixed(6)}`,timestamp:ve.timestamp};F(We=>{const ce=[...We,we];if(We.length>0){const ze=We[We.length-1],Ie=At(ze.lat,ze.lng,ve.latitude,ve.longitude);ue(nt=>nt+Ie)}return ce})}}((de=V.data)==null?void 0:de.type)==="GET_EMPLOYEE_ID"&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"EMPLOYEE_ID_RESPONSE",payload:e})},[M,e,At]);v.useEffect(()=>(M&&pe?(Le(Date.now()-pe.getTime()),be.current=setInterval(()=>{Le(Date.now()-pe.getTime())},1e3)):be.current&&(clearInterval(be.current),be.current=null),()=>{be.current&&clearInterval(be.current)}),[M,pe]),v.useEffect(()=>{if(Be&&Xe&&Ye&&M){const V=Date.now(),ee=V-Oe;if((()=>{if(Oe===0)return!0;if(ee<2e3)return!1;if(ee>=15e3)return!0;if(Ee.length>0){const ve=Ee[Ee.length-1];if(At(ve.lat,ve.lng,Be,Xe)>2||Ye&&Ye<15)return!0}return!1})()){qt(Be,Xe,Ye);const ve={lat:Be,lng:Xe,address:`${Be.toFixed(6)}, ${Xe.toFixed(6)}`,timestamp:new Date().toISOString()};F(we=>{if(!(()=>{if(we.length===0)return!0;const ze=we[we.length-1];return!!(At(ze.lat,ze.lng,Be,Xe)>2||Ye&&Ye<15&&(!ze.accuracy||Ye<ze.accuracy*.8)||new Date().getTime()-new Date(ze.timestamp).getTime()>18e4)})()){const ze=At(we[we.length-1].lat,we[we.length-1].lng,Be,Xe);return ze>.5&&console.log(`Route point filtered: moved ${ze.toFixed(1)}m (threshold: 2m)`),we}const ce=[...we,{...ve,accuracy:Ye}];if(we.length>0){const ze=we[we.length-1],Ie=At(ze.lat,ze.lng,Be,Xe);ue(nt=>{const zt=nt+Ie;return Me(!0,_e,pe,ce,zt),console.log(` Added route point: ${Ie.toFixed(1)}m from last, ${ce.length} total points, ${(zt/1e3).toFixed(2)}km total`),zt})}else Me(!0,_e,pe,ce,K),console.log(` Added first route point at ${Be.toFixed(6)}, ${Xe.toFixed(6)}`);return ce}),G(new Date),re(we=>we+1),me(V),r==null||r(Be,Xe,Ye)}else{const ve=ee<2e3?`Rate limited: ${Math.ceil((2e3-ee)/1e3)}s remaining`:"No significant movement detected";console.log(ve)}}},[Be,Xe,Ye,M,r,Oe,At]),console.log("testing location");const qt=async(V,ee,de,ve=0)=>{try{console.log("Attempting to update location:",{employeeId:e,lat:V,lng:ee,accuracy:de,retryCount:ve});const we=await ut.put(`/api/employees/${e}/location`,{lat:V,lng:ee,accuracy:de});if(!we.ok){const ce=await we.text();throw new Error(`Failed to update location: ${we.status} ${we.statusText} - ${ce}`)}const We=await we.json();console.log("Location update successful:",We),X(null),ge(0)}catch(we){if(console.error("Error updating location:",we),ve<1&&we instanceof TypeError&&we.message.includes("fetch")){console.log("Retrying location update after network error..."),setTimeout(()=>qt(V,ee,de,ve+1),3e3);return}X(we instanceof Error?we.message:"Unknown error"),ge(We=>We+1),ne>=2&&(O(!1),console.warn("Disabling tracking due to repeated failures"))}},Vt=async()=>{var ze;const V=new Date;ie(V),te(null),Le(0),F([]),ue(0),O(!0);try{if("wakeLock"in navigator){const Ie=await navigator.wakeLock.request("screen");Ne(Ie),console.log("Wake lock acquired for better tracking")}}catch(Ie){console.warn("Wake lock failed:",Ie)}let ee=Be||0,de=Xe||0,ve="Getting location...";try{console.log(" Fetching fresh location for start position...");const Ie=await St();if(Ie&&Ie.coords){ee=Ie.coords.latitude,de=Ie.coords.longitude,console.log(" Fresh start location obtained:",{lat:ee,lng:de});try{console.log(" Fetching address for start location...");const nt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ee}&lon=${de}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});nt.ok?(ve=(await nt.json()).display_name||`${ee.toFixed(6)}, ${de.toFixed(6)}`,console.log(" Start address resolved:",ve)):ve=`${ee.toFixed(6)}, ${de.toFixed(6)}`}catch(nt){console.warn(" Failed to get start address, using coordinates:",nt),ve=`${ee.toFixed(6)}, ${de.toFixed(6)}`}}}catch(Ie){console.warn(" Failed to get fresh start location:",Ie),ve=ee&&de?`${ee.toFixed(6)}, ${de.toFixed(6)}`:"Getting location..."}Z&&xt&&(console.log("Starting background tracking via Service Worker"),(ze=navigator.serviceWorker.controller)==null||ze.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}}));const we=`session_${e}_${V.getTime()}`,We={lat:ee,lng:de,address:ve,timestamp:V.toISOString()},ce={id:we,employeeId:e,startTime:V.toISOString(),startLocation:We,route:[],totalDistance:0,status:"active"};console.log("Starting tracking session with address:",ce),B(ce),Me(!0,ce,V,[],0),c==null||c(ce)};console.log("testing ");const Je=async()=>{const V=new Date;te(V),O(!1);try{const ee=(f||[]).filter(de=>{var we;const ve=(we=de.meetingStatus)==null?void 0:we.toLowerCase();return ve!=="complete"&&ve!=="completed"&&ve!=="approved"});if(ee&&ee.length>0){console.log("Incomplete meetings detected:",ee),j(ee);const de={};ee.forEach(ve=>{de[ve._id]=""}),T(de),w(!0),O(!0),te(null),p({title:"Incomplete Meetings",description:`You have ${ee.length} incomplete meeting(s). Please provide a reason before logging out.`,variant:"destructive"});return}}catch(ee){console.warn("Error checking for incomplete meetings:",ee)}await $t(V)},$t=async V=>{var We;console.log(" Starting performStopTracking - fetching fresh location...");let ee=Be,de=Xe,ve=Ye,we=Be&&Xe?`${Be.toFixed(6)}, ${Xe.toFixed(6)}`:"Location unavailable";try{console.log(" Requesting fresh GPS location for end position...");const ce=await St();if(ce&&ce.coords){ee=ce.coords.latitude,de=ce.coords.longitude,ve=ce.coords.accuracy,console.log(" Fresh end location obtained:",{lat:ee,lng:de,accuracy:ve});try{console.log(" Fetching address for end location..."),await new Promise(Ie=>setTimeout(Ie,1e3));const ze=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ee}&lon=${de}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"},signal:AbortSignal.timeout(5e3)});ze.ok?(we=(await ze.json()).display_name||`${ee.toFixed(6)}, ${de.toFixed(6)}`,console.log(" End address resolved:",we)):(console.warn(" Address API returned error:",ze.status),we=`${ee.toFixed(6)}, ${de.toFixed(6)}`)}catch(ze){console.warn(" Failed to get address, using coordinates:",ze),we=`${ee.toFixed(6)}, ${de.toFixed(6)}`}await qt(ee,de,ve)}else console.warn(" Fresh location not available, using last known location:",{lat:ee,lng:de})}catch(ce){console.warn(" Failed to get fresh location, using last known:",ce)}if(Ce)try{await Ce.release(),Ne(null),console.log("Wake lock released")}catch(ce){console.warn("Failed to release wake lock:",ce)}if(Z&&(console.log("Stopping background tracking via Service Worker"),(We=navigator.serviceWorker.controller)==null||We.postMessage({type:"STOP_BACKGROUND_TRACKING"})),be.current&&(clearInterval(be.current),be.current=null),console.log("Stopping tracking - Debug info:",{hasCurrentSession:!!_e,hasCoordinates:!!(ee&&de),endLat:ee,endLng:de,routePointsCount:Ee.length,totalDistance:K,elapsedTime:Pe}),_e){const ce={lat:ee||_e.startLocation.lat,lng:de||_e.startLocation.lng,address:we,timestamp:V.toISOString()};let ze=K;if(Ee.length>=2)try{console.log(`Calculating accurate distance for ${Ee.length} GPS points...`);const nt=Qr.createGPSRoute(Ee);nt.distance>0?(ze=nt.distance,console.log(`Distance updated to GPS-calculated: ${(ze/1e3).toFixed(2)} km (was ${(K/1e3).toFixed(2)} km)`)):console.log(`Keeping original GPS distance: ${(K/1e3).toFixed(2)} km`)}catch(nt){console.warn("Failed to calculate improved distance, using original GPS distance:",nt.message)}else console.log(`Route has only ${Ee.length} points, keeping GPS distance: ${(K/1e3).toFixed(2)} km`);const Ie={..._e,endTime:V.toISOString(),endLocation:ce,route:Ee.length>0?Ee:[_e.startLocation],totalDistance:ze,duration:Pe/1e3,status:"completed"};console.log("Calling onTrackingSessionEnd with session:",Ie),B(Ie),He(),d==null||d(Ie)}else console.log("Cannot end tracking session - no current session"),He()},hn=async()=>{if(P.some(ee=>!C[ee._id]||!C[ee._id].trim())){p({title:"Error",description:"Please provide a reason for each incomplete meeting.",variant:"destructive"});return}k(!0);try{console.log("Saving incomplete meeting remarks for employee:",e),console.log("Incomplete meetings:",P),console.log("Meeting remarks:",C);const ee=P.map(async ce=>{try{const Ie="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),nt=await fetch(`${Ie}/updateFollowUp/${ce._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});nt.ok?console.log(` Updated meeting ${ce.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${ce.companyName} status:`,nt.status)}catch(ze){console.error(`Error updating meeting ${ce.companyName}:`,ze)}});await Promise.all(ee);const de=P.map(ce=>({_id:ce._id,leadId:ce.leadId,companyName:ce.companyName,customerName:ce.customerName,customerEmail:ce.customerEmail||"",customerMobile:ce.customerMobile||"",customerDesignation:ce.customerDesignation||"",meetingTime:ce.meetingTime||"",incompleteReason:C[ce._id]})),ve=await ut.post("/api/incomplete-meeting-remarks",{employeeId:e,reason:"Multiple incomplete meetings",pendingMeetings:de});if(!ve.ok){const ce=await ve.text().catch(()=>"Unknown error");throw new Error(`Failed to save remark: ${ve.status} ${ce}`)}const we=await ve.json();console.log("Incomplete meeting remarks saved:",we),p({title:"Meetings Marked Incomplete",description:`${P.length} meeting(s) marked as incomplete with reasons.`}),O(!1),w(!1),T({}),j([]),await $t(new Date)}catch(ee){console.error("Error saving remark:",ee),p({title:"Error",description:ee instanceof Error?ee.message:"Failed to save remark",variant:"destructive"})}finally{k(!1)}},jt=()=>{w(!1),b(""),j([])},Xt=V=>V?V<=10?"bg-success":V<=50?"bg-warning":"bg-destructive":"bg-muted",en=V=>V?V<=10?"High":V<=50?"Medium":"Low":"Unknown",H=V=>{const ee=Math.floor(V/1e3),de=Math.floor(ee/60),ve=Math.floor(de/60);return ve>0?`${ve}h ${de%60}m ${ee%60}s`:de>0?`${de}m ${ee%60}s`:`${ee}s`},ye=V=>V>=1e3?`${(V/1e3).toFixed(2)} km`:`${Math.round(V)} m`;return o.jsxs(dt,{className:"w-full",children:[o.jsx(Mt,{children:o.jsxs(Rt,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(sr,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Location Tracking"})]}),o.jsx(Nt,{variant:M?"default":"secondary",className:M?"bg-success":"",children:M?"Active":"Inactive"})]})}),o.jsxs(ft,{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Tracking for: ",o.jsx("span",{className:"font-medium",children:t})]}),Ze&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm bg-primary/10 border border-primary/20 rounded-lg p-2",children:[o.jsx(Hd,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-primary font-medium",children:"PWA Mode Active"}),o.jsx(Nt,{variant:"secondary",className:"text-xs",children:xt?"Background Tracking Enabled":"Limited Background"})]}),!Ze&&xt&&o.jsxs("div",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Hd,{className:"h-3 w-3 text-amber-600"}),o.jsx("span",{className:"font-medium text-amber-700 dark:text-amber-400",children:"Better Tracking Available"})]}),o.jsx("p",{className:"mt-1",children:"Install this app to your home screen for improved background GPS tracking when phone is in pocket."})]}),M&&pe&&o.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(sx,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"font-medium",children:"Session Active"})]}),o.jsx("div",{className:"text-sm font-mono text-primary",children:H(Pe)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Started"}),o.jsx("div",{className:"font-medium",children:pe.toLocaleTimeString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Distance"}),o.jsx("div",{className:"font-medium",children:ye(K)})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[o.jsx(ra,{className:"h-3 w-3"}),o.jsxs("span",{children:["Route points: ",Ee.length]})]})]}),!M&&$&&pe&&o.jsxs("div",{className:"bg-success/5 border border-success/20 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Jr,{className:"h-4 w-4 text-success"}),o.jsx("span",{className:"font-medium",children:"Last Session"})]}),o.jsx("div",{className:"text-sm font-mono text-success",children:H($.getTime()-pe.getTime())})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Started"}),o.jsx("div",{className:"font-medium",children:pe.toLocaleTimeString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Ended"}),o.jsx("div",{className:"font-medium",children:$.toLocaleTimeString()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-muted-foreground flex items-center",children:[o.jsx(hw,{className:"h-3 w-3 mr-1"}),"Distance"]}),o.jsx("div",{className:"font-medium",children:ye(K)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-muted-foreground flex items-center",children:[o.jsx(ra,{className:"h-3 w-3 mr-1"}),"Points"]}),o.jsx("div",{className:"font-medium",children:Ee.length})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[Pt&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(El,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Getting location..."})]}),Ut&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[o.jsx(xn,{className:"h-4 w-4"}),o.jsx("span",{children:Ut})]}),q&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[o.jsx(xn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Update failed: ",q," (Failures: ",ne,")"]})]}),Be&&Xe&&!Pt&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-success",children:[o.jsx(Jr,{className:"h-4 w-4"}),o.jsx("span",{children:"Location acquired"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Latitude"}),o.jsx("div",{className:"font-mono",children:Be.toFixed(6)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Longitude"}),o.jsx("div",{className:"font-mono",children:Xe.toFixed(6)})]})]}),Ye&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Accuracy"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`h-2 w-2 rounded-full ${Xt(Ye)}`}),o.jsxs("span",{className:"text-sm",children:[en(Ye)," (",Math.round(Ye),"m)"]})]})]}),I&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(An,{className:"h-4 w-4"}),o.jsxs("span",{children:["Last update: ",I.toLocaleTimeString()," (",U," updates)"]})]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[M?o.jsx(je,{onClick:Je,variant:"destructive",className:"flex-1",children:"LogOut"}):o.jsxs(je,{onClick:Vt,className:"flex-1",children:[o.jsx(po,{className:"h-4 w-4 mr-2"}),"LogIn"]}),o.jsxs(je,{variant:"outline",onClick:St,children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),"Update Now"]})]}),!M&&o.jsxs("div",{className:"text-xs text-muted-foreground p-3 bg-muted/50 rounded-md",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Note:"})," Location tracking requires permission and works best outdoors or near windows. High accuracy mode uses GPS and may drain battery faster."]}),Ze?o.jsxs("p",{className:"mt-2 text-success",children:[o.jsx("strong",{children:"PWA Mode:"})," Enhanced background tracking is active. Your route will be tracked even when the phone is in your pocket."]}):o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Tip:"})," Install this app to your home screen for better background tracking when phone is in pocket."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Auto-capture:"})," Route map will be automatically saved when you stop tracking."]})]}),M&&o.jsxs("div",{className:"text-xs text-info p-3 bg-info/10 border border-info/20 rounded-md",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(ra,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Route will be auto-captured when tracking stops"})]}),pe&&_e&&o.jsxs("p",{className:"flex items-center mt-1 text-success",children:[o.jsx(Jr,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Tracking restored from previous session"})]}),Ze&&xt&&o.jsxs("p",{className:"flex items-center mt-1 text-success",children:[o.jsx(Hd,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Background tracking active - keep phone in pocket"})]}),Ce&&o.jsxs("p",{className:"flex items-center mt-1 text-amber-600",children:[o.jsx(sx,{className:"h-3 w-3 mr-1"}),"Screen sleep disabled for better tracking"]})]}),o.jsx(xr,{open:g,onOpenChange:jt,children:o.jsxs(or,{className:"sm:max-w-[600px]",children:[o.jsxs(ir,{children:[o.jsxs(ar,{className:"flex items-center gap-2",children:[o.jsx(xn,{className:"h-5 w-5 text-warning"}),"Incomplete Meetings"]}),o.jsxs(yr,{children:["You have ",P.length," incomplete meeting(s) today. Please provide a reason for each company before logging out."]})]}),o.jsxs("div",{className:"space-y-4 py-4 max-h-[380px] overflow-y-auto",children:[P.map(V=>o.jsxs("div",{className:"border border-muted-foreground/10 rounded-lg p-3 bg-muted/40 space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(xn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",children:V.companyName||"No Company Name"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[V.customerName&&o.jsxs(o.Fragment,{children:["Contact: ",V.customerName]}),V.meetingTime&&o.jsxs(o.Fragment,{children:[" "," Time: ",V.meetingTime]})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Ot,{className:"text-xs",htmlFor:`reason-${V._id}`,children:["Reason for not completing this meeting",o.jsx("span",{className:"text-destructive",children:" *"})]}),o.jsx(xi,{id:`reason-${V._id}`,placeholder:"E.g., client postponed, decision maker not available, visit rescheduled, etc...",value:C[V._id]||"",onChange:ee=>T(de=>({...de,[V._id]:ee.target.value})),rows:3,disabled:S})]})]},V._id)),P.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"No incomplete meetings found."})]}),o.jsxs(ua,{children:[o.jsx(je,{variant:"outline",onClick:jt,disabled:S,children:"Cancel"}),o.jsx(je,{onClick:hn,disabled:S,children:S?o.jsxs(o.Fragment,{children:[o.jsx(X1,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Submit & Logout"})]})]})})]})]})}const Rb=v.forwardRef(({onEmployeeSelect:e,selectedEmployeeId:t,disabled:r=!1,onAddNewEmployee:a,filterByCompany:c},d)=>{const[f,p]=v.useState([]),[g,w]=v.useState([]),[_,b]=v.useState([]),[S,k]=v.useState(!1),[P,j]=v.useState(null),C=async()=>{k(!0),j(null);try{const I=await fetch("https://jbdspower.in/LeafNetServer/api/customer");if(!I.ok)throw new Error(`Failed to fetch customers: ${I.statusText}`);const G=await I.json(),U=Array.isArray(G)?G:[];p(U);let re=U.flatMap(q=>(q.Employees||[]).map(X=>({...X,customerName:q.CustomerCompanyName,customerId:q._id})));c&&typeof c=="string"&&(re=re.filter(q=>{var X;return((X=q.customerName)==null?void 0:X.toLowerCase().trim())===c.toLowerCase().trim()}),console.log(`Filtered employees for company "${c}":`,re.length)),w(re)}catch(I){console.error("Error fetching customers:",I),j(I instanceof Error?I.message:"Failed to fetch customers")}finally{k(!1)}},T=(I,G,U)=>{const re={...I,customerName:G,customerId:U};console.log("Adding temporary employee:",re),b(q=>{const X=[...q,re];try{localStorage.setItem("tempCustomerEmployees",JSON.stringify(X))}catch(ne){console.error("Error saving temporary employees:",ne)}return console.log("Updated temp employees:",X),X})};v.useEffect(()=>{C()},[c]),v.useEffect(()=>{console.log("tempEmployees changed:",_)},[_]),v.useEffect(()=>{typeof window<"u"&&(window.debugCustomerSelector={getTempEmployees:()=>_,getEmployees:()=>g,addTestEmployee:()=>{const I={_id:`temp_test_${Date.now()}`,CustomerEmpName:"Test Employee",Designation:"Test Position",Department:"Test Dept",Mobile:"1234567890",Email:"test@test.com"};T(I,"Test Company",`temp_customer_${Date.now()}`)}})},[_,g,T]);const D=()=>{console.log("Clearing temporary employees"),b([]);try{localStorage.removeItem("tempCustomerEmployees")}catch(I){console.error("Error clearing temporary employees:",I)}},M=()=>{console.log("Resetting customer employee selection"),D()};v.useImperativeHandle(d,()=>({refreshCustomers:C,addTempEmployee:T,clearTempEmployees:D,resetSelection:M}));const O=I=>{const U=[...g,..._].find(re=>re._id===I);if(console.log("CustomerEmployeeSelector: Employee selected:",I),console.log("CustomerEmployeeSelector: Found employee:",U),U)if(U._id.startsWith("temp_")){const re={_id:U.customerId,CustomerCompanyName:U.customerName,Employees:[U],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:U.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for temp employee:",U.CustomerEmpName,re.CustomerCompanyName),e(U,re)}else{const re=f.find(q=>q._id===U.customerId);re?(console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for regular employee:",U.CustomerEmpName,re.CustomerCompanyName),e(U,re)):console.error("CustomerEmployeeSelector: Customer not found for employee:",U)}};return P?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ot,{className:"text-sm text-destructive",children:"Customer Employee"}),a&&o.jsxs(je,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:r,className:"flex items-center space-x-1",children:[o.jsx(Hc,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Add New"})]})]}),o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load customer employees"})]}),o.jsx("p",{className:"text-xs mt-1",children:P}),o.jsx(je,{type:"button",variant:"outline",size:"sm",onClick:C,className:"mt-2",children:"Try Again"})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ot,{htmlFor:"customerEmployee",className:"text-sm",children:["Select Customer Employee",o.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&o.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[c," only"]}),_.length>0&&o.jsxs("span",{className:"ml-2 text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:["+",_.length," new"]})]}),a&&o.jsxs(je,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:r||S,className:"flex items-center space-x-1",children:[o.jsx(Hc,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Add New"})]})]}),o.jsxs(vs,{onValueChange:O,value:t||"",disabled:r||S,children:[o.jsx(es,{className:"w-full",children:o.jsx(xs,{placeholder:S?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(El,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Loading employees..."})]}):"Select a customer employee"})}),o.jsx(ts,{children:(()=>{const I=g.length+_.length;return console.log("Rendering dropdown - Regular employees:",g.length,"Temp employees:",_.length),I===0?o.jsx(Jt,{value:"no-employees",disabled:!0,children:"No employees found"}):o.jsxs(o.Fragment,{children:[_.map(G=>o.jsxs(Jt,{value:G._id,children:[G.CustomerEmpName," (",G.customerName,") *"]},G._id)),g.map(G=>o.jsxs(Jt,{value:G._id,children:[G.CustomerEmpName," (",G.customerName,")"]},G._id))]})})()})]})]})});Rb.displayName="CustomerEmployeeSelector";var sg="Checkbox",[OM,GL]=kl(sg),[IM,FM]=OM(sg),Lb=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:c,defaultChecked:d,required:f,disabled:p,value:g="on",onCheckedChange:w,..._}=e,[b,S]=v.useState(null),k=It(t,M=>S(M)),P=v.useRef(!1),j=b?!!b.closest("form"):!0,[C=!1,T]=Uc({prop:c,defaultProp:d,onChange:w}),D=v.useRef(C);return v.useEffect(()=>{const M=b==null?void 0:b.form;if(M){const O=()=>T(D.current);return M.addEventListener("reset",O),()=>M.removeEventListener("reset",O)}},[b,T]),o.jsxs(IM,{scope:r,state:C,disabled:p,children:[o.jsx(_t.button,{type:"button",role:"checkbox","aria-checked":oa(C)?"mixed":C,"aria-required":f,"data-state":Ob(C),"data-disabled":p?"":void 0,disabled:p,value:g,..._,ref:k,onKeyDown:st(e.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:st(e.onClick,M=>{T(O=>oa(O)?!0:!O),j&&(P.current=M.isPropagationStopped(),P.current||M.stopPropagation())})}),j&&o.jsx($M,{control:b,bubbles:!P.current,name:a,value:g,checked:C,required:f,disabled:p,style:{transform:"translateX(-100%)"}})]})});Lb.displayName=sg;var Ab="CheckboxIndicator",Db=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...c}=e,d=FM(Ab,r);return o.jsx(ma,{present:a||oa(d.state)||d.state===!0,children:o.jsx(_t.span,{"data-state":Ob(d.state),"data-disabled":d.disabled?"":void 0,...c,ref:t,style:{pointerEvents:"none",...e.style}})})});Db.displayName=Ab;var $M=e=>{const{control:t,checked:r,bubbles:a=!0,...c}=e,d=v.useRef(null),f=E_(r),p=Fw(t);return v.useEffect(()=>{const g=d.current,w=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(w,"checked").set;if(f!==r&&b){const S=new Event("click",{bubbles:a});g.indeterminate=oa(r),b.call(g,oa(r)?!1:r),g.dispatchEvent(S)}},[f,r,a]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:oa(r)?!1:r,...c,tabIndex:-1,ref:d,style:{...e.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function oa(e){return e==="indeterminate"}function Ob(e){return oa(e)?"indeterminate":e?"checked":"unchecked"}var Ib=Lb,zM=Db;const Fb=v.forwardRef(({className:e,...t},r)=>o.jsx(Ib,{ref:r,className:mt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(zM,{className:mt("flex items-center justify-center text-current"),children:o.jsx(Cp,{className:"h-4 w-4"})})}));Fb.displayName=Ib.displayName;const BM="https://jbdspower.in/LeafNetServer/api",UM="68340889566d91e049668f07";function HM({isOpen:e,onClose:t,onAddEmployee:r,isLoading:a=!1,defaultCustomerName:c=""}){const[d,f]=v.useState({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),[p,g]=v.useState({}),[w,_]=v.useState(!1),[b,S]=v.useState(!1),{toast:k}=xo();v.useEffect(()=>{e&&c&&f(O=>({...O,customerName:c}))},[e,c]);const P=()=>{const O={};return d.customerName.trim()||(O.customerName="Customer name is required"),d.customerEmployeeName.trim()||(O.customerEmployeeName="Employee name is required"),d.designation.trim()||(O.designation="Designation is required"),d.department.trim()||(O.department="Department is required"),d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(O.email="Please enter a valid email address"):O.email="Email is required",d.mobile.trim()?/^[\+]?[1-9][\d]{9,15}$/.test(d.mobile.replace(/[\s\-\(\)]/g,""))||(O.mobile="Please enter a valid mobile number (10-16 digits)"):O.mobile="Mobile number is required",g(O),Object.keys(O).length===0},j=(O,I)=>{f(G=>({...G,[O]:I})),p[O]&&g(G=>{const U={...G};return delete U[O],U})},C=async O=>{if(O.preventDefault(),!!P()){_(!0);try{const I={CustomerEmpName:d.customerEmployeeName,Department:d.department,Designation:d.designation,Email:d.email,Mobile:d.mobile};console.log("Saving employee to CRM:",I);const G=await fetch(`${BM}/addcustomerEmployee/${UM}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!G.ok){const re=await G.text();throw console.error("CRM API error:",re),new Error(`Failed to save to CRM: ${G.status}`)}const U=await G.json();console.log("Employee saved to CRM successfully:",U),await r(d),b&&await T(),D()}catch(I){throw console.error("Error adding customer employee:",I),I}finally{_(!1)}}},T=async()=>{console.log(" Creating lead from customer employee data");const O=localStorage.getItem("idToken");if(!O){k({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"});return}const I=localStorage.getItem("user"),G=I?JSON.parse(I)._id:"67daa55d9c4abb36045d5bfe";try{const U={CompanyName:d.customerName,Name:d.customerEmployeeName,CreatedBy:G,Id:`JBDSL-${Date.now().toString().slice(-4)}`};d.email&&(U.Email=d.email),d.mobile&&(U.Mobile=d.mobile),d.designation&&(U.Designation=d.designation),d.department&&(U.Department=d.department),console.log(" Sending lead creation request:",U);const re=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${O}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(re.ok){const q=await re.json();console.log(" Lead created successfully:",q),k({title:"Lead Created",description:`Lead created successfully for ${d.customerEmployeeName} at ${d.customerName}`})}else{const q=await re.text();console.error(" Failed to create lead:",re.status,q),k({title:"Failed to Create Lead",description:`Error: ${re.status}`,variant:"destructive"})}}catch(U){console.error(" Error creating lead:",U),k({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"})}},D=()=>{w||a||(f({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),g({}),S(!1),t())},M=w||a;return o.jsx(xr,{open:e,onOpenChange:D,children:o.jsxs(or,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs(ir,{children:[o.jsxs(ar,{className:"flex items-center space-x-2",children:[o.jsx(gw,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Add New Customer Employee"})]}),o.jsx(yr,{children:c?o.jsxs(o.Fragment,{children:["Create a new employee record for"," ",o.jsxs("span",{className:"font-medium",children:['"',c,'"']}),". The company name has been auto-filled from your current meeting."]}):o.jsx(o.Fragment,{children:"Create a new customer employee record. All fields marked with * are required."})})]}),o.jsxs("form",{onSubmit:C,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"customerName",className:"text-sm",children:["Customer/Company Name",o.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&o.jsx("span",{className:"text-muted-foreground ml-2 text-xs",children:"(Auto-filled from meeting)"})]}),o.jsx(dn,{id:"customerName",type:"text",placeholder:"Enter company/customer name",value:d.customerName,onChange:O=>j("customerName",O.target.value),disabled:M,className:p.customerName?"border-destructive":""}),p.customerName&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(xn,{className:"h-3 w-3"}),o.jsx("span",{children:p.customerName})]}),c&&d.customerName===c&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:['Customer name auto-filled from "',c,'" meeting. You can edit if needed.']})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"customerEmployeeName",className:"text-sm",children:["Employee Name",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"customerEmployeeName",type:"text",placeholder:"Enter employee full name",value:d.customerEmployeeName,onChange:O=>j("customerEmployeeName",O.target.value),disabled:M,className:p.customerEmployeeName?"border-destructive":""}),p.customerEmployeeName&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(xn,{className:"h-3 w-3"}),o.jsx("span",{children:p.customerEmployeeName})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"email",className:"text-sm",children:["Email Address",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"email",type:"email",placeholder:"employee@company.com",value:d.email,onChange:O=>j("email",O.target.value),disabled:M,className:p.email?"border-destructive":"",required:!0}),p.email&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(xn,{className:"h-3 w-3"}),o.jsx("span",{children:p.email})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"mobile",className:"text-sm",children:["Mobile Number",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"mobile",type:"tel",placeholder:"1234567890",value:d.mobile,onChange:O=>j("mobile",O.target.value),disabled:M,className:p.mobile?"border-destructive":"",required:!0}),p.mobile&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(xn,{className:"h-3 w-3"}),o.jsx("span",{children:p.mobile})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"designation",className:"text-sm",children:["Designation",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"designation",type:"text",placeholder:"e.g., Manager, Director, CEO",value:d.designation,onChange:O=>j("designation",O.target.value),disabled:M,className:p.designation?"border-destructive":""}),p.designation&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(xn,{className:"h-3 w-3"}),o.jsx("span",{children:p.designation})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"department",className:"text-sm",children:["Department",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"department",type:"text",placeholder:"e.g., Sales, IT, HR, Operations",value:d.department,onChange:O=>j("department",O.target.value),disabled:M,className:p.department?"border-destructive":""}),p.department&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(xn,{className:"h-3 w-3"}),o.jsx("span",{children:p.department})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 pb-2 border-t",children:[o.jsx(Fb,{id:"createLead",checked:b,onCheckedChange:O=>S(O),disabled:M}),o.jsx(Ot,{htmlFor:"createLead",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Create Lead after adding employee"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(je,{type:"button",variant:"outline",onClick:D,disabled:M,children:"Cancel"}),o.jsx(je,{type:"submit",disabled:M,className:"min-w-[120px]",children:w||a?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Adding..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Jr,{className:"h-4 w-4"}),o.jsx("span",{children:"Add Employee"})]})})]})]})]})})}function WM({isOpen:e,onClose:t,onEndMeeting:r,employeeName:a,isLoading:c=!1,currentMeeting:d=null,followUpMeetingData:f=null}){const[p,g]=v.useState({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),[w,_]=v.useState({}),[b,S]=v.useState(!1),[k,P]=v.useState(!1),[j,C]=v.useState([]),[T,D]=v.useState(null),[M,O]=v.useState(null),[I,G]=v.useState(!1),[U,re]=v.useState(!1),q=v.useRef(null),X=v.useRef(null),[ne,ge]=v.useState([]),Oe=v.useRef(null),{toast:me}=xo();v.useEffect(()=>{if(e&&f){console.log(" Prefilling form with follow-up meeting data:",f);const F={customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};console.log(" Created customer contact from follow-up:",F),C([F]),g(K=>{const ue={...K,customers:[F],customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};return console.log(" Updated formData with customer:",ue),ue}),console.log(" Form prefilled with customer data")}else e&&!f&&console.log(" Modal opened but no followUpMeetingData provided")},[e,f]),v.useEffect(()=>{console.log(" selectedCustomers changed:",j.length,j)},[j]),v.useEffect(()=>{if(j.length===0){re(!1);return}const F=j.some(K=>{var ue,be;return!((ue=K.customerEmail)!=null&&ue.trim())||!((be=K.customerMobile)!=null&&be.trim())});re(F)},[j]);const $e=()=>{var K;const F={};if(console.log("Validating form with selectedCustomers:",j.length),console.log("Form data customers:",(K=p.customers)==null?void 0:K.length),j.length===0&&(F.customers="Please add at least one customer contact",console.log("Validation failed: No customers selected")),j.forEach((ue,be)=>{var Me,He;(Me=ue.customerEmail)!=null&&Me.trim()||(F[`customer_${be}_email`]=`Email is required for ${ue.customerEmployeeName}`),(He=ue.customerMobile)!=null&&He.trim()||(F[`customer_${be}_mobile`]=`Mobile number is required for ${ue.customerEmployeeName}`)}),p.discussion.trim()||(F.discussion="Discussion details are required",console.log("Validation failed: No discussion provided")),p.customerEmail&&p.customerEmail.trim()!==""&&typeof p.customerEmail=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.customerEmail)&&(F.customerEmail="Please enter a valid email address"),p.customerMobile&&p.customerMobile.trim()!==""&&typeof p.customerMobile=="string"){const ue=p.customerMobile.replace(/[\s\-\(\)]/g,"");/^\+?\d{7,15}$/.test(ue)||(F.customerMobile="Please enter a valid mobile number")}return console.log("Validation errors:",F),_(F),Object.keys(F).length>0&&setTimeout(()=>{var ue;(ue=q.current)==null||ue.scrollIntoView({behavior:"smooth",block:"center"})},300),Object.keys(F).length===0},J=(F,K)=>{g(ue=>({...ue,[F]:K})),w[F]&&_(ue=>{const be={...ue};return delete be[F],be})},_e=(F,K)=>{console.log("EndMeetingModal: Customer employee selected:",F),console.log("EndMeetingModal: Customer selected:",K),D(F),O(K);const ue={customerName:K.CustomerCompanyName,customerEmployeeName:F.CustomerEmpName,customerEmail:String(F.Email||""),customerMobile:String(F.Mobile||""),customerDesignation:String(F.Designation||""),customerDepartment:String(F.Department||"")};if(j.some(Me=>Me.customerName===ue.customerName&&Me.customerEmployeeName===ue.customerEmployeeName))console.log("EndMeetingModal: Customer already in list, skipping");else{const Me=[...j,ue];C(Me),g(He=>{var Ze,rt,xt,Se,Z,le;return{...He,customers:Me,customerName:((Ze=Me[0])==null?void 0:Ze.customerName)||"",customerEmployeeName:((rt=Me[0])==null?void 0:rt.customerEmployeeName)||"",customerEmail:((xt=Me[0])==null?void 0:xt.customerEmail)||"",customerMobile:((Se=Me[0])==null?void 0:Se.customerMobile)||"",customerDesignation:((Z=Me[0])==null?void 0:Z.customerDesignation)||"",customerDepartment:((le=Me[0])==null?void 0:le.customerDepartment)||""}}),console.log("EndMeetingModal: Added customer to list:",ue),D(null),O(null)}},B=F=>{const K=j.filter((ue,be)=>be!==F);C(K),g(ue=>{var be,Me,He,Ze,rt,xt;return{...ue,customers:K,customerName:((be=K[0])==null?void 0:be.customerName)||"",customerEmployeeName:((Me=K[0])==null?void 0:Me.customerEmployeeName)||"",customerEmail:((He=K[0])==null?void 0:He.customerEmail)||"",customerMobile:((Ze=K[0])==null?void 0:Ze.customerMobile)||"",customerDesignation:((rt=K[0])==null?void 0:rt.customerDesignation)||"",customerDepartment:((xt=K[0])==null?void 0:xt.customerDepartment)||""}}),console.log("EndMeetingModal: Removed customer from list, remaining:",K.length)},pe=async F=>{try{const ue={_id:`temp_${Date.now()}`,CustomerEmpName:F.customerEmployeeName,Designation:F.designation,Department:F.department,Mobile:F.mobile,Email:F.email},be={_id:`temp_customer_${Date.now()}`,CustomerCompanyName:F.customerName,Employees:[ue],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:F.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};return console.log("Creating new customer employee:",F),console.log("Generated employee object:",ue),console.log("Generated customer object:",be),await new Promise(Me=>setTimeout(Me,1e3)),X.current?(console.log("Adding temp employee to selector..."),X.current.addTempEmployee(ue,F.customerName,be._id),console.log("Temp employee added to selector")):console.error("customerSelectorRef.current is null!"),setTimeout(()=>{var Me;_e(ue,be),(Me=q.current)==null||Me.blur()},100),console.log("Customer employee added successfully!"),{employee:ue,customer:be}}catch(K){throw console.error("Error adding customer employee:",K),K}},ie=async F=>{F.preventDefault(),console.log(" EndMeetingModal: Form submit triggered"),console.log("EndMeetingModal: Form data before validation:",p),console.log("EndMeetingModal: Selected customers:",j),console.log("EndMeetingModal: Discussion:",p.discussion),console.log("EndMeetingModal: Attached files:",ne.length);const K=$e();if(console.log("EndMeetingModal: Validation result:",K),!K){console.log("EndMeetingModal: Form validation failed with errors:",w);const ue=document.querySelector(".border-destructive");ue&&ue.scrollIntoView({behavior:"smooth",block:"center"});return}console.log(" EndMeetingModal: Validation passed, processing files..."),S(!0);try{const ue=ne.map(He=>new Promise((Ze,rt)=>{const xt=new FileReader;xt.onload=()=>{const Se=xt.result;Ze(Se)},xt.onerror=rt,xt.readAsDataURL(He)}));console.log(" Converting files to base64...");const be=await Promise.all(ue);console.log(` Converted ${be.length} files to base64`);const Me={...p,attachments:be.length>0?be:void 0};console.log("EndMeetingModal: Calling onEndMeeting with attachments:",{...Me,attachments:be.length>0?`${be.length} files`:"none"}),await r(Me),console.log(" Meeting ended successfully, clearing temp employees"),X.current&&X.current.clearTempEmployees(),Le()}catch(ue){console.error(" Error ending meeting:",ue),me({title:"Error",description:"Failed to end meeting. Please try again.",variant:"destructive"})}finally{S(!1)}},$=async()=>{if(console.log(" Creating lead from meeting data"),j.length===0){me({title:"No Customer Selected",description:"Please select at least one customer to create a lead.",variant:"destructive"});return}const F=j[0],K=localStorage.getItem("idToken");if(!K){me({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"});return}const ue=localStorage.getItem("userId")||"67daa55d9c4abb36045d5bfe";P(!0);try{const be={CompanyName:F.customerName,Name:F.customerEmployeeName,Email:F.customerEmail||"",Mobile:F.customerMobile||"",Designation:F.customerDesignation||"",Department:F.customerDepartment||"purchase",CreatedBy:ue,Id:`JBDSL-${Date.now().toString().slice(-4)}`};console.log(" Sending lead creation request:",be);const Me=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${K}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(be)});if(Me.ok){const He=await Me.json();console.log(" Lead created successfully:",He),me({title:"Lead Created",description:`Lead created successfully for ${F.customerEmployeeName} at ${F.customerName}`})}else{const He=await Me.text();console.error(" Failed to create lead:",Me.status,He),me({title:"Failed to Create Lead",description:`Error: ${Me.status} - ${He.substring(0,100)}`,variant:"destructive"})}}catch(be){console.error(" Error creating lead:",be),me({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"})}finally{P(!1)}},te=F=>{const K=F.target.files;if(K&&K.length>0){const ue=Array.from(K),be=5*1024*1024,Me=ue.filter(Ze=>Ze.size>be),He=ue.filter(Ze=>Ze.size<=be);if(Me.length>0){const Ze=Me.map(rt=>`${rt.name} (${(rt.size/1024/1024).toFixed(2)} MB)`).join(", ");me({title:"File Size Limit Exceeded",description:`The following file(s) exceed 5MB limit: ${Ze}`,variant:"destructive"}),console.warn(" Oversized files rejected:",Me.map(rt=>({name:rt.name,size:rt.size})))}if(He.length>0){const Ze=ne.reduce((Z,le)=>Z+le.size,0),rt=He.reduce((Z,le)=>Z+le.size,0),xt=Ze+rt,Se=10*1024*1024;xt>Se?(me({title:"Total Size Limit Exceeded",description:`Total file size cannot exceed 10MB. Current: ${(Ze/1024/1024).toFixed(2)} MB, Adding: ${(rt/1024/1024).toFixed(2)} MB`,variant:"destructive"}),console.warn(" Total size limit exceeded:",{currentTotalSize:Ze,newTotalSize:rt,totalSize:xt})):(ge(Z=>[...Z,...He]),console.log(" Files attached:",He.map(Z=>({name:Z.name,size:`${(Z.size/1024).toFixed(2)} KB`}))),me({title:"Files Attached",description:`${He.length} file(s) attached successfully`}))}}Oe.current&&(Oe.current.value="")},Pe=F=>{ge(K=>K.filter((ue,be)=>be!==F)),console.log(" File removed at index:",F)},Le=()=>{if(b||c){console.log(" Cannot close: Form is submitting or loading");return}console.log(" EndMeetingModal: Closing and resetting all state"),g({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),_({}),C([]),D(null),O(null),G(!1),ge([]),X.current&&X.current.resetSelection(),t()},Ee=b||c||k;return o.jsx(xr,{open:e,onOpenChange:Le,children:o.jsxs(or,{className:"sm:max-w-md  max-h-[90vh] overflow-y-auto",children:[o.jsxs(ir,{children:[o.jsxs(ar,{className:"flex items-center space-x-2",children:[o.jsx(An,{className:"h-5 w-5 text-destructive"}),o.jsx("span",{children:"End Meeting"})]}),o.jsxs(yr,{children:["Complete the meeting for"," ",o.jsx("span",{className:"font-medium",children:a})," by providing customer details and discussion summary."]})]}),o.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 py-2 border-b",children:[o.jsx(mf,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Select Customer Employee"})]}),o.jsxs("div",{className:"space-y-4",children:[(d==null?void 0:d.clientName)&&o.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"font-medium",children:["Meeting with: ",d.clientName]})}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Showing employees for this company only"})]}),o.jsx(Rb,{ref:X,onEmployeeSelect:_e,selectedEmployeeId:T==null?void 0:T._id,disabled:Ee,onAddNewEmployee:()=>G(!0),filterByCompany:d==null?void 0:d.clientName}),U&&o.jsxs("div",{className:"relative mt-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[o.jsx(xn,{className:"h-4 w-4"}),o.jsx("span",{children:"Email & mobile number are required. Please add or update customer contact."})]}),o.jsx("div",{className:"absolute right-2 animate-bounce text-destructive",style:{top:"-3.9rem"},children:o.jsx("div",{className:"relative",children:o.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 32 32",fill:"none",className:"text-destructive",children:[o.jsx("line",{x1:"16",y1:"28",x2:"16",y2:"8",stroke:"currentColor",strokeWidth:"2"}),o.jsx("path",{d:"M10 14L16 8L22 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})})]}),w.customers&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(xn,{className:"h-3 w-3"}),o.jsx("span",{children:w.customers})]}),j.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hf,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium text-sm",children:["Selected Customer Contacts (",j.length,")"]})]}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:j.map((F,K)=>o.jsxs("div",{className:"p-3 border rounded-lg bg-muted/20 relative",children:[o.jsx(je,{type:"button",variant:"outline",size:"sm",onClick:()=>B(K),className:"absolute top-2 right-2 h-6 w-6 p-0 text-destructive hover:text-destructive",disabled:Ee,children:""}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm pr-8",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Company:"}),o.jsx("div",{className:"font-medium",children:F.customerName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("div",{className:"font-medium",children:F.customerEmployeeName})]}),F.customerDesignation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Position:"}),o.jsx("div",{children:F.customerDesignation})]}),F.customerDepartment&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("div",{children:F.customerDepartment})]}),F.customerEmail&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("div",{className:"text-xs",children:F.customerEmail})]}),F.customerMobile&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),o.jsx("div",{className:"text-xs",children:F.customerMobile})]})]})]},K))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"discussion",className:"text-sm",children:["Discussion Details",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(xi,{id:"discussion",placeholder:"Describe what was discussed in the meeting, key points, outcomes, and next steps...",value:p.discussion,onChange:F=>J("discussion",F.target.value),disabled:Ee,rows:4,className:w.discussion?"border-destructive":""}),w.discussion&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(xn,{className:"h-3 w-3"}),o.jsx("span",{children:w.discussion})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"This field is required and will be included in the meeting record."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{className:"text-sm flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vm,{className:"h-4 w-4"}),o.jsx("span",{children:"Attach Files (Optional)"})]}),o.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"Max 5MB per file"})]}),o.jsx("input",{ref:Oe,type:"file",multiple:!0,onChange:te,disabled:Ee,className:"hidden",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx"}),o.jsxs(je,{type:"button",variant:"outline",onClick:()=>{var F;return(F=Oe.current)==null?void 0:F.click()},disabled:Ee,className:"w-full",children:[o.jsx(vm,{className:"h-4 w-4 mr-2"}),"Choose Files"]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Supported: Images, PDF, DOC, DOCX, XLS, XLSX  Max 5MB per file  Max 10MB total"}),ne.length>0&&o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center justify-between",children:[o.jsxs("span",{children:[ne.length," file(s) attached"]}),o.jsxs("span",{children:["Total: ",(ne.reduce((F,K)=>F+K.size,0)/1024/1024).toFixed(2)," MB"]})]}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:ne.map((F,K)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded bg-muted/20",children:[o.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[o.jsx(vm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-xs truncate",title:F.name,children:F.name}),o.jsxs("span",{className:"text-xs text-muted-foreground flex-shrink-0",children:["(",(F.size/1024).toFixed(1)," KB)"]})]}),o.jsx(je,{type:"button",variant:"ghost",size:"sm",onClick:()=>Pe(K),disabled:Ee,className:"h-6 w-6 p-0 ml-2 flex-shrink-0",children:o.jsx(ru,{className:"h-3 w-3"})})]},K))})]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-4",children:[o.jsx(je,{type:"button",variant:"outline",onClick:$,disabled:Ee||j.length===0,className:"min-w-[120px]",children:k?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),o.jsx("span",{children:"Creating..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gw,{className:"h-4 w-4"}),o.jsx("span",{children:"Create Lead"})]})}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(je,{type:"button",variant:"outline",onClick:Le,disabled:Ee,children:"Cancel"}),o.jsx(je,{type:"submit",variant:"destructive",disabled:Ee,className:"min-w-[120px]",children:b||c?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Ending..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Jr,{className:"h-4 w-4"}),o.jsx("span",{children:"End Meeting"})]})})]})]})]}),o.jsx(HM,{isOpen:I,onClose:()=>G(!1),onAddEmployee:pe,isLoading:c,defaultCustomerName:d==null?void 0:d.clientName})]})})}function VM({employee:e,trackingSession:t,meetings:r,isOpen:a,onClose:c,onSnapshotCreated:d}){const[f,p]=v.useState(""),[g,w]=v.useState(""),[_,b]=v.useState(!1),{toast:S}=xo();v.useEffect(()=>{if(a&&!f){const D=new Date,M=D.toLocaleDateString(),O=D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});p(`${e.name} Route - ${M} ${O}`)}},[a,e.name,f]);const k=()=>{const D=[];if(t!=null&&t.route&&D.push(...t.route),r.forEach(G=>{D.push(G.location)}),D.push(e.location),D.length===0)return{north:e.location.lat+.01,south:e.location.lat-.01,east:e.location.lng+.01,west:e.location.lng-.01};const M=D.map(G=>G.lat),O=D.map(G=>G.lng),I=.005;return{north:Math.max(...M)+I,south:Math.min(...M)-I,east:Math.max(...O)+I,west:Math.min(...O)-I}},P=()=>r.map(D=>({id:D.id,location:D.location,clientName:D.clientName,startTime:D.startTime,endTime:D.endTime,status:D.status})),j=async()=>{if(!f.trim()){S({title:"Title Required",description:"Please enter a title for the snapshot",variant:"destructive"});return}b(!0);try{const D={employeeId:e.id,employeeName:e.name,trackingSessionId:t==null?void 0:t.id,title:f.trim(),description:g.trim()||void 0,startLocation:(t==null?void 0:t.startLocation)||e.location,endLocation:t==null?void 0:t.endLocation,route:(t==null?void 0:t.route)||[e.location],meetings:P(),totalDistance:(t==null?void 0:t.totalDistance)||0,duration:t==null?void 0:t.duration,status:(t==null?void 0:t.status)||"active",mapBounds:k()},M=await ut.post("/api/route-snapshots",D);if(M.ok){const O=await M.json();S({title:"Snapshot Created",description:"Route snapshot has been saved successfully"}),d==null||d(O),c(),p(""),w("")}else throw new Error("Failed to create snapshot")}catch(D){console.error("Error creating snapshot:",D),S({title:"Error",description:"Failed to create route snapshot. Please try again.",variant:"destructive"})}finally{b(!1)}},T=(()=>{var G;const D=((G=t==null?void 0:t.route)==null?void 0:G.length)||1,M=(t==null?void 0:t.totalDistance)||0,O=r.length,I=t==null?void 0:t.duration;return{routePoints:D,totalDistance:M,meetingCount:O,duration:I}})();return o.jsx(xr,{open:a,onOpenChange:c,children:o.jsxs(or,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(ir,{children:[o.jsxs(ar,{className:"flex items-center gap-2",children:[o.jsx(Um,{className:"h-5 w-5"}),"Create Manual Route Snapshot"]}),o.jsxs(yr,{children:["Manually capture and save ",e.name,"'s current route and meeting locations for historical reference. Note: Routes are also automatically captured when tracking stops."]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"title",children:"Route Title *"}),o.jsx(dn,{id:"title",value:f,onChange:D=>p(D.target.value),placeholder:"Enter a descriptive title for this snapshot",className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"description",children:"Description (Optional)"}),o.jsx(xi,{id:"description",value:g,onChange:D=>w(D.target.value),placeholder:"Add any additional notes about this route snapshot",className:"w-full",rows:3})]})]}),o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsx(Rt,{className:"text-lg",children:"Route Summary"})}),o.jsxs(ft,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ra,{className:"h-4 w-4"}),"Route Points"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.routePoints})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(sr,{className:"h-4 w-4"}),"Total Distance"]}),o.jsxs("div",{className:"text-2xl font-bold",children:[(T.totalDistance/1e3).toFixed(1)," km"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ns,{className:"h-4 w-4"}),"Meetings"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.meetingCount})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(An,{className:"h-4 w-4"}),"Duration"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.duration?`${Math.floor(T.duration/60)}m`:"Active"})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Current Location"}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(sr,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",children:e.location.address}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.location.lat.toFixed(6),", ",e.location.lng.toFixed(6)]})]})]})]})}),t&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Tracking Session"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nt,{variant:"secondary",className:t.status==="active"?"bg-success text-success-foreground":"bg-muted text-muted-foreground",children:t.status}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(t.startTime).toLocaleString()]})]})]})}),r.length>0&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Meetings in Snapshot"}),o.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[r.slice(0,3).map(D=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:D.clientName||"Unknown Client"}),o.jsx(Nt,{variant:"outline",className:"text-xs",children:D.status})]},D.id)),r.length>3&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.length-3," more meetings"]})]})]})})]})]})]}),o.jsxs(ua,{children:[o.jsx(je,{variant:"outline",onClick:c,disabled:_,children:"Cancel"}),o.jsx(je,{onClick:j,disabled:_,children:_?o.jsxs(o.Fragment,{children:[o.jsx(El,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Snapshot..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hm,{className:"h-4 w-4 mr-2"}),"Save Route"]})})]})]})})}function $b(e,t){return function(){return e.apply(t,arguments)}}const{toString:ZM}=Object.prototype,{getPrototypeOf:og}=Object,{iterator:Lf,toStringTag:zb}=Symbol,Af=(e=>t=>{const r=ZM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),bs=e=>(e=e.toLowerCase(),t=>Af(t)===e),Df=e=>t=>typeof t===e,{isArray:Ol}=Array,Xc=Df("undefined");function lu(e){return e!==null&&!Xc(e)&&e.constructor!==null&&!Xc(e.constructor)&&gr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Bb=bs("ArrayBuffer");function qM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Bb(e.buffer),t}const GM=Df("string"),gr=Df("function"),Ub=Df("number"),cu=e=>e!==null&&typeof e=="object",YM=e=>e===!0||e===!1,Vd=e=>{if(Af(e)!=="object")return!1;const t=og(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zb in e)&&!(Lf in e)},KM=e=>{if(!cu(e)||lu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},XM=bs("Date"),QM=bs("File"),JM=bs("Blob"),eR=bs("FileList"),tR=e=>cu(e)&&gr(e.pipe),nR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gr(e.append)&&((t=Af(e))==="formdata"||t==="object"&&gr(e.toString)&&e.toString()==="[object FormData]"))},rR=bs("URLSearchParams"),[sR,oR,iR,aR]=["ReadableStream","Request","Response","Headers"].map(bs),lR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),Ol(e))for(a=0,c=e.length;a<c;a++)t.call(null,e[a],a,e);else{if(lu(e))return;const d=r?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let p;for(a=0;a<f;a++)p=d[a],t.call(null,e[p],p,e)}}function Hb(e,t){if(lu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,c;for(;a-- >0;)if(c=r[a],t===c.toLowerCase())return c;return null}const Qi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wb=e=>!Xc(e)&&e!==Qi;function mp(){const{caseless:e}=Wb(this)&&this||{},t={},r=(a,c)=>{const d=e&&Hb(t,c)||c;Vd(t[d])&&Vd(a)?t[d]=mp(t[d],a):Vd(a)?t[d]=mp({},a):Ol(a)?t[d]=a.slice():t[d]=a};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&uu(arguments[a],r);return t}const cR=(e,t,r,{allOwnKeys:a}={})=>(uu(t,(c,d)=>{r&&gr(c)?e[d]=$b(c,r):e[d]=c},{allOwnKeys:a}),e),uR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dR=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},fR=(e,t,r,a)=>{let c,d,f;const p={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)f=c[d],(!a||a(f,e,t))&&!p[f]&&(t[f]=e[f],p[f]=!0);e=r!==!1&&og(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},hR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},mR=e=>{if(!e)return null;if(Ol(e))return e;let t=e.length;if(!Ub(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},pR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&og(Uint8Array)),gR=(e,t)=>{const a=(e&&e[Lf]).call(e);let c;for(;(c=a.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},vR=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},xR=bs("HTMLFormElement"),yR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,c){return a.toUpperCase()+c}),ly=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),wR=bs("RegExp"),Vb=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};uu(r,(c,d)=>{let f;(f=t(c,d,e))!==!1&&(a[d]=f||c)}),Object.defineProperties(e,a)},_R=e=>{Vb(e,(t,r)=>{if(gr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(gr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bR=(e,t)=>{const r={},a=c=>{c.forEach(d=>{r[d]=!0})};return Ol(e)?a(e):a(String(e).split(t)),r},NR=()=>{},SR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jR(e){return!!(e&&gr(e.append)&&e[zb]==="FormData"&&e[Lf])}const ER=e=>{const t=new Array(10),r=(a,c)=>{if(cu(a)){if(t.indexOf(a)>=0)return;if(lu(a))return a;if(!("toJSON"in a)){t[c]=a;const d=Ol(a)?[]:{};return uu(a,(f,p)=>{const g=r(f,c+1);!Xc(g)&&(d[p]=g)}),t[c]=void 0,d}}return a};return r(e,0)},CR=bs("AsyncFunction"),PR=e=>e&&(cu(e)||gr(e))&&gr(e.then)&&gr(e.catch),Zb=((e,t)=>e?setImmediate:t?((r,a)=>(Qi.addEventListener("message",({source:c,data:d})=>{c===Qi&&d===r&&a.length&&a.shift()()},!1),c=>{a.push(c),Qi.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",gr(Qi.postMessage)),TR=typeof queueMicrotask<"u"?queueMicrotask.bind(Qi):typeof process<"u"&&process.nextTick||Zb,kR=e=>e!=null&&gr(e[Lf]),xe={isArray:Ol,isArrayBuffer:Bb,isBuffer:lu,isFormData:nR,isArrayBufferView:qM,isString:GM,isNumber:Ub,isBoolean:YM,isObject:cu,isPlainObject:Vd,isEmptyObject:KM,isReadableStream:sR,isRequest:oR,isResponse:iR,isHeaders:aR,isUndefined:Xc,isDate:XM,isFile:QM,isBlob:JM,isRegExp:wR,isFunction:gr,isStream:tR,isURLSearchParams:rR,isTypedArray:pR,isFileList:eR,forEach:uu,merge:mp,extend:cR,trim:lR,stripBOM:uR,inherits:dR,toFlatObject:fR,kindOf:Af,kindOfTest:bs,endsWith:hR,toArray:mR,forEachEntry:gR,matchAll:vR,isHTMLForm:xR,hasOwnProperty:ly,hasOwnProp:ly,reduceDescriptors:Vb,freezeMethods:_R,toObjectSet:bR,toCamelCase:yR,noop:NR,toFiniteNumber:SR,findKey:Hb,global:Qi,isContextDefined:Wb,isSpecCompliantForm:jR,toJSONObject:ER,isAsyncFn:CR,isThenable:PR,setImmediate:Zb,asap:TR,isIterable:kR};function Ct(e,t,r,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),c&&(this.response=c,this.status=c.status?c.status:null)}xe.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const qb=Ct.prototype,Gb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Gb[e]={value:e}});Object.defineProperties(Ct,Gb);Object.defineProperty(qb,"isAxiosError",{value:!0});Ct.from=(e,t,r,a,c,d)=>{const f=Object.create(qb);return xe.toFlatObject(e,f,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),Ct.call(f,e.message,t,r,a,c),f.cause=e,f.name=e.name,d&&Object.assign(f,d),f};const MR=null;function pp(e){return xe.isPlainObject(e)||xe.isArray(e)}function Yb(e){return xe.endsWith(e,"[]")?e.slice(0,-2):e}function cy(e,t,r){return e?e.concat(t).map(function(c,d){return c=Yb(c),!r&&d?"["+c+"]":c}).join(r?".":""):t}function RR(e){return xe.isArray(e)&&!e.some(pp)}const LR=xe.toFlatObject(xe,{},null,function(t){return/^is[A-Z]/.test(t)});function Of(e,t,r){if(!xe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=xe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,C){return!xe.isUndefined(C[j])});const a=r.metaTokens,c=r.visitor||_,d=r.dots,f=r.indexes,g=(r.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(t);if(!xe.isFunction(c))throw new TypeError("visitor must be a function");function w(P){if(P===null)return"";if(xe.isDate(P))return P.toISOString();if(xe.isBoolean(P))return P.toString();if(!g&&xe.isBlob(P))throw new Ct("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(P)||xe.isTypedArray(P)?g&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function _(P,j,C){let T=P;if(P&&!C&&typeof P=="object"){if(xe.endsWith(j,"{}"))j=a?j:j.slice(0,-2),P=JSON.stringify(P);else if(xe.isArray(P)&&RR(P)||(xe.isFileList(P)||xe.endsWith(j,"[]"))&&(T=xe.toArray(P)))return j=Yb(j),T.forEach(function(M,O){!(xe.isUndefined(M)||M===null)&&t.append(f===!0?cy([j],O,d):f===null?j:j+"[]",w(M))}),!1}return pp(P)?!0:(t.append(cy(C,j,d),w(P)),!1)}const b=[],S=Object.assign(LR,{defaultVisitor:_,convertValue:w,isVisitable:pp});function k(P,j){if(!xe.isUndefined(P)){if(b.indexOf(P)!==-1)throw Error("Circular reference detected in "+j.join("."));b.push(P),xe.forEach(P,function(T,D){(!(xe.isUndefined(T)||T===null)&&c.call(t,T,xe.isString(D)?D.trim():D,j,S))===!0&&k(T,j?j.concat(D):[D])}),b.pop()}}if(!xe.isObject(e))throw new TypeError("data must be an object");return k(e),t}function uy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function ig(e,t){this._pairs=[],e&&Of(e,this,t)}const Kb=ig.prototype;Kb.append=function(t,r){this._pairs.push([t,r])};Kb.toString=function(t){const r=t?function(a){return t.call(this,a,uy)}:uy;return this._pairs.map(function(c){return r(c[0])+"="+r(c[1])},"").join("&")};function AR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xb(e,t,r){if(!t)return e;const a=r&&r.encode||AR;xe.isFunction(r)&&(r={serialize:r});const c=r&&r.serialize;let d;if(c?d=c(t,r):d=xe.isURLSearchParams(t)?t.toString():new ig(t,r).toString(a),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class dy{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){xe.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Qb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DR=typeof URLSearchParams<"u"?URLSearchParams:ig,OR=typeof FormData<"u"?FormData:null,IR=typeof Blob<"u"?Blob:null,FR={isBrowser:!0,classes:{URLSearchParams:DR,FormData:OR,Blob:IR},protocols:["http","https","file","blob","url","data"]},ag=typeof window<"u"&&typeof document<"u",gp=typeof navigator=="object"&&navigator||void 0,$R=ag&&(!gp||["ReactNative","NativeScript","NS"].indexOf(gp.product)<0),zR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BR=ag&&window.location.href||"http://localhost",UR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ag,hasStandardBrowserEnv:$R,hasStandardBrowserWebWorkerEnv:zR,navigator:gp,origin:BR},Symbol.toStringTag,{value:"Module"})),Kn={...UR,...FR};function HR(e,t){return Of(e,new Kn.classes.URLSearchParams,{visitor:function(r,a,c,d){return Kn.isNode&&xe.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function WR(e){return xe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VR(e){const t={},r=Object.keys(e);let a;const c=r.length;let d;for(a=0;a<c;a++)d=r[a],t[d]=e[d];return t}function Jb(e){function t(r,a,c,d){let f=r[d++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),g=d>=r.length;return f=!f&&xe.isArray(c)?c.length:f,g?(xe.hasOwnProp(c,f)?c[f]=[c[f],a]:c[f]=a,!p):((!c[f]||!xe.isObject(c[f]))&&(c[f]=[]),t(r,a,c[f],d)&&xe.isArray(c[f])&&(c[f]=VR(c[f])),!p)}if(xe.isFormData(e)&&xe.isFunction(e.entries)){const r={};return xe.forEachEntry(e,(a,c)=>{t(WR(a),c,r,0)}),r}return null}function ZR(e,t,r){if(xe.isString(e))try{return(t||JSON.parse)(e),xe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const du={transitional:Qb,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",c=a.indexOf("application/json")>-1,d=xe.isObject(t);if(d&&xe.isHTMLForm(t)&&(t=new FormData(t)),xe.isFormData(t))return c?JSON.stringify(Jb(t)):t;if(xe.isArrayBuffer(t)||xe.isBuffer(t)||xe.isStream(t)||xe.isFile(t)||xe.isBlob(t)||xe.isReadableStream(t))return t;if(xe.isArrayBufferView(t))return t.buffer;if(xe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return HR(t,this.formSerializer).toString();if((p=xe.isFileList(t))||a.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Of(p?{"files[]":t}:t,g&&new g,this.formSerializer)}}return d||c?(r.setContentType("application/json",!1),ZR(t)):t}],transformResponse:[function(t){const r=this.transitional||du.transitional,a=r&&r.forcedJSONParsing,c=this.responseType==="json";if(xe.isResponse(t)||xe.isReadableStream(t))return t;if(t&&xe.isString(t)&&(a&&!this.responseType||c)){const f=!(r&&r.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(p){if(f)throw p.name==="SyntaxError"?Ct.from(p,Ct.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Kn.classes.FormData,Blob:Kn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],e=>{du.headers[e]={}});const qR=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GR=e=>{const t={};let r,a,c;return e&&e.split(`
`).forEach(function(f){c=f.indexOf(":"),r=f.substring(0,c).trim().toLowerCase(),a=f.substring(c+1).trim(),!(!r||t[r]&&qR[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},fy=Symbol("internals");function Lc(e){return e&&String(e).trim().toLowerCase()}function Zd(e){return e===!1||e==null?e:xe.isArray(e)?e.map(Zd):String(e)}function YR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const KR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Am(e,t,r,a,c){if(xe.isFunction(a))return a.call(this,t,r);if(c&&(t=r),!!xe.isString(t)){if(xe.isString(a))return t.indexOf(a)!==-1;if(xe.isRegExp(a))return a.test(t)}}function XR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function QR(e,t){const r=xe.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(c,d,f){return this[a].call(this,t,c,d,f)},configurable:!0})})}let vr=class{constructor(t){t&&this.set(t)}set(t,r,a){const c=this;function d(p,g,w){const _=Lc(g);if(!_)throw new Error("header name must be a non-empty string");const b=xe.findKey(c,_);(!b||c[b]===void 0||w===!0||w===void 0&&c[b]!==!1)&&(c[b||g]=Zd(p))}const f=(p,g)=>xe.forEach(p,(w,_)=>d(w,_,g));if(xe.isPlainObject(t)||t instanceof this.constructor)f(t,r);else if(xe.isString(t)&&(t=t.trim())&&!KR(t))f(GR(t),r);else if(xe.isObject(t)&&xe.isIterable(t)){let p={},g,w;for(const _ of t){if(!xe.isArray(_))throw TypeError("Object iterator must return a key-value pair");p[w=_[0]]=(g=p[w])?xe.isArray(g)?[...g,_[1]]:[g,_[1]]:_[1]}f(p,r)}else t!=null&&d(r,t,a);return this}get(t,r){if(t=Lc(t),t){const a=xe.findKey(this,t);if(a){const c=this[a];if(!r)return c;if(r===!0)return YR(c);if(xe.isFunction(r))return r.call(this,c,a);if(xe.isRegExp(r))return r.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Lc(t),t){const a=xe.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Am(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let c=!1;function d(f){if(f=Lc(f),f){const p=xe.findKey(a,f);p&&(!r||Am(a,a[p],p,r))&&(delete a[p],c=!0)}}return xe.isArray(t)?t.forEach(d):d(t),c}clear(t){const r=Object.keys(this);let a=r.length,c=!1;for(;a--;){const d=r[a];(!t||Am(this,this[d],d,t,!0))&&(delete this[d],c=!0)}return c}normalize(t){const r=this,a={};return xe.forEach(this,(c,d)=>{const f=xe.findKey(a,d);if(f){r[f]=Zd(c),delete r[d];return}const p=t?XR(d):String(d).trim();p!==d&&delete r[d],r[p]=Zd(c),a[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return xe.forEach(this,(a,c)=>{a!=null&&a!==!1&&(r[c]=t&&xe.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(c=>a.set(c)),a}static accessor(t){const a=(this[fy]=this[fy]={accessors:{}}).accessors,c=this.prototype;function d(f){const p=Lc(f);a[p]||(QR(c,f),a[p]=!0)}return xe.isArray(t)?t.forEach(d):d(t),this}};vr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(vr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});xe.freezeMethods(vr);function Dm(e,t){const r=this||du,a=t||r,c=vr.from(a.headers);let d=a.data;return xe.forEach(e,function(p){d=p.call(r,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function eN(e){return!!(e&&e.__CANCEL__)}function Il(e,t,r){Ct.call(this,e??"canceled",Ct.ERR_CANCELED,t,r),this.name="CanceledError"}xe.inherits(Il,Ct,{__CANCEL__:!0});function tN(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new Ct("Request failed with status code "+r.status,[Ct.ERR_BAD_REQUEST,Ct.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function JR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eL(e,t){e=e||10;const r=new Array(e),a=new Array(e);let c=0,d=0,f;return t=t!==void 0?t:1e3,function(g){const w=Date.now(),_=a[d];f||(f=w),r[c]=g,a[c]=w;let b=d,S=0;for(;b!==c;)S+=r[b++],b=b%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),w-f<t)return;const k=_&&w-_;return k?Math.round(S*1e3/k):void 0}}function tL(e,t){let r=0,a=1e3/t,c,d;const f=(w,_=Date.now())=>{r=_,c=null,d&&(clearTimeout(d),d=null),e(...w)};return[(...w)=>{const _=Date.now(),b=_-r;b>=a?f(w,_):(c=w,d||(d=setTimeout(()=>{d=null,f(c)},a-b)))},()=>c&&f(c)]}const of=(e,t,r=3)=>{let a=0;const c=eL(50,250);return tL(d=>{const f=d.loaded,p=d.lengthComputable?d.total:void 0,g=f-a,w=c(g),_=f<=p;a=f;const b={loaded:f,total:p,progress:p?f/p:void 0,bytes:g,rate:w||void 0,estimated:w&&p&&_?(p-f)/w:void 0,event:d,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(b)},r)},hy=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},my=e=>(...t)=>xe.asap(()=>e(...t)),nL=Kn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Kn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Kn.origin),Kn.navigator&&/(msie|trident)/i.test(Kn.navigator.userAgent)):()=>!0,rL=Kn.hasStandardBrowserEnv?{write(e,t,r,a,c,d){const f=[e+"="+encodeURIComponent(t)];xe.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),xe.isString(a)&&f.push("path="+a),xe.isString(c)&&f.push("domain="+c),d===!0&&f.push("secure"),document.cookie=f.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oL(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function nN(e,t,r){let a=!sL(t);return e&&(a||r==!1)?oL(e,t):t}const py=e=>e instanceof vr?{...e}:e;function fa(e,t){t=t||{};const r={};function a(w,_,b,S){return xe.isPlainObject(w)&&xe.isPlainObject(_)?xe.merge.call({caseless:S},w,_):xe.isPlainObject(_)?xe.merge({},_):xe.isArray(_)?_.slice():_}function c(w,_,b,S){if(xe.isUndefined(_)){if(!xe.isUndefined(w))return a(void 0,w,b,S)}else return a(w,_,b,S)}function d(w,_){if(!xe.isUndefined(_))return a(void 0,_)}function f(w,_){if(xe.isUndefined(_)){if(!xe.isUndefined(w))return a(void 0,w)}else return a(void 0,_)}function p(w,_,b){if(b in t)return a(w,_);if(b in e)return a(void 0,w)}const g={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(w,_,b)=>c(py(w),py(_),b,!0)};return xe.forEach(Object.keys({...e,...t}),function(_){const b=g[_]||c,S=b(e[_],t[_],_);xe.isUndefined(S)&&b!==p||(r[_]=S)}),r}const rN=e=>{const t=fa({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:p}=t;t.headers=f=vr.from(f),t.url=Xb(nN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let g;if(xe.isFormData(r)){if(Kn.hasStandardBrowserEnv||Kn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((g=f.getContentType())!==!1){const[w,..._]=g?g.split(";").map(b=>b.trim()).filter(Boolean):[];f.setContentType([w||"multipart/form-data",..._].join("; "))}}if(Kn.hasStandardBrowserEnv&&(a&&xe.isFunction(a)&&(a=a(t)),a||a!==!1&&nL(t.url))){const w=c&&d&&rL.read(d);w&&f.set(c,w)}return t},iL=typeof XMLHttpRequest<"u",aL=iL&&function(e){return new Promise(function(r,a){const c=rN(e);let d=c.data;const f=vr.from(c.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:w}=c,_,b,S,k,P;function j(){k&&k(),P&&P(),c.cancelToken&&c.cancelToken.unsubscribe(_),c.signal&&c.signal.removeEventListener("abort",_)}let C=new XMLHttpRequest;C.open(c.method.toUpperCase(),c.url,!0),C.timeout=c.timeout;function T(){if(!C)return;const M=vr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),I={data:!p||p==="text"||p==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:e,request:C};tN(function(U){r(U),j()},function(U){a(U),j()},I),C=null}"onloadend"in C?C.onloadend=T:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(T)},C.onabort=function(){C&&(a(new Ct("Request aborted",Ct.ECONNABORTED,e,C)),C=null)},C.onerror=function(){a(new Ct("Network Error",Ct.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let O=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const I=c.transitional||Qb;c.timeoutErrorMessage&&(O=c.timeoutErrorMessage),a(new Ct(O,I.clarifyTimeoutError?Ct.ETIMEDOUT:Ct.ECONNABORTED,e,C)),C=null},d===void 0&&f.setContentType(null),"setRequestHeader"in C&&xe.forEach(f.toJSON(),function(O,I){C.setRequestHeader(I,O)}),xe.isUndefined(c.withCredentials)||(C.withCredentials=!!c.withCredentials),p&&p!=="json"&&(C.responseType=c.responseType),w&&([S,P]=of(w,!0),C.addEventListener("progress",S)),g&&C.upload&&([b,k]=of(g),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",k)),(c.cancelToken||c.signal)&&(_=M=>{C&&(a(!M||M.type?new Il(null,e,C):M),C.abort(),C=null)},c.cancelToken&&c.cancelToken.subscribe(_),c.signal&&(c.signal.aborted?_():c.signal.addEventListener("abort",_)));const D=JR(c.url);if(D&&Kn.protocols.indexOf(D)===-1){a(new Ct("Unsupported protocol "+D+":",Ct.ERR_BAD_REQUEST,e));return}C.send(d||null)})},lL=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,c;const d=function(w){if(!c){c=!0,p();const _=w instanceof Error?w:this.reason;a.abort(_ instanceof Ct?_:new Il(_ instanceof Error?_.message:_))}};let f=t&&setTimeout(()=>{f=null,d(new Ct(`timeout ${t} of ms exceeded`,Ct.ETIMEDOUT))},t);const p=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(w=>{w.unsubscribe?w.unsubscribe(d):w.removeEventListener("abort",d)}),e=null)};e.forEach(w=>w.addEventListener("abort",d));const{signal:g}=a;return g.unsubscribe=()=>xe.asap(p),g}},cL=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,c;for(;a<r;)c=a+t,yield e.slice(a,c),a=c},uL=async function*(e,t){for await(const r of dL(e))yield*cL(r,t)},dL=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},gy=(e,t,r,a)=>{const c=uL(e,t);let d=0,f,p=g=>{f||(f=!0,a&&a(g))};return new ReadableStream({async pull(g){try{const{done:w,value:_}=await c.next();if(w){p(),g.close();return}let b=_.byteLength;if(r){let S=d+=b;r(S)}g.enqueue(new Uint8Array(_))}catch(w){throw p(w),w}},cancel(g){return p(g),c.return()}},{highWaterMark:2})},If=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",sN=If&&typeof ReadableStream=="function",fL=If&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),oN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},hL=sN&&oN(()=>{let e=!1;const t=new Request(Kn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),vy=64*1024,vp=sN&&oN(()=>xe.isReadableStream(new Response("").body)),af={stream:vp&&(e=>e.body)};If&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!af[t]&&(af[t]=xe.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new Ct(`Response type '${t}' is not supported`,Ct.ERR_NOT_SUPPORT,a)})})})(new Response);const mL=async e=>{if(e==null)return 0;if(xe.isBlob(e))return e.size;if(xe.isSpecCompliantForm(e))return(await new Request(Kn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(e)||xe.isArrayBuffer(e))return e.byteLength;if(xe.isURLSearchParams(e)&&(e=e+""),xe.isString(e))return(await fL(e)).byteLength},pL=async(e,t)=>{const r=xe.toFiniteNumber(e.getContentLength());return r??mL(t)},gL=If&&(async e=>{let{url:t,method:r,data:a,signal:c,cancelToken:d,timeout:f,onDownloadProgress:p,onUploadProgress:g,responseType:w,headers:_,withCredentials:b="same-origin",fetchOptions:S}=rN(e);w=w?(w+"").toLowerCase():"text";let k=lL([c,d&&d.toAbortSignal()],f),P;const j=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let C;try{if(g&&hL&&r!=="get"&&r!=="head"&&(C=await pL(_,a))!==0){let I=new Request(t,{method:"POST",body:a,duplex:"half"}),G;if(xe.isFormData(a)&&(G=I.headers.get("content-type"))&&_.setContentType(G),I.body){const[U,re]=hy(C,of(my(g)));a=gy(I.body,vy,U,re)}}xe.isString(b)||(b=b?"include":"omit");const T="credentials"in Request.prototype;P=new Request(t,{...S,signal:k,method:r.toUpperCase(),headers:_.normalize().toJSON(),body:a,duplex:"half",credentials:T?b:void 0});let D=await fetch(P,S);const M=vp&&(w==="stream"||w==="response");if(vp&&(p||M&&j)){const I={};["status","statusText","headers"].forEach(q=>{I[q]=D[q]});const G=xe.toFiniteNumber(D.headers.get("content-length")),[U,re]=p&&hy(G,of(my(p),!0))||[];D=new Response(gy(D.body,vy,U,()=>{re&&re(),j&&j()}),I)}w=w||"text";let O=await af[xe.findKey(af,w)||"text"](D,e);return!M&&j&&j(),await new Promise((I,G)=>{tN(I,G,{data:O,headers:vr.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:P})})}catch(T){throw j&&j(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Ct("Network Error",Ct.ERR_NETWORK,e,P),{cause:T.cause||T}):Ct.from(T,T&&T.code,e,P)}}),xp={http:MR,xhr:aL,fetch:gL};xe.forEach(xp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xy=e=>`- ${e}`,vL=e=>xe.isFunction(e)||e===null||e===!1,iN={getAdapter:e=>{e=xe.isArray(e)?e:[e];const{length:t}=e;let r,a;const c={};for(let d=0;d<t;d++){r=e[d];let f;if(a=r,!vL(r)&&(a=xp[(f=String(r)).toLowerCase()],a===void 0))throw new Ct(`Unknown adapter '${f}'`);if(a)break;c[f||"#"+d]=a}if(!a){const d=Object.entries(c).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=t?d.length>1?`since :
`+d.map(xy).join(`
`):" "+xy(d[0]):"as no adapter specified";throw new Ct("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a},adapters:xp};function Om(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Il(null,e)}function yy(e){return Om(e),e.headers=vr.from(e.headers),e.data=Dm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),iN.getAdapter(e.adapter||du.adapter)(e).then(function(a){return Om(e),a.data=Dm.call(e,e.transformResponse,a),a.headers=vr.from(a.headers),a},function(a){return eN(a)||(Om(e),a&&a.response&&(a.response.data=Dm.call(e,e.transformResponse,a.response),a.response.headers=vr.from(a.response.headers))),Promise.reject(a)})}const aN="1.11.0",Ff={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ff[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const wy={};Ff.transitional=function(t,r,a){function c(d,f){return"[Axios v"+aN+"] Transitional option '"+d+"'"+f+(a?". "+a:"")}return(d,f,p)=>{if(t===!1)throw new Ct(c(f," has been removed"+(r?" in "+r:"")),Ct.ERR_DEPRECATED);return r&&!wy[f]&&(wy[f]=!0,console.warn(c(f," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(d,f,p):!0}};Ff.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function xL(e,t,r){if(typeof e!="object")throw new Ct("options must be an object",Ct.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const d=a[c],f=t[d];if(f){const p=e[d],g=p===void 0||f(p,d,e);if(g!==!0)throw new Ct("option "+d+" must be "+g,Ct.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ct("Unknown option "+d,Ct.ERR_BAD_OPTION)}}const qd={assertOptions:xL,validators:Ff},Os=qd.validators;let ia=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dy,response:new dy}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=fa(this.defaults,r);const{transitional:a,paramsSerializer:c,headers:d}=r;a!==void 0&&qd.assertOptions(a,{silentJSONParsing:Os.transitional(Os.boolean),forcedJSONParsing:Os.transitional(Os.boolean),clarifyTimeoutError:Os.transitional(Os.boolean)},!1),c!=null&&(xe.isFunction(c)?r.paramsSerializer={serialize:c}:qd.assertOptions(c,{encode:Os.function,serialize:Os.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),qd.assertOptions(r,{baseUrl:Os.spelling("baseURL"),withXsrfToken:Os.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=d&&xe.merge(d.common,d[r.method]);d&&xe.forEach(["delete","get","head","post","put","patch","common"],P=>{delete d[P]}),r.headers=vr.concat(f,d);const p=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(g=g&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const w=[];this.interceptors.response.forEach(function(j){w.push(j.fulfilled,j.rejected)});let _,b=0,S;if(!g){const P=[yy.bind(this),void 0];for(P.unshift(...p),P.push(...w),S=P.length,_=Promise.resolve(r);b<S;)_=_.then(P[b++],P[b++]);return _}S=p.length;let k=r;for(b=0;b<S;){const P=p[b++],j=p[b++];try{k=P(k)}catch(C){j.call(this,C);break}}try{_=yy.call(this,k)}catch(P){return Promise.reject(P)}for(b=0,S=w.length;b<S;)_=_.then(w[b++],w[b++]);return _}getUri(t){t=fa(this.defaults,t);const r=nN(t.baseURL,t.url,t.allowAbsoluteUrls);return Xb(r,t.params,t.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(t){ia.prototype[t]=function(r,a){return this.request(fa(a||{},{method:t,url:r,data:(a||{}).data}))}});xe.forEach(["post","put","patch"],function(t){function r(a){return function(d,f,p){return this.request(fa(p||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}ia.prototype[t]=r(),ia.prototype[t+"Form"]=r(!0)});let yL=class lN{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(c=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](c);a._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(p=>{a.subscribe(p),d=p}).then(c);return f.cancel=function(){a.unsubscribe(d)},f},t(function(d,f,p){a.reason||(a.reason=new Il(d,f,p),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new lN(function(c){t=c}),cancel:t}}};function wL(e){return function(r){return e.apply(null,r)}}function _L(e){return xe.isObject(e)&&e.isAxiosError===!0}const yp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yp).forEach(([e,t])=>{yp[t]=e});function cN(e){const t=new ia(e),r=$b(ia.prototype.request,t);return xe.extend(r,ia.prototype,t,{allOwnKeys:!0}),xe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(c){return cN(fa(e,c))},r}const Nn=cN(du);Nn.Axios=ia;Nn.CanceledError=Il;Nn.CancelToken=yL;Nn.isCancel=eN;Nn.VERSION=aN;Nn.toFormData=Of;Nn.AxiosError=Ct;Nn.Cancel=Nn.CanceledError;Nn.all=function(t){return Promise.all(t)};Nn.spread=wL;Nn.isAxiosError=_L;Nn.mergeConfig=fa;Nn.AxiosHeaders=vr;Nn.formToJSON=e=>Jb(xe.isHTMLForm(e)?new FormData(e):e);Nn.getAdapter=iN.getAdapter;Nn.HttpStatusCode=yp;Nn.default=Nn;const{Axios:XL,AxiosError:QL,CanceledError:JL,isCancel:eA,CancelToken:tA,VERSION:nA,all:rA,Cancel:sA,isAxiosError:oA,spread:iA,toFormData:aA,AxiosHeaders:lA,HttpStatusCode:cA,formToJSON:uA,getAdapter:dA,mergeConfig:fA}=Nn;function bL(){const e=N0(),{employeeId:t}=JC(),{toast:r}=xo(),[a,c]=v.useState(null),[d,f]=v.useState([]),[p,g]=v.useState([]),[w,_]=v.useState(!0),[b,S]=v.useState(!0),[k,P]=v.useState(!1),[j,C]=v.useState(!1),[T,D]=v.useState(!1),[M,O]=v.useState(null),[I,G]=v.useState(null),[U,re]=v.useState(!1),[q,X]=v.useState(!1),[ne,ge]=v.useState(!1),[Oe,me]=v.useState({}),[$e,J]=v.useState(!1),[_e,B]=v.useState([]),[pe,ie]=v.useState(!1),$=async()=>{console.log(" Opening Duty Completed modal"),J(!0),ie(!0);try{const H=new Date;H.setHours(0,0,0,0);const ye=new Date(H);ye.setDate(ye.getDate()+1),console.log(" Fetching meetings for date range:",{start:H.toISOString(),end:ye.toISOString()});let V;try{if(V=await ut.get(`/api/meetings/today?employeeId=${t}`),V.ok){const ee=await V.json();console.log(" Today's meetings data from dedicated endpoint:",ee);const de=ee.meetings.map((ve,we)=>{const We=ve.startTime&&ve.endTime?Math.floor((new Date(ve.endTime).getTime()-new Date(ve.startTime).getTime())/36e5*10)/10:0;return{serialNumber:we+1,companyName:ve.clientName||"Unknown",attendanceStatus:"",totalDutyHours:We}});B(de),r({title:"Today's Summary Loaded",description:`${ee.summary.totalMeetings} meetings, ${ee.summary.totalDutyHours} hours total`});return}}catch(ee){console.warn(" Dedicated endpoint failed, falling back to existing API:",ee)}if(console.log(" Using existing meetings API with date filtering..."),V=await ut.get(`/api/meetings?employeeId=${t}&startDate=${H.toISOString()}&endDate=${ye.toISOString()}&limit=50`),V.ok){const ee=await V.json();console.log(" Meetings data from existing API:",ee);const de=ee.meetings.filter(ce=>{const ze=new Date(ce.startTime);return ze>=H&&ze<ye}),ve=de.map((ce,ze)=>{const Ie=ce.startTime&&ce.endTime?Math.floor((new Date(ce.endTime).getTime()-new Date(ce.startTime).getTime())/36e5*10)/10:0;return{serialNumber:ze+1,companyName:ce.clientName||"Unknown",attendanceStatus:"",totalDutyHours:Ie}});B(ve);const we=de.filter(ce=>ce.status==="completed"&&ce.endTime),We=ve.reduce((ce,ze)=>ce+(ze.totalDutyHours||0),0);r({title:"Today's Summary Loaded",description:`${de.length} meetings, ${We.toFixed(1)} hours total`})}else throw console.error("Failed to fetch meetings from existing API:",V.status),new Error(`API returned ${V.status}`)}catch(H){console.error("Error fetching today's meetings:",H),r({title:"Error Loading Data",description:"Failed to load today's meeting data. Using cached data.",variant:"destructive"});const ye=new Date;ye.setHours(0,0,0,0);const V=new Date(ye);V.setDate(V.getDate()+1);const de=d.filter(ve=>{const we=new Date(ve.startTime);return we>=ye&&we<V}).map((ve,we)=>({serialNumber:we+1,companyName:ve.clientName||"Unknown",attendanceStatus:"",totalDutyHours:ve.startTime&&ve.endTime?Math.floor((new Date(ve.endTime).getTime()-new Date(ve.startTime).getTime())/(1e3*60*60)*10)/10:0}));B(de)}finally{ie(!1)}};v.useEffect(()=>{console.log(" startedMeetingMap updated:",Oe)},[Oe]);const[te,Pe]=v.useState(null),[Le,Ee]=v.useState({}),[F,K]=v.useState(new Set),[ue,be]=v.useState(0);v.useEffect(()=>{console.log(" Meetings state changed:",{count:d.length,meetings:d.map(H=>({id:H.id,status:H.status,client:H.clientName})),hasActive:d.some(H=>H.status==="in-progress"||H.status==="started")})},[d]),v.useEffect(()=>{if(!t){console.error(" No employee ID in URL - access denied"),r({title:"Access Denied",description:"Please access the tracking page with a valid employee ID",variant:"destructive"});return}console.log(" Loading tracking page for employee:",t),(async()=>{try{await Promise.all([Me(),He()])}catch(ye){console.error("Failed to initialize tracking data:",ye)}})()},[t,e]);const Me=async(H=0)=>{try{console.log("Fetching employee:",{employeeId:t,retryCount:H});const ye=await ut.get(`/api/employees/${t}`);if(ye.ok)try{const V=ye.headers.get("content-type");if(V&&V.includes("application/json")){const ee=await ye.json();c(ee),console.log("Employee data fetched successfully:",ee)}else{const ee=await ye.text();console.error("Server returned non-JSON response:",ee.substring(0,200)),c(null)}}catch(V){console.error("Error parsing employee response:",V),c(null)}else console.error(`Failed to fetch employee: ${ye.status} ${ye.statusText}`),c(null)}catch(ye){if(console.error("Error fetching employee:",ye),H<1&&ye instanceof TypeError&&(ye.message.includes("fetch")||ye.message.includes("body stream"))){console.log("Retrying employee fetch after network error..."),setTimeout(()=>Me(H+1),2e3);return}c(null)}},He=async(H=0)=>{try{console.log(" Fetching meetings:",{employeeId:t,retryCount:H});const ye=await ut.get(`/api/meetings?employeeId=${t}&limit=5`);if(ye.ok)try{const V=ye.headers.get("content-type");if(V&&V.includes("application/json")){const de=(await ye.json()).meetings||[];f(de),console.log(" Meetings data fetched successfully:",{count:de.length,meetings:de.map(we=>({id:we.id,status:we.status,followUpId:we.followUpId,client:we.clientName}))});const ve=de.filter(we=>we.status==="in-progress"||we.status==="started");if(ve.length>0){console.log(" Found active meetings after refresh:",ve.map(We=>({id:We.id,followUpId:We.followUpId})));const we={};ve.forEach(We=>{We.followUpId&&(console.log(" Restoring startedMeetingMap for follow-up meeting:",We.followUpId,"->",We.id),we[We.followUpId]=We.id)}),Object.keys(we).length>0&&me(We=>({...We,...we})),O(ve[0].id)}else console.log(" No active meetings found"),O(null)}else{const ee=await ye.text();console.error("Server returned non-JSON response for meetings:",ee.substring(0,200)),f([])}}catch(V){console.error("Error parsing meetings response:",V),f([])}else console.error(`Failed to fetch meetings: ${ye.status} ${ye.statusText}`),f([])}catch(ye){if(console.error("Error fetching meetings:",ye),H<1&&ye instanceof TypeError&&(ye.message.includes("fetch")||ye.message.includes("body stream"))){console.log("Retrying meetings fetch after network error..."),setTimeout(()=>He(H+1),2e3);return}f([])}finally{_(!1)}},Ze=H=>{console.log("Today's follow-up meetings fetched:",H.length),g(H)},rt=H=>{console.log(" Attempting to start meeting from follow-up:",H.companyName),console.log(" Current meetings:",d.map(ee=>({id:ee.id,status:ee.status,client:ee.clientName}))),console.log(" Total meetings:",d.length);const ye=d.find(ee=>ee.status==="in-progress"||ee.status==="started");if(console.log(" Active meeting check result:",ye?`Found: ${ye.id}`:"None"),ye){console.log(" BLOCKED: Active meeting exists:",ye.id),r({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting found, proceeding to start...");const V={clientName:H.companyName,reason:`Follow-up meeting - ${H.type}`,notes:H.remark||`Meeting with ${H.customerName} from ${H.companyName}`,leadId:H.leadId,leadInfo:{id:H.leadId,companyName:H.companyName,contactName:H.customerName}};At(V,H._id)},xt=(H,ye,V)=>{console.log("Location updated:",{lat:H,lng:ye,accuracy:V}),Me()},Se=(H,ye,V)=>{const ee=`https://www.google.com/maps?q=${H},${ye}`,de=`https://maps.apple.com/?q=${H},${ye}`;/iPad|iPhone|iPod/.test(navigator.userAgent)?window.open(de,"_blank"):window.open(ee,"_blank")},Z=H=>{window.location.href=`tel:${H}`},le=(H,ye)=>{const V=encodeURIComponent(`Regarding Field Operations - ${ye}`),ee=encodeURIComponent(`Hi ${ye.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${H}?subject=${V}&body=${ee}`},Ce=(H,ye)=>{const V=encodeURIComponent(`Hi ${ye.split(" ")[0]}, checking in on your current location and status.`);window.location.href=`sms:${H}?body=${V}`},[Ne,Be]=v.useState(null),Xe=H=>{console.log("handleEndMeetingClick called with meetingId:",H),O(H),D(!0)},Ye=async(H,ye)=>{console.log(" handleEndMeetingFromFollowUp called with:",{followUpId:H,meetingId:ye}),console.log(" Fetching active meeting from local database AND external API..."),r({title:"Loading Meeting Data",description:"Searching for active meeting..."});let V=ye,ee=null;try{if(!V||V===""){if(console.log(" Step 1: Checking local database..."),H)try{console.log(" Querying local database by followUpId:",H);const ve=await ut.get(`/api/meetings/active?followUpId=${H}`);ve.ok?(ee=await ve.json(),V=ee.id,console.log(" Found active meeting in LOCAL DATABASE:",V)):console.warn(" Not found in local database by followUpId (404)")}catch(ve){console.warn(" Error querying local database by followUpId:",ve)}if(!V&&t)try{console.log(" Querying local database by employeeId:",t);const ve=await ut.get(`/api/meetings/active?employeeId=${t}`);ve.ok?(ee=await ve.json(),V=ee.id,console.log(" Found active meeting in LOCAL DATABASE:",V)):console.warn(" Not found in local database by employeeId (404)")}catch(ve){console.warn(" Error querying local database by employeeId:",ve)}console.log(" Step 1 complete. finalMeetingId:",V||"not found")}if((!V||V==="")&&(console.log(" Step 2: Not found in local database, checking external API..."),t))try{const We=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${t}`;console.log(" Querying external API:",We);const ce=await fetch(We);if(ce.ok){const ze=await ce.json();console.log(" External API returned",ze.length,"follow-ups");const Ie=ze.find(nt=>nt.meetingStatus==="meeting on-going"||nt.meetingStatus==="In Progress"||nt.meetingStatus==="IN_PROGRESS"||nt.meetingStatus==="Started");if(Ie){console.log(" Found ongoing meeting in EXTERNAL API:",Ie._id),console.log(" External meeting data:",{id:Ie._id,status:Ie.meetingStatus,company:Ie.companyName,customer:Ie.customerName});let nt=!1;try{const zt=await ut.get(`/api/meetings/active?followUpId=${Ie._id}`);zt.ok&&(ee=await zt.json(),V=ee.id,nt=!0,console.log(" Found corresponding meeting in local database:",V))}catch(zt){console.warn(" Error searching local database (404 expected):",zt.message)}if(!nt&&!V){console.warn(" External API shows ongoing meeting, but not found in local database"),console.warn(" Creating meeting in local database from external API data...");try{if(!a)console.error(" Cannot create meeting: No employee data");else{const zt=await ut.post("/api/meetings",{employeeId:a.id,location:{lat:a.location.lat,lng:a.location.lng,address:a.location.address},clientName:Ie.companyName,notes:`Recovered meeting from external API - ${Ie.type}: ${Ie.remark}`,followUpId:Ie._id,leadId:Ie.leadId||void 0,externalMeetingStatus:Ie.meetingStatus});zt.ok?(ee=await zt.json(),V=ee.id,console.log(" Successfully created meeting in local database:",V),console.log(" Meeting recovered from external API")):console.error(" Failed to create meeting in local database")}}catch(zt){console.error(" Error creating meeting in local database:",zt)}}}else console.warn(" No ongoing meetings found in external API"),console.log("Available meetings:",ze.map(nt=>({id:nt._id,status:nt.meetingStatus,company:nt.companyName})))}else console.error(" External API request failed:",ce.status)}catch(ve){console.error(" Error querying external API:",ve)}if(!V||V===""){console.error(" No active meeting found in LOCAL DATABASE or EXTERNAL API!"),console.error("Searched with:",{followUpId:H,employeeId:t}),r({title:"No Active Meeting",description:"No active meeting found. The meeting may not have been saved properly when started.",variant:"destructive"});return}console.log(" Final meeting ID:",V),ee&&(console.log(" Updating local state with meeting data..."),f(ve=>ve.find(We=>We.id===ee.id)?(console.log(" Meeting already in local state"),ve):(console.log(" Adding meeting to local state"),[ee,...ve])),ee.followUpId&&(console.log(" Restoring startedMeetingMap:",{[ee.followUpId]:ee.id}),me(ve=>({...ve,[ee.followUpId]:ee.id}))));let de=Le[V];!de&&H&&(de=p.find(ve=>ve._id===H),console.log(" Found follow-up data from todaysFollowUpMeetings:",!!de)),!de&&(ee!=null&&ee.followUpId)&&(de=p.find(ve=>ve._id===ee.followUpId),console.log(" Found follow-up data by activeMeetingData.followUpId:",!!de)),de?(console.log(" Setting follow-up data for modal:",{company:de.companyName,customer:de.customerName}),Pe(de)):(console.warn(" No follow-up data found for meeting:",V),console.warn("Modal will open without pre-filled customer data")),console.log(" Opening End Meeting modal with meeting ID:",V),O(V),D(!0)}catch(de){console.error(" Error in handleEndMeetingFromFollowUp:",de),r({title:"Error",description:"Failed to load meeting data from database. Please try again.",variant:"destructive"})}},Ut=()=>{console.log("End meeting attempt. Employee status:",a==null?void 0:a.status,"Available meetings:",d);const H=d.find(ye=>ye.status==="in-progress"||ye.status==="started");H?Xe(H.id):(console.error("No active meeting found to end. Available meetings:",d),r({title:"No Active Meeting",description:"No active meeting found for this employee. Please start a meeting first.",variant:"destructive"}))},Pt=async H=>{var We;console.log(" handleEndMeetingWithDetails called with:",{activeMeetingId:M,meetingDetails:H,hasCustomers:((We=H.customers)==null?void 0:We.length)>0,hasDiscussion:!!H.discussion});const ye=new Date().toISOString();if(console.log(" Meeting end time captured:",ye),!ye||ye.length===0){console.error(" CRITICAL ERROR: Failed to capture end time!"),r({title:"Error",description:"Failed to capture end time. Please try again.",variant:"destructive"});return}let V=M;if(!V){console.error(" Cannot end meeting: No activeMeetingId set!"),r({title:"Error",description:"No active meeting found. Please try again.",variant:"destructive"});return}const ee=d.find(ce=>ce.id===V);if(!ee){console.error(" Cannot find current meeting in local state:",V),r({title:"Error",description:"Meeting data not found. Please refresh and try again.",variant:"destructive"});return}const de=new Date(ee.startTime).getTime(),we=new Date(ye).getTime()-de;if(console.log(" TIME VALIDATION:",{startTime:ee.startTime,endTime:ye,durationMs:we,durationMinutes:Math.round(we/(1e3*60))}),we<3e4&&(console.warn(" WARNING: Meeting duration is very short:",we,"ms"),we<=0)){console.error(" CRITICAL ERROR: End time is not after start time!");const ce=new Date(de+6e4).toISOString();console.log(" FIXED: Using buffered end time:",ce)}Be(V);try{console.log("Ending meeting with details:",M,H);let ce=null;const ze=3;let Ie=0;for(;Ie<ze&&!ce;)try{if(console.log(` Attempt ${Ie+1}/${ze}: Fetching location for meeting end...`),Ie===0&&r({title:"Getting Location",description:"Please wait while we fetch your current location..."}),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const yt=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",yt.state),yt.state==="denied"){r({title:"Location Permission Denied",description:"Please enable location access in your browser settings and try again.",variant:"destructive"}),Be(null);return}yt.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}const Tt=await new Promise((yt,Gt)=>{const Sn=15e3+Ie*5e3;navigator.geolocation.getCurrentPosition(yt,Gt,{enableHighAccuracy:!0,maximumAge:0,timeout:Sn})});let pt=`${Tt.coords.latitude.toFixed(6)}, ${Tt.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address for meeting end location...");const yt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Tt.coords.latitude}&lon=${Tt.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});yt.ok&&(pt=(await yt.json()).display_name||pt,console.log(" Meeting end address resolved:",pt))}catch(yt){console.warn(" Failed to get address, using coordinates:",yt)}ce={lat:Tt.coords.latitude,lng:Tt.coords.longitude,address:pt,timestamp:ye},console.log(" Fresh end location obtained:",ce),r({title:"Location Obtained",description:"Ending meeting..."})}catch(Tt){if(Ie++,console.error(` Location fetch attempt ${Ie} failed:`,Tt),Ie<ze)r({title:"Retrying Location",description:`Attempt ${Ie+1}/${ze}. Please ensure location is enabled...`}),await new Promise(pt=>setTimeout(pt,1e3));else{const pt=Tt instanceof GeolocationPositionError?Tt.code===1?"Location permission denied. Please enable location in your browser settings.":Tt.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";r({title:"Location Required",description:pt,variant:"destructive"}),Be(null);return}}if(!ce){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),Be(null);return}console.log(" Sending PUT request to:",`/api/meetings/${V}`);const nt=d.find(Tt=>Tt.id===V);if(!nt){console.error(" Cannot find current meeting in local state:",V),r({title:"Error",description:"Meeting data not found. Please refresh and try again.",variant:"destructive"}),Be(null);return}console.log(" Current meeting data:",{id:nt.id,startTime:nt.startTime,clientName:nt.clientName,status:nt.status});const zt={status:"completed",endTime:ye,meetingDetails:H,endLocation:ce};console.log(" Update payload (preserving original startTime):",zt);const _r=await ut.put(`/api/meetings/${V}`,zt);if(_r.ok){console.log("Meeting ended successfully");const Tt=Object.keys(Oe).find(pt=>Oe[pt]===V);if(Tt&&(console.log(" Optimistically updating local meeting status to complete for:",Tt),g(pt=>{const yt=pt.map(Gt=>Gt._id===Tt?{...Gt,meetingStatus:"complete"}:Gt);return console.log(" Optimistic update applied. Meeting should now show as Complete"),console.log(" Updated meetings:",yt.map(Gt=>({id:Gt._id,company:Gt.companyName,status:Gt.meetingStatus}))),yt})),Tt&&(console.log(" Clearing startedMeetingMap for instant UI update:",Tt),me(pt=>{const yt={...pt};return delete yt[Tt],console.log(" StartedMeetingMap cleared. Button should now show Complete"),yt})),Tt)try{console.log("Updating follow-up status for:",Tt);const pt=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${Tt}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"complete"})});pt.ok?console.log(" Follow-up meeting status updated to 'complete' in external API"):(console.error(" Failed to update follow-up status:",pt.status),console.log(" Rolling back optimistic update due to API failure"),g(yt=>yt.map(Gt=>Gt._id===Tt?{...Gt,meetingStatus:"In Progress"}:Gt)),me(yt=>({...yt,[Tt]:V})))}catch(pt){console.error(" Error updating follow-up status:",pt),console.log(" Rolling back optimistic update due to API error"),g(yt=>yt.map(Gt=>Gt._id===Tt?{...Gt,meetingStatus:"In Progress"}:Gt)),me(yt=>({...yt,[Tt]:V}))}try{const pt=d.find(Gt=>Gt.id===V);console.log("Attempting to add meeting to history with details:",{sessionId:(I==null?void 0:I.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:H,leadId:pt==null?void 0:pt.leadId,leadInfo:pt==null?void 0:pt.leadInfo});const yt=await ut.post("/api/meeting-history",{sessionId:(I==null?void 0:I.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:H,leadId:pt==null?void 0:pt.leadId,leadInfo:pt==null?void 0:pt.leadInfo});if(yt.ok){const Gt=await yt.json();console.log("Meeting added to history successfully:",Gt)}else{const Gt=await yt.text();console.error("Failed to add meeting to history:",yt.status,Gt)}}catch(pt){console.error("Error adding meeting to history:",pt)}Ee(pt=>{const yt={...pt};return delete yt[V],yt}),K(pt=>{const yt=new Set(pt);return yt.delete(V),yt}),setTimeout(()=>{be(pt=>pt+1)},500),await ut.put(`/api/employees/${t}/status`,{status:"active"}),await Promise.all([He(),Me()])}else{const Tt=await _r.text();throw console.error("Failed to end meeting:",_r.status,Tt),new Error(`Failed to end meeting: ${Tt}`)}}catch(ce){throw console.error("Error ending meeting:",ce),ce}finally{Be(null),O(null)}},St=async H=>{if(!a)return;const ye=new Date().toISOString();console.log(" Meeting start time captured:",ye),C(!0);try{let V=null;const ee=3;let de=0;for(;de<ee&&!V;)try{if(console.log(` Attempt ${de+1}/${ee}: Fetching location for meeting start...`),de===0&&r({title:"Getting Location",description:"Please wait while we fetch your current location..."}),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const ce=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",ce.state),ce.state==="denied"){r({title:"Location Permission Denied",description:"Please enable location access in your browser settings and try again.",variant:"destructive"}),C(!1);return}ce.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}const we=await new Promise((ce,ze)=>{const Ie=15e3+de*5e3;navigator.geolocation.getCurrentPosition(ce,ze,{enableHighAccuracy:!0,maximumAge:0,timeout:Ie})});let We=`${we.coords.latitude.toFixed(6)}, ${we.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address for meeting start location...");const ce=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${we.coords.latitude}&lon=${we.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});ce.ok&&(We=(await ce.json()).display_name||We,console.log(" Meeting start address resolved:",We))}catch(ce){console.warn(" Failed to get address, using coordinates:",ce)}V={lat:we.coords.latitude,lng:we.coords.longitude,address:We},console.log(" Fresh start location obtained:",V),r({title:"Location Obtained",description:"Starting meeting..."})}catch(we){if(de++,console.error(` Location fetch attempt ${de} failed:`,we),de<ee)r({title:"Retrying Location",description:`Attempt ${de+1}/${ee}. Please ensure location is enabled...`}),await new Promise(We=>setTimeout(We,1e3));else{const We=we instanceof GeolocationPositionError?we.code===1?"Location permission denied. Please enable location in your browser settings.":we.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";r({title:"Location Required",description:We,variant:"destructive"}),C(!1);return}}if(!V){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),C(!1);return}const ve=await ut.post("/api/meetings",{employeeId:a.id,location:V,clientName:H.clientName,notes:`${H.reason}${H.notes?` - ${H.notes}`:""}`,leadId:H.leadId,leadInfo:H.leadInfo,startTime:ye});if(ve.ok){const we=await ve.json();console.log(" Meeting created successfully:",{id:we.id,clientName:we.clientName,status:we.status,startTime:we.startTime,location:we.location}),f(We=>{console.log(" Adding meeting to state:",{id:we.id,clientName:we.clientName,status:we.status}),console.log(" Previous meetings count:",We.length);const ce=[we,...We];return console.log(" New meetings count:",ce.length),ce}),await Nn.put(`/api/employees/${t}/status`,{status:"meeting"}),Me(),P(!1),r({title:"Meeting Started",description:`Meeting with ${H.clientName} has been started`}),console.log(" Meeting started successfully - UI should now show End Meeting button")}else{const we=await ve.json().catch(()=>({error:"Failed to start meeting"}));r({title:"Cannot Start Meeting",description:we.error||"Failed to start meeting",variant:"destructive"})}}catch(V){console.error("Error starting meeting:",V),r({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{C(!1)}},At=async(H,ye)=>{if(!a)return;const V=new Date().toISOString();console.log(" Follow-up meeting start time captured:",V),C(!0);try{const ee=p.find(ce=>ce._id===ye);console.log(" Storing follow-up data for meeting:",ee);let de=null;const ve=3;let we=0;for(;we<ve&&!de;)try{if(console.log(` Attempt ${we+1}/${ve}: Fetching location for meeting start...`),we===0&&r({title:"Getting Location",description:"Please wait while we fetch your current location..."}),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const Ie=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",Ie.state),Ie.state==="denied"){r({title:"Location Permission Denied",description:"Please enable location access in your browser settings and try again.",variant:"destructive"}),C(!1);return}Ie.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}const ce=await new Promise((Ie,nt)=>{const zt=15e3+we*5e3;navigator.geolocation.getCurrentPosition(Ie,nt,{enableHighAccuracy:!0,maximumAge:0,timeout:zt})});let ze=`${ce.coords.latitude.toFixed(6)}, ${ce.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address for meeting start location...");const Ie=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ce.coords.latitude}&lon=${ce.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});Ie.ok&&(ze=(await Ie.json()).display_name||ze,console.log(" Meeting start address resolved:",ze))}catch(Ie){console.warn(" Failed to get address, using coordinates:",Ie)}de={lat:ce.coords.latitude,lng:ce.coords.longitude,address:ze},console.log(" Fresh start location obtained:",de),r({title:"Location Obtained",description:"Starting meeting..."})}catch(ce){if(we++,console.error(` Location fetch attempt ${we} failed:`,ce),we<ve)r({title:"Retrying Location",description:`Attempt ${we+1}/${ve}. Please ensure location is enabled...`}),await new Promise(ze=>setTimeout(ze,1e3));else{const ze=ce instanceof GeolocationPositionError?ce.code===1?"Location permission denied. Please enable location in your browser settings.":ce.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";r({title:"Location Required",description:ze,variant:"destructive"}),C(!1);return}}if(!de){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),C(!1);return}console.log(" Creating follow-up meeting with payload:",{employeeId:a.id,location:de,clientName:H.clientName,notes:`${H.reason}${H.notes?` - ${H.notes}`:""}`,leadId:H.leadId,leadInfo:H.leadInfo,followUpId:ye,externalMeetingStatus:"meeting on-going"});const We=await ut.post("/api/meetings",{employeeId:a.id,location:de,clientName:H.clientName,notes:`${H.reason}${H.notes?` - ${H.notes}`:""}`,leadId:H.leadId,leadInfo:H.leadInfo,followUpId:ye,externalMeetingStatus:"meeting on-going",startTime:V});if(We.ok){const ce=await We.json();console.log(" Follow-up meeting created successfully:",{id:ce.id,clientName:ce.clientName,status:ce.status,startTime:ce.startTime,location:ce.location,followUpId:ce.followUpId});const ze={...ce,status:"in-progress",startTime:ce.startTime||new Date().toISOString(),location:{...ce.location,address:ce.location.address||de.address}};f(Ie=>(console.log(" Adding follow-up meeting to state:",ze.id),console.log(" Meeting details for state:",{id:ze.id,clientName:ze.clientName,status:ze.status,startTime:ze.startTime,location:ze.location}),[ze,...Ie])),me(Ie=>{const nt={...Ie,[ye]:ce.id};return console.log(" Updated startedMeetingMap:",nt),nt}),ee&&(Ee(Ie=>({...Ie,[ce.id]:ee})),console.log(" Stored follow-up data for meeting ID:",ce.id));try{const Ie=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${ye}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"meeting on-going"})});Ie.ok?console.log(" Updated follow-up meetingStatus to 'meeting on-going' for:",ye):console.warn(" Failed to update follow-up meetingStatus:",Ie.status)}catch(Ie){console.error(" Failed to update follow-up meetingStatus to meeting on-going:",Ie)}try{await Nn.put(`/api/employees/${t}/status`,{status:"meeting"}),console.log(" Employee status updated to 'meeting'")}catch(Ie){console.error(" Failed to update employee status:",Ie)}Me(),r({title:"Meeting Started",description:`Meeting with ${H.clientName} has been started`}),console.log(" Follow-up meeting started successfully - should now appear in Recent Meetings")}else{const ce=await We.json().catch(()=>({error:"Failed to start meeting"}));console.error(" Failed to create follow-up meeting:",ce),r({title:"Cannot Start Meeting",description:ce.error||"Failed to start meeting",variant:"destructive"})}}catch(ee){console.error(" Error starting follow-up meeting:",ee),r({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{C(!1)}},Ht=()=>{const H=d.find(ye=>ye.status==="in-progress"||ye.status==="started");if(H){console.log("Blocked: Active meeting exists:",{id:H.id,clientName:H.clientName,status:H.status,startTime:H.startTime}),r({title:"Cannot Start Meeting",description:`You already have an active meeting with ${H.clientName}. Please complete it before starting a new one.`,variant:"destructive"});return}console.log(" No active meeting found, opening start meeting modal"),P(!0)},qt=async H=>{G(H),console.log(" Tracking session started:",H);try{const ye=await ut.post("/api/tracking-sessions",{id:H.id,employeeId:H.employeeId,startTime:H.startTime,startLocation:H.startLocation,route:H.route||[],totalDistance:H.totalDistance||0,status:H.status});if(ye.ok){const V=await ye.json();console.log(" Tracking session saved to server:",V)}else console.error(" Failed to save tracking session:",ye.status)}catch(ye){console.error(" Error saving tracking session:",ye)}},Vt=async H=>{G(H),console.log(" Tracking session ended:",H);try{const ye=await ut.put(`/api/tracking-sessions/${H.id}`,{endTime:H.endTime,endLocation:H.endLocation,route:H.route||[],totalDistance:H.totalDistance||0,duration:H.duration,status:H.status});if(ye.ok){const V=await ye.json();console.log(" Tracking session updated on server:",V)}else console.error(" Failed to update tracking session:",ye.status)}catch(ye){console.error(" Error updating tracking session:",ye)}if(console.log("Auto-snapshot conditions:",{hasEmployee:!!a,sessionStatus:H.status,shouldCreateSnapshot:a&&H.status==="completed"}),a&&H.status==="completed")try{console.log("Auto-creating route snapshot for completed tracking session"),await Je(H)}catch(ye){console.error("Error auto-creating route snapshot:",ye)}else console.log("Skipping auto-snapshot:",{reason:a?H.status!=="completed"?`Session status is ${H.status}`:"Unknown":"No employee data"})},Je=async H=>{if(!a)return;const ye=()=>{const ce=[];if(H.route&&ce.push(...H.route),d.forEach(zt=>{ce.push(zt.location)}),ce.push(a.location),ce.length===0)return{north:a.location.lat+.01,south:a.location.lat-.01,east:a.location.lng+.01,west:a.location.lng-.01};const ze=ce.map(zt=>zt.lat),Ie=ce.map(zt=>zt.lng),nt=.005;return{north:Math.max(...ze)+nt,south:Math.min(...ze)-nt,east:Math.max(...Ie)+nt,west:Math.min(...Ie)-nt}},V=()=>d.map(ce=>({id:ce.id,location:ce.location,clientName:ce.clientName,startTime:ce.startTime,endTime:ce.endTime,status:ce.status})),ee=new Date,de=ee.toLocaleDateString(),ve=ee.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),we=`${a.name} Route - ${de} ${ve}`,We={employeeId:a.id,employeeName:a.name,trackingSessionId:H.id,title:we,description:`Auto-captured route snapshot when tracking stopped. Duration: ${Math.round((H.duration||0)/60)} minutes.`,startLocation:H.startLocation,endLocation:H.endLocation,route:H.route||[a.location],meetings:V(),totalDistance:H.totalDistance||0,duration:H.duration,status:H.status,mapBounds:ye()};try{const ce=await ut.post("/api/route-snapshots",We);if(ce.ok){const ze=await ce.json();console.log("Auto-created route snapshot:",ze),r({title:"Route Auto-Captured",description:`${ze.title} saved successfully`})}else throw new Error("Failed to auto-create route snapshot")}catch(ce){console.error("Error auto-creating route snapshot:",ce),r({title:"Auto-capture Failed",description:"Use 'Manual Capture' button to save route",variant:"destructive"})}},$t=H=>{switch(H){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},hn=H=>{switch(H){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}};if(w)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading tracking data..."})]})});if(!a)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Employee not found"}),o.jsx(je,{asChild:!0,children:o.jsx(zs,{to:"/",children:"Return to Dashboard"})})]})});const jt=JSON.parse(localStorage.getItem("user")||"{}"),en=(jt==null?void 0:jt._id)==="67daa55d9c4abb36045d5bfe";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[en&&o.jsx(je,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(zs,{to:"/",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:a.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time Tracking"})]}),o.jsx(je,{variant:"outline",onClick:$,className:"ml-4",children:"Duty Completed"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>X(!0),className:"text-primary",children:[o.jsx(Um,{className:"h-4 w-4 mr-1"}),"Manual Capture"]}),o.jsx(Nt,{variant:"secondary",className:`${$t(a.status)}`,children:hn(a.status)})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsx(Rt,{children:"Employee Information"})}),o.jsxs(ft,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Name"}),o.jsx("span",{className:"font-medium",children:a.name})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("span",{className:"font-medium",children:a.email})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("span",{className:"font-medium",children:a.phone})]}),a.designation&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Designation"}),o.jsx("span",{className:"font-medium",children:a.designation})]}),a.department&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Department"}),o.jsx("span",{className:"font-medium",children:a.department})]}),a.companyName&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Company"}),o.jsx("span",{className:"font-medium text-right max-w-xs",children:a.companyName})]}),a.reportTo&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Reports To"}),o.jsx("span",{className:"font-medium",children:a.reportTo})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),o.jsx(Nt,{variant:"secondary",className:`${$t(a.status)}`,children:hn(a.status)})]}),a.currentTask&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Task"}),o.jsx("span",{className:"font-medium text-right max-w-xs",children:a.currentTask})]})]}),d.find(ye=>ye.status==="in-progress"||ye.status==="started")||a.status==="meeting"?o.jsx("div",{className:"pt-4 pb-2",children:o.jsxs(je,{variant:"destructive",size:"sm",className:"w-full",onClick:Ut,disabled:Ne!==null,children:[o.jsx(An,{className:"h-4 w-4 mr-2"}),Ne?"Ending Meeting...":"End Current Meeting"]})}):null,o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-4",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>Z(a.phone),children:[o.jsx(fi,{className:"h-4 w-4 mr-2"}),"Call"]}),o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>le(a.email,a.name),children:[o.jsx(di,{className:"h-4 w-4 mr-2"}),"Email"]}),o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>Ce(a.phone,a.name),className:"col-span-2",children:[o.jsx(Tp,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]})]}),o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsxs(Rt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Current Location"}),d.find(ye=>ye.status==="in-progress"||ye.status==="started")||a.status==="meeting"?o.jsxs(je,{variant:"destructive",size:"sm",onClick:Ut,disabled:Ne!==null,children:[o.jsx(An,{className:"h-4 w-4 mr-2"}),Ne?"Ending...":"End Meeting"]}):o.jsxs(je,{variant:"outline",size:"sm",onClick:Ht,children:[o.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})}),o.jsxs(ft,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(sr,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:a.location.address}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.location.lat.toFixed(6),","," ",a.location.lng.toFixed(6)]}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[o.jsx(An,{className:"h-3 w-3 mr-1"}),"Last updated ",a.lastUpdate]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(je,{variant:"outline",className:"w-full",onClick:()=>S(!b),children:[o.jsx(po,{className:"h-4 w-4 mr-2"}),b?"Hide Map":"View on Map"]}),o.jsxs(je,{variant:"outline",className:"w-full",onClick:()=>Se(a.location.lat,a.location.lng,a.location.address),children:[o.jsx(sr,{className:"h-4 w-4 mr-2"}),"Open in Maps App"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>X(!0),className:"text-primary",children:[o.jsx(Um,{className:"h-4 w-4 mr-2"}),"Manual Capture"]}),o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>ge(!0),children:[o.jsx(dl,{className:"h-4 w-4 mr-2"}),"View History"]})]})]}),b&&a&&o.jsx("div",{className:"mt-4",children:o.jsx(Vp,{employees:[a],height:"300px",trackingSession:I,showRoute:I!==null})})]})]}),o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsxs(Rt,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Recent Meetings"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nt,{variant:"secondary",children:d.length}),o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>re(!0),children:[o.jsx(ns,{className:"h-4 w-4 mr-2"}),"History"]})]})]})}),o.jsx(ft,{children:d.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent meetings"}):o.jsx("div",{className:"space-y-4",children:d.sort((H,ye)=>new Date(ye.startTime).getTime()-new Date(H.startTime).getTime()).map(H=>{var ye;return console.log(" Rendering meeting:",{id:H.id,clientName:H.clientName,status:H.status,startTime:H.startTime,location:H.location,followUpId:H.followUpId}),o.jsxs("div",{className:`border rounded-lg p-3 space-y-2 ${H.status==="in-progress"?"border-warning bg-warning/5":"border-border"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"font-medium",children:[H.clientName||"Unknown Client",H.followUpId&&o.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Follow-up"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nt,{variant:"secondary",className:H.status==="completed"?"bg-success text-success-foreground":H.status==="in-progress"?"bg-warning text-warning-foreground":"bg-info text-info-foreground",children:H.status}),H.status==="in-progress"&&o.jsx(je,{variant:"outline",size:"sm",onClick:()=>Xe(H.id),disabled:Ne===H.id,children:Ne===H.id?"Ending...":"End Meeting"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(sr,{className:"h-3 w-3 mr-1"}),((ye=H.location)==null?void 0:ye.address)||"Location not available"]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(ns,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Started:"}),o.jsx("span",{className:"ml-1",children:H.startTime?op(H.startTime):"Time not available"})]}),H.endTime&&o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(An,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Ended:"}),o.jsx("span",{className:"ml-1",children:op(H.endTime)})]}),H.status==="in-progress"&&o.jsxs("p",{className:"text-sm text-success flex items-center",children:[o.jsx(An,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Duration:"}),o.jsx("span",{className:"ml-1",children:(()=>{const V=Date.now()-new Date(H.startTime).getTime(),ee=Math.floor(V/(1e3*60)),de=Math.floor(ee/60),ve=ee%60;return de>0?`${de}h:${ve.toString().padStart(2,"0")}m`:`${ve}m`})()})]}),H.endTime&&H.status==="completed"&&o.jsxs("p",{className:"text-sm text-info flex items-center",children:[o.jsx(An,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Duration:"}),o.jsx("span",{className:"ml-1",children:(()=>{const V=new Date(H.endTime).getTime()-new Date(H.startTime).getTime(),ee=Math.floor(V/(1e3*60)),de=Math.floor(ee/60),ve=ee%60;return de>0?`${de}h:${ve.toString().padStart(2,"0")}m`:`${ve}m`})()})]})]}),H.notes&&o.jsx("p",{className:"text-sm",children:H.notes})]},H.id)})})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(DM,{employeeId:a.id,employeeName:a.name,onLocationUpdate:xt,trackingEnabled:a.status==="active",onTrackingSessionStart:qt,onTrackingSessionEnd:Vt,todaysMeetings:p}),o.jsx(x_,{userId:t,onStartMeeting:rt,startedMeetingMap:Oe,onEndMeetingFromFollowUp:Ye,onMeetingsFetched:Ze,refreshTrigger:ue,hasActiveMeeting:d.some(H=>H.status==="in-progress"||H.status==="started"),todaysFollowUpMeetings:p})]})]})}),a&&o.jsx(pb,{isOpen:k,onClose:()=>P(!1),onStartMeeting:St,employeeName:a.name,location:a.location.address,isLoading:j}),a&&o.jsx(WM,{isOpen:T,onClose:()=>{D(!1),O(null),Pe(null)},onEndMeeting:Pt,employeeName:a.name,isLoading:Ne!==null,currentMeeting:M?d.find(H=>H.id===M):null,followUpMeetingData:te}),o.jsx(u_,{employeeId:t,isOpen:U,onClose:()=>re(!1)}),a&&o.jsx(VM,{employee:a,trackingSession:I,meetings:d,isOpen:q,onClose:()=>X(!1),onSnapshotCreated:H=>{console.log("Snapshot created:",H)}}),o.jsx(Mb,{employeeId:t,isOpen:ne,onClose:()=>ge(!1)}),o.jsx(xr,{open:$e,onOpenChange:J,children:o.jsxs(or,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[o.jsx(ir,{children:o.jsx(ar,{className:"text-2xl font-bold text-center",children:"Today's Meetings & Duty Summary"})}),o.jsx("div",{className:"space-y-6 py-4",children:pe?o.jsxs("div",{className:"flex flex-col justify-center items-center py-12",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading today's meeting details..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border rounded-lg",children:o.jsxs(ll,{children:[o.jsx(cl,{children:o.jsxs(Dr,{children:[o.jsx(ht,{className:"w-[80px] text-center font-bold",children:"Sr. No."}),o.jsx(ht,{className:"font-bold",children:"Company Name"}),o.jsx(ht,{className:"text-right font-bold",children:"Meeting Duration"})]})}),o.jsx(ul,{children:_e.length>0?o.jsxs(o.Fragment,{children:[_e.map(H=>o.jsxs(Dr,{children:[o.jsx(at,{className:"text-center font-medium",children:H.serialNumber}),o.jsx(at,{className:"font-medium",children:H.companyName}),o.jsx(at,{className:"text-right font-medium",children:H.totalDutyHours?`${H.totalDutyHours} hours`:"In Progress"})]},H.serialNumber)),(()=>{const H=_e.reduce((ee,de)=>ee+(de.totalDutyHours||0),0);let ye="Pending Verification",V="bg-gray-500 hover:bg-gray-600";return H>=7.5?(ye="Full Day",V="bg-green-500 hover:bg-green-600"):H>=3.5&&H<=7.5?(ye="Half Day",V="bg-yellow-500 hover:bg-yellow-600"):(ye="Absent",V="bg-blue-500 hover:bg-red-600"),o.jsxs(Dr,{className:"bg-muted/30 border-t-2 border-primary",children:[o.jsx(at,{colSpan:2,className:"text-right font-bold pr-4",children:o.jsxs("div",{className:"flex items-center justify-start",children:[o.jsx("span",{className:"mr-4",children:"Total Duty Hours:"}),o.jsx(Nt,{variant:"default",className:V,children:ye})]})}),o.jsxs(at,{className:"text-right font-bold text-lg",children:[H.toFixed(1)," hours"]})]})})()]}):o.jsx(Dr,{children:o.jsx(at,{colSpan:3,className:"text-center py-8 text-muted-foreground",children:"No meetings recorded for today"})})})]})}),o.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border",children:[o.jsx("h3",{className:"font-bold text-lg mb-2",children:" Summary Information:"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Total Meetings:"})," ",_e.length]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Completed Meetings:"})," ",_e.filter(H=>H.totalDutyHours>0).length]}),o.jsxs("p",{className:"text-muted-foreground mt-3",children:[o.jsx("strong",{children:"Note:"})," The attendance shown above is auto-generated based on today's completed meetings. Final attendance (Full Day / Half Day) will be confirmed after HR verification."]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx(je,{variant:"outline",onClick:()=>J(!1),children:"Close"}),o.jsx(je,{onClick:()=>{const H=_e.reduce((ye,V)=>ye+(V.totalDutyHours||0),0);r({title:"Summary Submitted",description:`Today's duty summary (${H.toFixed(1)} hours) has been submitted for HR verification.`}),J(!1)},children:"Submit to HR"})]})]})})]})})]})}function NL(){const[e,t]=v.useState([]),[r,a]=v.useState(!0),[c,d]=v.useState(""),[f,p]=v.useState("all"),[g,w]=v.useState(!1),[_,b]=v.useState(!1),[S,k]=v.useState(null),[P,j]=v.useState({name:"",email:"",phone:"",status:"active"});v.useEffect(()=>{C()},[]);const C=async()=>{var X;try{console.log("TeamManagement: Fetching employees...");const ne=await ut.get("/api/employees");if(ne.ok){const ge=await ne.json();console.log("TeamManagement: Successfully fetched employees:",((X=ge.employees)==null?void 0:X.length)||0),t(ge.employees||[])}else console.error("TeamManagement: Failed to fetch employees - Status:",ne.status),t([])}catch(ne){console.error("TeamManagement: Error fetching employees:",ne),t([])}finally{a(!1)}},T=async()=>{try{const X=await ut.post("/api/employees",{...P,location:{lat:40.7128,lng:-74.006,address:"New York, NY",timestamp:new Date().toISOString()},lastUpdate:"Just now",deviceId:`device_${Date.now()}`});X.ok?(console.log("TeamManagement: Employee added successfully"),C(),w(!1),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to add employee - Status:",X.status)}catch(X){console.error("TeamManagement: Error adding employee:",X)}},D=async()=>{if(S)try{const X=await ut.put(`/api/employees/${S.id}`,P);X.ok?(console.log("TeamManagement: Employee updated successfully"),C(),b(!1),k(null),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to update employee - Status:",X.status)}catch(X){console.error("TeamManagement: Error updating employee:",X)}},M=async X=>{if(confirm("Are you sure you want to delete this employee?"))try{const ne=await ut.delete(`/api/employees/${X}`);ne.ok?(console.log("TeamManagement: Employee deleted successfully"),C()):console.error("TeamManagement: Failed to delete employee - Status:",ne.status)}catch(ne){console.error("TeamManagement: Error deleting employee:",ne)}},O=X=>{window.location.href=`tel:${X}`},I=(X,ne)=>{const ge=encodeURIComponent(`Regarding Field Operations - ${ne}`),Oe=encodeURIComponent(`Hi ${ne.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${X}?subject=${ge}&body=${Oe}`},G=X=>{k(X),j({name:X.name,email:X.email,phone:X.phone,status:X.status}),b(!0)},U=X=>{switch(X){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},re=X=>{switch(X){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},q=e.filter(X=>{const ne=X.name.toLowerCase().includes(c.toLowerCase())||X.email.toLowerCase().includes(c.toLowerCase()),ge=f==="all"||X.status===f;return ne&&ge});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(je,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(zs,{to:"/",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Team Management"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your field team employees"})]})]}),o.jsxs(xr,{open:g,onOpenChange:w,children:[o.jsx($T,{asChild:!0,children:o.jsxs(je,{children:[o.jsx(Hc,{className:"h-4 w-4 mr-2"}),"Add Employee"]})}),o.jsxs(or,{children:[o.jsxs(ir,{children:[o.jsx(ar,{children:"Add New Employee"}),o.jsx(yr,{children:"Add a new field employee to your team."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"name",children:"Name"}),o.jsx(dn,{id:"name",value:P.name,onChange:X=>j({...P,name:X.target.value}),placeholder:"Enter full name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"email",children:"Email"}),o.jsx(dn,{id:"email",type:"email",value:P.email,onChange:X=>j({...P,email:X.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"phone",children:"Phone"}),o.jsx(dn,{id:"phone",type:"tel",value:P.phone,onChange:X=>j({...P,phone:X.target.value}),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"status",children:"Status"}),o.jsxs(vs,{value:P.status,onValueChange:X=>j({...P,status:X}),children:[o.jsx(es,{children:o.jsx(xs,{placeholder:"Select status"})}),o.jsxs(ts,{children:[o.jsx(Jt,{value:"active",children:"Active"}),o.jsx(Jt,{value:"inactive",children:"Inactive"}),o.jsx(Jt,{value:"meeting",children:"In Meeting"})]})]})]})]}),o.jsxs(ua,{children:[o.jsx(je,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),o.jsx(je,{onClick:T,children:"Add Employee"})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(nu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(dn,{placeholder:"Search employees...",value:c,onChange:X=>d(X.target.value),className:"pl-10"})]}),o.jsxs(vs,{value:f,onValueChange:p,children:[o.jsx(es,{className:"w-full sm:w-[180px]",children:o.jsx(xs,{placeholder:"Filter by status"})}),o.jsxs(ts,{children:[o.jsx(Jt,{value:"all",children:"All Statuses"}),o.jsx(Jt,{value:"active",children:"Active"}),o.jsx(Jt,{value:"meeting",children:"In Meeting"}),o.jsx(Jt,{value:"inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Total Employees"}),o.jsx(sa,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(ft,{children:o.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Active"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-success"})]}),o.jsx(ft,{children:o.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter(X=>X.status==="active").length})})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"In Meetings"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"})]}),o.jsx(ft,{children:o.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter(X=>X.status==="meeting").length})})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Offline"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"})]}),o.jsx(ft,{children:o.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:e.filter(X=>X.status==="inactive").length})})]})]}),o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsxs(Rt,{children:["Team Members (",q.length,")"]})}),o.jsx(ft,{children:r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employees..."})]}):q.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(sa,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),o.jsx("p",{className:"text-muted-foreground",children:c||f!=="all"?"Try adjusting your search or filters.":"Add your first employee to get started."})]}):o.jsx("div",{className:"space-y-4",children:q.map(X=>o.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"font-semibold text-lg",children:X.name}),o.jsx(Nt,{variant:"secondary",className:`text-xs ${U(X.status)}`,children:re(X.status)})]}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(di,{className:"h-3 w-3 mr-2"}),X.email]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(fi,{className:"h-3 w-3 mr-2"}),X.phone]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(sr,{className:"h-3 w-3 mr-2"}),X.location.address]}),X.currentTask&&o.jsxs("p",{className:"text-primary font-medium",children:["Current Task: ",X.currentTask]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>O(X.phone),children:[o.jsx(fi,{className:"h-3 w-3 mr-1"}),"Call"]}),o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>I(X.email,X.name),children:[o.jsx(di,{className:"h-3 w-3 mr-1"}),"Email"]}),o.jsx(je,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(zs,{to:`/tracking/${X.id}`,children:[o.jsx(po,{className:"h-3 w-3 mr-1"}),"Track"]})}),o.jsxs(je,{variant:"outline",size:"sm",onClick:()=>G(X),children:[o.jsx(Wm,{className:"h-3 w-3 mr-1"}),"Edit"]}),o.jsx(je,{variant:"outline",size:"sm",onClick:()=>M(X.id),className:"text-destructive hover:text-destructive",children:o.jsx(pw,{className:"h-3 w-3"})})]})]})},X.id))})})]})]}),o.jsx(xr,{open:_,onOpenChange:b,children:o.jsxs(or,{children:[o.jsxs(ir,{children:[o.jsx(ar,{children:"Edit Employee"}),o.jsx(yr,{children:"Update employee information."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"edit-name",children:"Name"}),o.jsx(dn,{id:"edit-name",value:P.name,onChange:X=>j({...P,name:X.target.value}),placeholder:"Enter full name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"edit-email",children:"Email"}),o.jsx(dn,{id:"edit-email",type:"email",value:P.email,onChange:X=>j({...P,email:X.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"edit-phone",children:"Phone"}),o.jsx(dn,{id:"edit-phone",type:"tel",value:P.phone,onChange:X=>j({...P,phone:X.target.value}),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"edit-status",children:"Status"}),o.jsxs(vs,{value:P.status,onValueChange:X=>j({...P,status:X}),children:[o.jsx(es,{children:o.jsx(xs,{placeholder:"Select status"})}),o.jsxs(ts,{children:[o.jsx(Jt,{value:"active",children:"Active"}),o.jsx(Jt,{value:"inactive",children:"Inactive"}),o.jsx(Jt,{value:"meeting",children:"In Meeting"})]})]})]})]}),o.jsxs(ua,{children:[o.jsx(je,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),o.jsx(je,{onClick:D,children:"Save Changes"})]})]})})]})}const SL=tu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Yi=v.forwardRef(({className:e,variant:t,...r},a)=>o.jsx("div",{ref:a,role:"alert",className:mt(SL({variant:t}),e),...r}));Yi.displayName="Alert";const jL=v.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:mt("mb-1 font-medium leading-none tracking-tight",e),...t}));jL.displayName="AlertTitle";const Ki=v.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:mt("text-sm [&_p]:leading-relaxed",e),...t}));Ki.displayName="AlertDescription";function EL(){const[e,t]=v.useState(null),[r,a]=v.useState(!0),[c,d]=v.useState(!1),[f,p]=v.useState(null),[g,w]=v.useState(null),[_,b]=v.useState(!1),[S,k]=v.useState(!1);v.useEffect(()=>{P()},[]);const P=async()=>{try{a(!0),w(null);const M=await ut.get("/api/data-status");if(M.ok){const O=await M.json();t(O),console.log("Data status:",O)}else throw new Error(`Failed to fetch data status: ${M.status}`)}catch(M){console.error("Error fetching data status:",M),w(M.message)}finally{a(!1)}},j=async()=>{try{d(!0),p(null),w(null);const M=await ut.post("/api/data-sync",{});if(M.ok){const O=await M.json();p(O),console.log("Sync result:",O),await P()}else throw new Error(`Sync failed: ${M.status} ${M.statusText}`)}catch(M){console.error("Error syncing data:",M),w(M.message)}finally{d(!1)}},C=async()=>{try{b(!0),w(null),k(!1);const M=await ut.post("/api/employees/clear-cache",{});if(M.ok){const O=await M.json();k(!0),console.log("Location cache cleared:",O.message)}else throw new Error(`Cache clear failed: ${M.status} ${M.statusText}`)}catch(M){w(M instanceof Error?M.message:"Failed to clear location cache")}finally{b(!1)}},T=(M,O)=>M===0&&O>0?"text-yellow-600":M>0?"text-green-600":"text-gray-600",D=(M,O)=>M===0&&O>0?o.jsx(Dc,{className:"h-4 w-4 text-yellow-600"}):M>0?o.jsx(Jr,{className:"h-4 w-4 text-green-600"}):o.jsx(nx,{className:"h-4 w-4 text-gray-600"});return r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(fl,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading data status..."})]})})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Data Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Monitor and synchronize MongoDB data storage"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(je,{onClick:P,variant:"outline",disabled:r,children:[o.jsx(fl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(je,{onClick:j,disabled:c,className:"bg-primary hover:bg-primary/90",children:[o.jsx(nx,{className:"h-4 w-4 mr-2"}),c?"Syncing...":"Sync Data"]}),o.jsxs(je,{onClick:C,disabled:_,variant:"outline",className:"border-orange-500 text-orange-600 hover:bg-orange-50",children:[o.jsx(fl,{className:"h-4 w-4 mr-2"}),_?"Clearing...":"Clear Location Cache"]})]})]}),g&&o.jsxs(Yi,{variant:"destructive",children:[o.jsx(Dc,{className:"h-4 w-4"}),o.jsx(Ki,{children:g})]}),f&&o.jsxs(Yi,{className:"border-green-200 bg-green-50",children:[o.jsx(Jr,{className:"h-4 w-4 text-green-600"}),o.jsxs(Ki,{className:"text-green-800",children:[o.jsx("strong",{children:f.message}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsxs("p",{children:[" Meetings in MongoDB: ",f.stats.totalMeetingsInMongoDB]}),o.jsxs("p",{children:[" History in MongoDB: ",f.stats.totalHistoryInMongoDB]}),o.jsxs("p",{children:[" Meetings synced: ",f.stats.meetingsSynced]}),o.jsxs("p",{children:[" History synced: ",f.stats.historySynced]})]})]})]}),S&&o.jsxs(Yi,{className:"border-orange-200 bg-orange-50",children:[o.jsx(Jr,{className:"h-4 w-4 text-orange-600"}),o.jsxs(Ki,{className:"text-orange-800",children:[o.jsx("strong",{children:"Location cache cleared successfully!"}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsx("p",{children:" All employees will now use real GPS location data"}),o.jsx("p",{children:" No more hardcoded cities (Delhi, Mumbai, etc.)"}),o.jsx("p",{children:" Refresh the employee list to see updated locations"})]})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"MongoDB Meetings"}),D(e.mongoDB.meetings,e.inMemory.meetings)]}),o.jsxs(ft,{children:[o.jsx("div",{className:`text-2xl font-bold ${T(e.mongoDB.meetings,e.inMemory.meetings)}`,children:e.mongoDB.meetings}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["In-memory: ",e.inMemory.meetings]})]})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Meeting History"}),o.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.mongoDB.history}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Historical records"})]})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Employees"}),o.jsx(sa,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.mongoDB.employees}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Employee records"})]})]}),o.jsxs(dt,{children:[o.jsxs(Mt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Rt,{className:"text-sm font-medium",children:"Tracking Sessions"}),o.jsx(Ep,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(ft,{children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.mongoDB.trackingSessions}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Location sessions"})]})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsx(Rt,{className:"text-lg",children:"Sample Meeting Data"})}),o.jsx(ft,{children:e.mongoDB.sampleMeeting?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleMeeting.id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),o.jsxs("span",{children:[e.mongoDB.sampleMeeting.employeeId.substring(0,8),"..."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Status:"}),o.jsx(Nt,{variant:"outline",children:e.mongoDB.sampleMeeting.status})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Lead ID:"}),o.jsx("span",{children:e.mongoDB.sampleMeeting.leadId||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Has Details:"}),o.jsx(Nt,{variant:e.mongoDB.sampleMeeting.hasDetails?"default":"secondary",children:e.mongoDB.sampleMeeting.hasDetails?"Yes":"No"})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No meeting data found"})})]}),o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsx(Rt,{className:"text-lg",children:"Sample History Data"})}),o.jsx(ft,{children:e.mongoDB.sampleHistory?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleHistory.id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),o.jsxs("span",{children:[e.mongoDB.sampleHistory.employeeId.substring(0,8),"..."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Customers:"}),o.jsx(Nt,{variant:"outline",children:e.mongoDB.sampleHistory.hasCustomers?"Yes":"No"})]}),o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Discussion:"}),o.jsx("span",{className:"text-xs bg-muted p-2 rounded",children:e.mongoDB.sampleHistory.discussion||"No discussion"})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No history data found"})})]})]}),e&&o.jsxs(dt,{children:[o.jsx(Mt,{children:o.jsx(Rt,{className:"text-lg",children:"Recommendations"})}),o.jsx(ft,{children:o.jsxs("div",{className:"space-y-3",children:[e.mongoDB.meetings===0&&e.inMemory.meetings>0&&o.jsxs(Yi,{className:"border-yellow-200 bg-yellow-50",children:[o.jsx(Dc,{className:"h-4 w-4 text-yellow-600"}),o.jsxs(Ki,{className:"text-yellow-800",children:[o.jsx("strong",{children:"Data Sync Needed:"})," You have ",e.inMemory.meetings,' meetings in memory but none in MongoDB. Click "Sync Data" to fix this.']})]}),e.mongoDB.meetings>e.mongoDB.history&&o.jsxs(Yi,{className:"border-blue-200 bg-blue-50",children:[o.jsx(Dc,{className:"h-4 w-4 text-blue-600"}),o.jsxs(Ki,{className:"text-blue-800",children:[o.jsx("strong",{children:"Missing History:"})," You have more meetings (",e.mongoDB.meetings,") than history entries (",e.mongoDB.history,"). Some meetings might not have been completed with proper details."]})]}),e.mongoDB.meetings>0&&e.mongoDB.history>0&&o.jsxs(Yi,{className:"border-green-200 bg-green-50",children:[o.jsx(Jr,{className:"h-4 w-4 text-green-600"}),o.jsxs(Ki,{className:"text-green-800",children:[o.jsx("strong",{children:"Data Looks Good:"})," Your MongoDB storage is working properly with ",e.mongoDB.meetings," meetings and ",e.mongoDB.history," history entries."]})]})]})})]})]})})}const fo=[{lat:28.6139,lng:77.209,address:"Connaught Place, New Delhi",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"Karol Bagh",timestamp:"2024-01-15T09:15:00.000Z"},{lat:28.6511,lng:77.241,address:"Civil Lines",timestamp:"2024-01-15T09:30:00.000Z"},{lat:28.6785,lng:77.2654,address:"GTB Nagar",timestamp:"2024-01-15T09:45:00.000Z"},{lat:28.7041,lng:77.1025,address:"Rohini",timestamp:"2024-01-15T10:00:00.000Z"},{lat:28.7342,lng:77.0822,address:"Sector 3 Rohini",timestamp:"2024-01-15T10:10:00.000Z"},{lat:28.7503,lng:77.0689,address:"Client Office, Rohini",timestamp:"2024-01-15T10:20:00.000Z"}],Ac=[{lat:28.6139,lng:77.209,address:"Start",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"End",timestamp:"2024-01-15T09:15:00.000Z"}];class uN{constructor(){Ds(this,"results",[])}async runAllTests(){console.log(" Starting Route Tracking Comprehensive Tests"),console.log("=".repeat(60)),await this.testAPIConfiguration(),await this.testDistanceCalculations(),await this.testRouteProcessing(),await this.testRoutingAPIs(),await this.testGPSRouteCreation(),this.displayResults()}async testAPIConfiguration(){console.log(`
 Testing API Configuration...`);const t=Wp();P0(),console.log(`Current API: ${t.type} - ${t.description}`),console.log(`Has paid keys: ${t.hasKey}`),this.results.push({test:"API Configuration",status:" Pass",details:`Using ${t.type} API`,recommendation:t.hasKey?"Good to go!":"Consider upgrading to paid API for better reliability"})}async testDistanceCalculations(){console.log(`
 Testing Distance Calculations...`);const t=fo[0],r=fo[fo.length-1],a=this.calculateStraightLineDistance(t,r);console.log(`Straight-line distance: ${(a/1e3).toFixed(2)} km`);const c=Qr.createGPSRoute(fo);console.log(`GPS route distance: ${(c.distance/1e3).toFixed(2)} km`),console.log(`GPS route confidence: ${c.confidence}`);const d=c.distance>a&&c.distance<a*2;this.results.push({test:"Distance Calculations",status:d?" Pass":" Warning",details:`GPS: ${(c.distance/1e3).toFixed(2)}km, Straight: ${(a/1e3).toFixed(2)}km`,recommendation:d?"Distance calculations look correct":"GPS distance seems unrealistic"})}async testRouteProcessing(){console.log(`
 Testing Route Processing...`);const t=await Qr.getRouteForPoints(fo);console.log(`Processed route coordinates: ${t.coordinates.length}`),console.log(`Total distance: ${(t.totalDistance/1e3).toFixed(2)} km`),console.log(`Route source: ${t.source}`),console.log(`Route confidence: ${t.confidence}`);const r=t.totalDistance>0,a=t.coordinates.length>=2;this.results.push({test:"Route Processing",status:r&&a?" Pass":" Fail",details:`${t.coordinates.length} coords, ${(t.totalDistance/1e3).toFixed(2)}km`,recommendation:r?"Route processing working correctly":"Route processing needs fixing"})}async testRoutingAPIs(){console.log(`
 Testing Routing APIs...`);const t=Ac[0],r=Ac[1];try{const a=await Qr.getRoute(t,r);console.log(`API route source: ${a.source}`),console.log(`API route confidence: ${a.confidence}`),console.log(`API route distance: ${(a.distance/1e3).toFixed(2)} km`),console.log(`API route coordinates: ${a.coordinates.length}`);const c=a.coordinates.length>=2&&a.distance>0;this.results.push({test:"Routing APIs",status:c?" Pass":" Warning",details:`${a.source} source, ${a.confidence} confidence`,recommendation:a.source==="road-api"?"APIs working well":"APIs limited, consider paid service"})}catch(a){console.error("API routing failed:",a),this.results.push({test:"Routing APIs",status:" Fail",details:`Error: ${a.message}`,recommendation:"APIs not working, need paid service or fix"})}}async testGPSRouteCreation(){console.log(`
 Testing GPS Route Creation...`);const t=[{points:fo.slice(0,1),name:"Single point"},{points:fo.slice(0,2),name:"Two points"},{points:fo.slice(0,4),name:"Four points"},{points:fo,name:"Full route"}];for(const r of t){const a=Qr.createGPSRoute(r.points);console.log(`${r.name}: ${(a.distance/1e3).toFixed(2)}km, ${a.confidence} confidence`)}this.results.push({test:"GPS Route Creation",status:" Pass",details:"All point counts handled correctly",recommendation:"GPS route creation working properly"})}calculateStraightLineDistance(t,r){const c=t.lat*Math.PI/180,d=r.lat*Math.PI/180,f=(r.lat-t.lat)*Math.PI/180,p=(t.lng-r.lng)*Math.PI/180,g=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))}displayResults(){console.log(`
`+"=".repeat(60)),console.log(" TEST RESULTS SUMMARY"),console.log("=".repeat(60)),this.results.forEach((c,d)=>{console.log(`
${d+1}. ${c.test}`),console.log(`   Status: ${c.status}`),console.log(`   Details: ${c.details}`),console.log(`    ${c.recommendation}`)});const t=this.results.filter(c=>c.status.includes("")).length,r=this.results.filter(c=>c.status.includes("")).length,a=this.results.filter(c=>c.status.includes("")).length;console.log(`
`+"=".repeat(60)),console.log(` OVERALL RESULTS: ${t} Pass, ${r} Warning, ${a} Fail`),a>0?(console.log(`
 CRITICAL ISSUES FOUND - Route tracking may not work properly`),console.log("   Recommend using a paid API service for reliable routing")):r>0?(console.log(`
 SOME LIMITATIONS DETECTED - Route tracking working but could be improved`),console.log("   Consider upgrading to a paid API for better accuracy")):console.log(`
 ALL TESTS PASSED - Route tracking should work well!`),console.log(`
 API UPGRADE OPTIONS:`),console.log("    OpenRouteService: 2.99/month for 2000 requests/day"),console.log("    MapBox: Free 50k/month then pay-per-use"),console.log("    Google Maps: Enterprise-grade accuracy (requires billing)"),console.log(`
 TO ENABLE PAID APIs:`),console.log("   Add to your .env file:"),console.log("   VITE_OPENROUTESERVICE_API_KEY=your_key_here"),console.log("   VITE_MAPBOX_API_KEY=your_key_here"),console.log("   VITE_GOOGLE_MAPS_API_KEY=your_key_here")}async quickTest(){console.log(" Running Quick Route Tracking Test...");try{const t=Qr.createGPSRoute(Ac),r=t.distance>0,a=await Qr.getRoute(Ac[0],Ac[1]),c=a.coordinates.length>=2,d=r&&c;return console.log(` Quick test ${d?"PASSED":"FAILED"}`),console.log(`   GPS distance: ${(t.distance/1e3).toFixed(2)}km`),console.log(`   API source: ${a.source}, confidence: ${a.confidence}`),d}catch(t){return console.error(" Quick test FAILED:",t.message),!1}}}const CL=new uN,PL=()=>CL.quickTest();function TL(){const[e,t]=v.useState(!1),[r,a]=v.useState(!1),[c,d]=v.useState(null),[f,p]=v.useState([]),g=Wp(),w=P0(),_=async()=>{t(!0),p([]);const S=console.log,k=[];console.log=(...P)=>{k.push(P.join(" ")),S(...P)};try{const P=await PL();d(P),p(k)}catch(P){d(!1),p([...k,`Error: ${P.message}`])}finally{console.log=S,t(!1)}},b=async()=>{a(!0),p([]);const S=console.log,k=[];console.log=(...P)=>{k.push(P.join(" ")),S(...P)};try{await new uN().runAllTests(),p(k)}catch(P){p([...k,`Error: ${P.message}`])}finally{console.log=S,a(!1)}};return o.jsxs(dt,{className:"w-full max-w-4xl mx-auto",children:[o.jsxs(Mt,{children:[o.jsxs(Rt,{className:"flex items-center gap-2",children:[o.jsx(mw,{className:"h-5 w-5"}),"Route Tracking Test Panel"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality after the fixes"})]}),o.jsxs(ft,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(eS,{className:"h-4 w-4"}),"API Configuration"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Current API"}),o.jsx(Nt,{variant:g.hasKey?"default":"secondary",children:g.type.toUpperCase()})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"API Status"}),o.jsx(Nt,{variant:g.hasKey?"default":"destructive",children:g.hasKey?"Configured":"Free Tier"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:g.hasKey?"Using configured API key":"Using free public APIs (limited)"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(J1,{className:"h-4 w-4"}),"Run Tests"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{onClick:_,disabled:e,className:"w-full",variant:"outline",children:e?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Running..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sr,{className:"h-4 w-4"}),"Quick Test"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tests basic distance calculation and API routing (~30 seconds)"}),c!==null&&o.jsx("div",{className:"flex items-center gap-2 mt-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx(Jr,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"text-sm text-green-700",children:"Test Passed"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Y1,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"text-sm text-red-700",children:"Test Failed"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(je,{onClick:b,disabled:r,className:"w-full",children:r?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Running..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ra,{className:"h-4 w-4"}),"Full Test Suite"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive testing of all route tracking features (~2 minutes)"})]})]})]}),f.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Test Output"}),o.jsx("div",{className:"p-4 bg-muted rounded-lg max-h-96 overflow-y-auto",children:o.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap",children:f.join(`
`)})})]}),!g.hasKey&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Dc,{className:"h-4 w-4"}),"Recommendations"]}),o.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[o.jsx("p",{className:"text-sm mb-3",children:"You're using free APIs which may be limited. For better reliability:"}),o.jsx("div",{className:"space-y-2",children:w.recommendations.filter(S=>S.recommended).map((S,k)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("strong",{children:[S.service,":"]})," ",S.freeLimit," free, ",S.paidOptions,o.jsx("br",{}),o.jsx("code",{className:"text-xs bg-gray-100 px-1 rounded",children:S.setup})]},k))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(hw,{className:"h-4 w-4"}),"Issues Fixed"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Distance Calculation"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Fixed 0 distance showing for 40km routes"}),o.jsx("li",{children:" Improved GPS point filtering (5m instead of 8m)"}),o.jsx("li",{children:" Better distance accumulation logic"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Route Visualization"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:' Fixed "Not enough points" error'}),o.jsx("li",{children:" Simplified route display logic"}),o.jsx("li",{children:" Better fallback for single GPS points"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" API Reliability"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Added timeout handling"}),o.jsx("li",{children:" Improved error handling"}),o.jsx("li",{children:" Better fallback strategies"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Performance"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Reduced API calls for long routes"}),o.jsx("li",{children:" Better caching strategies"}),o.jsx("li",{children:" More efficient GPS processing"})]})]})]})]})]})]})}function kL(){return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(je,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(zs,{to:"/dashboard",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Route Tracking Test"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsx(TL,{})})]})}const ML=()=>{const e=iu();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};class Fc extends Error{}Fc.prototype.name="InvalidTokenError";function RL(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let a=r.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}function LL(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return RL(t)}catch{return atob(t)}}function AL(e,t){if(typeof e!="string")throw new Fc("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,a=e.split(".")[r];if(typeof a!="string")throw new Fc(`Invalid token specified: missing part #${r+1}`);let c;try{c=LL(a)}catch(d){throw new Fc(`Invalid token specified: invalid base64 for part #${r+1} (${d.message})`)}try{return JSON.parse(c)}catch(d){throw new Fc(`Invalid token specified: invalid json for part #${r+1} (${d.message})`)}}const DL=()=>{console.log(" Testing GPS routing functionality...");const e=[{lat:40.7128,lng:-74.006,address:"Start Location",timestamp:"2024-01-01T10:00:00Z"},{lat:40.713,lng:-74.0058,address:"Point 1",timestamp:"2024-01-01T10:01:00Z"},{lat:40.7135,lng:-74.0055,address:"Point 2",timestamp:"2024-01-01T10:02:00Z"},{lat:40.714,lng:-74.005,address:"Point 3",timestamp:"2024-01-01T10:03:00Z"},{lat:40.7145,lng:-74.0045,address:"End Location",timestamp:"2024-01-01T10:04:00Z"}],t=Qr.createGPSRoute(e);console.log(" GPS Route Result:",{source:t.source,confidence:t.confidence,coordinateCount:t.coordinates.length,distance:`${(t.distance/1e3).toFixed(2)} km`,duration:`${Math.round(t.duration)} seconds`}),console.log(" Testing edge cases...");const r=Qr.createGPSRoute([]);console.log("Empty route:",r);const a=Qr.createGPSRoute([e[0]]);return console.log("Single point route:",a),t},OL=()=>{console.log(`
 ROUTING COMPARISON:

 GPS TRACKING (RECOMMENDED):
-  Shows EXACT path taken by employee
-  High accuracy with real GPS coordinates
-  No dependency on external APIs
-  Works offline
-  Captures actual employee behavior

 ROAD API ROUTING:
-  Shows theoretical road-based route
-  May not match actual employee path
-  Depends on external services (OSRM/ORS)
-  Can fail due to network/API issues
-  Limited accuracy for tracking purposes

 STRAIGHT LINE FALLBACK:
-  Shows direct line between points
-  Ignores roads, buildings, obstacles
-  Very poor accuracy for tracking
-  Only useful as last resort
-  Does not represent actual route
  `)};ut.init();window.addEventListener("unhandledrejection",e=>{var t;((t=e.reason)==null?void 0:t.name)==="AbortError"&&(console.warn("Caught unhandled AbortError:",e.reason.message),e.preventDefault()),e.reason instanceof TypeError&&(e.reason.message.includes("fetch")||e.reason.message.includes("Failed to fetch"))&&(console.warn("Caught FullStory fetch interference:",e.reason.message),ut.forceXHRMode(),e.preventDefault())});if(typeof window<"u"){const e=window.fetch.toString();(e.includes("eval")||e.includes("fullstory")||e.length<50||window.FS)&&console.warn("FullStory detected on page load - HttpClient will use XMLHttpRequest on fetch failures")}const IL=new _C({defaultOptions:{queries:{retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4)}}}),FL=()=>(v.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("token");if(t)try{const r=AL(t);localStorage.setItem("idToken",t),localStorage.setItem("user",JSON.stringify(r)),console.log("Authenticated user:",r),window.history.replaceState({},document.title,window.location.pathname)}catch(r){console.error("Invalid token:",r)}console.log(" Initializing GPS routing system..."),DL(),OL()},[]),o.jsx(NC,{client:IL,children:o.jsxs(JE,{children:[o.jsx(FS,{}),o.jsx(pj,{}),o.jsx(_P,{children:o.jsxs(mP,{children:[o.jsx(ni,{path:"/",element:o.jsx(TM,{})}),o.jsx(ni,{path:"/dashboard",element:o.jsx(LM,{})}),o.jsx(ni,{path:"/tracking/:employeeId",element:o.jsx(bL,{})}),o.jsx(ni,{path:"/team-management",element:o.jsx(NL,{})}),o.jsx(ni,{path:"/data-management",element:o.jsx(EL,{})}),o.jsx(ni,{path:"/route-test",element:o.jsx(kL,{})}),o.jsx(ni,{path:"*",element:o.jsx(ML,{})})]})})]})}));zS.createRoot(document.getElementById("root")).render(o.jsx(FL,{}));
