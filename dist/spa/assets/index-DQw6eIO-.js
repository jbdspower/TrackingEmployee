var L1=Object.defineProperty;var Dv=e=>{throw TypeError(e)};var D1=(e,t,s)=>t in e?L1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Es=(e,t,s)=>D1(e,typeof t!="symbol"?t+"":t,s),im=(e,t,s)=>t.has(e)||Dv("Cannot "+s);var xe=(e,t,s)=>(im(e,t,"read from private field"),s?s.call(e):t.get(e)),$t=(e,t,s)=>t.has(e)?Dv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),jt=(e,t,s,a)=>(im(e,t,"write to private field"),a?a.call(e,s):t.set(e,s),s),Un=(e,t,s)=>(im(e,t,"access private method"),s);var wd=(e,t,s,a)=>({set _(c){jt(e,t,c,s)},get _(){return xe(e,t,a)}});function A1(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function pp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var am={exports:{}},wc={},lm={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function O1(){if(Av)return Ct;Av=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function C(z,X,ye){this.props=z,this.context=X,this.refs=j,this.updater=ye||T}C.prototype.isReactComponent={},C.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=C.prototype;function O(z,X,ye){this.props=z,this.context=X,this.refs=j,this.updater=ye||T}var M=O.prototype=new k;M.constructor=O,P(M,C.prototype),M.isPureReactComponent=!0;var I=Array.isArray,$=Object.prototype.hasOwnProperty,Z={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function ie(z,X,ye){var Ee,we={},Y=null,A=null;if(X!=null)for(Ee in X.ref!==void 0&&(A=X.ref),X.key!==void 0&&(Y=""+X.key),X)$.call(X,Ee)&&!F.hasOwnProperty(Ee)&&(we[Ee]=X[Ee]);var V=arguments.length-2;if(V===1)we.children=ye;else if(1<V){for(var te=Array(V),ge=0;ge<V;ge++)te[ge]=arguments[ge+2];we.children=te}if(z&&z.defaultProps)for(Ee in V=z.defaultProps,V)we[Ee]===void 0&&(we[Ee]=V[Ee]);return{$$typeof:e,type:z,key:Y,ref:A,props:we,_owner:Z.current}}function ce(z,X){return{$$typeof:e,type:z.type,key:X,ref:z.ref,props:z.props,_owner:z._owner}}function q(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function ne(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ye){return X[ye]})}var he=/\/+/g;function Pe(z,X){return typeof z=="object"&&z!==null&&z.key!=null?ne(""+z.key):X.toString(36)}function K(z,X,ye,Ee,we){var Y=typeof z;(Y==="undefined"||Y==="boolean")&&(z=null);var A=!1;if(z===null)A=!0;else switch(Y){case"string":case"number":A=!0;break;case"object":switch(z.$$typeof){case e:case t:A=!0}}if(A)return A=z,we=we(A),z=Ee===""?"."+Pe(A,0):Ee,I(we)?(ye="",z!=null&&(ye=z.replace(he,"$&/")+"/"),K(we,X,ye,"",function(ge){return ge})):we!=null&&(q(we)&&(we=ce(we,ye+(!we.key||A&&A.key===we.key?"":(""+we.key).replace(he,"$&/")+"/")+z)),X.push(we)),1;if(A=0,Ee=Ee===""?".":Ee+":",I(z))for(var V=0;V<z.length;V++){Y=z[V];var te=Ee+Pe(Y,V);A+=K(Y,X,ye,te,we)}else if(te=S(z),typeof te=="function")for(z=te.call(z),V=0;!(Y=z.next()).done;)Y=Y.value,te=Ee+Pe(Y,V++),A+=K(Y,X,ye,te,we);else if(Y==="object")throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return A}function J(z,X,ye){if(z==null)return z;var Ee=[],we=0;return K(z,Ee,"","",function(Y){return X.call(ye,Y,we++)}),Ee}function ee(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(ye){(z._status===0||z._status===-1)&&(z._status=1,z._result=ye)},function(ye){(z._status===0||z._status===-1)&&(z._status=2,z._result=ye)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var pe={current:null},U={transition:null},de={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:U,ReactCurrentOwner:Z};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ct.Children={map:J,forEach:function(z,X,ye){J(z,function(){X.apply(this,arguments)},ye)},count:function(z){var X=0;return J(z,function(){X++}),X},toArray:function(z){return J(z,function(X){return X})||[]},only:function(z){if(!q(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ct.Component=C,Ct.Fragment=s,Ct.Profiler=c,Ct.PureComponent=O,Ct.StrictMode=a,Ct.Suspense=g,Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ct.act=ae,Ct.cloneElement=function(z,X,ye){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ee=P({},z.props),we=z.key,Y=z.ref,A=z._owner;if(X!=null){if(X.ref!==void 0&&(Y=X.ref,A=Z.current),X.key!==void 0&&(we=""+X.key),z.type&&z.type.defaultProps)var V=z.type.defaultProps;for(te in X)$.call(X,te)&&!F.hasOwnProperty(te)&&(Ee[te]=X[te]===void 0&&V!==void 0?V[te]:X[te])}var te=arguments.length-2;if(te===1)Ee.children=ye;else if(1<te){V=Array(te);for(var ge=0;ge<te;ge++)V[ge]=arguments[ge+2];Ee.children=V}return{$$typeof:e,type:z.type,key:we,ref:Y,props:Ee,_owner:A}},Ct.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:d,_context:z},z.Consumer=z},Ct.createElement=ie,Ct.createFactory=function(z){var X=ie.bind(null,z);return X.type=z,X},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(z){return{$$typeof:p,render:z}},Ct.isValidElement=q,Ct.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:ee}},Ct.memo=function(z,X){return{$$typeof:w,type:z,compare:X===void 0?null:X}},Ct.startTransition=function(z){var X=U.transition;U.transition={};try{z()}finally{U.transition=X}},Ct.unstable_act=ae,Ct.useCallback=function(z,X){return pe.current.useCallback(z,X)},Ct.useContext=function(z){return pe.current.useContext(z)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(z){return pe.current.useDeferredValue(z)},Ct.useEffect=function(z,X){return pe.current.useEffect(z,X)},Ct.useId=function(){return pe.current.useId()},Ct.useImperativeHandle=function(z,X,ye){return pe.current.useImperativeHandle(z,X,ye)},Ct.useInsertionEffect=function(z,X){return pe.current.useInsertionEffect(z,X)},Ct.useLayoutEffect=function(z,X){return pe.current.useLayoutEffect(z,X)},Ct.useMemo=function(z,X){return pe.current.useMemo(z,X)},Ct.useReducer=function(z,X,ye){return pe.current.useReducer(z,X,ye)},Ct.useRef=function(z){return pe.current.useRef(z)},Ct.useState=function(z){return pe.current.useState(z)},Ct.useSyncExternalStore=function(z,X,ye){return pe.current.useSyncExternalStore(z,X,ye)},Ct.useTransition=function(){return pe.current.useTransition()},Ct.version="18.3.1",Ct}var Ov;function gp(){return Ov||(Ov=1,lm.exports=O1()),lm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function I1(){if(Iv)return wc;Iv=1;var e=gp(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,w){var _,b={},S=null,T=null;w!==void 0&&(S=""+w),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(T=g.ref);for(_ in g)a.call(g,_)&&!d.hasOwnProperty(_)&&(b[_]=g[_]);if(p&&p.defaultProps)for(_ in g=p.defaultProps,g)b[_]===void 0&&(b[_]=g[_]);return{$$typeof:t,type:p,key:S,ref:T,props:b,_owner:c.current}}return wc.Fragment=s,wc.jsx=f,wc.jsxs=f,wc}var Fv;function F1(){return Fv||(Fv=1,am.exports=I1()),am.exports}var i=F1(),v=gp();const Re=pp(v),by=A1({__proto__:null,default:Re},[v]),z1=1,$1=1e6;let cm=0;function B1(){return cm=(cm+1)%Number.MAX_SAFE_INTEGER,cm.toString()}const um=new Map,zv=e=>{if(um.has(e))return;const t=setTimeout(()=>{um.delete(e),Ac({type:"REMOVE_TOAST",toastId:e})},$1);um.set(e,t)},U1=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,z1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?zv(s):e.toasts.forEach(a=>{zv(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Od=[];let Id={toasts:[]};function Ac(e){Id=U1(Id,e),Od.forEach(t=>{t(Id)})}function Ps({...e}){const t=B1(),s=c=>Ac({type:"UPDATE_TOAST",toast:{...c,id:t}}),a=()=>Ac({type:"DISMISS_TOAST",toastId:t});return Ac({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:c=>{c||a()}}}),{id:t,dismiss:a,update:s}}function _l(){const[e,t]=v.useState(Id);return v.useEffect(()=>(Od.push(t),()=>{const s=Od.indexOf(t);s>-1&&Od.splice(s,1)}),[e]),{...e,toast:Ps,dismiss:s=>Ac({type:"DISMISS_TOAST",toastId:s})}}var dm={exports:{}},ar={},fm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function H1(){return $v||($v=1,function(e){function t(U,de){var ae=U.length;U.push(de);e:for(;0<ae;){var z=ae-1>>>1,X=U[z];if(0<c(X,de))U[z]=de,U[ae]=X,ae=z;else break e}}function s(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var de=U[0],ae=U.pop();if(ae!==de){U[0]=ae;e:for(var z=0,X=U.length,ye=X>>>1;z<ye;){var Ee=2*(z+1)-1,we=U[Ee],Y=Ee+1,A=U[Y];if(0>c(we,ae))Y<X&&0>c(A,we)?(U[z]=A,U[Y]=ae,z=Y):(U[z]=we,U[Ee]=ae,z=Ee);else if(Y<X&&0>c(A,ae))U[z]=A,U[Y]=ae,z=Y;else break e}}return de}function c(U,de){var ae=U.sortIndex-de.sortIndex;return ae!==0?ae:U.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var g=[],w=[],_=1,b=null,S=3,T=!1,P=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(U){for(var de=s(w);de!==null;){if(de.callback===null)a(w);else if(de.startTime<=U)a(w),de.sortIndex=de.expirationTime,t(g,de);else break;de=s(w)}}function I(U){if(j=!1,M(U),!P)if(s(g)!==null)P=!0,ee($);else{var de=s(w);de!==null&&pe(I,de.startTime-U)}}function $(U,de){P=!1,j&&(j=!1,k(ie),ie=-1),T=!0;var ae=S;try{for(M(de),b=s(g);b!==null&&(!(b.expirationTime>de)||U&&!ne());){var z=b.callback;if(typeof z=="function"){b.callback=null,S=b.priorityLevel;var X=z(b.expirationTime<=de);de=e.unstable_now(),typeof X=="function"?b.callback=X:b===s(g)&&a(g),M(de)}else a(g);b=s(g)}if(b!==null)var ye=!0;else{var Ee=s(w);Ee!==null&&pe(I,Ee.startTime-de),ye=!1}return ye}finally{b=null,S=ae,T=!1}}var Z=!1,F=null,ie=-1,ce=5,q=-1;function ne(){return!(e.unstable_now()-q<ce)}function he(){if(F!==null){var U=e.unstable_now();q=U;var de=!0;try{de=F(!0,U)}finally{de?Pe():(Z=!1,F=null)}}else Z=!1}var Pe;if(typeof O=="function")Pe=function(){O(he)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=he,Pe=function(){J.postMessage(null)}}else Pe=function(){C(he,0)};function ee(U){F=U,Z||(Z=!0,Pe())}function pe(U,de){ie=C(function(){U(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){P||T||(P=!0,ee($))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return s(g)},e.unstable_next=function(U){switch(S){case 1:case 2:case 3:var de=3;break;default:de=S}var ae=S;S=de;try{return U()}finally{S=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,de){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=S;S=U;try{return de()}finally{S=ae}},e.unstable_scheduleCallback=function(U,de,ae){var z=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?z+ae:z):ae=z,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ae+X,U={id:_++,callback:de,priorityLevel:U,startTime:ae,expirationTime:X,sortIndex:-1},ae>z?(U.sortIndex=ae,t(w,U),s(g)===null&&U===s(w)&&(j?(k(ie),ie=-1):j=!0,pe(I,ae-z))):(U.sortIndex=X,t(g,U),P||T||(P=!0,ee($))),U},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(U){var de=S;return function(){var ae=S;S=de;try{return U.apply(this,arguments)}finally{S=ae}}}}(hm)),hm}var Bv;function W1(){return Bv||(Bv=1,fm.exports=H1()),fm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function V1(){if(Uv)return ar;Uv=1;var e=gp(),t=W1();function s(n){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(n,o){f(n,o),f(n+"Capture",o)}function f(n,o){for(c[n]=o,n=0;n<o.length;n++)a.add(o[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},b={};function S(n){return g.call(b,n)?!0:g.call(_,n)?!1:w.test(n)?b[n]=!0:(_[n]=!0,!1)}function T(n,o,u,m){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,o,u,m){if(o===null||typeof o>"u"||T(n,o,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(n,o,u,m,y,N,R){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=n,this.type=o,this.sanitizeURL=N,this.removeEmptyString=R}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var o=n[0];C[o]=new j(o,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function O(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var o=n.replace(k,O);C[o]=new j(o,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var o=n.replace(k,O);C[o]=new j(o,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var o=n.replace(k,O);C[o]=new j(o,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function M(n,o,u,m){var y=C.hasOwnProperty(o)?C[o]:null;(y!==null?y.type!==0:m||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,y,m)&&(u=null),m||y===null?S(o)&&(u===null?n.removeAttribute(o):n.setAttribute(o,""+u)):y.mustUseProperty?n[y.propertyName]=u===null?y.type===3?!1:"":u:(o=y.attributeName,m=y.attributeNamespace,u===null?n.removeAttribute(o):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?n.setAttributeNS(m,o,u):n.setAttribute(o,u))))}var I=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),Z=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),ne=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),U=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var ae=Object.assign,z;function X(n){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+n}var ye=!1;function Ee(n,o){if(!n||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(fe){var m=fe}Reflect.construct(n,[],o)}else{try{o.call()}catch(fe){m=fe}n.call(o.prototype)}else{try{throw Error()}catch(fe){m=fe}n()}}catch(fe){if(fe&&m&&typeof fe.stack=="string"){for(var y=fe.stack.split(`
`),N=m.stack.split(`
`),R=y.length-1,B=N.length-1;1<=R&&0<=B&&y[R]!==N[B];)B--;for(;1<=R&&0<=B;R--,B--)if(y[R]!==N[B]){if(R!==1||B!==1)do if(R--,B--,0>B||y[R]!==N[B]){var W=`
`+y[R].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=R&&0<=B);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?X(n):""}function we(n){switch(n.tag){case 5:return X(n.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return n=Ee(n.type,!1),n;case 11:return n=Ee(n.type.render,!1),n;case 1:return n=Ee(n.type,!0),n;default:return""}}function Y(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case F:return"Fragment";case Z:return"Portal";case ce:return"Profiler";case ie:return"StrictMode";case Pe:return"Suspense";case K:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ne:return(n.displayName||"Context")+".Consumer";case q:return(n._context.displayName||"Context")+".Provider";case he:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case J:return o=n.displayName||null,o!==null?o:Y(n.type)||"Memo";case ee:o=n._payload,n=n._init;try{return Y(n(o))}catch{}}return null}function A(n){var o=n.type;switch(n.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=o.render,n=n.displayName||n.name||"",o.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(o);case 8:return o===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function V(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function te(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ge(n){var o=te(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,o),m=""+n[o];if(!n.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,N=u.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return y.call(this)},set:function(R){m=""+R,N.call(this,R)}}),Object.defineProperty(n,o,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function Le(n){n._valueTracker||(n._valueTracker=ge(n))}function Ae(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var u=o.getValue(),m="";return n&&(m=te(n)?n.checked?"true":"false":n.value),n=m,n!==u?(o.setValue(n),!0):!1}function Ge(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gt(n,o){var u=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function Ft(n,o){var u=o.defaultValue==null?"":o.defaultValue,m=o.checked!=null?o.checked:o.defaultChecked;u=V(o.value!=null?o.value:u),n._wrapperState={initialChecked:m,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ht(n,o){o=o.checked,o!=null&&M(n,"checked",o,!1)}function It(n,o){ht(n,o);var u=V(o.value),m=o.type;if(u!=null)m==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}o.hasOwnProperty("value")?ft(n,o.type,u):o.hasOwnProperty("defaultValue")&&ft(n,o.type,V(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(n.defaultChecked=!!o.defaultChecked)}function At(n,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var m=o.type;if(!(m!=="submit"&&m!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+n._wrapperState.initialValue,u||o===n.value||(n.value=o),n.defaultValue=o}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function ft(n,o,u){(o!=="number"||Ge(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var Oe=Array.isArray;function Nt(n,o,u,m){if(n=n.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<n.length;u++)y=o.hasOwnProperty("$"+n[u].value),n[u].selected!==y&&(n[u].selected=y),y&&m&&(n[u].defaultSelected=!0)}else{for(u=""+V(u),o=null,y=0;y<n.length;y++){if(n[y].value===u){n[y].selected=!0,m&&(n[y].defaultSelected=!0);return}o!==null||n[y].disabled||(o=n[y])}o!==null&&(o.selected=!0)}}function St(n,o){if(o.dangerouslySetInnerHTML!=null)throw Error(s(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ut(n,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(s(92));if(Oe(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),u=o}n._wrapperState={initialValue:V(u)}}function Mn(n,o){var u=V(o.value),m=V(o.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),o.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),m!=null&&(n.defaultValue=""+m)}function En(n){var o=n.textContent;o===n._wrapperState.initialValue&&o!==""&&o!==null&&(n.value=o)}function Ht(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mn(n,o){return n==null||n==="http://www.w3.org/1999/xhtml"?Ht(o):n==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var wn,Cn=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,m,y){MSApp.execUnsafeLocalFunction(function(){return n(o,u,m,y)})}:n}(function(n,o){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=o;else{for(wn=wn||document.createElement("div"),wn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=wn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;o.firstChild;)n.appendChild(o.firstChild)}});function Q(n,o){if(o){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=o;return}}n.textContent=o}var be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Be=["Webkit","ms","Moz","O"];Object.keys(be).forEach(function(n){Be.forEach(function(o){o=o+n.charAt(0).toUpperCase()+n.substring(1),be[o]=be[n]})});function Ve(n,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||be.hasOwnProperty(n)&&be[n]?(""+o).trim():o+"px"}function st(n,o){n=n.style;for(var u in o)if(o.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=Ve(u,o[u],m);u==="float"&&(u="cssFloat"),m?n.setProperty(u,y):n[u]=y}}var $e=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Me(n,o){if(o){if($e[n]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(s(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(s(61))}if(o.style!=null&&typeof o.style!="object")throw Error(s(62))}}function Ye(n,o){if(n.indexOf("-")===-1)return typeof o.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var se=null;function ve(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Te=null,De=null,Ie=null;function Lt(n){if(n=Ys(n)){if(typeof Te!="function")throw Error(s(280));var o=n.stateNode;o&&(o=Oa(o),Te(n.stateNode,n.type,o))}}function Ke(n){De?Ie?Ie.push(n):Ie=[n]:De=n}function vt(){if(De){var n=De,o=Ie;if(Ie=De=null,Lt(n),o)for(n=0;n<o.length;n++)Lt(o[n])}}function Pt(n,o){return n(o)}function Yt(){}var Gr=!1;function ua(n,o,u){if(Gr)return n(o,u);Gr=!0;try{return Pt(n,o,u)}finally{Gr=!1,(De!==null||Ie!==null)&&(Yt(),vt())}}function pi(n,o){var u=n.stateNode;if(u===null)return null;var m=Oa(u);if(m===null)return null;u=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(s(231,o,typeof u));return u}var kl=!1;if(p)try{var gi={};Object.defineProperty(gi,"passive",{get:function(){kl=!0}}),window.addEventListener("test",gi,gi),window.removeEventListener("test",gi,gi)}catch{kl=!1}function If(n,o,u,m,y,N,R,B,W){var fe=Array.prototype.slice.call(arguments,3);try{o.apply(u,fe)}catch(je){this.onError(je)}}var Dn=!1,Ze=null,vi=!1,da=null,au={onError:function(n){Dn=!0,Ze=n}};function lu(n,o,u,m,y,N,R,B,W){Dn=!1,Ze=null,If.apply(au,arguments)}function Ml(n,o,u,m,y,N,R,B,W){if(lu.apply(this,arguments),Dn){if(Dn){var fe=Ze;Dn=!1,Ze=null}else throw Error(s(198));vi||(vi=!0,da=fe)}}function ms(n){var o=n,u=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(u=o.return),n=o.return;while(n)}return o.tag===3?u:null}function Fs(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function Rl(n){if(ms(n)!==n)throw Error(s(188))}function Ff(n){var o=n.alternate;if(!o){if(o=ms(n),o===null)throw Error(s(188));return o!==n?null:n}for(var u=n,m=o;;){var y=u.return;if(y===null)break;var N=y.alternate;if(N===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===u)return Rl(y),n;if(N===m)return Rl(y),o;N=N.sibling}throw Error(s(188))}if(u.return!==m.return)u=y,m=N;else{for(var R=!1,B=y.child;B;){if(B===u){R=!0,u=y,m=N;break}if(B===m){R=!0,m=y,u=N;break}B=B.sibling}if(!R){for(B=N.child;B;){if(B===u){R=!0,u=N,m=y;break}if(B===m){R=!0,m=N,u=y;break}B=B.sibling}if(!R)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?n:o}function cu(n){return n=Ff(n),n!==null?uu(n):null}function uu(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var o=uu(n);if(o!==null)return o;n=n.sibling}return null}var du=t.unstable_scheduleCallback,Ll=t.unstable_cancelCallback,zf=t.unstable_shouldYield,fa=t.unstable_requestPaint,nn=t.unstable_now,$f=t.unstable_getCurrentPriorityLevel,Dl=t.unstable_ImmediatePriority,fu=t.unstable_UserBlockingPriority,ha=t.unstable_NormalPriority,Al=t.unstable_LowPriority,mo=t.unstable_IdlePriority,xi=null,pr=null;function yi(n){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(xi,n,void 0,(n.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:po,Kt=Math.log,ma=Math.LN2;function po(n){return n>>>=0,n===0?32:31-(Kt(n)/ma|0)|0}var Yr=64,go=4194304;function lt(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function qt(n,o){var u=n.pendingLanes;if(u===0)return 0;var m=0,y=n.suspendedLanes,N=n.pingedLanes,R=u&268435455;if(R!==0){var B=R&~y;B!==0?m=lt(B):(N&=R,N!==0&&(m=lt(N)))}else R=u&~y,R!==0?m=lt(R):N!==0&&(m=lt(N));if(m===0)return 0;if(o!==0&&o!==m&&(o&y)===0&&(y=m&-m,N=o&-o,y>=N||y===16&&(N&4194240)!==0))return o;if((m&4)!==0&&(m|=u&16),o=n.entangledLanes,o!==0)for(n=n.entanglements,o&=m;0<o;)u=31-ut(o),y=1<<u,m|=n[u],o&=~y;return m}function Ol(n,o){switch(n){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pa(n,o){for(var u=n.suspendedLanes,m=n.pingedLanes,y=n.expirationTimes,N=n.pendingLanes;0<N;){var R=31-ut(N),B=1<<R,W=y[R];W===-1?((B&u)===0||(B&m)!==0)&&(y[R]=Ol(B,o)):W<=o&&(n.expiredLanes|=B),N&=~B}}function An(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function hu(){var n=Yr;return Yr<<=1,(Yr&4194240)===0&&(Yr=64),n}function vo(n){for(var o=[],u=0;31>u;u++)o.push(n);return o}function gr(n,o,u){n.pendingLanes|=o,o!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,o=31-ut(o),n[o]=u}function cn(n,o){var u=n.pendingLanes&~o;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=o,n.mutableReadLanes&=o,n.entangledLanes&=o,o=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<u;){var y=31-ut(u),N=1<<y;o[y]=0,m[y]=-1,n[y]=-1,u&=~N}}function Kr(n,o){var u=n.entangledLanes|=o;for(n=n.entanglements;u;){var m=31-ut(u),y=1<<m;y&o|n[m]&o&&(n[m]|=o),u&=~y}}var Mt=0;function xo(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ga,zs,va,xa,wi,_i=!1,yo=[],vr=null,Xr=null,Mr=null,bi=new Map,ot=new Map,_n=[],Wt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Il(n,o){switch(n){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":bi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ot.delete(o.pointerId)}}function $s(n,o,u,m,y,N){return n===null||n.nativeEvent!==N?(n={blockedOn:o,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[y]},o!==null&&(o=Ys(o),o!==null&&zs(o)),n):(n.eventSystemFlags|=m,o=n.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),n)}function Fl(n,o,u,m,y){switch(o){case"focusin":return vr=$s(vr,n,o,u,m,y),!0;case"dragenter":return Xr=$s(Xr,n,o,u,m,y),!0;case"mouseover":return Mr=$s(Mr,n,o,u,m,y),!0;case"pointerover":var N=y.pointerId;return bi.set(N,$s(bi.get(N)||null,n,o,u,m,y)),!0;case"gotpointercapture":return N=y.pointerId,ot.set(N,$s(ot.get(N)||null,n,o,u,m,y)),!0}return!1}function ya(n){var o=Gs(n.target);if(o!==null){var u=ms(o);if(u!==null){if(o=u.tag,o===13){if(o=Fs(u),o!==null){n.blockedOn=o,wi(n.priority,function(){va(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Rr(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var u=ba(n.domEventName,n.eventSystemFlags,o[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var m=new u.constructor(u.type,u);se=m,u.target.dispatchEvent(m),se=null}else return o=Ys(u),o!==null&&zs(o),n.blockedOn=u,!1;o.shift()}return!0}function wa(n,o,u){Rr(n)&&u.delete(o)}function Ni(){_i=!1,vr!==null&&Rr(vr)&&(vr=null),Xr!==null&&Rr(Xr)&&(Xr=null),Mr!==null&&Rr(Mr)&&(Mr=null),bi.forEach(wa),ot.forEach(wa)}function rn(n,o){n.blockedOn===o&&(n.blockedOn=null,_i||(_i=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ni)))}function xr(n){function o(y){return rn(y,n)}if(0<yo.length){rn(yo[0],n);for(var u=1;u<yo.length;u++){var m=yo[u];m.blockedOn===n&&(m.blockedOn=null)}}for(vr!==null&&rn(vr,n),Xr!==null&&rn(Xr,n),Mr!==null&&rn(Mr,n),bi.forEach(o),ot.forEach(o),u=0;u<_n.length;u++)m=_n[u],m.blockedOn===n&&(m.blockedOn=null);for(;0<_n.length&&(u=_n[0],u.blockedOn===null);)ya(u),u.blockedOn===null&&_n.shift()}var Bs=I.ReactCurrentBatchConfig,Si=!0;function Bf(n,o,u,m){var y=Mt,N=Bs.transition;Bs.transition=null;try{Mt=1,ji(n,o,u,m)}finally{Mt=y,Bs.transition=N}}function mu(n,o,u,m){var y=Mt,N=Bs.transition;Bs.transition=null;try{Mt=4,ji(n,o,u,m)}finally{Mt=y,Bs.transition=N}}function ji(n,o,u,m){if(Si){var y=ba(n,o,u,m);if(y===null)r(n,o,m,_a,u),Il(n,m);else if(Fl(y,n,o,u,m))m.stopPropagation();else if(Il(n,m),o&4&&-1<Wt.indexOf(n)){for(;y!==null;){var N=Ys(y);if(N!==null&&ga(N),N=ba(n,o,u,m),N===null&&r(n,o,m,_a,u),N===y)break;y=N}y!==null&&m.stopPropagation()}else r(n,o,m,null,u)}}var _a=null;function ba(n,o,u,m){if(_a=null,n=ve(m),n=Gs(n),n!==null)if(o=ms(n),o===null)n=null;else if(u=o.tag,u===13){if(n=Fs(o),n!==null)return n;n=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null);return _a=n,null}function Tt(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($f()){case Dl:return 1;case fu:return 4;case ha:case Al:return 16;case mo:return 536870912;default:return 16}default:return 16}}var ps=null,Zn=null,gs=null;function zl(){if(gs)return gs;var n,o=Zn,u=o.length,m,y="value"in ps?ps.value:ps.textContent,N=y.length;for(n=0;n<u&&o[n]===y[n];n++);var R=u-n;for(m=1;m<=R&&o[u-m]===y[N-m];m++);return gs=y.slice(n,1<m?1-m:void 0)}function Na(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function wo(){return!0}function pu(){return!1}function On(n){function o(u,m,y,N,R){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(u=n[B],this[B]=u?u(N):N[B]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?wo:pu,this.isPropagationStopped=pu,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),o}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$l=On(_o),Us=ae({},_o,{view:0,detail:0}),Uf=On(Us),er,Bl,bo,yr=ae({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ws,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==bo&&(bo&&n.type==="mousemove"?(er=n.screenX-bo.screenX,Bl=n.screenY-bo.screenY):Bl=er=0,bo=n),er)},movementY:function(n){return"movementY"in n?n.movementY:Bl}}),Ul=On(yr),gu=ae({},yr,{dataTransfer:0}),Hl=On(gu),Hf=ae({},Us,{relatedTarget:0}),Sa=On(Hf),vu=ae({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),Wf=On(vu),Vf=ae({},_o,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Wl=On(Vf),Zf=ae({},_o,{data:0}),Vl=On(Zf),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ja={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qf(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=Hs[n])?!!o[n]:!1}function Ws(){return qf}var tr=ae({},Us,{key:function(n){if(n.key){var o=xu[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=Na(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ja[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ws,charCode:function(n){return n.type==="keypress"?Na(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Na(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yu=On(tr),wu=ae({},yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=On(wu),Zl=ae({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ws}),ql=On(Zl),Gf=ae({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yf=On(Gf),bu=ae({},yr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Kf=On(bu),wr=[9,13,27,32],vs=p&&"CompositionEvent"in window,Ei=null;p&&"documentMode"in document&&(Ei=document.documentMode);var Qr=p&&"TextEvent"in window&&!Ei,Nu=p&&(!vs||Ei&&8<Ei&&11>=Ei),Vs=" ",Su=!1;function No(n,o){switch(n){case"keyup":return wr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Jr=!1;function Xf(n,o){switch(n){case"compositionend":return Gl(o);case"keypress":return o.which!==32?null:(Su=!0,Vs);case"textInput":return n=o.data,n===Vs&&Su?null:n;default:return null}}function xs(n,o){if(Jr)return n==="compositionend"||!vs&&No(n,o)?(n=zl(),gs=Zn=ps=null,Jr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Nu&&o.locale!=="ko"?null:o.data;default:return null}}var Ea={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ju(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Ea[n.type]:o==="textarea"}function Ca(n,o,u,m){Ke(m),o=h(o,"onChange"),0<o.length&&(u=new $l("onChange","change",null,u,m),n.push({event:u,listeners:o}))}var Ci=null,qn=null;function Qf(n){rc(n,0)}function es(n){var o=Ks(n);if(Ae(o))return n}function Jf(n,o){if(n==="change")return o}var Lr=!1;if(p){var So;if(p){var Pa="oninput"in document;if(!Pa){var Ta=document.createElement("div");Ta.setAttribute("oninput","return;"),Pa=typeof Ta.oninput=="function"}So=Pa}else So=!1;Lr=So&&(!document.documentMode||9<document.documentMode)}function Pi(){Ci&&(Ci.detachEvent("onpropertychange",ka),qn=Ci=null)}function ka(n){if(n.propertyName==="value"&&es(qn)){var o=[];Ca(o,qn,n,ve(n)),ua(Qf,o)}}function Ma(n,o,u){n==="focusin"?(Pi(),Ci=o,qn=u,Ci.attachEvent("onpropertychange",ka)):n==="focusout"&&Pi()}function jo(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return es(qn)}function Ra(n,o){if(n==="click")return es(o)}function Yl(n,o){if(n==="input"||n==="change")return es(o)}function Eu(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var _r=typeof Object.is=="function"?Object.is:Eu;function ys(n,o){if(_r(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var u=Object.keys(n),m=Object.keys(o);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!g.call(o,y)||!_r(n[y],o[y]))return!1}return!0}function Cu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Kl(n,o){var u=Cu(n);n=0;for(var m;u;){if(u.nodeType===3){if(m=n+u.textContent.length,n<=o&&m>=o)return{node:u,offset:o-n};n=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Cu(u)}}function Pu(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?Pu(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function Xl(){for(var n=window,o=Ge();o instanceof n.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)n=o.contentWindow;else break;o=Ge(n.document)}return o}function Ql(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}function Dr(n){var o=Xl(),u=n.focusedElem,m=n.selectionRange;if(o!==u&&u&&u.ownerDocument&&Pu(u.ownerDocument.documentElement,u)){if(m!==null&&Ql(u)){if(o=m.start,n=m.end,n===void 0&&(n=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(n,u.value.length);else if(n=(o=u.ownerDocument||document)&&o.defaultView||window,n.getSelection){n=n.getSelection();var y=u.textContent.length,N=Math.min(m.start,y);m=m.end===void 0?N:Math.min(m.end,y),!n.extend&&N>m&&(y=m,m=N,N=y),y=Kl(u,N);var R=Kl(u,m);y&&R&&(n.rangeCount!==1||n.anchorNode!==y.node||n.anchorOffset!==y.offset||n.focusNode!==R.node||n.focusOffset!==R.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),n.removeAllRanges(),N>m?(n.addRange(o),n.extend(R.node,R.offset)):(o.setEnd(R.node,R.offset),n.addRange(o)))}}for(o=[],n=u;n=n.parentNode;)n.nodeType===1&&o.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)n=o[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var La=p&&"documentMode"in document&&11>=document.documentMode,Eo=null,Co=null,Ti=null,Da=!1;function Tu(n,o,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Da||Eo==null||Eo!==Ge(m)||(m=Eo,"selectionStart"in m&&Ql(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ti&&ys(Ti,m)||(Ti=m,m=h(Co,"onSelect"),0<m.length&&(o=new $l("onSelect","select",null,o,u),n.push({event:o,listeners:m}),o.target=Eo)))}function ws(n,o){var u={};return u[n.toLowerCase()]=o.toLowerCase(),u["Webkit"+n]="webkit"+o,u["Moz"+n]="moz"+o,u}var Po={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},_s={},Jl={};p&&(Jl=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function ki(n){if(_s[n])return _s[n];if(!Po[n])return n;var o=Po[n],u;for(u in o)if(o.hasOwnProperty(u)&&u in Jl)return _s[n]=o[u];return n}var ku=ki("animationend"),Ar=ki("animationiteration"),ec=ki("animationstart"),tc=ki("transitionend"),To=new Map,Mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function br(n,o){To.set(n,o),d(o,[n])}for(var Zs=0;Zs<Mu.length;Zs++){var Aa=Mu[Zs],Ru=Aa.toLowerCase(),eh=Aa[0].toUpperCase()+Aa.slice(1);br(Ru,"on"+eh)}br(ku,"onAnimationEnd"),br(Ar,"onAnimationIteration"),br(ec,"onAnimationStart"),br("dblclick","onDoubleClick"),br("focusin","onFocus"),br("focusout","onBlur"),br(tc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("cancel close invalid load scroll toggle".split(" ").concat(ko));function nc(n,o,u){var m=n.type||"unknown-event";n.currentTarget=u,Ml(m,o,void 0,n),n.currentTarget=null}function rc(n,o){o=(o&4)!==0;for(var u=0;u<n.length;u++){var m=n[u],y=m.event;m=m.listeners;e:{var N=void 0;if(o)for(var R=m.length-1;0<=R;R--){var B=m[R],W=B.instance,fe=B.currentTarget;if(B=B.listener,W!==N&&y.isPropagationStopped())break e;nc(y,B,fe),N=W}else for(R=0;R<m.length;R++){if(B=m[R],W=B.instance,fe=B.currentTarget,B=B.listener,W!==N&&y.isPropagationStopped())break e;nc(y,B,fe),N=W}}}if(vi)throw n=da,vi=!1,da=null,n}function Vt(n,o){var u=o[Do];u===void 0&&(u=o[Do]=new Set);var m=n+"__bubble";u.has(m)||(Du(o,n,2,!1),u.add(m))}function sc(n,o,u){var m=0;o&&(m|=4),Du(u,n,m,o)}var Mi="_reactListening"+Math.random().toString(36).slice(2);function Mo(n){if(!n[Mi]){n[Mi]=!0,a.forEach(function(u){u!=="selectionchange"&&(Lu.has(u)||sc(u,!1,n),sc(u,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[Mi]||(o[Mi]=!0,sc("selectionchange",!1,o))}}function Du(n,o,u,m){switch(Tt(o)){case 1:var y=Bf;break;case 4:y=mu;break;default:y=ji}u=y.bind(null,o,u,n),y=void 0,!kl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),m?y!==void 0?n.addEventListener(o,u,{capture:!0,passive:y}):n.addEventListener(o,u,!0):y!==void 0?n.addEventListener(o,u,{passive:y}):n.addEventListener(o,u,!1)}function r(n,o,u,m,y){var N=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var B=m.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(R===4)for(R=m.return;R!==null;){var W=R.tag;if((W===3||W===4)&&(W=R.stateNode.containerInfo,W===y||W.nodeType===8&&W.parentNode===y))return;R=R.return}for(;B!==null;){if(R=Gs(B),R===null)return;if(W=R.tag,W===5||W===6){m=N=R;continue e}B=B.parentNode}}m=m.return}ua(function(){var fe=N,je=ve(u),Ce=[];e:{var Ne=To.get(n);if(Ne!==void 0){var ze=$l,He=n;switch(n){case"keypress":if(Na(u)===0)break e;case"keydown":case"keyup":ze=yu;break;case"focusin":He="focus",ze=Sa;break;case"focusout":He="blur",ze=Sa;break;case"beforeblur":case"afterblur":ze=Sa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Hl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=ql;break;case ku:case Ar:case ec:ze=Wf;break;case tc:ze=Yf;break;case"scroll":ze=Uf;break;case"wheel":ze=Kf;break;case"copy":case"cut":case"paste":ze=Wl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=_u}var We=(o&4)!==0,pn=!We&&n==="scroll",oe=We?Ne!==null?Ne+"Capture":null:Ne;We=[];for(var G=fe,le;G!==null;){le=G;var ke=le.stateNode;if(le.tag===5&&ke!==null&&(le=ke,oe!==null&&(ke=pi(G,oe),ke!=null&&We.push(l(G,ke,le)))),pn)break;G=G.return}0<We.length&&(Ne=new ze(Ne,He,null,u,je),Ce.push({event:Ne,listeners:We}))}}if((o&7)===0){e:{if(Ne=n==="mouseover"||n==="pointerover",ze=n==="mouseout"||n==="pointerout",Ne&&u!==se&&(He=u.relatedTarget||u.fromElement)&&(Gs(He)||He[zt]))break e;if((ze||Ne)&&(Ne=je.window===je?je:(Ne=je.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,ze?(He=u.relatedTarget||u.toElement,ze=fe,He=He?Gs(He):null,He!==null&&(pn=ms(He),He!==pn||He.tag!==5&&He.tag!==6)&&(He=null)):(ze=null,He=fe),ze!==He)){if(We=Ul,ke="onMouseLeave",oe="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(We=_u,ke="onPointerLeave",oe="onPointerEnter",G="pointer"),pn=ze==null?Ne:Ks(ze),le=He==null?Ne:Ks(He),Ne=new We(ke,G+"leave",ze,u,je),Ne.target=pn,Ne.relatedTarget=le,ke=null,Gs(je)===fe&&(We=new We(oe,G+"enter",He,u,je),We.target=le,We.relatedTarget=pn,ke=We),pn=ke,ze&&He)t:{for(We=ze,oe=He,G=0,le=We;le;le=x(le))G++;for(le=0,ke=oe;ke;ke=x(ke))le++;for(;0<G-le;)We=x(We),G--;for(;0<le-G;)oe=x(oe),le--;for(;G--;){if(We===oe||oe!==null&&We===oe.alternate)break t;We=x(We),oe=x(oe)}We=null}else We=null;ze!==null&&E(Ce,Ne,ze,We,!1),He!==null&&pn!==null&&E(Ce,pn,He,We,!0)}}e:{if(Ne=fe?Ks(fe):window,ze=Ne.nodeName&&Ne.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Ne.type==="file")var qe=Jf;else if(ju(Ne))if(Lr)qe=Yl;else{qe=jo;var Je=Ma}else(ze=Ne.nodeName)&&ze.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(qe=Ra);if(qe&&(qe=qe(n,fe))){Ca(Ce,qe,u,je);break e}Je&&Je(n,Ne,fe),n==="focusout"&&(Je=Ne._wrapperState)&&Je.controlled&&Ne.type==="number"&&ft(Ne,"number",Ne.value)}switch(Je=fe?Ks(fe):window,n){case"focusin":(ju(Je)||Je.contentEditable==="true")&&(Eo=Je,Co=fe,Ti=null);break;case"focusout":Ti=Co=Eo=null;break;case"mousedown":Da=!0;break;case"contextmenu":case"mouseup":case"dragend":Da=!1,Tu(Ce,u,je);break;case"selectionchange":if(La)break;case"keydown":case"keyup":Tu(Ce,u,je)}var et;if(vs)e:{switch(n){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Jr?No(n,u)&&(at="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(at="onCompositionStart");at&&(Nu&&u.locale!=="ko"&&(Jr||at!=="onCompositionStart"?at==="onCompositionEnd"&&Jr&&(et=zl()):(ps=je,Zn="value"in ps?ps.value:ps.textContent,Jr=!0)),Je=h(fe,at),0<Je.length&&(at=new Vl(at,n,null,u,je),Ce.push({event:at,listeners:Je}),et?at.data=et:(et=Gl(u),et!==null&&(at.data=et)))),(et=Qr?Xf(n,u):xs(n,u))&&(fe=h(fe,"onBeforeInput"),0<fe.length&&(je=new Vl("onBeforeInput","beforeinput",null,u,je),Ce.push({event:je,listeners:fe}),je.data=et))}rc(Ce,o)})}function l(n,o,u){return{instance:n,listener:o,currentTarget:u}}function h(n,o){for(var u=o+"Capture",m=[];n!==null;){var y=n,N=y.stateNode;y.tag===5&&N!==null&&(y=N,N=pi(n,u),N!=null&&m.unshift(l(n,N,y)),N=pi(n,o),N!=null&&m.push(l(n,N,y))),n=n.return}return m}function x(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function E(n,o,u,m,y){for(var N=o._reactName,R=[];u!==null&&u!==m;){var B=u,W=B.alternate,fe=B.stateNode;if(W!==null&&W===m)break;B.tag===5&&fe!==null&&(B=fe,y?(W=pi(u,N),W!=null&&R.unshift(l(u,W,B))):y||(W=pi(u,N),W!=null&&R.push(l(u,W,B)))),u=u.return}R.length!==0&&n.push({event:o,listeners:R})}var D=/\r\n?/g,H=/\u0000|\uFFFD/g;function re(n){return(typeof n=="string"?n:""+n).replace(D,`
`).replace(H,"")}function ue(n,o,u){if(o=re(o),re(n)!==o&&u)throw Error(s(425))}function _e(){}var Fe=null,Xe=null;function mt(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var bn=typeof setTimeout=="function"?setTimeout:void 0,gn=typeof clearTimeout=="function"?clearTimeout:void 0,Gn=typeof Promise=="function"?Promise:void 0,In=typeof queueMicrotask=="function"?queueMicrotask:typeof Gn<"u"?function(n){return Gn.resolve(null).then(n).catch(Ro)}:bn;function Ro(n){setTimeout(function(){throw n})}function oc(n,o){var u=o,m=0;do{var y=u.nextSibling;if(n.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){n.removeChild(y),xr(o);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);xr(o)}function bs(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return n}function Au(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return n;o--}else u==="/$"&&o++}n=n.previousSibling}return null}var qs=Math.random().toString(36).slice(2),Or="__reactFiber$"+qs,Lo="__reactProps$"+qs,zt="__reactContainer$"+qs,Do="__reactEvents$"+qs,th="__reactListeners$"+qs,nh="__reactHandles$"+qs;function Gs(n){var o=n[Or];if(o)return o;for(var u=n.parentNode;u;){if(o=u[zt]||u[Or]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(n=Au(n);n!==null;){if(u=n[Or])return u;n=Au(n)}return o}n=u,u=n.parentNode}return null}function Ys(n){return n=n[Or]||n[zt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ks(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function Oa(n){return n[Lo]||null}var rh=[],Ia=-1;function Ao(n){return{current:n}}function Xt(n){0>Ia||(n.current=rh[Ia],rh[Ia]=null,Ia--)}function Gt(n,o){Ia++,rh[Ia]=n.current,n.current=o}var Oo={},Fn=Ao(Oo),nr=Ao(!1),Ri=Oo;function Fa(n,o){var u=n.type.contextTypes;if(!u)return Oo;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===o)return m.__reactInternalMemoizedMaskedChildContext;var y={},N;for(N in u)y[N]=o[N];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=y),y}function rr(n){return n=n.childContextTypes,n!=null}function Ou(){Xt(nr),Xt(Fn)}function ng(n,o,u){if(Fn.current!==Oo)throw Error(s(168));Gt(Fn,o),Gt(nr,u)}function rg(n,o,u){var m=n.stateNode;if(o=o.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in o))throw Error(s(108,A(n)||"Unknown",y));return ae({},u,m)}function Iu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Oo,Ri=Fn.current,Gt(Fn,n),Gt(nr,nr.current),!0}function sg(n,o,u){var m=n.stateNode;if(!m)throw Error(s(169));u?(n=rg(n,o,Ri),m.__reactInternalMemoizedMergedChildContext=n,Xt(nr),Xt(Fn),Gt(Fn,n)):Xt(nr),Gt(nr,u)}var Xs=null,Fu=!1,sh=!1;function og(n){Xs===null?Xs=[n]:Xs.push(n)}function Qb(n){Fu=!0,og(n)}function Io(){if(!sh&&Xs!==null){sh=!0;var n=0,o=Mt;try{var u=Xs;for(Mt=1;n<u.length;n++){var m=u[n];do m=m(!0);while(m!==null)}Xs=null,Fu=!1}catch(y){throw Xs!==null&&(Xs=Xs.slice(n+1)),du(Dl,Io),y}finally{Mt=o,sh=!1}}return null}var za=[],$a=0,zu=null,$u=0,Ir=[],Fr=0,Li=null,Qs=1,Js="";function Di(n,o){za[$a++]=$u,za[$a++]=zu,zu=n,$u=o}function ig(n,o,u){Ir[Fr++]=Qs,Ir[Fr++]=Js,Ir[Fr++]=Li,Li=n;var m=Qs;n=Js;var y=32-ut(m)-1;m&=~(1<<y),u+=1;var N=32-ut(o)+y;if(30<N){var R=y-y%5;N=(m&(1<<R)-1).toString(32),m>>=R,y-=R,Qs=1<<32-ut(o)+y|u<<y|m,Js=N+n}else Qs=1<<N|u<<y|m,Js=n}function oh(n){n.return!==null&&(Di(n,1),ig(n,1,0))}function ih(n){for(;n===zu;)zu=za[--$a],za[$a]=null,$u=za[--$a],za[$a]=null;for(;n===Li;)Li=Ir[--Fr],Ir[Fr]=null,Js=Ir[--Fr],Ir[Fr]=null,Qs=Ir[--Fr],Ir[Fr]=null}var Nr=null,Sr=null,en=!1,ts=null;function ag(n,o){var u=Ur(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=n,o=n.deletions,o===null?(n.deletions=[u],n.flags|=16):o.push(u)}function lg(n,o){switch(n.tag){case 5:var u=n.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(n.stateNode=o,Nr=n,Sr=bs(o.firstChild),!0):!1;case 6:return o=n.pendingProps===""||o.nodeType!==3?null:o,o!==null?(n.stateNode=o,Nr=n,Sr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Li!==null?{id:Qs,overflow:Js}:null,n.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Ur(18,null,null,0),u.stateNode=o,u.return=n,n.child=u,Nr=n,Sr=null,!0):!1;default:return!1}}function ah(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lh(n){if(en){var o=Sr;if(o){var u=o;if(!lg(n,o)){if(ah(n))throw Error(s(418));o=bs(u.nextSibling);var m=Nr;o&&lg(n,o)?ag(m,u):(n.flags=n.flags&-4097|2,en=!1,Nr=n)}}else{if(ah(n))throw Error(s(418));n.flags=n.flags&-4097|2,en=!1,Nr=n}}}function cg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Nr=n}function Bu(n){if(n!==Nr)return!1;if(!en)return cg(n),en=!0,!1;var o;if((o=n.tag!==3)&&!(o=n.tag!==5)&&(o=n.type,o=o!=="head"&&o!=="body"&&!mt(n.type,n.memoizedProps)),o&&(o=Sr)){if(ah(n))throw ug(),Error(s(418));for(;o;)ag(n,o),o=bs(o.nextSibling)}if(cg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,o=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(o===0){Sr=bs(n.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}n=n.nextSibling}Sr=null}}else Sr=Nr?bs(n.stateNode.nextSibling):null;return!0}function ug(){for(var n=Sr;n;)n=bs(n.nextSibling)}function Ba(){Sr=Nr=null,en=!1}function ch(n){ts===null?ts=[n]:ts.push(n)}var Jb=I.ReactCurrentBatchConfig;function ic(n,o,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(s(309));var m=u.stateNode}if(!m)throw Error(s(147,n));var y=m,N=""+n;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===N?o.ref:(o=function(R){var B=y.refs;R===null?delete B[N]:B[N]=R},o._stringRef=N,o)}if(typeof n!="string")throw Error(s(284));if(!u._owner)throw Error(s(290,n))}return n}function Uu(n,o){throw n=Object.prototype.toString.call(o),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n))}function dg(n){var o=n._init;return o(n._payload)}function fg(n){function o(oe,G){if(n){var le=oe.deletions;le===null?(oe.deletions=[G],oe.flags|=16):le.push(G)}}function u(oe,G){if(!n)return null;for(;G!==null;)o(oe,G),G=G.sibling;return null}function m(oe,G){for(oe=new Map;G!==null;)G.key!==null?oe.set(G.key,G):oe.set(G.index,G),G=G.sibling;return oe}function y(oe,G){return oe=Vo(oe,G),oe.index=0,oe.sibling=null,oe}function N(oe,G,le){return oe.index=le,n?(le=oe.alternate,le!==null?(le=le.index,le<G?(oe.flags|=2,G):le):(oe.flags|=2,G)):(oe.flags|=1048576,G)}function R(oe){return n&&oe.alternate===null&&(oe.flags|=2),oe}function B(oe,G,le,ke){return G===null||G.tag!==6?(G=em(le,oe.mode,ke),G.return=oe,G):(G=y(G,le),G.return=oe,G)}function W(oe,G,le,ke){var qe=le.type;return qe===F?je(oe,G,le.props.children,ke,le.key):G!==null&&(G.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===ee&&dg(qe)===G.type)?(ke=y(G,le.props),ke.ref=ic(oe,G,le),ke.return=oe,ke):(ke=fd(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=ic(oe,G,le),ke.return=oe,ke)}function fe(oe,G,le,ke){return G===null||G.tag!==4||G.stateNode.containerInfo!==le.containerInfo||G.stateNode.implementation!==le.implementation?(G=tm(le,oe.mode,ke),G.return=oe,G):(G=y(G,le.children||[]),G.return=oe,G)}function je(oe,G,le,ke,qe){return G===null||G.tag!==7?(G=Ui(le,oe.mode,ke,qe),G.return=oe,G):(G=y(G,le),G.return=oe,G)}function Ce(oe,G,le){if(typeof G=="string"&&G!==""||typeof G=="number")return G=em(""+G,oe.mode,le),G.return=oe,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case $:return le=fd(G.type,G.key,G.props,null,oe.mode,le),le.ref=ic(oe,null,G),le.return=oe,le;case Z:return G=tm(G,oe.mode,le),G.return=oe,G;case ee:var ke=G._init;return Ce(oe,ke(G._payload),le)}if(Oe(G)||de(G))return G=Ui(G,oe.mode,le,null),G.return=oe,G;Uu(oe,G)}return null}function Ne(oe,G,le,ke){var qe=G!==null?G.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return qe!==null?null:B(oe,G,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case $:return le.key===qe?W(oe,G,le,ke):null;case Z:return le.key===qe?fe(oe,G,le,ke):null;case ee:return qe=le._init,Ne(oe,G,qe(le._payload),ke)}if(Oe(le)||de(le))return qe!==null?null:je(oe,G,le,ke,null);Uu(oe,le)}return null}function ze(oe,G,le,ke,qe){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return oe=oe.get(le)||null,B(G,oe,""+ke,qe);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case $:return oe=oe.get(ke.key===null?le:ke.key)||null,W(G,oe,ke,qe);case Z:return oe=oe.get(ke.key===null?le:ke.key)||null,fe(G,oe,ke,qe);case ee:var Je=ke._init;return ze(oe,G,le,Je(ke._payload),qe)}if(Oe(ke)||de(ke))return oe=oe.get(le)||null,je(G,oe,ke,qe,null);Uu(G,ke)}return null}function He(oe,G,le,ke){for(var qe=null,Je=null,et=G,at=G=0,kn=null;et!==null&&at<le.length;at++){et.index>at?(kn=et,et=null):kn=et.sibling;var Ot=Ne(oe,et,le[at],ke);if(Ot===null){et===null&&(et=kn);break}n&&et&&Ot.alternate===null&&o(oe,et),G=N(Ot,G,at),Je===null?qe=Ot:Je.sibling=Ot,Je=Ot,et=kn}if(at===le.length)return u(oe,et),en&&Di(oe,at),qe;if(et===null){for(;at<le.length;at++)et=Ce(oe,le[at],ke),et!==null&&(G=N(et,G,at),Je===null?qe=et:Je.sibling=et,Je=et);return en&&Di(oe,at),qe}for(et=m(oe,et);at<le.length;at++)kn=ze(et,oe,at,le[at],ke),kn!==null&&(n&&kn.alternate!==null&&et.delete(kn.key===null?at:kn.key),G=N(kn,G,at),Je===null?qe=kn:Je.sibling=kn,Je=kn);return n&&et.forEach(function(Zo){return o(oe,Zo)}),en&&Di(oe,at),qe}function We(oe,G,le,ke){var qe=de(le);if(typeof qe!="function")throw Error(s(150));if(le=qe.call(le),le==null)throw Error(s(151));for(var Je=qe=null,et=G,at=G=0,kn=null,Ot=le.next();et!==null&&!Ot.done;at++,Ot=le.next()){et.index>at?(kn=et,et=null):kn=et.sibling;var Zo=Ne(oe,et,Ot.value,ke);if(Zo===null){et===null&&(et=kn);break}n&&et&&Zo.alternate===null&&o(oe,et),G=N(Zo,G,at),Je===null?qe=Zo:Je.sibling=Zo,Je=Zo,et=kn}if(Ot.done)return u(oe,et),en&&Di(oe,at),qe;if(et===null){for(;!Ot.done;at++,Ot=le.next())Ot=Ce(oe,Ot.value,ke),Ot!==null&&(G=N(Ot,G,at),Je===null?qe=Ot:Je.sibling=Ot,Je=Ot);return en&&Di(oe,at),qe}for(et=m(oe,et);!Ot.done;at++,Ot=le.next())Ot=ze(et,oe,at,Ot.value,ke),Ot!==null&&(n&&Ot.alternate!==null&&et.delete(Ot.key===null?at:Ot.key),G=N(Ot,G,at),Je===null?qe=Ot:Je.sibling=Ot,Je=Ot);return n&&et.forEach(function(R1){return o(oe,R1)}),en&&Di(oe,at),qe}function pn(oe,G,le,ke){if(typeof le=="object"&&le!==null&&le.type===F&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case $:e:{for(var qe=le.key,Je=G;Je!==null;){if(Je.key===qe){if(qe=le.type,qe===F){if(Je.tag===7){u(oe,Je.sibling),G=y(Je,le.props.children),G.return=oe,oe=G;break e}}else if(Je.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===ee&&dg(qe)===Je.type){u(oe,Je.sibling),G=y(Je,le.props),G.ref=ic(oe,Je,le),G.return=oe,oe=G;break e}u(oe,Je);break}else o(oe,Je);Je=Je.sibling}le.type===F?(G=Ui(le.props.children,oe.mode,ke,le.key),G.return=oe,oe=G):(ke=fd(le.type,le.key,le.props,null,oe.mode,ke),ke.ref=ic(oe,G,le),ke.return=oe,oe=ke)}return R(oe);case Z:e:{for(Je=le.key;G!==null;){if(G.key===Je)if(G.tag===4&&G.stateNode.containerInfo===le.containerInfo&&G.stateNode.implementation===le.implementation){u(oe,G.sibling),G=y(G,le.children||[]),G.return=oe,oe=G;break e}else{u(oe,G);break}else o(oe,G);G=G.sibling}G=tm(le,oe.mode,ke),G.return=oe,oe=G}return R(oe);case ee:return Je=le._init,pn(oe,G,Je(le._payload),ke)}if(Oe(le))return He(oe,G,le,ke);if(de(le))return We(oe,G,le,ke);Uu(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,G!==null&&G.tag===6?(u(oe,G.sibling),G=y(G,le),G.return=oe,oe=G):(u(oe,G),G=em(le,oe.mode,ke),G.return=oe,oe=G),R(oe)):u(oe,G)}return pn}var Ua=fg(!0),hg=fg(!1),Hu=Ao(null),Wu=null,Ha=null,uh=null;function dh(){uh=Ha=Wu=null}function fh(n){var o=Hu.current;Xt(Hu),n._currentValue=o}function hh(n,o,u){for(;n!==null;){var m=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),n===u)break;n=n.return}}function Wa(n,o){Wu=n,uh=Ha=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&o)!==0&&(sr=!0),n.firstContext=null)}function zr(n){var o=n._currentValue;if(uh!==n)if(n={context:n,memoizedValue:o,next:null},Ha===null){if(Wu===null)throw Error(s(308));Ha=n,Wu.dependencies={lanes:0,firstContext:n}}else Ha=Ha.next=n;return o}var Ai=null;function mh(n){Ai===null?Ai=[n]:Ai.push(n)}function mg(n,o,u,m){var y=o.interleaved;return y===null?(u.next=u,mh(o)):(u.next=y.next,y.next=u),o.interleaved=u,eo(n,m)}function eo(n,o){n.lanes|=o;var u=n.alternate;for(u!==null&&(u.lanes|=o),u=n,n=n.return;n!==null;)n.childLanes|=o,u=n.alternate,u!==null&&(u.childLanes|=o),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Fo=!1;function ph(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pg(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function to(n,o){return{eventTime:n,lane:o,tag:0,payload:null,callback:null,next:null}}function zo(n,o,u){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(Dt&2)!==0){var y=m.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),m.pending=o,eo(n,u)}return y=m.interleaved,y===null?(o.next=o,mh(m)):(o.next=y.next,y.next=o),m.interleaved=o,eo(n,u)}function Vu(n,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var m=o.lanes;m&=n.pendingLanes,u|=m,o.lanes=u,Kr(n,u)}}function gg(n,o){var u=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};N===null?y=N=R:N=N.next=R,u=u.next}while(u!==null);N===null?y=N=o:N=N.next=o}else y=N=o;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:m.shared,effects:m.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=o:n.next=o,u.lastBaseUpdate=o}function Zu(n,o,u,m){var y=n.updateQueue;Fo=!1;var N=y.firstBaseUpdate,R=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var W=B,fe=W.next;W.next=null,R===null?N=fe:R.next=fe,R=W;var je=n.alternate;je!==null&&(je=je.updateQueue,B=je.lastBaseUpdate,B!==R&&(B===null?je.firstBaseUpdate=fe:B.next=fe,je.lastBaseUpdate=W))}if(N!==null){var Ce=y.baseState;R=0,je=fe=W=null,B=N;do{var Ne=B.lane,ze=B.eventTime;if((m&Ne)===Ne){je!==null&&(je=je.next={eventTime:ze,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var He=n,We=B;switch(Ne=o,ze=u,We.tag){case 1:if(He=We.payload,typeof He=="function"){Ce=He.call(ze,Ce,Ne);break e}Ce=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=We.payload,Ne=typeof He=="function"?He.call(ze,Ce,Ne):He,Ne==null)break e;Ce=ae({},Ce,Ne);break e;case 2:Fo=!0}}B.callback!==null&&B.lane!==0&&(n.flags|=64,Ne=y.effects,Ne===null?y.effects=[B]:Ne.push(B))}else ze={eventTime:ze,lane:Ne,tag:B.tag,payload:B.payload,callback:B.callback,next:null},je===null?(fe=je=ze,W=Ce):je=je.next=ze,R|=Ne;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;Ne=B,B=Ne.next,Ne.next=null,y.lastBaseUpdate=Ne,y.shared.pending=null}}while(!0);if(je===null&&(W=Ce),y.baseState=W,y.firstBaseUpdate=fe,y.lastBaseUpdate=je,o=y.shared.interleaved,o!==null){y=o;do R|=y.lane,y=y.next;while(y!==o)}else N===null&&(y.shared.lanes=0);Fi|=R,n.lanes=R,n.memoizedState=Ce}}function vg(n,o,u){if(n=o.effects,o.effects=null,n!==null)for(o=0;o<n.length;o++){var m=n[o],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(s(191,y));y.call(m)}}}var ac={},Ns=Ao(ac),lc=Ao(ac),cc=Ao(ac);function Oi(n){if(n===ac)throw Error(s(174));return n}function gh(n,o){switch(Gt(cc,o),Gt(lc,n),Gt(Ns,ac),n=o.nodeType,n){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:mn(null,"");break;default:n=n===8?o.parentNode:o,o=n.namespaceURI||null,n=n.tagName,o=mn(o,n)}Xt(Ns),Gt(Ns,o)}function Va(){Xt(Ns),Xt(lc),Xt(cc)}function xg(n){Oi(cc.current);var o=Oi(Ns.current),u=mn(o,n.type);o!==u&&(Gt(lc,n),Gt(Ns,u))}function vh(n){lc.current===n&&(Xt(Ns),Xt(lc))}var sn=Ao(0);function qu(n){for(var o=n;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xh=[];function yh(){for(var n=0;n<xh.length;n++)xh[n]._workInProgressVersionPrimary=null;xh.length=0}var Gu=I.ReactCurrentDispatcher,wh=I.ReactCurrentBatchConfig,Ii=0,on=null,Nn=null,Pn=null,Yu=!1,uc=!1,dc=0,e1=0;function zn(){throw Error(s(321))}function _h(n,o){if(o===null)return!1;for(var u=0;u<o.length&&u<n.length;u++)if(!_r(n[u],o[u]))return!1;return!0}function bh(n,o,u,m,y,N){if(Ii=N,on=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Gu.current=n===null||n.memoizedState===null?s1:o1,n=u(m,y),uc){N=0;do{if(uc=!1,dc=0,25<=N)throw Error(s(301));N+=1,Pn=Nn=null,o.updateQueue=null,Gu.current=i1,n=u(m,y)}while(uc)}if(Gu.current=Qu,o=Nn!==null&&Nn.next!==null,Ii=0,Pn=Nn=on=null,Yu=!1,o)throw Error(s(300));return n}function Nh(){var n=dc!==0;return dc=0,n}function Ss(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?on.memoizedState=Pn=n:Pn=Pn.next=n,Pn}function $r(){if(Nn===null){var n=on.alternate;n=n!==null?n.memoizedState:null}else n=Nn.next;var o=Pn===null?on.memoizedState:Pn.next;if(o!==null)Pn=o,Nn=n;else{if(n===null)throw Error(s(310));Nn=n,n={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Pn===null?on.memoizedState=Pn=n:Pn=Pn.next=n}return Pn}function fc(n,o){return typeof o=="function"?o(n):o}function Sh(n){var o=$r(),u=o.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=n;var m=Nn,y=m.baseQueue,N=u.pending;if(N!==null){if(y!==null){var R=y.next;y.next=N.next,N.next=R}m.baseQueue=y=N,u.pending=null}if(y!==null){N=y.next,m=m.baseState;var B=R=null,W=null,fe=N;do{var je=fe.lane;if((Ii&je)===je)W!==null&&(W=W.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),m=fe.hasEagerState?fe.eagerState:n(m,fe.action);else{var Ce={lane:je,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};W===null?(B=W=Ce,R=m):W=W.next=Ce,on.lanes|=je,Fi|=je}fe=fe.next}while(fe!==null&&fe!==N);W===null?R=m:W.next=B,_r(m,o.memoizedState)||(sr=!0),o.memoizedState=m,o.baseState=R,o.baseQueue=W,u.lastRenderedState=m}if(n=u.interleaved,n!==null){y=n;do N=y.lane,on.lanes|=N,Fi|=N,y=y.next;while(y!==n)}else y===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function jh(n){var o=$r(),u=o.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=n;var m=u.dispatch,y=u.pending,N=o.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do N=n(N,R.action),R=R.next;while(R!==y);_r(N,o.memoizedState)||(sr=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,m]}function yg(){}function wg(n,o){var u=on,m=$r(),y=o(),N=!_r(m.memoizedState,y);if(N&&(m.memoizedState=y,sr=!0),m=m.queue,Eh(Ng.bind(null,u,m,n),[n]),m.getSnapshot!==o||N||Pn!==null&&Pn.memoizedState.tag&1){if(u.flags|=2048,hc(9,bg.bind(null,u,m,y,o),void 0,null),Tn===null)throw Error(s(349));(Ii&30)!==0||_g(u,o,y)}return y}function _g(n,o,u){n.flags|=16384,n={getSnapshot:o,value:u},o=on.updateQueue,o===null?(o={lastEffect:null,stores:null},on.updateQueue=o,o.stores=[n]):(u=o.stores,u===null?o.stores=[n]:u.push(n))}function bg(n,o,u,m){o.value=u,o.getSnapshot=m,Sg(o)&&jg(n)}function Ng(n,o,u){return u(function(){Sg(o)&&jg(n)})}function Sg(n){var o=n.getSnapshot;n=n.value;try{var u=o();return!_r(n,u)}catch{return!0}}function jg(n){var o=eo(n,1);o!==null&&os(o,n,1,-1)}function Eg(n){var o=Ss();return typeof n=="function"&&(n=n()),o.memoizedState=o.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fc,lastRenderedState:n},o.queue=n,n=n.dispatch=r1.bind(null,on,n),[o.memoizedState,n]}function hc(n,o,u,m){return n={tag:n,create:o,destroy:u,deps:m,next:null},o=on.updateQueue,o===null?(o={lastEffect:null,stores:null},on.updateQueue=o,o.lastEffect=n.next=n):(u=o.lastEffect,u===null?o.lastEffect=n.next=n:(m=u.next,u.next=n,n.next=m,o.lastEffect=n)),n}function Cg(){return $r().memoizedState}function Ku(n,o,u,m){var y=Ss();on.flags|=n,y.memoizedState=hc(1|o,u,void 0,m===void 0?null:m)}function Xu(n,o,u,m){var y=$r();m=m===void 0?null:m;var N=void 0;if(Nn!==null){var R=Nn.memoizedState;if(N=R.destroy,m!==null&&_h(m,R.deps)){y.memoizedState=hc(o,u,N,m);return}}on.flags|=n,y.memoizedState=hc(1|o,u,N,m)}function Pg(n,o){return Ku(8390656,8,n,o)}function Eh(n,o){return Xu(2048,8,n,o)}function Tg(n,o){return Xu(4,2,n,o)}function kg(n,o){return Xu(4,4,n,o)}function Mg(n,o){if(typeof o=="function")return n=n(),o(n),function(){o(null)};if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Rg(n,o,u){return u=u!=null?u.concat([n]):null,Xu(4,4,Mg.bind(null,o,n),u)}function Ch(){}function Lg(n,o){var u=$r();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&_h(o,m[1])?m[0]:(u.memoizedState=[n,o],n)}function Dg(n,o){var u=$r();o=o===void 0?null:o;var m=u.memoizedState;return m!==null&&o!==null&&_h(o,m[1])?m[0]:(n=n(),u.memoizedState=[n,o],n)}function Ag(n,o,u){return(Ii&21)===0?(n.baseState&&(n.baseState=!1,sr=!0),n.memoizedState=u):(_r(u,o)||(u=hu(),on.lanes|=u,Fi|=u,n.baseState=!0),o)}function t1(n,o){var u=Mt;Mt=u!==0&&4>u?u:4,n(!0);var m=wh.transition;wh.transition={};try{n(!1),o()}finally{Mt=u,wh.transition=m}}function Og(){return $r().memoizedState}function n1(n,o,u){var m=Ho(n);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},Ig(n))Fg(o,u);else if(u=mg(n,o,u,m),u!==null){var y=Kn();os(u,n,m,y),zg(u,o,m)}}function r1(n,o,u){var m=Ho(n),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ig(n))Fg(o,y);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var R=o.lastRenderedState,B=N(R,u);if(y.hasEagerState=!0,y.eagerState=B,_r(B,R)){var W=o.interleaved;W===null?(y.next=y,mh(o)):(y.next=W.next,W.next=y),o.interleaved=y;return}}catch{}finally{}u=mg(n,o,y,m),u!==null&&(y=Kn(),os(u,n,m,y),zg(u,o,m))}}function Ig(n){var o=n.alternate;return n===on||o!==null&&o===on}function Fg(n,o){uc=Yu=!0;var u=n.pending;u===null?o.next=o:(o.next=u.next,u.next=o),n.pending=o}function zg(n,o,u){if((u&4194240)!==0){var m=o.lanes;m&=n.pendingLanes,u|=m,o.lanes=u,Kr(n,u)}}var Qu={readContext:zr,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},s1={readContext:zr,useCallback:function(n,o){return Ss().memoizedState=[n,o===void 0?null:o],n},useContext:zr,useEffect:Pg,useImperativeHandle:function(n,o,u){return u=u!=null?u.concat([n]):null,Ku(4194308,4,Mg.bind(null,o,n),u)},useLayoutEffect:function(n,o){return Ku(4194308,4,n,o)},useInsertionEffect:function(n,o){return Ku(4,2,n,o)},useMemo:function(n,o){var u=Ss();return o=o===void 0?null:o,n=n(),u.memoizedState=[n,o],n},useReducer:function(n,o,u){var m=Ss();return o=u!==void 0?u(o):o,m.memoizedState=m.baseState=o,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:o},m.queue=n,n=n.dispatch=n1.bind(null,on,n),[m.memoizedState,n]},useRef:function(n){var o=Ss();return n={current:n},o.memoizedState=n},useState:Eg,useDebugValue:Ch,useDeferredValue:function(n){return Ss().memoizedState=n},useTransition:function(){var n=Eg(!1),o=n[0];return n=t1.bind(null,n[1]),Ss().memoizedState=n,[o,n]},useMutableSource:function(){},useSyncExternalStore:function(n,o,u){var m=on,y=Ss();if(en){if(u===void 0)throw Error(s(407));u=u()}else{if(u=o(),Tn===null)throw Error(s(349));(Ii&30)!==0||_g(m,o,u)}y.memoizedState=u;var N={value:u,getSnapshot:o};return y.queue=N,Pg(Ng.bind(null,m,N,n),[n]),m.flags|=2048,hc(9,bg.bind(null,m,N,u,o),void 0,null),u},useId:function(){var n=Ss(),o=Tn.identifierPrefix;if(en){var u=Js,m=Qs;u=(m&~(1<<32-ut(m)-1)).toString(32)+u,o=":"+o+"R"+u,u=dc++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=e1++,o=":"+o+"r"+u.toString(32)+":";return n.memoizedState=o},unstable_isNewReconciler:!1},o1={readContext:zr,useCallback:Lg,useContext:zr,useEffect:Eh,useImperativeHandle:Rg,useInsertionEffect:Tg,useLayoutEffect:kg,useMemo:Dg,useReducer:Sh,useRef:Cg,useState:function(){return Sh(fc)},useDebugValue:Ch,useDeferredValue:function(n){var o=$r();return Ag(o,Nn.memoizedState,n)},useTransition:function(){var n=Sh(fc)[0],o=$r().memoizedState;return[n,o]},useMutableSource:yg,useSyncExternalStore:wg,useId:Og,unstable_isNewReconciler:!1},i1={readContext:zr,useCallback:Lg,useContext:zr,useEffect:Eh,useImperativeHandle:Rg,useInsertionEffect:Tg,useLayoutEffect:kg,useMemo:Dg,useReducer:jh,useRef:Cg,useState:function(){return jh(fc)},useDebugValue:Ch,useDeferredValue:function(n){var o=$r();return Nn===null?o.memoizedState=n:Ag(o,Nn.memoizedState,n)},useTransition:function(){var n=jh(fc)[0],o=$r().memoizedState;return[n,o]},useMutableSource:yg,useSyncExternalStore:wg,useId:Og,unstable_isNewReconciler:!1};function ns(n,o){if(n&&n.defaultProps){o=ae({},o),n=n.defaultProps;for(var u in n)o[u]===void 0&&(o[u]=n[u]);return o}return o}function Ph(n,o,u,m){o=n.memoizedState,u=u(m,o),u=u==null?o:ae({},o,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var Ju={isMounted:function(n){return(n=n._reactInternals)?ms(n)===n:!1},enqueueSetState:function(n,o,u){n=n._reactInternals;var m=Kn(),y=Ho(n),N=to(m,y);N.payload=o,u!=null&&(N.callback=u),o=zo(n,N,y),o!==null&&(os(o,n,y,m),Vu(o,n,y))},enqueueReplaceState:function(n,o,u){n=n._reactInternals;var m=Kn(),y=Ho(n),N=to(m,y);N.tag=1,N.payload=o,u!=null&&(N.callback=u),o=zo(n,N,y),o!==null&&(os(o,n,y,m),Vu(o,n,y))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var u=Kn(),m=Ho(n),y=to(u,m);y.tag=2,o!=null&&(y.callback=o),o=zo(n,y,m),o!==null&&(os(o,n,m,u),Vu(o,n,m))}};function $g(n,o,u,m,y,N,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,N,R):o.prototype&&o.prototype.isPureReactComponent?!ys(u,m)||!ys(y,N):!0}function Bg(n,o,u){var m=!1,y=Oo,N=o.contextType;return typeof N=="object"&&N!==null?N=zr(N):(y=rr(o)?Ri:Fn.current,m=o.contextTypes,N=(m=m!=null)?Fa(n,y):Oo),o=new o(u,N),n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ju,n.stateNode=o,o._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=y,n.__reactInternalMemoizedMaskedChildContext=N),o}function Ug(n,o,u,m){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,m),o.state!==n&&Ju.enqueueReplaceState(o,o.state,null)}function Th(n,o,u,m){var y=n.stateNode;y.props=u,y.state=n.memoizedState,y.refs={},ph(n);var N=o.contextType;typeof N=="object"&&N!==null?y.context=zr(N):(N=rr(o)?Ri:Fn.current,y.context=Fa(n,N)),y.state=n.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(Ph(n,o,N,u),y.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Ju.enqueueReplaceState(y,y.state,null),Zu(n,u,y,m),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308)}function Za(n,o){try{var u="",m=o;do u+=we(m),m=m.return;while(m);var y=u}catch(N){y=`
Error generating stack: `+N.message+`
`+N.stack}return{value:n,source:o,stack:y,digest:null}}function kh(n,o,u){return{value:n,source:null,stack:u??null,digest:o??null}}function Mh(n,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var a1=typeof WeakMap=="function"?WeakMap:Map;function Hg(n,o,u){u=to(-1,u),u.tag=3,u.payload={element:null};var m=o.value;return u.callback=function(){id||(id=!0,Zh=m),Mh(n,o)},u}function Wg(n,o,u){u=to(-1,u),u.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var y=o.value;u.payload=function(){return m(y)},u.callback=function(){Mh(n,o)}}var N=n.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(u.callback=function(){Mh(n,o),typeof m!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})}),u}function Vg(n,o,u){var m=n.pingCache;if(m===null){m=n.pingCache=new a1;var y=new Set;m.set(o,y)}else y=m.get(o),y===void 0&&(y=new Set,m.set(o,y));y.has(u)||(y.add(u),n=_1.bind(null,n,o,u),o.then(n,n))}function Zg(n){do{var o;if((o=n.tag===13)&&(o=n.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return n;n=n.return}while(n!==null);return null}function qg(n,o,u,m,y){return(n.mode&1)===0?(n===o?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=to(-1,1),o.tag=2,zo(u,o,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=y,n)}var l1=I.ReactCurrentOwner,sr=!1;function Yn(n,o,u,m){o.child=n===null?hg(o,null,u,m):Ua(o,n.child,u,m)}function Gg(n,o,u,m,y){u=u.render;var N=o.ref;return Wa(o,y),m=bh(n,o,u,m,N,y),u=Nh(),n!==null&&!sr?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~y,no(n,o,y)):(en&&u&&oh(o),o.flags|=1,Yn(n,o,m,y),o.child)}function Yg(n,o,u,m,y){if(n===null){var N=u.type;return typeof N=="function"&&!Jh(N)&&N.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=N,Kg(n,o,N,m,y)):(n=fd(u.type,null,m,o,o.mode,y),n.ref=o.ref,n.return=o,o.child=n)}if(N=n.child,(n.lanes&y)===0){var R=N.memoizedProps;if(u=u.compare,u=u!==null?u:ys,u(R,m)&&n.ref===o.ref)return no(n,o,y)}return o.flags|=1,n=Vo(N,m),n.ref=o.ref,n.return=o,o.child=n}function Kg(n,o,u,m,y){if(n!==null){var N=n.memoizedProps;if(ys(N,m)&&n.ref===o.ref)if(sr=!1,o.pendingProps=m=N,(n.lanes&y)!==0)(n.flags&131072)!==0&&(sr=!0);else return o.lanes=n.lanes,no(n,o,y)}return Rh(n,o,u,m,y)}function Xg(n,o,u){var m=o.pendingProps,y=m.children,N=n!==null?n.memoizedState:null;if(m.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(Ga,jr),jr|=u;else{if((u&1073741824)===0)return n=N!==null?N.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:n,cachePool:null,transitions:null},o.updateQueue=null,Gt(Ga,jr),jr|=n,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=N!==null?N.baseLanes:u,Gt(Ga,jr),jr|=m}else N!==null?(m=N.baseLanes|u,o.memoizedState=null):m=u,Gt(Ga,jr),jr|=m;return Yn(n,o,y,u),o.child}function Qg(n,o){var u=o.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Rh(n,o,u,m,y){var N=rr(u)?Ri:Fn.current;return N=Fa(o,N),Wa(o,y),u=bh(n,o,u,m,N,y),m=Nh(),n!==null&&!sr?(o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~y,no(n,o,y)):(en&&m&&oh(o),o.flags|=1,Yn(n,o,u,y),o.child)}function Jg(n,o,u,m,y){if(rr(u)){var N=!0;Iu(o)}else N=!1;if(Wa(o,y),o.stateNode===null)td(n,o),Bg(o,u,m),Th(o,u,m,y),m=!0;else if(n===null){var R=o.stateNode,B=o.memoizedProps;R.props=B;var W=R.context,fe=u.contextType;typeof fe=="object"&&fe!==null?fe=zr(fe):(fe=rr(u)?Ri:Fn.current,fe=Fa(o,fe));var je=u.getDerivedStateFromProps,Ce=typeof je=="function"||typeof R.getSnapshotBeforeUpdate=="function";Ce||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==m||W!==fe)&&Ug(o,R,m,fe),Fo=!1;var Ne=o.memoizedState;R.state=Ne,Zu(o,m,R,y),W=o.memoizedState,B!==m||Ne!==W||nr.current||Fo?(typeof je=="function"&&(Ph(o,u,je,m),W=o.memoizedState),(B=Fo||$g(o,u,B,m,Ne,W,fe))?(Ce||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(o.flags|=4194308)):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=W),R.props=m,R.state=W,R.context=fe,m=B):(typeof R.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{R=o.stateNode,pg(n,o),B=o.memoizedProps,fe=o.type===o.elementType?B:ns(o.type,B),R.props=fe,Ce=o.pendingProps,Ne=R.context,W=u.contextType,typeof W=="object"&&W!==null?W=zr(W):(W=rr(u)?Ri:Fn.current,W=Fa(o,W));var ze=u.getDerivedStateFromProps;(je=typeof ze=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==Ce||Ne!==W)&&Ug(o,R,m,W),Fo=!1,Ne=o.memoizedState,R.state=Ne,Zu(o,m,R,y);var He=o.memoizedState;B!==Ce||Ne!==He||nr.current||Fo?(typeof ze=="function"&&(Ph(o,u,ze,m),He=o.memoizedState),(fe=Fo||$g(o,u,fe,m,Ne,He,W)||!1)?(je||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,He,W),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,He,W)),typeof R.componentDidUpdate=="function"&&(o.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof R.componentDidUpdate!="function"||B===n.memoizedProps&&Ne===n.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&Ne===n.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=He),R.props=m,R.state=He,R.context=W,m=fe):(typeof R.componentDidUpdate!="function"||B===n.memoizedProps&&Ne===n.memoizedState||(o.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&Ne===n.memoizedState||(o.flags|=1024),m=!1)}return Lh(n,o,u,m,N,y)}function Lh(n,o,u,m,y,N){Qg(n,o);var R=(o.flags&128)!==0;if(!m&&!R)return y&&sg(o,u,!1),no(n,o,N);m=o.stateNode,l1.current=o;var B=R&&typeof u.getDerivedStateFromError!="function"?null:m.render();return o.flags|=1,n!==null&&R?(o.child=Ua(o,n.child,null,N),o.child=Ua(o,null,B,N)):Yn(n,o,B,N),o.memoizedState=m.state,y&&sg(o,u,!0),o.child}function ev(n){var o=n.stateNode;o.pendingContext?ng(n,o.pendingContext,o.pendingContext!==o.context):o.context&&ng(n,o.context,!1),gh(n,o.containerInfo)}function tv(n,o,u,m,y){return Ba(),ch(y),o.flags|=256,Yn(n,o,u,m),o.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Ah(n){return{baseLanes:n,cachePool:null,transitions:null}}function nv(n,o,u){var m=o.pendingProps,y=sn.current,N=!1,R=(o.flags&128)!==0,B;if((B=R)||(B=n!==null&&n.memoizedState===null?!1:(y&2)!==0),B?(N=!0,o.flags&=-129):(n===null||n.memoizedState!==null)&&(y|=1),Gt(sn,y&1),n===null)return lh(o),n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((o.mode&1)===0?o.lanes=1:n.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(R=m.children,n=m.fallback,N?(m=o.mode,N=o.child,R={mode:"hidden",children:R},(m&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=R):N=hd(R,m,0,null),n=Ui(n,m,u,null),N.return=o,n.return=o,N.sibling=n,o.child=N,o.child.memoizedState=Ah(u),o.memoizedState=Dh,n):Oh(o,R));if(y=n.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return c1(n,o,R,m,B,y,u);if(N){N=m.fallback,R=o.mode,y=n.child,B=y.sibling;var W={mode:"hidden",children:m.children};return(R&1)===0&&o.child!==y?(m=o.child,m.childLanes=0,m.pendingProps=W,o.deletions=null):(m=Vo(y,W),m.subtreeFlags=y.subtreeFlags&14680064),B!==null?N=Vo(B,N):(N=Ui(N,R,u,null),N.flags|=2),N.return=o,m.return=o,m.sibling=N,o.child=m,m=N,N=o.child,R=n.child.memoizedState,R=R===null?Ah(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},N.memoizedState=R,N.childLanes=n.childLanes&~u,o.memoizedState=Dh,m}return N=n.child,n=N.sibling,m=Vo(N,{mode:"visible",children:m.children}),(o.mode&1)===0&&(m.lanes=u),m.return=o,m.sibling=null,n!==null&&(u=o.deletions,u===null?(o.deletions=[n],o.flags|=16):u.push(n)),o.child=m,o.memoizedState=null,m}function Oh(n,o){return o=hd({mode:"visible",children:o},n.mode,0,null),o.return=n,n.child=o}function ed(n,o,u,m){return m!==null&&ch(m),Ua(o,n.child,null,u),n=Oh(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function c1(n,o,u,m,y,N,R){if(u)return o.flags&256?(o.flags&=-257,m=kh(Error(s(422))),ed(n,o,R,m)):o.memoizedState!==null?(o.child=n.child,o.flags|=128,null):(N=m.fallback,y=o.mode,m=hd({mode:"visible",children:m.children},y,0,null),N=Ui(N,y,R,null),N.flags|=2,m.return=o,N.return=o,m.sibling=N,o.child=m,(o.mode&1)!==0&&Ua(o,n.child,null,R),o.child.memoizedState=Ah(R),o.memoizedState=Dh,N);if((o.mode&1)===0)return ed(n,o,R,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var B=m.dgst;return m=B,N=Error(s(419)),m=kh(N,m,void 0),ed(n,o,R,m)}if(B=(R&n.childLanes)!==0,sr||B){if(m=Tn,m!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|R))!==0?0:y,y!==0&&y!==N.retryLane&&(N.retryLane=y,eo(n,y),os(m,n,y,-1))}return Qh(),m=kh(Error(s(421))),ed(n,o,R,m)}return y.data==="$?"?(o.flags|=128,o.child=n.child,o=b1.bind(null,n),y._reactRetry=o,null):(n=N.treeContext,Sr=bs(y.nextSibling),Nr=o,en=!0,ts=null,n!==null&&(Ir[Fr++]=Qs,Ir[Fr++]=Js,Ir[Fr++]=Li,Qs=n.id,Js=n.overflow,Li=o),o=Oh(o,m.children),o.flags|=4096,o)}function rv(n,o,u){n.lanes|=o;var m=n.alternate;m!==null&&(m.lanes|=o),hh(n.return,o,u)}function Ih(n,o,u,m,y){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=y)}function sv(n,o,u){var m=o.pendingProps,y=m.revealOrder,N=m.tail;if(Yn(n,o,m.children,u),m=sn.current,(m&2)!==0)m=m&1|2,o.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&rv(n,u,o);else if(n.tag===19)rv(n,u,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(Gt(sn,m),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(u=o.child,y=null;u!==null;)n=u.alternate,n!==null&&qu(n)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),Ih(o,!1,y,u,N);break;case"backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(n=y.alternate,n!==null&&qu(n)===null){o.child=y;break}n=y.sibling,y.sibling=u,u=y,y=n}Ih(o,!0,u,null,N);break;case"together":Ih(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function td(n,o){(o.mode&1)===0&&n!==null&&(n.alternate=null,o.alternate=null,o.flags|=2)}function no(n,o,u){if(n!==null&&(o.dependencies=n.dependencies),Fi|=o.lanes,(u&o.childLanes)===0)return null;if(n!==null&&o.child!==n.child)throw Error(s(153));if(o.child!==null){for(n=o.child,u=Vo(n,n.pendingProps),o.child=u,u.return=o;n.sibling!==null;)n=n.sibling,u=u.sibling=Vo(n,n.pendingProps),u.return=o;u.sibling=null}return o.child}function u1(n,o,u){switch(o.tag){case 3:ev(o),Ba();break;case 5:xg(o);break;case 1:rr(o.type)&&Iu(o);break;case 4:gh(o,o.stateNode.containerInfo);break;case 10:var m=o.type._context,y=o.memoizedProps.value;Gt(Hu,m._currentValue),m._currentValue=y;break;case 13:if(m=o.memoizedState,m!==null)return m.dehydrated!==null?(Gt(sn,sn.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?nv(n,o,u):(Gt(sn,sn.current&1),n=no(n,o,u),n!==null?n.sibling:null);Gt(sn,sn.current&1);break;case 19:if(m=(u&o.childLanes)!==0,(n.flags&128)!==0){if(m)return sv(n,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Gt(sn,sn.current),m)break;return null;case 22:case 23:return o.lanes=0,Xg(n,o,u)}return no(n,o,u)}var ov,Fh,iv,av;ov=function(n,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Fh=function(){},iv=function(n,o,u,m){var y=n.memoizedProps;if(y!==m){n=o.stateNode,Oi(Ns.current);var N=null;switch(u){case"input":y=gt(n,y),m=gt(n,m),N=[];break;case"select":y=ae({},y,{value:void 0}),m=ae({},m,{value:void 0}),N=[];break;case"textarea":y=St(n,y),m=St(n,m),N=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=_e)}Me(u,m);var R;u=null;for(fe in y)if(!m.hasOwnProperty(fe)&&y.hasOwnProperty(fe)&&y[fe]!=null)if(fe==="style"){var B=y[fe];for(R in B)B.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(c.hasOwnProperty(fe)?N||(N=[]):(N=N||[]).push(fe,null));for(fe in m){var W=m[fe];if(B=y!=null?y[fe]:void 0,m.hasOwnProperty(fe)&&W!==B&&(W!=null||B!=null))if(fe==="style")if(B){for(R in B)!B.hasOwnProperty(R)||W&&W.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in W)W.hasOwnProperty(R)&&B[R]!==W[R]&&(u||(u={}),u[R]=W[R])}else u||(N||(N=[]),N.push(fe,u)),u=W;else fe==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,B=B?B.__html:void 0,W!=null&&B!==W&&(N=N||[]).push(fe,W)):fe==="children"?typeof W!="string"&&typeof W!="number"||(N=N||[]).push(fe,""+W):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(c.hasOwnProperty(fe)?(W!=null&&fe==="onScroll"&&Vt("scroll",n),N||B===W||(N=[])):(N=N||[]).push(fe,W))}u&&(N=N||[]).push("style",u);var fe=N;(o.updateQueue=fe)&&(o.flags|=4)}},av=function(n,o,u,m){u!==m&&(o.flags|=4)};function mc(n,o){if(!en)switch(n.tailMode){case"hidden":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function $n(n){var o=n.alternate!==null&&n.alternate.child===n.child,u=0,m=0;if(o)for(var y=n.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=m,n.childLanes=u,o}function d1(n,o,u){var m=o.pendingProps;switch(ih(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(o),null;case 1:return rr(o.type)&&Ou(),$n(o),null;case 3:return m=o.stateNode,Va(),Xt(nr),Xt(Fn),yh(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(Bu(o)?o.flags|=4:n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ts!==null&&(Yh(ts),ts=null))),Fh(n,o),$n(o),null;case 5:vh(o);var y=Oi(cc.current);if(u=o.type,n!==null&&o.stateNode!=null)iv(n,o,u,m,y),n.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!m){if(o.stateNode===null)throw Error(s(166));return $n(o),null}if(n=Oi(Ns.current),Bu(o)){m=o.stateNode,u=o.type;var N=o.memoizedProps;switch(m[Or]=o,m[Lo]=N,n=(o.mode&1)!==0,u){case"dialog":Vt("cancel",m),Vt("close",m);break;case"iframe":case"object":case"embed":Vt("load",m);break;case"video":case"audio":for(y=0;y<ko.length;y++)Vt(ko[y],m);break;case"source":Vt("error",m);break;case"img":case"image":case"link":Vt("error",m),Vt("load",m);break;case"details":Vt("toggle",m);break;case"input":Ft(m,N),Vt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!N.multiple},Vt("invalid",m);break;case"textarea":Ut(m,N),Vt("invalid",m)}Me(u,N),y=null;for(var R in N)if(N.hasOwnProperty(R)){var B=N[R];R==="children"?typeof B=="string"?m.textContent!==B&&(N.suppressHydrationWarning!==!0&&ue(m.textContent,B,n),y=["children",B]):typeof B=="number"&&m.textContent!==""+B&&(N.suppressHydrationWarning!==!0&&ue(m.textContent,B,n),y=["children",""+B]):c.hasOwnProperty(R)&&B!=null&&R==="onScroll"&&Vt("scroll",m)}switch(u){case"input":Le(m),At(m,N,!0);break;case"textarea":Le(m),En(m);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(m.onclick=_e)}m=y,o.updateQueue=m,m!==null&&(o.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ht(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=R.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=R.createElement(u,{is:m.is}):(n=R.createElement(u),u==="select"&&(R=n,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):n=R.createElementNS(n,u),n[Or]=o,n[Lo]=m,ov(n,o,!1,!1),o.stateNode=n;e:{switch(R=Ye(u,m),u){case"dialog":Vt("cancel",n),Vt("close",n),y=m;break;case"iframe":case"object":case"embed":Vt("load",n),y=m;break;case"video":case"audio":for(y=0;y<ko.length;y++)Vt(ko[y],n);y=m;break;case"source":Vt("error",n),y=m;break;case"img":case"image":case"link":Vt("error",n),Vt("load",n),y=m;break;case"details":Vt("toggle",n),y=m;break;case"input":Ft(n,m),y=gt(n,m),Vt("invalid",n);break;case"option":y=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},y=ae({},m,{value:void 0}),Vt("invalid",n);break;case"textarea":Ut(n,m),y=St(n,m),Vt("invalid",n);break;default:y=m}Me(u,y),B=y;for(N in B)if(B.hasOwnProperty(N)){var W=B[N];N==="style"?st(n,W):N==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Cn(n,W)):N==="children"?typeof W=="string"?(u!=="textarea"||W!=="")&&Q(n,W):typeof W=="number"&&Q(n,""+W):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(c.hasOwnProperty(N)?W!=null&&N==="onScroll"&&Vt("scroll",n):W!=null&&M(n,N,W,R))}switch(u){case"input":Le(n),At(n,m,!1);break;case"textarea":Le(n),En(n);break;case"option":m.value!=null&&n.setAttribute("value",""+V(m.value));break;case"select":n.multiple=!!m.multiple,N=m.value,N!=null?Nt(n,!!m.multiple,N,!1):m.defaultValue!=null&&Nt(n,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(n.onclick=_e)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return $n(o),null;case 6:if(n&&o.stateNode!=null)av(n,o,n.memoizedProps,m);else{if(typeof m!="string"&&o.stateNode===null)throw Error(s(166));if(u=Oi(cc.current),Oi(Ns.current),Bu(o)){if(m=o.stateNode,u=o.memoizedProps,m[Or]=o,(N=m.nodeValue!==u)&&(n=Nr,n!==null))switch(n.tag){case 3:ue(m.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ue(m.nodeValue,u,(n.mode&1)!==0)}N&&(o.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Or]=o,o.stateNode=m}return $n(o),null;case 13:if(Xt(sn),m=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(en&&Sr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ug(),Ba(),o.flags|=98560,N=!1;else if(N=Bu(o),m!==null&&m.dehydrated!==null){if(n===null){if(!N)throw Error(s(318));if(N=o.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(s(317));N[Or]=o}else Ba(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$n(o),N=!1}else ts!==null&&(Yh(ts),ts=null),N=!0;if(!N)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(o.child.flags|=8192,(o.mode&1)!==0&&(n===null||(sn.current&1)!==0?Sn===0&&(Sn=3):Qh())),o.updateQueue!==null&&(o.flags|=4),$n(o),null);case 4:return Va(),Fh(n,o),n===null&&Mo(o.stateNode.containerInfo),$n(o),null;case 10:return fh(o.type._context),$n(o),null;case 17:return rr(o.type)&&Ou(),$n(o),null;case 19:if(Xt(sn),N=o.memoizedState,N===null)return $n(o),null;if(m=(o.flags&128)!==0,R=N.rendering,R===null)if(m)mc(N,!1);else{if(Sn!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(R=qu(n),R!==null){for(o.flags|=128,mc(N,!1),m=R.updateQueue,m!==null&&(o.updateQueue=m,o.flags|=4),o.subtreeFlags=0,m=u,u=o.child;u!==null;)N=u,n=m,N.flags&=14680066,R=N.alternate,R===null?(N.childLanes=0,N.lanes=n,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=R.childLanes,N.lanes=R.lanes,N.child=R.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=R.memoizedProps,N.memoizedState=R.memoizedState,N.updateQueue=R.updateQueue,N.type=R.type,n=R.dependencies,N.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return Gt(sn,sn.current&1|2),o.child}n=n.sibling}N.tail!==null&&nn()>Ya&&(o.flags|=128,m=!0,mc(N,!1),o.lanes=4194304)}else{if(!m)if(n=qu(R),n!==null){if(o.flags|=128,m=!0,u=n.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),mc(N,!0),N.tail===null&&N.tailMode==="hidden"&&!R.alternate&&!en)return $n(o),null}else 2*nn()-N.renderingStartTime>Ya&&u!==1073741824&&(o.flags|=128,m=!0,mc(N,!1),o.lanes=4194304);N.isBackwards?(R.sibling=o.child,o.child=R):(u=N.last,u!==null?u.sibling=R:o.child=R,N.last=R)}return N.tail!==null?(o=N.tail,N.rendering=o,N.tail=o.sibling,N.renderingStartTime=nn(),o.sibling=null,u=sn.current,Gt(sn,m?u&1|2:u&1),o):($n(o),null);case 22:case 23:return Xh(),m=o.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(o.flags|=8192),m&&(o.mode&1)!==0?(jr&1073741824)!==0&&($n(o),o.subtreeFlags&6&&(o.flags|=8192)):$n(o),null;case 24:return null;case 25:return null}throw Error(s(156,o.tag))}function f1(n,o){switch(ih(o),o.tag){case 1:return rr(o.type)&&Ou(),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return Va(),Xt(nr),Xt(Fn),yh(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 5:return vh(o),null;case 13:if(Xt(sn),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Ba()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return Xt(sn),null;case 4:return Va(),null;case 10:return fh(o.type._context),null;case 22:case 23:return Xh(),null;case 24:return null;default:return null}}var nd=!1,Bn=!1,h1=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function qa(n,o){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){un(n,o,m)}else u.current=null}function zh(n,o,u){try{u()}catch(m){un(n,o,m)}}var lv=!1;function m1(n,o){if(Fe=Si,n=Xl(),Ql(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var R=0,B=-1,W=-1,fe=0,je=0,Ce=n,Ne=null;t:for(;;){for(var ze;Ce!==u||y!==0&&Ce.nodeType!==3||(B=R+y),Ce!==N||m!==0&&Ce.nodeType!==3||(W=R+m),Ce.nodeType===3&&(R+=Ce.nodeValue.length),(ze=Ce.firstChild)!==null;)Ne=Ce,Ce=ze;for(;;){if(Ce===n)break t;if(Ne===u&&++fe===y&&(B=R),Ne===N&&++je===m&&(W=R),(ze=Ce.nextSibling)!==null)break;Ce=Ne,Ne=Ce.parentNode}Ce=ze}u=B===-1||W===-1?null:{start:B,end:W}}else u=null}u=u||{start:0,end:0}}else u=null;for(Xe={focusedElem:n,selectionRange:u},Si=!1,Ue=o;Ue!==null;)if(o=Ue,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,Ue=n;else for(;Ue!==null;){o=Ue;try{var He=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var We=He.memoizedProps,pn=He.memoizedState,oe=o.stateNode,G=oe.getSnapshotBeforeUpdate(o.elementType===o.type?We:ns(o.type,We),pn);oe.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var le=o.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ke){un(o,o.return,ke)}if(n=o.sibling,n!==null){n.return=o.return,Ue=n;break}Ue=o.return}return He=lv,lv=!1,He}function pc(n,o,u){var m=o.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&n)===n){var N=y.destroy;y.destroy=void 0,N!==void 0&&zh(o,u,N)}y=y.next}while(y!==m)}}function rd(n,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&n)===n){var m=u.create;u.destroy=m()}u=u.next}while(u!==o)}}function $h(n){var o=n.ref;if(o!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof o=="function"?o(n):o.current=n}}function cv(n){var o=n.alternate;o!==null&&(n.alternate=null,cv(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&(delete o[Or],delete o[Lo],delete o[Do],delete o[th],delete o[nh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function uv(n){return n.tag===5||n.tag===3||n.tag===4}function dv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||uv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bh(n,o,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(n,o):u.insertBefore(n,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(n,u)):(o=u,o.appendChild(n)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=_e));else if(m!==4&&(n=n.child,n!==null))for(Bh(n,o,u),n=n.sibling;n!==null;)Bh(n,o,u),n=n.sibling}function Uh(n,o,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,o?u.insertBefore(n,o):u.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(Uh(n,o,u),n=n.sibling;n!==null;)Uh(n,o,u),n=n.sibling}var Rn=null,rs=!1;function $o(n,o,u){for(u=u.child;u!==null;)fv(n,o,u),u=u.sibling}function fv(n,o,u){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(xi,u)}catch{}switch(u.tag){case 5:Bn||qa(u,o);case 6:var m=Rn,y=rs;Rn=null,$o(n,o,u),Rn=m,rs=y,Rn!==null&&(rs?(n=Rn,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Rn.removeChild(u.stateNode));break;case 18:Rn!==null&&(rs?(n=Rn,u=u.stateNode,n.nodeType===8?oc(n.parentNode,u):n.nodeType===1&&oc(n,u),xr(n)):oc(Rn,u.stateNode));break;case 4:m=Rn,y=rs,Rn=u.stateNode.containerInfo,rs=!0,$o(n,o,u),Rn=m,rs=y;break;case 0:case 11:case 14:case 15:if(!Bn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var N=y,R=N.destroy;N=N.tag,R!==void 0&&((N&2)!==0||(N&4)!==0)&&zh(u,o,R),y=y.next}while(y!==m)}$o(n,o,u);break;case 1:if(!Bn&&(qa(u,o),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(B){un(u,o,B)}$o(n,o,u);break;case 21:$o(n,o,u);break;case 22:u.mode&1?(Bn=(m=Bn)||u.memoizedState!==null,$o(n,o,u),Bn=m):$o(n,o,u);break;default:$o(n,o,u)}}function hv(n){var o=n.updateQueue;if(o!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new h1),o.forEach(function(m){var y=N1.bind(null,n,m);u.has(m)||(u.add(m),m.then(y,y))})}}function ss(n,o){var u=o.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var N=n,R=o,B=R;e:for(;B!==null;){switch(B.tag){case 5:Rn=B.stateNode,rs=!1;break e;case 3:Rn=B.stateNode.containerInfo,rs=!0;break e;case 4:Rn=B.stateNode.containerInfo,rs=!0;break e}B=B.return}if(Rn===null)throw Error(s(160));fv(N,R,y),Rn=null,rs=!1;var W=y.alternate;W!==null&&(W.return=null),y.return=null}catch(fe){un(y,o,fe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)mv(o,n),o=o.sibling}function mv(n,o){var u=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ss(o,n),js(n),m&4){try{pc(3,n,n.return),rd(3,n)}catch(We){un(n,n.return,We)}try{pc(5,n,n.return)}catch(We){un(n,n.return,We)}}break;case 1:ss(o,n),js(n),m&512&&u!==null&&qa(u,u.return);break;case 5:if(ss(o,n),js(n),m&512&&u!==null&&qa(u,u.return),n.flags&32){var y=n.stateNode;try{Q(y,"")}catch(We){un(n,n.return,We)}}if(m&4&&(y=n.stateNode,y!=null)){var N=n.memoizedProps,R=u!==null?u.memoizedProps:N,B=n.type,W=n.updateQueue;if(n.updateQueue=null,W!==null)try{B==="input"&&N.type==="radio"&&N.name!=null&&ht(y,N),Ye(B,R);var fe=Ye(B,N);for(R=0;R<W.length;R+=2){var je=W[R],Ce=W[R+1];je==="style"?st(y,Ce):je==="dangerouslySetInnerHTML"?Cn(y,Ce):je==="children"?Q(y,Ce):M(y,je,Ce,fe)}switch(B){case"input":It(y,N);break;case"textarea":Mn(y,N);break;case"select":var Ne=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!N.multiple;var ze=N.value;ze!=null?Nt(y,!!N.multiple,ze,!1):Ne!==!!N.multiple&&(N.defaultValue!=null?Nt(y,!!N.multiple,N.defaultValue,!0):Nt(y,!!N.multiple,N.multiple?[]:"",!1))}y[Lo]=N}catch(We){un(n,n.return,We)}}break;case 6:if(ss(o,n),js(n),m&4){if(n.stateNode===null)throw Error(s(162));y=n.stateNode,N=n.memoizedProps;try{y.nodeValue=N}catch(We){un(n,n.return,We)}}break;case 3:if(ss(o,n),js(n),m&4&&u!==null&&u.memoizedState.isDehydrated)try{xr(o.containerInfo)}catch(We){un(n,n.return,We)}break;case 4:ss(o,n),js(n);break;case 13:ss(o,n),js(n),y=n.child,y.flags&8192&&(N=y.memoizedState!==null,y.stateNode.isHidden=N,!N||y.alternate!==null&&y.alternate.memoizedState!==null||(Vh=nn())),m&4&&hv(n);break;case 22:if(je=u!==null&&u.memoizedState!==null,n.mode&1?(Bn=(fe=Bn)||je,ss(o,n),Bn=fe):ss(o,n),js(n),m&8192){if(fe=n.memoizedState!==null,(n.stateNode.isHidden=fe)&&!je&&(n.mode&1)!==0)for(Ue=n,je=n.child;je!==null;){for(Ce=Ue=je;Ue!==null;){switch(Ne=Ue,ze=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:pc(4,Ne,Ne.return);break;case 1:qa(Ne,Ne.return);var He=Ne.stateNode;if(typeof He.componentWillUnmount=="function"){m=Ne,u=Ne.return;try{o=m,He.props=o.memoizedProps,He.state=o.memoizedState,He.componentWillUnmount()}catch(We){un(m,u,We)}}break;case 5:qa(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){vv(Ce);continue}}ze!==null?(ze.return=Ne,Ue=ze):vv(Ce)}je=je.sibling}e:for(je=null,Ce=n;;){if(Ce.tag===5){if(je===null){je=Ce;try{y=Ce.stateNode,fe?(N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(B=Ce.stateNode,W=Ce.memoizedProps.style,R=W!=null&&W.hasOwnProperty("display")?W.display:null,B.style.display=Ve("display",R))}catch(We){un(n,n.return,We)}}}else if(Ce.tag===6){if(je===null)try{Ce.stateNode.nodeValue=fe?"":Ce.memoizedProps}catch(We){un(n,n.return,We)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===n)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===n)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===n)break e;je===Ce&&(je=null),Ce=Ce.return}je===Ce&&(je=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:ss(o,n),js(n),m&4&&hv(n);break;case 21:break;default:ss(o,n),js(n)}}function js(n){var o=n.flags;if(o&2){try{e:{for(var u=n.return;u!==null;){if(uv(u)){var m=u;break e}u=u.return}throw Error(s(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Q(y,""),m.flags&=-33);var N=dv(n);Uh(n,N,y);break;case 3:case 4:var R=m.stateNode.containerInfo,B=dv(n);Bh(n,B,R);break;default:throw Error(s(161))}}catch(W){un(n,n.return,W)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function p1(n,o,u){Ue=n,pv(n)}function pv(n,o,u){for(var m=(n.mode&1)!==0;Ue!==null;){var y=Ue,N=y.child;if(y.tag===22&&m){var R=y.memoizedState!==null||nd;if(!R){var B=y.alternate,W=B!==null&&B.memoizedState!==null||Bn;B=nd;var fe=Bn;if(nd=R,(Bn=W)&&!fe)for(Ue=y;Ue!==null;)R=Ue,W=R.child,R.tag===22&&R.memoizedState!==null?xv(y):W!==null?(W.return=R,Ue=W):xv(y);for(;N!==null;)Ue=N,pv(N),N=N.sibling;Ue=y,nd=B,Bn=fe}gv(n)}else(y.subtreeFlags&8772)!==0&&N!==null?(N.return=y,Ue=N):gv(n)}}function gv(n){for(;Ue!==null;){var o=Ue;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Bn||rd(5,o);break;case 1:var m=o.stateNode;if(o.flags&4&&!Bn)if(u===null)m.componentDidMount();else{var y=o.elementType===o.type?u.memoizedProps:ns(o.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var N=o.updateQueue;N!==null&&vg(o,N,m);break;case 3:var R=o.updateQueue;if(R!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}vg(o,R,u)}break;case 5:var B=o.stateNode;if(u===null&&o.flags&4){u=B;var W=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&u.focus();break;case"img":W.src&&(u.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var fe=o.alternate;if(fe!==null){var je=fe.memoizedState;if(je!==null){var Ce=je.dehydrated;Ce!==null&&xr(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Bn||o.flags&512&&$h(o)}catch(Ne){un(o,o.return,Ne)}}if(o===n){Ue=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ue=u;break}Ue=o.return}}function vv(n){for(;Ue!==null;){var o=Ue;if(o===n){Ue=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ue=u;break}Ue=o.return}}function xv(n){for(;Ue!==null;){var o=Ue;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{rd(4,o)}catch(W){un(o,u,W)}break;case 1:var m=o.stateNode;if(typeof m.componentDidMount=="function"){var y=o.return;try{m.componentDidMount()}catch(W){un(o,y,W)}}var N=o.return;try{$h(o)}catch(W){un(o,N,W)}break;case 5:var R=o.return;try{$h(o)}catch(W){un(o,R,W)}}}catch(W){un(o,o.return,W)}if(o===n){Ue=null;break}var B=o.sibling;if(B!==null){B.return=o.return,Ue=B;break}Ue=o.return}}var g1=Math.ceil,sd=I.ReactCurrentDispatcher,Hh=I.ReactCurrentOwner,Br=I.ReactCurrentBatchConfig,Dt=0,Tn=null,vn=null,Ln=0,jr=0,Ga=Ao(0),Sn=0,gc=null,Fi=0,od=0,Wh=0,vc=null,or=null,Vh=0,Ya=1/0,ro=null,id=!1,Zh=null,Bo=null,ad=!1,Uo=null,ld=0,xc=0,qh=null,cd=-1,ud=0;function Kn(){return(Dt&6)!==0?nn():cd!==-1?cd:cd=nn()}function Ho(n){return(n.mode&1)===0?1:(Dt&2)!==0&&Ln!==0?Ln&-Ln:Jb.transition!==null?(ud===0&&(ud=hu()),ud):(n=Mt,n!==0||(n=window.event,n=n===void 0?16:Tt(n.type)),n)}function os(n,o,u,m){if(50<xc)throw xc=0,qh=null,Error(s(185));gr(n,u,m),((Dt&2)===0||n!==Tn)&&(n===Tn&&((Dt&2)===0&&(od|=u),Sn===4&&Wo(n,Ln)),ir(n,m),u===1&&Dt===0&&(o.mode&1)===0&&(Ya=nn()+500,Fu&&Io()))}function ir(n,o){var u=n.callbackNode;pa(n,o);var m=qt(n,n===Tn?Ln:0);if(m===0)u!==null&&Ll(u),n.callbackNode=null,n.callbackPriority=0;else if(o=m&-m,n.callbackPriority!==o){if(u!=null&&Ll(u),o===1)n.tag===0?Qb(wv.bind(null,n)):og(wv.bind(null,n)),In(function(){(Dt&6)===0&&Io()}),u=null;else{switch(xo(m)){case 1:u=Dl;break;case 4:u=fu;break;case 16:u=ha;break;case 536870912:u=mo;break;default:u=ha}u=Pv(u,yv.bind(null,n))}n.callbackPriority=o,n.callbackNode=u}}function yv(n,o){if(cd=-1,ud=0,(Dt&6)!==0)throw Error(s(327));var u=n.callbackNode;if(Ka()&&n.callbackNode!==u)return null;var m=qt(n,n===Tn?Ln:0);if(m===0)return null;if((m&30)!==0||(m&n.expiredLanes)!==0||o)o=dd(n,m);else{o=m;var y=Dt;Dt|=2;var N=bv();(Tn!==n||Ln!==o)&&(ro=null,Ya=nn()+500,$i(n,o));do try{y1();break}catch(B){_v(n,B)}while(!0);dh(),sd.current=N,Dt=y,vn!==null?o=0:(Tn=null,Ln=0,o=Sn)}if(o!==0){if(o===2&&(y=An(n),y!==0&&(m=y,o=Gh(n,y))),o===1)throw u=gc,$i(n,0),Wo(n,m),ir(n,nn()),u;if(o===6)Wo(n,m);else{if(y=n.current.alternate,(m&30)===0&&!v1(y)&&(o=dd(n,m),o===2&&(N=An(n),N!==0&&(m=N,o=Gh(n,N))),o===1))throw u=gc,$i(n,0),Wo(n,m),ir(n,nn()),u;switch(n.finishedWork=y,n.finishedLanes=m,o){case 0:case 1:throw Error(s(345));case 2:Bi(n,or,ro);break;case 3:if(Wo(n,m),(m&130023424)===m&&(o=Vh+500-nn(),10<o)){if(qt(n,0)!==0)break;if(y=n.suspendedLanes,(y&m)!==m){Kn(),n.pingedLanes|=n.suspendedLanes&y;break}n.timeoutHandle=bn(Bi.bind(null,n,or,ro),o);break}Bi(n,or,ro);break;case 4:if(Wo(n,m),(m&4194240)===m)break;for(o=n.eventTimes,y=-1;0<m;){var R=31-ut(m);N=1<<R,R=o[R],R>y&&(y=R),m&=~N}if(m=y,m=nn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*g1(m/1960))-m,10<m){n.timeoutHandle=bn(Bi.bind(null,n,or,ro),m);break}Bi(n,or,ro);break;case 5:Bi(n,or,ro);break;default:throw Error(s(329))}}}return ir(n,nn()),n.callbackNode===u?yv.bind(null,n):null}function Gh(n,o){var u=vc;return n.current.memoizedState.isDehydrated&&($i(n,o).flags|=256),n=dd(n,o),n!==2&&(o=or,or=u,o!==null&&Yh(o)),n}function Yh(n){or===null?or=n:or.push.apply(or,n)}function v1(n){for(var o=n;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],N=y.getSnapshot;y=y.value;try{if(!_r(N(),y))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Wo(n,o){for(o&=~Wh,o&=~od,n.suspendedLanes|=o,n.pingedLanes&=~o,n=n.expirationTimes;0<o;){var u=31-ut(o),m=1<<u;n[u]=-1,o&=~m}}function wv(n){if((Dt&6)!==0)throw Error(s(327));Ka();var o=qt(n,0);if((o&1)===0)return ir(n,nn()),null;var u=dd(n,o);if(n.tag!==0&&u===2){var m=An(n);m!==0&&(o=m,u=Gh(n,m))}if(u===1)throw u=gc,$i(n,0),Wo(n,o),ir(n,nn()),u;if(u===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=o,Bi(n,or,ro),ir(n,nn()),null}function Kh(n,o){var u=Dt;Dt|=1;try{return n(o)}finally{Dt=u,Dt===0&&(Ya=nn()+500,Fu&&Io())}}function zi(n){Uo!==null&&Uo.tag===0&&(Dt&6)===0&&Ka();var o=Dt;Dt|=1;var u=Br.transition,m=Mt;try{if(Br.transition=null,Mt=1,n)return n()}finally{Mt=m,Br.transition=u,Dt=o,(Dt&6)===0&&Io()}}function Xh(){jr=Ga.current,Xt(Ga)}function $i(n,o){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,gn(u)),vn!==null)for(u=vn.return;u!==null;){var m=u;switch(ih(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ou();break;case 3:Va(),Xt(nr),Xt(Fn),yh();break;case 5:vh(m);break;case 4:Va();break;case 13:Xt(sn);break;case 19:Xt(sn);break;case 10:fh(m.type._context);break;case 22:case 23:Xh()}u=u.return}if(Tn=n,vn=n=Vo(n.current,null),Ln=jr=o,Sn=0,gc=null,Wh=od=Fi=0,or=vc=null,Ai!==null){for(o=0;o<Ai.length;o++)if(u=Ai[o],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,N=u.pending;if(N!==null){var R=N.next;N.next=y,m.next=R}u.pending=m}Ai=null}return n}function _v(n,o){do{var u=vn;try{if(dh(),Gu.current=Qu,Yu){for(var m=on.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}Yu=!1}if(Ii=0,Pn=Nn=on=null,uc=!1,dc=0,Hh.current=null,u===null||u.return===null){Sn=1,gc=o,vn=null;break}e:{var N=n,R=u.return,B=u,W=o;if(o=Ln,B.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var fe=W,je=B,Ce=je.tag;if((je.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var Ne=je.alternate;Ne?(je.updateQueue=Ne.updateQueue,je.memoizedState=Ne.memoizedState,je.lanes=Ne.lanes):(je.updateQueue=null,je.memoizedState=null)}var ze=Zg(R);if(ze!==null){ze.flags&=-257,qg(ze,R,B,N,o),ze.mode&1&&Vg(N,fe,o),o=ze,W=fe;var He=o.updateQueue;if(He===null){var We=new Set;We.add(W),o.updateQueue=We}else He.add(W);break e}else{if((o&1)===0){Vg(N,fe,o),Qh();break e}W=Error(s(426))}}else if(en&&B.mode&1){var pn=Zg(R);if(pn!==null){(pn.flags&65536)===0&&(pn.flags|=256),qg(pn,R,B,N,o),ch(Za(W,B));break e}}N=W=Za(W,B),Sn!==4&&(Sn=2),vc===null?vc=[N]:vc.push(N),N=R;do{switch(N.tag){case 3:N.flags|=65536,o&=-o,N.lanes|=o;var oe=Hg(N,W,o);gg(N,oe);break e;case 1:B=W;var G=N.type,le=N.stateNode;if((N.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Bo===null||!Bo.has(le)))){N.flags|=65536,o&=-o,N.lanes|=o;var ke=Wg(N,B,o);gg(N,ke);break e}}N=N.return}while(N!==null)}Sv(u)}catch(qe){o=qe,vn===u&&u!==null&&(vn=u=u.return);continue}break}while(!0)}function bv(){var n=sd.current;return sd.current=Qu,n===null?Qu:n}function Qh(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Tn===null||(Fi&268435455)===0&&(od&268435455)===0||Wo(Tn,Ln)}function dd(n,o){var u=Dt;Dt|=2;var m=bv();(Tn!==n||Ln!==o)&&(ro=null,$i(n,o));do try{x1();break}catch(y){_v(n,y)}while(!0);if(dh(),Dt=u,sd.current=m,vn!==null)throw Error(s(261));return Tn=null,Ln=0,Sn}function x1(){for(;vn!==null;)Nv(vn)}function y1(){for(;vn!==null&&!zf();)Nv(vn)}function Nv(n){var o=Cv(n.alternate,n,jr);n.memoizedProps=n.pendingProps,o===null?Sv(n):vn=o,Hh.current=null}function Sv(n){var o=n;do{var u=o.alternate;if(n=o.return,(o.flags&32768)===0){if(u=d1(u,o,jr),u!==null){vn=u;return}}else{if(u=f1(u,o),u!==null){u.flags&=32767,vn=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Sn=6,vn=null;return}}if(o=o.sibling,o!==null){vn=o;return}vn=o=n}while(o!==null);Sn===0&&(Sn=5)}function Bi(n,o,u){var m=Mt,y=Br.transition;try{Br.transition=null,Mt=1,w1(n,o,u,m)}finally{Br.transition=y,Mt=m}return null}function w1(n,o,u,m){do Ka();while(Uo!==null);if((Dt&6)!==0)throw Error(s(327));u=n.finishedWork;var y=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var N=u.lanes|u.childLanes;if(cn(n,N),n===Tn&&(vn=Tn=null,Ln=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ad||(ad=!0,Pv(ha,function(){return Ka(),null})),N=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||N){N=Br.transition,Br.transition=null;var R=Mt;Mt=1;var B=Dt;Dt|=4,Hh.current=null,m1(n,u),mv(u,n),Dr(Xe),Si=!!Fe,Xe=Fe=null,n.current=u,p1(u),fa(),Dt=B,Mt=R,Br.transition=N}else n.current=u;if(ad&&(ad=!1,Uo=n,ld=y),N=n.pendingLanes,N===0&&(Bo=null),yi(u.stateNode),ir(n,nn()),o!==null)for(m=n.onRecoverableError,u=0;u<o.length;u++)y=o[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(id)throw id=!1,n=Zh,Zh=null,n;return(ld&1)!==0&&n.tag!==0&&Ka(),N=n.pendingLanes,(N&1)!==0?n===qh?xc++:(xc=0,qh=n):xc=0,Io(),null}function Ka(){if(Uo!==null){var n=xo(ld),o=Br.transition,u=Mt;try{if(Br.transition=null,Mt=16>n?16:n,Uo===null)var m=!1;else{if(n=Uo,Uo=null,ld=0,(Dt&6)!==0)throw Error(s(331));var y=Dt;for(Dt|=4,Ue=n.current;Ue!==null;){var N=Ue,R=N.child;if((Ue.flags&16)!==0){var B=N.deletions;if(B!==null){for(var W=0;W<B.length;W++){var fe=B[W];for(Ue=fe;Ue!==null;){var je=Ue;switch(je.tag){case 0:case 11:case 15:pc(8,je,N)}var Ce=je.child;if(Ce!==null)Ce.return=je,Ue=Ce;else for(;Ue!==null;){je=Ue;var Ne=je.sibling,ze=je.return;if(cv(je),je===fe){Ue=null;break}if(Ne!==null){Ne.return=ze,Ue=Ne;break}Ue=ze}}}var He=N.alternate;if(He!==null){var We=He.child;if(We!==null){He.child=null;do{var pn=We.sibling;We.sibling=null,We=pn}while(We!==null)}}Ue=N}}if((N.subtreeFlags&2064)!==0&&R!==null)R.return=N,Ue=R;else e:for(;Ue!==null;){if(N=Ue,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:pc(9,N,N.return)}var oe=N.sibling;if(oe!==null){oe.return=N.return,Ue=oe;break e}Ue=N.return}}var G=n.current;for(Ue=G;Ue!==null;){R=Ue;var le=R.child;if((R.subtreeFlags&2064)!==0&&le!==null)le.return=R,Ue=le;else e:for(R=G;Ue!==null;){if(B=Ue,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:rd(9,B)}}catch(qe){un(B,B.return,qe)}if(B===R){Ue=null;break e}var ke=B.sibling;if(ke!==null){ke.return=B.return,Ue=ke;break e}Ue=B.return}}if(Dt=y,Io(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(xi,n)}catch{}m=!0}return m}finally{Mt=u,Br.transition=o}}return!1}function jv(n,o,u){o=Za(u,o),o=Hg(n,o,1),n=zo(n,o,1),o=Kn(),n!==null&&(gr(n,1,o),ir(n,o))}function un(n,o,u){if(n.tag===3)jv(n,n,u);else for(;o!==null;){if(o.tag===3){jv(o,n,u);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Bo===null||!Bo.has(m))){n=Za(u,n),n=Wg(o,n,1),o=zo(o,n,1),n=Kn(),o!==null&&(gr(o,1,n),ir(o,n));break}}o=o.return}}function _1(n,o,u){var m=n.pingCache;m!==null&&m.delete(o),o=Kn(),n.pingedLanes|=n.suspendedLanes&u,Tn===n&&(Ln&u)===u&&(Sn===4||Sn===3&&(Ln&130023424)===Ln&&500>nn()-Vh?$i(n,0):Wh|=u),ir(n,o)}function Ev(n,o){o===0&&((n.mode&1)===0?o=1:(o=go,go<<=1,(go&130023424)===0&&(go=4194304)));var u=Kn();n=eo(n,o),n!==null&&(gr(n,o,u),ir(n,u))}function b1(n){var o=n.memoizedState,u=0;o!==null&&(u=o.retryLane),Ev(n,u)}function N1(n,o){var u=0;switch(n.tag){case 13:var m=n.stateNode,y=n.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(s(314))}m!==null&&m.delete(o),Ev(n,u)}var Cv;Cv=function(n,o,u){if(n!==null)if(n.memoizedProps!==o.pendingProps||nr.current)sr=!0;else{if((n.lanes&u)===0&&(o.flags&128)===0)return sr=!1,u1(n,o,u);sr=(n.flags&131072)!==0}else sr=!1,en&&(o.flags&1048576)!==0&&ig(o,$u,o.index);switch(o.lanes=0,o.tag){case 2:var m=o.type;td(n,o),n=o.pendingProps;var y=Fa(o,Fn.current);Wa(o,u),y=bh(null,o,m,n,y,u);var N=Nh();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,rr(m)?(N=!0,Iu(o)):N=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,ph(o),y.updater=Ju,o.stateNode=y,y._reactInternals=o,Th(o,m,n,u),o=Lh(null,o,m,!0,N,u)):(o.tag=0,en&&N&&oh(o),Yn(null,o,y,u),o=o.child),o;case 16:m=o.elementType;e:{switch(td(n,o),n=o.pendingProps,y=m._init,m=y(m._payload),o.type=m,y=o.tag=j1(m),n=ns(m,n),y){case 0:o=Rh(null,o,m,n,u);break e;case 1:o=Jg(null,o,m,n,u);break e;case 11:o=Gg(null,o,m,n,u);break e;case 14:o=Yg(null,o,m,ns(m.type,n),u);break e}throw Error(s(306,m,""))}return o;case 0:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:ns(m,y),Rh(n,o,m,y,u);case 1:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:ns(m,y),Jg(n,o,m,y,u);case 3:e:{if(ev(o),n===null)throw Error(s(387));m=o.pendingProps,N=o.memoizedState,y=N.element,pg(n,o),Zu(o,m,null,u);var R=o.memoizedState;if(m=R.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){y=Za(Error(s(423)),o),o=tv(n,o,m,u,y);break e}else if(m!==y){y=Za(Error(s(424)),o),o=tv(n,o,m,u,y);break e}else for(Sr=bs(o.stateNode.containerInfo.firstChild),Nr=o,en=!0,ts=null,u=hg(o,null,m,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ba(),m===y){o=no(n,o,u);break e}Yn(n,o,m,u)}o=o.child}return o;case 5:return xg(o),n===null&&lh(o),m=o.type,y=o.pendingProps,N=n!==null?n.memoizedProps:null,R=y.children,mt(m,y)?R=null:N!==null&&mt(m,N)&&(o.flags|=32),Qg(n,o),Yn(n,o,R,u),o.child;case 6:return n===null&&lh(o),null;case 13:return nv(n,o,u);case 4:return gh(o,o.stateNode.containerInfo),m=o.pendingProps,n===null?o.child=Ua(o,null,m,u):Yn(n,o,m,u),o.child;case 11:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:ns(m,y),Gg(n,o,m,y,u);case 7:return Yn(n,o,o.pendingProps,u),o.child;case 8:return Yn(n,o,o.pendingProps.children,u),o.child;case 12:return Yn(n,o,o.pendingProps.children,u),o.child;case 10:e:{if(m=o.type._context,y=o.pendingProps,N=o.memoizedProps,R=y.value,Gt(Hu,m._currentValue),m._currentValue=R,N!==null)if(_r(N.value,R)){if(N.children===y.children&&!nr.current){o=no(n,o,u);break e}}else for(N=o.child,N!==null&&(N.return=o);N!==null;){var B=N.dependencies;if(B!==null){R=N.child;for(var W=B.firstContext;W!==null;){if(W.context===m){if(N.tag===1){W=to(-1,u&-u),W.tag=2;var fe=N.updateQueue;if(fe!==null){fe=fe.shared;var je=fe.pending;je===null?W.next=W:(W.next=je.next,je.next=W),fe.pending=W}}N.lanes|=u,W=N.alternate,W!==null&&(W.lanes|=u),hh(N.return,u,o),B.lanes|=u;break}W=W.next}}else if(N.tag===10)R=N.type===o.type?null:N.child;else if(N.tag===18){if(R=N.return,R===null)throw Error(s(341));R.lanes|=u,B=R.alternate,B!==null&&(B.lanes|=u),hh(R,u,o),R=N.sibling}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===o){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}Yn(n,o,y.children,u),o=o.child}return o;case 9:return y=o.type,m=o.pendingProps.children,Wa(o,u),y=zr(y),m=m(y),o.flags|=1,Yn(n,o,m,u),o.child;case 14:return m=o.type,y=ns(m,o.pendingProps),y=ns(m.type,y),Yg(n,o,m,y,u);case 15:return Kg(n,o,o.type,o.pendingProps,u);case 17:return m=o.type,y=o.pendingProps,y=o.elementType===m?y:ns(m,y),td(n,o),o.tag=1,rr(m)?(n=!0,Iu(o)):n=!1,Wa(o,u),Bg(o,m,y),Th(o,m,y,u),Lh(null,o,m,!0,n,u);case 19:return sv(n,o,u);case 22:return Xg(n,o,u)}throw Error(s(156,o.tag))};function Pv(n,o){return du(n,o)}function S1(n,o,u,m){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(n,o,u,m){return new S1(n,o,u,m)}function Jh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function j1(n){if(typeof n=="function")return Jh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===he)return 11;if(n===J)return 14}return 2}function Vo(n,o){var u=n.alternate;return u===null?(u=Ur(n.tag,o,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=o,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,o=n.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function fd(n,o,u,m,y,N){var R=2;if(m=n,typeof n=="function")Jh(n)&&(R=1);else if(typeof n=="string")R=5;else e:switch(n){case F:return Ui(u.children,y,N,o);case ie:R=8,y|=8;break;case ce:return n=Ur(12,u,o,y|2),n.elementType=ce,n.lanes=N,n;case Pe:return n=Ur(13,u,o,y),n.elementType=Pe,n.lanes=N,n;case K:return n=Ur(19,u,o,y),n.elementType=K,n.lanes=N,n;case pe:return hd(u,y,N,o);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:R=10;break e;case ne:R=9;break e;case he:R=11;break e;case J:R=14;break e;case ee:R=16,m=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return o=Ur(R,u,o,y),o.elementType=n,o.type=m,o.lanes=N,o}function Ui(n,o,u,m){return n=Ur(7,n,m,o),n.lanes=u,n}function hd(n,o,u,m){return n=Ur(22,n,m,o),n.elementType=pe,n.lanes=u,n.stateNode={isHidden:!1},n}function em(n,o,u){return n=Ur(6,n,null,o),n.lanes=u,n}function tm(n,o,u){return o=Ur(4,n.children!==null?n.children:[],n.key,o),o.lanes=u,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}function E1(n,o,u,m,y){this.tag=o,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function nm(n,o,u,m,y,N,R,B,W){return n=new E1(n,o,u,B,W),o===1?(o=1,N===!0&&(o|=8)):o=0,N=Ur(3,null,null,o),n.current=N,N.stateNode=n,N.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(N),n}function C1(n,o,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:m==null?null:""+m,children:n,containerInfo:o,implementation:u}}function Tv(n){if(!n)return Oo;n=n._reactInternals;e:{if(ms(n)!==n||n.tag!==1)throw Error(s(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(rr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(s(171))}if(n.tag===1){var u=n.type;if(rr(u))return rg(n,u,o)}return o}function kv(n,o,u,m,y,N,R,B,W){return n=nm(u,m,!0,n,y,N,R,B,W),n.context=Tv(null),u=n.current,m=Kn(),y=Ho(u),N=to(m,y),N.callback=o??null,zo(u,N,y),n.current.lanes=y,gr(n,y,m),ir(n,m),n}function md(n,o,u,m){var y=o.current,N=Kn(),R=Ho(y);return u=Tv(u),o.context===null?o.context=u:o.pendingContext=u,o=to(N,R),o.payload={element:n},m=m===void 0?null:m,m!==null&&(o.callback=m),n=zo(y,o,R),n!==null&&(os(n,y,R,N),Vu(n,y,R)),R}function pd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Mv(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<o?u:o}}function rm(n,o){Mv(n,o),(n=n.alternate)&&Mv(n,o)}function P1(){return null}var Rv=typeof reportError=="function"?reportError:function(n){console.error(n)};function sm(n){this._internalRoot=n}gd.prototype.render=sm.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(s(409));md(n,o,null,null)},gd.prototype.unmount=sm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;zi(function(){md(null,n,null,null)}),o[zt]=null}};function gd(n){this._internalRoot=n}gd.prototype.unstable_scheduleHydration=function(n){if(n){var o=xa();n={blockedOn:null,target:n,priority:o};for(var u=0;u<_n.length&&o!==0&&o<_n[u].priority;u++);_n.splice(u,0,n),u===0&&ya(n)}};function om(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function vd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function T1(n,o,u,m,y){if(y){if(typeof m=="function"){var N=m;m=function(){var fe=pd(R);N.call(fe)}}var R=kv(o,m,n,0,null,!1,!1,"",Lv);return n._reactRootContainer=R,n[zt]=R.current,Mo(n.nodeType===8?n.parentNode:n),zi(),R}for(;y=n.lastChild;)n.removeChild(y);if(typeof m=="function"){var B=m;m=function(){var fe=pd(W);B.call(fe)}}var W=nm(n,0,!1,null,null,!1,!1,"",Lv);return n._reactRootContainer=W,n[zt]=W.current,Mo(n.nodeType===8?n.parentNode:n),zi(function(){md(o,W,u,m)}),W}function xd(n,o,u,m,y){var N=u._reactRootContainer;if(N){var R=N;if(typeof y=="function"){var B=y;y=function(){var W=pd(R);B.call(W)}}md(o,R,n,y)}else R=T1(u,o,n,y,m);return pd(R)}ga=function(n){switch(n.tag){case 3:var o=n.stateNode;if(o.current.memoizedState.isDehydrated){var u=lt(o.pendingLanes);u!==0&&(Kr(o,u|1),ir(o,nn()),(Dt&6)===0&&(Ya=nn()+500,Io()))}break;case 13:zi(function(){var m=eo(n,1);if(m!==null){var y=Kn();os(m,n,1,y)}}),rm(n,1)}},zs=function(n){if(n.tag===13){var o=eo(n,134217728);if(o!==null){var u=Kn();os(o,n,134217728,u)}rm(n,134217728)}},va=function(n){if(n.tag===13){var o=Ho(n),u=eo(n,o);if(u!==null){var m=Kn();os(u,n,o,m)}rm(n,o)}},xa=function(){return Mt},wi=function(n,o){var u=Mt;try{return Mt=n,o()}finally{Mt=u}},Te=function(n,o,u){switch(o){case"input":if(It(n,u),o=u.name,u.type==="radio"&&o!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var m=u[o];if(m!==n&&m.form===n.form){var y=Oa(m);if(!y)throw Error(s(90));Ae(m),It(m,y)}}}break;case"textarea":Mn(n,u);break;case"select":o=u.value,o!=null&&Nt(n,!!u.multiple,o,!1)}},Pt=Kh,Yt=zi;var k1={usingClientEntryPoint:!1,Events:[Ys,Ks,Oa,Ke,vt,Kh]},yc={findFiberByHostInstance:Gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M1={bundleType:yc.bundleType,version:yc.version,rendererPackageName:yc.rendererPackageName,rendererConfig:yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=cu(n),n===null?null:n.stateNode},findFiberByHostInstance:yc.findFiberByHostInstance||P1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{xi=yd.inject(M1),pr=yd}catch{}}return ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k1,ar.createPortal=function(n,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!om(o))throw Error(s(200));return C1(n,o,null,u)},ar.createRoot=function(n,o){if(!om(n))throw Error(s(299));var u=!1,m="",y=Rv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=nm(n,1,!1,null,null,u,!1,m,y),n[zt]=o.current,Mo(n.nodeType===8?n.parentNode:n),new sm(o)},ar.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=cu(o),n=n===null?null:n.stateNode,n},ar.flushSync=function(n){return zi(n)},ar.hydrate=function(n,o,u){if(!vd(o))throw Error(s(200));return xd(null,n,o,!0,u)},ar.hydrateRoot=function(n,o,u){if(!om(n))throw Error(s(405));var m=u!=null&&u.hydratedSources||null,y=!1,N="",R=Rv;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),o=kv(o,null,n,1,u??null,y,!1,N,R),n[zt]=o.current,Mo(n),m)for(n=0;n<m.length;n++)u=m[n],y=u._getVersion,y=y(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,y]:o.mutableSourceEagerHydrationData.push(u,y);return new gd(o)},ar.render=function(n,o,u){if(!vd(o))throw Error(s(200));return xd(null,n,o,!1,u)},ar.unmountComponentAtNode=function(n){if(!vd(n))throw Error(s(40));return n._reactRootContainer?(zi(function(){xd(null,null,n,!1,function(){n._reactRootContainer=null,n[zt]=null})}),!0):!1},ar.unstable_batchedUpdates=Kh,ar.unstable_renderSubtreeIntoContainer=function(n,o,u,m){if(!vd(u))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return xd(n,o,u,!1,m)},ar.version="18.3.1-next-f1338f8080-20240426",ar}var Hv;function Ny(){if(Hv)return dm.exports;Hv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dm.exports=V1(),dm.exports}var aa=Ny();const of=pp(aa);function rt(e,t,{checkForDefaultPrevented:s=!0}={}){return function(c){if(e==null||e(c),s===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function Z1(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Sy(...e){return t=>e.forEach(s=>Z1(s,t))}function kt(...e){return v.useCallback(Sy(...e),e)}function Yc(e,t=[]){let s=[];function a(d,f){const p=v.createContext(f),g=s.length;s=[...s,f];function w(b){const{scope:S,children:T,...P}=b,j=(S==null?void 0:S[e][g])||p,C=v.useMemo(()=>P,Object.values(P));return i.jsx(j.Provider,{value:C,children:T})}function _(b,S){const T=(S==null?void 0:S[e][g])||p,P=v.useContext(T);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return w.displayName=d+"Provider",[w,_]}const c=()=>{const d=s.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,q1(c,...t)]}function q1(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return s.scopeName=t.scopeName,s}var ta=v.forwardRef((e,t)=>{const{children:s,...a}=e,c=v.Children.toArray(s),d=c.find(G1);if(d){const f=d.props.children,p=c.map(g=>g===d?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:g);return i.jsx(Am,{...a,ref:t,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return i.jsx(Am,{...a,ref:t,children:s})});ta.displayName="Slot";var Am=v.forwardRef((e,t)=>{const{children:s,...a}=e;if(v.isValidElement(s)){const c=K1(s);return v.cloneElement(s,{...Y1(a,s.props),ref:t?Sy(t,c):c})}return v.Children.count(s)>1?v.Children.only(null):null});Am.displayName="SlotClone";var jy=({children:e})=>i.jsx(i.Fragment,{children:e});function G1(e){return v.isValidElement(e)&&e.type===jy}function Y1(e,t){const s={...t};for(const a in t){const c=e[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?s[a]=(...p)=>{d(...p),c(...p)}:c&&(s[a]=c):a==="style"?s[a]={...c,...d}:a==="className"&&(s[a]=[c,d].filter(Boolean).join(" "))}return{...e,...s}}function K1(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Ey(e){const t=e+"CollectionProvider",[s,a]=Yc(t),[c,d]=s(t,{collectionRef:{current:null},itemMap:new Map}),f=T=>{const{scope:P,children:j}=T,C=Re.useRef(null),k=Re.useRef(new Map).current;return i.jsx(c,{scope:P,itemMap:k,collectionRef:C,children:j})};f.displayName=t;const p=e+"CollectionSlot",g=Re.forwardRef((T,P)=>{const{scope:j,children:C}=T,k=d(p,j),O=kt(P,k.collectionRef);return i.jsx(ta,{ref:O,children:C})});g.displayName=p;const w=e+"CollectionItemSlot",_="data-radix-collection-item",b=Re.forwardRef((T,P)=>{const{scope:j,children:C,...k}=T,O=Re.useRef(null),M=kt(P,O),I=d(w,j);return Re.useEffect(()=>(I.itemMap.set(O,{ref:O,...k}),()=>void I.itemMap.delete(O))),i.jsx(ta,{[_]:"",ref:M,children:C})});b.displayName=w;function S(T){const P=d(e+"CollectionConsumer",T);return Re.useCallback(()=>{const C=P.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${_}]`));return Array.from(P.itemMap.values()).sort((I,$)=>k.indexOf(I.ref.current)-k.indexOf($.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:f,Slot:g,ItemSlot:b},S,a]}var X1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],dt=X1.reduce((e,t)=>{const s=v.forwardRef((a,c)=>{const{asChild:d,...f}=a,p=d?ta:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...f,ref:c})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function af(e,t){e&&aa.flushSync(()=>e.dispatchEvent(t))}function tn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...s)=>{var a;return(a=t.current)==null?void 0:a.call(t,...s)},[])}function vp(e,t=globalThis==null?void 0:globalThis.document){const s=tn(e);v.useEffect(()=>{const a=c=>{c.key==="Escape"&&s(c)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[s,t])}var Q1="DismissableLayer",Om="dismissableLayer.update",J1="dismissableLayer.pointerDownOutside",eN="dismissableLayer.focusOutside",Wv,Cy=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Py=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(Cy),[_,b]=v.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=v.useState({}),P=kt(t,F=>b(F)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),k=j.indexOf(C),O=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,I=O>=k,$=nN(F=>{const ie=F.target,ce=[...w.branches].some(q=>q.contains(ie));!I||ce||(c==null||c(F),f==null||f(F),F.defaultPrevented||p==null||p())},S),Z=rN(F=>{const ie=F.target;[...w.branches].some(q=>q.contains(ie))||(d==null||d(F),f==null||f(F),F.defaultPrevented||p==null||p())},S);return vp(F=>{O===w.layers.size-1&&(a==null||a(F),!F.defaultPrevented&&p&&(F.preventDefault(),p()))},S),v.useEffect(()=>{if(_)return s&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(Wv=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),Vv(),()=>{s&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Wv)}},[_,S,s,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),Vv())},[_,w]),v.useEffect(()=>{const F=()=>T({});return document.addEventListener(Om,F),()=>document.removeEventListener(Om,F)},[]),i.jsx(dt.div,{...g,ref:P,style:{pointerEvents:M?I?"auto":"none":void 0,...e.style},onFocusCapture:rt(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:rt(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:rt(e.onPointerDownCapture,$.onPointerDownCapture)})});Py.displayName=Q1;var tN="DismissableLayerBranch",Ty=v.forwardRef((e,t)=>{const s=v.useContext(Cy),a=v.useRef(null),c=kt(t,a);return v.useEffect(()=>{const d=a.current;if(d)return s.branches.add(d),()=>{s.branches.delete(d)}},[s.branches]),i.jsx(dt.div,{...e,ref:c})});Ty.displayName=tN;function nN(e,t=globalThis==null?void 0:globalThis.document){const s=tn(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){ky(J1,s,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,s]),{onPointerDownCapture:()=>a.current=!0}}function rN(e,t=globalThis==null?void 0:globalThis.document){const s=tn(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&ky(eN,s,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Vv(){const e=new CustomEvent(Om);document.dispatchEvent(e)}function ky(e,t,s,{discrete:a}){const c=s.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&c.addEventListener(e,t,{once:!0}),a?af(c,d):c.dispatchEvent(d)}var sN=Py,oN=Ty,ln=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},iN="Portal",My=v.forwardRef((e,t)=>{var p;const{container:s,...a}=e,[c,d]=v.useState(!1);ln(()=>d(!0),[]);const f=s||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?of.createPortal(i.jsx(dt.div,{...a,ref:t}),f):null});My.displayName=iN;function aN(e,t){return v.useReducer((s,a)=>t[s][a]??s,e)}var bl=e=>{const{present:t,children:s}=e,a=lN(t),c=typeof s=="function"?s({present:a.isPresent}):v.Children.only(s),d=kt(a.ref,cN(c));return typeof s=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};bl.displayName="Presence";function lN(e){const[t,s]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=aN(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=_d(a.current);d.current=p==="mounted"?w:"none"},[p]),ln(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,T=_d(w);e?g("MOUNT"):T==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&S!==T?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),ln(()=>{if(t){const w=b=>{const T=_d(a.current).includes(b.animationName);b.target===t&&T&&aa.flushSync(()=>g("ANIMATION_END"))},_=b=>{b.target===t&&(d.current=_d(a.current))};return t.addEventListener("animationstart",_),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{t.removeEventListener("animationstart",_),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),s(w)},[])}}function _d(e){return(e==null?void 0:e.animationName)||"none"}function cN(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Hd({prop:e,defaultProp:t,onChange:s=()=>{}}){const[a,c]=uN({defaultProp:t,onChange:s}),d=e!==void 0,f=d?e:a,p=tn(s),g=v.useCallback(w=>{if(d){const b=typeof w=="function"?w(e):w;b!==e&&p(b)}else c(w)},[d,e,c,p]);return[f,g]}function uN({defaultProp:e,onChange:t}){const s=v.useState(e),[a]=s,c=v.useRef(a),d=tn(t);return v.useEffect(()=>{c.current!==a&&(d(a),c.current=a)},[a,c,d]),s}var dN="VisuallyHidden",Kc=v.forwardRef((e,t)=>i.jsx(dt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Kc.displayName=dN;var fN=Kc,xp="ToastProvider",[yp,hN,mN]=Ey("Toast"),[Ry,NL]=Yc("Toast",[mN]),[pN,lf]=Ry(xp),Ly=e=>{const{__scopeToast:t,label:s="Notification",duration:a=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:f}=e,[p,g]=v.useState(null),[w,_]=v.useState(0),b=v.useRef(!1),S=v.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${xp}\`. Expected non-empty \`string\`.`),i.jsx(yp.Provider,{scope:t,children:i.jsx(pN,{scope:t,label:s,duration:a,swipeDirection:c,swipeThreshold:d,toastCount:w,viewport:p,onViewportChange:g,onToastAdd:v.useCallback(()=>_(T=>T+1),[]),onToastRemove:v.useCallback(()=>_(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:S,children:f})})};Ly.displayName=xp;var Dy="ToastViewport",gN=["F8"],Im="toast.viewportPause",Fm="toast.viewportResume",Ay=v.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:a=gN,label:c="Notifications ({hotkey})",...d}=e,f=lf(Dy,s),p=hN(s),g=v.useRef(null),w=v.useRef(null),_=v.useRef(null),b=v.useRef(null),S=kt(t,b,f.onViewportChange),T=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=f.toastCount>0;v.useEffect(()=>{const C=k=>{var M;a.every(I=>k[I]||k.code===I)&&((M=b.current)==null||M.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[a]),v.useEffect(()=>{const C=g.current,k=b.current;if(P&&C&&k){const O=()=>{if(!f.isClosePausedRef.current){const Z=new CustomEvent(Im);k.dispatchEvent(Z),f.isClosePausedRef.current=!0}},M=()=>{if(f.isClosePausedRef.current){const Z=new CustomEvent(Fm);k.dispatchEvent(Z),f.isClosePausedRef.current=!1}},I=Z=>{!C.contains(Z.relatedTarget)&&M()},$=()=>{C.contains(document.activeElement)||M()};return C.addEventListener("focusin",O),C.addEventListener("focusout",I),C.addEventListener("pointermove",O),C.addEventListener("pointerleave",$),window.addEventListener("blur",O),window.addEventListener("focus",M),()=>{C.removeEventListener("focusin",O),C.removeEventListener("focusout",I),C.removeEventListener("pointermove",O),C.removeEventListener("pointerleave",$),window.removeEventListener("blur",O),window.removeEventListener("focus",M)}}},[P,f.isClosePausedRef]);const j=v.useCallback(({tabbingDirection:C})=>{const O=p().map(M=>{const I=M.ref.current,$=[I,...TN(I)];return C==="forwards"?$:$.reverse()});return(C==="forwards"?O.reverse():O).flat()},[p]);return v.useEffect(()=>{const C=b.current;if(C){const k=O=>{var $,Z,F;const M=O.altKey||O.ctrlKey||O.metaKey;if(O.key==="Tab"&&!M){const ie=document.activeElement,ce=O.shiftKey;if(O.target===C&&ce){($=w.current)==null||$.focus();return}const he=j({tabbingDirection:ce?"backwards":"forwards"}),Pe=he.findIndex(K=>K===ie);mm(he.slice(Pe+1))?O.preventDefault():ce?(Z=w.current)==null||Z.focus():(F=_.current)==null||F.focus()}};return C.addEventListener("keydown",k),()=>C.removeEventListener("keydown",k)}},[p,j]),i.jsxs(oN,{ref:g,role:"region","aria-label":c.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&i.jsx(zm,{ref:w,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"forwards"});mm(C)}}),i.jsx(yp.Slot,{scope:s,children:i.jsx(dt.ol,{tabIndex:-1,...d,ref:S})}),P&&i.jsx(zm,{ref:_,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"backwards"});mm(C)}})]})});Ay.displayName=Dy;var Oy="ToastFocusProxy",zm=v.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...c}=e,d=lf(Oy,s);return i.jsx(Kc,{"aria-hidden":!0,tabIndex:0,...c,ref:t,style:{position:"fixed"},onFocus:f=>{var w;const p=f.relatedTarget;!((w=d.viewport)!=null&&w.contains(p))&&a()}})});zm.displayName=Oy;var cf="Toast",vN="toast.swipeStart",xN="toast.swipeMove",yN="toast.swipeCancel",wN="toast.swipeEnd",Iy=v.forwardRef((e,t)=>{const{forceMount:s,open:a,defaultOpen:c,onOpenChange:d,...f}=e,[p=!0,g]=Hd({prop:a,defaultProp:c,onChange:d});return i.jsx(bl,{present:s||p,children:i.jsx(NN,{open:p,...f,ref:t,onClose:()=>g(!1),onPause:tn(e.onPause),onResume:tn(e.onResume),onSwipeStart:rt(e.onSwipeStart,w=>{w.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:rt(e.onSwipeMove,w=>{const{x:_,y:b}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","move"),w.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:rt(e.onSwipeCancel,w=>{w.currentTarget.setAttribute("data-swipe","cancel"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:rt(e.onSwipeEnd,w=>{const{x:_,y:b}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","end"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),g(!1)})})})});Iy.displayName=cf;var[_N,bN]=Ry(cf,{onClose(){}}),NN=v.forwardRef((e,t)=>{const{__scopeToast:s,type:a="foreground",duration:c,open:d,onClose:f,onEscapeKeyDown:p,onPause:g,onResume:w,onSwipeStart:_,onSwipeMove:b,onSwipeCancel:S,onSwipeEnd:T,...P}=e,j=lf(cf,s),[C,k]=v.useState(null),O=kt(t,K=>k(K)),M=v.useRef(null),I=v.useRef(null),$=c||j.duration,Z=v.useRef(0),F=v.useRef($),ie=v.useRef(0),{onToastAdd:ce,onToastRemove:q}=j,ne=tn(()=>{var J;(C==null?void 0:C.contains(document.activeElement))&&((J=j.viewport)==null||J.focus()),f()}),he=v.useCallback(K=>{!K||K===1/0||(window.clearTimeout(ie.current),Z.current=new Date().getTime(),ie.current=window.setTimeout(ne,K))},[ne]);v.useEffect(()=>{const K=j.viewport;if(K){const J=()=>{he(F.current),w==null||w()},ee=()=>{const pe=new Date().getTime()-Z.current;F.current=F.current-pe,window.clearTimeout(ie.current),g==null||g()};return K.addEventListener(Im,ee),K.addEventListener(Fm,J),()=>{K.removeEventListener(Im,ee),K.removeEventListener(Fm,J)}}},[j.viewport,$,g,w,he]),v.useEffect(()=>{d&&!j.isClosePausedRef.current&&he($)},[d,$,j.isClosePausedRef,he]),v.useEffect(()=>(ce(),()=>q()),[ce,q]);const Pe=v.useMemo(()=>C?Wy(C):null,[C]);return j.viewport?i.jsxs(i.Fragment,{children:[Pe&&i.jsx(SN,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:Pe}),i.jsx(_N,{scope:s,onClose:ne,children:aa.createPortal(i.jsx(yp.ItemSlot,{scope:s,children:i.jsx(sN,{asChild:!0,onEscapeKeyDown:rt(p,()=>{j.isFocusedToastEscapeKeyDownRef.current||ne(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(dt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":j.swipeDirection,...P,ref:O,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:rt(e.onKeyDown,K=>{K.key==="Escape"&&(p==null||p(K.nativeEvent),K.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,ne()))}),onPointerDown:rt(e.onPointerDown,K=>{K.button===0&&(M.current={x:K.clientX,y:K.clientY})}),onPointerMove:rt(e.onPointerMove,K=>{if(!M.current)return;const J=K.clientX-M.current.x,ee=K.clientY-M.current.y,pe=!!I.current,U=["left","right"].includes(j.swipeDirection),de=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,ae=U?de(0,J):0,z=U?0:de(0,ee),X=K.pointerType==="touch"?10:2,ye={x:ae,y:z},Ee={originalEvent:K,delta:ye};pe?(I.current=ye,bd(xN,b,Ee,{discrete:!1})):Zv(ye,j.swipeDirection,X)?(I.current=ye,bd(vN,_,Ee,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(J)>X||Math.abs(ee)>X)&&(M.current=null)}),onPointerUp:rt(e.onPointerUp,K=>{const J=I.current,ee=K.target;if(ee.hasPointerCapture(K.pointerId)&&ee.releasePointerCapture(K.pointerId),I.current=null,M.current=null,J){const pe=K.currentTarget,U={originalEvent:K,delta:J};Zv(J,j.swipeDirection,j.swipeThreshold)?bd(wN,T,U,{discrete:!0}):bd(yN,S,U,{discrete:!0}),pe.addEventListener("click",de=>de.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),SN=e=>{const{__scopeToast:t,children:s,...a}=e,c=lf(cf,t),[d,f]=v.useState(!1),[p,g]=v.useState(!1);return CN(()=>f(!0)),v.useEffect(()=>{const w=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(w)},[]),p?null:i.jsx(My,{asChild:!0,children:i.jsx(Kc,{...a,children:d&&i.jsxs(i.Fragment,{children:[c.label," ",s]})})})},jN="ToastTitle",Fy=v.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return i.jsx(dt.div,{...a,ref:t})});Fy.displayName=jN;var EN="ToastDescription",zy=v.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return i.jsx(dt.div,{...a,ref:t})});zy.displayName=EN;var $y="ToastAction",By=v.forwardRef((e,t)=>{const{altText:s,...a}=e;return s.trim()?i.jsx(Hy,{altText:s,asChild:!0,children:i.jsx(wp,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$y}\`. Expected non-empty \`string\`.`),null)});By.displayName=$y;var Uy="ToastClose",wp=v.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e,c=bN(Uy,s);return i.jsx(Hy,{asChild:!0,children:i.jsx(dt.button,{type:"button",...a,ref:t,onClick:rt(e.onClick,c.onClose)})})});wp.displayName=Uy;var Hy=v.forwardRef((e,t)=>{const{__scopeToast:s,altText:a,...c}=e;return i.jsx(dt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...c,ref:t})});function Wy(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),PN(a)){const c=a.ariaHidden||a.hidden||a.style.display==="none",d=a.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const f=a.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...Wy(a))}}),t}function bd(e,t,s,{discrete:a}){const c=s.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&c.addEventListener(e,t,{once:!0}),a?af(c,d):c.dispatchEvent(d)}var Zv=(e,t,s=0)=>{const a=Math.abs(e.x),c=Math.abs(e.y),d=a>c;return t==="left"||t==="right"?d&&a>s:!d&&c>s};function CN(e=()=>{}){const t=tn(e);ln(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[t])}function PN(e){return e.nodeType===e.ELEMENT_NODE}function TN(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function mm(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var kN=Ly,Vy=Ay,Zy=Iy,qy=Fy,Gy=zy,Yy=By,Ky=wp;function Xy(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(s=Xy(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function Qy(){for(var e,t,s=0,a="",c=arguments.length;s<c;s++)(e=arguments[s])&&(t=Xy(e))&&(a&&(a+=" "),a+=t);return a}const qv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gv=Qy,Xc=(e,t)=>s=>{var a;if((t==null?void 0:t.variants)==null)return Gv(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:c,defaultVariants:d}=t,f=Object.keys(c).map(w=>{const _=s==null?void 0:s[w],b=d==null?void 0:d[w];if(_===null)return null;const S=qv(_)||qv(b);return c[w][S]}),p=s&&Object.entries(s).reduce((w,_)=>{let[b,S]=_;return S===void 0||(w[b]=S),w},{}),g=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((w,_)=>{let{class:b,className:S,...T}=_;return Object.entries(T).every(P=>{let[j,C]=P;return Array.isArray(C)?C.includes({...d,...p}[j]):{...d,...p}[j]===C})?[...w,b,S]:w},[]);return Gv(e,f,g,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jy=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:f,...p},g)=>v.createElement("svg",{ref:g,...RN,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:Jy("lucide",c),...p},[...f.map(([w,_])=>v.createElement(w,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const s=v.forwardRef(({className:a,...c},d)=>v.createElement(LN,{ref:d,iconNode:t,className:Jy(`lucide-${MN(e)}`,a),...c}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Qe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Qe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=Qe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=Qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=Qe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=Qe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=Qe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=Qe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=Qe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=Qe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Qe("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=Qe("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=Qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Qe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Qe("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Qe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=Qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jp="-",VN=e=>{const t=qN(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:f=>{const p=f.split(jp);return p[0]===""&&p.length!==1&&p.shift(),fw(p,t)||ZN(f)},getConflictingClassGroupIds:(f,p)=>{const g=s[f]||[];return p&&a[f]?[...g,...a[f]]:g}}},fw=(e,t)=>{var f;if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),c=a?fw(e.slice(1),a):void 0;if(c)return c;if(t.validators.length===0)return;const d=e.join(jp);return(f=t.validators.find(({validator:p})=>p(d)))==null?void 0:f.classGroupId},Jv=/^\[(.+)\]$/,ZN=e=>{if(Jv.test(e)){const t=Jv.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},qN=e=>{const{theme:t,prefix:s}=e,a={nextPart:new Map,validators:[]};return YN(Object.entries(e.classGroups),s).forEach(([d,f])=>{Bm(f,a,d,t)}),a},Bm=(e,t,s,a)=>{e.forEach(c=>{if(typeof c=="string"){const d=c===""?t:ex(t,c);d.classGroupId=s;return}if(typeof c=="function"){if(GN(c)){Bm(c(a),t,s,a);return}t.validators.push({validator:c,classGroupId:s});return}Object.entries(c).forEach(([d,f])=>{Bm(f,ex(t,d),s,a)})})},ex=(e,t)=>{let s=e;return t.split(jp).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},GN=e=>e.isThemeGetter,YN=(e,t)=>t?e.map(([s,a])=>{const c=a.map(d=>typeof d=="string"?t+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([f,p])=>[t+f,p])):d);return[s,c]}):e,KN=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const c=(d,f)=>{s.set(d,f),t++,t>e&&(t=0,a=s,s=new Map)};return{get(d){let f=s.get(d);if(f!==void 0)return f;if((f=a.get(d))!==void 0)return c(d,f),f},set(d,f){s.has(d)?s.set(d,f):c(d,f)}}},hw="!",XN=e=>{const{separator:t,experimentalParseClassName:s}=e,a=t.length===1,c=t[0],d=t.length,f=p=>{const g=[];let w=0,_=0,b;for(let C=0;C<p.length;C++){let k=p[C];if(w===0){if(k===c&&(a||p.slice(C,C+d)===t)){g.push(p.slice(_,C)),_=C+d;continue}if(k==="/"){b=C;continue}}k==="["?w++:k==="]"&&w--}const S=g.length===0?p:p.substring(_),T=S.startsWith(hw),P=T?S.substring(1):S,j=b&&b>_?b-_:void 0;return{modifiers:g,hasImportantModifier:T,baseClassName:P,maybePostfixModifierPosition:j}};return s?p=>s({className:p,parseClassName:f}):f},QN=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},JN=e=>({cache:KN(e.cacheSize),parseClassName:XN(e),...VN(e)}),eS=/\s+/,tS=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:c}=t,d=[],f=e.trim().split(eS);let p="";for(let g=f.length-1;g>=0;g-=1){const w=f[g],{modifiers:_,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:T}=s(w);let P=!!T,j=a(P?S.substring(0,T):S);if(!j){if(!P){p=w+(p.length>0?" "+p:p);continue}if(j=a(S),!j){p=w+(p.length>0?" "+p:p);continue}P=!1}const C=QN(_).join(":"),k=b?C+hw:C,O=k+j;if(d.includes(O))continue;d.push(O);const M=c(j,P);for(let I=0;I<M.length;++I){const $=M[I];d.push(k+$)}p=w+(p.length>0?" "+p:p)}return p};function nS(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=mw(t))&&(a&&(a+=" "),a+=s);return a}const mw=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=mw(e[a]))&&(s&&(s+=" "),s+=t);return s};function rS(e,...t){let s,a,c,d=f;function f(g){const w=t.reduce((_,b)=>b(_),e());return s=JN(w),a=s.cache.get,c=s.cache.set,d=p,p(g)}function p(g){const w=a(g);if(w)return w;const _=tS(g,s);return c(g,_),_}return function(){return d(nS.apply(null,arguments))}}const Qt=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},pw=/^\[(?:([a-z-]+):)?(.+)\]$/i,sS=/^\d+\/\d+$/,oS=new Set(["px","full","screen"]),iS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,so=e=>ol(e)||oS.has(e)||sS.test(e),qo=e=>Nl(e,"length",xS),ol=e=>!!e&&!Number.isNaN(Number(e)),gm=e=>Nl(e,"number",ol),_c=e=>!!e&&Number.isInteger(Number(e)),dS=e=>e.endsWith("%")&&ol(e.slice(0,-1)),xt=e=>pw.test(e),Go=e=>iS.test(e),fS=new Set(["length","size","percentage"]),hS=e=>Nl(e,fS,gw),mS=e=>Nl(e,"position",gw),pS=new Set(["image","url"]),gS=e=>Nl(e,pS,wS),vS=e=>Nl(e,"",yS),bc=()=>!0,Nl=(e,t,s)=>{const a=pw.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},xS=e=>aS.test(e)&&!lS.test(e),gw=()=>!1,yS=e=>cS.test(e),wS=e=>uS.test(e),_S=()=>{const e=Qt("colors"),t=Qt("spacing"),s=Qt("blur"),a=Qt("brightness"),c=Qt("borderColor"),d=Qt("borderRadius"),f=Qt("borderSpacing"),p=Qt("borderWidth"),g=Qt("contrast"),w=Qt("grayscale"),_=Qt("hueRotate"),b=Qt("invert"),S=Qt("gap"),T=Qt("gradientColorStops"),P=Qt("gradientColorStopPositions"),j=Qt("inset"),C=Qt("margin"),k=Qt("opacity"),O=Qt("padding"),M=Qt("saturate"),I=Qt("scale"),$=Qt("sepia"),Z=Qt("skew"),F=Qt("space"),ie=Qt("translate"),ce=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto",xt,t],he=()=>[xt,t],Pe=()=>["",so,qo],K=()=>["auto",ol,xt],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],de=()=>["","0",xt],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[ol,xt];return{cacheSize:500,separator:":",theme:{colors:[bc],spacing:[so,qo],blur:["none","",Go,xt],brightness:z(),borderColor:[e],borderRadius:["none","","full",Go,xt],borderSpacing:he(),borderWidth:Pe(),contrast:z(),grayscale:de(),hueRotate:z(),invert:de(),gap:he(),gradientColorStops:[e],gradientColorStopPositions:[dS,qo],inset:ne(),margin:ne(),opacity:z(),padding:he(),saturate:z(),scale:z(),sepia:de(),skew:z(),space:he(),translate:he()},classGroups:{aspect:[{aspect:["auto","square","video",xt]}],container:["container"],columns:[{columns:[Go]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),xt]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:ce()}],"overscroll-x":[{"overscroll-x":ce()}],"overscroll-y":[{"overscroll-y":ce()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",_c,xt]}],basis:[{basis:ne()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xt]}],grow:[{grow:de()}],shrink:[{shrink:de()}],order:[{order:["first","last","none",_c,xt]}],"grid-cols":[{"grid-cols":[bc]}],"col-start-end":[{col:["auto",{span:["full",_c,xt]},xt]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[bc]}],"row-start-end":[{row:["auto",{span:[_c,xt]},xt]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xt]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xt,t]}],"min-w":[{"min-w":[xt,t,"min","max","fit"]}],"max-w":[{"max-w":[xt,t,"none","full","min","max","fit","prose",{screen:[Go]},Go]}],h:[{h:[xt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Go,qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gm]}],"font-family":[{font:[bc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xt]}],"line-clamp":[{"line-clamp":["none",ol,gm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",so,xt]}],"list-image":[{"list-image":["none",xt]}],"list-style-type":[{list:["none","disc","decimal",xt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",so,qo]}],"underline-offset":[{"underline-offset":["auto",so,xt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:he()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),mS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:ee()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[so,xt]}],"outline-w":[{outline:[so,qo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[so,qo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Go,vS]}],"shadow-color":[{shadow:[bc]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",Go,xt]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[b]}],saturate:[{saturate:[M]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xt]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",xt]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",xt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[_c,xt]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":he()}],"scroll-mx":[{"scroll-mx":he()}],"scroll-my":[{"scroll-my":he()}],"scroll-ms":[{"scroll-ms":he()}],"scroll-me":[{"scroll-me":he()}],"scroll-mt":[{"scroll-mt":he()}],"scroll-mr":[{"scroll-mr":he()}],"scroll-mb":[{"scroll-mb":he()}],"scroll-ml":[{"scroll-ml":he()}],"scroll-p":[{"scroll-p":he()}],"scroll-px":[{"scroll-px":he()}],"scroll-py":[{"scroll-py":he()}],"scroll-ps":[{"scroll-ps":he()}],"scroll-pe":[{"scroll-pe":he()}],"scroll-pt":[{"scroll-pt":he()}],"scroll-pr":[{"scroll-pr":he()}],"scroll-pb":[{"scroll-pb":he()}],"scroll-pl":[{"scroll-pl":he()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[so,qo,gm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bS=rS(_S);function it(...e){return bS(Qy(e))}const NS=kN,vw=v.forwardRef(({className:e,...t},s)=>i.jsx(Vy,{ref:s,className:it("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));vw.displayName=Vy.displayName;const SS=Xc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xw=v.forwardRef(({className:e,variant:t,...s},a)=>i.jsx(Zy,{ref:a,className:it(SS({variant:t}),e),...s}));xw.displayName=Zy.displayName;const jS=v.forwardRef(({className:e,...t},s)=>i.jsx(Yy,{ref:s,className:it("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jS.displayName=Yy.displayName;const yw=v.forwardRef(({className:e,...t},s)=>i.jsx(Ky,{ref:s,className:it("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(ff,{className:"h-4 w-4"})}));yw.displayName=Ky.displayName;const ww=v.forwardRef(({className:e,...t},s)=>i.jsx(qy,{ref:s,className:it("text-sm font-semibold",e),...t}));ww.displayName=qy.displayName;const _w=v.forwardRef(({className:e,...t},s)=>i.jsx(Gy,{ref:s,className:it("text-sm opacity-90",e),...t}));_w.displayName=Gy.displayName;function ES(){const{toasts:e}=_l();return i.jsxs(NS,{children:[e.map(function({id:t,title:s,description:a,action:c,...d}){return i.jsxs(xw,{...d,children:[i.jsxs("div",{className:"grid gap-1",children:[s&&i.jsx(ww,{children:s}),a&&i.jsx(_w,{children:a})]}),c,i.jsx(yw,{})]},t)}),i.jsx(vw,{})]})}var Nd={},tx;function CS(){if(tx)return Nd;tx=1;var e=Ny();return Nd.createRoot=e.createRoot,Nd.hydrateRoot=e.hydrateRoot,Nd}var PS=CS(),nx=["light","dark"],TS="(prefers-color-scheme: dark)",kS=v.createContext(void 0),MS={setTheme:e=>{},themes:[]},RS=()=>{var e;return(e=v.useContext(kS))!=null?e:MS};v.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:a,enableColorScheme:c,defaultTheme:d,value:f,attrs:p,nonce:g})=>{let w=d==="system",_=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${p.map(P=>`'${P}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,b=c?nx.includes(d)&&d?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${d}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",S=(P,j=!1,C=!0)=>{let k=f?f[P]:P,O=j?P+"|| ''":`'${k}'`,M="";return c&&C&&!j&&nx.includes(P)&&(M+=`d.style.colorScheme = '${P}';`),s==="class"?j||k?M+=`c.add(${O})`:M+="null":k&&(M+=`d[s](n,${O})`),M},T=e?`!function(){${_}${S(e)}}()`:a?`!function(){try{${_}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${w})){var t='${TS}',m=window.matchMedia(t);if(m.media!==t||m.matches){${S("dark")}}else{${S("light")}}}else if(e){${f?`var x=${JSON.stringify(f)};`:""}${S(f?"x[e]":"e",!0)}}${w?"":"else{"+S(d,!1,!1)+"}"}${b}}catch(e){}}()`:`!function(){try{${_}var e=localStorage.getItem('${t}');if(e){${f?`var x=${JSON.stringify(f)};`:""}${S(f?"x[e]":"e",!0)}}else{${S(d,!1,!1)};}${b}}catch(t){}}();`;return v.createElement("script",{nonce:g,dangerouslySetInnerHTML:{__html:T}})});var LS=e=>{switch(e){case"success":return OS;case"info":return FS;case"warning":return IS;case"error":return zS;default:return null}},DS=Array(12).fill(0),AS=({visible:e})=>Re.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Re.createElement("div",{className:"sonner-spinner"},DS.map((t,s)=>Re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),OS=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),IS=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),FS=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zS=Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$S=()=>{let[e,t]=Re.useState(document.hidden);return Re.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},Um=1,BS=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...a}=e,c=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Um++,d=this.toasts.find(p=>p.id===c),f=e.dismissible===void 0?!0:e.dismissible;return d?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...e,id:c,title:s}),{...p,...e,id:c,dismissible:f,title:s}):p):this.addToast({title:s,...a,dismissible:f,id:c}),c},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=e instanceof Promise?e:e(),c=s!==void 0;return a.then(async d=>{if(HS(d)&&!d.ok){c=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:s,type:"error",message:f,description:p})}else if(t.success!==void 0){c=!1;let f=typeof t.success=="function"?await t.success(d):t.success,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:s,type:"success",message:f,description:p})}}).catch(async d=>{if(t.error!==void 0){c=!1;let f=typeof t.error=="function"?await t.error(d):t.error,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:s,type:"error",message:f,description:p})}}).finally(()=>{var d;c&&(this.dismiss(s),s=void 0),(d=t.finally)==null||d.call(t)}),s},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||Um++;return this.create({jsx:e(s),id:s,...t}),s},this.subscribers=[],this.toasts=[]}},Cr=new BS,US=(e,t)=>{let s=(t==null?void 0:t.id)||Um++;return Cr.addToast({title:e,...t,id:s}),s},HS=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",WS=US,VS=()=>Cr.toasts;Object.assign(WS,{success:Cr.success,info:Cr.info,warning:Cr.warning,error:Cr.error,custom:Cr.custom,message:Cr.message,promise:Cr.promise,dismiss:Cr.dismiss,loading:Cr.loading},{getHistory:VS});function ZS(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}ZS(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Sd(e){return e.label!==void 0}var qS=3,GS="32px",YS=4e3,KS=356,XS=14,QS=20,JS=200;function ej(...e){return e.filter(Boolean).join(" ")}var tj=e=>{var t,s,a,c,d,f,p,g,w,_;let{invert:b,toast:S,unstyled:T,interacting:P,setHeights:j,visibleToasts:C,heights:k,index:O,toasts:M,expanded:I,removeToast:$,defaultRichColors:Z,closeButton:F,style:ie,cancelButtonStyle:ce,actionButtonStyle:q,className:ne="",descriptionClassName:he="",duration:Pe,position:K,gap:J,loadingIcon:ee,expandByDefault:pe,classNames:U,icons:de,closeButtonAriaLabel:ae="Close toast",pauseWhenPageIsHidden:z,cn:X}=e,[ye,Ee]=Re.useState(!1),[we,Y]=Re.useState(!1),[A,V]=Re.useState(!1),[te,ge]=Re.useState(!1),[Le,Ae]=Re.useState(0),[Ge,gt]=Re.useState(0),Ft=Re.useRef(null),ht=Re.useRef(null),It=O===0,At=O+1<=C,ft=S.type,Oe=S.dismissible!==!1,Nt=S.className||"",St=S.descriptionClassName||"",Ut=Re.useMemo(()=>k.findIndex(se=>se.toastId===S.id)||0,[k,S.id]),Mn=Re.useMemo(()=>{var se;return(se=S.closeButton)!=null?se:F},[S.closeButton,F]),En=Re.useMemo(()=>S.duration||Pe||YS,[S.duration,Pe]),Ht=Re.useRef(0),mn=Re.useRef(0),wn=Re.useRef(0),Cn=Re.useRef(null),[Q,be]=K.split("-"),Be=Re.useMemo(()=>k.reduce((se,ve,Te)=>Te>=Ut?se:se+ve.height,0),[k,Ut]),Ve=$S(),st=S.invert||b,$e=ft==="loading";mn.current=Re.useMemo(()=>Ut*J+Be,[Ut,Be]),Re.useEffect(()=>{Ee(!0)},[]),Re.useLayoutEffect(()=>{if(!ye)return;let se=ht.current,ve=se.style.height;se.style.height="auto";let Te=se.getBoundingClientRect().height;se.style.height=ve,gt(Te),j(De=>De.find(Ie=>Ie.toastId===S.id)?De.map(Ie=>Ie.toastId===S.id?{...Ie,height:Te}:Ie):[{toastId:S.id,height:Te,position:S.position},...De])},[ye,S.title,S.description,j,S.id]);let Me=Re.useCallback(()=>{Y(!0),Ae(mn.current),j(se=>se.filter(ve=>ve.toastId!==S.id)),setTimeout(()=>{$(S)},JS)},[S,$,j,mn]);Re.useEffect(()=>{if(S.promise&&ft==="loading"||S.duration===1/0||S.type==="loading")return;let se,ve=En;return I||P||z&&Ve?(()=>{if(wn.current<Ht.current){let Te=new Date().getTime()-Ht.current;ve=ve-Te}wn.current=new Date().getTime()})():ve!==1/0&&(Ht.current=new Date().getTime(),se=setTimeout(()=>{var Te;(Te=S.onAutoClose)==null||Te.call(S,S),Me()},ve)),()=>clearTimeout(se)},[I,P,pe,S,En,Me,S.promise,ft,z,Ve]),Re.useEffect(()=>{let se=ht.current;if(se){let ve=se.getBoundingClientRect().height;return gt(ve),j(Te=>[{toastId:S.id,height:ve,position:S.position},...Te]),()=>j(Te=>Te.filter(De=>De.toastId!==S.id))}},[j,S.id]),Re.useEffect(()=>{S.delete&&Me()},[Me,S.delete]);function Ye(){return de!=null&&de.loading?Re.createElement("div",{className:"sonner-loader","data-visible":ft==="loading"},de.loading):ee?Re.createElement("div",{className:"sonner-loader","data-visible":ft==="loading"},ee):Re.createElement(AS,{visible:ft==="loading"})}return Re.createElement("li",{"aria-live":S.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ht,className:X(ne,Nt,U==null?void 0:U.toast,(t=S==null?void 0:S.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[ft],(s=S==null?void 0:S.classNames)==null?void 0:s[ft]),"data-sonner-toast":"","data-rich-colors":(a=S.richColors)!=null?a:Z,"data-styled":!(S.jsx||S.unstyled||T),"data-mounted":ye,"data-promise":!!S.promise,"data-removed":we,"data-visible":At,"data-y-position":Q,"data-x-position":be,"data-index":O,"data-front":It,"data-swiping":A,"data-dismissible":Oe,"data-type":ft,"data-invert":st,"data-swipe-out":te,"data-expanded":!!(I||pe&&ye),style:{"--index":O,"--toasts-before":O,"--z-index":M.length-O,"--offset":`${we?Le:mn.current}px`,"--initial-height":pe?"auto":`${Ge}px`,...ie,...S.style},onPointerDown:se=>{$e||!Oe||(Ft.current=new Date,Ae(mn.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(V(!0),Cn.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,ve,Te,De;if(te||!Oe)return;Cn.current=null;let Ie=Number(((se=ht.current)==null?void 0:se.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Lt=new Date().getTime()-((ve=Ft.current)==null?void 0:ve.getTime()),Ke=Math.abs(Ie)/Lt;if(Math.abs(Ie)>=QS||Ke>.11){Ae(mn.current),(Te=S.onDismiss)==null||Te.call(S,S),Me(),ge(!0);return}(De=ht.current)==null||De.style.setProperty("--swipe-amount","0px"),V(!1)},onPointerMove:se=>{var ve;if(!Cn.current||!Oe)return;let Te=se.clientY-Cn.current.y,De=se.clientX-Cn.current.x,Ie=(Q==="top"?Math.min:Math.max)(0,Te),Lt=se.pointerType==="touch"?10:2;Math.abs(Ie)>Lt?(ve=ht.current)==null||ve.style.setProperty("--swipe-amount",`${Te}px`):Math.abs(De)>Lt&&(Cn.current=null)}},Mn&&!S.jsx?Re.createElement("button",{"aria-label":ae,"data-disabled":$e,"data-close-button":!0,onClick:$e||!Oe?()=>{}:()=>{var se;Me(),(se=S.onDismiss)==null||se.call(S,S)},className:X(U==null?void 0:U.closeButton,(c=S==null?void 0:S.classNames)==null?void 0:c.closeButton)},Re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,S.jsx||Re.isValidElement(S.title)?S.jsx||S.title:Re.createElement(Re.Fragment,null,ft||S.icon||S.promise?Re.createElement("div",{"data-icon":"",className:X(U==null?void 0:U.icon,(d=S==null?void 0:S.classNames)==null?void 0:d.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||Ye():null,S.type!=="loading"?S.icon||(de==null?void 0:de[ft])||LS(ft):null):null,Re.createElement("div",{"data-content":"",className:X(U==null?void 0:U.content,(f=S==null?void 0:S.classNames)==null?void 0:f.content)},Re.createElement("div",{"data-title":"",className:X(U==null?void 0:U.title,(p=S==null?void 0:S.classNames)==null?void 0:p.title)},S.title),S.description?Re.createElement("div",{"data-description":"",className:X(he,St,U==null?void 0:U.description,(g=S==null?void 0:S.classNames)==null?void 0:g.description)},S.description):null),Re.isValidElement(S.cancel)?S.cancel:S.cancel&&Sd(S.cancel)?Re.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||ce,onClick:se=>{var ve,Te;Sd(S.cancel)&&Oe&&((Te=(ve=S.cancel).onClick)==null||Te.call(ve,se),Me())},className:X(U==null?void 0:U.cancelButton,(w=S==null?void 0:S.classNames)==null?void 0:w.cancelButton)},S.cancel.label):null,Re.isValidElement(S.action)?S.action:S.action&&Sd(S.action)?Re.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||q,onClick:se=>{var ve,Te;Sd(S.action)&&(se.defaultPrevented||((Te=(ve=S.action).onClick)==null||Te.call(ve,se),Me()))},className:X(U==null?void 0:U.actionButton,(_=S==null?void 0:S.classNames)==null?void 0:_.actionButton)},S.action.label):null))};function rx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var nj=e=>{let{invert:t,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,theme:g="light",richColors:w,duration:_,style:b,visibleToasts:S=qS,toastOptions:T,dir:P=rx(),gap:j=XS,loadingIcon:C,icons:k,containerAriaLabel:O="Notifications",pauseWhenPageIsHidden:M,cn:I=ej}=e,[$,Z]=Re.useState([]),F=Re.useMemo(()=>Array.from(new Set([s].concat($.filter(z=>z.position).map(z=>z.position)))),[$,s]),[ie,ce]=Re.useState([]),[q,ne]=Re.useState(!1),[he,Pe]=Re.useState(!1),[K,J]=Re.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=Re.useRef(null),pe=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=Re.useRef(null),de=Re.useRef(!1),ae=Re.useCallback(z=>{var X;(X=$.find(ye=>ye.id===z.id))!=null&&X.delete||Cr.dismiss(z.id),Z(ye=>ye.filter(({id:Ee})=>Ee!==z.id))},[$]);return Re.useEffect(()=>Cr.subscribe(z=>{if(z.dismiss){Z(X=>X.map(ye=>ye.id===z.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{of.flushSync(()=>{Z(X=>{let ye=X.findIndex(Ee=>Ee.id===z.id);return ye!==-1?[...X.slice(0,ye),{...X[ye],...z},...X.slice(ye+1)]:[z,...X]})})})}),[]),Re.useEffect(()=>{if(g!=="system"){J(g);return}g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{J(z?"dark":"light")})},[g]),Re.useEffect(()=>{$.length<=1&&ne(!1)},[$]),Re.useEffect(()=>{let z=X=>{var ye,Ee;a.every(we=>X[we]||X.code===we)&&(ne(!0),(ye=ee.current)==null||ye.focus()),X.code==="Escape"&&(document.activeElement===ee.current||(Ee=ee.current)!=null&&Ee.contains(document.activeElement))&&ne(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[a]),Re.useEffect(()=>{if(ee.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,de.current=!1)}},[ee.current]),$.length?Re.createElement("section",{"aria-label":`${O} ${pe}`,tabIndex:-1},F.map((z,X)=>{var ye;let[Ee,we]=z.split("-");return Re.createElement("ol",{key:z,dir:P==="auto"?rx():P,tabIndex:-1,ref:ee,className:f,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":Ee,"data-x-position":we,style:{"--front-toast-height":`${((ye=ie[0])==null?void 0:ye.height)||0}px`,"--offset":typeof p=="number"?`${p}px`:p||GS,"--width":`${KS}px`,"--gap":`${j}px`,...b},onBlur:Y=>{de.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(de.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||de.current||(de.current=!0,U.current=Y.relatedTarget)},onMouseEnter:()=>ne(!0),onMouseMove:()=>ne(!0),onMouseLeave:()=>{he||ne(!1)},onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||Pe(!0)},onPointerUp:()=>Pe(!1)},$.filter(Y=>!Y.position&&X===0||Y.position===z).map((Y,A)=>{var V,te;return Re.createElement(tj,{key:Y.id,icons:k,index:A,toast:Y,defaultRichColors:w,duration:(V=T==null?void 0:T.duration)!=null?V:_,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:t,visibleToasts:S,closeButton:(te=T==null?void 0:T.closeButton)!=null?te:d,interacting:he,position:z,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,removeToast:ae,toasts:$.filter(ge=>ge.position==Y.position),heights:ie.filter(ge=>ge.position==Y.position),setHeights:ce,expandByDefault:c,gap:j,loadingIcon:C,expanded:q,pauseWhenPageIsHidden:M,cn:I})}))})):null};const rj=({...e})=>{const{theme:t="system"}=RS();return i.jsx(nj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function sj(e,t=[]){let s=[];function a(d,f){const p=v.createContext(f),g=s.length;s=[...s,f];const w=b=>{var k;const{scope:S,children:T,...P}=b,j=((k=S==null?void 0:S[e])==null?void 0:k[g])||p,C=v.useMemo(()=>P,Object.values(P));return i.jsx(j.Provider,{value:C,children:T})};w.displayName=d+"Provider";function _(b,S){var j;const T=((j=S==null?void 0:S[e])==null?void 0:j[g])||p,P=v.useContext(T);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[w,_]}const c=()=>{const d=s.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,oj(c,...t)]}function oj(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return s.scopeName=t.scopeName,s}var ij="DismissableLayer",Hm="dismissableLayer.update",aj="dismissableLayer.pointerDownOutside",lj="dismissableLayer.focusOutside",sx,bw=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ep=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(bw),[_,b]=v.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=v.useState({}),P=kt(t,F=>b(F)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),k=j.indexOf(C),O=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,I=O>=k,$=dj(F=>{const ie=F.target,ce=[...w.branches].some(q=>q.contains(ie));!I||ce||(c==null||c(F),f==null||f(F),F.defaultPrevented||p==null||p())},S),Z=fj(F=>{const ie=F.target;[...w.branches].some(q=>q.contains(ie))||(d==null||d(F),f==null||f(F),F.defaultPrevented||p==null||p())},S);return vp(F=>{O===w.layers.size-1&&(a==null||a(F),!F.defaultPrevented&&p&&(F.preventDefault(),p()))},S),v.useEffect(()=>{if(_)return s&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(sx=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),ox(),()=>{s&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=sx)}},[_,S,s,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),ox())},[_,w]),v.useEffect(()=>{const F=()=>T({});return document.addEventListener(Hm,F),()=>document.removeEventListener(Hm,F)},[]),i.jsx(dt.div,{...g,ref:P,style:{pointerEvents:M?I?"auto":"none":void 0,...e.style},onFocusCapture:rt(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:rt(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:rt(e.onPointerDownCapture,$.onPointerDownCapture)})});Ep.displayName=ij;var cj="DismissableLayerBranch",uj=v.forwardRef((e,t)=>{const s=v.useContext(bw),a=v.useRef(null),c=kt(t,a);return v.useEffect(()=>{const d=a.current;if(d)return s.branches.add(d),()=>{s.branches.delete(d)}},[s.branches]),i.jsx(dt.div,{...e,ref:c})});uj.displayName=cj;function dj(e,t=globalThis==null?void 0:globalThis.document){const s=tn(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){Nw(aj,s,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,s]),{onPointerDownCapture:()=>a.current=!0}}function fj(e,t=globalThis==null?void 0:globalThis.document){const s=tn(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&Nw(lj,s,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ox(){const e=new CustomEvent(Hm);document.dispatchEvent(e)}function Nw(e,t,s,{discrete:a}){const c=s.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&c.addEventListener(e,t,{once:!0}),a?af(c,d):c.dispatchEvent(d)}var hj=by.useId||(()=>{}),mj=0;function il(e){const[t,s]=v.useState(hj());return ln(()=>{s(a=>a??String(mj++))},[e]),t?`radix-${t}`:""}const pj=["top","right","bottom","left"],li=Math.min,Pr=Math.max,Vd=Math.round,jd=Math.floor,ci=e=>({x:e,y:e}),gj={left:"right",right:"left",bottom:"top",top:"bottom"},vj={start:"end",end:"start"};function Wm(e,t,s){return Pr(e,li(t,s))}function uo(e,t){return typeof e=="function"?e(t):e}function fo(e){return e.split("-")[0]}function Sl(e){return e.split("-")[1]}function Cp(e){return e==="x"?"y":"x"}function Pp(e){return e==="y"?"height":"width"}function ui(e){return["top","bottom"].includes(fo(e))?"y":"x"}function Tp(e){return Cp(ui(e))}function xj(e,t,s){s===void 0&&(s=!1);const a=Sl(e),c=Tp(e),d=Pp(c);let f=c==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[d]>t.floating[d]&&(f=Zd(f)),[f,Zd(f)]}function yj(e){const t=Zd(e);return[Vm(e),t,Vm(t)]}function Vm(e){return e.replace(/start|end/g,t=>vj[t])}function wj(e,t,s){const a=["left","right"],c=["right","left"],d=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return s?t?c:a:t?a:c;case"left":case"right":return t?d:f;default:return[]}}function _j(e,t,s,a){const c=Sl(e);let d=wj(fo(e),s==="start",a);return c&&(d=d.map(f=>f+"-"+c),t&&(d=d.concat(d.map(Vm)))),d}function Zd(e){return e.replace(/left|right|bottom|top/g,t=>gj[t])}function bj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Sw(e){return typeof e!="number"?bj(e):{top:e,right:e,bottom:e,left:e}}function qd(e){const{x:t,y:s,width:a,height:c}=e;return{width:a,height:c,top:s,left:t,right:t+a,bottom:s+c,x:t,y:s}}function ix(e,t,s){let{reference:a,floating:c}=e;const d=ui(t),f=Tp(t),p=Pp(f),g=fo(t),w=d==="y",_=a.x+a.width/2-c.width/2,b=a.y+a.height/2-c.height/2,S=a[p]/2-c[p]/2;let T;switch(g){case"top":T={x:_,y:a.y-c.height};break;case"bottom":T={x:_,y:a.y+a.height};break;case"right":T={x:a.x+a.width,y:b};break;case"left":T={x:a.x-c.width,y:b};break;default:T={x:a.x,y:a.y}}switch(Sl(t)){case"start":T[f]-=S*(s&&w?-1:1);break;case"end":T[f]+=S*(s&&w?-1:1);break}return T}const Nj=async(e,t,s)=>{const{placement:a="bottom",strategy:c="absolute",middleware:d=[],platform:f}=s,p=d.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(t));let w=await f.getElementRects({reference:e,floating:t,strategy:c}),{x:_,y:b}=ix(w,a,g),S=a,T={},P=0;for(let j=0;j<p.length;j++){const{name:C,fn:k}=p[j],{x:O,y:M,data:I,reset:$}=await k({x:_,y:b,initialPlacement:a,placement:S,strategy:c,middlewareData:T,rects:w,platform:f,elements:{reference:e,floating:t}});_=O??_,b=M??b,T={...T,[C]:{...T[C],...I}},$&&P<=50&&(P++,typeof $=="object"&&($.placement&&(S=$.placement),$.rects&&(w=$.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:c}):$.rects),{x:_,y:b}=ix(w,S,g)),j=-1)}return{x:_,y:b,placement:S,strategy:c,middlewareData:T}};async function zc(e,t){var s;t===void 0&&(t={});const{x:a,y:c,platform:d,rects:f,elements:p,strategy:g}=e,{boundary:w="clippingAncestors",rootBoundary:_="viewport",elementContext:b="floating",altBoundary:S=!1,padding:T=0}=uo(t,e),P=Sw(T),C=p[S?b==="floating"?"reference":"floating":b],k=qd(await d.getClippingRect({element:(s=await(d.isElement==null?void 0:d.isElement(C)))==null||s?C:C.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(p.floating)),boundary:w,rootBoundary:_,strategy:g})),O=b==="floating"?{x:a,y:c,width:f.floating.width,height:f.floating.height}:f.reference,M=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p.floating)),I=await(d.isElement==null?void 0:d.isElement(M))?await(d.getScale==null?void 0:d.getScale(M))||{x:1,y:1}:{x:1,y:1},$=qd(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:O,offsetParent:M,strategy:g}):O);return{top:(k.top-$.top+P.top)/I.y,bottom:($.bottom-k.bottom+P.bottom)/I.y,left:(k.left-$.left+P.left)/I.x,right:($.right-k.right+P.right)/I.x}}const Sj=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:a,placement:c,rects:d,platform:f,elements:p,middlewareData:g}=t,{element:w,padding:_=0}=uo(e,t)||{};if(w==null)return{};const b=Sw(_),S={x:s,y:a},T=Tp(c),P=Pp(T),j=await f.getDimensions(w),C=T==="y",k=C?"top":"left",O=C?"bottom":"right",M=C?"clientHeight":"clientWidth",I=d.reference[P]+d.reference[T]-S[T]-d.floating[P],$=S[T]-d.reference[T],Z=await(f.getOffsetParent==null?void 0:f.getOffsetParent(w));let F=Z?Z[M]:0;(!F||!await(f.isElement==null?void 0:f.isElement(Z)))&&(F=p.floating[M]||d.floating[P]);const ie=I/2-$/2,ce=F/2-j[P]/2-1,q=li(b[k],ce),ne=li(b[O],ce),he=q,Pe=F-j[P]-ne,K=F/2-j[P]/2+ie,J=Wm(he,K,Pe),ee=!g.arrow&&Sl(c)!=null&&K!==J&&d.reference[P]/2-(K<he?q:ne)-j[P]/2<0,pe=ee?K<he?K-he:K-Pe:0;return{[T]:S[T]+pe,data:{[T]:J,centerOffset:K-J-pe,...ee&&{alignmentOffset:pe}},reset:ee}}}),jj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,a;const{placement:c,middlewareData:d,rects:f,initialPlacement:p,platform:g,elements:w}=t,{mainAxis:_=!0,crossAxis:b=!0,fallbackPlacements:S,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:j=!0,...C}=uo(e,t);if((s=d.arrow)!=null&&s.alignmentOffset)return{};const k=fo(c),O=ui(p),M=fo(p)===p,I=await(g.isRTL==null?void 0:g.isRTL(w.floating)),$=S||(M||!j?[Zd(p)]:yj(p)),Z=P!=="none";!S&&Z&&$.push(..._j(p,j,P,I));const F=[p,...$],ie=await zc(t,C),ce=[];let q=((a=d.flip)==null?void 0:a.overflows)||[];if(_&&ce.push(ie[k]),b){const K=xj(c,f,I);ce.push(ie[K[0]],ie[K[1]])}if(q=[...q,{placement:c,overflows:ce}],!ce.every(K=>K<=0)){var ne,he;const K=(((ne=d.flip)==null?void 0:ne.index)||0)+1,J=F[K];if(J)return{data:{index:K,overflows:q},reset:{placement:J}};let ee=(he=q.filter(pe=>pe.overflows[0]<=0).sort((pe,U)=>pe.overflows[1]-U.overflows[1])[0])==null?void 0:he.placement;if(!ee)switch(T){case"bestFit":{var Pe;const pe=(Pe=q.filter(U=>{if(Z){const de=ui(U.placement);return de===O||de==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(de=>de>0).reduce((de,ae)=>de+ae,0)]).sort((U,de)=>U[1]-de[1])[0])==null?void 0:Pe[0];pe&&(ee=pe);break}case"initialPlacement":ee=p;break}if(c!==ee)return{reset:{placement:ee}}}return{}}}};function ax(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lx(e){return pj.some(t=>e[t]>=0)}const Ej=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:a="referenceHidden",...c}=uo(e,t);switch(a){case"referenceHidden":{const d=await zc(t,{...c,elementContext:"reference"}),f=ax(d,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:lx(f)}}}case"escaped":{const d=await zc(t,{...c,altBoundary:!0}),f=ax(d,s.floating);return{data:{escapedOffsets:f,escaped:lx(f)}}}default:return{}}}}};async function Cj(e,t){const{placement:s,platform:a,elements:c}=e,d=await(a.isRTL==null?void 0:a.isRTL(c.floating)),f=fo(s),p=Sl(s),g=ui(s)==="y",w=["left","top"].includes(f)?-1:1,_=d&&g?-1:1,b=uo(t,e);let{mainAxis:S,crossAxis:T,alignmentAxis:P}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return p&&typeof P=="number"&&(T=p==="end"?P*-1:P),g?{x:T*_,y:S*w}:{x:S*w,y:T*_}}const Pj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,a;const{x:c,y:d,placement:f,middlewareData:p}=t,g=await Cj(t,e);return f===((s=p.offset)==null?void 0:s.placement)&&(a=p.arrow)!=null&&a.alignmentOffset?{}:{x:c+g.x,y:d+g.y,data:{...g,placement:f}}}}},Tj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:a,placement:c}=t,{mainAxis:d=!0,crossAxis:f=!1,limiter:p={fn:C=>{let{x:k,y:O}=C;return{x:k,y:O}}},...g}=uo(e,t),w={x:s,y:a},_=await zc(t,g),b=ui(fo(c)),S=Cp(b);let T=w[S],P=w[b];if(d){const C=S==="y"?"top":"left",k=S==="y"?"bottom":"right",O=T+_[C],M=T-_[k];T=Wm(O,T,M)}if(f){const C=b==="y"?"top":"left",k=b==="y"?"bottom":"right",O=P+_[C],M=P-_[k];P=Wm(O,P,M)}const j=p.fn({...t,[S]:T,[b]:P});return{...j,data:{x:j.x-s,y:j.y-a,enabled:{[S]:d,[b]:f}}}}}},kj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:a,placement:c,rects:d,middlewareData:f}=t,{offset:p=0,mainAxis:g=!0,crossAxis:w=!0}=uo(e,t),_={x:s,y:a},b=ui(c),S=Cp(b);let T=_[S],P=_[b];const j=uo(p,t),C=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(g){const M=S==="y"?"height":"width",I=d.reference[S]-d.floating[M]+C.mainAxis,$=d.reference[S]+d.reference[M]-C.mainAxis;T<I?T=I:T>$&&(T=$)}if(w){var k,O;const M=S==="y"?"width":"height",I=["top","left"].includes(fo(c)),$=d.reference[b]-d.floating[M]+(I&&((k=f.offset)==null?void 0:k[b])||0)+(I?0:C.crossAxis),Z=d.reference[b]+d.reference[M]+(I?0:((O=f.offset)==null?void 0:O[b])||0)-(I?C.crossAxis:0);P<$?P=$:P>Z&&(P=Z)}return{[S]:T,[b]:P}}}},Mj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,a;const{placement:c,rects:d,platform:f,elements:p}=t,{apply:g=()=>{},...w}=uo(e,t),_=await zc(t,w),b=fo(c),S=Sl(c),T=ui(c)==="y",{width:P,height:j}=d.floating;let C,k;b==="top"||b==="bottom"?(C=b,k=S===(await(f.isRTL==null?void 0:f.isRTL(p.floating))?"start":"end")?"left":"right"):(k=b,C=S==="end"?"top":"bottom");const O=j-_.top-_.bottom,M=P-_.left-_.right,I=li(j-_[C],O),$=li(P-_[k],M),Z=!t.middlewareData.shift;let F=I,ie=$;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(ie=M),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(F=O),Z&&!S){const q=Pr(_.left,0),ne=Pr(_.right,0),he=Pr(_.top,0),Pe=Pr(_.bottom,0);T?ie=P-2*(q!==0||ne!==0?q+ne:Pr(_.left,_.right)):F=j-2*(he!==0||Pe!==0?he+Pe:Pr(_.top,_.bottom))}await g({...t,availableWidth:ie,availableHeight:F});const ce=await f.getDimensions(p.floating);return P!==ce.width||j!==ce.height?{reset:{rects:!0}}:{}}}};function hf(){return typeof window<"u"}function jl(e){return jw(e)?(e.nodeName||"").toLowerCase():"#document"}function Tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Os(e){var t;return(t=(jw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jw(e){return hf()?e instanceof Node||e instanceof Tr(e).Node:!1}function us(e){return hf()?e instanceof Element||e instanceof Tr(e).Element:!1}function As(e){return hf()?e instanceof HTMLElement||e instanceof Tr(e).HTMLElement:!1}function cx(e){return!hf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Tr(e).ShadowRoot}function Jc(e){const{overflow:t,overflowX:s,overflowY:a,display:c}=ds(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+s)&&!["inline","contents"].includes(c)}function Rj(e){return["table","td","th"].includes(jl(e))}function mf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function kp(e){const t=Mp(),s=us(e)?ds(e):e;return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(s.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(s.contain||"").includes(a))}function Lj(e){let t=di(e);for(;As(t)&&!xl(t);){if(kp(t))return t;if(mf(t))return null;t=di(t)}return null}function Mp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xl(e){return["html","body","#document"].includes(jl(e))}function ds(e){return Tr(e).getComputedStyle(e)}function pf(e){return us(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function di(e){if(jl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cx(e)&&e.host||Os(e);return cx(t)?t.host:t}function Ew(e){const t=di(e);return xl(t)?e.ownerDocument?e.ownerDocument.body:e.body:As(t)&&Jc(t)?t:Ew(t)}function $c(e,t,s){var a;t===void 0&&(t=[]),s===void 0&&(s=!0);const c=Ew(e),d=c===((a=e.ownerDocument)==null?void 0:a.body),f=Tr(c);if(d){const p=Zm(f);return t.concat(f,f.visualViewport||[],Jc(c)?c:[],p&&s?$c(p):[])}return t.concat(c,$c(c,[],s))}function Zm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Cw(e){const t=ds(e);let s=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const c=As(e),d=c?e.offsetWidth:s,f=c?e.offsetHeight:a,p=Vd(s)!==d||Vd(a)!==f;return p&&(s=d,a=f),{width:s,height:a,$:p}}function Rp(e){return us(e)?e:e.contextElement}function al(e){const t=Rp(e);if(!As(t))return ci(1);const s=t.getBoundingClientRect(),{width:a,height:c,$:d}=Cw(t);let f=(d?Vd(s.width):s.width)/a,p=(d?Vd(s.height):s.height)/c;return(!f||!Number.isFinite(f))&&(f=1),(!p||!Number.isFinite(p))&&(p=1),{x:f,y:p}}const Dj=ci(0);function Pw(e){const t=Tr(e);return!Mp()||!t.visualViewport?Dj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Aj(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==Tr(e)?!1:t}function na(e,t,s,a){t===void 0&&(t=!1),s===void 0&&(s=!1);const c=e.getBoundingClientRect(),d=Rp(e);let f=ci(1);t&&(a?us(a)&&(f=al(a)):f=al(e));const p=Aj(d,s,a)?Pw(d):ci(0);let g=(c.left+p.x)/f.x,w=(c.top+p.y)/f.y,_=c.width/f.x,b=c.height/f.y;if(d){const S=Tr(d),T=a&&us(a)?Tr(a):a;let P=S,j=Zm(P);for(;j&&a&&T!==P;){const C=al(j),k=j.getBoundingClientRect(),O=ds(j),M=k.left+(j.clientLeft+parseFloat(O.paddingLeft))*C.x,I=k.top+(j.clientTop+parseFloat(O.paddingTop))*C.y;g*=C.x,w*=C.y,_*=C.x,b*=C.y,g+=M,w+=I,P=Tr(j),j=Zm(P)}}return qd({width:_,height:b,x:g,y:w})}function Oj(e){let{elements:t,rect:s,offsetParent:a,strategy:c}=e;const d=c==="fixed",f=Os(a),p=t?mf(t.floating):!1;if(a===f||p&&d)return s;let g={scrollLeft:0,scrollTop:0},w=ci(1);const _=ci(0),b=As(a);if((b||!b&&!d)&&((jl(a)!=="body"||Jc(f))&&(g=pf(a)),As(a))){const S=na(a);w=al(a),_.x=S.x+a.clientLeft,_.y=S.y+a.clientTop}return{width:s.width*w.x,height:s.height*w.y,x:s.x*w.x-g.scrollLeft*w.x+_.x,y:s.y*w.y-g.scrollTop*w.y+_.y}}function Ij(e){return Array.from(e.getClientRects())}function qm(e,t){const s=pf(e).scrollLeft;return t?t.left+s:na(Os(e)).left+s}function Fj(e){const t=Os(e),s=pf(e),a=e.ownerDocument.body,c=Pr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),d=Pr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let f=-s.scrollLeft+qm(e);const p=-s.scrollTop;return ds(a).direction==="rtl"&&(f+=Pr(t.clientWidth,a.clientWidth)-c),{width:c,height:d,x:f,y:p}}function zj(e,t){const s=Tr(e),a=Os(e),c=s.visualViewport;let d=a.clientWidth,f=a.clientHeight,p=0,g=0;if(c){d=c.width,f=c.height;const w=Mp();(!w||w&&t==="fixed")&&(p=c.offsetLeft,g=c.offsetTop)}return{width:d,height:f,x:p,y:g}}function $j(e,t){const s=na(e,!0,t==="fixed"),a=s.top+e.clientTop,c=s.left+e.clientLeft,d=As(e)?al(e):ci(1),f=e.clientWidth*d.x,p=e.clientHeight*d.y,g=c*d.x,w=a*d.y;return{width:f,height:p,x:g,y:w}}function ux(e,t,s){let a;if(t==="viewport")a=zj(e,s);else if(t==="document")a=Fj(Os(e));else if(us(t))a=$j(t,s);else{const c=Pw(e);a={...t,x:t.x-c.x,y:t.y-c.y}}return qd(a)}function Tw(e,t){const s=di(e);return s===t||!us(s)||xl(s)?!1:ds(s).position==="fixed"||Tw(s,t)}function Bj(e,t){const s=t.get(e);if(s)return s;let a=$c(e,[],!1).filter(p=>us(p)&&jl(p)!=="body"),c=null;const d=ds(e).position==="fixed";let f=d?di(e):e;for(;us(f)&&!xl(f);){const p=ds(f),g=kp(f);!g&&p.position==="fixed"&&(c=null),(d?!g&&!c:!g&&p.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||Jc(f)&&!g&&Tw(e,f))?a=a.filter(_=>_!==f):c=p,f=di(f)}return t.set(e,a),a}function Uj(e){let{element:t,boundary:s,rootBoundary:a,strategy:c}=e;const f=[...s==="clippingAncestors"?mf(t)?[]:Bj(t,this._c):[].concat(s),a],p=f[0],g=f.reduce((w,_)=>{const b=ux(t,_,c);return w.top=Pr(b.top,w.top),w.right=li(b.right,w.right),w.bottom=li(b.bottom,w.bottom),w.left=Pr(b.left,w.left),w},ux(t,p,c));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function Hj(e){const{width:t,height:s}=Cw(e);return{width:t,height:s}}function Wj(e,t,s){const a=As(t),c=Os(t),d=s==="fixed",f=na(e,!0,d,t);let p={scrollLeft:0,scrollTop:0};const g=ci(0);if(a||!a&&!d)if((jl(t)!=="body"||Jc(c))&&(p=pf(t)),a){const T=na(t,!0,d,t);g.x=T.x+t.clientLeft,g.y=T.y+t.clientTop}else c&&(g.x=qm(c));let w=0,_=0;if(c&&!a&&!d){const T=c.getBoundingClientRect();_=T.top+p.scrollTop,w=T.left+p.scrollLeft-qm(c,T)}const b=f.left+p.scrollLeft-g.x-w,S=f.top+p.scrollTop-g.y-_;return{x:b,y:S,width:f.width,height:f.height}}function vm(e){return ds(e).position==="static"}function dx(e,t){if(!As(e)||ds(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Os(e)===s&&(s=s.ownerDocument.body),s}function kw(e,t){const s=Tr(e);if(mf(e))return s;if(!As(e)){let c=di(e);for(;c&&!xl(c);){if(us(c)&&!vm(c))return c;c=di(c)}return s}let a=dx(e,t);for(;a&&Rj(a)&&vm(a);)a=dx(a,t);return a&&xl(a)&&vm(a)&&!kp(a)?s:a||Lj(e)||s}const Vj=async function(e){const t=this.getOffsetParent||kw,s=this.getDimensions,a=await s(e.floating);return{reference:Wj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Zj(e){return ds(e).direction==="rtl"}const qj={convertOffsetParentRelativeRectToViewportRelativeRect:Oj,getDocumentElement:Os,getClippingRect:Uj,getOffsetParent:kw,getElementRects:Vj,getClientRects:Ij,getDimensions:Hj,getScale:al,isElement:us,isRTL:Zj};function Gj(e,t){let s=null,a;const c=Os(e);function d(){var p;clearTimeout(a),(p=s)==null||p.disconnect(),s=null}function f(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),d();const{left:w,top:_,width:b,height:S}=e.getBoundingClientRect();if(p||t(),!b||!S)return;const T=jd(_),P=jd(c.clientWidth-(w+b)),j=jd(c.clientHeight-(_+S)),C=jd(w),O={rootMargin:-T+"px "+-P+"px "+-j+"px "+-C+"px",threshold:Pr(0,li(1,g))||1};let M=!0;function I($){const Z=$[0].intersectionRatio;if(Z!==g){if(!M)return f();Z?f(!1,Z):a=setTimeout(()=>{f(!1,1e-7)},1e3)}M=!1}try{s=new IntersectionObserver(I,{...O,root:c.ownerDocument})}catch{s=new IntersectionObserver(I,O)}s.observe(e)}return f(!0),d}function Yj(e,t,s,a){a===void 0&&(a={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,w=Rp(e),_=c||d?[...w?$c(w):[],...$c(t)]:[];_.forEach(k=>{c&&k.addEventListener("scroll",s,{passive:!0}),d&&k.addEventListener("resize",s)});const b=w&&p?Gj(w,s):null;let S=-1,T=null;f&&(T=new ResizeObserver(k=>{let[O]=k;O&&O.target===w&&T&&(T.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var M;(M=T)==null||M.observe(t)})),s()}),w&&!g&&T.observe(w),T.observe(t));let P,j=g?na(e):null;g&&C();function C(){const k=na(e);j&&(k.x!==j.x||k.y!==j.y||k.width!==j.width||k.height!==j.height)&&s(),j=k,P=requestAnimationFrame(C)}return s(),()=>{var k;_.forEach(O=>{c&&O.removeEventListener("scroll",s),d&&O.removeEventListener("resize",s)}),b==null||b(),(k=T)==null||k.disconnect(),T=null,g&&cancelAnimationFrame(P)}}const Kj=Pj,Xj=Tj,Qj=jj,Jj=Mj,eE=Ej,fx=Sj,tE=kj,nE=(e,t,s)=>{const a=new Map,c={platform:qj,...s},d={...c.platform,_c:a};return Nj(e,t,{...c,platform:d})};var zd=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Gd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,a,c;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(a=s;a--!==0;)if(!Gd(e[a],t[a]))return!1;return!0}if(c=Object.keys(e),s=c.length,s!==Object.keys(t).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(t,c[a]))return!1;for(a=s;a--!==0;){const d=c[a];if(!(d==="_owner"&&e.$$typeof)&&!Gd(e[d],t[d]))return!1}return!0}return e!==e&&t!==t}function Mw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hx(e,t){const s=Mw(e);return Math.round(t*s)/s}function xm(e){const t=v.useRef(e);return zd(()=>{t.current=e}),t}function rE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:a=[],platform:c,elements:{reference:d,floating:f}={},transform:p=!0,whileElementsMounted:g,open:w}=e,[_,b]=v.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[S,T]=v.useState(a);Gd(S,a)||T(a);const[P,j]=v.useState(null),[C,k]=v.useState(null),O=v.useCallback(U=>{U!==Z.current&&(Z.current=U,j(U))},[]),M=v.useCallback(U=>{U!==F.current&&(F.current=U,k(U))},[]),I=d||P,$=f||C,Z=v.useRef(null),F=v.useRef(null),ie=v.useRef(_),ce=g!=null,q=xm(g),ne=xm(c),he=xm(w),Pe=v.useCallback(()=>{if(!Z.current||!F.current)return;const U={placement:t,strategy:s,middleware:S};ne.current&&(U.platform=ne.current),nE(Z.current,F.current,U).then(de=>{const ae={...de,isPositioned:he.current!==!1};K.current&&!Gd(ie.current,ae)&&(ie.current=ae,aa.flushSync(()=>{b(ae)}))})},[S,t,s,ne,he]);zd(()=>{w===!1&&ie.current.isPositioned&&(ie.current.isPositioned=!1,b(U=>({...U,isPositioned:!1})))},[w]);const K=v.useRef(!1);zd(()=>(K.current=!0,()=>{K.current=!1}),[]),zd(()=>{if(I&&(Z.current=I),$&&(F.current=$),I&&$){if(q.current)return q.current(I,$,Pe);Pe()}},[I,$,Pe,q,ce]);const J=v.useMemo(()=>({reference:Z,floating:F,setReference:O,setFloating:M}),[O,M]),ee=v.useMemo(()=>({reference:I,floating:$}),[I,$]),pe=v.useMemo(()=>{const U={position:s,left:0,top:0};if(!ee.floating)return U;const de=hx(ee.floating,_.x),ae=hx(ee.floating,_.y);return p?{...U,transform:"translate("+de+"px, "+ae+"px)",...Mw(ee.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:de,top:ae}},[s,p,ee.floating,_.x,_.y]);return v.useMemo(()=>({..._,update:Pe,refs:J,elements:ee,floatingStyles:pe}),[_,Pe,J,ee,pe])}const sE=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:c}=typeof e=="function"?e(s):e;return a&&t(a)?a.current!=null?fx({element:a.current,padding:c}).fn(s):{}:a?fx({element:a,padding:c}).fn(s):{}}}},oE=(e,t)=>({...Kj(e),options:[e,t]}),iE=(e,t)=>({...Xj(e),options:[e,t]}),aE=(e,t)=>({...tE(e),options:[e,t]}),lE=(e,t)=>({...Qj(e),options:[e,t]}),cE=(e,t)=>({...Jj(e),options:[e,t]}),uE=(e,t)=>({...eE(e),options:[e,t]}),dE=(e,t)=>({...sE(e),options:[e,t]});var fE="Arrow",Rw=v.forwardRef((e,t)=>{const{children:s,width:a=10,height:c=5,...d}=e;return i.jsx(dt.svg,{...d,ref:t,width:a,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rw.displayName=fE;var hE=Rw;function mE(e){const[t,s]=v.useState(void 0);return ln(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let f,p;if("borderBoxSize"in d){const g=d.borderBoxSize,w=Array.isArray(g)?g[0]:g;f=w.inlineSize,p=w.blockSize}else f=e.offsetWidth,p=e.offsetHeight;s({width:f,height:p})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),t}var Lp="Popper",[Lw,gf]=Yc(Lp),[pE,Dw]=Lw(Lp),Aw=e=>{const{__scopePopper:t,children:s}=e,[a,c]=v.useState(null);return i.jsx(pE,{scope:t,anchor:a,onAnchorChange:c,children:s})};Aw.displayName=Lp;var Ow="PopperAnchor",Iw=v.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:a,...c}=e,d=Dw(Ow,s),f=v.useRef(null),p=kt(t,f);return v.useEffect(()=>{d.onAnchorChange((a==null?void 0:a.current)||f.current)}),a?null:i.jsx(dt.div,{...c,ref:p})});Iw.displayName=Ow;var Dp="PopperContent",[gE,vE]=Lw(Dp),Fw=v.forwardRef((e,t)=>{var A,V,te,ge,Le,Ae;const{__scopePopper:s,side:a="bottom",sideOffset:c=0,align:d="center",alignOffset:f=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:w=[],collisionPadding:_=0,sticky:b="partial",hideWhenDetached:S=!1,updatePositionStrategy:T="optimized",onPlaced:P,...j}=e,C=Dw(Dp,s),[k,O]=v.useState(null),M=kt(t,Ge=>O(Ge)),[I,$]=v.useState(null),Z=mE(I),F=(Z==null?void 0:Z.width)??0,ie=(Z==null?void 0:Z.height)??0,ce=a+(d!=="center"?"-"+d:""),q=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},ne=Array.isArray(w)?w:[w],he=ne.length>0,Pe={padding:q,boundary:ne.filter(yE),altBoundary:he},{refs:K,floatingStyles:J,placement:ee,isPositioned:pe,middlewareData:U}=rE({strategy:"fixed",placement:ce,whileElementsMounted:(...Ge)=>Yj(...Ge,{animationFrame:T==="always"}),elements:{reference:C.anchor},middleware:[oE({mainAxis:c+ie,alignmentAxis:f}),g&&iE({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?aE():void 0,...Pe}),g&&lE({...Pe}),cE({...Pe,apply:({elements:Ge,rects:gt,availableWidth:Ft,availableHeight:ht})=>{const{width:It,height:At}=gt.reference,ft=Ge.floating.style;ft.setProperty("--radix-popper-available-width",`${Ft}px`),ft.setProperty("--radix-popper-available-height",`${ht}px`),ft.setProperty("--radix-popper-anchor-width",`${It}px`),ft.setProperty("--radix-popper-anchor-height",`${At}px`)}}),I&&dE({element:I,padding:p}),wE({arrowWidth:F,arrowHeight:ie}),S&&uE({strategy:"referenceHidden",...Pe})]}),[de,ae]=Bw(ee),z=tn(P);ln(()=>{pe&&(z==null||z())},[pe,z]);const X=(A=U.arrow)==null?void 0:A.x,ye=(V=U.arrow)==null?void 0:V.y,Ee=((te=U.arrow)==null?void 0:te.centerOffset)!==0,[we,Y]=v.useState();return ln(()=>{k&&Y(window.getComputedStyle(k).zIndex)},[k]),i.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:pe?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(ge=U.transformOrigin)==null?void 0:ge.x,(Le=U.transformOrigin)==null?void 0:Le.y].join(" "),...((Ae=U.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(gE,{scope:s,placedSide:de,onArrowChange:$,arrowX:X,arrowY:ye,shouldHideArrow:Ee,children:i.jsx(dt.div,{"data-side":de,"data-align":ae,...j,ref:M,style:{...j.style,animation:pe?void 0:"none"}})})})});Fw.displayName=Dp;var zw="PopperArrow",xE={top:"bottom",right:"left",bottom:"top",left:"right"},$w=v.forwardRef(function(t,s){const{__scopePopper:a,...c}=t,d=vE(zw,a),f=xE[d.placedSide];return i.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:i.jsx(hE,{...c,ref:s,style:{...c.style,display:"block"}})})});$w.displayName=zw;function yE(e){return e!==null}var wE=e=>({name:"transformOrigin",options:e,fn(t){var C,k,O;const{placement:s,rects:a,middlewareData:c}=t,f=((C=c.arrow)==null?void 0:C.centerOffset)!==0,p=f?0:e.arrowWidth,g=f?0:e.arrowHeight,[w,_]=Bw(s),b={start:"0%",center:"50%",end:"100%"}[_],S=(((k=c.arrow)==null?void 0:k.x)??0)+p/2,T=(((O=c.arrow)==null?void 0:O.y)??0)+g/2;let P="",j="";return w==="bottom"?(P=f?b:`${S}px`,j=`${-g}px`):w==="top"?(P=f?b:`${S}px`,j=`${a.floating.height+g}px`):w==="right"?(P=`${-g}px`,j=f?b:`${T}px`):w==="left"&&(P=`${a.floating.width+g}px`,j=f?b:`${T}px`),{data:{x:P,y:j}}}});function Bw(e){const[t,s="center"]=e.split("-");return[t,s]}var _E=Aw,Uw=Iw,Hw=Fw,Ww=$w,bE="Portal",Vw=v.forwardRef((e,t)=>{var p;const{container:s,...a}=e,[c,d]=v.useState(!1);ln(()=>d(!0),[]);const f=s||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?of.createPortal(i.jsx(dt.div,{...a,ref:t}),f):null});Vw.displayName=bE;function NE(e,t){return v.useReducer((s,a)=>t[s][a]??s,e)}var Zw=e=>{const{present:t,children:s}=e,a=SE(t),c=typeof s=="function"?s({present:a.isPresent}):v.Children.only(s),d=kt(a.ref,jE(c));return typeof s=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};Zw.displayName="Presence";function SE(e){const[t,s]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=NE(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=Ed(a.current);d.current=p==="mounted"?w:"none"},[p]),ln(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,T=Ed(w);e?g("MOUNT"):T==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&S!==T?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),ln(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,b=T=>{const j=Ed(a.current).includes(T.animationName);if(T.target===t&&j&&(g("ANIMATION_END"),!c.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},S=T=>{T.target===t&&(d.current=Ed(a.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),s(w)},[])}}function Ed(e){return(e==null?void 0:e.animationName)||"none"}function jE(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var[vf,SL]=sj("Tooltip",[gf]),Ap=gf(),qw="TooltipProvider",EE=700,mx="tooltip.open",[CE,Gw]=vf(qw),Yw=e=>{const{__scopeTooltip:t,delayDuration:s=EE,skipDelayDuration:a=300,disableHoverableContent:c=!1,children:d}=e,[f,p]=v.useState(!0),g=v.useRef(!1),w=v.useRef(0);return v.useEffect(()=>{const _=w.current;return()=>window.clearTimeout(_)},[]),i.jsx(CE,{scope:t,isOpenDelayed:f,delayDuration:s,onOpen:v.useCallback(()=>{window.clearTimeout(w.current),p(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>p(!0),a)},[a]),isPointerInTransitRef:g,onPointerInTransitChange:v.useCallback(_=>{g.current=_},[]),disableHoverableContent:c,children:d})};Yw.displayName=qw;var Kw="Tooltip",[jL,xf]=vf(Kw),Gm="TooltipTrigger",PE=v.forwardRef((e,t)=>{const{__scopeTooltip:s,...a}=e,c=xf(Gm,s),d=Gw(Gm,s),f=Ap(s),p=v.useRef(null),g=kt(t,p,c.onTriggerChange),w=v.useRef(!1),_=v.useRef(!1),b=v.useCallback(()=>w.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),i.jsx(Uw,{asChild:!0,...f,children:i.jsx(dt.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:g,onPointerMove:rt(e.onPointerMove,S=>{S.pointerType!=="touch"&&!_.current&&!d.isPointerInTransitRef.current&&(c.onTriggerEnter(),_.current=!0)}),onPointerLeave:rt(e.onPointerLeave,()=>{c.onTriggerLeave(),_.current=!1}),onPointerDown:rt(e.onPointerDown,()=>{w.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:rt(e.onFocus,()=>{w.current||c.onOpen()}),onBlur:rt(e.onBlur,c.onClose),onClick:rt(e.onClick,c.onClose)})})});PE.displayName=Gm;var TE="TooltipPortal",[EL,kE]=vf(TE,{forceMount:void 0}),yl="TooltipContent",Xw=v.forwardRef((e,t)=>{const s=kE(yl,e.__scopeTooltip),{forceMount:a=s.forceMount,side:c="top",...d}=e,f=xf(yl,e.__scopeTooltip);return i.jsx(Zw,{present:a||f.open,children:f.disableHoverableContent?i.jsx(Qw,{side:c,...d,ref:t}):i.jsx(ME,{side:c,...d,ref:t})})}),ME=v.forwardRef((e,t)=>{const s=xf(yl,e.__scopeTooltip),a=Gw(yl,e.__scopeTooltip),c=v.useRef(null),d=kt(t,c),[f,p]=v.useState(null),{trigger:g,onClose:w}=s,_=c.current,{onPointerInTransitChange:b}=a,S=v.useCallback(()=>{p(null),b(!1)},[b]),T=v.useCallback((P,j)=>{const C=P.currentTarget,k={x:P.clientX,y:P.clientY},O=AE(k,C.getBoundingClientRect()),M=OE(k,O),I=IE(j.getBoundingClientRect()),$=zE([...M,...I]);p($),b(!0)},[b]);return v.useEffect(()=>()=>S(),[S]),v.useEffect(()=>{if(g&&_){const P=C=>T(C,_),j=C=>T(C,g);return g.addEventListener("pointerleave",P),_.addEventListener("pointerleave",j),()=>{g.removeEventListener("pointerleave",P),_.removeEventListener("pointerleave",j)}}},[g,_,T,S]),v.useEffect(()=>{if(f){const P=j=>{const C=j.target,k={x:j.clientX,y:j.clientY},O=(g==null?void 0:g.contains(C))||(_==null?void 0:_.contains(C)),M=!FE(k,f);O?S():M&&(S(),w())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[g,_,f,w,S]),i.jsx(Qw,{...e,ref:d})}),[RE,LE]=vf(Kw,{isInside:!1}),Qw=v.forwardRef((e,t)=>{const{__scopeTooltip:s,children:a,"aria-label":c,onEscapeKeyDown:d,onPointerDownOutside:f,...p}=e,g=xf(yl,s),w=Ap(s),{onClose:_}=g;return v.useEffect(()=>(document.addEventListener(mx,_),()=>document.removeEventListener(mx,_)),[_]),v.useEffect(()=>{if(g.trigger){const b=S=>{const T=S.target;T!=null&&T.contains(g.trigger)&&_()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[g.trigger,_]),i.jsx(Ep,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:b=>b.preventDefault(),onDismiss:_,children:i.jsxs(Hw,{"data-state":g.stateAttribute,...w,...p,ref:t,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(jy,{children:a}),i.jsx(RE,{scope:s,isInside:!0,children:i.jsx(fN,{id:g.contentId,role:"tooltip",children:c||a})})]})})});Xw.displayName=yl;var Jw="TooltipArrow",DE=v.forwardRef((e,t)=>{const{__scopeTooltip:s,...a}=e,c=Ap(s);return LE(Jw,s).isInside?null:i.jsx(Ww,{...c,...a,ref:t})});DE.displayName=Jw;function AE(e,t){const s=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),c=Math.abs(t.right-e.x),d=Math.abs(t.left-e.x);switch(Math.min(s,a,c,d)){case d:return"left";case c:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function OE(e,t,s=5){const a=[];switch(t){case"top":a.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":a.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":a.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":a.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return a}function IE(e){const{top:t,right:s,bottom:a,left:c}=e;return[{x:c,y:t},{x:s,y:t},{x:s,y:a},{x:c,y:a}]}function FE(e,t){const{x:s,y:a}=e;let c=!1;for(let d=0,f=t.length-1;d<t.length;f=d++){const p=t[d].x,g=t[d].y,w=t[f].x,_=t[f].y;g>a!=_>a&&s<(w-p)*(a-g)/(_-g)+p&&(c=!c)}return c}function zE(e){const t=e.slice();return t.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),$E(t)}function $E(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const c=e[a];for(;t.length>=2;){const d=t[t.length-1],f=t[t.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))t.pop();else break}t.push(c)}t.pop();const s=[];for(let a=e.length-1;a>=0;a--){const c=e[a];for(;s.length>=2;){const d=s[s.length-1],f=s[s.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))s.pop();else break}s.push(c)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var BE=Yw,e0=Xw;const UE=BE,HE=v.forwardRef(({className:e,sideOffset:t=4,...s},a)=>i.jsx(e0,{ref:a,sideOffset:t,className:it("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));HE.displayName=e0.displayName;var yf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},wf=typeof window>"u"||"Deno"in globalThis;function is(){}function WE(e,t){return typeof e=="function"?e(t):e}function VE(e){return typeof e=="number"&&e>=0&&e!==1/0}function ZE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function px(e,t){return typeof e=="function"?e(t):e}function qE(e,t){return typeof e=="function"?e(t):e}function gx(e,t){const{type:s="all",exact:a,fetchStatus:c,predicate:d,queryKey:f,stale:p}=e;if(f){if(a){if(t.queryHash!==Op(f,t.options))return!1}else if(!Uc(t.queryKey,f))return!1}if(s!=="all"){const g=t.isActive();if(s==="active"&&!g||s==="inactive"&&g)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||c&&c!==t.state.fetchStatus||d&&!d(t))}function vx(e,t){const{exact:s,status:a,predicate:c,mutationKey:d}=e;if(d){if(!t.options.mutationKey)return!1;if(s){if(Bc(t.options.mutationKey)!==Bc(d))return!1}else if(!Uc(t.options.mutationKey,d))return!1}return!(a&&t.state.status!==a||c&&!c(t))}function Op(e,t){return((t==null?void 0:t.queryKeyHashFn)||Bc)(e)}function Bc(e){return JSON.stringify(e,(t,s)=>Ym(s)?Object.keys(s).sort().reduce((a,c)=>(a[c]=s[c],a),{}):s)}function Uc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!Uc(e[s],t[s])):!1}function t0(e,t){if(e===t)return e;const s=xx(e)&&xx(t);if(s||Ym(e)&&Ym(t)){const a=s?e:Object.keys(e),c=a.length,d=s?t:Object.keys(t),f=d.length,p=s?[]:{};let g=0;for(let w=0;w<f;w++){const _=s?w:d[w];(!s&&a.includes(_)||s)&&e[_]===void 0&&t[_]===void 0?(p[_]=void 0,g++):(p[_]=t0(e[_],t[_]),p[_]===e[_]&&e[_]!==void 0&&g++)}return c===f&&g===c?e:p}return t}function xx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ym(e){if(!yx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!yx(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function yx(e){return Object.prototype.toString.call(e)==="[object Object]"}function GE(e){return new Promise(t=>{setTimeout(t,e)})}function YE(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?t0(e,t):t}function KE(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function XE(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var n0=Symbol();function r0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===n0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Gi,Jo,cl,my,QE=(my=class extends yf{constructor(){super();$t(this,Gi);$t(this,Jo);$t(this,cl);jt(this,cl,t=>{if(!wf&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){xe(this,Jo)||this.setEventListener(xe(this,cl))}onUnsubscribe(){var t;this.hasListeners()||((t=xe(this,Jo))==null||t.call(this),jt(this,Jo,void 0))}setEventListener(t){var s;jt(this,cl,t),(s=xe(this,Jo))==null||s.call(this),jt(this,Jo,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){xe(this,Gi)!==t&&(jt(this,Gi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof xe(this,Gi)=="boolean"?xe(this,Gi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Gi=new WeakMap,Jo=new WeakMap,cl=new WeakMap,my),s0=new QE,ul,ei,dl,py,JE=(py=class extends yf{constructor(){super();$t(this,ul,!0);$t(this,ei);$t(this,dl);jt(this,dl,t=>{if(!wf&&window.addEventListener){const s=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}}})}onSubscribe(){xe(this,ei)||this.setEventListener(xe(this,dl))}onUnsubscribe(){var t;this.hasListeners()||((t=xe(this,ei))==null||t.call(this),jt(this,ei,void 0))}setEventListener(t){var s;jt(this,dl,t),(s=xe(this,ei))==null||s.call(this),jt(this,ei,t(this.setOnline.bind(this)))}setOnline(t){xe(this,ul)!==t&&(jt(this,ul,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return xe(this,ul)}},ul=new WeakMap,ei=new WeakMap,dl=new WeakMap,py),Yd=new JE;function eC(e){return Math.min(1e3*2**e,3e4)}function o0(e){return(e??"online")==="online"?Yd.isOnline():!0}var i0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ym(e){return e instanceof i0}function a0(e){let t=!1,s=0,a=!1,c,d,f;const p=new Promise((k,O)=>{d=k,f=O}),g=k=>{var O;a||(P(new i0(k)),(O=e.abort)==null||O.call(e))},w=()=>{t=!0},_=()=>{t=!1},b=()=>s0.isFocused()&&(e.networkMode==="always"||Yd.isOnline())&&e.canRun(),S=()=>o0(e.networkMode)&&e.canRun(),T=k=>{var O;a||(a=!0,(O=e.onSuccess)==null||O.call(e,k),c==null||c(),d(k))},P=k=>{var O;a||(a=!0,(O=e.onError)==null||O.call(e,k),c==null||c(),f(k))},j=()=>new Promise(k=>{var O;c=M=>{(a||b())&&k(M)},(O=e.onPause)==null||O.call(e)}).then(()=>{var k;c=void 0,a||(k=e.onContinue)==null||k.call(e)}),C=()=>{if(a)return;let k;const O=s===0?e.initialPromise:void 0;try{k=O??e.fn()}catch(M){k=Promise.reject(M)}Promise.resolve(k).then(T).catch(M=>{var ie;if(a)return;const I=e.retry??(wf?0:3),$=e.retryDelay??eC,Z=typeof $=="function"?$(s,M):$,F=I===!0||typeof I=="number"&&s<I||typeof I=="function"&&I(s,M);if(t||!F){P(M);return}s++,(ie=e.onFail)==null||ie.call(e,s,M),GE(Z).then(()=>b()?void 0:j()).then(()=>{t?P(M):C()})})};return{promise:p,cancel:g,continue:()=>(c==null||c(),p),cancelRetry:w,continueRetry:_,canStart:S,start:()=>(S()?C():j().then(C),p)}}function tC(){let e=[],t=0,s=p=>{p()},a=p=>{p()},c=p=>setTimeout(p,0);const d=p=>{t?e.push(p):c(()=>{s(p)})},f=()=>{const p=e;e=[],p.length&&c(()=>{a(()=>{p.forEach(g=>{s(g)})})})};return{batch:p=>{let g;t++;try{g=p()}finally{t--,t||f()}return g},batchCalls:p=>(...g)=>{d(()=>{p(...g)})},schedule:d,setNotifyFunction:p=>{s=p},setBatchNotifyFunction:p=>{a=p},setScheduler:p=>{c=p}}}var Qn=tC(),Yi,gy,l0=(gy=class{constructor(){$t(this,Yi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VE(this.gcTime)&&jt(this,Yi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(wf?1/0:5*60*1e3))}clearGcTimeout(){xe(this,Yi)&&(clearTimeout(xe(this,Yi)),jt(this,Yi,void 0))}},Yi=new WeakMap,gy),fl,hl,Hr,Hn,qc,Ki,as,io,vy,nC=(vy=class extends l0{constructor(t){super();$t(this,as);$t(this,fl);$t(this,hl);$t(this,Hr);$t(this,Hn);$t(this,qc);$t(this,Ki);jt(this,Ki,!1),jt(this,qc,t.defaultOptions),this.setOptions(t.options),this.observers=[],jt(this,Hr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,jt(this,fl,sC(this.options)),this.state=t.state??xe(this,fl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=xe(this,Hn))==null?void 0:t.promise}setOptions(t){this.options={...xe(this,qc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,Hr).remove(this)}setData(t,s){const a=YE(this.state.data,t,this.options);return Un(this,as,io).call(this,{data:a,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),a}setState(t,s){Un(this,as,io).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var a,c;const s=(a=xe(this,Hn))==null?void 0:a.promise;return(c=xe(this,Hn))==null||c.cancel(t),s?s.then(is).catch(is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,fl))}isActive(){return this.observers.some(t=>qE(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!ZE(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=xe(this,Hn))==null||s.continue()}onOnline(){var s;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=xe(this,Hn))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),xe(this,Hr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(xe(this,Hn)&&(xe(this,Ki)?xe(this,Hn).cancel({revert:!0}):xe(this,Hn).cancelRetry()),this.scheduleGc()),xe(this,Hr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Un(this,as,io).call(this,{type:"invalidate"})}fetch(t,s){var g,w,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(xe(this,Hn))return xe(this,Hn).continueRetry(),xe(this,Hn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(S=>S.options.queryFn);b&&this.setOptions(b.options)}const a=new AbortController,c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(jt(this,Ki,!0),a.signal)})},d=()=>{const b=r0(this.options,s),S={queryKey:this.queryKey,meta:this.meta};return c(S),jt(this,Ki,!1),this.options.persister?this.options.persister(b,S,this):b(S)},f={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};c(f),(g=this.options.behavior)==null||g.onFetch(f,this),jt(this,hl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=f.fetchOptions)==null?void 0:w.meta))&&Un(this,as,io).call(this,{type:"fetch",meta:(_=f.fetchOptions)==null?void 0:_.meta});const p=b=>{var S,T,P,j;ym(b)&&b.silent||Un(this,as,io).call(this,{type:"error",error:b}),ym(b)||((T=(S=xe(this,Hr).config).onError)==null||T.call(S,b,this),(j=(P=xe(this,Hr).config).onSettled)==null||j.call(P,this.state.data,b,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return jt(this,Hn,a0({initialPromise:s==null?void 0:s.initialPromise,fn:f.fetchFn,abort:a.abort.bind(a),onSuccess:b=>{var S,T,P,j;if(b===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(C){p(C);return}(T=(S=xe(this,Hr).config).onSuccess)==null||T.call(S,b,this),(j=(P=xe(this,Hr).config).onSettled)==null||j.call(P,b,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(b,S)=>{Un(this,as,io).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{Un(this,as,io).call(this,{type:"pause"})},onContinue:()=>{Un(this,as,io).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),xe(this,Hn).start()}},fl=new WeakMap,hl=new WeakMap,Hr=new WeakMap,Hn=new WeakMap,qc=new WeakMap,Ki=new WeakMap,as=new WeakSet,io=function(t){const s=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...rC(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=t.error;return ym(c)&&c.revert&&xe(this,hl)?{...xe(this,hl),fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=s(this.state),Qn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),xe(this,Hr).notify({query:this,type:"updated",action:t})})},vy);function rC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Ts,xy,oC=(xy=class extends yf{constructor(t={}){super();$t(this,Ts);this.config=t,jt(this,Ts,new Map)}build(t,s,a){const c=s.queryKey,d=s.queryHash??Op(c,s);let f=this.get(d);return f||(f=new nC({cache:this,queryKey:c,queryHash:d,options:t.defaultQueryOptions(s),state:a,defaultOptions:t.getQueryDefaults(c)}),this.add(f)),f}add(t){xe(this,Ts).has(t.queryHash)||(xe(this,Ts).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=xe(this,Ts).get(t.queryHash);s&&(t.destroy(),s===t&&xe(this,Ts).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return xe(this,Ts).get(t)}getAll(){return[...xe(this,Ts).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(a=>gx(s,a))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(a=>gx(t,a)):s}notify(t){Qn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ts=new WeakMap,xy),ks,Xn,Xi,Ms,Ko,yy,iC=(yy=class extends l0{constructor(t){super();$t(this,Ms);$t(this,ks);$t(this,Xn);$t(this,Xi);this.mutationId=t.mutationId,jt(this,Xn,t.mutationCache),jt(this,ks,[]),this.state=t.state||aC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){xe(this,ks).includes(t)||(xe(this,ks).push(t),this.clearGcTimeout(),xe(this,Xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){jt(this,ks,xe(this,ks).filter(s=>s!==t)),this.scheduleGc(),xe(this,Xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){xe(this,ks).length||(this.state.status==="pending"?this.scheduleGc():xe(this,Xn).remove(this))}continue(){var t;return((t=xe(this,Xi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,d,f,p,g,w,_,b,S,T,P,j,C,k,O,M,I,$,Z,F;jt(this,Xi,a0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(ie,ce)=>{Un(this,Ms,Ko).call(this,{type:"failed",failureCount:ie,error:ce})},onPause:()=>{Un(this,Ms,Ko).call(this,{type:"pause"})},onContinue:()=>{Un(this,Ms,Ko).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,Xn).canRun(this)}));const s=this.state.status==="pending",a=!xe(this,Xi).canStart();try{if(!s){Un(this,Ms,Ko).call(this,{type:"pending",variables:t,isPaused:a}),await((d=(c=xe(this,Xn).config).onMutate)==null?void 0:d.call(c,t,this));const ce=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,t));ce!==this.state.context&&Un(this,Ms,Ko).call(this,{type:"pending",context:ce,variables:t,isPaused:a})}const ie=await xe(this,Xi).start();return await((w=(g=xe(this,Xn).config).onSuccess)==null?void 0:w.call(g,ie,t,this.state.context,this)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,ie,t,this.state.context)),await((T=(S=xe(this,Xn).config).onSettled)==null?void 0:T.call(S,ie,null,this.state.variables,this.state.context,this)),await((j=(P=this.options).onSettled)==null?void 0:j.call(P,ie,null,t,this.state.context)),Un(this,Ms,Ko).call(this,{type:"success",data:ie}),ie}catch(ie){try{throw await((k=(C=xe(this,Xn).config).onError)==null?void 0:k.call(C,ie,t,this.state.context,this)),await((M=(O=this.options).onError)==null?void 0:M.call(O,ie,t,this.state.context)),await(($=(I=xe(this,Xn).config).onSettled)==null?void 0:$.call(I,void 0,ie,this.state.variables,this.state.context,this)),await((F=(Z=this.options).onSettled)==null?void 0:F.call(Z,void 0,ie,t,this.state.context)),ie}finally{Un(this,Ms,Ko).call(this,{type:"error",error:ie})}}finally{xe(this,Xn).runNext(this)}}},ks=new WeakMap,Xn=new WeakMap,Xi=new WeakMap,Ms=new WeakSet,Ko=function(t){const s=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Qn.batch(()=>{xe(this,ks).forEach(a=>{a.onMutationUpdate(t)}),xe(this,Xn).notify({mutation:this,type:"updated",action:t})})},yy);function aC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Er,Gc,wy,lC=(wy=class extends yf{constructor(t={}){super();$t(this,Er);$t(this,Gc);this.config=t,jt(this,Er,new Map),jt(this,Gc,Date.now())}build(t,s,a){const c=new iC({mutationCache:this,mutationId:++wd(this,Gc)._,options:t.defaultMutationOptions(s),state:a});return this.add(c),c}add(t){const s=Cd(t),a=xe(this,Er).get(s)??[];a.push(t),xe(this,Er).set(s,a),this.notify({type:"added",mutation:t})}remove(t){var a;const s=Cd(t);if(xe(this,Er).has(s)){const c=(a=xe(this,Er).get(s))==null?void 0:a.filter(d=>d!==t);c&&(c.length===0?xe(this,Er).delete(s):xe(this,Er).set(s,c))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const s=(a=xe(this,Er).get(Cd(t)))==null?void 0:a.find(c=>c.state.status==="pending");return!s||s===t}runNext(t){var a;const s=(a=xe(this,Er).get(Cd(t)))==null?void 0:a.find(c=>c!==t&&c.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...xe(this,Er).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(a=>vx(s,a))}findAll(t={}){return this.getAll().filter(s=>vx(t,s))}notify(t){Qn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Qn.batch(()=>Promise.all(t.map(s=>s.continue().catch(is))))}},Er=new WeakMap,Gc=new WeakMap,wy);function Cd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function wx(e){return{onFetch:(t,s)=>{var _,b,S,T,P;const a=t.options,c=(S=(b=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:S.direction,d=((T=t.state.data)==null?void 0:T.pages)||[],f=((P=t.state.data)==null?void 0:P.pageParams)||[];let p={pages:[],pageParams:[]},g=0;const w=async()=>{let j=!1;const C=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(t.signal.aborted?j=!0:t.signal.addEventListener("abort",()=>{j=!0}),t.signal)})},k=r0(t.options,t.fetchOptions),O=async(M,I,$)=>{if(j)return Promise.reject();if(I==null&&M.pages.length)return Promise.resolve(M);const Z={queryKey:t.queryKey,pageParam:I,direction:$?"backward":"forward",meta:t.options.meta};C(Z);const F=await k(Z),{maxPages:ie}=t.options,ce=$?XE:KE;return{pages:ce(M.pages,F,ie),pageParams:ce(M.pageParams,I,ie)}};if(c&&d.length){const M=c==="backward",I=M?cC:_x,$={pages:d,pageParams:f},Z=I(a,$);p=await O($,Z,M)}else{const M=e??d.length;do{const I=g===0?f[0]??a.initialPageParam:_x(a,p);if(g>0&&I==null)break;p=await O(p,I),g++}while(g<M)}return p};t.options.persister?t.fetchFn=()=>{var j,C;return(C=(j=t.options).persister)==null?void 0:C.call(j,w,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=w}}}function _x(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function cC(e,{pages:t,pageParams:s}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,s[0],s):void 0}var dn,ti,ni,ml,pl,ri,gl,vl,_y,uC=(_y=class{constructor(e={}){$t(this,dn);$t(this,ti);$t(this,ni);$t(this,ml);$t(this,pl);$t(this,ri);$t(this,gl);$t(this,vl);jt(this,dn,e.queryCache||new oC),jt(this,ti,e.mutationCache||new lC),jt(this,ni,e.defaultOptions||{}),jt(this,ml,new Map),jt(this,pl,new Map),jt(this,ri,0)}mount(){wd(this,ri)._++,xe(this,ri)===1&&(jt(this,gl,s0.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,dn).onFocus())})),jt(this,vl,Yd.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,dn).onOnline())})))}unmount(){var e,t;wd(this,ri)._--,xe(this,ri)===0&&((e=xe(this,gl))==null||e.call(this),jt(this,gl,void 0),(t=xe(this,vl))==null||t.call(this),jt(this,vl,void 0))}isFetching(e){return xe(this,dn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return xe(this,ti).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=xe(this,dn).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),a=xe(this,dn).build(this,s);return e.revalidateIfStale&&a.isStaleByTime(px(s.staleTime,a))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return xe(this,dn).findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),c=xe(this,dn).get(a.queryHash),d=c==null?void 0:c.state.data,f=WE(t,d);if(f!==void 0)return xe(this,dn).build(this,a).setData(f,{...s,manual:!0})}setQueriesData(e,t,s){return Qn.batch(()=>xe(this,dn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=xe(this,dn).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=xe(this,dn);Qn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=xe(this,dn),a={type:"active",...e};return Qn.batch(()=>(s.findAll(e).forEach(c=>{c.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},a=Qn.batch(()=>xe(this,dn).findAll(e).map(c=>c.cancel(s)));return Promise.all(a).then(is).catch(is)}invalidateQueries(e={},t={}){return Qn.batch(()=>{if(xe(this,dn).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=Qn.batch(()=>xe(this,dn).findAll(e).filter(c=>!c.isDisabled()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(is)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(a).then(is)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=xe(this,dn).build(this,t);return s.isStaleByTime(px(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(is).catch(is)}fetchInfiniteQuery(e){return e.behavior=wx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(is).catch(is)}ensureInfiniteQueryData(e){return e.behavior=wx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yd.isOnline()?xe(this,ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,dn)}getMutationCache(){return xe(this,ti)}getDefaultOptions(){return xe(this,ni)}setDefaultOptions(e){jt(this,ni,e)}setQueryDefaults(e,t){xe(this,ml).set(Bc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...xe(this,ml).values()];let s={};return t.forEach(a=>{Uc(e,a.queryKey)&&(s={...s,...a.defaultOptions})}),s}setMutationDefaults(e,t){xe(this,pl).set(Bc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...xe(this,pl).values()];let s={};return t.forEach(a=>{Uc(e,a.mutationKey)&&(s={...s,...a.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...xe(this,ni).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Op(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===n0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...xe(this,ni).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){xe(this,dn).clear(),xe(this,ti).clear()}},dn=new WeakMap,ti=new WeakMap,ni=new WeakMap,ml=new WeakMap,pl=new WeakMap,ri=new WeakMap,gl=new WeakMap,vl=new WeakMap,_y),dC=v.createContext(void 0),fC=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(dC.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Hc.apply(this,arguments)}var si;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(si||(si={}));const bx="popstate";function hC(e){e===void 0&&(e={});function t(a,c){let{pathname:d,search:f,hash:p}=a.location;return Km("",{pathname:d,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(a,c){return typeof c=="string"?c:Kd(c)}return pC(t,s,null,e)}function yn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function c0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mC(){return Math.random().toString(36).substr(2,8)}function Nx(e,t){return{usr:e.state,key:e.key,idx:t}}function Km(e,t,s,a){return s===void 0&&(s=null),Hc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?El(t):t,{state:s,key:t&&t.key||a||mC()})}function Kd(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function El(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function pC(e,t,s,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,f=c.history,p=si.Pop,g=null,w=_();w==null&&(w=0,f.replaceState(Hc({},f.state,{idx:w}),""));function _(){return(f.state||{idx:null}).idx}function b(){p=si.Pop;let C=_(),k=C==null?null:C-w;w=C,g&&g({action:p,location:j.location,delta:k})}function S(C,k){p=si.Push;let O=Km(j.location,C,k);w=_()+1;let M=Nx(O,w),I=j.createHref(O);try{f.pushState(M,"",I)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;c.location.assign(I)}d&&g&&g({action:p,location:j.location,delta:1})}function T(C,k){p=si.Replace;let O=Km(j.location,C,k);w=_();let M=Nx(O,w),I=j.createHref(O);f.replaceState(M,"",I),d&&g&&g({action:p,location:j.location,delta:0})}function P(C){let k=c.location.origin!=="null"?c.location.origin:c.location.href,O=typeof C=="string"?C:Kd(C);return O=O.replace(/ $/,"%20"),yn(k,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,k)}let j={get action(){return p},get location(){return e(c,f)},listen(C){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(bx,b),g=C,()=>{c.removeEventListener(bx,b),g=null}},createHref(C){return t(c,C)},createURL:P,encodeLocation(C){let k=P(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:S,replace:T,go(C){return f.go(C)}};return j}var Sx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sx||(Sx={}));function gC(e,t,s){return s===void 0&&(s="/"),vC(e,t,s)}function vC(e,t,s,a){let c=typeof t=="string"?El(t):t,d=Ip(c.pathname||"/",s);if(d==null)return null;let f=u0(e);xC(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let w=kC(d);p=CC(f[g],w)}return p}function u0(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let c=(d,f,p)=>{let g={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};g.relativePath.startsWith("/")&&(yn(g.relativePath.startsWith(a),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(a.length));let w=oi([a,g.relativePath]),_=s.concat(g);d.children&&d.children.length>0&&(yn(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),u0(d.children,t,_,w)),!(d.path==null&&!d.index)&&t.push({path:w,score:jC(w,d.index),routesMeta:_})};return e.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))c(d,f);else for(let g of d0(d.path))c(d,f,g)}),t}function d0(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let f=d0(a.join("/")),p=[];return p.push(...f.map(g=>g===""?d:[d,g].join("/"))),c&&p.push(...f),p.map(g=>e.startsWith("/")&&g===""?"/":g)}function xC(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:EC(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const yC=/^:[\w-]+$/,wC=3,_C=2,bC=1,NC=10,SC=-2,jx=e=>e==="*";function jC(e,t){let s=e.split("/"),a=s.length;return s.some(jx)&&(a+=SC),t&&(a+=_C),s.filter(c=>!jx(c)).reduce((c,d)=>c+(yC.test(d)?wC:d===""?bC:NC),a)}function EC(e,t){return e.length===t.length&&e.slice(0,-1).every((a,c)=>a===t[c])?e[e.length-1]-t[t.length-1]:0}function CC(e,t,s){let{routesMeta:a}=e,c={},d="/",f=[];for(let p=0;p<a.length;++p){let g=a[p],w=p===a.length-1,_=d==="/"?t:t.slice(d.length)||"/",b=PC({path:g.relativePath,caseSensitive:g.caseSensitive,end:w},_),S=g.route;if(!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:oi([d,b.pathname]),pathnameBase:DC(oi([d,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(d=oi([d,b.pathnameBase]))}return f}function PC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=TC(e.path,e.caseSensitive,e.end),c=t.match(s);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:a.reduce((w,_,b)=>{let{paramName:S,isOptional:T}=_;if(S==="*"){let j=p[b]||"";f=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const P=p[b];return T&&!P?w[S]=void 0:w[S]=(P||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:f,pattern:e}}function TC(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),c0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),a]}function kC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return c0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ip(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function MC(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:c=""}=typeof e=="string"?El(e):e;return{pathname:s?s.startsWith("/")?s:RC(s,t):t,search:AC(a),hash:OC(c)}}function RC(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function wm(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LC(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function f0(e,t){let s=LC(e);return t?s.map((a,c)=>c===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function h0(e,t,s,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=El(e):(c=Hc({},e),yn(!c.pathname||!c.pathname.includes("?"),wm("?","pathname","search",c)),yn(!c.pathname||!c.pathname.includes("#"),wm("#","pathname","hash",c)),yn(!c.search||!c.search.includes("#"),wm("#","search","hash",c)));let d=e===""||c.pathname==="",f=d?"/":c.pathname,p;if(f==null)p=s;else{let b=t.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;c.pathname=S.join("/")}p=b>=0?t[b]:"/"}let g=MC(c,p),w=f&&f!=="/"&&f.endsWith("/"),_=(d||f===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(w||_)&&(g.pathname+="/"),g}const oi=e=>e.join("/").replace(/\/\/+/g,"/"),DC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m0=["post","put","patch","delete"];new Set(m0);const FC=["get",...m0];new Set(FC);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Wc.apply(this,arguments)}const Fp=v.createContext(null),zC=v.createContext(null),la=v.createContext(null),_f=v.createContext(null),fi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),p0=v.createContext(null);function $C(e,t){let{relative:s}=t===void 0?{}:t;eu()||yn(!1);let{basename:a,navigator:c}=v.useContext(la),{hash:d,pathname:f,search:p}=x0(e,{relative:s}),g=f;return a!=="/"&&(g=f==="/"?a:oi([a,f])),c.createHref({pathname:g,search:p,hash:d})}function eu(){return v.useContext(_f)!=null}function tu(){return eu()||yn(!1),v.useContext(_f).location}function g0(e){v.useContext(la).static||v.useLayoutEffect(e)}function v0(){let{isDataRoute:e}=v.useContext(fi);return e?eP():BC()}function BC(){eu()||yn(!1);let e=v.useContext(Fp),{basename:t,future:s,navigator:a}=v.useContext(la),{matches:c}=v.useContext(fi),{pathname:d}=tu(),f=JSON.stringify(f0(c,s.v7_relativeSplatPath)),p=v.useRef(!1);return g0(()=>{p.current=!0}),v.useCallback(function(w,_){if(_===void 0&&(_={}),!p.current)return;if(typeof w=="number"){a.go(w);return}let b=h0(w,JSON.parse(f),d,_.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:oi([t,b.pathname])),(_.replace?a.replace:a.push)(b,_.state,_)},[t,a,f,d,e])}function UC(){let{matches:e}=v.useContext(fi),t=e[e.length-1];return t?t.params:{}}function x0(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=v.useContext(la),{matches:c}=v.useContext(fi),{pathname:d}=tu(),f=JSON.stringify(f0(c,a.v7_relativeSplatPath));return v.useMemo(()=>h0(e,JSON.parse(f),d,s==="path"),[e,f,d,s])}function HC(e,t){return WC(e,t)}function WC(e,t,s,a){eu()||yn(!1);let{navigator:c}=v.useContext(la),{matches:d}=v.useContext(fi),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let w=tu(),_;if(t){var b;let C=typeof t=="string"?El(t):t;g==="/"||(b=C.pathname)!=null&&b.startsWith(g)||yn(!1),_=C}else _=w;let S=_.pathname||"/",T=S;if(g!=="/"){let C=g.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let P=gC(e,{pathname:T}),j=YC(P&&P.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:oi([g,c.encodeLocation?c.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:oi([g,c.encodeLocation?c.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),d,s,a);return t&&j?v.createElement(_f.Provider,{value:{location:Wc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:si.Pop}},j):j}function VC(){let e=JC(),t=IC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),s?v.createElement("pre",{style:c},s):null,null)}const ZC=v.createElement(VC,null);class qC extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?v.createElement(fi.Provider,{value:this.props.routeContext},v.createElement(p0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GC(e){let{routeContext:t,match:s,children:a}=e,c=v.useContext(Fp);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(fi.Provider,{value:t},a)}function YC(e,t,s,a){var c;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var d;if(!s)return null;if(s.errors)e=s.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let f=e,p=(c=s)==null?void 0:c.errors;if(p!=null){let _=f.findIndex(b=>b.route.id&&(p==null?void 0:p[b.route.id])!==void 0);_>=0||yn(!1),f=f.slice(0,Math.min(f.length,_+1))}let g=!1,w=-1;if(s&&a&&a.v7_partialHydration)for(let _=0;_<f.length;_++){let b=f[_];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(w=_),b.route.id){let{loaderData:S,errors:T}=s,P=b.route.loader&&S[b.route.id]===void 0&&(!T||T[b.route.id]===void 0);if(b.route.lazy||P){g=!0,w>=0?f=f.slice(0,w+1):f=[f[0]];break}}}return f.reduceRight((_,b,S)=>{let T,P=!1,j=null,C=null;s&&(T=p&&b.route.id?p[b.route.id]:void 0,j=b.route.errorElement||ZC,g&&(w<0&&S===0?(tP("route-fallback"),P=!0,C=null):w===S&&(P=!0,C=b.route.hydrateFallbackElement||null)));let k=t.concat(f.slice(0,S+1)),O=()=>{let M;return T?M=j:P?M=C:b.route.Component?M=v.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=_,v.createElement(GC,{match:b,routeContext:{outlet:_,matches:k,isDataRoute:s!=null},children:M})};return s&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?v.createElement(qC,{location:s.location,revalidation:s.revalidation,component:j,error:T,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):O()},null)}var y0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(y0||{}),w0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(w0||{});function KC(e){let t=v.useContext(Fp);return t||yn(!1),t}function XC(e){let t=v.useContext(zC);return t||yn(!1),t}function QC(e){let t=v.useContext(fi);return t||yn(!1),t}function _0(e){let t=QC(),s=t.matches[t.matches.length-1];return s.route.id||yn(!1),s.route.id}function JC(){var e;let t=v.useContext(p0),s=XC(),a=_0();return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function eP(){let{router:e}=KC(y0.UseNavigateStable),t=_0(w0.UseNavigateStable),s=v.useRef(!1);return g0(()=>{s.current=!0}),v.useCallback(function(c,d){d===void 0&&(d={}),s.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Wc({fromRouteId:t},d)))},[e,t])}const Ex={};function tP(e,t,s){Ex[e]||(Ex[e]=!0)}function Xo(e){yn(!1)}function nP(e){let{basename:t="/",children:s=null,location:a,navigationType:c=si.Pop,navigator:d,static:f=!1,future:p}=e;eu()&&yn(!1);let g=t.replace(/^\/*/,"/"),w=v.useMemo(()=>({basename:g,navigator:d,static:f,future:Wc({v7_relativeSplatPath:!1},p)}),[g,p,d,f]);typeof a=="string"&&(a=El(a));let{pathname:_="/",search:b="",hash:S="",state:T=null,key:P="default"}=a,j=v.useMemo(()=>{let C=Ip(_,g);return C==null?null:{location:{pathname:C,search:b,hash:S,state:T,key:P},navigationType:c}},[g,_,b,S,T,P,c]);return j==null?null:v.createElement(la.Provider,{value:w},v.createElement(_f.Provider,{children:s,value:j}))}function rP(e){let{children:t,location:s}=e;return HC(Xm(t),s)}new Promise(()=>{});function Xm(e,t){t===void 0&&(t=[]);let s=[];return v.Children.forEach(e,(a,c)=>{if(!v.isValidElement(a))return;let d=[...t,c];if(a.type===v.Fragment){s.push.apply(s,Xm(a.props.children,d));return}a.type!==Xo&&yn(!1),!a.props.index||!a.props.children||yn(!1);let f={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Xm(a.props.children,d)),s.push(f)}),s}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Qm.apply(this,arguments)}function sP(e,t){if(e==null)return{};var s={},a=Object.keys(e),c,d;for(d=0;d<a.length;d++)c=a[d],!(t.indexOf(c)>=0)&&(s[c]=e[c]);return s}function oP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iP(e,t){return e.button===0&&(!t||t==="_self")&&!oP(e)}const aP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lP="6";try{window.__reactRouterVersion=lP}catch{}const cP="startTransition",Cx=by[cP];function uP(e){let{basename:t,children:s,future:a,window:c}=e,d=v.useRef();d.current==null&&(d.current=hC({window:c,v5Compat:!0}));let f=d.current,[p,g]=v.useState({action:f.action,location:f.location}),{v7_startTransition:w}=a||{},_=v.useCallback(b=>{w&&Cx?Cx(()=>g(b)):g(b)},[g,w]);return v.useLayoutEffect(()=>f.listen(_),[f,_]),v.createElement(nP,{basename:t,children:s,location:p.location,navigationType:p.action,navigator:f,future:a})}const dP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rs=v.forwardRef(function(t,s){let{onClick:a,relative:c,reloadDocument:d,replace:f,state:p,target:g,to:w,preventScrollReset:_,unstable_viewTransition:b}=t,S=sP(t,aP),{basename:T}=v.useContext(la),P,j=!1;if(typeof w=="string"&&fP.test(w)&&(P=w,dP))try{let M=new URL(window.location.href),I=w.startsWith("//")?new URL(M.protocol+w):new URL(w),$=Ip(I.pathname,T);I.origin===M.origin&&$!=null?w=$+I.search+I.hash:j=!0}catch{}let C=$C(w,{relative:c}),k=hP(w,{replace:f,state:p,target:g,preventScrollReset:_,relative:c,unstable_viewTransition:b});function O(M){a&&a(M),M.defaultPrevented||k(M)}return v.createElement("a",Qm({},S,{href:P||C,onClick:j||d?a:O,ref:s,target:g}))});var Px;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Px||(Px={}));var Tx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tx||(Tx={}));function hP(e,t){let{target:s,replace:a,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p}=t===void 0?{}:t,g=v0(),w=tu(),_=x0(e,{relative:f});return v.useCallback(b=>{if(iP(b,s)){b.preventDefault();let S=a!==void 0?a:Kd(w)===Kd(_);g(e,{replace:S,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p})}},[w,g,_,a,c,s,e,d,f,p])}class ct{static init(){typeof window<"u"&&(this.baseUrl=window.location.origin,this.isInitialized=!0,console.log(`HttpClient: Initializing with baseUrl: ${this.baseUrl}`),console.log("HttpClient: Checking for fetch interference"),this.detectFetchInterference(),console.log(`HttpClient: Initialization complete. XHR mode: ${this.useXHROnly}`))}static ensureInitialized(){!this.isInitialized&&typeof window<"u"&&this.init(),!this.baseUrl&&typeof window<"u"&&(this.baseUrl=window.location.origin,console.log(`HttpClient: Fallback baseUrl set to: ${this.baseUrl}`))}static detectFetchInterference(){try{console.log("HttpClient: Checking for fetch interference...");const t={windowFS:!!window.FS,fullstoryScript:!!document.querySelector('script[src*="fullstory"]'),fsScript:!!document.querySelector('script[src*="fs.js"]'),userAgent:/fullstory/i.test(navigator.userAgent),fetchContainsFsJs:window.fetch.toString().includes("fs.js"),fetchTooShort:window.fetch.toString().length<50};if(console.log("HttpClient: FullStory detection checks:",t),Object.values(t).some(c=>c)){console.warn("FullStory detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}const a=window.fetch.toString();if(console.log("HttpClient: Fetch function length:",a.length),a.includes("eval")||a.includes("intercept")||a.includes("proxy")){console.warn("Fetch interception detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}console.log("HttpClient: No fetch interference detected, using native fetch")}catch{console.warn("Could not detect fetch interference, using XMLHttpRequest as fallback"),this.useXHROnly=!0}}static forceXHRMode(){console.log("HttpClient: Forced to use XMLHttpRequest mode"),this.useXHROnly=!0}static isUsingXHR(){return this.useXHROnly}static async testConnection(){try{console.log("HttpClient: Testing connection...");const t=await this.get("/api/employees",!1),s=t.ok;return console.log(`HttpClient: Connection test ${s?"passed":"failed"} - Status: ${t.status}`),s}catch(t){return console.error("HttpClient: Connection test failed:",t),!1}}static async fallbackFetch(t,s={}){return console.log(`HttpClient: XMLHttpRequest attempt to ${t}`),new Promise((a,c)=>{const d=new XMLHttpRequest,f=s.method||"GET";try{if(d.withCredentials=!1,d.open(f,t),s.headers){const p=s.headers;Object.keys(p).forEach(g=>{if(g.toLowerCase()!=="signal")try{d.setRequestHeader(g,p[g])}catch(w){console.warn(`HttpClient: Failed to set header ${g}:`,w)}})}d.timeout=25e3,d.onreadystatechange=()=>{console.log(`HttpClient: XHR readyState: ${d.readyState}, status: ${d.status}`)},d.onload=()=>{var p;console.log(`HttpClient: XHR onload - Status: ${d.status}, Response: ${(p=d.responseText)==null?void 0:p.substring(0,100)}...`);try{if(d.status>=200&&d.status<300){const g=new Response(d.responseText,{status:d.status,statusText:d.statusText,headers:new Headers({"Content-Type":d.getResponseHeader("Content-Type")||"application/json"})});a(g)}else c(new Error(`HTTP error ${d.status}: ${d.statusText||"No status text"}`))}catch(g){console.error("HttpClient: Error creating response:",g),c(new Error(`Failed to create response: ${g}`))}},d.onerror=p=>{console.error("HttpClient: XHR error event:",p),console.error("HttpClient: XHR error details:",{status:d.status,statusText:d.statusText,readyState:d.readyState,responseText:d.responseText,responseURL:d.responseURL,url:t,method:f});let g="XMLHttpRequest failed";d.readyState===0?g=`Request not initialized - possible CORS or network issue for ${t}`:d.readyState===1?g="Request opened but not sent":d.readyState===2?g="Headers received but request incomplete":d.readyState===3?g="Request in progress":d.readyState===4&&(d.status===0?g=`Network error or CORS policy blocked request to ${t}. Check if server is running and CORS is configured.`:g=`HTTP error ${d.status}: ${d.statusText||"Unknown error"} for ${t}`),c(new Error(g))},d.ontimeout=()=>{console.error("HttpClient: XHR timeout"),c(new Error("XMLHttpRequest timeout after 25 seconds"))},d.onabort=()=>{console.error("HttpClient: XHR aborted"),c(new Error("XMLHttpRequest was aborted"))},console.log(`HttpClient: Sending XHR ${f} request to ${t}`),s.body?(console.log("HttpClient: Request body:",s.body),d.send(s.body)):d.send()}catch(p){console.error("HttpClient: Error setting up XMLHttpRequest:",p),c(new Error(`Failed to setup XMLHttpRequest: ${p}`))}})}static async request(t,s={}){this.ensureInitialized();const a=t.startsWith("http")?t:`${this.baseUrl}${t}`,c=s.method||"GET",d=c==="GET"?`${c}:${a}`:null;if(d&&this.pendingRequests.has(d))return console.log(`HttpClient: Reusing pending request for ${a}`),this.pendingRequests.get(d);if(console.log(`HttpClient: Request to ${a} (baseUrl: ${this.baseUrl}, endpoint: ${t})`),!a||a==="undefined"||a.includes("undefined"))throw console.error("HttpClient: Invalid URL constructed:",{url:a,baseUrl:this.baseUrl,endpoint:t}),new Error(`Invalid URL: ${a}`);const p={...s,headers:{...{"Content-Type":"application/json"},...s.headers}},g=this.executeRequest(a,p);return d&&(this.pendingRequests.set(d,g),g.finally(()=>{this.pendingRequests.delete(d)})),g}static async executeRequest(t,s){var d,f;if(this.useXHROnly)return console.log(`HttpClient: Using XMLHttpRequest for ${t} (FullStory detected)`),this.fallbackFetch(t,s);let a=null,c=null;try{a=new AbortController,c=setTimeout(()=>{a&&!a.signal.aborted&&a.abort("Request timeout after 20 seconds")},2e4);const p={...s,signal:a.signal};console.log(`HttpClient: Attempting fetch to ${t}`);const g=await fetch(t,p);return c&&(clearTimeout(c),c=null),console.log(`HttpClient: Fetch successful to ${t}`,g.status),g}catch(p){c&&(clearTimeout(c),c=null),console.warn(`HttpClient: Fetch failed, trying fallback for ${t}:`,p),p instanceof TypeError&&(p.message.includes("fetch")||p.message.includes("Failed to fetch")||(d=p.stack)!=null&&d.includes("fullstory")||(f=p.stack)!=null&&f.includes("fs.js"))&&(console.log("HttpClient: Detected FullStory interference, switching to XMLHttpRequest mode permanently"),this.useXHROnly=!0),p instanceof Error&&p.name==="AbortError"&&console.log("HttpClient: Request was aborted, trying fallback without signal");try{const g=await this.fallbackFetch(t,s);return console.log(`HttpClient: Fallback successful to ${t}`,g.status),g}catch(g){throw console.error(`HttpClient: Both fetch and fallback failed for ${t}:`,g),g}}}static async requestWithRetry(t,s={},a=2){var d,f;let c=null;for(let p=0;p<=a;p++)try{return await this.request(t,s)}catch(g){if(c=g,console.warn(`HttpClient: Attempt ${p+1} failed for ${t}:`,g),g instanceof TypeError&&(g.message.includes("fetch")||g.message.includes("Failed to fetch")||(d=g.stack)!=null&&d.includes("fullstory")||(f=g.stack)!=null&&f.includes("fs.js"))){console.log("HttpClient: FullStory error detected in retry, switching to XMLHttpRequest mode"),this.useXHROnly=!0;try{const w=t.startsWith("http")?t:`${this.baseUrl}${t}`,b={...s,headers:{...{"Content-Type":"application/json"},...s.headers}};return await this.fallbackFetch(w,b)}catch(w){console.error("HttpClient: XHR fallback also failed:",w)}}p<a&&await new Promise(w=>setTimeout(w,Math.pow(2,p)*1e3))}throw c}static async get(t,s=!1){return s?this.requestWithRetry(t,{method:"GET"}):this.request(t,{method:"GET"})}static async post(t,s,a=!0){const c={method:"POST",body:s?JSON.stringify(s):void 0};return a?this.requestWithRetry(t,c):this.request(t,c)}static async put(t,s,a=!0){const c={method:"PUT",body:s?JSON.stringify(s):void 0};return a?this.requestWithRetry(t,c):this.request(t,c)}static async delete(t,s=!1){return s?this.requestWithRetry(t,{method:"DELETE"}):this.request(t,{method:"DELETE"})}}Es(ct,"baseUrl",""),Es(ct,"isInitialized",!1),Es(ct,"useXHROnly",!1),Es(ct,"pendingRequests",new Map);ct.init();const tt=v.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:it("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));tt.displayName="Card";const _t=v.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:it("flex flex-col space-y-1.5 p-6",e),...t}));_t.displayName="CardHeader";const bt=v.forwardRef(({className:e,...t},s)=>i.jsx("h3",{ref:s,className:it("text-2xl font-semibold leading-none tracking-tight",e),...t}));bt.displayName="CardTitle";const mP=v.forwardRef(({className:e,...t},s)=>i.jsx("p",{ref:s,className:it("text-sm text-muted-foreground",e),...t}));mP.displayName="CardDescription";const nt=v.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:it("p-6 pt-0",e),...t}));nt.displayName="CardContent";const pP=v.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:it("flex items-center p-6 pt-0",e),...t}));pP.displayName="CardFooter";const gP=Xc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Se=v.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...c},d)=>{const f=a?ta:"button";return i.jsx(f,{className:it(gP({variant:t,size:s,className:e})),ref:d,...c})});Se.displayName="Button";const vP=Xc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Et({className:e,variant:t,...s}){return i.jsx("div",{className:it(vP({variant:t}),e),...s})}var Tc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var xP=Tc.exports,kx;function yP(){return kx||(kx=1,function(e,t){(function(s,a){a(t)})(xP,function(s){var a="1.9.4";function c(r){var l,h,x,E;for(h=1,x=arguments.length;h<x;h++){E=arguments[h];for(l in E)r[l]=E[l]}return r}var d=Object.create||function(){function r(){}return function(l){return r.prototype=l,new r}}();function f(r,l){var h=Array.prototype.slice;if(r.bind)return r.bind.apply(r,h.call(arguments,1));var x=h.call(arguments,2);return function(){return r.apply(l,x.length?x.concat(h.call(arguments)):arguments)}}var p=0;function g(r){return"_leaflet_id"in r||(r._leaflet_id=++p),r._leaflet_id}function w(r,l,h){var x,E,D,H;return H=function(){x=!1,E&&(D.apply(h,E),E=!1)},D=function(){x?E=arguments:(r.apply(h,arguments),setTimeout(H,l),x=!0)},D}function _(r,l,h){var x=l[1],E=l[0],D=x-E;return r===x&&h?r:((r-E)%D+D)%D+E}function b(){return!1}function S(r,l){if(l===!1)return r;var h=Math.pow(10,l===void 0?6:l);return Math.round(r*h)/h}function T(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function P(r){return T(r).split(/\s+/)}function j(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var h in l)r.options[h]=l[h];return r.options}function C(r,l,h){var x=[];for(var E in r)x.push(encodeURIComponent(h?E.toUpperCase():E)+"="+encodeURIComponent(r[E]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function O(r,l){return r.replace(k,function(h,x){var E=l[x];if(E===void 0)throw new Error("No value provided for variable "+h);return typeof E=="function"&&(E=E(l)),E})}var M=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function I(r,l){for(var h=0;h<r.length;h++)if(r[h]===l)return h;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var F=0;function ie(r){var l=+new Date,h=Math.max(0,16-(l-F));return F=l+h,window.setTimeout(r,h)}var ce=window.requestAnimationFrame||Z("RequestAnimationFrame")||ie,q=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function ne(r,l,h){if(h&&ce===ie)r.call(l);else return ce.call(window,f(r,l))}function he(r){r&&q.call(window,r)}var Pe={__proto__:null,extend:c,create:d,bind:f,get lastId(){return p},stamp:g,throttle:w,wrapNum:_,falseFn:b,formatNum:S,trim:T,splitWords:P,setOptions:j,getParamString:C,template:O,isArray:M,indexOf:I,emptyImageUrl:$,requestFn:ce,cancelFn:q,requestAnimFrame:ne,cancelAnimFrame:he};function K(){}K.extend=function(r){var l=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,x=d(h);x.constructor=l,l.prototype=x;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return r.statics&&c(l,r.statics),r.includes&&(J(r.includes),c.apply(null,[x].concat(r.includes))),c(x,r),delete x.statics,delete x.includes,x.options&&(x.options=h.options?d(h.options):{},c(x.options,r.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var D=0,H=x._initHooks.length;D<H;D++)x._initHooks[D].call(this)}},l},K.include=function(r){var l=this.prototype.options;return c(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},K.mergeOptions=function(r){return c(this.prototype.options,r),this},K.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),h=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function J(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=M(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ee={on:function(r,l,h){if(typeof r=="object")for(var x in r)this._on(x,r[x],l);else{r=P(r);for(var E=0,D=r.length;E<D;E++)this._on(r[E],l,h)}return this},off:function(r,l,h){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var x in r)this._off(x,r[x],l);else{r=P(r);for(var E=arguments.length===1,D=0,H=r.length;D<H;D++)E?this._off(r[D]):this._off(r[D],l,h)}return this},_on:function(r,l,h,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,h)===!1){h===this&&(h=void 0);var E={fn:l,ctx:h};x&&(E.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(E)}},_off:function(r,l,h){var x,E,D;if(this._events&&(x=this._events[r],!!x)){if(arguments.length===1){if(this._firingCount)for(E=0,D=x.length;E<D;E++)x[E].fn=b;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var H=this._listens(r,l,h);if(H!==!1){var re=x[H];this._firingCount&&(re.fn=b,this._events[r]=x=x.slice()),x.splice(H,1)}}},fire:function(r,l,h){if(!this.listens(r,h))return this;var x=c({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[r];if(E){this._firingCount=this._firingCount+1||1;for(var D=0,H=E.length;D<H;D++){var re=E[D],ue=re.fn;re.once&&this.off(r,ue,re.ctx),ue.call(re.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(r,l,h,x){typeof r!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(x=!!l,E=void 0,h=void 0);var D=this._events&&this._events[r];if(D&&D.length&&this._listens(r,E,h)!==!1)return!0;if(x){for(var H in this._eventParents)if(this._eventParents[H].listens(r,l,h,x))return!0}return!1},_listens:function(r,l,h){if(!this._events)return!1;var x=this._events[r]||[];if(!l)return!!x.length;h===this&&(h=void 0);for(var E=0,D=x.length;E<D;E++)if(x[E].fn===l&&x[E].ctx===h)return E;return!1},once:function(r,l,h){if(typeof r=="object")for(var x in r)this._on(x,r[x],l,!0);else{r=P(r);for(var E=0,D=r.length;E<D;E++)this._on(r[E],l,h,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[g(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[g(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,c({layer:r.target,propagatedFrom:r.target},r),!0)}};ee.addEventListener=ee.on,ee.removeEventListener=ee.clearAllEventListeners=ee.off,ee.addOneTimeEventListener=ee.once,ee.fireEvent=ee.fire,ee.hasEventListeners=ee.listens;var pe=K.extend(ee);function U(r,l,h){this.x=h?Math.round(r):r,this.y=h?Math.round(l):l}var de=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(r){return this.clone()._add(ae(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(ae(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new U(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new U(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=de(this.x),this.y=de(this.y),this},distanceTo:function(r){r=ae(r);var l=r.x-this.x,h=r.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(r){return r=ae(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=ae(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function ae(r,l,h){return r instanceof U?r:M(r)?new U(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new U(r.x,r.y):new U(r,l,h)}function z(r,l){if(r)for(var h=l?[r,l]:r,x=0,E=h.length;x<E;x++)this.extend(h[x])}z.prototype={extend:function(r){var l,h;if(!r)return this;if(r instanceof U||typeof r[0]=="number"||"x"in r)l=h=ae(r);else if(r=X(r),l=r.min,h=r.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(r){return ae((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return ae(this.min.x,this.max.y)},getTopRight:function(){return ae(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,h;return typeof r[0]=="number"||r instanceof U?r=ae(r):r=X(r),r instanceof z?(l=r.min,h=r.max):l=h=r,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(r){r=X(r);var l=this.min,h=this.max,x=r.min,E=r.max,D=E.x>=l.x&&x.x<=h.x,H=E.y>=l.y&&x.y<=h.y;return D&&H},overlaps:function(r){r=X(r);var l=this.min,h=this.max,x=r.min,E=r.max,D=E.x>l.x&&x.x<h.x,H=E.y>l.y&&x.y<h.y;return D&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,h=this.max,x=Math.abs(l.x-h.x)*r,E=Math.abs(l.y-h.y)*r;return X(ae(l.x-x,l.y-E),ae(h.x+x,h.y+E))},equals:function(r){return r?(r=X(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function X(r,l){return!r||r instanceof z?r:new z(r,l)}function ye(r,l){if(r)for(var h=l?[r,l]:r,x=0,E=h.length;x<E;x++)this.extend(h[x])}ye.prototype={extend:function(r){var l=this._southWest,h=this._northEast,x,E;if(r instanceof we)x=r,E=r;else if(r instanceof ye){if(x=r._southWest,E=r._northEast,!x||!E)return this}else return r?this.extend(Y(r)||Ee(r)):this;return!l&&!h?(this._southWest=new we(x.lat,x.lng),this._northEast=new we(E.lat,E.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),h.lat=Math.max(E.lat,h.lat),h.lng=Math.max(E.lng,h.lng)),this},pad:function(r){var l=this._southWest,h=this._northEast,x=Math.abs(l.lat-h.lat)*r,E=Math.abs(l.lng-h.lng)*r;return new ye(new we(l.lat-x,l.lng-E),new we(h.lat+x,h.lng+E))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof we||"lat"in r?r=Y(r):r=Ee(r);var l=this._southWest,h=this._northEast,x,E;return r instanceof ye?(x=r.getSouthWest(),E=r.getNorthEast()):x=E=r,x.lat>=l.lat&&E.lat<=h.lat&&x.lng>=l.lng&&E.lng<=h.lng},intersects:function(r){r=Ee(r);var l=this._southWest,h=this._northEast,x=r.getSouthWest(),E=r.getNorthEast(),D=E.lat>=l.lat&&x.lat<=h.lat,H=E.lng>=l.lng&&x.lng<=h.lng;return D&&H},overlaps:function(r){r=Ee(r);var l=this._southWest,h=this._northEast,x=r.getSouthWest(),E=r.getNorthEast(),D=E.lat>l.lat&&x.lat<h.lat,H=E.lng>l.lng&&x.lng<h.lng;return D&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=Ee(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ee(r,l){return r instanceof ye?r:new ye(r,l)}function we(r,l,h){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,h!==void 0&&(this.alt=+h)}we.prototype={equals:function(r,l){if(!r)return!1;r=Y(r);var h=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return h<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+S(this.lat,r)+", "+S(this.lng,r)+")"},distanceTo:function(r){return V.distance(this,Y(r))},wrap:function(){return V.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,h=l/Math.cos(Math.PI/180*this.lat);return Ee([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new we(this.lat,this.lng,this.alt)}};function Y(r,l,h){return r instanceof we?r:M(r)&&typeof r[0]!="object"?r.length===3?new we(r[0],r[1],r[2]):r.length===2?new we(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new we(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new we(r,l,h)}var A={latLngToPoint:function(r,l){var h=this.projection.project(r),x=this.scale(l);return this.transformation._transform(h,x)},pointToLatLng:function(r,l){var h=this.scale(l),x=this.transformation.untransform(r,h);return this.projection.unproject(x)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(r),x=this.transformation.transform(l.min,h),E=this.transformation.transform(l.max,h);return new z(x,E)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?_(r.lng,this.wrapLng,!0):r.lng,h=this.wrapLat?_(r.lat,this.wrapLat,!0):r.lat,x=r.alt;return new we(h,l,x)},wrapLatLngBounds:function(r){var l=r.getCenter(),h=this.wrapLatLng(l),x=l.lat-h.lat,E=l.lng-h.lng;if(x===0&&E===0)return r;var D=r.getSouthWest(),H=r.getNorthEast(),re=new we(D.lat-x,D.lng-E),ue=new we(H.lat-x,H.lng-E);return new ye(re,ue)}},V=c({},A,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var h=Math.PI/180,x=r.lat*h,E=l.lat*h,D=Math.sin((l.lat-r.lat)*h/2),H=Math.sin((l.lng-r.lng)*h/2),re=D*D+Math.cos(x)*Math.cos(E)*H*H,ue=2*Math.atan2(Math.sqrt(re),Math.sqrt(1-re));return this.R*ue}}),te=6378137,ge={R:te,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,r.lat),-h),E=Math.sin(x*l);return new U(this.R*r.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(r){var l=180/Math.PI;return new we((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:function(){var r=te*Math.PI;return new z([-r,-r],[r,r])}()};function Le(r,l,h,x){if(M(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=h,this._d=x}Le.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new U((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function Ae(r,l,h,x){return new Le(r,l,h,x)}var Ge=c({},V,{code:"EPSG:3857",projection:ge,transformation:function(){var r=.5/(Math.PI*ge.R);return Ae(r,.5,-r,.5)}()}),gt=c({},Ge,{code:"EPSG:900913"});function Ft(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ht(r,l){var h="",x,E,D,H,re,ue;for(x=0,D=r.length;x<D;x++){for(re=r[x],E=0,H=re.length;E<H;E++)ue=re[E],h+=(E?"L":"M")+ue.x+" "+ue.y;h+=l?Ze.svg?"z":"x":""}return h||"M0 0"}var It=document.documentElement.style,At="ActiveXObject"in window,ft=At&&!document.addEventListener,Oe="msLaunchUri"in navigator&&!("documentMode"in document),Nt=Dn("webkit"),St=Dn("android"),Ut=Dn("android 2")||Dn("android 3"),Mn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),En=St&&Dn("Google")&&Mn<537&&!("AudioNode"in window),Ht=!!window.opera,mn=!Oe&&Dn("chrome"),wn=Dn("gecko")&&!Nt&&!Ht&&!At,Cn=!mn&&Dn("safari"),Q=Dn("phantom"),be="OTransition"in It,Be=navigator.platform.indexOf("Win")===0,Ve=At&&"transition"in It,st="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ut,$e="MozPerspective"in It,Me=!window.L_DISABLE_3D&&(Ve||st||$e)&&!be&&!Q,Ye=typeof orientation<"u"||Dn("mobile"),se=Ye&&Nt,ve=Ye&&st,Te=!window.PointerEvent&&window.MSPointerEvent,De=!!(window.PointerEvent||Te),Ie="ontouchstart"in window||!!window.TouchEvent,Lt=!window.L_NO_TOUCH&&(Ie||De),Ke=Ye&&Ht,vt=Ye&&wn,Pt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yt=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",b,l),window.removeEventListener("testPassiveEventSupport",b,l)}catch{}return r}(),Gr=function(){return!!document.createElement("canvas").getContext}(),ua=!!(document.createElementNS&&Ft("svg").createSVGRect),pi=!!ua&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),kl=!ua&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),gi=navigator.platform.indexOf("Mac")===0,If=navigator.platform.indexOf("Linux")===0;function Dn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Ze={ie:At,ielt9:ft,edge:Oe,webkit:Nt,android:St,android23:Ut,androidStock:En,opera:Ht,chrome:mn,gecko:wn,safari:Cn,phantom:Q,opera12:be,win:Be,ie3d:Ve,webkit3d:st,gecko3d:$e,any3d:Me,mobile:Ye,mobileWebkit:se,mobileWebkit3d:ve,msPointer:Te,pointer:De,touch:Lt,touchNative:Ie,mobileOpera:Ke,mobileGecko:vt,retina:Pt,passiveEvents:Yt,canvas:Gr,svg:ua,vml:kl,inlineSvg:pi,mac:gi,linux:If},vi=Ze.msPointer?"MSPointerDown":"pointerdown",da=Ze.msPointer?"MSPointerMove":"pointermove",au=Ze.msPointer?"MSPointerUp":"pointerup",lu=Ze.msPointer?"MSPointerCancel":"pointercancel",Ml={touchstart:vi,touchmove:da,touchend:au,touchcancel:lu},ms={touchstart:nn,touchmove:fa,touchend:fa,touchcancel:fa},Fs={},Rl=!1;function Ff(r,l,h){return l==="touchstart"&&zf(),ms[l]?(h=ms[l].bind(this,h),r.addEventListener(Ml[l],h,!1),h):(console.warn("wrong event specified:",l),b)}function cu(r,l,h){if(!Ml[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(Ml[l],h,!1)}function uu(r){Fs[r.pointerId]=r}function du(r){Fs[r.pointerId]&&(Fs[r.pointerId]=r)}function Ll(r){delete Fs[r.pointerId]}function zf(){Rl||(document.addEventListener(vi,uu,!0),document.addEventListener(da,du,!0),document.addEventListener(au,Ll,!0),document.addEventListener(lu,Ll,!0),Rl=!0)}function fa(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Fs)l.touches.push(Fs[h]);l.changedTouches=[l],r(l)}}function nn(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&rn(l),fa(r,l)}function $f(r){var l={},h,x;for(x in r)h=r[x],l[x]=h&&h.bind?h.bind(r):h;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Dl=200;function fu(r,l){r.addEventListener("dblclick",l);var h=0,x;function E(D){if(D.detail!==1){x=D.detail;return}if(!(D.pointerType==="mouse"||D.sourceCapabilities&&!D.sourceCapabilities.firesTouchEvents)){var H=Bs(D);if(!(H.some(function(ue){return ue instanceof HTMLLabelElement&&ue.attributes.for})&&!H.some(function(ue){return ue instanceof HTMLInputElement||ue instanceof HTMLSelectElement}))){var re=Date.now();re-h<=Dl?(x++,x===2&&l($f(D))):x=1,h=re}}}return r.addEventListener("click",E),{dblclick:l,simDblclick:E}}function ha(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var Al=vo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),mo=vo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xi=mo==="webkitTransition"||mo==="OTransition"?mo+"End":"transitionend";function pr(r){return typeof r=="string"?document.getElementById(r):r}function yi(r,l){var h=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(r,null);h=x?x[l]:null}return h==="auto"?null:h}function ut(r,l,h){var x=document.createElement(r);return x.className=l||"",h&&h.appendChild(x),x}function Kt(r){var l=r.parentNode;l&&l.removeChild(r)}function ma(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function po(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function Yr(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function go(r,l){if(r.classList!==void 0)return r.classList.contains(l);var h=pa(r);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function lt(r,l){if(r.classList!==void 0)for(var h=P(l),x=0,E=h.length;x<E;x++)r.classList.add(h[x]);else if(!go(r,l)){var D=pa(r);Ol(r,(D?D+" ":"")+l)}}function qt(r,l){r.classList!==void 0?r.classList.remove(l):Ol(r,T((" "+pa(r)+" ").replace(" "+l+" "," ")))}function Ol(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function pa(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function An(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&hu(r,l)}function hu(r,l){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=r.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):r.style.filter+=" progid:"+x+"(opacity="+l+")"}function vo(r){for(var l=document.documentElement.style,h=0;h<r.length;h++)if(r[h]in l)return r[h];return!1}function gr(r,l,h){var x=l||new U(0,0);r.style[Al]=(Ze.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function cn(r,l){r._leaflet_pos=l,Ze.any3d?gr(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function Kr(r){return r._leaflet_pos||new U(0,0)}var Mt,xo,ga;if("onselectstart"in document)Mt=function(){ot(window,"selectstart",rn)},xo=function(){Wt(window,"selectstart",rn)};else{var zs=vo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mt=function(){if(zs){var r=document.documentElement.style;ga=r[zs],r[zs]="none"}},xo=function(){zs&&(document.documentElement.style[zs]=ga,ga=void 0)}}function va(){ot(window,"dragstart",rn)}function xa(){Wt(window,"dragstart",rn)}var wi,_i;function yo(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(vr(),wi=r,_i=r.style.outlineStyle,r.style.outlineStyle="none",ot(window,"keydown",vr))}function vr(){wi&&(wi.style.outlineStyle=_i,wi=void 0,_i=void 0,Wt(window,"keydown",vr))}function Xr(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Mr(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var bi={__proto__:null,TRANSFORM:Al,TRANSITION:mo,TRANSITION_END:xi,get:pr,getStyle:yi,create:ut,remove:Kt,empty:ma,toFront:po,toBack:Yr,hasClass:go,addClass:lt,removeClass:qt,setClass:Ol,getClass:pa,setOpacity:An,testProp:vo,setTransform:gr,setPosition:cn,getPosition:Kr,get disableTextSelection(){return Mt},get enableTextSelection(){return xo},disableImageDrag:va,enableImageDrag:xa,preventOutline:yo,restoreOutline:vr,getSizedParentNode:Xr,getScale:Mr};function ot(r,l,h,x){if(l&&typeof l=="object")for(var E in l)Fl(r,E,l[E],h);else{l=P(l);for(var D=0,H=l.length;D<H;D++)Fl(r,l[D],h,x)}return this}var _n="_leaflet_events";function Wt(r,l,h,x){if(arguments.length===1)Il(r),delete r[_n];else if(l&&typeof l=="object")for(var E in l)ya(r,E,l[E],h);else if(l=P(l),arguments.length===2)Il(r,function(re){return I(l,re)!==-1});else for(var D=0,H=l.length;D<H;D++)ya(r,l[D],h,x);return this}function Il(r,l){for(var h in r[_n]){var x=h.split(/\d/)[0];(!l||l(x))&&ya(r,x,null,null,h)}}var $s={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fl(r,l,h,x){var E=l+g(h)+(x?"_"+g(x):"");if(r[_n]&&r[_n][E])return this;var D=function(re){return h.call(x||r,re||window.event)},H=D;!Ze.touchNative&&Ze.pointer&&l.indexOf("touch")===0?D=Ff(r,l,D):Ze.touch&&l==="dblclick"?D=fu(r,D):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener($s[l]||l,D,Ze.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(D=function(re){re=re||window.event,ji(r,re)&&H(re)},r.addEventListener($s[l],D,!1)):r.addEventListener(l,H,!1):r.attachEvent("on"+l,D),r[_n]=r[_n]||{},r[_n][E]=D}function ya(r,l,h,x,E){E=E||l+g(h)+(x?"_"+g(x):"");var D=r[_n]&&r[_n][E];if(!D)return this;!Ze.touchNative&&Ze.pointer&&l.indexOf("touch")===0?cu(r,l,D):Ze.touch&&l==="dblclick"?ha(r,D):"removeEventListener"in r?r.removeEventListener($s[l]||l,D,!1):r.detachEvent("on"+l,D),r[_n][E]=null}function Rr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function wa(r){return Fl(r,"wheel",Rr),this}function Ni(r){return ot(r,"mousedown touchstart dblclick contextmenu",Rr),r._leaflet_disable_click=!0,this}function rn(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function xr(r){return rn(r),Rr(r),this}function Bs(r){if(r.composedPath)return r.composedPath();for(var l=[],h=r.target;h;)l.push(h),h=h.parentNode;return l}function Si(r,l){if(!l)return new U(r.clientX,r.clientY);var h=Mr(l),x=h.boundingClientRect;return new U((r.clientX-x.left)/h.x-l.clientLeft,(r.clientY-x.top)/h.y-l.clientTop)}var Bf=Ze.linux&&Ze.chrome?window.devicePixelRatio:Ze.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function mu(r){return Ze.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Bf:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function ji(r,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==r;)h=h.parentNode}catch{return!1}return h!==r}var _a={__proto__:null,on:ot,off:Wt,stopPropagation:Rr,disableScrollPropagation:wa,disableClickPropagation:Ni,preventDefault:rn,stop:xr,getPropagationPath:Bs,getMousePosition:Si,getWheelDelta:mu,isExternalTarget:ji,addListener:ot,removeListener:Wt},ba=pe.extend({run:function(r,l,h,x){this.stop(),this._el=r,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Kr(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ne(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var h=this._startPos.add(this._offset.multiplyBy(r));l&&h._round(),cn(this._el,h),this.fire("step")},_complete:function(){he(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Tt=pe.extend({options:{crs:Ge,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=j(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Y(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=mo&&Ze.any3d&&!Ze.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ot(this._proxy,xi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(Y(r),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,h.zoom):this._tryAnimatedPan(r,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(Ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(Ze.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,h){var x=this.getZoomScale(l),E=this.getSize().divideBy(2),D=r instanceof U?r:this.latLngToContainerPoint(r),H=D.subtract(E).multiplyBy(1-1/x),re=this.containerPointToLatLng(E.add(H));return this.setView(re,l,{zoom:h})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():Ee(r);var h=ae(l.paddingTopLeft||l.padding||[0,0]),x=ae(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(r,!1,h.add(x));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:r.getCenter(),zoom:E};var D=x.subtract(h).divideBy(2),H=this.project(r.getSouthWest(),E),re=this.project(r.getNorthEast(),E),ue=this.unproject(H.add(re).divideBy(2).add(D),E);return{center:ue,zoom:E}},fitBounds:function(r,l){if(r=Ee(r),!r.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(r,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=ae(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ba,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){lt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,h){if(h=h||{},h.animate===!1||!Ze.any3d)return this.setView(r,l,h);this._stop();var x=this.project(this.getCenter()),E=this.project(r),D=this.getSize(),H=this._zoom;r=Y(r),l=l===void 0?H:l;var re=Math.max(D.x,D.y),ue=re*this.getZoomScale(H,l),_e=E.distanceTo(x)||1,Fe=1.42,Xe=Fe*Fe;function mt(zt){var Do=zt?-1:1,th=zt?ue:re,nh=ue*ue-re*re+Do*Xe*Xe*_e*_e,Gs=2*th*Xe*_e,Ys=nh/Gs,Ks=Math.sqrt(Ys*Ys+1)-Ys,Oa=Ks<1e-9?-18:Math.log(Ks);return Oa}function bn(zt){return(Math.exp(zt)-Math.exp(-zt))/2}function gn(zt){return(Math.exp(zt)+Math.exp(-zt))/2}function Gn(zt){return bn(zt)/gn(zt)}var In=mt(0);function Ro(zt){return re*(gn(In)/gn(In+Fe*zt))}function oc(zt){return re*(gn(In)*Gn(In+Fe*zt)-bn(In))/Xe}function bs(zt){return 1-Math.pow(1-zt,1.5)}var Au=Date.now(),qs=(mt(1)-In)/Fe,Or=h.duration?1e3*h.duration:1e3*qs*.8;function Lo(){var zt=(Date.now()-Au)/Or,Do=bs(zt)*qs;zt<=1?(this._flyToFrame=ne(Lo,this),this._move(this.unproject(x.add(E.subtract(x).multiplyBy(oc(Do)/_e)),H),this.getScaleZoom(re/Ro(Do),H),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Lo.call(this),this},flyToBounds:function(r,l){var h=this._getBoundsCenterZoom(r,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(r){return r=Ee(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,Ee(r));return h.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var h=ae(l.paddingTopLeft||l.padding||[0,0]),x=ae(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),D=this.project(r),H=this.getPixelBounds(),re=X([H.min.add(h),H.max.subtract(x)]),ue=re.getSize();if(!re.contains(D)){this._enforcingBounds=!0;var _e=D.subtract(re.getCenter()),Fe=re.extend(D).getSize().subtract(ue);E.x+=_e.x<0?-Fe.x:Fe.x,E.y+=_e.y<0?-Fe.y:Fe.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=c({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=l.divideBy(2).round(),E=h.divideBy(2).round(),D=x.subtract(E);return!D.x&&!D.y?this:(r.animate&&r.pan?this.panBy(D):(r.pan&&this._rawPanBy(D),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=c({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,r):navigator.geolocation.getCurrentPosition(l,h,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,h=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,h=r.coords.longitude,x=new we(l,h),E=x.toBounds(r.coords.accuracy*2),D=this._locateOptions;if(D.setView){var H=this.getBoundsZoom(E);this.setView(x,D.maxZoom?Math.min(H,D.maxZoom):H)}var re={latlng:x,bounds:E,timestamp:r.timestamp};for(var ue in r.coords)typeof r.coords[ue]=="number"&&(re[ue]=r.coords[ue]);this.fire("locationfound",re)}},addHandler:function(r,l){if(!l)return this;var h=this[r]=new l(this);return this._handlers.push(h),this.options[r]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Kt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(he(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Kt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var h="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),x=ut("div",h,l||this._mapPane);return r&&(this._panes[r]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),h=this.unproject(r.getTopRight());return new ye(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,h){r=Ee(r),h=ae(h||[0,0]);var x=this.getZoom()||0,E=this.getMinZoom(),D=this.getMaxZoom(),H=r.getNorthWest(),re=r.getSouthEast(),ue=this.getSize().subtract(h),_e=X(this.project(re,x),this.project(H,x)).getSize(),Fe=Ze.any3d?this.options.zoomSnap:1,Xe=ue.x/_e.x,mt=ue.y/_e.y,bn=l?Math.max(Xe,mt):Math.min(Xe,mt);return x=this.getScaleZoom(bn,x),Fe&&(x=Math.round(x/(Fe/100))*(Fe/100),x=l?Math.ceil(x/Fe)*Fe:Math.floor(x/Fe)*Fe),Math.max(E,Math.min(D,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var h=this._getTopLeftPoint(r,l);return new z(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(r)/h.scale(l)},getScaleZoom:function(r,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var x=h.zoom(r*h.scale(l));return isNaN(x)?1/0:x},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Y(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(ae(r),l)},layerPointToLatLng:function(r){var l=ae(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(Y(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Y(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Ee(r))},distance:function(r,l){return this.options.crs.distance(Y(r),Y(l))},containerPointToLayerPoint:function(r){return ae(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return ae(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(ae(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(r)))},mouseEventToContainerPoint:function(r){return Si(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=pr(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ot(l,"scroll",this._onScroll,this),this._containerId=g(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ze.any3d,lt(r,"leaflet-container"+(Ze.touch?" leaflet-touch":"")+(Ze.retina?" leaflet-retina":"")+(Ze.ielt9?" leaflet-oldie":"")+(Ze.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=yi(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),cn(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(lt(r.markerPane,"leaflet-zoom-hide"),lt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,h){cn(this._mapPane,new U(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,h)._move(r,l)._moveEnd(E),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,h,x){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),x?h&&h.pinch&&this.fire("zoom",h):((E||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return he(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){cn(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[g(this._container)]=this;var l=r?Wt:ot;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ze.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){he(this._resizeRequest),this._resizeRequest=ne(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var h=[],x,E=l==="mouseout"||l==="mouseover",D=r.target||r.srcElement,H=!1;D;){if(x=this._targets[g(D)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){H=!0;break}if(x&&x.listens(l,!0)&&(E&&!ji(D,r)||(h.push(x),E))||D===this._container)break;D=D.parentNode}return!h.length&&!H&&!E&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var h=r.type;h==="mousedown"&&yo(l),this._fireDOMEvent(r,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,h){if(r.type==="click"){var x=c({},r);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var E=this._findEventTargets(r,l);if(h){for(var D=[],H=0;H<h.length;H++)h[H].listens(l,!0)&&D.push(h[H]);E=D.concat(E)}if(E.length){l==="contextmenu"&&rn(r);var re=E[0],ue={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var _e=re.getLatLng&&(!re._radius||re._radius<=10);ue.containerPoint=_e?this.latLngToContainerPoint(re.getLatLng()):this.mouseEventToContainerPoint(r),ue.layerPoint=this.containerPointToLayerPoint(ue.containerPoint),ue.latlng=_e?re.getLatLng():this.layerPointToLatLng(ue.layerPoint)}for(H=0;H<E.length;H++)if(E[H].fire(l,ue,!0),ue.originalEvent._stopped||E[H].options.bubblingMouseEvents===!1&&I(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return Kr(this._mapPane)||new U(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var h=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var h=this.getSize()._divideBy(2);return this.project(r,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,h){var x=this._getNewPixelOrigin(h,l);return this.project(r,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(r,l,h){var x=this._getNewPixelOrigin(h,l);return X([this.project(r.getSouthWest(),l)._subtract(x),this.project(r.getNorthWest(),l)._subtract(x),this.project(r.getSouthEast(),l)._subtract(x),this.project(r.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,h){if(!h)return r;var x=this.project(r,l),E=this.getSize().divideBy(2),D=new z(x.subtract(E),x.add(E)),H=this._getBoundsOffset(D,h,l);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?r:this.unproject(x.add(H),l)},_limitOffset:function(r,l){if(!l)return r;var h=this.getPixelBounds(),x=new z(h.min.add(r),h.max.add(r));return r.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(r,l,h){var x=X(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),E=x.min.subtract(r.min),D=x.max.subtract(r.max),H=this._rebound(E.x,-D.x),re=this._rebound(E.y,-D.y);return new U(H,re)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),h=this.getMaxZoom(),x=Ze.any3d?this.options.zoomSnap:1;return x&&(r=Math.round(r/x)*x),Math.max(l,Math.min(h,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){qt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var h=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var r=this._proxy=ut("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var h=Al,x=this._proxy.style[h];gr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Kt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();gr(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),E=this._getCenterOffset(r)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(E)?!1:(ne(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,lt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&qt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ps(r,l){return new Tt(r,l)}var Zn=K.extend({options:{position:"topright"},initialize:function(r){j(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),h=this.getPosition(),x=r._controlCorners[h];return lt(l,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Kt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),gs=function(r){return new Zn(r)};Tt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",h=this._controlContainer=ut("div",l+"control-container",this._container);function x(E,D){var H=l+E+" "+l+D;r[E+D]=ut("div",H,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Kt(this._controlCorners[r]);Kt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zl=Zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,h,x){return h<x?-1:x<h?1:0}},initialize:function(r,l,h){j(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in r)this._addLayer(r[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Zn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(g(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){lt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(lt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):qt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return qt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=ut("div",r),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ni(l),wa(l);var x=this._section=ut("section",r+"-list");h&&(this._map.on("click",this.collapse,this),ot(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=ut("a",r+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),ot(E,{keydown:function(D){D.keyCode===13&&this._expandSafely()},click:function(D){rn(D),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=ut("div",r+"-base",x),this._separator=ut("div",r+"-separator",x),this._overlaysList=ut("div",r+"-overlays",x),l.appendChild(x)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&g(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,h){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(x,E){return this.options.sortFunction(x.layer,E.layer,x.name,E.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ma(this._baseLayersList),ma(this._overlaysList),this._layerControlInputs=[];var r,l,h,x,E=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),l=l||x.overlay,r=r||!x.overlay,E+=x.overlay?0:1;return this.options.hideSingleBase&&(r=r&&E>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(g(r.target)),h=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(r,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(r){var l=document.createElement("label"),h=this._map.hasLayer(r.layer),x;r.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+g(this),h),this._layerControlInputs.push(x),x.layerId=g(r.layer),ot(x,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+r.name;var D=document.createElement("span");l.appendChild(D),D.appendChild(x),D.appendChild(E);var H=r.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,h,x=[],E=[];this._handlingClick=!0;for(var D=r.length-1;D>=0;D--)l=r[D],h=this._getLayer(l.layerId).layer,l.checked?x.push(h):l.checked||E.push(h);for(D=0;D<E.length;D++)this._map.hasLayer(E[D])&&this._map.removeLayer(E[D]);for(D=0;D<x.length;D++)this._map.hasLayer(x[D])||this._map.addLayer(x[D]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,h,x=this._map.getZoom(),E=r.length-1;E>=0;E--)l=r[E],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ot(r,"click",rn),this.expand();var l=this;setTimeout(function(){Wt(r,"click",rn),l._preventClick=!1})}}),Na=function(r,l,h){return new zl(r,l,h)},wo=Zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",h=ut("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,h,x,E){var D=ut("a",h,x);return D.innerHTML=r,D.href="#",D.title=l,D.setAttribute("role","button"),D.setAttribute("aria-label",l),Ni(D),ot(D,"click",xr),ot(D,"click",E,this),ot(D,"click",this._refocusOnMap,this),D},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";qt(this._zoomInButton,l),qt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(lt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(lt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Tt.mergeOptions({zoomControl:!0}),Tt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new wo,this.addControl(this.zoomControl))});var pu=function(r){return new wo(r)},On=Zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",h=ut("div",l),x=this.options;return this._addScales(x,l+"-line",h),r.on(x.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),h},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,h){r.metric&&(this._mScale=ut("div",l,h)),r.imperial&&(this._iScale=ut("div",l,h))},_update:function(){var r=this._map,l=r.getSize().y/2,h=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/r)},_updateImperial:function(r){var l=r*3.2808399,h,x,E;l>5280?(h=l/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(r,l,h){r.style.width=Math.round(this.options.maxWidth*h)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),h=r/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),_o=function(r){return new On(r)},$l='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Us=Zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ze.inlineSvg?$l+" ":"")+"Leaflet</a>"},initialize:function(r){j(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ut("div","leaflet-control-attribution"),Ni(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),r.length&&h.push(r.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Tt.mergeOptions({attributionControl:!0}),Tt.addInitHook(function(){this.options.attributionControl&&new Us().addTo(this)});var Uf=function(r){return new Us(r)};Zn.Layers=zl,Zn.Zoom=wo,Zn.Scale=On,Zn.Attribution=Us,gs.layers=Na,gs.zoom=pu,gs.scale=_o,gs.attribution=Uf;var er=K.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});er.addTo=function(r,l){return r.addHandler(l,this),this};var Bl={Events:ee},bo=Ze.touch?"touchstart mousedown":"mousedown",yr=pe.extend({options:{clickTolerance:3},initialize:function(r,l,h,x){j(this,x),this._element=r,this._dragStartTarget=l||r,this._preventOutline=h},enable:function(){this._enabled||(ot(this._dragStartTarget,bo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yr._dragging===this&&this.finishDrag(!0),Wt(this._dragStartTarget,bo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!go(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){yr._dragging===this&&this.finishDrag();return}if(!(yr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(yr._dragging=this,this._preventOutline&&yo(this._element),va(),Mt(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,h=Xr(this._element);this._startPoint=new U(l.clientX,l.clientY),this._startPos=Kr(this._element),this._parentScale=Mr(h);var x=r.type==="mousedown";ot(document,x?"mousemove":"touchmove",this._onMove,this),ot(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,h=new U(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,rn(r),this._moved||(this.fire("dragstart"),this._moved=!0,lt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),lt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),cn(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){qt(document.body,"leaflet-dragging"),this._lastTarget&&(qt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Wt(document,"mousemove touchmove",this._onMove,this),Wt(document,"mouseup touchend touchcancel",this._onUp,this),xa(),xo();var l=this._moved&&this._moving;this._moving=!1,yr._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Ul(r,l,h){var x,E=[1,4,2,8],D,H,re,ue,_e,Fe,Xe,mt;for(D=0,Fe=r.length;D<Fe;D++)r[D]._code=Hs(r[D],l);for(re=0;re<4;re++){for(Xe=E[re],x=[],D=0,Fe=r.length,H=Fe-1;D<Fe;H=D++)ue=r[D],_e=r[H],ue._code&Xe?_e._code&Xe||(mt=ja(_e,ue,Xe,l,h),mt._code=Hs(mt,l),x.push(mt)):(_e._code&Xe&&(mt=ja(_e,ue,Xe,l,h),mt._code=Hs(mt,l),x.push(mt)),x.push(ue));r=x}return r}function gu(r,l){var h,x,E,D,H,re,ue,_e,Fe;if(!r||r.length===0)throw new Error("latlngs not passed");tr(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Xe=Y([0,0]),mt=Ee(r),bn=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());bn<1700&&(Xe=Hl(r));var gn=r.length,Gn=[];for(h=0;h<gn;h++){var In=Y(r[h]);Gn.push(l.project(Y([In.lat-Xe.lat,In.lng-Xe.lng])))}for(re=ue=_e=0,h=0,x=gn-1;h<gn;x=h++)E=Gn[h],D=Gn[x],H=E.y*D.x-D.y*E.x,ue+=(E.x+D.x)*H,_e+=(E.y+D.y)*H,re+=H*3;re===0?Fe=Gn[0]:Fe=[ue/re,_e/re];var Ro=l.unproject(ae(Fe));return Y([Ro.lat+Xe.lat,Ro.lng+Xe.lng])}function Hl(r){for(var l=0,h=0,x=0,E=0;E<r.length;E++){var D=Y(r[E]);l+=D.lat,h+=D.lng,x++}return Y([l/x,h/x])}var Hf={__proto__:null,clipPolygon:Ul,polygonCenter:gu,centroid:Hl};function Sa(r,l){if(!l||!r.length)return r.slice();var h=l*l;return r=Zf(r,h),r=Vf(r,h),r}function vu(r,l,h){return Math.sqrt(Ws(r,l,h,!0))}function Wf(r,l,h){return Ws(r,l,h)}function Vf(r,l){var h=r.length,x=typeof Uint8Array<"u"?Uint8Array:Array,E=new x(h);E[0]=E[h-1]=1,Wl(r,E,l,0,h-1);var D,H=[];for(D=0;D<h;D++)E[D]&&H.push(r[D]);return H}function Wl(r,l,h,x,E){var D=0,H,re,ue;for(re=x+1;re<=E-1;re++)ue=Ws(r[re],r[x],r[E],!0),ue>D&&(H=re,D=ue);D>h&&(l[H]=1,Wl(r,l,h,x,H),Wl(r,l,h,H,E))}function Zf(r,l){for(var h=[r[0]],x=1,E=0,D=r.length;x<D;x++)qf(r[x],r[E])>l&&(h.push(r[x]),E=x);return E<D-1&&h.push(r[D-1]),h}var Vl;function xu(r,l,h,x,E){var D=x?Vl:Hs(r,h),H=Hs(l,h),re,ue,_e;for(Vl=H;;){if(!(D|H))return[r,l];if(D&H)return!1;re=D||H,ue=ja(r,l,re,h,E),_e=Hs(ue,h),re===D?(r=ue,D=_e):(l=ue,H=_e)}}function ja(r,l,h,x,E){var D=l.x-r.x,H=l.y-r.y,re=x.min,ue=x.max,_e,Fe;return h&8?(_e=r.x+D*(ue.y-r.y)/H,Fe=ue.y):h&4?(_e=r.x+D*(re.y-r.y)/H,Fe=re.y):h&2?(_e=ue.x,Fe=r.y+H*(ue.x-r.x)/D):h&1&&(_e=re.x,Fe=r.y+H*(re.x-r.x)/D),new U(_e,Fe,E)}function Hs(r,l){var h=0;return r.x<l.min.x?h|=1:r.x>l.max.x&&(h|=2),r.y<l.min.y?h|=4:r.y>l.max.y&&(h|=8),h}function qf(r,l){var h=l.x-r.x,x=l.y-r.y;return h*h+x*x}function Ws(r,l,h,x){var E=l.x,D=l.y,H=h.x-E,re=h.y-D,ue=H*H+re*re,_e;return ue>0&&(_e=((r.x-E)*H+(r.y-D)*re)/ue,_e>1?(E=h.x,D=h.y):_e>0&&(E+=H*_e,D+=re*_e)),H=r.x-E,re=r.y-D,x?H*H+re*re:new U(E,D)}function tr(r){return!M(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function yu(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),tr(r)}function wu(r,l){var h,x,E,D,H,re,ue,_e;if(!r||r.length===0)throw new Error("latlngs not passed");tr(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Fe=Y([0,0]),Xe=Ee(r),mt=Xe.getNorthWest().distanceTo(Xe.getSouthWest())*Xe.getNorthEast().distanceTo(Xe.getNorthWest());mt<1700&&(Fe=Hl(r));var bn=r.length,gn=[];for(h=0;h<bn;h++){var Gn=Y(r[h]);gn.push(l.project(Y([Gn.lat-Fe.lat,Gn.lng-Fe.lng])))}for(h=0,x=0;h<bn-1;h++)x+=gn[h].distanceTo(gn[h+1])/2;if(x===0)_e=gn[0];else for(h=0,D=0;h<bn-1;h++)if(H=gn[h],re=gn[h+1],E=H.distanceTo(re),D+=E,D>x){ue=(D-x)/E,_e=[re.x-ue*(re.x-H.x),re.y-ue*(re.y-H.y)];break}var In=l.unproject(ae(_e));return Y([In.lat+Fe.lat,In.lng+Fe.lng])}var _u={__proto__:null,simplify:Sa,pointToSegmentDistance:vu,closestPointOnSegment:Wf,clipSegment:xu,_getEdgeIntersection:ja,_getBitCode:Hs,_sqClosestPointOnSegment:Ws,isFlat:tr,_flat:yu,polylineCenter:wu},Zl={project:function(r){return new U(r.lng,r.lat)},unproject:function(r){return new we(r.y,r.x)},bounds:new z([-180,-90],[180,90])},ql={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,h=this.R,x=r.lat*l,E=this.R_MINOR/h,D=Math.sqrt(1-E*E),H=D*Math.sin(x),re=Math.tan(Math.PI/4-x/2)/Math.pow((1-H)/(1+H),D/2);return x=-h*Math.log(Math.max(re,1e-10)),new U(r.lng*l*h,x)},unproject:function(r){for(var l=180/Math.PI,h=this.R,x=this.R_MINOR/h,E=Math.sqrt(1-x*x),D=Math.exp(-r.y/h),H=Math.PI/2-2*Math.atan(D),re=0,ue=.1,_e;re<15&&Math.abs(ue)>1e-7;re++)_e=E*Math.sin(H),_e=Math.pow((1-_e)/(1+_e),E/2),ue=Math.PI/2-2*Math.atan(D*_e)-H,H+=ue;return new we(H*l,r.x*l/h)}},Gf={__proto__:null,LonLat:Zl,Mercator:ql,SphericalMercator:ge},Yf=c({},V,{code:"EPSG:3395",projection:ql,transformation:function(){var r=.5/(Math.PI*ql.R);return Ae(r,.5,-r,.5)}()}),bu=c({},V,{code:"EPSG:4326",projection:Zl,transformation:Ae(1/180,1,-1/180,.5)}),Kf=c({},A,{projection:Zl,transformation:Ae(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var h=l.lng-r.lng,x=l.lat-r.lat;return Math.sqrt(h*h+x*x)},infinite:!0});A.Earth=V,A.EPSG3395=Yf,A.EPSG3857=Ge,A.EPSG900913=gt,A.EPSG4326=bu,A.Simple=Kf;var wr=pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[g(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[g(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Tt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=g(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=g(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return g(r)in this._layers},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},_addLayers:function(r){r=r?M(r)?r:[r]:[];for(var l=0,h=r.length;l<h;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[g(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=g(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var E=this._zoomBoundLayers[x].options;r=E.minZoom===void 0?r:Math.min(r,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var vs=wr.extend({initialize:function(r,l){j(this,l),this._layers={};var h,x;if(r)for(h=0,x=r.length;h<x;h++)this.addLayer(r[h])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[r]&&x[r].apply(x,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return g(r)}}),Ei=function(r,l){return new vs(r,l)},Qr=vs.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),vs.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),vs.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ye;for(var l in this._layers){var h=this._layers[l];r.extend(h.getBounds?h.getBounds():h.getLatLng())}return r}}),Nu=function(r,l){return new Qr(r,l)},Vs=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){j(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var h=this._getIconUrl(r);if(!h){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(r,l){var h=this.options,x=h[l+"Size"];typeof x=="number"&&(x=[x,x]);var E=ae(x),D=ae(l==="shadow"&&h.shadowAnchor||h.iconAnchor||E&&E.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(h.className||""),D&&(r.style.marginLeft=-D.x+"px",r.style.marginTop=-D.y+"px"),E&&(r.style.width=E.x+"px",r.style.height=E.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return Ze.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Su(r){return new Vs(r)}var No=Vs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof No.imagePath!="string"&&(No.imagePath=this._detectIconPath()),(this.options.imagePath||No.imagePath)+Vs.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(h,x,E){var D=x.exec(h);return D&&D[E]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ut("div","leaflet-default-icon-path",document.body),l=yi(r,"background-image")||yi(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Gl=er.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new yr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),lt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&qt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,h=l._map,x=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,D=Kr(l._icon),H=h.getPixelBounds(),re=h.getPixelOrigin(),ue=X(H.min._subtract(re).add(E),H.max._subtract(re).subtract(E));if(!ue.contains(D)){var _e=ae((Math.max(ue.max.x,D.x)-ue.max.x)/(H.max.x-ue.max.x)-(Math.min(ue.min.x,D.x)-ue.min.x)/(H.min.x-ue.min.x),(Math.max(ue.max.y,D.y)-ue.max.y)/(H.max.y-ue.max.y)-(Math.min(ue.min.y,D.y)-ue.min.y)/(H.min.y-ue.min.y)).multiplyBy(x);h.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),cn(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=ne(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(he(this._panRequest),this._panRequest=ne(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,h=l._shadow,x=Kr(l._icon),E=l._map.layerPointToLatLng(x);h&&cn(h,x),l._latlng=E,r.latlng=E,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){he(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Jr=wr.extend({options:{icon:new No,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){j(this,l),this._latlng=Y(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=Y(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=r.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,r.title&&(h.title=r.title),h.tagName==="IMG"&&(h.alt=r.alt||"")),lt(h,l),r.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(h,"focus",this._panOnFocus,this);var E=r.icon.createShadow(this._shadow),D=!1;E!==this._shadow&&(this._removeShadow(),D=!0),E&&(lt(E,l),E.alt=""),this._shadow=E,r.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&D&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(this._icon,"focus",this._panOnFocus,this),Kt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Kt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&cn(this._icon,r),this._shadow&&cn(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(lt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gl)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gl(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&An(this._icon,r),this._shadow&&An(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,h=l.iconSize?ae(l.iconSize):ae(0,0),x=l.iconAnchor?ae(l.iconAnchor):ae(0,0);r.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xf(r,l){return new Jr(r,l)}var xs=wr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return j(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ea=xs.extend({options:{fill:!0,radius:10},initialize:function(r,l){j(this,l),this._latlng=Y(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=Y(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return xs.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,h=this._clickTolerance(),x=[r+h,l+h];this._pxBounds=new z(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ju(r,l){return new Ea(r,l)}var Ca=Ea.extend({initialize:function(r,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),j(this,l),this._latlng=Y(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:xs.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===V.distance){var E=Math.PI/180,D=this._mRadius/V.R/E,H=h.project([l+D,r]),re=h.project([l-D,r]),ue=H.add(re).divideBy(2),_e=h.unproject(ue).lat,Fe=Math.acos((Math.cos(D*E)-Math.sin(l*E)*Math.sin(_e*E))/(Math.cos(l*E)*Math.cos(_e*E)))/E;(isNaN(Fe)||Fe===0)&&(Fe=D/Math.cos(Math.PI/180*l)),this._point=ue.subtract(h.getPixelOrigin()),this._radius=isNaN(Fe)?0:ue.x-h.project([_e,r-Fe]).x,this._radiusY=ue.y-H.y}else{var Xe=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(Xe).x}this._updateBounds()}});function Ci(r,l,h){return new Ca(r,l,h)}var qn=xs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){j(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,h=null,x=Ws,E,D,H=0,re=this._parts.length;H<re;H++)for(var ue=this._parts[H],_e=1,Fe=ue.length;_e<Fe;_e++){E=ue[_e-1],D=ue[_e];var Xe=x(r,E,D,!0);Xe<l&&(l=Xe,h=x(r,E,D))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=Y(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ye,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return tr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],h=tr(r),x=0,E=r.length;x<E;x++)h?(l[x]=Y(r[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(r[x]);return l},_project:function(){var r=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new U(r,r);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,h){var x=r[0]instanceof we,E=r.length,D,H;if(x){for(H=[],D=0;D<E;D++)H[D]=this._map.latLngToLayerPoint(r[D]),h.extend(H[D]);l.push(H)}else for(D=0;D<E;D++)this._projectLatlngs(r[D],l,h)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,x,E,D,H,re,ue;for(h=0,E=0,D=this._rings.length;h<D;h++)for(ue=this._rings[h],x=0,H=ue.length;x<H-1;x++)re=xu(ue[x],ue[x+1],r,x,!0),re&&(l[E]=l[E]||[],l[E].push(re[0]),(re[1]!==ue[x+1]||x===H-2)&&(l[E].push(re[1]),E++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,h=0,x=r.length;h<x;h++)r[h]=Sa(r[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var h,x,E,D,H,re,ue=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(h=0,D=this._parts.length;h<D;h++)for(re=this._parts[h],x=0,H=re.length,E=H-1;x<H;E=x++)if(!(!l&&x===0)&&vu(r,re[E],re[x])<=ue)return!0;return!1}});function Qf(r,l){return new qn(r,l)}qn._flat=yu;var es=qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=qn.prototype._convertLatLngs.call(this,r),h=l.length;return h>=2&&l[0]instanceof we&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(r){qn.prototype._setLatLngs.call(this,r),tr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return tr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,h=new U(l,l);if(r=new z(r.min.subtract(h),r.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,E=this._rings.length,D;x<E;x++)D=Ul(this._rings[x],r,!0),D.length&&this._parts.push(D)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,h,x,E,D,H,re,ue,_e;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(D=0,ue=this._parts.length;D<ue;D++)for(h=this._parts[D],H=0,_e=h.length,re=_e-1;H<_e;re=H++)x=h[H],E=h[re],x.y>r.y!=E.y>r.y&&r.x<(E.x-x.x)*(r.y-x.y)/(E.y-x.y)+x.x&&(l=!l);return l||qn.prototype._containsPoint.call(this,r,!0)}});function Jf(r,l){return new es(r,l)}var Lr=Qr.extend({initialize:function(r,l){j(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=M(r)?r:r.features,h,x,E;if(l){for(h=0,x=l.length;h<x;h++)E=l[h],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var D=this.options;if(D.filter&&!D.filter(r))return this;var H=So(r,D);return H?(H.feature=Ra(r),H.defaultOptions=H.options,this.resetStyle(H),D.onEachFeature&&D.onEachFeature(r,H),this.addLayer(H)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=c({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function So(r,l){var h=r.type==="Feature"?r.geometry:r,x=h?h.coordinates:null,E=[],D=l&&l.pointToLayer,H=l&&l.coordsToLatLng||Ta,re,ue,_e,Fe;if(!x&&!h)return null;switch(h.type){case"Point":return re=H(x),Pa(D,r,re,l);case"MultiPoint":for(_e=0,Fe=x.length;_e<Fe;_e++)re=H(x[_e]),E.push(Pa(D,r,re,l));return new Qr(E);case"LineString":case"MultiLineString":return ue=Pi(x,h.type==="LineString"?0:1,H),new qn(ue,l);case"Polygon":case"MultiPolygon":return ue=Pi(x,h.type==="Polygon"?1:2,H),new es(ue,l);case"GeometryCollection":for(_e=0,Fe=h.geometries.length;_e<Fe;_e++){var Xe=So({geometry:h.geometries[_e],type:"Feature",properties:r.properties},l);Xe&&E.push(Xe)}return new Qr(E);case"FeatureCollection":for(_e=0,Fe=h.features.length;_e<Fe;_e++){var mt=So(h.features[_e],l);mt&&E.push(mt)}return new Qr(E);default:throw new Error("Invalid GeoJSON object.")}}function Pa(r,l,h,x){return r?r(l,h):new Jr(h,x&&x.markersInheritOptions&&x)}function Ta(r){return new we(r[1],r[0],r[2])}function Pi(r,l,h){for(var x=[],E=0,D=r.length,H;E<D;E++)H=l?Pi(r[E],l-1,h):(h||Ta)(r[E]),x.push(H);return x}function ka(r,l){return r=Y(r),r.alt!==void 0?[S(r.lng,l),S(r.lat,l),S(r.alt,l)]:[S(r.lng,l),S(r.lat,l)]}function Ma(r,l,h,x){for(var E=[],D=0,H=r.length;D<H;D++)E.push(l?Ma(r[D],tr(r[D])?0:l-1,h,x):ka(r[D],x));return!l&&h&&E.length>0&&E.push(E[0].slice()),E}function jo(r,l){return r.feature?c({},r.feature,{geometry:l}):Ra(l)}function Ra(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Yl={toGeoJSON:function(r){return jo(this,{type:"Point",coordinates:ka(this.getLatLng(),r)})}};Jr.include(Yl),Ca.include(Yl),Ea.include(Yl),qn.include({toGeoJSON:function(r){var l=!tr(this._latlngs),h=Ma(this._latlngs,l?1:0,!1,r);return jo(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),es.include({toGeoJSON:function(r){var l=!tr(this._latlngs),h=l&&!tr(this._latlngs[0]),x=Ma(this._latlngs,h?2:l?1:0,!0,r);return l||(x=[x]),jo(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),vs.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(r).geometry.coordinates)}),jo(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var h=l==="GeometryCollection",x=[];return this.eachLayer(function(E){if(E.toGeoJSON){var D=E.toGeoJSON(r);if(h)x.push(D.geometry);else{var H=Ra(D);H.type==="FeatureCollection"?x.push.apply(x,H.features):x.push(H)}}}),h?jo(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Eu(r,l){return new Lr(r,l)}var _r=Eu,ys=wr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,h){this._url=r,this._bounds=Ee(l),j(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(lt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Kt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&po(this._image),this},bringToBack:function(){return this._map&&Yr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Ee(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:ut("img");if(lt(l,"leaflet-image-layer"),this._zoomAnimated&&lt(l,"leaflet-zoom-animated"),this.options.className&&lt(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;gr(this._image,h,l)},_reset:function(){var r=this._image,l=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();cn(r,l.min),r.style.width=h.x+"px",r.style.height=h.y+"px"},_updateOpacity:function(){An(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Cu=function(r,l,h){return new ys(r,l,h)},Kl=ys.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:ut("video");if(lt(l,"leaflet-image-layer"),this._zoomAnimated&&lt(l,"leaflet-zoom-animated"),this.options.className&&lt(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onloadeddata=f(this.fire,this,"load"),r){for(var h=l.getElementsByTagName("source"),x=[],E=0;E<h.length;E++)x.push(h[E].src);this._url=h.length>0?x:[l.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var D=0;D<this._url.length;D++){var H=ut("source");H.src=this._url[D],l.appendChild(H)}}});function Pu(r,l,h){return new Kl(r,l,h)}var Xl=ys.extend({_initImage:function(){var r=this._image=this._url;lt(r,"leaflet-image-layer"),this._zoomAnimated&&lt(r,"leaflet-zoom-animated"),this.options.className&&lt(r,this.options.className),r.onselectstart=b,r.onmousemove=b}});function Ql(r,l,h){return new Xl(r,l,h)}var Dr=wr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof we||M(r))?(this._latlng=Y(r),j(this,l)):(j(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&An(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&An(this._container,1),this.bringToFront(),this.options.interactive&&(lt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(An(this._container,0),this._removeTimeout=setTimeout(f(Kt,void 0,this._container),200)):Kt(this._container),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Y(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&po(this._container),this},bringToBack:function(){return this._map&&Yr(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof Qr){l=null;var h=this._source._layers;for(var x in h)if(h[x]._map){l=h[x];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=ae(this.options.offset),h=this._getAnchor();this._zoomAnimated?cn(this._container,r.add(h)):l=l.add(r).add(h);var x=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Tt.include({_initOverlay:function(r,l,h,x){var E=l;return E instanceof r||(E=new r(x).setContent(l)),h&&E.setLatLng(h),E}}),wr.include({_initOverlay:function(r,l,h,x){var E=h;return E instanceof r?(j(E,x),E._source=this):(E=l&&!x?l:new r(x,this),E.setContent(h)),E}});var La=Dr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Dr.prototype.openOn.call(this,r)},onAdd:function(r){Dr.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xs||this._source.on("preclick",Rr))},onRemove:function(r){Dr.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xs||this._source.off("preclick",Rr))},getEvents:function(){var r=Dr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=ut("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=ut("div",r+"-content-wrapper",l);if(this._contentNode=ut("div",r+"-content",h),Ni(l),wa(this._contentNode),ot(l,"contextmenu",Rr),this._tipContainer=ut("div",r+"-tip-container",l),this._tip=ut("div",r+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=ut("a",r+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',ot(x,"click",function(E){rn(E),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var h=r.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var x=r.offsetHeight,E=this.options.maxHeight,D="leaflet-popup-scrolled";E&&x>E?(l.height=E+"px",lt(r,D)):qt(r,D),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),h=this._getAnchor();cn(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(yi(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,x=this._containerWidth,E=new U(this._containerLeft,-h-this._containerBottom);E._add(Kr(this._container));var D=r.layerPointToContainerPoint(E),H=ae(this.options.autoPanPadding),re=ae(this.options.autoPanPaddingTopLeft||H),ue=ae(this.options.autoPanPaddingBottomRight||H),_e=r.getSize(),Fe=0,Xe=0;D.x+x+ue.x>_e.x&&(Fe=D.x+x-_e.x+ue.x),D.x-Fe-re.x<0&&(Fe=D.x-re.x),D.y+h+ue.y>_e.y&&(Xe=D.y+h-_e.y+ue.y),D.y-Xe-re.y<0&&(Xe=D.y-re.y),(Fe||Xe)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Fe,Xe]))}},_getAnchor:function(){return ae(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Eo=function(r,l){return new La(r,l)};Tt.mergeOptions({closePopupOnClick:!0}),Tt.include({openPopup:function(r,l,h){return this._initOverlay(La,r,l,h).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),wr.include({bindPopup:function(r,l){return this._popup=this._initOverlay(La,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Qr||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){xr(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof xs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Co=Dr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Dr.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Dr.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Dr.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ut("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,h,x=this._map,E=this._container,D=x.latLngToContainerPoint(x.getCenter()),H=x.layerPointToContainerPoint(r),re=this.options.direction,ue=E.offsetWidth,_e=E.offsetHeight,Fe=ae(this.options.offset),Xe=this._getAnchor();re==="top"?(l=ue/2,h=_e):re==="bottom"?(l=ue/2,h=0):re==="center"?(l=ue/2,h=_e/2):re==="right"?(l=0,h=_e/2):re==="left"?(l=ue,h=_e/2):H.x<D.x?(re="right",l=0,h=_e/2):(re="left",l=ue+(Fe.x+Xe.x)*2,h=_e/2),r=r.subtract(ae(l,h,!0)).add(Fe).add(Xe),qt(E,"leaflet-tooltip-right"),qt(E,"leaflet-tooltip-left"),qt(E,"leaflet-tooltip-top"),qt(E,"leaflet-tooltip-bottom"),lt(E,"leaflet-tooltip-"+re),cn(E,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&An(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return ae(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ti=function(r,l){return new Co(r,l)};Tt.include({openTooltip:function(r,l,h){return this._initOverlay(Co,r,l,h).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),wr.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Co,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Qr||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(ot(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ot(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,h,x;this._tooltip.options.sticky&&r.originalEvent&&(h=this._map.mouseEventToContainerPoint(r.originalEvent),x=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var Da=Vs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ma(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=ae(h.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Tu(r){return new Da(r)}Vs.Default=No;var ws=wr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ze.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){j(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Kt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(po(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Yr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof U?r:new U(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,h=-r(-1/0,1/0),x=0,E=l.length,D;x<E;x++)D=l[x].style.zIndex,l[x]!==this._container&&D&&(h=r(h,+D));isFinite(h)&&(this.options.zIndex=h+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ze.ielt9){An(this._container,this.options.opacity);var r=+new Date,l=!1,h=!1;for(var x in this._tiles){var E=this._tiles[x];if(!(!E.current||!E.loaded)){var D=Math.min(1,(r-E.loaded)/200);An(E.el,D),D<1?l=!0:(E.active?h=!0:this._onOpaqueTile(E),E.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(he(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=ut("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===r?(this._levels[h].el.style.zIndex=l-Math.abs(r-h),this._onUpdateLevel(h)):(Kt(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[r],E=this._map;return x||(x=this._levels[r]={},x.el=ut("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=E.project(E.unproject(E.getPixelOrigin()),r).round(),x.zoom=r,this._setZoomTransform(x,E.getCenter(),E.getZoom()),b(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var r,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Kt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,h,x){var E=Math.floor(r/2),D=Math.floor(l/2),H=h-1,re=new U(+E,+D);re.z=+H;var ue=this._tileCoordsToKey(re),_e=this._tiles[ue];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),H>x?this._retainParent(E,D,H,x):!1)},_retainChildren:function(r,l,h,x){for(var E=2*r;E<2*r+2;E++)for(var D=2*l;D<2*l+2;D++){var H=new U(E,D);H.z=h+1;var re=this._tileCoordsToKey(H),ue=this._tiles[re];if(ue&&ue.active){ue.retain=!0;continue}else ue&&ue.loaded&&(ue.retain=!0);h+1<x&&this._retainChildren(E,D,h+1,x)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,h,x){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var D=this.options.updateWhenZooming&&E!==this._tileZoom;(!x||D)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(r),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],r,l)},_setZoomTransform:function(r,l,h){var x=this._map.getZoomScale(h,r.zoom),E=r.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,h)).round();Ze.any3d?gr(r.el,E,x):cn(r.el,E)},_resetGrid:function(){var r=this._map,l=r.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],x).x/h.x),Math.ceil(r.project([0,l.wrapLng[1]],x).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],x).y/h.x),Math.ceil(r.project([l.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(h,this._tileZoom),E=l.project(r,this._tileZoom).floor(),D=l.getSize().divideBy(x*2);return new z(E.subtract(D),E.add(D))},_update:function(r){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(r),E=this._pxBoundsToTileRange(x),D=E.getCenter(),H=[],re=this.options.keepBuffer,ue=new z(E.getBottomLeft().subtract([re,-re]),E.getTopRight().add([re,-re]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var Fe=this._tiles[_e].coords;(Fe.z!==this._tileZoom||!ue.contains(new U(Fe.x,Fe.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(r,h);return}for(var Xe=E.min.y;Xe<=E.max.y;Xe++)for(var mt=E.min.x;mt<=E.max.x;mt++){var bn=new U(mt,Xe);if(bn.z=this._tileZoom,!!this._isValidTile(bn)){var gn=this._tiles[this._tileCoordsToKey(bn)];gn?gn.current=!0:H.push(bn)}}if(H.sort(function(In,Ro){return In.distanceTo(D)-Ro.distanceTo(D)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gn=document.createDocumentFragment();for(mt=0;mt<H.length;mt++)this._addTile(H[mt],Gn);this._level.el.appendChild(Gn)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(r.x<h.min.x||r.x>h.max.x)||!l.wrapLat&&(r.y<h.min.y||r.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(r);return Ee(this.options.bounds).overlaps(x)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,h=this.getTileSize(),x=r.scaleBy(h),E=x.add(h),D=l.unproject(x,r.z),H=l.unproject(E,r.z);return[D,H]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),h=new ye(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),h=new U(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(r){var l=this._tiles[r];l&&(Kt(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){lt(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=b,r.onmousemove=b,Ze.ielt9&&this.options.opacity<1&&An(r,this.options.opacity)},_addTile:function(r,l){var h=this._getTilePos(r),x=this._tileCoordsToKey(r),E=this.createTile(this._wrapCoords(r),f(this._tileReady,this,r));this._initTile(E),this.createTile.length<2&&ne(f(this._tileReady,this,r,null,E)),cn(E,h),this._tiles[x]={el:E,coords:r,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:r})},_tileReady:function(r,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:r});var x=this._tileCoordsToKey(r);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(An(h.el,0),he(this._fadeFrame),this._fadeFrame=ne(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(lt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ze.ielt9||!this._map._fadeAnimated?ne(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new U(this._wrapX?_(r.x,this._wrapX):r.x,this._wrapY?_(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new z(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Po(r){return new ws(r)}var _s=ws.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=j(this,l),l.detectRetina&&Ze.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var h=document.createElement("img");return ot(h,"load",f(this._tileOnLoad,this,l,h)),ot(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(r),h},getTileUrl:function(r){var l={r:Ze.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=h),l["-y"]=h}return O(this._url,c(l,this.options))},_tileOnLoad:function(r,l){Ze.ielt9?setTimeout(f(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,h){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),r(h,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(r=l-r),r+x},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=b,l.onerror=b,!l.complete)){l.src=$;var h=this._tiles[r].coords;Kt(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",$),ws.prototype._removeTile.call(this,r)},_tileReady:function(r,l,h){if(!(!this._map||h&&h.getAttribute("src")===$))return ws.prototype._tileReady.call(this,r,l,h)}});function Jl(r,l){return new _s(r,l)}var ki=_s.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var h=c({},this.defaultWmsParams);for(var x in l)x in this.options||(h[x]=l[x]);l=j(this,l);var E=l.detectRetina&&Ze.retina?2:1,D=this.getTileSize();h.width=D.x*E,h.height=D.y*E,this.wmsParams=h},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,_s.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),h=this._crs,x=X(h.project(l[0]),h.project(l[1])),E=x.min,D=x.max,H=(this._wmsVersion>=1.3&&this._crs===bu?[E.y,E.x,D.y,D.x]:[E.x,E.y,D.x,D.y]).join(","),re=_s.prototype.getTileUrl.call(this,r);return re+C(this.wmsParams,re,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(r,l){return c(this.wmsParams,r),l||this.redraw(),this}});function ku(r,l){return new ki(r,l)}_s.WMS=ki,Jl.wms=ku;var Ar=wr.extend({options:{padding:.1},initialize:function(r){j(this,r),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),lt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var h=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),D=x.multiplyBy(-h).add(E).subtract(this._map._getNewPixelOrigin(r,l));Ze.any3d?gr(this._container,D,h):cn(this._container,D)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new z(h,h.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ec=Ar.extend({options:{tolerance:0},getEvents:function(){var r=Ar.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ar.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ot(r,"mousemove",this._onMouseMove,this),ot(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ot(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){he(this._redrawRequest),delete this._ctx,Kt(this._container),Wt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ar.prototype._update.call(this);var r=this._bounds,l=this._container,h=r.getSize(),x=Ze.retina?2:1;cn(l,r.min),l.width=x*h.x,l.height=x*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Ze.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Ar.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[g(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,h=l.next,x=l.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete r._order,delete this._layers[g(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),h=[],x,E;for(E=0;E<l.length;E++){if(x=Number(l[E]),isNaN(x))return;h.push(x)}r.options._dashArray=h}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||ne(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)r=x.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var h,x,E,D,H=r._parts,re=H.length,ue=this._ctx;if(re){for(ue.beginPath(),h=0;h<re;h++){for(x=0,E=H[h].length;x<E;x++)D=H[h][x],ue[x?"lineTo":"moveTo"](D.x,D.y);l&&ue.closePath()}this._fillStroke(ue,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,h=this._ctx,x=Math.max(Math.round(r._radius),1),E=(Math.max(Math.round(r._radiusY),1)||x)/x;E!==1&&(h.save(),h.scale(1,E)),h.beginPath(),h.arc(l.x,l.y/E,x,0,Math.PI*2,!1),E!==1&&h.restore(),this._fillStroke(h,r)}},_fillStroke:function(r,l){var h=l.options;h.fill&&(r.globalAlpha=h.fillOpacity,r.fillStyle=h.fillColor||h.color,r.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=h.opacity,r.lineWidth=h.weight,r.strokeStyle=h.color,r.lineCap=h.lineCap,r.lineJoin=h.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(qt(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var h,x,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(r),x&&(lt(this._container,"leaflet-interactive"),this._fireEvent([x],r,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,h){this._map._fireDOMEvent(l,h||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var h=l.next,x=l.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var h=l.next,x=l.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function tc(r){return Ze.canvas?new ec(r):null}var To=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Mu={_initContainer:function(){this._container=ut("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ar.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=To("shape");lt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=To("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[g(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;Kt(l),r.removeInteractiveTarget(l),delete this._layers[g(r)]},_updateStyle:function(r){var l=r._stroke,h=r._fill,x=r.options,E=r._container;E.stroked=!!x.stroke,E.filled=!!x.fill,x.stroke?(l||(l=r._stroke=To("stroke")),E.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=M(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(E.removeChild(l),r._stroke=null),x.fill?(h||(h=r._fill=To("fill")),E.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(E.removeChild(h),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),h=Math.round(r._radius),x=Math.round(r._radiusY||h);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){po(r._container)},_bringToBack:function(r){Yr(r._container)}},br=Ze.vml?To:Ft,Zs=Ar.extend({_initContainer:function(){this._container=br("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=br("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Kt(this._container),Wt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ar.prototype._update.call(this);var r=this._bounds,l=r.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),cn(h,r.min),h.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=br("path");r.options.className&&lt(l,r.options.className),r.options.interactive&&lt(l,"leaflet-interactive"),this._updateStyle(r),this._layers[g(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Kt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[g(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,h=r.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,ht(r._parts,l))},_updateCircle:function(r){var l=r._point,h=Math.max(Math.round(r._radius),1),x=Math.max(Math.round(r._radiusY),1)||h,E="a"+h+","+x+" 0 1,0 ",D=r._empty()?"M0 0":"M"+(l.x-h)+","+l.y+E+h*2+",0 "+E+-h*2+",0 ";this._setPath(r,D)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){po(r._path)},_bringToBack:function(r){Yr(r._path)}});Ze.vml&&Zs.include(Mu);function Aa(r){return Ze.svg||Ze.vml?new Zs(r):null}Tt.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&tc(r)||Aa(r)}});var Ru=es.extend({initialize:function(r,l){es.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Ee(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function eh(r,l){return new Ru(r,l)}Zs.create=br,Zs.pointsToPath=ht,Lr.geometryToLayer=So,Lr.coordsToLatLng=Ta,Lr.coordsToLatLngs=Pi,Lr.latLngToCoords=ka,Lr.latLngsToCoords=Ma,Lr.getFeature=jo,Lr.asFeature=Ra,Tt.mergeOptions({boxZoom:!0});var ko=er.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Kt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mt(),va(),this._startPoint=this._map.mouseEventToContainerPoint(r),ot(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ut("div","leaflet-zoom-box",this._container),lt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new z(this._point,this._startPoint),h=l.getSize();cn(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Kt(this._box),qt(this._container,"leaflet-crosshair")),xo(),xa(),Wt(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Tt.addInitHook("addHandler","boxZoom",ko),Tt.mergeOptions({doubleClickZoom:!0});var Lu=er.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,h=l.getZoom(),x=l.options.zoomDelta,E=r.originalEvent.shiftKey?h-x:h+x;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(r.containerPoint,E)}});Tt.addInitHook("addHandler","doubleClickZoom",Lu),Tt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nc=er.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new yr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}lt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){qt(this._map._container,"leaflet-grab"),qt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Ee(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,E=(x-l+h)%r+l-h,D=(x+l+h)%r-l-h,H=Math.abs(E+h)<Math.abs(D+h)?E:D;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(r){var l=this._map,h=l.options,x=!h.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),x)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),D=(this._lastTime-this._times[0])/1e3,H=h.easeLinearity,re=E.multiplyBy(H/D),ue=re.distanceTo([0,0]),_e=Math.min(h.inertiaMaxSpeed,ue),Fe=re.multiplyBy(_e/ue),Xe=_e/(h.inertiaDeceleration*H),mt=Fe.multiplyBy(-Xe/2).round();!mt.x&&!mt.y?l.fire("moveend"):(mt=l._limitOffset(mt,l.options.maxBounds),ne(function(){l.panBy(mt,{duration:Xe,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});Tt.addInitHook("addHandler","dragging",nc),Tt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rc=er.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ot(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Wt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,h=r.scrollTop||l.scrollTop,x=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},h=this.keyCodes,x,E;for(x=0,E=h.left.length;x<E;x++)l[h.left[x]]=[-1*r,0];for(x=0,E=h.right.length;x<E;x++)l[h.right[x]]=[r,0];for(x=0,E=h.down.length;x<E;x++)l[h.down[x]]=[0,r];for(x=0,E=h.up.length;x<E;x++)l[h.up[x]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},h=this.keyCodes,x,E;for(x=0,E=h.zoomIn.length;x<E;x++)l[h.zoomIn[x]]=r;for(x=0,E=h.zoomOut.length;x<E;x++)l[h.zoomOut[x]]=-r},_addHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,h=this._map,x;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[l],r.shiftKey&&(x=ae(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(ae(x),h.options.maxBounds)),h.options.worldCopyJump){var E=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(E)}else h.panBy(x)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;xr(r)}}});Tt.addInitHook("addHandler","keyboard",rc),Tt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Vt=er.extend({addHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=mu(r),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),xr(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),h=this._map.options.zoomSnap||0;r._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,D=h?Math.ceil(E/h)*h:E,H=r._limitZoom(l+(this._delta>0?D:-D))-l;this._delta=0,this._startTime=null,H&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+H):r.setZoomAround(this._lastMousePos,l+H))}});Tt.addInitHook("addHandler","scrollWheelZoom",Vt);var sc=600;Tt.mergeOptions({tapHold:Ze.touchNative&&Ze.safari&&Ze.mobile,tapTolerance:15});var Mi=er.extend({addHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new U(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(ot(document,"touchend",rn),ot(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),sc),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Wt(document,"touchend",rn),Wt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new U(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var h=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Tt.addInitHook("addHandler","tapHold",Mi),Tt.mergeOptions({touchZoom:Ze.touch,bounceAtZoomLimits:!0});var Mo=er.extend({addHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(r.touches[0]),x=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),rn(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(r.touches[0]),x=l.mouseEventToContainerPoint(r.touches[1]),E=h.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var D=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(E===1&&D.x===0&&D.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(D),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),he(this._animRequest);var H=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ne(H,this,!0),rn(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,he(this._animRequest),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Tt.addInitHook("addHandler","touchZoom",Mo),Tt.BoxZoom=ko,Tt.DoubleClickZoom=Lu,Tt.Drag=nc,Tt.Keyboard=rc,Tt.ScrollWheelZoom=Vt,Tt.TapHold=Mi,Tt.TouchZoom=Mo,s.Bounds=z,s.Browser=Ze,s.CRS=A,s.Canvas=ec,s.Circle=Ca,s.CircleMarker=Ea,s.Class=K,s.Control=Zn,s.DivIcon=Da,s.DivOverlay=Dr,s.DomEvent=_a,s.DomUtil=bi,s.Draggable=yr,s.Evented=pe,s.FeatureGroup=Qr,s.GeoJSON=Lr,s.GridLayer=ws,s.Handler=er,s.Icon=Vs,s.ImageOverlay=ys,s.LatLng=we,s.LatLngBounds=ye,s.Layer=wr,s.LayerGroup=vs,s.LineUtil=_u,s.Map=Tt,s.Marker=Jr,s.Mixin=Bl,s.Path=xs,s.Point=U,s.PolyUtil=Hf,s.Polygon=es,s.Polyline=qn,s.Popup=La,s.PosAnimation=ba,s.Projection=Gf,s.Rectangle=Ru,s.Renderer=Ar,s.SVG=Zs,s.SVGOverlay=Xl,s.TileLayer=_s,s.Tooltip=Co,s.Transformation=Le,s.Util=Pe,s.VideoOverlay=Kl,s.bind=f,s.bounds=X,s.canvas=tc,s.circle=Ci,s.circleMarker=ju,s.control=gs,s.divIcon=Tu,s.extend=c,s.featureGroup=Nu,s.geoJSON=Eu,s.geoJson=_r,s.gridLayer=Po,s.icon=Su,s.imageOverlay=Cu,s.latLng=Y,s.latLngBounds=Ee,s.layerGroup=Ei,s.map=ps,s.marker=Xf,s.point=ae,s.polygon=Jf,s.polyline=Qf,s.popup=Eo,s.rectangle=eh,s.setOptions=j,s.stamp=g,s.svg=Aa,s.svgOverlay=Ql,s.tileLayer=Jl,s.tooltip=Ti,s.transformation=Ae,s.version=a,s.videoOverlay=Pu;var Du=window.L;s.noConflict=function(){return window.L=Du,this},window.L=s})}(Tc,Tc.exports)),Tc.exports}var wP=yP();const xn=pp(wP),_P=()=>({openRouteServiceKey:"your_production_api_key_here",mapboxKey:void 0,googleMapsKey:void 0}),zp=()=>({type:"openroute",hasKey:!0,description:"OpenRouteService - Good accuracy, limited free tier"}),b0=()=>{const e=zp(),t=[{service:"OpenRouteService",url:"https://openrouteservice.org/",freeLimit:"2,000 requests/day",paidOptions:"Available from 2.99/month",setup:"Set VITE_OPENROUTESERVICE_API_KEY in your .env file",recommended:!e.hasKey},{service:"MapBox",url:"https://www.mapbox.com/",freeLimit:"50,000 requests/month",paidOptions:"Pay-per-use beyond free tier",setup:"Set VITE_MAPBOX_API_KEY in your .env file",recommended:e.type==="free"},{service:"Google Maps",url:"https://developers.google.com/maps",freeLimit:"Paid service (requires billing)",paidOptions:"Most accurate, enterprise-grade",setup:"Set VITE_GOOGLE_MAPS_API_KEY in your .env file",recommended:!1}];return{current:e,recommendations:t}},Zi=class Zi{constructor(){Es(this,"cache",new Map);Es(this,"maxCacheSize",200);Es(this,"cacheTimeout",60*60*1e3)}static getInstance(){return Zi.instance||(Zi.instance=new Zi),Zi.instance}getCacheKey(t,s){return`${t.lat.toFixed(5)},${t.lng.toFixed(5)}_${s.lat.toFixed(5)},${s.lng.toFixed(5)}`}isValidCache(t){return Date.now()-t.timestamp<this.cacheTimeout}async getRouteFromORS(t,s){var a,c;try{const p=await fetch("https://api.openrouteservice.org/v2/directions/driving-car",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"your_production_api_key_here"},body:JSON.stringify({coordinates:[[t.lng,t.lat],[s.lng,s.lat]],format:"geojson"})});if(!p.ok)return console.warn(`ORS API failed: ${p.status} ${p.statusText}`),null;const g=await p.json();if(g.features&&g.features.length>0){const w=g.features[0];return{coordinates:w.geometry.coordinates.map(b=>[b[1],b[0]]),distance:((a=w.properties.segments[0])==null?void 0:a.distance)||0,duration:((c=w.properties.segments[0])==null?void 0:c.duration)||0,source:"road-api",confidence:"high"}}}catch(d){console.warn("ORS routing failed:",d.message)}return null}async getRouteFromMapbox(t,s){try{const a=_P();if(!a.mapboxKey)return null;const c=`https://api.mapbox.com/directions/v5/mapbox/driving/${t.lng},${t.lat};${s.lng},${s.lat}?geometries=geojson&access_token=${a.mapboxKey}`,d=new AbortController,f=setTimeout(()=>d.abort(),1e4),p=await fetch(c,{signal:d.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(f),!p.ok)return console.warn(`MapBox API failed: ${p.status} ${p.statusText}`),null;const g=await p.json();if(g.routes&&g.routes.length>0){const w=g.routes[0];return!w.geometry||!w.geometry.coordinates||w.geometry.coordinates.length<2?(console.warn("MapBox returned invalid geometry"),null):{coordinates:w.geometry.coordinates.map(b=>[b[1],b[0]]),distance:w.distance||0,duration:w.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("MapBox routing timed out"):console.warn("MapBox routing failed:",a.message)}return null}async getRouteFromOSRM(t,s){try{const a=`https://router.project-osrm.org/route/v1/driving/${t.lng},${t.lat};${s.lng},${s.lat}?overview=full&geometries=geojson`,c=new AbortController,d=setTimeout(()=>c.abort(),1e4),f=await fetch(a,{signal:c.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(d),!f.ok)return console.warn(`OSRM API failed: ${f.status} ${f.statusText}`),null;const p=await f.json();if(p.routes&&p.routes.length>0){const g=p.routes[0];return!g.geometry||!g.geometry.coordinates||g.geometry.coordinates.length<2?(console.warn("OSRM returned invalid geometry"),null):{coordinates:g.geometry.coordinates.map(_=>[_[1],_[0]]),distance:g.distance||0,duration:g.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("OSRM routing timed out"):console.warn("OSRM routing failed:",a.message)}return null}calculateStraightLineDistance(t,s){const c=t.lat*Math.PI/180,d=s.lat*Math.PI/180,f=(s.lat-t.lat)*Math.PI/180,p=(t.lng-s.lng)*Math.PI/180,g=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))}createStraightLineRoute(t,s){const a=this.calculateStraightLineDistance(t,s),c=[];if(a>500){const d=Math.min(5,Math.floor(a/200));for(let f=0;f<=d;f++){const p=f/d,g=t.lat+(s.lat-t.lat)*p,w=t.lng+(s.lng-t.lng)*p;c.push([g,w])}}else c.push([t.lat,t.lng],[s.lat,s.lng]);return{coordinates:c,distance:a,duration:a/13.89,source:"straight-line",confidence:a<100?"medium":"low"}}async getRoute(t,s){const a=this.getCacheKey(t,s),c=this.cache.get(a);if(c&&this.isValidCache(c))return console.log(`Using cached route for ${this.calculateStraightLineDistance(t,s).toFixed(0)}m distance`),c.route;const d=this.calculateStraightLineDistance(t,s);if(d<30){console.log(`Short distance (${Math.round(d)}m), using direct line`);const p=this.createStraightLineRoute(t,s);return p.confidence="high",this.cache.set(a,{route:p,timestamp:Date.now()}),p}let f=null;if(d<1e4&&(f=await this.getRouteFromMapbox(t,s),!f&&d>50&&(f=await this.getRouteFromORS(t,s)),!f&&d>30&&(f=await this.getRouteFromOSRM(t,s))),!f){const p=d>=5e3?"Long distance":"API services unavailable";console.log(`${p} - using straight line for ${Math.round(d)}m distance`),f=this.createStraightLineRoute(t,s),d<200?f.confidence="medium":d>1e3&&(f.confidence="low")}if(this.cache.size>=this.maxCacheSize){const p=this.cache.keys().next().value;this.cache.delete(p)}return this.cache.set(a,{route:f,timestamp:Date.now()}),f}createGPSRoute(t){if(t.length<2)return{coordinates:[],distance:0,duration:0,source:"gps",confidence:"high"};const s=this.cleanGPSPoints(t),a=s.map(p=>[p.lat,p.lng]);let c=0;for(let p=1;p<s.length;p++){const g=s[p-1],w=s[p];c+=this.calculateStraightLineDistance(g,w)}let d=0;if(s[0].timestamp&&s[s.length-1].timestamp){const p=new Date(s[0].timestamp).getTime();d=(new Date(s[s.length-1].timestamp).getTime()-p)/1e3}else d=c/13.89;const f=this.assessGPSQuality(s,t.length);return console.log(` GPS route: ${s.length}/${t.length} points, ${(c/1e3).toFixed(2)}km, ${f} confidence`),{coordinates:a,distance:c,duration:d,source:"gps",confidence:f}}cleanGPSPoints(t){if(t.length<=2)return t;const s=[t[0]];for(let a=1;a<t.length;a++){const c=t[a],d=s[s.length-1],f=this.calculateStraightLineDistance(d,c);if(!(f<3)){if(c.timestamp&&d.timestamp){const p=(new Date(c.timestamp).getTime()-new Date(d.timestamp).getTime())/1e3;if(p>0&&p<5&&f>300){console.warn(`Skipping GPS outlier: ${Math.round(f)}m in ${p}s (${Math.round(f/p*3.6)}km/h)`);continue}}s.push(c)}}return s.length<2?(console.warn(`GPS cleaning removed too many points (${s.length}/${t.length}), using original`),t):s.length<t.length*.5?(console.warn(`GPS cleaning removed over 50% of points (${s.length}/${t.length}), using original`),t):(console.log(`GPS cleaning: kept ${s.length}/${t.length} points`),s)}assessGPSQuality(t,s){const a=t.length/s;return t.length>=10&&a>.7?"high":t.length>=5&&a>.5?"medium":"low"}async getRouteForPoints(t){if(t.length<2)return{coordinates:[],totalDistance:0,segments:[]};const s=[];let a=[],c=0,d=0;const f=15,p=t.length>f+1?this.selectKeyPoints(t,f):t;console.log(`Processing route with ${p.length} key points (from ${t.length} total GPS points)`);for(let b=0;b<p.length-1;b++)try{const S=await this.getRoute(p[b],p[b+1]);s.push(S),S.source==="road-api"&&d++,b===0?a.push(...S.coordinates):a.push(...S.coordinates.slice(1)),c+=S.distance}catch(S){console.warn(`Failed to get route for segment ${b}-${b+1}:`,S);const T=p[b],P=p[b+1],j=[[T.lat,T.lng],[P.lat,P.lng]];b===0?a.push(...j):a.push(j[1]);const C=this.calculateStraightLineDistance(T,P);c+=C}const g=s.length>0?d/s.length:0;let w="mixed",_="medium";return g>=.8?(w="road-api",_="high"):g>=.5?(w="road-mixed",_="medium"):(w="gps-fallback",_="low"),console.log(`Route complete: ${a.length} coordinates, ${Math.round(c/1e3*100)/100}km, ${d}/${s.length} road segments`),{coordinates:a,totalDistance:c,segments:s,source:w,confidence:_}}selectKeyPoints(t,s){if(t.length<=s)return t;const a=[t[0]],c=Math.floor(t.length/(s-2));for(let d=c;d<t.length-1;d+=c)a.push(t[d]);return a.push(t[t.length-1]),a}clearCache(){this.cache.clear()}};Es(Zi,"instance");let Jm=Zi;const Wr=Jm.getInstance();delete xn.Icon.Default.prototype._getIconUrl;xn.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function $p({employees:e,selectedEmployee:t,height:s="400px",onEmployeeClick:a,trackingSession:c,showRoute:d=!1}){const f=v.useRef(null),p=v.useRef(null),g=v.useRef({}),w=v.useRef(null),_=v.useRef([]),[b,S]=v.useState(!1),[T,P]=v.useState(null),[j,C]=v.useState(null);return v.useEffect(()=>{if(!p.current)return;f.current=xn.map(p.current).setView([40.7128,-74.006],12),xn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(f.current);const k=document.createElement("link");return k.rel="stylesheet",k.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",document.head.appendChild(k),()=>{f.current&&(f.current.remove(),f.current=null),document.head.removeChild(k)}},[]),v.useEffect(()=>{if(!f.current||!e.length)return;Object.values(g.current).forEach(M=>{var I;(I=f.current)==null||I.removeLayer(M)}),g.current={};const k=M=>{var $;const I=M==="active"?"#22c55e":M==="meeting"?"#f59e0b":"#6b7280";return xn.divIcon({html:`
          <div style="
            background-color: ${I};
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            ${t&&t===(($=e.find(Z=>Z.location.lat===parseFloat(M)&&Z.location.lng===parseFloat(M)))==null?void 0:$.id)?"transform: scale(1.3);":""}
          "></div>
        `,className:"custom-div-icon",iconSize:[20,20],iconAnchor:[10,10]})},O=xn.latLngBounds([]);e.forEach(M=>{if(M.location.lat&&M.location.lng){const I=xn.marker([M.location.lat,M.location.lng],{icon:k(M.status)}).addTo(f.current);I.bindPopup(`
          <div style="min-width: 200px;">
            <h3 style="margin: 0 0 8px 0; font-weight: bold;">${M.name}</h3>
            <p style="margin: 0 0 4px 0; color: #666;">
              <span style="
                display: inline-block;
                padding: 2px 6px;
                border-radius: 4px;
                font-size: 12px;
                background-color: ${M.status==="active"?"#22c55e":M.status==="meeting"?"#f59e0b":"#6b7280"};
                color: white;
              ">${M.status==="active"?"On Route":M.status==="meeting"?"In Meeting":"Offline"}</span>
            </p>
            <p style="margin: 0 0 4px 0; font-size: 14px;">${M.location.address}</p>
            ${M.currentTask?`<p style="margin: 0 0 4px 0; font-size: 12px; font-style: italic;">${M.currentTask}</p>`:""}
            <p style="margin: 0; font-size: 12px; color: #888;">Updated ${M.lastUpdate}</p>
          </div>
        `),a&&I.on("click",()=>a(M.id)),g.current[M.id]=I,O.extend([M.location.lat,M.location.lng])}}),e.length>0&&O.isValid()&&f.current.fitBounds(O,{padding:[20,20]})},[e,t,a]),v.useEffect(()=>{if(!f.current)return;if(w.current&&(f.current.removeLayer(w.current),w.current=null),_.current.forEach(M=>{var I;(I=f.current)==null||I.removeLayer(M)}),_.current=[],!d||!c||!c.route.length){P(null),C(null);return}const k=c.route;if((async()=>{if(k.length<1){P("No GPS points available for route visualization"),C(null);return}S(!0),P(null);try{if(!f.current)return;let M=[],I="gps",$="medium";if(console.log(`Displaying route with ${k.length} GPS points`),k.length===1)M=[[k[0].lat,k[0].lng]],I="single-point",$="high";else if(M=k.map(ce=>[ce.lat,ce.lng]),I="gps-points",$=k.length>=5?"medium":"basic",k.length>=2&&k.length<=10)try{if(console.log("Attempting road-based route enhancement..."),k.length<=3){const ce=await Wr.getRoute(k[0],k[k.length-1]);ce.source==="road-api"&&ce.coordinates.length>0&&(M=ce.coordinates,I="road-direct",$="high",console.log("Successfully enhanced route with direct road routing"))}else{const ce=await Wr.createGPSRoute(k);ce.coordinates.length>0&&(M=ce.coordinates,I="gps-processed",$=ce.confidence||"medium",console.log(`Successfully processed GPS route: ${ce.confidence} confidence`))}}catch(ce){console.warn("Route enhancement failed, using basic GPS points:",ce.message)}const F=(()=>{switch(I){case"road-direct":case"road-api":return{color:"#2563eb",weight:5,opacity:.8,dashArray:void 0};case"gps-processed":return{color:"#16a34a",weight:4,opacity:.7,dashArray:void 0};case"single-point":return{color:"#dc2626",weight:6,opacity:.9,dashArray:void 0};default:return{color:"#ea580c",weight:3,opacity:.6,dashArray:"8, 4"}}})();if(I==="single-point"&&M.length===1){const ce=M[0];w.current=xn.circle(ce,{radius:50,color:F.color,weight:F.weight,opacity:F.opacity,fillColor:F.color,fillOpacity:.3}).addTo(f.current)}else M.length>=2&&(w.current=xn.polyline(M,{...F,smoothFactor:I.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current),xn.polyline(M,{color:"#000000",weight:F.weight+2,opacity:.2,smoothFactor:I.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current).bringToBack());if(C((()=>{switch(I){case"road-direct":case"road-api":return{type:"Road Network",confidence:"High Accuracy",points:M.length};case"gps-processed":return{type:"Enhanced GPS",confidence:$==="high"?"High Accuracy":"Medium Accuracy",points:k.length};case"single-point":return{type:"Current Location",confidence:"High Accuracy",points:1};default:return{type:"GPS Points",confidence:"Basic Accuracy",points:k.length}}})()),console.log(` Displayed ${I} route: ${M.length} coordinates, ${$} confidence`),M.length>0)if(M.length===1)f.current.setView(M[0],16);else{const ce=xn.latLngBounds(M);f.current.fitBounds(ce,{padding:[30,30]})}}catch(M){console.error("Error displaying route:",M),P(`Failed to display route: ${M.message}`),C(null);try{if(k.length>=1){const I=k.map($=>[$.lat,$.lng]);if(I.length===1?w.current=xn.circle(I[0],{radius:30,color:"#dc2626",weight:2,opacity:.7,fillColor:"#dc2626",fillOpacity:.2}).addTo(f.current):w.current=xn.polyline(I,{color:"#dc2626",weight:3,opacity:.6,dashArray:"5, 5",smoothFactor:.1}).addTo(f.current),C({type:"Fallback GPS",confidence:"Limited",points:k.length}),P(null),I.length===1)f.current.setView(I[0],16);else{const $=xn.latLngBounds(I);f.current.fitBounds($,{padding:[20,20]})}}}catch(I){console.error("Even fallback route failed:",I),P("Unable to display any route visualization")}}finally{S(!1)}})(),c.startLocation){const M=xn.divIcon({html:`
          <div style="
            background-color: #22c55e;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">S</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),I=xn.marker([c.startLocation.lat,c.startLocation.lng],{icon:M}).addTo(f.current);I.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #22c55e;">Route Start</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${new Date(c.startTime).toLocaleString()}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            ${c.startLocation.address}
          </p>
        </div>
      `),_.current.push(I)}if(c.endLocation&&c.status==="completed"){const M=xn.divIcon({html:`
          <div style="
            background-color: #ef4444;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">E</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),I=xn.marker([c.endLocation.lat,c.endLocation.lng],{icon:M}).addTo(f.current);I.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #ef4444;">Route End</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${c.endTime?new Date(c.endTime).toLocaleString():"In progress"}
          </p>
          <p style="margin: 0 0 4px 0; font-size: 12px; color: #666;">
            ${c.endLocation.address}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            Distance: ${(c.totalDistance/1e3).toFixed(2)} km
          </p>
        </div>
      `),_.current.push(I)}if(k.length>2){const M=Math.max(1,Math.floor(k.length/5));k.forEach((I,$)=>{if($>0&&$<k.length-1&&$%M===0){const Z=xn.divIcon({html:`
              <div style="
                background-color: #3b82f6;
                width: 8px;
                height: 8px;
                border-radius: 50%;
                border: 2px solid white;
                box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                opacity: 0.9;
              "></div>
            `,className:"custom-div-icon",iconSize:[8,8],iconAnchor:[4,4]}),F=xn.marker([I.lat,I.lng],{icon:Z}).addTo(f.current);F.bindPopup(`
            <div style="min-width: 160px;">
              <h4 style="margin: 0 0 8px 0; color: #3b82f6;">Route Point</h4>
              <p style="margin: 0 0 4px 0; font-size: 12px;">
                <strong>Time:</strong> ${new Date(I.timestamp).toLocaleTimeString()}
              </p>
              <p style="margin: 0 0 4px 0; font-size: 11px; color: #666;">
                Position: ${I.lat.toFixed(6)}, ${I.lng.toFixed(6)}
              </p>
              <p style="margin: 0; font-size: 11px; color: #666;">
                Point ${$+1} of ${k.length}
              </p>
            </div>
          `),_.current.push(F)}})}},[d,c]),v.useEffect(()=>{if(!f.current||!t)return;const k=e.find(O=>O.id===t);k&&k.location.lat&&k.location.lng&&f.current.setView([k.location.lat,k.location.lng],15)},[t,e]),i.jsxs("div",{className:"relative",children:[i.jsx("div",{ref:p,style:{height:s,width:"100%",borderRadius:"8px"},className:"relative z-0"}),b&&i.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm border border-border rounded-md px-3 py-2 text-sm flex items-center space-x-2 z-10",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Generating route..."})]}),d&&j&&i.jsxs("div",{className:`absolute top-2 right-2 backdrop-blur-sm border rounded-md px-3 py-2 text-sm z-10 ${j.confidence==="High Accuracy"?"bg-blue-500/90 border-blue-500 text-white":j.confidence==="Medium Accuracy"?"bg-green-500/90 border-green-500 text-white":j.confidence==="Basic Accuracy"?"bg-orange-500/90 border-orange-500 text-white":"bg-red-500/90 border-red-500 text-white"}`,children:[i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("span",{children:[j.type.includes("Road")?"":j.type.includes("GPS + Road")?"":""," ",j.type]})}),i.jsxs("div",{className:"text-xs mt-1 opacity-90",children:[j.confidence,"  ",j.points," ",j.points===1?"point":"points"]}),j.type.includes("Road")&&i.jsx("div",{className:"text-xs mt-1 opacity-75",children:" Road-optimized route"})]}),T&&i.jsxs("div",{className:"absolute top-2 left-2 bg-destructive/90 backdrop-blur-sm border border-destructive rounded-md px-3 py-2 text-sm text-destructive-foreground z-10",children:[i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("span",{children:" Route Display Issue"})}),i.jsx("div",{className:"text-xs mt-1",children:T}),i.jsx("div",{className:"text-xs mt-1 opacity-80",children:" Route will improve with more GPS points"})]})]})}const an=v.forwardRef(({className:e,type:t,...s},a)=>i.jsx("input",{type:t,className:it("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));an.displayName="Input";function bP(e,t){const s=v.createContext(t),a=d=>{const{children:f,...p}=d,g=v.useMemo(()=>p,Object.values(p));return i.jsx(s.Provider,{value:g,children:f})};a.displayName=e+"Provider";function c(d){const f=v.useContext(s);if(f)return f;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[a,c]}function NP(e,t=[]){let s=[];function a(d,f){const p=v.createContext(f),g=s.length;s=[...s,f];const w=b=>{var k;const{scope:S,children:T,...P}=b,j=((k=S==null?void 0:S[e])==null?void 0:k[g])||p,C=v.useMemo(()=>P,Object.values(P));return i.jsx(j.Provider,{value:C,children:T})};w.displayName=d+"Provider";function _(b,S){var j;const T=((j=S==null?void 0:S[e])==null?void 0:j[g])||p,P=v.useContext(T);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[w,_]}const c=()=>{const d=s.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,SP(c,...t)]}function SP(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return s.scopeName=t.scopeName,s}var _m="focusScope.autoFocusOnMount",bm="focusScope.autoFocusOnUnmount",Mx={bubbles:!1,cancelable:!0},jP="FocusScope",Bp=v.forwardRef((e,t)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...f}=e,[p,g]=v.useState(null),w=tn(c),_=tn(d),b=v.useRef(null),S=kt(t,j=>g(j)),T=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(a){let j=function(M){if(T.paused||!p)return;const I=M.target;p.contains(I)?b.current=I:Qo(b.current,{select:!0})},C=function(M){if(T.paused||!p)return;const I=M.relatedTarget;I!==null&&(p.contains(I)||Qo(b.current,{select:!0}))},k=function(M){if(document.activeElement===document.body)for(const $ of M)$.removedNodes.length>0&&Qo(p)};document.addEventListener("focusin",j),document.addEventListener("focusout",C);const O=new MutationObserver(k);return p&&O.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",C),O.disconnect()}}},[a,p,T.paused]),v.useEffect(()=>{if(p){Lx.add(T);const j=document.activeElement;if(!p.contains(j)){const k=new CustomEvent(_m,Mx);p.addEventListener(_m,w),p.dispatchEvent(k),k.defaultPrevented||(EP(MP(N0(p)),{select:!0}),document.activeElement===j&&Qo(p))}return()=>{p.removeEventListener(_m,w),setTimeout(()=>{const k=new CustomEvent(bm,Mx);p.addEventListener(bm,_),p.dispatchEvent(k),k.defaultPrevented||Qo(j??document.body,{select:!0}),p.removeEventListener(bm,_),Lx.remove(T)},0)}}},[p,w,_,T]);const P=v.useCallback(j=>{if(!s&&!a||T.paused)return;const C=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,k=document.activeElement;if(C&&k){const O=j.currentTarget,[M,I]=CP(O);M&&I?!j.shiftKey&&k===I?(j.preventDefault(),s&&Qo(M,{select:!0})):j.shiftKey&&k===M&&(j.preventDefault(),s&&Qo(I,{select:!0})):k===O&&j.preventDefault()}},[s,a,T.paused]);return i.jsx(dt.div,{tabIndex:-1,...f,ref:S,onKeyDown:P})});Bp.displayName=jP;function EP(e,{select:t=!1}={}){const s=document.activeElement;for(const a of e)if(Qo(a,{select:t}),document.activeElement!==s)return}function CP(e){const t=N0(e),s=Rx(t,e),a=Rx(t.reverse(),e);return[s,a]}function N0(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Rx(e,t){for(const s of e)if(!PP(s,{upTo:t}))return s}function PP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TP(e){return e instanceof HTMLInputElement&&"select"in e}function Qo(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&TP(e)&&t&&e.select()}}var Lx=kP();function kP(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Dx(e,t),e.unshift(t)},remove(t){var s;e=Dx(e,t),(s=e[0])==null||s.resume()}}}function Dx(e,t){const s=[...e],a=s.indexOf(t);return a!==-1&&s.splice(a,1),s}function MP(e){return e.filter(t=>t.tagName!=="A")}function RP(e,t){return v.useReducer((s,a)=>t[s][a]??s,e)}var bf=e=>{const{present:t,children:s}=e,a=LP(t),c=typeof s=="function"?s({present:a.isPresent}):v.Children.only(s),d=kt(a.ref,DP(c));return typeof s=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};bf.displayName="Presence";function LP(e){const[t,s]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=RP(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=Pd(a.current);d.current=p==="mounted"?w:"none"},[p]),ln(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,T=Pd(w);e?g("MOUNT"):T==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&S!==T?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),ln(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,b=T=>{const j=Pd(a.current).includes(T.animationName);if(T.target===t&&j&&(g("ANIMATION_END"),!c.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},S=T=>{T.target===t&&(d.current=Pd(a.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),s(w)},[])}}function Pd(e){return(e==null?void 0:e.animationName)||"none"}function DP(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Nm=0;function AP(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ax()),document.body.insertAdjacentElement("beforeend",e[1]??Ax()),Nm++,()=>{Nm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Nm--}},[])}function Ax(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wn=function(){return Wn=Object.assign||function(t){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(t[d]=s[d])}return t},Wn.apply(this,arguments)};function Up(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(s[a[c]]=e[a[c]]);return s}function S0(e,t,s){if(s||arguments.length===2)for(var a=0,c=t.length,d;a<c;a++)(d||!(a in t))&&(d||(d=Array.prototype.slice.call(t,0,a)),d[a]=t[a]);return e.concat(d||Array.prototype.slice.call(t))}var Oc="right-scroll-bar-position",Ic="width-before-scroll-bar",OP="with-scroll-bars-hidden",IP="--removed-body-scroll-bar-size";function Sm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FP(e,t){var s=v.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(a){var c=s.value;c!==a&&(s.value=a,s.callback(a,c))}}}})[0];return s.callback=t,s.facade}var zP=typeof window<"u"?v.useLayoutEffect:v.useEffect,Ox=new WeakMap;function j0(e,t){var s=FP(null,function(a){return e.forEach(function(c){return Sm(c,a)})});return zP(function(){var a=Ox.get(s);if(a){var c=new Set(a),d=new Set(e),f=s.current;c.forEach(function(p){d.has(p)||Sm(p,null)}),d.forEach(function(p){c.has(p)||Sm(p,f)})}Ox.set(s,e)},[e]),s}function $P(e){return e}function BP(e,t){t===void 0&&(t=$P);var s=[],a=!1,c={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(d){var f=t(d,a);return s.push(f),function(){s=s.filter(function(p){return p!==f})}},assignSyncMedium:function(d){for(a=!0;s.length;){var f=s;s=[],f.forEach(d)}s={push:function(p){return d(p)},filter:function(){return s}}},assignMedium:function(d){a=!0;var f=[];if(s.length){var p=s;s=[],p.forEach(d),f=s}var g=function(){var _=f;f=[],_.forEach(d)},w=function(){return Promise.resolve().then(g)};w(),s={push:function(_){f.push(_),w()},filter:function(_){return f=f.filter(_),s}}}};return c}function E0(e){e===void 0&&(e={});var t=BP(null);return t.options=Wn({async:!0,ssr:!1},e),t}var C0=function(e){var t=e.sideCar,s=Up(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return v.createElement(a,Wn({},s))};C0.isSideCarExport=!0;function P0(e,t){return e.useMedium(t),C0}var T0=E0(),jm=function(){},Nf=v.forwardRef(function(e,t){var s=v.useRef(null),a=v.useState({onScrollCapture:jm,onWheelCapture:jm,onTouchMoveCapture:jm}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,g=e.className,w=e.removeScrollBar,_=e.enabled,b=e.shards,S=e.sideCar,T=e.noIsolation,P=e.inert,j=e.allowPinchZoom,C=e.as,k=C===void 0?"div":C,O=e.gapMode,M=Up(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=S,$=j0([s,t]),Z=Wn(Wn({},M),c);return v.createElement(v.Fragment,null,_&&v.createElement(I,{sideCar:T0,removeScrollBar:w,shards:b,noIsolation:T,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:s,gapMode:O}),f?v.cloneElement(v.Children.only(p),Wn(Wn({},Z),{ref:$})):v.createElement(k,Wn({},Z,{className:g,ref:$}),p))});Nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nf.classNames={fullWidth:Ic,zeroRight:Oc};var UP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UP();return t&&e.setAttribute("nonce",t),e}function WP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function VP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ZP=function(){var e=0,t=null;return{add:function(s){e==0&&(t=HP())&&(WP(t,s),VP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qP=function(){var e=ZP();return function(t,s){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Hp=function(){var e=qP(),t=function(s){var a=s.styles,c=s.dynamic;return e(a,c),null};return t},GP={left:0,top:0,right:0,gap:0},Em=function(e){return parseInt(e||"",10)||0},YP=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],c=t[e==="padding"?"paddingRight":"marginRight"];return[Em(s),Em(a),Em(c)]},KP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GP;var t=YP(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-s+t[2]-t[0])}},XP=Hp(),ll="data-scroll-locked",QP=function(e,t,s,a){var c=e.left,d=e.top,f=e.right,p=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(OP,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(p,"px ").concat(a,`;
  }
  body[`).concat(ll,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(p,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oc,` {
    right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(Ic,` {
    margin-right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(ll,`] {
    `).concat(IP,": ").concat(p,`px;
  }
`)},Ix=function(){var e=parseInt(document.body.getAttribute(ll)||"0",10);return isFinite(e)?e:0},JP=function(){v.useEffect(function(){return document.body.setAttribute(ll,(Ix()+1).toString()),function(){var e=Ix()-1;e<=0?document.body.removeAttribute(ll):document.body.setAttribute(ll,e.toString())}},[])},k0=function(e){var t=e.noRelative,s=e.noImportant,a=e.gapMode,c=a===void 0?"margin":a;JP();var d=v.useMemo(function(){return KP(c)},[c]);return v.createElement(XP,{styles:QP(d,!t,c,s?"":"!important")})},ep=!1;if(typeof window<"u")try{var Td=Object.defineProperty({},"passive",{get:function(){return ep=!0,!0}});window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{ep=!1}var Xa=ep?{passive:!1}:!1,eT=function(e){return e.tagName==="TEXTAREA"},M0=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!eT(e)&&s[t]==="visible")},tT=function(e){return M0(e,"overflowY")},nT=function(e){return M0(e,"overflowX")},Fx=function(e,t){var s=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=R0(e,a);if(c){var d=L0(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},rT=function(e){var t=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[t,s,a]},sT=function(e){var t=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[t,s,a]},R0=function(e,t){return e==="v"?tT(t):nT(t)},L0=function(e,t){return e==="v"?rT(t):sT(t)},oT=function(e,t){return e==="h"&&t==="rtl"?-1:1},iT=function(e,t,s,a,c){var d=oT(e,window.getComputedStyle(t).direction),f=d*a,p=s.target,g=t.contains(p),w=!1,_=f>0,b=0,S=0;do{var T=L0(e,p),P=T[0],j=T[1],C=T[2],k=j-C-d*P;(P||k)&&R0(e,p)&&(b+=k,S+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!g&&p!==document.body||g&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(S)<1)&&(w=!0),w},kd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},zx=function(e){return[e.deltaX,e.deltaY]},$x=function(e){return e&&"current"in e?e.current:e},aT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cT=0,Qa=[];function uT(e){var t=v.useRef([]),s=v.useRef([0,0]),a=v.useRef(),c=v.useState(cT++)[0],d=v.useState(Hp)[0],f=v.useRef(e);v.useEffect(function(){f.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=S0([e.lockRef.current],(e.shards||[]).map($x),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=v.useCallback(function(j,C){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!f.current.allowPinchZoom;var k=kd(j),O=s.current,M="deltaX"in j?j.deltaX:O[0]-k[0],I="deltaY"in j?j.deltaY:O[1]-k[1],$,Z=j.target,F=Math.abs(M)>Math.abs(I)?"h":"v";if("touches"in j&&F==="h"&&Z.type==="range")return!1;var ie=Fx(F,Z);if(!ie)return!0;if(ie?$=F:($=F==="v"?"h":"v",ie=Fx(F,Z)),!ie)return!1;if(!a.current&&"changedTouches"in j&&(M||I)&&(a.current=$),!$)return!0;var ce=a.current||$;return iT(ce,C,j,ce==="h"?M:I)},[]),g=v.useCallback(function(j){var C=j;if(!(!Qa.length||Qa[Qa.length-1]!==d)){var k="deltaY"in C?zx(C):kd(C),O=t.current.filter(function($){return $.name===C.type&&($.target===C.target||C.target===$.shadowParent)&&aT($.delta,k)})[0];if(O&&O.should){C.cancelable&&C.preventDefault();return}if(!O){var M=(f.current.shards||[]).map($x).filter(Boolean).filter(function($){return $.contains(C.target)}),I=M.length>0?p(C,M[0]):!f.current.noIsolation;I&&C.cancelable&&C.preventDefault()}}},[]),w=v.useCallback(function(j,C,k,O){var M={name:j,delta:C,target:k,should:O,shadowParent:dT(k)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(I){return I!==M})},1)},[]),_=v.useCallback(function(j){s.current=kd(j),a.current=void 0},[]),b=v.useCallback(function(j){w(j.type,zx(j),j.target,p(j,e.lockRef.current))},[]),S=v.useCallback(function(j){w(j.type,kd(j),j.target,p(j,e.lockRef.current))},[]);v.useEffect(function(){return Qa.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:S}),document.addEventListener("wheel",g,Xa),document.addEventListener("touchmove",g,Xa),document.addEventListener("touchstart",_,Xa),function(){Qa=Qa.filter(function(j){return j!==d}),document.removeEventListener("wheel",g,Xa),document.removeEventListener("touchmove",g,Xa),document.removeEventListener("touchstart",_,Xa)}},[]);var T=e.removeScrollBar,P=e.inert;return v.createElement(v.Fragment,null,P?v.createElement(d,{styles:lT(c)}):null,T?v.createElement(k0,{gapMode:e.gapMode}):null)}function dT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fT=P0(T0,uT);var D0=v.forwardRef(function(e,t){return v.createElement(Nf,Wn({},e,{ref:t,sideCar:fT}))});D0.classNames=Nf.classNames;var hT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ja=new WeakMap,Md=new WeakMap,Rd={},Cm=0,A0=function(e){return e&&(e.host||A0(e.parentNode))},mT=function(e,t){return t.map(function(s){if(e.contains(s))return s;var a=A0(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},pT=function(e,t,s,a){var c=mT(t,Array.isArray(e)?e:[e]);Rd[s]||(Rd[s]=new WeakMap);var d=Rd[s],f=[],p=new Set,g=new Set(c),w=function(b){!b||p.has(b)||(p.add(b),w(b.parentNode))};c.forEach(w);var _=function(b){!b||g.has(b)||Array.prototype.forEach.call(b.children,function(S){if(p.has(S))_(S);else try{var T=S.getAttribute(a),P=T!==null&&T!=="false",j=(Ja.get(S)||0)+1,C=(d.get(S)||0)+1;Ja.set(S,j),d.set(S,C),f.push(S),j===1&&P&&Md.set(S,!0),C===1&&S.setAttribute(s,"true"),P||S.setAttribute(a,"true")}catch(k){console.error("aria-hidden: cannot operate on ",S,k)}})};return _(t),p.clear(),Cm++,function(){f.forEach(function(b){var S=Ja.get(b)-1,T=d.get(b)-1;Ja.set(b,S),d.set(b,T),S||(Md.has(b)||b.removeAttribute(a),Md.delete(b)),T||b.removeAttribute(s)}),Cm--,Cm||(Ja=new WeakMap,Ja=new WeakMap,Md=new WeakMap,Rd={})}},O0=function(e,t,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),c=hT(e);return c?(a.push.apply(a,Array.from(c.querySelectorAll("[aria-live]"))),pT(a,c,s,"aria-hidden")):function(){return null}},Wp="Dialog",[I0,CL]=NP(Wp),[gT,fs]=I0(Wp),F0=e=>{const{__scopeDialog:t,children:s,open:a,defaultOpen:c,onOpenChange:d,modal:f=!0}=e,p=v.useRef(null),g=v.useRef(null),[w=!1,_]=Hd({prop:a,defaultProp:c,onChange:d});return i.jsx(gT,{scope:t,triggerRef:p,contentRef:g,contentId:il(),titleId:il(),descriptionId:il(),open:w,onOpenChange:_,onOpenToggle:v.useCallback(()=>_(b=>!b),[_]),modal:f,children:s})};F0.displayName=Wp;var z0="DialogTrigger",$0=v.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,c=fs(z0,s),d=kt(t,c.triggerRef);return i.jsx(dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":qp(c.open),...a,ref:d,onClick:rt(e.onClick,c.onOpenToggle)})});$0.displayName=z0;var Vp="DialogPortal",[vT,B0]=I0(Vp,{forceMount:void 0}),U0=e=>{const{__scopeDialog:t,forceMount:s,children:a,container:c}=e,d=fs(Vp,t);return i.jsx(vT,{scope:t,forceMount:s,children:v.Children.map(a,f=>i.jsx(bf,{present:s||d.open,children:i.jsx(Vw,{asChild:!0,container:c,children:f})}))})};U0.displayName=Vp;var Xd="DialogOverlay",H0=v.forwardRef((e,t)=>{const s=B0(Xd,e.__scopeDialog),{forceMount:a=s.forceMount,...c}=e,d=fs(Xd,e.__scopeDialog);return d.modal?i.jsx(bf,{present:a||d.open,children:i.jsx(xT,{...c,ref:t})}):null});H0.displayName=Xd;var xT=v.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,c=fs(Xd,s);return i.jsx(D0,{as:ta,allowPinchZoom:!0,shards:[c.contentRef],children:i.jsx(dt.div,{"data-state":qp(c.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),ra="DialogContent",W0=v.forwardRef((e,t)=>{const s=B0(ra,e.__scopeDialog),{forceMount:a=s.forceMount,...c}=e,d=fs(ra,e.__scopeDialog);return i.jsx(bf,{present:a||d.open,children:d.modal?i.jsx(yT,{...c,ref:t}):i.jsx(wT,{...c,ref:t})})});W0.displayName=ra;var yT=v.forwardRef((e,t)=>{const s=fs(ra,e.__scopeDialog),a=v.useRef(null),c=kt(t,s.contentRef,a);return v.useEffect(()=>{const d=a.current;if(d)return O0(d)},[]),i.jsx(V0,{...e,ref:c,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(e.onCloseAutoFocus,d=>{var f;d.preventDefault(),(f=s.triggerRef.current)==null||f.focus()}),onPointerDownOutside:rt(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0;(f.button===2||p)&&d.preventDefault()}),onFocusOutside:rt(e.onFocusOutside,d=>d.preventDefault())})}),wT=v.forwardRef((e,t)=>{const s=fs(ra,e.__scopeDialog),a=v.useRef(!1),c=v.useRef(!1);return i.jsx(V0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var f,p;(f=e.onCloseAutoFocus)==null||f.call(e,d),d.defaultPrevented||(a.current||(p=s.triggerRef.current)==null||p.focus(),d.preventDefault()),a.current=!1,c.current=!1},onInteractOutside:d=>{var g,w;(g=e.onInteractOutside)==null||g.call(e,d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const f=d.target;((w=s.triggerRef.current)==null?void 0:w.contains(f))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),V0=v.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:d,...f}=e,p=fs(ra,s),g=v.useRef(null),w=kt(t,g);return AP(),i.jsxs(i.Fragment,{children:[i.jsx(Bp,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:c,onUnmountAutoFocus:d,children:i.jsx(Ep,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":qp(p.open),...f,ref:w,onDismiss:()=>p.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(_T,{titleId:p.titleId}),i.jsx(NT,{contentRef:g,descriptionId:p.descriptionId})]})]})}),Zp="DialogTitle",Z0=v.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,c=fs(Zp,s);return i.jsx(dt.h2,{id:c.titleId,...a,ref:t})});Z0.displayName=Zp;var q0="DialogDescription",G0=v.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,c=fs(q0,s);return i.jsx(dt.p,{id:c.descriptionId,...a,ref:t})});G0.displayName=q0;var Y0="DialogClose",K0=v.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,c=fs(Y0,s);return i.jsx(dt.button,{type:"button",...a,ref:t,onClick:rt(e.onClick,()=>c.onOpenChange(!1))})});K0.displayName=Y0;function qp(e){return e?"open":"closed"}var X0="DialogTitleWarning",[PL,Q0]=bP(X0,{contentName:ra,titleName:Zp,docsSlug:"dialog"}),_T=({titleId:e})=>{const t=Q0(X0),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},bT="DialogDescriptionWarning",NT=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q0(bT).contentName}}.`;return v.useEffect(()=>{var d;const c=(d=e.current)==null?void 0:d.getAttribute("aria-describedby");t&&c&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},ST=F0,jT=$0,ET=U0,J0=H0,e_=W0,t_=Z0,n_=G0,CT=K0;const kr=ST,PT=jT,TT=ET,r_=v.forwardRef(({className:e,...t},s)=>i.jsx(J0,{ref:s,className:it("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));r_.displayName=J0.displayName;const ur=v.forwardRef(({className:e,children:t,...s},a)=>i.jsxs(TT,{children:[i.jsx(r_,{}),i.jsxs(e_,{ref:a,className:it("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,i.jsxs(CT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(ff,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ur.displayName=e_.displayName;const dr=({className:e,...t})=>i.jsx("div",{className:it("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});dr.displayName="DialogHeader";const sa=({className:e,...t})=>i.jsx("div",{className:it("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sa.displayName="DialogFooter";const fr=v.forwardRef(({className:e,...t},s)=>i.jsx(t_,{ref:s,className:it("text-lg font-semibold leading-none tracking-tight",e),...t}));fr.displayName=t_.displayName;const hr=v.forwardRef(({className:e,...t},s)=>i.jsx(n_,{ref:s,className:it("text-sm text-muted-foreground",e),...t}));hr.displayName=n_.displayName;function s_({employeeId:e,isOpen:t,onClose:s}){const[a,c]=v.useState([]),[d,f]=v.useState([]),[p,g]=v.useState(!1),[w,_]=v.useState(""),[b,S]=v.useState(1),[T,P]=v.useState(1),[j,C]=v.useState(0),[k,O]=v.useState(null),[M,I]=v.useState(!1),[$,Z]=v.useState("all"),F=10;v.useEffect(()=>{t&&(ie(),e&&ce())},[t,e,b]);const ie=async()=>{var J,ee,pe,U;g(!0);try{const de=new URLSearchParams({page:b.toString(),limit:F.toString()});e&&de.append("employeeId",e),console.log("Fetching meeting history for employee:",e);const ae=await ct.get(`/api/meeting-history?${de.toString()}`);if(ae.ok){const z=await ae.json();console.log("Meeting history data received:",z),console.log("Number of meetings:",((J=z.meetings)==null?void 0:J.length)||0),((ee=z.meetings)==null?void 0:ee.length)>0&&(console.log("First meeting details:",z.meetings[0]),console.log("First meeting's meetingDetails:",z.meetings[0].meetingDetails),console.log("Customer name:",(pe=z.meetings[0].meetingDetails)==null?void 0:pe.customerName),console.log("Customer employee name:",(U=z.meetings[0].meetingDetails)==null?void 0:U.customerEmployeeName)),c(z.meetings||[]),C(z.total||0),P(z.totalPages||1)}else console.error("Failed to fetch meeting history:",ae.status,ae.statusText)}catch(de){console.error("Error fetching meeting history:",de),c([]),C(0),P(1)}finally{g(!1)}},ce=async()=>{try{if(!e)return;console.log("Fetching incomplete meeting remarks for employee:",e);const J=await ct.get(`/api/incomplete-meeting-remarks?employeeId=${e}`);if(J.ok){const ee=await J.json();console.log("Incomplete meeting remarks data received:",ee),f(ee.meetings||[])}else console.error("Failed to fetch incomplete meeting remarks:",J.status,J.statusText),f([])}catch(J){console.error("Error fetching incomplete meeting remarks:",J),f([])}},q=a.filter(J=>{var U,de,ae,z,X;if(!w)return!0;const ee=w.toLowerCase(),pe=J.meetingDetails;return((U=pe.customerName)==null?void 0:U.toLowerCase().includes(ee))||((de=pe.customerEmployeeName)==null?void 0:de.toLowerCase().includes(ee))||((ae=pe.customerEmail)==null?void 0:ae.toLowerCase().includes(ee))||((z=pe.customerDepartment)==null?void 0:z.toLowerCase().includes(ee))||((X=pe.customerDesignation)==null?void 0:X.toLowerCase().includes(ee))||pe.discussion.toLowerCase().includes(ee)}),ne=J=>{O(J),I(!0)},he=J=>new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Pe=()=>{b>1&&S(b-1)},K=()=>{b<T&&S(b+1)};return i.jsxs(i.Fragment,{children:[i.jsx(kr,{open:t,onOpenChange:s,children:i.jsxs(ur,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[i.jsxs(dr,{children:[i.jsxs(fr,{className:"flex items-center space-x-2",children:[i.jsx(ow,{className:"h-5 w-5 text-primary"}),i.jsx("span",{children:"Meeting History"}),$==="all"&&j>0&&i.jsxs(Et,{variant:"secondary",className:"ml-2",children:[j," meetings"]}),$==="incomplete"&&d.length>0&&i.jsxs(Et,{variant:"destructive",className:"ml-2",children:[d.length," incomplete"]})]}),i.jsx(hr,{children:$==="all"?"View completed meetings with customer details and discussion notes.":"View incomplete meeting remarks from your logout sessions."})]}),i.jsxs("div",{className:"flex space-x-2 border-b",children:[i.jsxs(Se,{variant:$==="all"?"default":"ghost",size:"sm",onClick:()=>Z("all"),className:"px-4",children:["All Meetings (",j,")"]}),i.jsxs(Se,{variant:$==="incomplete"?"default":"ghost",size:"sm",onClick:()=>Z("incomplete"),className:"px-4",children:["Incomplete Remarks (",d.length,")"]})]}),i.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col space-y-4",children:[$==="all"&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Qc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(an,{placeholder:"Search meetings by customer, discussion...",value:w,onChange:J=>_(J.target.value),className:"pl-10"})]}),i.jsxs(Se,{variant:"outline",size:"sm",children:[i.jsx(iw,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:$==="all"?i.jsx(i.Fragment,{children:p?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):q.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:w?"No meetings found matching your search.":"No meeting history available."}):i.jsx("div",{className:"space-y-3",children:q.map(J=>i.jsx(tt,{className:"border-l-4 border-l-primary cursor-pointer hover:shadow-md transition-shadow",onClick:()=>ne(J),children:i.jsx(nt,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:he(J.timestamp)})]}),J.leadInfo&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xv,{className:"h-4 w-4 text-blue-500"}),i.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Lead: ",J.leadInfo.id]})]}),J.meetingDetails.customers&&J.meetingDetails.customers.length>0?i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pm,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{className:"text-sm font-medium",children:["Customers (",J.meetingDetails.customers.length,")"]})]}),J.meetingDetails.customers.map((ee,pe)=>i.jsxs("div",{className:"ml-6 text-sm",children:[i.jsx("div",{className:"font-medium",children:ee.customerName}),i.jsxs("div",{className:"text-muted-foreground",children:["Contact: ",ee.customerEmployeeName,ee.customerDesignation&&i.jsxs("span",{children:[" (",ee.customerDesignation,")"]})]})]},pe))]}):i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pm,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:J.meetingDetails.customerName||"Unknown Company"})]}),i.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[i.jsx(df,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{className:"text-sm",children:[J.meetingDetails.customerEmployeeName||"No contact person",J.meetingDetails.customerDesignation&&i.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",J.meetingDetails.customerDesignation,")"]})]})]})]})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Sp,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:J.meetingDetails.discussion})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:J.meetingDetails.customers&&J.meetingDetails.customers.length>0?J.meetingDetails.customers.map((ee,pe)=>i.jsxs("div",{className:"flex flex-wrap gap-1",children:[ee.customerEmail&&i.jsxs(Et,{variant:"outline",className:"text-xs",children:[i.jsx(ii,{className:"h-3 w-3 mr-1"}),ee.customerEmail]}),ee.customerMobile&&i.jsxs(Et,{variant:"outline",className:"text-xs",children:[i.jsx(ai,{className:"h-3 w-3 mr-1"}),ee.customerMobile]}),ee.customerDepartment&&i.jsx(Et,{variant:"secondary",className:"text-xs",children:ee.customerDepartment})]},pe)):i.jsxs(i.Fragment,{children:[J.meetingDetails.customerEmail&&i.jsxs(Et,{variant:"outline",className:"text-xs",children:[i.jsx(ii,{className:"h-3 w-3 mr-1"}),J.meetingDetails.customerEmail]}),J.meetingDetails.customerMobile&&i.jsxs(Et,{variant:"outline",className:"text-xs",children:[i.jsx(ai,{className:"h-3 w-3 mr-1"}),J.meetingDetails.customerMobile]}),J.meetingDetails.customerDepartment&&i.jsx(Et,{variant:"secondary",className:"text-xs",children:J.meetingDetails.customerDepartment})]})})]}),i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>ne(J),children:"View Details"})]})})},J.id))})}):i.jsx(i.Fragment,{children:d.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No incomplete meeting remarks available."}):i.jsx("div",{className:"space-y-3",children:d.map(J=>i.jsx(tt,{className:"border-l-4 border-l-destructive cursor-pointer hover:shadow-md transition-shadow",onClick:()=>ne(J),children:i.jsx(nt,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Zr,{className:"h-4 w-4 text-destructive"}),i.jsx("span",{className:"text-sm font-medium text-destructive",children:he(J.timestamp)})]}),J.meetingDetails.customers&&J.meetingDetails.customers.length>0&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pm,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:J.meetingDetails.customers[0].customerName})]}),J.meetingDetails.customers[0].customerEmployeeName&&i.jsxs("div",{className:"text-sm text-muted-foreground ml-6",children:["Contact: ",J.meetingDetails.customers[0].customerEmployeeName]})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(fn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Reason:"}),i.jsx("p",{className:"text-sm line-clamp-2",children:J.meetingDetails.incompleteReason||J.meetingDetails.discussion})]})]})]}),i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>ne(J),children:"View"})]})})},J.id))})})}),$==="all"&&T>1&&i.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(b-1)*F+1," to"," ",Math.min(b*F,j)," of ",j," ","meetings"]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(Se,{variant:"outline",size:"sm",onClick:Pe,disabled:b<=1,children:[i.jsx(tw,{className:"h-4 w-4"}),"Previous"]}),i.jsxs("span",{className:"text-sm",children:["Page ",b," of ",T]}),i.jsxs(Se,{variant:"outline",size:"sm",onClick:K,disabled:b>=T,children:["Next",i.jsx(nw,{className:"h-4 w-4"})]})]})]})]})]})}),k&&i.jsx(kr,{open:M,onOpenChange:I,children:i.jsxs(ur,{className:"sm:max-w-md",children:[i.jsxs(dr,{children:[i.jsx(fr,{children:"Meeting Details"}),i.jsx(hr,{children:he(k.timestamp)})]}),i.jsxs("div",{className:"space-y-4",children:[k.meetingDetails.customers&&k.meetingDetails.customers.length>0?i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-muted-foreground",children:["Customer Contacts (",k.meetingDetails.customers.length,")"]}),i.jsx("div",{className:"space-y-3 mt-2",children:k.meetingDetails.customers.map((J,ee)=>i.jsxs("div",{className:"p-3 bg-muted/20 rounded-md space-y-2",children:[i.jsx("div",{children:i.jsx("span",{className:"text-sm font-medium",children:J.customerName})}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),i.jsx("p",{children:J.customerEmployeeName})]}),J.customerDesignation&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Position:"}),i.jsx("p",{children:J.customerDesignation})]}),J.customerDepartment&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Department:"}),i.jsx("p",{children:J.customerDepartment})]}),J.customerEmail&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Email:"}),i.jsx("p",{children:J.customerEmail})]}),J.customerMobile&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),i.jsx("p",{children:J.customerMobile})]})]})]},ee))})]}):i.jsxs(i.Fragment,{children:[k.meetingDetails.customerName&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer Name"}),i.jsx("p",{className:"text-sm",children:k.meetingDetails.customerName})]}),k.meetingDetails.customerEmployeeName&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Person"}),i.jsx("p",{className:"text-sm",children:k.meetingDetails.customerEmployeeName})]}),k.meetingDetails.customerEmail&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),i.jsx("p",{className:"text-sm",children:k.meetingDetails.customerEmail})]}),k.meetingDetails.customerMobile&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mobile"}),i.jsx("p",{className:"text-sm",children:k.meetingDetails.customerMobile})]}),k.meetingDetails.customerDesignation&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Designation"}),i.jsx("p",{className:"text-sm",children:k.meetingDetails.customerDesignation})]}),k.meetingDetails.customerDepartment&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),i.jsx("p",{className:"text-sm",children:k.meetingDetails.customerDepartment})]})]}),k.leadInfo&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Associated Lead"}),i.jsxs("div",{className:"p-3 bg-blue-50 rounded-md mt-2 space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Xv,{className:"h-4 w-4 text-blue-500"}),i.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Lead ID: ",k.leadInfo.id]})]}),i.jsxs("div",{className:"text-sm text-blue-600",children:["Company: ",k.leadInfo.companyName]}),i.jsxs("div",{className:"text-sm text-blue-600",children:["Contact: ",k.leadInfo.contactName]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Discussion"}),i.jsx("p",{className:"text-sm bg-muted/50 p-3 rounded-md mt-1",children:k.meetingDetails.discussion})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(Se,{variant:"outline",onClick:()=>I(!1),children:"Close"})})]})})]})}function kT({onInstall:e,onDismiss:t}){const[s,a]=v.useState(null),[c,d]=v.useState(!1),[f,p]=v.useState(!1),[g,w]=v.useState(!1),[_,b]=v.useState(!1);v.useEffect(()=>{const P=window.matchMedia("(display-mode: standalone)").matches,j=/iPad|iPhone|iPod/.test(navigator.userAgent);b(P),w(j),p(P);const C=O=>{console.log("PWA install prompt available"),O.preventDefault(),a(O),d(!0)},k=()=>{console.log("PWA was installed"),p(!0),d(!1),a(null),e==null||e()};if(window.addEventListener("beforeinstallprompt",C),window.addEventListener("appinstalled",k),j&&!P){const O=setTimeout(()=>{d(!0)},2e3);return()=>clearTimeout(O)}return()=>{window.removeEventListener("beforeinstallprompt",C),window.removeEventListener("appinstalled",k)}},[e]);const S=async()=>{!s&&!g||s&&(s.prompt(),(await s.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),a(null),d(!1))},T=()=>{d(!1),t==null||t()};return f||!c?null:i.jsxs(tt,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-accent/5",children:[i.jsx(_t,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(bt,{className:"flex items-center space-x-2 text-lg",children:[i.jsx(UN,{className:"h-5 w-5 text-primary"}),i.jsx("span",{children:"Install Fusion Tracker"}),i.jsx(Et,{variant:"secondary",className:"bg-primary text-primary-foreground",children:"Recommended"})]}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:T,children:i.jsx(ff,{className:"h-4 w-4"})})]})}),i.jsxs(nt,{className:"space-y-4",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Install this app on your device for enhanced location tracking capabilities"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(Fd,{className:"h-4 w-4 text-success"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Better Background Tracking"})," - Works when phone is in pocket"]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(co,{className:"h-4 w-4 text-primary"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Improved GPS Accuracy"})," - More precise location updates"]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(Vr,{className:"h-4 w-4 text-info"}),i.jsxs("span",{children:[i.jsx("strong",{children:"App-like Experience"})," - Faster loading and better performance"]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(IN,{className:"h-4 w-4 text-accent"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Offline Support"})," - Basic functionality without internet"]})]})]}),g?i.jsxs("div",{className:"bg-info/10 border border-info/20 rounded-lg p-3",children:[i.jsx("div",{className:"text-sm font-medium text-info mb-2",children:"iOS Installation:"}),i.jsxs("ol",{className:"text-xs text-muted-foreground space-y-1 list-decimal list-inside",children:[i.jsxs("li",{children:["Tap the ",i.jsx("strong",{children:"Share"})," button (square with arrow) in Safari"]}),i.jsxs("li",{children:["Scroll down and tap ",i.jsx("strong",{children:'"Add to Home Screen"'})]}),i.jsxs("li",{children:["Tap ",i.jsx("strong",{children:'"Add"'})," to install the app"]}),i.jsx("li",{children:"Find the app on your home screen and open it"})]})]}):i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(Se,{onClick:S,className:"flex-1",disabled:!s,children:[i.jsx(rw,{className:"h-4 w-4 mr-2"}),"Install App"]}),i.jsx(Se,{variant:"outline",onClick:T,children:"Not Now"})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.jsx("strong",{children:"Note:"})," Installing as a PWA provides native app-like capabilities while maintaining all web features. No app store required."]})]})]})}function MT(){const[e,t]=v.useState(!1),[s,a]=v.useState(!1);return v.useEffect(()=>{const c=window.matchMedia("(display-mode: standalone)").matches,d=/iPad|iPhone|iPod/.test(navigator.userAgent);a(c);const f=g=>{t(!0)},p=()=>{a(!0),t(!1)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",p),d&&!c&&t(!0),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",p)}},[]),{canInstall:e,isInstalled:s}}function mr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ho(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function RT(e,t){const s=mr(e);return isNaN(t)?ho(e,NaN):(t&&s.setDate(s.getDate()+t),s)}const o_=6048e5,LT=864e5,i_=6e4,a_=36e5;let DT={};function Sf(){return DT}function Vc(e,t){var p,g,w,_;const s=Sf(),a=(t==null?void 0:t.weekStartsOn)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((_=(w=s.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??0,c=mr(e),d=c.getDay(),f=(d<a?7:0)+d-a;return c.setDate(c.getDate()-f),c.setHours(0,0,0,0),c}function Qd(e){return Vc(e,{weekStartsOn:1})}function l_(e){const t=mr(e),s=t.getFullYear(),a=ho(e,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const c=Qd(a),d=ho(e,0);d.setFullYear(s,0,4),d.setHours(0,0,0,0);const f=Qd(d);return t.getTime()>=c.getTime()?s+1:t.getTime()>=f.getTime()?s:s-1}function Jd(e){const t=mr(e);return t.setHours(0,0,0,0),t}function Bx(e){const t=mr(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function AT(e,t){const s=Jd(e),a=Jd(t),c=+s-Bx(s),d=+a-Bx(a);return Math.round((c-d)/LT)}function OT(e){const t=l_(e),s=ho(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Qd(s)}function IT(e){return ho(e,Date.now())}function FT(e,t){const s=Jd(e),a=Jd(t);return+s==+a}function zT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $T(e){if(!zT(e)&&typeof e!="number")return!1;const t=mr(e);return!isNaN(Number(t))}function BT(e){const t=mr(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function UT(e){const t=mr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function HT(e){const t=mr(e),s=ho(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const WT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},VT=(e,t,s)=>{let a;const c=WT[e];return typeof c=="string"?a=c:t===1?a=c.one:a=c.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function Pm(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const ZT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qT={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YT={date:Pm({formats:ZT,defaultWidth:"full"}),time:Pm({formats:qT,defaultWidth:"full"}),dateTime:Pm({formats:GT,defaultWidth:"full"})},KT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XT=(e,t,s,a)=>KT[e];function Nc(e){return(t,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let c;if(a==="formatting"&&e.formattingValues){const f=e.defaultFormattingWidth||e.defaultWidth,p=s!=null&&s.width?String(s.width):f;c=e.formattingValues[p]||e.formattingValues[f]}else{const f=e.defaultWidth,p=s!=null&&s.width?String(s.width):e.defaultWidth;c=e.values[p]||e.values[f]}const d=e.argumentCallback?e.argumentCallback(t):t;return c[d]}}const QT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},e2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},t2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},r2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},s2=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},o2={ordinalNumber:s2,era:Nc({values:QT,defaultWidth:"wide"}),quarter:Nc({values:JT,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nc({values:e2,defaultWidth:"wide"}),day:Nc({values:t2,defaultWidth:"wide"}),dayPeriod:Nc({values:n2,defaultWidth:"wide",formattingValues:r2,defaultFormattingWidth:"wide"})};function Sc(e){return(t,s={})=>{const a=s.width,c=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],d=t.match(c);if(!d)return null;const f=d[0],p=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(p)?a2(p,b=>b.test(f)):i2(p,b=>b.test(f));let w;w=e.valueCallback?e.valueCallback(g):g,w=s.valueCallback?s.valueCallback(w):w;const _=t.slice(f.length);return{value:w,rest:_}}}function i2(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function a2(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function l2(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const c=a[0],d=t.match(e.parsePattern);if(!d)return null;let f=e.valueCallback?e.valueCallback(d[0]):d[0];f=s.valueCallback?s.valueCallback(f):f;const p=t.slice(c.length);return{value:f,rest:p}}}const c2=/^(\d+)(th|st|nd|rd)?/i,u2=/\d+/i,d2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},f2={any:[/^b/i,/^(a|c)/i]},h2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m2={any:[/1/i,/2/i,/3/i,/4/i]},p2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},g2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},x2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},w2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_2={ordinalNumber:l2({matchPattern:c2,parsePattern:u2,valueCallback:e=>parseInt(e,10)}),era:Sc({matchPatterns:d2,defaultMatchWidth:"wide",parsePatterns:f2,defaultParseWidth:"any"}),quarter:Sc({matchPatterns:h2,defaultMatchWidth:"wide",parsePatterns:m2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Sc({matchPatterns:p2,defaultMatchWidth:"wide",parsePatterns:g2,defaultParseWidth:"any"}),day:Sc({matchPatterns:v2,defaultMatchWidth:"wide",parsePatterns:x2,defaultParseWidth:"any"}),dayPeriod:Sc({matchPatterns:y2,defaultMatchWidth:"any",parsePatterns:w2,defaultParseWidth:"any"})},b2={code:"en-US",formatDistance:VT,formatLong:YT,formatRelative:XT,localize:o2,match:_2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function N2(e){const t=mr(e);return AT(t,HT(t))+1}function S2(e){const t=mr(e),s=+Qd(t)-+OT(t);return Math.round(s/o_)+1}function c_(e,t){var _,b,S,T;const s=mr(e),a=s.getFullYear(),c=Sf(),d=(t==null?void 0:t.firstWeekContainsDate)??((b=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??c.firstWeekContainsDate??((T=(S=c.locale)==null?void 0:S.options)==null?void 0:T.firstWeekContainsDate)??1,f=ho(e,0);f.setFullYear(a+1,0,d),f.setHours(0,0,0,0);const p=Vc(f,t),g=ho(e,0);g.setFullYear(a,0,d),g.setHours(0,0,0,0);const w=Vc(g,t);return s.getTime()>=p.getTime()?a+1:s.getTime()>=w.getTime()?a:a-1}function j2(e,t){var p,g,w,_;const s=Sf(),a=(t==null?void 0:t.firstWeekContainsDate)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(w=s.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??1,c=c_(e,t),d=ho(e,0);return d.setFullYear(c,0,a),d.setHours(0,0,0,0),Vc(d,t)}function E2(e,t){const s=mr(e),a=+Vc(s,t)-+j2(s,t);return Math.round(a/o_)+1}function Bt(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const Yo={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return Bt(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):Bt(s+1,2)},d(e,t){return Bt(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return Bt(e.getHours()%12||12,t.length)},H(e,t){return Bt(e.getHours(),t.length)},m(e,t){return Bt(e.getMinutes(),t.length)},s(e,t){return Bt(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),c=Math.trunc(a*Math.pow(10,s-3));return Bt(c,t.length)}},el={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ux={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),c=a>0?a:1-a;return s.ordinalNumber(c,{unit:"year"})}return Yo.y(e,t)},Y:function(e,t,s,a){const c=c_(e,a),d=c>0?c:1-c;if(t==="YY"){const f=d%100;return Bt(f,2)}return t==="Yo"?s.ordinalNumber(d,{unit:"year"}):Bt(d,t.length)},R:function(e,t){const s=l_(e);return Bt(s,t.length)},u:function(e,t){const s=e.getFullYear();return Bt(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Bt(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Bt(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return Yo.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Bt(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const c=E2(e,a);return t==="wo"?s.ordinalNumber(c,{unit:"week"}):Bt(c,t.length)},I:function(e,t,s){const a=S2(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):Bt(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Yo.d(e,t)},D:function(e,t,s){const a=N2(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):Bt(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(d);case"ee":return Bt(d,2);case"eo":return s.ordinalNumber(d,{unit:"day"});case"eee":return s.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(c,{width:"short",context:"formatting"});case"eeee":default:return s.day(c,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(d);case"cc":return Bt(d,t.length);case"co":return s.ordinalNumber(d,{unit:"day"});case"ccc":return s.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(c,{width:"narrow",context:"standalone"});case"cccccc":return s.day(c,{width:"short",context:"standalone"});case"cccc":default:return s.day(c,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),c=a===0?7:a;switch(t){case"i":return String(c);case"ii":return Bt(c,t.length);case"io":return s.ordinalNumber(c,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const c=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let c;switch(a===12?c=el.noon:a===0?c=el.midnight:c=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let c;switch(a>=17?c=el.evening:a>=12?c=el.afternoon:a>=4?c=el.morning:c=el.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Yo.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Yo.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):Bt(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):Bt(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Yo.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Yo.s(e,t)},S:function(e,t){return Yo.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Wx(a);case"XXXX":case"XX":return Hi(a);case"XXXXX":case"XXX":default:return Hi(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return Wx(a);case"xxxx":case"xx":return Hi(a);case"xxxxx":case"xxx":default:return Hi(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Hx(a,":");case"OOOO":default:return"GMT"+Hi(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Hx(a,":");case"zzzz":default:return"GMT"+Hi(a,":")}},t:function(e,t,s){const a=Math.trunc(e.getTime()/1e3);return Bt(a,t.length)},T:function(e,t,s){const a=e.getTime();return Bt(a,t.length)}};function Hx(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),c=Math.trunc(a/60),d=a%60;return d===0?s+String(c):s+String(c)+t+Bt(d,2)}function Wx(e,t){return e%60===0?(e>0?"-":"+")+Bt(Math.abs(e)/60,2):Hi(e,t)}function Hi(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),c=Bt(Math.trunc(a/60),2),d=Bt(a%60,2);return s+c+t+d}const Vx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},u_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},C2=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],c=s[2];if(!c)return Vx(e,t);let d;switch(a){case"P":d=t.dateTime({width:"short"});break;case"PP":d=t.dateTime({width:"medium"});break;case"PPP":d=t.dateTime({width:"long"});break;case"PPPP":default:d=t.dateTime({width:"full"});break}return d.replace("{{date}}",Vx(a,t)).replace("{{time}}",u_(c,t))},P2={p:u_,P:C2},T2=/^D+$/,k2=/^Y+$/,M2=["D","DD","YY","YYYY"];function R2(e){return T2.test(e)}function L2(e){return k2.test(e)}function D2(e,t,s){const a=A2(e,t,s);if(console.warn(a),M2.includes(e))throw new RangeError(a)}function A2(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const O2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,I2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F2=/^'([^]*?)'?$/,z2=/''/g,$2=/[a-zA-Z]/;function Jt(e,t,s){var _,b,S,T;const a=Sf(),c=a.locale??b2,d=a.firstWeekContainsDate??((b=(_=a.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,f=a.weekStartsOn??((T=(S=a.locale)==null?void 0:S.options)==null?void 0:T.weekStartsOn)??0,p=mr(e);if(!$T(p))throw new RangeError("Invalid time value");let g=t.match(I2).map(P=>{const j=P[0];if(j==="p"||j==="P"){const C=P2[j];return C(P,c.formatLong)}return P}).join("").match(O2).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const j=P[0];if(j==="'")return{isToken:!1,value:B2(P)};if(Ux[j])return{isToken:!0,value:P};if(j.match($2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:P}});c.localize.preprocessor&&(g=c.localize.preprocessor(p,g));const w={firstWeekContainsDate:d,weekStartsOn:f,locale:c};return g.map(P=>{if(!P.isToken)return P.value;const j=P.value;(L2(j)||R2(j))&&D2(j,t,String(e));const C=Ux[j[0]];return C(p,j,c.localize,w)}).join("")}function B2(e){const t=e.match(F2);return t?t[1].replace(z2,"'"):e}function U2(e){return FT(e,IT(e))}function Zx(e,t){return RT(e,-t)}function H2(e,t){const a=q2(e);let c;if(a.date){const g=G2(a.date,2);c=Y2(g.restDateString,g.year)}if(!c||isNaN(c.getTime()))return new Date(NaN);const d=c.getTime();let f=0,p;if(a.time&&(f=K2(a.time),isNaN(f)))return new Date(NaN);if(a.timezone){if(p=X2(a.timezone),isNaN(p))return new Date(NaN)}else{const g=new Date(d+f),w=new Date(0);return w.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),w.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),w}return new Date(d+f+p)}const Ld={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},W2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,V2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Z2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function q2(e){const t={},s=e.split(Ld.dateTimeDelimiter);let a;if(s.length>2)return t;if(/:/.test(s[0])?a=s[0]:(t.date=s[0],a=s[1],Ld.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ld.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const c=Ld.timezone.exec(a);c?(t.time=a.replace(c[1],""),t.timezone=c[1]):t.time=a}return t}function G2(e,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(s);if(!a)return{year:NaN,restDateString:""};const c=a[1]?parseInt(a[1]):null,d=a[2]?parseInt(a[2]):null;return{year:d===null?c:d*100,restDateString:e.slice((a[1]||a[2]).length)}}function Y2(e,t){if(t===null)return new Date(NaN);const s=e.match(W2);if(!s)return new Date(NaN);const a=!!s[4],c=jc(s[1]),d=jc(s[2])-1,f=jc(s[3]),p=jc(s[4]),g=jc(s[5])-1;if(a)return nk(t,p,g)?Q2(t,p,g):new Date(NaN);{const w=new Date(0);return!ek(t,d,f)||!tk(t,c)?new Date(NaN):(w.setUTCFullYear(t,d,Math.max(c,f)),w)}}function jc(e){return e?parseInt(e):1}function K2(e){const t=e.match(V2);if(!t)return NaN;const s=Tm(t[1]),a=Tm(t[2]),c=Tm(t[3]);return rk(s,a,c)?s*a_+a*i_+c*1e3:NaN}function Tm(e){return e&&parseFloat(e.replace(",","."))||0}function X2(e){if(e==="Z")return 0;const t=e.match(Z2);if(!t)return 0;const s=t[1]==="+"?-1:1,a=parseInt(t[2]),c=t[3]&&parseInt(t[3])||0;return sk(a,c)?s*(a*a_+c*i_):NaN}function Q2(e,t,s){const a=new Date(0);a.setUTCFullYear(e,0,4);const c=a.getUTCDay()||7,d=(t-1)*7+s+1-c;return a.setUTCDate(a.getUTCDate()+d),a}const J2=[31,null,31,30,31,30,31,31,30,31,30,31];function d_(e){return e%400===0||e%4===0&&e%100!==0}function ek(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(J2[t]||(d_(e)?29:28))}function tk(e,t){return t>=1&&t<=(d_(e)?366:365)}function nk(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function rk(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function sk(e,t){return t>=0&&t<=59}function f_({userId:e,onStartMeeting:t,startedMeetingMap:s,onEndMeetingFromFollowUp:a,onMeetingsFetched:c,refreshTrigger:d,hasActiveMeeting:f=!1}){const[p,g]=v.useState([]),[w,_]=v.useState(!0),[b,S]=v.useState(null),[T,P]=v.useState(null),{toast:j}=_l();v.useEffect(()=>{if(s&&Object.keys(s).length>0){const[F]=Object.keys(s);P(F||null)}else f||P(null)},[s,f]),v.useEffect(()=>{C();const F=setInterval(C,6e4);return()=>clearInterval(F)},[e]),v.useEffect(()=>{d!==void 0&&d>0&&(console.log(" Refresh trigger changed, fetching meetings and clearing local state"),C(),P(null))},[d]);const C=async()=>{if(!e){S("User ID is required"),_(!1);return}try{S(null),console.log("Fetching meetings for user:",e);const ce=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${e}`,q=await fetch(ce);if(!q.ok)throw new Error(`Failed to fetch meetings: ${q.status}`);const ne=await q.json();console.log("All meetings fetched:",ne.length);const he=ne.filter(K=>{const J=K.followupDate||K.date;if(!J)return!1;try{const ee=H2(J);return U2(ee)&&K.status==="Approved"}catch{return console.warn("Invalid date format for meeting:",K._id),!1}});console.log("Today's approved meetings:",he.length),he.forEach(K=>{console.log(` Meeting ${K.companyName}: status="${K.meetingStatus}"`)});const Pe=he.filter(K=>O(K));Pe.length>0?(console.log(" Found active meetings from API after refresh:",Pe.map(K=>({id:K._id,company:K.companyName,status:K.meetingStatus}))),P(Pe[0]._id)):console.log(" No active meetings found in API. Checking startedMeetingMap..."),g(he),c&&c(he)}catch(F){console.error("Error fetching meetings:",F),S(F instanceof Error?F.message:"Failed to fetch meetings")}finally{_(!1)}};console.log("Todays meeting");const k=F=>F.meetingStatus==="complete"||F.meetingStatus==="Completed"||F.meetingStatus==="COMPLETED",O=F=>F.meetingStatus==="In Progress"||F.meetingStatus==="IN_PROGRESS"||F.meetingStatus==="Started"||F.meetingStatus==="meeting on-going",M=f||!!T||s&&Object.keys(s).length>0||p.some(F=>O(F)),I=F=>{if(console.log(" Today's Meeting: Attempting to start meeting:",F.companyName),console.log(" Has active meeting?",f),console.log(" Local active followUpId:",T),M){console.log(" BLOCKED: Cannot start - active meeting exists"),j({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting, starting and marking as local active..."),P(F._id),t(F)},$=F=>{switch(F){case"Approved":return"bg-success text-success-foreground";case"Pending":return"bg-warning text-warning-foreground";case"Rejected":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},Z=F=>{switch(F){case"Call":return i.jsx(ai,{className:"h-4 w-4"});case"Email":return i.jsx(ii,{className:"h-4 w-4"});case"Meeting":return i.jsx(Zr,{className:"h-4 w-4"});default:return i.jsx(fn,{className:"h-4 w-4"})}};return w?i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsxs(bt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Today's Approved Meetings"}),i.jsxs(Et,{variant:"secondary",children:[i.jsx(Fc,{className:"h-3 w-3 animate-spin mr-1"}),"Loading..."]})]})}),i.jsx(nt,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Fc,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Fetching today's approved meetings..."})]})})]}):b?i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsxs(bt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Today's Approved Meetings"}),i.jsx(Et,{variant:"destructive",children:"Error"})]})}),i.jsx(nt,{children:i.jsxs("div",{className:"text-center py-8",children:[i.jsx(fn,{className:"h-8 w-8 mx-auto text-destructive mb-2"}),i.jsx("p",{className:"text-sm text-destructive",children:b}),i.jsx(Se,{variant:"outline",size:"sm",onClick:C,className:"mt-4",children:"Retry"})]})})]}):i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsxs(bt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Today's Approved Meetings"}),i.jsxs(Et,{variant:"secondary",children:[p.length," ",p.length===1?"meeting":"meetings"]})]})}),i.jsx(nt,{className:"p-0",children:p.length===0?i.jsxs("div",{className:"text-center py-8 px-4",children:[i.jsx(Zr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),i.jsx("h4",{className:"font-medium mb-1",children:"No approved meetings for today"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Only approved meetings are shown here."})]}):i.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:p.map(F=>{s&&s[F._id];const ie=T===F._id,q=O(F)||ie;return i.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[Z(F.type),i.jsx("span",{className:"font-medium",children:F.type})]}),i.jsx(Et,{className:$(F.status),variant:"secondary",children:F.status}),F.meetingTime&&i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx(jn,{className:"h-3 w-3"}),F.meetingTime]})]}),i.jsxs("div",{className:"space-y-1",children:[F.companyName&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(_p,{className:"h-3 w-3"}),i.jsx("span",{className:"font-medium",children:F.companyName})]}),F.customerName&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(df,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("span",{className:"text-muted-foreground",children:F.customerName}),F.customerDesignation&&i.jsxs("span",{className:"text-muted-foreground",children:[" ",F.customerDesignation]})]}),F.customerMobile&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(ai,{className:"h-3 w-3"}),F.customerMobile]}),F.customerEmail&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(ii,{className:"h-3 w-3"}),F.customerEmail]}),F.remark&&i.jsxs("div",{className:"text-sm text-muted-foreground mt-2 p-2 bg-muted/50 rounded",children:[i.jsx("span",{className:"font-medium",children:"Note: "}),F.remark]})]})]}),F.meetingStatus==="Incomplete"||!1?i.jsxs(Se,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 border-orange-500 text-orange-600",title:"Meeting marked as incomplete",children:[i.jsx(fn,{className:"h-4 w-4 mr-2"}),"Incomplete"]}):k(F)?i.jsxs(Se,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0",children:[i.jsx(Vr,{className:"h-4 w-4 mr-2"}),"Complete"]}):q?i.jsxs(Se,{size:"sm",variant:"destructive",onClick:()=>{console.log(" End Meeting clicked for:",F._id),console.log(" startedMeetingMap:",s);const he=s==null?void 0:s[F._id];a&&he?(console.log(" Calling onEndMeetingFromFollowUp with:",F._id,he),a(F._id,he)):(console.warn(" Cannot end meeting - missing handler or meetingId:",{hasHandler:!!a,meetingId:he,followUpId:F._id}),a&&a(F._id,""))},className:"flex-shrink-0",children:[i.jsx(jn,{className:"h-4 w-4 mr-2"}),"End Meeting"]}):M?i.jsxs(Se,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 opacity-50 cursor-not-allowed",title:"Complete your current meeting first",children:[i.jsx(Yv,{className:"h-4 w-4 mr-2"}),"Meeting Active"]}):i.jsxs(Se,{size:"sm",onClick:()=>I(F),className:"flex-shrink-0",children:[i.jsx(Yv,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})},F._id)})})})]})}var ok="Label",h_=v.forwardRef((e,t)=>i.jsx(dt.label,{...e,ref:t,onMouseDown:s=>{var c;s.target.closest("button, input, select, textarea")||((c=e.onMouseDown)==null||c.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));h_.displayName=ok;var m_=h_;const ik=Xc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=v.forwardRef(({className:e,...t},s)=>i.jsx(m_,{ref:s,className:it(ik(),e),...t}));Rt.displayName=m_.displayName;const ca=v.forwardRef(({className:e,...t},s)=>i.jsx("textarea",{className:it("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));ca.displayName="Textarea";function tp(e,[t,s]){return Math.min(s,Math.max(t,e))}var ak=v.createContext(void 0);function p_(e){const t=v.useContext(ak);return e||t||"ltr"}var lk="DismissableLayer",np="dismissableLayer.update",ck="dismissableLayer.pointerDownOutside",uk="dismissableLayer.focusOutside",qx,g_=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),v_=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(g_),[_,b]=v.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=v.useState({}),P=kt(t,F=>b(F)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),k=j.indexOf(C),O=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,I=O>=k,$=hk(F=>{const ie=F.target,ce=[...w.branches].some(q=>q.contains(ie));!I||ce||(c==null||c(F),f==null||f(F),F.defaultPrevented||p==null||p())},S),Z=mk(F=>{const ie=F.target;[...w.branches].some(q=>q.contains(ie))||(d==null||d(F),f==null||f(F),F.defaultPrevented||p==null||p())},S);return vp(F=>{O===w.layers.size-1&&(a==null||a(F),!F.defaultPrevented&&p&&(F.preventDefault(),p()))},S),v.useEffect(()=>{if(_)return s&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(qx=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),Gx(),()=>{s&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=qx)}},[_,S,s,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),Gx())},[_,w]),v.useEffect(()=>{const F=()=>T({});return document.addEventListener(np,F),()=>document.removeEventListener(np,F)},[]),i.jsx(dt.div,{...g,ref:P,style:{pointerEvents:M?I?"auto":"none":void 0,...e.style},onFocusCapture:rt(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:rt(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:rt(e.onPointerDownCapture,$.onPointerDownCapture)})});v_.displayName=lk;var dk="DismissableLayerBranch",fk=v.forwardRef((e,t)=>{const s=v.useContext(g_),a=v.useRef(null),c=kt(t,a);return v.useEffect(()=>{const d=a.current;if(d)return s.branches.add(d),()=>{s.branches.delete(d)}},[s.branches]),i.jsx(dt.div,{...e,ref:c})});fk.displayName=dk;function hk(e,t=globalThis==null?void 0:globalThis.document){const s=tn(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){x_(ck,s,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,s]),{onPointerDownCapture:()=>a.current=!0}}function mk(e,t=globalThis==null?void 0:globalThis.document){const s=tn(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&x_(uk,s,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Gx(){const e=new CustomEvent(np);document.dispatchEvent(e)}function x_(e,t,s,{discrete:a}){const c=s.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&c.addEventListener(e,t,{once:!0}),a?af(c,d):c.dispatchEvent(d)}var km=0;function pk(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Yx()),document.body.insertAdjacentElement("beforeend",e[1]??Yx()),km++,()=>{km===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),km--}},[])}function Yx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var gk="Portal",y_=v.forwardRef((e,t)=>{var p;const{container:s,...a}=e,[c,d]=v.useState(!1);ln(()=>d(!0),[]);const f=s||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?of.createPortal(i.jsx(dt.div,{...a,ref:t}),f):null});y_.displayName=gk;function vk(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var w_=E0(),Mm=function(){},jf=v.forwardRef(function(e,t){var s=v.useRef(null),a=v.useState({onScrollCapture:Mm,onWheelCapture:Mm,onTouchMoveCapture:Mm}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,g=e.className,w=e.removeScrollBar,_=e.enabled,b=e.shards,S=e.sideCar,T=e.noIsolation,P=e.inert,j=e.allowPinchZoom,C=e.as,k=C===void 0?"div":C,O=e.gapMode,M=Up(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=S,$=j0([s,t]),Z=Wn(Wn({},M),c);return v.createElement(v.Fragment,null,_&&v.createElement(I,{sideCar:w_,removeScrollBar:w,shards:b,noIsolation:T,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:s,gapMode:O}),f?v.cloneElement(v.Children.only(p),Wn(Wn({},Z),{ref:$})):v.createElement(k,Wn({},Z,{className:g,ref:$}),p))});jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jf.classNames={fullWidth:Ic,zeroRight:Oc};var rp=!1;if(typeof window<"u")try{var Dd=Object.defineProperty({},"passive",{get:function(){return rp=!0,!0}});window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{rp=!1}var tl=rp?{passive:!1}:!1,xk=function(e){return e.tagName==="TEXTAREA"},__=function(e,t){var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!xk(e)&&s[t]==="visible")},yk=function(e){return __(e,"overflowY")},wk=function(e){return __(e,"overflowX")},Kx=function(e,t){var s=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=b_(e,a);if(c){var d=N_(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},_k=function(e){var t=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[t,s,a]},bk=function(e){var t=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[t,s,a]},b_=function(e,t){return e==="v"?yk(t):wk(t)},N_=function(e,t){return e==="v"?_k(t):bk(t)},Nk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Sk=function(e,t,s,a,c){var d=Nk(e,window.getComputedStyle(t).direction),f=d*a,p=s.target,g=t.contains(p),w=!1,_=f>0,b=0,S=0;do{var T=N_(e,p),P=T[0],j=T[1],C=T[2],k=j-C-d*P;(P||k)&&b_(e,p)&&(b+=k,S+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!g&&p!==document.body||g&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(S)<1)&&(w=!0),w},Ad=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xx=function(e){return[e.deltaX,e.deltaY]},Qx=function(e){return e&&"current"in e?e.current:e},jk=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ek=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ck=0,nl=[];function Pk(e){var t=v.useRef([]),s=v.useRef([0,0]),a=v.useRef(),c=v.useState(Ck++)[0],d=v.useState(Hp)[0],f=v.useRef(e);v.useEffect(function(){f.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=S0([e.lockRef.current],(e.shards||[]).map(Qx),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=v.useCallback(function(j,C){if("touches"in j&&j.touches.length===2)return!f.current.allowPinchZoom;var k=Ad(j),O=s.current,M="deltaX"in j?j.deltaX:O[0]-k[0],I="deltaY"in j?j.deltaY:O[1]-k[1],$,Z=j.target,F=Math.abs(M)>Math.abs(I)?"h":"v";if("touches"in j&&F==="h"&&Z.type==="range")return!1;var ie=Kx(F,Z);if(!ie)return!0;if(ie?$=F:($=F==="v"?"h":"v",ie=Kx(F,Z)),!ie)return!1;if(!a.current&&"changedTouches"in j&&(M||I)&&(a.current=$),!$)return!0;var ce=a.current||$;return Sk(ce,C,j,ce==="h"?M:I)},[]),g=v.useCallback(function(j){var C=j;if(!(!nl.length||nl[nl.length-1]!==d)){var k="deltaY"in C?Xx(C):Ad(C),O=t.current.filter(function($){return $.name===C.type&&($.target===C.target||C.target===$.shadowParent)&&jk($.delta,k)})[0];if(O&&O.should){C.cancelable&&C.preventDefault();return}if(!O){var M=(f.current.shards||[]).map(Qx).filter(Boolean).filter(function($){return $.contains(C.target)}),I=M.length>0?p(C,M[0]):!f.current.noIsolation;I&&C.cancelable&&C.preventDefault()}}},[]),w=v.useCallback(function(j,C,k,O){var M={name:j,delta:C,target:k,should:O,shadowParent:Tk(k)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(I){return I!==M})},1)},[]),_=v.useCallback(function(j){s.current=Ad(j),a.current=void 0},[]),b=v.useCallback(function(j){w(j.type,Xx(j),j.target,p(j,e.lockRef.current))},[]),S=v.useCallback(function(j){w(j.type,Ad(j),j.target,p(j,e.lockRef.current))},[]);v.useEffect(function(){return nl.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:S}),document.addEventListener("wheel",g,tl),document.addEventListener("touchmove",g,tl),document.addEventListener("touchstart",_,tl),function(){nl=nl.filter(function(j){return j!==d}),document.removeEventListener("wheel",g,tl),document.removeEventListener("touchmove",g,tl),document.removeEventListener("touchstart",_,tl)}},[]);var T=e.removeScrollBar,P=e.inert;return v.createElement(v.Fragment,null,P?v.createElement(d,{styles:Ek(c)}):null,T?v.createElement(k0,{gapMode:e.gapMode}):null)}function Tk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kk=P0(w_,Pk);var S_=v.forwardRef(function(e,t){return v.createElement(jf,Wn({},e,{ref:t,sideCar:kk}))});S_.classNames=jf.classNames;var Mk=[" ","Enter","ArrowUp","ArrowDown"],Rk=[" ","Enter"],nu="Select",[Ef,Cf,Lk]=Ey(nu),[Cl,TL]=Yc(nu,[Lk,gf]),Pf=gf(),[Dk,hi]=Cl(nu),[Ak,Ok]=Cl(nu),j_=e=>{const{__scopeSelect:t,children:s,open:a,defaultOpen:c,onOpenChange:d,value:f,defaultValue:p,onValueChange:g,dir:w,name:_,autoComplete:b,disabled:S,required:T}=e,P=Pf(t),[j,C]=v.useState(null),[k,O]=v.useState(null),[M,I]=v.useState(!1),$=p_(w),[Z=!1,F]=Hd({prop:a,defaultProp:c,onChange:d}),[ie,ce]=Hd({prop:f,defaultProp:p,onChange:g}),q=v.useRef(null),ne=j?!!j.closest("form"):!0,[he,Pe]=v.useState(new Set),K=Array.from(he).map(J=>J.props.value).join(";");return i.jsx(_E,{...P,children:i.jsxs(Dk,{required:T,scope:t,trigger:j,onTriggerChange:C,valueNode:k,onValueNodeChange:O,valueNodeHasChildren:M,onValueNodeHasChildrenChange:I,contentId:il(),value:ie,onValueChange:ce,open:Z,onOpenChange:F,dir:$,triggerPointerDownPosRef:q,disabled:S,children:[i.jsx(Ef.Provider,{scope:t,children:i.jsx(Ak,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(J=>{Pe(ee=>new Set(ee).add(J))},[]),onNativeOptionRemove:v.useCallback(J=>{Pe(ee=>{const pe=new Set(ee);return pe.delete(J),pe})},[]),children:s})}),ne?i.jsxs(K_,{"aria-hidden":!0,required:T,tabIndex:-1,name:_,autoComplete:b,value:ie,onChange:J=>ce(J.target.value),disabled:S,children:[ie===void 0?i.jsx("option",{value:""}):null,Array.from(he)]},K):null]})})};j_.displayName=nu;var E_="SelectTrigger",C_=v.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:a=!1,...c}=e,d=Pf(s),f=hi(E_,s),p=f.disabled||a,g=kt(t,f.onTriggerChange),w=Cf(s),[_,b,S]=X_(P=>{const j=w().filter(O=>!O.disabled),C=j.find(O=>O.value===f.value),k=Q_(j,P,C);k!==void 0&&f.onValueChange(k.value)}),T=()=>{p||(f.onOpenChange(!0),S())};return i.jsx(Uw,{asChild:!0,...d,children:i.jsx(dt.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":Y_(f.value)?"":void 0,...c,ref:g,onClick:rt(c.onClick,P=>{P.currentTarget.focus()}),onPointerDown:rt(c.onPointerDown,P=>{const j=P.target;j.hasPointerCapture(P.pointerId)&&j.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&(T(),f.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)},P.preventDefault())}),onKeyDown:rt(c.onKeyDown,P=>{const j=_.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&b(P.key),!(j&&P.key===" ")&&Mk.includes(P.key)&&(T(),P.preventDefault())})})})});C_.displayName=E_;var P_="SelectValue",T_=v.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:c,children:d,placeholder:f="",...p}=e,g=hi(P_,s),{onValueNodeHasChildrenChange:w}=g,_=d!==void 0,b=kt(t,g.onValueNodeChange);return ln(()=>{w(_)},[w,_]),i.jsx(dt.span,{...p,ref:b,style:{pointerEvents:"none"},children:Y_(g.value)?i.jsx(i.Fragment,{children:f}):d})});T_.displayName=P_;var Ik="SelectIcon",k_=v.forwardRef((e,t)=>{const{__scopeSelect:s,children:a,...c}=e;return i.jsx(dt.span,{"aria-hidden":!0,...c,ref:t,children:a||""})});k_.displayName=Ik;var Fk="SelectPortal",M_=e=>i.jsx(y_,{asChild:!0,...e});M_.displayName=Fk;var oa="SelectContent",R_=v.forwardRef((e,t)=>{const s=hi(oa,e.__scopeSelect),[a,c]=v.useState();if(ln(()=>{c(new DocumentFragment)},[]),!s.open){const d=a;return d?aa.createPortal(i.jsx(L_,{scope:e.__scopeSelect,children:i.jsx(Ef.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),d):null}return i.jsx(D_,{...e,ref:t})});R_.displayName=oa;var lo=10,[L_,mi]=Cl(oa),zk="SelectContentImpl",D_=v.forwardRef((e,t)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,side:p,sideOffset:g,align:w,alignOffset:_,arrowPadding:b,collisionBoundary:S,collisionPadding:T,sticky:P,hideWhenDetached:j,avoidCollisions:C,...k}=e,O=hi(oa,s),[M,I]=v.useState(null),[$,Z]=v.useState(null),F=kt(t,A=>I(A)),[ie,ce]=v.useState(null),[q,ne]=v.useState(null),he=Cf(s),[Pe,K]=v.useState(!1),J=v.useRef(!1);v.useEffect(()=>{if(M)return O0(M)},[M]),pk();const ee=v.useCallback(A=>{const[V,...te]=he().map(Ae=>Ae.ref.current),[ge]=te.slice(-1),Le=document.activeElement;for(const Ae of A)if(Ae===Le||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===V&&$&&($.scrollTop=0),Ae===ge&&$&&($.scrollTop=$.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Le))return},[he,$]),pe=v.useCallback(()=>ee([ie,M]),[ee,ie,M]);v.useEffect(()=>{Pe&&pe()},[Pe,pe]);const{onOpenChange:U,triggerPointerDownPosRef:de}=O;v.useEffect(()=>{if(M){let A={x:0,y:0};const V=ge=>{var Le,Ae;A={x:Math.abs(Math.round(ge.pageX)-(((Le=de.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((Ae=de.current)==null?void 0:Ae.y)??0))}},te=ge=>{A.x<=10&&A.y<=10?ge.preventDefault():M.contains(ge.target)||U(!1),document.removeEventListener("pointermove",V),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",V),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",te,{capture:!0})}}},[M,U,de]),v.useEffect(()=>{const A=()=>U(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[U]);const[ae,z]=X_(A=>{const V=he().filter(Le=>!Le.disabled),te=V.find(Le=>Le.ref.current===document.activeElement),ge=Q_(V,A,te);ge&&setTimeout(()=>ge.ref.current.focus())}),X=v.useCallback((A,V,te)=>{const ge=!J.current&&!te;(O.value!==void 0&&O.value===V||ge)&&(ce(A),ge&&(J.current=!0))},[O.value]),ye=v.useCallback(()=>M==null?void 0:M.focus(),[M]),Ee=v.useCallback((A,V,te)=>{const ge=!J.current&&!te;(O.value!==void 0&&O.value===V||ge)&&ne(A)},[O.value]),we=a==="popper"?sp:A_,Y=we===sp?{side:p,sideOffset:g,align:w,alignOffset:_,arrowPadding:b,collisionBoundary:S,collisionPadding:T,sticky:P,hideWhenDetached:j,avoidCollisions:C}:{};return i.jsx(L_,{scope:s,content:M,viewport:$,onViewportChange:Z,itemRefCallback:X,selectedItem:ie,onItemLeave:ye,itemTextRefCallback:Ee,focusSelectedItem:pe,selectedItemText:q,position:a,isPositioned:Pe,searchRef:ae,children:i.jsx(S_,{as:ta,allowPinchZoom:!0,children:i.jsx(Bp,{asChild:!0,trapped:O.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:rt(c,A=>{var V;(V=O.trigger)==null||V.focus({preventScroll:!0}),A.preventDefault()}),children:i.jsx(v_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>O.onOpenChange(!1),children:i.jsx(we,{role:"listbox",id:O.contentId,"data-state":O.open?"open":"closed",dir:O.dir,onContextMenu:A=>A.preventDefault(),...k,...Y,onPlaced:()=>K(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:rt(k.onKeyDown,A=>{const V=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!V&&A.key.length===1&&z(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let ge=he().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(A.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const Le=A.target,Ae=ge.indexOf(Le);ge=ge.slice(Ae+1)}setTimeout(()=>ee(ge)),A.preventDefault()}})})})})})})});D_.displayName=zk;var $k="SelectItemAlignedPosition",A_=v.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:a,...c}=e,d=hi(oa,s),f=mi(oa,s),[p,g]=v.useState(null),[w,_]=v.useState(null),b=kt(t,F=>_(F)),S=Cf(s),T=v.useRef(!1),P=v.useRef(!0),{viewport:j,selectedItem:C,selectedItemText:k,focusSelectedItem:O}=f,M=v.useCallback(()=>{if(d.trigger&&d.valueNode&&p&&w&&j&&C&&k){const F=d.trigger.getBoundingClientRect(),ie=w.getBoundingClientRect(),ce=d.valueNode.getBoundingClientRect(),q=k.getBoundingClientRect();if(d.dir!=="rtl"){const Le=q.left-ie.left,Ae=ce.left-Le,Ge=F.left-Ae,gt=F.width+Ge,Ft=Math.max(gt,ie.width),ht=window.innerWidth-lo,It=tp(Ae,[lo,ht-Ft]);p.style.minWidth=gt+"px",p.style.left=It+"px"}else{const Le=ie.right-q.right,Ae=window.innerWidth-ce.right-Le,Ge=window.innerWidth-F.right-Ae,gt=F.width+Ge,Ft=Math.max(gt,ie.width),ht=window.innerWidth-lo,It=tp(Ae,[lo,ht-Ft]);p.style.minWidth=gt+"px",p.style.right=It+"px"}const ne=S(),he=window.innerHeight-lo*2,Pe=j.scrollHeight,K=window.getComputedStyle(w),J=parseInt(K.borderTopWidth,10),ee=parseInt(K.paddingTop,10),pe=parseInt(K.borderBottomWidth,10),U=parseInt(K.paddingBottom,10),de=J+ee+Pe+U+pe,ae=Math.min(C.offsetHeight*5,de),z=window.getComputedStyle(j),X=parseInt(z.paddingTop,10),ye=parseInt(z.paddingBottom,10),Ee=F.top+F.height/2-lo,we=he-Ee,Y=C.offsetHeight/2,A=C.offsetTop+Y,V=J+ee+A,te=de-V;if(V<=Ee){const Le=C===ne[ne.length-1].ref.current;p.style.bottom="0px";const Ae=w.clientHeight-j.offsetTop-j.offsetHeight,Ge=Math.max(we,Y+(Le?ye:0)+Ae+pe),gt=V+Ge;p.style.height=gt+"px"}else{const Le=C===ne[0].ref.current;p.style.top="0px";const Ge=Math.max(Ee,J+j.offsetTop+(Le?X:0)+Y)+te;p.style.height=Ge+"px",j.scrollTop=V-Ee+j.offsetTop}p.style.margin=`${lo}px 0`,p.style.minHeight=ae+"px",p.style.maxHeight=he+"px",a==null||a(),requestAnimationFrame(()=>T.current=!0)}},[S,d.trigger,d.valueNode,p,w,j,C,k,d.dir,a]);ln(()=>M(),[M]);const[I,$]=v.useState();ln(()=>{w&&$(window.getComputedStyle(w).zIndex)},[w]);const Z=v.useCallback(F=>{F&&P.current===!0&&(M(),O==null||O(),P.current=!1)},[M,O]);return i.jsx(Uk,{scope:s,contentWrapper:p,shouldExpandOnScrollRef:T,onScrollButtonChange:Z,children:i.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:i.jsx(dt.div,{...c,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});A_.displayName=$k;var Bk="SelectPopperPosition",sp=v.forwardRef((e,t)=>{const{__scopeSelect:s,align:a="start",collisionPadding:c=lo,...d}=e,f=Pf(s);return i.jsx(Hw,{...f,...d,ref:t,align:a,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sp.displayName=Bk;var[Uk,Gp]=Cl(oa,{}),op="SelectViewport",O_=v.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:a,...c}=e,d=mi(op,s),f=Gp(op,s),p=kt(t,d.onViewportChange),g=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),i.jsx(Ef.Slot,{scope:s,children:i.jsx(dt.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:p,style:{position:"relative",flex:1,overflow:"auto",...c.style},onScroll:rt(c.onScroll,w=>{const _=w.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:S}=f;if(S!=null&&S.current&&b){const T=Math.abs(g.current-_.scrollTop);if(T>0){const P=window.innerHeight-lo*2,j=parseFloat(b.style.minHeight),C=parseFloat(b.style.height),k=Math.max(j,C);if(k<P){const O=k+T,M=Math.min(P,O),I=O-M;b.style.height=M+"px",b.style.bottom==="0px"&&(_.scrollTop=I>0?I:0,b.style.justifyContent="flex-end")}}}g.current=_.scrollTop})})})]})});O_.displayName=op;var I_="SelectGroup",[Hk,Wk]=Cl(I_),Vk=v.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,c=il();return i.jsx(Hk,{scope:s,id:c,children:i.jsx(dt.div,{role:"group","aria-labelledby":c,...a,ref:t})})});Vk.displayName=I_;var F_="SelectLabel",z_=v.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,c=Wk(F_,s);return i.jsx(dt.div,{id:c.id,...a,ref:t})});z_.displayName=F_;var ef="SelectItem",[Zk,$_]=Cl(ef),B_=v.forwardRef((e,t)=>{const{__scopeSelect:s,value:a,disabled:c=!1,textValue:d,...f}=e,p=hi(ef,s),g=mi(ef,s),w=p.value===a,[_,b]=v.useState(d??""),[S,T]=v.useState(!1),P=kt(t,k=>{var O;return(O=g.itemRefCallback)==null?void 0:O.call(g,k,a,c)}),j=il(),C=()=>{c||(p.onValueChange(a),p.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Zk,{scope:s,value:a,disabled:c,textId:j,isSelected:w,onItemTextChange:v.useCallback(k=>{b(O=>O||((k==null?void 0:k.textContent)??"").trim())},[]),children:i.jsx(Ef.ItemSlot,{scope:s,value:a,disabled:c,textValue:_,children:i.jsx(dt.div,{role:"option","aria-labelledby":j,"data-highlighted":S?"":void 0,"aria-selected":w&&S,"data-state":w?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...f,ref:P,onFocus:rt(f.onFocus,()=>T(!0)),onBlur:rt(f.onBlur,()=>T(!1)),onPointerUp:rt(f.onPointerUp,C),onPointerMove:rt(f.onPointerMove,k=>{var O;c?(O=g.onItemLeave)==null||O.call(g):k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:rt(f.onPointerLeave,k=>{var O;k.currentTarget===document.activeElement&&((O=g.onItemLeave)==null||O.call(g))}),onKeyDown:rt(f.onKeyDown,k=>{var M;((M=g.searchRef)==null?void 0:M.current)!==""&&k.key===" "||(Rk.includes(k.key)&&C(),k.key===" "&&k.preventDefault())})})})})});B_.displayName=ef;var kc="SelectItemText",U_=v.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:c,...d}=e,f=hi(kc,s),p=mi(kc,s),g=$_(kc,s),w=Ok(kc,s),[_,b]=v.useState(null),S=kt(t,k=>b(k),g.onItemTextChange,k=>{var O;return(O=p.itemTextRefCallback)==null?void 0:O.call(p,k,g.value,g.disabled)}),T=_==null?void 0:_.textContent,P=v.useMemo(()=>i.jsx("option",{value:g.value,disabled:g.disabled,children:T},g.value),[g.disabled,g.value,T]),{onNativeOptionAdd:j,onNativeOptionRemove:C}=w;return ln(()=>(j(P),()=>C(P)),[j,C,P]),i.jsxs(i.Fragment,{children:[i.jsx(dt.span,{id:g.textId,...d,ref:S}),g.isSelected&&f.valueNode&&!f.valueNodeHasChildren?aa.createPortal(d.children,f.valueNode):null]})});U_.displayName=kc;var H_="SelectItemIndicator",W_=v.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return $_(H_,s).isSelected?i.jsx(dt.span,{"aria-hidden":!0,...a,ref:t}):null});W_.displayName=H_;var ip="SelectScrollUpButton",V_=v.forwardRef((e,t)=>{const s=mi(ip,e.__scopeSelect),a=Gp(ip,e.__scopeSelect),[c,d]=v.useState(!1),f=kt(t,a.onScrollButtonChange);return ln(()=>{if(s.viewport&&s.isPositioned){let p=function(){const w=g.scrollTop>0;d(w)};const g=s.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[s.viewport,s.isPositioned]),c?i.jsx(q_,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=s;p&&g&&(p.scrollTop=p.scrollTop-g.offsetHeight)}}):null});V_.displayName=ip;var ap="SelectScrollDownButton",Z_=v.forwardRef((e,t)=>{const s=mi(ap,e.__scopeSelect),a=Gp(ap,e.__scopeSelect),[c,d]=v.useState(!1),f=kt(t,a.onScrollButtonChange);return ln(()=>{if(s.viewport&&s.isPositioned){let p=function(){const w=g.scrollHeight-g.clientHeight,_=Math.ceil(g.scrollTop)<w;d(_)};const g=s.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[s.viewport,s.isPositioned]),c?i.jsx(q_,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=s;p&&g&&(p.scrollTop=p.scrollTop+g.offsetHeight)}}):null});Z_.displayName=ap;var q_=v.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:a,...c}=e,d=mi("SelectScrollButton",s),f=v.useRef(null),p=Cf(s),g=v.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return v.useEffect(()=>()=>g(),[g]),ln(()=>{var _;const w=p().find(b=>b.ref.current===document.activeElement);(_=w==null?void 0:w.ref.current)==null||_.scrollIntoView({block:"nearest"})},[p]),i.jsx(dt.div,{"aria-hidden":!0,...c,ref:t,style:{flexShrink:0,...c.style},onPointerDown:rt(c.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(a,50))}),onPointerMove:rt(c.onPointerMove,()=>{var w;(w=d.onItemLeave)==null||w.call(d),f.current===null&&(f.current=window.setInterval(a,50))}),onPointerLeave:rt(c.onPointerLeave,()=>{g()})})}),qk="SelectSeparator",G_=v.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return i.jsx(dt.div,{"aria-hidden":!0,...a,ref:t})});G_.displayName=qk;var lp="SelectArrow",Gk=v.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,c=Pf(s),d=hi(lp,s),f=mi(lp,s);return d.open&&f.position==="popper"?i.jsx(Ww,{...c,...a,ref:t}):null});Gk.displayName=lp;function Y_(e){return e===""||e===void 0}var K_=v.forwardRef((e,t)=>{const{value:s,...a}=e,c=v.useRef(null),d=kt(t,c),f=vk(s);return v.useEffect(()=>{const p=c.current,g=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(g,"value").set;if(f!==s&&_){const b=new Event("change",{bubbles:!0});_.call(p,s),p.dispatchEvent(b)}},[f,s]),i.jsx(Kc,{asChild:!0,children:i.jsx("select",{...a,ref:d,defaultValue:s})})});K_.displayName="BubbleSelect";function X_(e){const t=tn(e),s=v.useRef(""),a=v.useRef(0),c=v.useCallback(f=>{const p=s.current+f;t(p),function g(w){s.current=w,window.clearTimeout(a.current),w!==""&&(a.current=window.setTimeout(()=>g(""),1e3))}(p)},[t]),d=v.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,c,d]}function Q_(e,t,s){const c=t.length>1&&Array.from(t).every(w=>w===t[0])?t[0]:t,d=s?e.indexOf(s):-1;let f=Yk(e,Math.max(d,0));c.length===1&&(f=f.filter(w=>w!==s));const g=f.find(w=>w.textValue.toLowerCase().startsWith(c.toLowerCase()));return g!==s?g:void 0}function Yk(e,t){return e.map((s,a)=>e[(t+a)%e.length])}var Kk=j_,J_=C_,Xk=T_,Qk=k_,Jk=M_,eb=R_,eM=O_,tb=z_,nb=B_,tM=U_,nM=W_,rb=V_,sb=Z_,ob=G_;const Ls=Kk,Ds=Xk,ls=v.forwardRef(({className:e,children:t,...s},a)=>i.jsxs(J_,{ref:a,className:it("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,i.jsx(Qk,{asChild:!0,children:i.jsx(Np,{className:"h-4 w-4 opacity-50"})})]}));ls.displayName=J_.displayName;const ib=v.forwardRef(({className:e,...t},s)=>i.jsx(rb,{ref:s,className:it("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(AN,{className:"h-4 w-4"})}));ib.displayName=rb.displayName;const ab=v.forwardRef(({className:e,...t},s)=>i.jsx(sb,{ref:s,className:it("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Np,{className:"h-4 w-4"})}));ab.displayName=sb.displayName;const cs=v.forwardRef(({className:e,children:t,position:s="popper",...a},c)=>i.jsx(Jk,{children:i.jsxs(eb,{ref:c,className:it("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[i.jsx(ib,{}),i.jsx(eM,{className:it("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(ab,{})]})}));cs.displayName=eb.displayName;const rM=v.forwardRef(({className:e,...t},s)=>i.jsx(tb,{ref:s,className:it("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));rM.displayName=tb.displayName;const Zt=v.forwardRef(({className:e,children:t,...s},a)=>i.jsxs(nb,{ref:a,className:it("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(nM,{children:i.jsx(ew,{className:"h-4 w-4"})})}),i.jsx(tM,{children:t})]}));Zt.displayName=nb.displayName;const sM=v.forwardRef(({className:e,...t},s)=>i.jsx(ob,{ref:s,className:it("-mx-1 my-1 h-px bg-muted",e),...t}));sM.displayName=ob.displayName;function Jx({value:e,onValueChange:t,options:s=[],placeholder:a="Select an option...",emptyMessage:c="No options found.",disabled:d=!1,className:f,searchPlaceholder:p="Search..."}){const[g,w]=v.useState(!1),[_,b]=v.useState(""),S=Array.isArray(s)?s:[],T=_?S.filter(k=>{var Z;if(!k||typeof k.value!="string"||typeof k.label!="string")return!1;const O=_.toLowerCase(),M=k.label.toLowerCase().includes(O),I=k.value.toLowerCase().includes(O),$=(Z=k.searchTerms)==null?void 0:Z.some(F=>F&&typeof F=="string"&&F.toLowerCase().includes(O));return M||I||$}):S,P=S.find(k=>(k==null?void 0:k.value)===e),j=k=>{t(k===e?"":k),w(!1),b("")},C=()=>{d||(w(!g),g||b(""))};return i.jsxs("div",{className:"relative",children:[i.jsxs(Se,{variant:"outline",role:"combobox","aria-expanded":g,className:it("w-full justify-between",f),disabled:d,onClick:C,type:"button",children:[P?P.label:a,i.jsx(Np,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),g&&i.jsxs("div",{className:"absolute top-full left-0 right-0 z-[1001] mt-1 bg-popover border rounded-md shadow-lg",children:[i.jsxs("div",{className:"flex items-center border-b px-3 py-2",children:[i.jsx(Qc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(an,{placeholder:p,value:_,onChange:k=>b(k.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-8",autoFocus:!0})]}),i.jsx("div",{className:"max-h-64 overflow-y-auto",children:T.length>0?T.map((k,O)=>k&&k.value&&k.label?i.jsxs("button",{type:"button",className:it("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",e===k.value&&"bg-accent text-accent-foreground"),onClick:()=>j(k.value),children:[i.jsx(ew,{className:it("mr-2 h-4 w-4",e===k.value?"opacity-100":"opacity-0")}),i.jsx("span",{className:"flex-1 text-left",children:k.label})]},`${k.value}-${O}`):null):i.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:c})})]}),g&&i.jsx("div",{className:"fixed inset-0 z-[1000]",onClick:()=>w(!1)})]})}const oM=["Initial Client Meeting","Project Discussion","Equipment Installation","System Maintenance","Technical Support","Training Session","Progress Review","Problem Resolution","Contract Negotiation","Follow-up Meeting","Emergency Response","Consultation","Demo/Presentation","Site Survey","Other"];function lb({isOpen:e,onClose:t,onStartMeeting:s,employeeName:a,location:c,isLoading:d=!1,initialClientName:f="",initialCompanyName:p="",initialReason:g="",initialNotes:w=""}){var Y;const[_,b]=v.useState(""),[S,T]=v.useState(""),[P,j]=v.useState(""),[C,k]=v.useState(""),[O,M]=v.useState({}),[I,$]=v.useState([]),[Z,F]=v.useState(!1),[ie,ce]=v.useState(null),[q,ne]=v.useState([]),[he,Pe]=v.useState(!1),[K,J]=v.useState(null),[ee,pe]=v.useState(""),[U,de]=v.useState([]),ae=async()=>{F(!0),ce(null);try{console.log("Fetching companies from external API for start meeting...");const A=await ct.request("https://jbdspower.in/LeafNetServer/api/customer",{method:"GET"});if(!A.ok)throw new Error(`Failed to fetch customers: ${A.statusText}`);const V=await A.json();console.log("Customer API raw response:",V);const te=Array.isArray(V)?V:[];console.log(`Fetched ${te.length} companies for start meeting`,te.slice(0,3)),$(te)}catch(A){console.error("Error fetching customers for start meeting:",A),ce(A instanceof Error?A.message:"Failed to fetch customers")}finally{F(!1)}},z=async()=>{Pe(!0),J(null);try{console.log("Fetching leads from external API for start meeting...");const A=await ct.request("https://jbdspower.in/LeafNetServer/api/getAllLead",{method:"GET"});if(!A.ok)throw new Error(`Failed to fetch leads: ${A.statusText}`);const V=await A.json();console.log("Leads API raw response:",V);const te=Array.isArray(V)?V:[];console.log(`Fetched ${te.length} leads for start meeting`,te.slice(0,3)),ne(te)}catch(A){console.error("Error fetching leads for start meeting:",A),J(A instanceof Error?A.message:"Failed to fetch leads")}finally{Pe(!1)}},X=A=>{if(!A||A==="custom"||!Array.isArray(q)){de([]);return}console.log("Filtering leads for company:",A);const V=q.filter(te=>{if(!te||!te.CompanyName)return!1;const ge=te.CompanyName.toLowerCase().trim()===A.toLowerCase().trim();return console.log(`Comparing "${te.CompanyName}" with "${A}": ${ge}`),ge});console.log(`Filtered ${V.length} leads for company "${A}":`,V),de(V)};console.log("filtered leads by compnay",X),console.log("filtered leads",U);const ye=A=>{console.log("Client selection changed:",A),b(A),pe(""),X(A)};v.useEffect(()=>{e?(ae(),z(),(f||p)&&(T(f||""),b(p||"custom")),g&&j(g),w&&k(w)):(b(""),T(""),j(""),k(""),pe(""),M({}))},[e,f,p,g,w]),v.useEffect(()=>{q.length>0&&_&&_!=="custom"?X(_):de([])},[q,_]);const Ee=()=>{const A={},V=_==="custom"?S:_;if(V.trim()||(A.client="Client name is required"),P||(A.reason="Meeting reason is required"),Object.keys(A).length>0){M(A);return}const te=ee&&Array.isArray(q)?q.find(ge=>ge&&ge.Id===ee):null;console.log("Starting meeting with data:",{clientName:V,reason:P,notes:C.trim(),leadId:ee||void 0,leadInfo:te}),M({}),s({clientName:V,reason:P,notes:C.trim(),leadId:ee||void 0,leadInfo:te?{id:te.Id,companyName:te.CompanyName,contactName:te.Name}:void 0})},we=()=>{b(""),T(""),j(""),k(""),M({}),ce(null),J(null),pe(""),de([]),t()};return i.jsx(kr,{open:e,onOpenChange:we,children:i.jsxs(ur,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[i.jsxs(dr,{children:[i.jsxs(fr,{className:"flex items-center space-x-2",children:[i.jsx(jn,{className:"h-5 w-5 text-primary"}),i.jsx("span",{children:"Start Meeting"})]}),i.jsxs(hr,{children:["Create a new meeting record for ",a]})]}),i.jsxs("div",{className:"space-y-6 py-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground bg-muted/50 p-3 rounded-md",children:[i.jsx(Jn,{className:"h-4 w-4"}),i.jsxs("span",{children:["Location: ",c]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{htmlFor:"client",children:"Client / Company"}),ie?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fn,{className:"h-4 w-4"}),i.jsx("p",{className:"font-medium",children:"Failed to load companies"})]}),i.jsx("p",{className:"text-xs mt-1",children:ie}),i.jsx("button",{type:"button",onClick:ae,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{htmlFor:"customClientFallback",children:"Enter Client Name Manually"}),i.jsx(an,{id:"customClientFallback",value:S,onChange:A=>{T(A.target.value),b("custom")},placeholder:"Enter client name",className:O.client?"border-destructive":""})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(Jx,{value:_,onValueChange:ye,options:[...Array.isArray(I)?Array.from(new Map(I.filter(A=>{const V=A&&A.CustomerCompanyName&&typeof A.CustomerCompanyName=="string"&&A.CustomerCompanyName.trim().length>0;return!V&&A&&console.warn("Invalid customer data:",A),V}).map(A=>[A.CustomerCompanyName.trim(),A])).values()).map(A=>({value:A.CustomerCompanyName.trim(),label:A.CustomerCompanyName.trim(),searchTerms:[A.CustomerCompanyName.trim()]})):[],{value:"custom",label:"Custom Client...",searchTerms:["custom","manual","other"]}],placeholder:Z?"Loading companies...":"Select a company or choose custom",emptyMessage:"No companies found. Choose custom to enter manually.",disabled:Z,searchPlaceholder:"Search companies...",className:O.client?"border-destructive":""}),i.jsx("div",{className:"text-xs text-muted-foreground",children:`Can't find your company? Use "Custom Client..." option above`})]}),O.client&&i.jsx("p",{className:"text-sm text-destructive",children:O.client})]}),_==="custom"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{htmlFor:"customClient",children:"Custom Client Name"}),i.jsx(an,{id:"customClient",value:S,onChange:A=>T(A.target.value),placeholder:"Enter client name",className:O.client?"border-destructive":""})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Rt,{htmlFor:"lead",children:["Lead Association (Optional)",_&&_!=="custom"&&U.length>0&&i.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",U.length," leads for ",_,")"]})]}),K?i.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fn,{className:"h-4 w-4"}),i.jsx("p",{className:"font-medium",children:"Failed to load leads"})]}),i.jsx("p",{className:"text-xs mt-1",children:K}),i.jsx("button",{type:"button",onClick:z,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}):i.jsxs(i.Fragment,{children:[_&&_!=="custom"&&q.length>0&&U.length===0&&i.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted/50 rounded-md",children:['No leads found for "',_,'". You can still proceed without associating a lead.']}),(_&&_!=="custom"?U.length>0:q.length>0)?i.jsx(Jx,{value:ee,onValueChange:A=>{console.log("Lead selection changed:",A),pe(A)},options:Array.isArray(_&&_!=="custom"?U:q)?Array.from(new Map((_&&_!=="custom"?U:q).filter(A=>{const V=A&&A.Id&&A.CompanyName&&A.Name&&typeof A.Id=="string"&&typeof A.CompanyName=="string"&&typeof A.Name=="string"&&A.Id.trim().length>0&&A.CompanyName.trim().length>0&&A.Name.trim().length>0;return!V&&A&&console.warn("Invalid lead data:",A),V}).map(A=>[A.Id.trim(),A])).values()).map(A=>({value:A.Id.trim(),label:`${A.Id.trim()} - ${A.CompanyName.trim()} (${A.Name.trim()})`,searchTerms:[A.CompanyName.trim(),A.Name.trim(),A.Email||"",A.Subject||"",A.Stage||"",A.Id.trim()].filter(V=>V&&typeof V=="string"&&V.length>0)})):[],placeholder:he?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads",emptyMessage:_&&_!=="custom"?`No leads found for ${_}`:"No leads available",disabled:he,searchPlaceholder:"Search leads by ID, company, name..."}):i.jsxs(Ls,{value:ee,onValueChange:pe,disabled:he,children:[i.jsx(ls,{children:i.jsx(Ds,{placeholder:he?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads"})}),i.jsx(cs,{children:i.jsx(Zt,{value:"no-leads",disabled:!0,children:he?"Loading...":"No leads available"})})]})]}),ee&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.jsx(ow,{className:"h-3 w-3 inline mr-1"}),"Lead selected: ",(Y=(_&&_!=="custom"?U:q).find(A=>A.Id===ee))==null?void 0:Y.Subject]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{htmlFor:"reason",children:"Meeting Reason / Type"}),i.jsxs(Ls,{value:P,onValueChange:j,children:[i.jsx(ls,{className:O.reason?"border-destructive":"",children:i.jsx(Ds,{placeholder:"Select meeting reason"})}),i.jsx(cs,{children:oM.map(A=>i.jsx(Zt,{value:A,children:A},A))})]}),O.reason&&i.jsx("p",{className:"text-sm text-destructive",children:O.reason})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{htmlFor:"notes",children:"Notes (Optional)"}),i.jsx(ca,{id:"notes",value:C,onChange:A=>k(A.target.value),placeholder:"Add any additional notes about this meeting...",rows:3})]}),i.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx(df,{className:"h-4 w-4 text-primary"}),i.jsxs("span",{className:"font-medium",children:["Employee: ",a]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(jn,{className:"h-4 w-4 text-primary"}),i.jsxs("span",{children:["Start Time: ",new Date().toLocaleString()]})]})]})]}),i.jsxs(sa,{children:[i.jsx(Se,{variant:"outline",onClick:we,disabled:d,children:"Cancel"}),i.jsx(Se,{onClick:Ee,disabled:d,children:d?"Starting...":"Start Meeting"})]})]})})}function iM(e,t){return v.useReducer((s,a)=>t[s][a]??s,e)}var Yp="ScrollArea",[cb,kL]=Yc(Yp),[aM,qr]=cb(Yp),ub=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:a="hover",dir:c,scrollHideDelay:d=600,...f}=e,[p,g]=v.useState(null),[w,_]=v.useState(null),[b,S]=v.useState(null),[T,P]=v.useState(null),[j,C]=v.useState(null),[k,O]=v.useState(0),[M,I]=v.useState(0),[$,Z]=v.useState(!1),[F,ie]=v.useState(!1),ce=kt(t,ne=>g(ne)),q=p_(c);return i.jsx(aM,{scope:s,type:a,dir:q,scrollHideDelay:d,scrollArea:p,viewport:w,onViewportChange:_,content:b,onContentChange:S,scrollbarX:T,onScrollbarXChange:P,scrollbarXEnabled:$,onScrollbarXEnabledChange:Z,scrollbarY:j,onScrollbarYChange:C,scrollbarYEnabled:F,onScrollbarYEnabledChange:ie,onCornerWidthChange:O,onCornerHeightChange:I,children:i.jsx(dt.div,{dir:q,...f,ref:ce,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":M+"px",...e.style}})})});ub.displayName=Yp;var db="ScrollAreaViewport",fb=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:a,nonce:c,...d}=e,f=qr(db,s),p=v.useRef(null),g=kt(t,p,f.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),i.jsx(dt.div,{"data-radix-scroll-area-viewport":"",...d,ref:g,style:{overflowX:f.scrollbarXEnabled?"scroll":"hidden",overflowY:f.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:f.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});fb.displayName=db;var Is="ScrollAreaScrollbar",Kp=v.forwardRef((e,t)=>{const{forceMount:s,...a}=e,c=qr(Is,e.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:f}=c,p=e.orientation==="horizontal";return v.useEffect(()=>(p?d(!0):f(!0),()=>{p?d(!1):f(!1)}),[p,d,f]),c.type==="hover"?i.jsx(lM,{...a,ref:t,forceMount:s}):c.type==="scroll"?i.jsx(cM,{...a,ref:t,forceMount:s}):c.type==="auto"?i.jsx(hb,{...a,ref:t,forceMount:s}):c.type==="always"?i.jsx(Xp,{...a,ref:t}):null});Kp.displayName=Is;var lM=v.forwardRef((e,t)=>{const{forceMount:s,...a}=e,c=qr(Is,e.__scopeScrollArea),[d,f]=v.useState(!1);return v.useEffect(()=>{const p=c.scrollArea;let g=0;if(p){const w=()=>{window.clearTimeout(g),f(!0)},_=()=>{g=window.setTimeout(()=>f(!1),c.scrollHideDelay)};return p.addEventListener("pointerenter",w),p.addEventListener("pointerleave",_),()=>{window.clearTimeout(g),p.removeEventListener("pointerenter",w),p.removeEventListener("pointerleave",_)}}},[c.scrollArea,c.scrollHideDelay]),i.jsx(bl,{present:s||d,children:i.jsx(hb,{"data-state":d?"visible":"hidden",...a,ref:t})})}),cM=v.forwardRef((e,t)=>{const{forceMount:s,...a}=e,c=qr(Is,e.__scopeScrollArea),d=e.orientation==="horizontal",f=kf(()=>g("SCROLL_END"),100),[p,g]=iM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(p==="idle"){const w=window.setTimeout(()=>g("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(w)}},[p,c.scrollHideDelay,g]),v.useEffect(()=>{const w=c.viewport,_=d?"scrollLeft":"scrollTop";if(w){let b=w[_];const S=()=>{const T=w[_];b!==T&&(g("SCROLL"),f()),b=T};return w.addEventListener("scroll",S),()=>w.removeEventListener("scroll",S)}},[c.viewport,d,g,f]),i.jsx(bl,{present:s||p!=="hidden",children:i.jsx(Xp,{"data-state":p==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:rt(e.onPointerEnter,()=>g("POINTER_ENTER")),onPointerLeave:rt(e.onPointerLeave,()=>g("POINTER_LEAVE"))})})}),hb=v.forwardRef((e,t)=>{const s=qr(Is,e.__scopeScrollArea),{forceMount:a,...c}=e,[d,f]=v.useState(!1),p=e.orientation==="horizontal",g=kf(()=>{if(s.viewport){const w=s.viewport.offsetWidth<s.viewport.scrollWidth,_=s.viewport.offsetHeight<s.viewport.scrollHeight;f(p?w:_)}},10);return wl(s.viewport,g),wl(s.content,g),i.jsx(bl,{present:a||d,children:i.jsx(Xp,{"data-state":d?"visible":"hidden",...c,ref:t})})}),Xp=v.forwardRef((e,t)=>{const{orientation:s="vertical",...a}=e,c=qr(Is,e.__scopeScrollArea),d=v.useRef(null),f=v.useRef(0),[p,g]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),w=xb(p.viewport,p.content),_={...a,sizes:p,onSizesChange:g,hasThumb:w>0&&w<1,onThumbChange:S=>d.current=S,onThumbPointerUp:()=>f.current=0,onThumbPointerDown:S=>f.current=S};function b(S,T){return pM(S,f.current,p,T)}return s==="horizontal"?i.jsx(uM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const S=c.viewport.scrollLeft,T=ey(S,p,c.dir);d.current.style.transform=`translate3d(${T}px, 0, 0)`}},onWheelScroll:S=>{c.viewport&&(c.viewport.scrollLeft=S)},onDragScroll:S=>{c.viewport&&(c.viewport.scrollLeft=b(S,c.dir))}}):s==="vertical"?i.jsx(dM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const S=c.viewport.scrollTop,T=ey(S,p);d.current.style.transform=`translate3d(0, ${T}px, 0)`}},onWheelScroll:S=>{c.viewport&&(c.viewport.scrollTop=S)},onDragScroll:S=>{c.viewport&&(c.viewport.scrollTop=b(S))}}):null}),uM=v.forwardRef((e,t)=>{const{sizes:s,onSizesChange:a,...c}=e,d=qr(Is,e.__scopeScrollArea),[f,p]=v.useState(),g=v.useRef(null),w=kt(t,g,d.onScrollbarXChange);return v.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),i.jsx(pb,{"data-orientation":"horizontal",...c,ref:w,sizes:s,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tf(s)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.x),onDragScroll:_=>e.onDragScroll(_.x),onWheelScroll:(_,b)=>{if(d.viewport){const S=d.viewport.scrollLeft+_.deltaX;e.onWheelScroll(S),wb(S,b)&&_.preventDefault()}},onResize:()=>{g.current&&d.viewport&&f&&a({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:g.current.clientWidth,paddingStart:nf(f.paddingLeft),paddingEnd:nf(f.paddingRight)}})}})}),dM=v.forwardRef((e,t)=>{const{sizes:s,onSizesChange:a,...c}=e,d=qr(Is,e.__scopeScrollArea),[f,p]=v.useState(),g=v.useRef(null),w=kt(t,g,d.onScrollbarYChange);return v.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),i.jsx(pb,{"data-orientation":"vertical",...c,ref:w,sizes:s,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tf(s)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.y),onDragScroll:_=>e.onDragScroll(_.y),onWheelScroll:(_,b)=>{if(d.viewport){const S=d.viewport.scrollTop+_.deltaY;e.onWheelScroll(S),wb(S,b)&&_.preventDefault()}},onResize:()=>{g.current&&d.viewport&&f&&a({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:g.current.clientHeight,paddingStart:nf(f.paddingTop),paddingEnd:nf(f.paddingBottom)}})}})}),[fM,mb]=cb(Is),pb=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:c,onThumbChange:d,onThumbPointerUp:f,onThumbPointerDown:p,onThumbPositionChange:g,onDragScroll:w,onWheelScroll:_,onResize:b,...S}=e,T=qr(Is,s),[P,j]=v.useState(null),C=kt(t,ce=>j(ce)),k=v.useRef(null),O=v.useRef(""),M=T.viewport,I=a.content-a.viewport,$=tn(_),Z=tn(g),F=kf(b,10);function ie(ce){if(k.current){const q=ce.clientX-k.current.left,ne=ce.clientY-k.current.top;w({x:q,y:ne})}}return v.useEffect(()=>{const ce=q=>{const ne=q.target;(P==null?void 0:P.contains(ne))&&$(q,I)};return document.addEventListener("wheel",ce,{passive:!1}),()=>document.removeEventListener("wheel",ce,{passive:!1})},[M,P,I,$]),v.useEffect(Z,[a,Z]),wl(P,F),wl(T.content,F),i.jsx(fM,{scope:s,scrollbar:P,hasThumb:c,onThumbChange:tn(d),onThumbPointerUp:tn(f),onThumbPositionChange:Z,onThumbPointerDown:tn(p),children:i.jsx(dt.div,{...S,ref:C,style:{position:"absolute",...S.style},onPointerDown:rt(e.onPointerDown,ce=>{ce.button===0&&(ce.target.setPointerCapture(ce.pointerId),k.current=P.getBoundingClientRect(),O.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T.viewport&&(T.viewport.style.scrollBehavior="auto"),ie(ce))}),onPointerMove:rt(e.onPointerMove,ie),onPointerUp:rt(e.onPointerUp,ce=>{const q=ce.target;q.hasPointerCapture(ce.pointerId)&&q.releasePointerCapture(ce.pointerId),document.body.style.webkitUserSelect=O.current,T.viewport&&(T.viewport.style.scrollBehavior=""),k.current=null})})})}),tf="ScrollAreaThumb",gb=v.forwardRef((e,t)=>{const{forceMount:s,...a}=e,c=mb(tf,e.__scopeScrollArea);return i.jsx(bl,{present:s||c.hasThumb,children:i.jsx(hM,{ref:t,...a})})}),hM=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:a,...c}=e,d=qr(tf,s),f=mb(tf,s),{onThumbPositionChange:p}=f,g=kt(t,b=>f.onThumbChange(b)),w=v.useRef(),_=kf(()=>{w.current&&(w.current(),w.current=void 0)},100);return v.useEffect(()=>{const b=d.viewport;if(b){const S=()=>{if(_(),!w.current){const T=gM(b,p);w.current=T,p()}};return p(),b.addEventListener("scroll",S),()=>b.removeEventListener("scroll",S)}},[d.viewport,_,p]),i.jsx(dt.div,{"data-state":f.hasThumb?"visible":"hidden",...c,ref:g,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:rt(e.onPointerDownCapture,b=>{const T=b.target.getBoundingClientRect(),P=b.clientX-T.left,j=b.clientY-T.top;f.onThumbPointerDown({x:P,y:j})}),onPointerUp:rt(e.onPointerUp,f.onThumbPointerUp)})});gb.displayName=tf;var Qp="ScrollAreaCorner",vb=v.forwardRef((e,t)=>{const s=qr(Qp,e.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?i.jsx(mM,{...e,ref:t}):null});vb.displayName=Qp;var mM=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,...a}=e,c=qr(Qp,s),[d,f]=v.useState(0),[p,g]=v.useState(0),w=!!(d&&p);return wl(c.scrollbarX,()=>{var b;const _=((b=c.scrollbarX)==null?void 0:b.offsetHeight)||0;c.onCornerHeightChange(_),g(_)}),wl(c.scrollbarY,()=>{var b;const _=((b=c.scrollbarY)==null?void 0:b.offsetWidth)||0;c.onCornerWidthChange(_),f(_)}),w?i.jsx(dt.div,{...a,ref:t,style:{width:d,height:p,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function nf(e){return e?parseInt(e,10):0}function xb(e,t){const s=e/t;return isNaN(s)?0:s}function Tf(e){const t=xb(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-s)*t;return Math.max(a,18)}function pM(e,t,s,a="ltr"){const c=Tf(s),d=c/2,f=t||d,p=c-f,g=s.scrollbar.paddingStart+f,w=s.scrollbar.size-s.scrollbar.paddingEnd-p,_=s.content-s.viewport,b=a==="ltr"?[0,_]:[_*-1,0];return yb([g,w],b)(e)}function ey(e,t,s="ltr"){const a=Tf(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,d=t.scrollbar.size-c,f=t.content-t.viewport,p=d-a,g=s==="ltr"?[0,f]:[f*-1,0],w=tp(e,g);return yb([0,f],[0,p])(w)}function yb(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(s-e[0])}}function wb(e,t){return e>0&&e<t}var gM=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},a=0;return function c(){const d={left:e.scrollLeft,top:e.scrollTop},f=s.left!==d.left,p=s.top!==d.top;(f||p)&&t(),s=d,a=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(a)};function kf(e,t){const s=tn(e),a=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),v.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,t)},[s,t])}function wl(e,t){const s=tn(t);ln(()=>{let a=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return c.observe(e),()=>{window.cancelAnimationFrame(a),c.unobserve(e)}}},[e,s])}var _b=ub,vM=fb,xM=vb;const bb=v.forwardRef(({className:e,children:t,...s},a)=>i.jsxs(_b,{ref:a,className:it("relative overflow-hidden",e),...s,children:[i.jsx(vM,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(Nb,{}),i.jsx(xM,{})]}));bb.displayName=_b.displayName;const Nb=v.forwardRef(({className:e,orientation:t="vertical",...s},a)=>i.jsx(Kp,{ref:a,orientation:t,className:it("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:i.jsx(gb,{className:"relative flex-1 rounded-full bg-border"})}));Nb.displayName=Kp.displayName;function yM({isOpen:e,onClose:t,onSubmit:s,pendingMeetings:a}){const[c,d]=v.useState({}),[f,p]=v.useState({}),g=(b,S)=>{d(T=>({...T,[b]:S})),p(T=>{const P={...T};return delete P[b],P})},w=()=>{const b={};if(a.forEach(T=>{var P;(P=c[T._id])!=null&&P.trim()||(b[T._id]="Reason required")}),Object.keys(b).length>0){p(b);return}const S=a.map(T=>({meeting:T,reason:c[T._id].trim()}));s(S),d({}),p({})},_=()=>{d({}),p({}),t()};return i.jsx(kr,{open:e,onOpenChange:_,children:i.jsxs(ur,{className:"sm:max-w-[600px] max-h-[90vh]",children:[i.jsxs(dr,{children:[i.jsxs(fr,{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"h-5 w-5 text-warning"}),"Incomplete Today's Meetings"]}),i.jsxs(hr,{children:["You have ",a.length," incomplete meeting",a.length>1?"s":"",' scheduled for today. Please provide a reason for each meeting before logging out. These meetings will be marked as "Incomplete".']})]}),i.jsx(bb,{className:"max-h-[60vh] pr-4",children:i.jsx("div",{className:"space-y-6 py-4",children:a.map((b,S)=>i.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(_p,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-sm",children:b.companyName||"Unnamed Company"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.customerName,b.meetingTime&&`  ${b.meetingTime}`]}),b.remark&&i.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:["Note: ",b.remark]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Rt,{htmlFor:`reason-${b._id}`,className:"text-sm",children:["Reason for not completing ",i.jsx("span",{className:"text-destructive",children:"*"})]}),i.jsx(ca,{id:`reason-${b._id}`,placeholder:"E.g., Client rescheduled, not available, technical issues...",value:c[b._id]||"",onChange:T=>g(b._id,T.target.value),rows:3,className:f[b._id]?"border-destructive":""}),f[b._id]&&i.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[i.jsx(fn,{className:"h-3 w-3"}),f[b._id]]})]})]},b._id))})}),i.jsxs(sa,{children:[i.jsx(Se,{variant:"outline",onClick:_,children:"Cancel"}),i.jsx(Se,{onClick:w,children:"Submit All & Logout"})]})]})})}function wM(){var Ee,we;const[e,t]=v.useState([]),[s,a]=v.useState(null),[c,d]=v.useState(!0),[f,p]=v.useState(new Date),[g,w]=v.useState(!0),[_,b]=v.useState(!1),[S,T]=v.useState([]),[P,j]=v.useState(!1),[C,k]=v.useState(null),[O,M]=v.useState(!1),[I,$]=v.useState(!1),[Z,F]=v.useState(null),{canInstall:ie,isInstalled:ce}=MT();v.useEffect(()=>{const Y=localStorage.getItem("user");if(Y)try{const A=JSON.parse(Y);F(A)}catch(A){console.error("Failed to parse user from localStorage:",A)}},[]),v.useEffect(()=>{q();const Y=setInterval(q,6e4);return()=>clearInterval(Y)},[]);const q=async()=>{var Y;try{console.log("Fetching employees");const A=await ct.get("/api/employees");if(A.ok){const V=await A.json();t(V.employees||[]),p(new Date),console.log("Employees data fetched successfully:",((Y=V.employees)==null?void 0:Y.length)||0)}else console.error(`Failed to fetch employees: ${A.status} ${A.statusText}`),t([])}catch(A){console.error("Error fetching employees:",A),t([])}finally{d(!1)}},ne=()=>{d(!0),q()},he=async()=>{try{d(!0),console.log("Refreshing employee locations with Indian cities");const Y=await ct.post("/api/employees/refresh-locations");if(Y.ok){const A=await Y.json();console.log("Locations refreshed successfully:",A),await q(),w(!1)}else{const A=await Y.text().catch(()=>"Unknown error");console.error("Failed to refresh locations:",Y.status,A),alert("Failed to refresh locations. Please try again.")}}catch(Y){console.error("Error refreshing locations:",Y),alert("Error refreshing locations. Please check your connection and try again.")}finally{d(!1)}},Pe=Y=>{window.location.href=`tel:${Y}`},K=(Y,A)=>{const V=encodeURIComponent(`Regarding Field Operations - ${A}`),te=encodeURIComponent(`Hi ${A.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${Y}?subject=${V}&body=${te}`},J=async Y=>{if(Z!=null&&Z._id)try{const A=await ct.get(`/api/meetings?employeeId=${Z._id}&status=in-progress&limit=1`);if(A.ok){const V=await A.json();if(V.meetings&&V.meetings.length>0){Ps({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"}),console.log("Blocked: Active meeting exists:",V.meetings[0].id);return}}}catch(A){console.error("Error checking for active meetings:",A)}k(Y),j(!0)},ee=async Y=>{const A=e.find(V=>V.status==="active"||V.status==="meeting")||e[0];if(!A){Ps({title:"Error",description:"No active employee found to start meeting",variant:"destructive"});return}$(!0);try{const V=await ct.post("/api/meetings",{employeeId:A.id,location:{lat:A.location.lat,lng:A.location.lng,address:A.location.address},clientName:Y.clientName,notes:`${Y.reason}${Y.notes?` - ${Y.notes}`:""}`,leadId:Y.leadId,leadInfo:Y.leadInfo});if(V.ok)await ct.put(`/api/employees/${A.id}/status`,{status:"meeting"}),q(),j(!1),k(null),Ps({title:"Meeting Started",description:`Meeting with ${Y.clientName} has been started successfully`});else{const te=await V.json().catch(()=>({error:"Failed to start meeting"}));Ps({title:"Cannot Start Meeting",description:te.error||"Failed to start meeting",variant:"destructive"})}}catch(V){console.error("Error starting meeting:",V),Ps({title:"Error",description:"Failed to start meeting. Please try again.",variant:"destructive"})}finally{$(!1)}},pe=()=>{if(!(Z!=null&&Z._id)){de();return}const Y=S.filter(A=>!(A.meetingStatus==="complete"||A.meetingStatus==="Completed"||A.meetingStatus==="COMPLETED"));console.log("Incomplete today's meetings on logout:",Y),Y.length>0?M(!0):de()},U=async Y=>{console.log("Submitting incomplete meetings with reasons:",Y);try{const A=Y.map(async({meeting:te,reason:ge})=>{try{const Ae="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),Ge=await fetch(`${Ae}/updateFollowUp/${te._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});Ge.ok?console.log(` Updated meeting ${te.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${te.companyName} status:`,Ge.status)}catch(Le){console.error(`Error updating meeting ${te.companyName}:`,Le)}});await Promise.all(A),(await ct.post("/api/incomplete-meeting-remarks",{employeeId:Z._id,reason:"Multiple incomplete meetings",pendingMeetings:Y.map(({meeting:te,reason:ge})=>({_id:te._id,leadId:te.leadId,companyName:te.companyName,customerName:te.customerName,customerEmail:te.customerEmail,customerMobile:te.customerMobile,customerDesignation:te.customerDesignation,meetingTime:te.meetingTime,incompleteReason:ge}))})).ok?Ps({title:"Meetings Marked Incomplete",description:`${Y.length} meeting(s) marked as incomplete with reasons.`}):(console.error("Failed to save incomplete meeting remarks"),Ps({title:"Warning",description:"Failed to save some meeting reasons, but meetings are marked incomplete.",variant:"destructive"}))}catch(A){console.error("Error saving incomplete meeting remarks:",A),Ps({title:"Warning",description:"Failed to save meeting reasons, but you can still logout.",variant:"destructive"})}M(!1),de()},de=()=>{localStorage.removeItem("idToken"),localStorage.removeItem("user"),Ps({title:"Logged Out",description:"You have been logged out successfully."}),window.location.href="/"},ae=Y=>{switch(Y){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},z=Y=>{switch(Y){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},X=e.filter(Y=>Y.status==="active"||Y.status==="meeting");console.log("employee list",X);const ye=e.length;return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"border-b bg-card shadow-sm",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between overflow-auto",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:i.jsx(Jn,{className:"h-5 w-5 text-primary-foreground"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"FieldTracker"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Employee Location Management"})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(Se,{variant:"outline",size:"sm",onClick:ne,disabled:c,children:[i.jsx(sl,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),i.jsx(Se,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs(Rs,{to:"/dashboard",children:[i.jsx(bp,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),i.jsx(Se,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs(Rs,{to:"/team-management",children:[i.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Manage Team"]})}),i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>b(!0),children:[i.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Meeting History"]}),i.jsx(Se,{size:"sm",asChild:!0,disabled:e.length===0,children:i.jsxs(Rs,{to:`/tracking/${s||(e.length>0?e[0].id:"1")}`,children:[i.jsx(co,{className:"h-4 w-4 mr-2"}),s?"View Selected":"Live View"]})}),Z&&i.jsxs(Se,{variant:"outline",size:"sm",onClick:pe,children:[i.jsx(zN,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-6",children:[i.jsx("div",{className:"text-center mb-6",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",f.toLocaleTimeString(),c&&"  Refreshing..."]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Active Employees"}),i.jsx(Ji,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsx("div",{className:"text-2xl font-bold text-primary",children:X.length}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",ye," total employees"]})]})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"In Meetings"}),i.jsx(Sp,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter(Y=>Y.status==="meeting").length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently with clients"})]})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"On Route"}),i.jsx(co,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter(Y=>Y.status==="active").length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Moving to locations"})]})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Last Update"}),i.jsx(jn,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsx("div",{className:"text-2xl font-bold text-info",children:"1m"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg response time"})]})]})]}),c&&e.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading employee data..."})]}),ie&&!ce&&i.jsx("div",{className:"mb-6",children:i.jsx(kT,{onInstall:()=>console.log("PWA installed"),onDismiss:()=>console.log("PWA install dismissed")})}),g&&e.length>0&&i.jsx(tt,{className:"border-info bg-info/5",children:i.jsx(nt,{className:"pt-6",children:i.jsxs("div",{className:"flex items-start justify-between overflow-auto",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(fn,{className:"h-5 w-5 text-info mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-info mb-1",children:"Update Your Real Location"}),i.jsx("p",{className:"text-sm text-info/80 mb-3",children:`We've detected your team is in India. Click on any employee's "Live View" and use the "Start Tracking" button to update their real location for accurate tracking.`}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Se,{size:"sm",variant:"outline",className:"border-info text-info hover:bg-info hover:text-white",onClick:()=>{const Y=e[0];Y&&window.open(`/tracking/${Y.id}`,"_blank")},children:[i.jsx(co,{className:"h-4 w-4 mr-2"}),"Enable Live Tracking"]}),i.jsxs(Se,{size:"sm",className:"bg-info hover:bg-info/90 text-white",onClick:he,disabled:c,children:[i.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Update to Indian Cities"]})]})]})]}),i.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>w(!1),className:"text-info hover:text-info",children:i.jsx(ff,{className:"h-4 w-4"})})]})})}),!c&&e.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ji,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),i.jsx("p",{className:"text-muted-foreground",children:"Add employees to start tracking their locations."})]}),!c&&(Z==null?void 0:Z._id)&&i.jsx("div",{className:"mb-8",children:i.jsx(f_,{userId:Z._id,onStartMeeting:J,onMeetingsFetched:T})}),!c&&e.length>0&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsxs(bt,{className:"flex items-center justify-between ",children:[i.jsx("span",{children:"Field Team"}),i.jsxs(Et,{variant:"secondary",children:[e.length," total"]})]})}),i.jsx(nt,{className:"p-0 sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:i.jsx("div",{className:"space-y-0",children:e.map(Y=>i.jsx("div",{className:`p-4 border-b last:border-b-0 cursor-pointer transition-colors hover:bg-muted/50 ${s===Y.id?"bg-primary/5 border-l-4 border-l-primary":""}`,onClick:()=>a(Y.id),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("h4",{className:"font-medium text-foreground",children:Y.name}),i.jsx(Et,{variant:"secondary",className:`text-xs ${ae(Y.status)}`,children:z(Y.status)})]}),Y.designation&&i.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[Y.designation,Y.department&&`  ${Y.department}`]}),i.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[i.jsx(Jn,{className:"h-3 w-3 inline mr-1"}),Y.location.address]}),Y.currentTask&&i.jsx("p",{className:"text-xs text-primary font-medium mb-1",children:Y.currentTask}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.jsx(jn,{className:"h-3 w-3 inline mr-1"}),"Updated ",Y.lastUpdate]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:A=>{A.stopPropagation(),Pe(Y.phone)},title:"Call employee",children:i.jsx(ai,{className:"h-3 w-3"})}),i.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:A=>{A.stopPropagation(),K(Y.email,Y.name)},title:"Send email",children:i.jsx(ii,{className:"h-3 w-3"})}),i.jsx(Se,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",asChild:!0,title:"Track employee",children:i.jsx(Rs,{to:`/tracking/${Y.id}`,onClick:A=>A.stopPropagation(),children:i.jsx(co,{className:"h-3 w-3"})})})]})]})},Y.id))})})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(tt,{className:"h-[600px]",children:[i.jsx(_t,{children:i.jsxs(bt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Live Location Map"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>{s||a(null)},children:[i.jsx(co,{className:"h-4 w-4 mr-2"}),s?"Center on Selected":"Fit All"]}),i.jsx("div",{className:"h-2 w-2 rounded-full bg-success animate-pulse"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Live"})]})]})}),i.jsxs(nt,{className:"p-4",children:[i.jsx($p,{employees:e,selectedEmployee:s,height:"500px",onEmployeeClick:a}),i.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm mt-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"h-3 w-3 rounded-full bg-success"}),i.jsx("span",{children:"On Route"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"}),i.jsx("span",{children:"In Meeting"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"}),i.jsx("span",{children:"Offline"})]})]})]})]})})]}),!c&&e.length>0&&i.jsx("div",{className:"mt-8",children:i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsx(bt,{children:"Recent Activity"})}),i.jsx(nt,{children:i.jsx("div",{className:"space-y-4",children:e.filter(Y=>Y.status!=="inactive").slice(0,3).map((Y,A)=>i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:`h-2 w-2 rounded-full mt-2 ${Y.status==="active"?"bg-success":Y.status==="meeting"?"bg-warning":"bg-info"}`}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-sm font-medium",children:[Y.name," ",Y.status==="active"?"is on route":Y.status==="meeting"?"started meeting":"updated location"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[Y.location.address,"  ",Y.lastUpdate]})]})]},Y.id))})})]})})]}),i.jsx(s_,{isOpen:_,onClose:()=>b(!1)}),i.jsx(lb,{isOpen:P,onClose:()=>{j(!1),k(null)},onStartMeeting:ee,employeeName:((Ee=e[0])==null?void 0:Ee.name)||"Employee",location:((we=e[0])==null?void 0:we.location.address)||"Unknown location",isLoading:I,initialClientName:(C==null?void 0:C.customerName)||"",initialCompanyName:(C==null?void 0:C.companyName)||"",initialReason:(C==null?void 0:C.type)||"",initialNotes:(C==null?void 0:C.remark)||""}),i.jsx(yM,{isOpen:O,onClose:()=>M(!1),onSubmit:U,pendingMeetings:S.filter(Y=>!(Y.meetingStatus==="complete"||Y.meetingStatus==="Completed"||Y.meetingStatus==="COMPLETED"))})]})}const Mc=v.forwardRef(({className:e,...t},s)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:s,className:it("w-full caption-bottom text-sm",e),...t})}));Mc.displayName="Table";const Rc=v.forwardRef(({className:e,...t},s)=>i.jsx("thead",{ref:s,className:it("[&_tr]:border-b",e),...t}));Rc.displayName="TableHeader";const Lc=v.forwardRef(({className:e,...t},s)=>i.jsx("tbody",{ref:s,className:it("[&_tr:last-child]:border-0",e),...t}));Lc.displayName="TableBody";const _M=v.forwardRef(({className:e,...t},s)=>i.jsx("tfoot",{ref:s,className:it("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));_M.displayName="TableFooter";const ao=v.forwardRef(({className:e,...t},s)=>i.jsx("tr",{ref:s,className:it("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ao.displayName="TableRow";const yt=v.forwardRef(({className:e,...t},s)=>i.jsx("th",{ref:s,className:it("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));yt.displayName="TableHead";const wt=v.forwardRef(({className:e,...t},s)=>i.jsx("td",{ref:s,className:it("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));wt.displayName="TableCell";const bM=v.forwardRef(({className:e,...t},s)=>i.jsx("caption",{ref:s,className:it("mt-4 text-sm text-muted-foreground",e),...t}));bM.displayName="TableCaption";function Sb({employeeId:e,isOpen:t,onClose:s}){const[a,c]=v.useState([]),[d,f]=v.useState(!1),[p,g]=v.useState(null),[w,_]=v.useState(""),[b,S]=v.useState("all"),[T,P]=v.useState(1),[j,C]=v.useState(1),[k,O]=v.useState(0),{toast:M}=_l(),I=async(ne=1)=>{f(!0);try{const he=new URLSearchParams({page:ne.toString(),limit:"10"});e&&he.append("employeeId",e),b!=="all"&&he.append("status",b);const Pe=await ct.get(`/api/route-snapshots?${he}`);if(Pe.ok){const K=await Pe.json();c(K.snapshots),C(K.totalPages),O(K.total),P(K.page)}else throw new Error("Failed to fetch snapshots")}catch(he){console.error("Error fetching snapshots:",he),M({title:"Error",description:"Failed to load route snapshots. Please try again.",variant:"destructive"})}finally{f(!1)}};v.useEffect(()=>{t&&I(1)},[t,e,b]);const $=async ne=>{if(confirm("Are you sure you want to delete this snapshot?"))try{if((await ct.delete(`/api/route-snapshots/${ne}`)).ok)M({title:"Snapshot Deleted",description:"Route snapshot has been deleted successfully"}),I(T);else throw new Error("Failed to delete snapshot")}catch(he){console.error("Error deleting snapshot:",he),M({title:"Error",description:"Failed to delete snapshot. Please try again.",variant:"destructive"})}},Z=a.filter(ne=>ne.title.toLowerCase().includes(w.toLowerCase())||ne.employeeName.toLowerCase().includes(w.toLowerCase())||ne.description&&ne.description.toLowerCase().includes(w.toLowerCase())),F=ne=>{if(!ne)return"N/A";const he=Math.floor(ne/3600),Pe=Math.floor(ne%3600/60);return he>0?`${he}h ${Pe}m`:`${Pe}m`},ie=ne=>ne>1e3?`${(ne/1e3).toFixed(1)} km`:`${ne.toFixed(0)} m`,ce=ne=>({id:ne.employeeId,name:ne.employeeName,email:"",phone:"",status:"active",location:ne.startLocation,lastUpdate:new Date(ne.captureTime).toLocaleString()}),q=ne=>({id:ne.trackingSessionId||ne.id,employeeId:ne.employeeId,startTime:ne.captureTime,endTime:ne.endLocation?ne.captureTime:void 0,startLocation:ne.startLocation,endLocation:ne.endLocation,route:ne.route,totalDistance:ne.totalDistance,duration:ne.duration,status:ne.status});return i.jsxs(i.Fragment,{children:[i.jsx(kr,{open:t,onOpenChange:s,children:i.jsxs(ur,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[i.jsxs(dr,{children:[i.jsxs(fr,{className:"flex items-center gap-2",children:[i.jsx(rl,{className:"h-5 w-5"}),"Route Snapshot History"]}),i.jsxs(hr,{children:["View and manage saved route snapshots",e&&" for this employee"]})]}),i.jsxs("div",{className:"flex flex-col h-[70vh]",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Qc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),i.jsx(an,{placeholder:"Search snapshots...",value:w,onChange:ne=>_(ne.target.value),className:"pl-10"})]})}),i.jsxs(Ls,{value:b,onValueChange:S,children:[i.jsx(ls,{className:"w-32",children:i.jsx(Ds,{})}),i.jsxs(cs,{children:[i.jsx(Zt,{value:"all",children:"All Status"}),i.jsx(Zt,{value:"active",children:"Active"}),i.jsx(Zt,{value:"completed",children:"Completed"})]})]}),i.jsx(Se,{variant:"outline",size:"icon",onClick:()=>I(T),disabled:d,children:i.jsx(sl,{className:`h-4 w-4 ${d?"animate-spin":""}`})})]}),i.jsx("div",{className:"flex-1 overflow-hidden",children:d?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(sl,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading snapshots..."})]})}):Z.length===0?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(rl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Snapshots Found"}),i.jsx("p",{className:"text-muted-foreground",children:w||b!=="all"?"Try adjusting your search criteria":"No route snapshots have been created yet"})]})}):i.jsx("div",{className:"overflow-y-auto h-full",children:i.jsx("div",{className:"grid gap-4",children:Z.map(ne=>i.jsx(tt,{className:"hover:shadow-md transition-shadow",children:i.jsx(nt,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h3",{className:"font-semibold",children:ne.title}),i.jsx(Et,{variant:"secondary",className:ne.status==="completed"?"bg-success text-success-foreground":"bg-warning text-warning-foreground",children:ne.status})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:new Date(ne.captureTime).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Qi,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("span",{children:[ne.snapshotMetadata.routePointsCount," points"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(Jn,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:ie(ne.totalDistance)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(jn,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:F(ne.duration)})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:i.jsx("strong",{children:ne.employeeName})}),ne.description&&i.jsx("p",{className:"text-sm text-muted-foreground",children:ne.description})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>g(ne),children:[i.jsx(sw,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>$(ne.id),className:"text-destructive hover:text-destructive",children:i.jsx(dw,{className:"h-4 w-4"})})]})]})})},ne.id))})})}),j>1&&i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",Z.length," of ",k," snapshots"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>I(T-1),disabled:T===1||d,children:[i.jsx(tw,{className:"h-4 w-4"}),"Previous"]}),i.jsxs("span",{className:"text-sm",children:["Page ",T," of ",j]}),i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>I(T+1),disabled:T===j||d,children:["Next",i.jsx(nw,{className:"h-4 w-4"})]})]})]})]})]})}),p&&i.jsx(kr,{open:!!p,onOpenChange:()=>g(null),children:i.jsxs(ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(dr,{children:[i.jsx(fr,{children:p.title}),i.jsxs(hr,{children:["Route snapshot captured on ",new Date(p.captureTime).toLocaleString()]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(tt,{children:i.jsxs(nt,{className:"p-4 text-center",children:[i.jsx(Qi,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),i.jsx("div",{className:"text-2xl font-bold",children:p.snapshotMetadata.routePointsCount}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Route Points"})]})}),i.jsx(tt,{children:i.jsxs(nt,{className:"p-4 text-center",children:[i.jsx(Jn,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),i.jsx("div",{className:"text-2xl font-bold",children:ie(p.totalDistance)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Distance"})]})}),i.jsx(tt,{children:i.jsxs(nt,{className:"p-4 text-center",children:[i.jsx(Zr,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),i.jsx("div",{className:"text-2xl font-bold",children:p.meetings.length}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Meetings"})]})}),i.jsx(tt,{children:i.jsxs(nt,{className:"p-4 text-center",children:[i.jsx(jn,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),i.jsx("div",{className:"text-2xl font-bold",children:F(p.duration)}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]})})]}),i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsx(bt,{children:"Route Visualization"})}),i.jsx(nt,{children:i.jsx($p,{employees:[ce(p)],height:"400px",trackingSession:q(p),showRoute:!0})})]}),p.description&&i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsx(bt,{children:"Description"})}),i.jsx(nt,{children:i.jsx("p",{className:"text-sm",children:p.description})})]}),p.meetings.length>0&&i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsx(bt,{children:"Meetings in Snapshot"})}),i.jsx(nt,{children:i.jsx("div",{className:"space-y-3",children:p.meetings.map(ne=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:ne.clientName||"Unknown Client"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:ne.location.address}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(ne.startTime).toLocaleString(),ne.endTime&&` - ${new Date(ne.endTime).toLocaleString()}`]})]}),i.jsx(Et,{variant:"outline",children:ne.status})]},ne.id))})})]})]})]})})]})}function NM(){const[e,t]=v.useState([]),[s,a]=v.useState(!0),[c,d]=v.useState({employeeId:"all",dateRange:"all",searchTerm:""}),[f,p]=v.useState(null),[g,w]=v.useState([]),[_,b]=v.useState([]),[S,T]=v.useState(!1),[P,j]=v.useState({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1}),[C,k]=v.useState({isOpen:!1,employeeId:""}),[O,M]=v.useState({}),[I,$]=v.useState({totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0});v.useEffect(()=>{Z()},[c]),v.useEffect(()=>{var A;f&&he(f,((A=e.find(V=>V.employeeId===f))==null?void 0:A.employeeName)||"Unknown")},[c.dateRange,c.startDate,c.endDate]);const Z=async()=>{try{a(!0);const A=JSON.parse(localStorage.getItem("user")||"{}"),V=(A==null?void 0:A.role)==="super_admin",te=new URLSearchParams;V?c.employeeId&&c.employeeId!=="all"&&te.append("employeeId",c.employeeId):A!=null&&A._id&&te.append("employeeId",A._id),te.append("dateRange",c.dateRange),c.startDate&&te.append("startDate",c.startDate),c.endDate&&te.append("endDate",c.endDate),c.searchTerm&&te.append("search",c.searchTerm);const ge=await ct.get(`/api/analytics/employees?${te}`);if(ge.ok){const Le=await ge.json();t(Le.analytics||[]),$(Le.summary||{totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0})}else console.error("Failed to fetch analytics"),t([])}catch(A){console.error("Error fetching analytics",A),t([])}finally{a(!1)}},F=(A,V)=>{d(te=>{const ge={...te,[A]:V};return A==="dateRange"&&V!=="custom"&&(ge.startDate=void 0,ge.endDate=void 0),A==="startDate"&&V&&!te.endDate&&(ge.endDate=Jt(new Date,"yyyy-MM-dd")),ge})},ie=()=>{d(A=>({...A,startDate:void 0,endDate:void 0}))},ce=A=>{const V=new Date;let te,ge=Jt(V,"yyyy-MM-dd");switch(A){case"last7":te=Jt(Zx(V,6),"yyyy-MM-dd");break;case"last30":te=Jt(Zx(V,29),"yyyy-MM-dd");break;case"lastMonth":const Le=new Date(V.getFullYear(),V.getMonth()-1,1),Ae=new Date(V.getFullYear(),V.getMonth(),0);te=Jt(Le,"yyyy-MM-dd"),ge=Jt(Ae,"yyyy-MM-dd");break;case"thisMonth":te=Jt(UT(V),"yyyy-MM-dd"),ge=Jt(BT(V),"yyyy-MM-dd");break;default:return}d(Le=>({...Le,dateRange:"custom",startDate:te,endDate:ge}))},q=()=>{switch(c.dateRange){case"all":return"All Time";case"today":return"Today";case"yesterday":return"Yesterday";case"week":return"This Week";case"month":return"This Month";case"custom":if(c.startDate&&c.endDate){const A=new Date(c.startDate),V=new Date(c.endDate),te=A.getFullYear(),ge=V.getFullYear(),Le=new Date().getFullYear();return te===ge&&te===Le?`${Jt(A,"MMM dd")} - ${Jt(V,"MMM dd")}`:te===ge?`${Jt(A,"MMM dd")} - ${Jt(V,"MMM dd, yyyy")}`:`${Jt(A,"MMM dd, yyyy")} - ${Jt(V,"MMM dd, yyyy")}`}return"Custom Range";default:return"Today"}},ne=()=>{const A=[["Employee Name","Total Meetings","Today's Meetings","Meeting Hours","Duty Hours"],...e.map(Le=>[Le.employeeName,Le.totalMeetings.toString(),Le.todayMeetings.toString(),`${Le.totalMeetingHours.toFixed(1)}h`,`${Le.totalDutyHours.toFixed(1)}h`])].map(Le=>Le.join(",")).join(`
`),V=new Blob([A],{type:"text/csv"}),te=window.URL.createObjectURL(V),ge=document.createElement("a");ge.href=te,ge.download=`employee-analytics-${Jt(new Date,"yyyy-MM-dd")}.csv`,ge.click(),window.URL.revokeObjectURL(te)},he=async(A,V)=>{var te,ge;console.log(` Fetching details for employee: ${A} (${V})`),p(A),T(!0);try{const Le=`/api/analytics/employee-details/${A}?${new URLSearchParams({dateRange:c.dateRange,...c.startDate&&{startDate:c.startDate},...c.endDate&&{endDate:c.endDate}})}`;console.log(` Fetching employee details from: ${Le}`);const Ae=await ct.get(Le);if(Ae.ok){const Ge=await Ae.json();console.log(" Employee details received:",{dayRecords:((te=Ge.dayRecords)==null?void 0:te.length)||0,meetingRecords:((ge=Ge.meetingRecords)==null?void 0:ge.length)||0});const gt=Ge.dayRecords||[],Ft=Ge.meetingRecords||[];try{const ht=new URLSearchParams({employeeId:A});c.startDate&&ht.append("startDate",c.startDate),c.endDate&&ht.append("endDate",c.endDate);const It=`/api/analytics/attendance?${ht}`;console.log(` Fetching attendance from: ${It}`);const At=await ct.get(It);if(console.log(` Attendance response status: ${At.status}`),At.ok){const ft=await At.json();if(console.log(" Attendance data received:",ft),ft.success&&ft.data){console.log(` Processing ${ft.data.length} attendance records`);const Oe=new Map(ft.data.map(St=>[St.date,St]));let Nt=0;gt.forEach(St=>{const Ut=Oe.get(St.date);Ut&&(St.attendanceStatus=Ut.attendanceStatus,St.attendanceReason=Ut.attendanceReason,Nt++,console.log(` Merged attendance for ${St.date}:`,{status:Ut.attendanceStatus,reason:Ut.attendanceReason}))}),console.log(` Merged ${Nt} attendance records with day records`)}else console.log(" No attendance data in response")}else console.warn(` Attendance API returned status: ${At.status}`)}catch(ht){console.error(" Failed to fetch attendance data:",ht)}console.log(` Setting state with ${gt.length} day records and ${Ft.length} meeting records`),w(gt),b(Ft)}else console.error(` Failed to fetch employee details - Status: ${Ae.status}`),w([]),b([])}catch(Le){console.error(" Error fetching employee details:",Le),w([]),b([])}finally{T(!1),console.log(" Employee details loading complete")}},Pe=()=>{p(null),w([]),b([])},K=(A,V)=>{const te=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900","bg-indigo-50 border-indigo-200 text-indigo-900"];return te[V%te.length]},J=async(A,V)=>{var Le,Ae;if(!A){console.error("No employee ID provided for meeting history");return}console.log("meeting works perfectly");const te=((Le=e.find(Ge=>Ge.employeeId===A))==null?void 0:Le.employeeName)||(f===A?"Selected Employee":"Unknown Employee"),ge=V?`employee: ${A} (${te}), leadId: ${V}`:`employee: ${A} (${te})`;console.log(`Opening meeting history for ${ge}`),j({isOpen:!0,employeeId:A,employeeName:V?`${te} - Lead ${V}`:te,meetingHistory:[],loading:!0});try{const Ge=new URLSearchParams;Ge.append("employeeId",A),Ge.append("limit","50"),Ge.append("_t",Date.now().toString()),V&&Ge.append("leadId",V),c.dateRange!=="all"?(Ge.append("dateRange",c.dateRange),c.startDate&&Ge.append("startDate",c.startDate),c.endDate&&Ge.append("endDate",c.endDate),console.log(`Applying date filter to meeting history for ${te}:`,c.dateRange)):console.log(`Showing ALL meetings in history for ${te} (All Time filter selected)`),console.log(`Fetching meeting history for ${te} with filters: ${Ge.toString()}`);const Ft=await ct.get(`/api/meeting-history?${Ge.toString()}`);if(Ft.ok){const ht=await Ft.json();console.log(`Meeting history response for ${te}: ${((Ae=ht.meetings)==null?void 0:Ae.length)||0} records`);const It=ht.meetings||[],At=It.filter(Oe=>Oe.employeeId!==A);At.length>0&&console.error(`WARNING: Found ${At.length} meetings that don't belong to employee ${A}:`,At.map(Oe=>({meetingEmployeeId:Oe.employeeId,leadId:Oe.leadId})));const ft=It.filter(Oe=>Oe.employeeId===A);console.log(`After filtering: ${ft.length} meetings actually belong to ${te}`),j(Oe=>({...Oe,meetingHistory:ft,loading:!1}))}else console.error(`Failed to fetch meeting history for ${te}`),j(ht=>({...ht,meetingHistory:[],loading:!1}))}catch(Ge){console.error(`Error fetching meeting history for ${te}:`,Ge),j(gt=>({...gt,meetingHistory:[],loading:!1}))}},ee=()=>{console.log("Closing meeting history modal"),j({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1})},pe=A=>{k({isOpen:!0,employeeId:A})},U=()=>{k({isOpen:!1,employeeId:""})},de=[{value:"full_day",label:"Full Day"},{value:"half_day",label:"Half Day"},{value:"off",label:"Off"},{value:"short_leave",label:"Short Leave"},{value:"ot",label:"OT"}],ae=(A,V,te)=>{M(ge=>({...ge,[A]:{attendanceStatus:V||"full_day",attendanceReason:te||"",isEditing:!0,isSaving:!1}}))},z=A=>{M(V=>{const te={...V};return delete te[A],te})},X=(A,V)=>{M(te=>({...te,[A]:{...te[A],attendanceStatus:V}}))},ye=(A,V)=>{M(te=>({...te,[A]:{...te[A],attendanceReason:V}}))},Ee=async A=>{const V=O[A];if(!(!V||!f)){console.log(` Saving attendance for ${A}:`,V),M(te=>({...te,[A]:{...te[A],isSaving:!0}}));try{const te=await ct.post("/api/analytics/save-attendance",{employeeId:f,date:A,attendanceStatus:V.attendanceStatus,attendanceReason:V.attendanceReason});if(te.ok){const ge=await te.json();console.log(" Attendance saved successfully:",ge),w(Le=>Le.map(Ae=>Ae.date===A?{...Ae,attendanceStatus:V.attendanceStatus,attendanceReason:V.attendanceReason}:Ae)),z(A),console.log(` Attendance updated in UI for ${A}`)}else{console.error(` Failed to save attendance - Status: ${te.status}`);const ge=await te.text();console.error("Error response:",ge),alert("Failed to save attendance. Please try again.")}}catch(te){console.error(" Error saving attendance:",te),alert("Error saving attendance. Please try again.")}finally{M(te=>({...te,[A]:{...te[A],isSaving:!1}}))}}},we=A=>{const V=Math.floor(A),te=Math.round((A-V)*60);return`${V}h ${te}m`},Y=A=>{switch(A){case"active":return i.jsx(Et,{className:"bg-success text-success-foreground",children:"Active"});case"meeting":return i.jsx(Et,{className:"bg-warning text-warning-foreground",children:"In Meeting"});case"inactive":return i.jsx(Et,{variant:"secondary",children:"Offline"});default:return i.jsx(Et,{variant:"secondary",children:"Unknown"})}};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"border-b bg-card shadow-sm",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Analytics Dashboard"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Employee performance and meeting analytics for"," ",q()]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Se,{asChild:!0,variant:"outline",size:"sm",children:i.jsxs(Rs,{to:"/route-test",children:[i.jsx(uw,{className:"h-4 w-4 mr-2"}),"Test Route Tracking"]})}),i.jsxs(Se,{onClick:ne,variant:"outline",children:[i.jsx(rw,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Total Employees"}),i.jsx(Ji,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsx("div",{className:"text-2xl font-bold",children:I.totalEmployees}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Active in system"})]})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Active Meetings"}),i.jsx(bp,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsx("div",{className:"text-2xl font-bold text-warning",children:I.activeMeetings}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently ongoing"})]})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs(bt,{className:"text-sm font-medium",children:["Meetings ",q()]}),i.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsx("div",{className:"text-2xl font-bold text-success",children:I.totalMeetingsToday}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed meetings"})]})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Avg Meeting Duration"}),i.jsx(HN,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsxs("div",{className:"text-2xl font-bold text-info",children:[I.avgMeetingDuration.toFixed(1),"h"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Per meeting"})]})]})]}),i.jsxs(tt,{className:"mb-6",children:[i.jsx(_t,{children:i.jsxs(bt,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(iw,{className:"h-4 w-4 mr-2"}),"Filters"]}),c.dateRange==="custom"&&c.startDate&&c.endDate&&i.jsxs(Et,{variant:"secondary",className:"text-xs",children:["Custom: ",Jt(new Date(c.startDate),"MMM dd")," -"," ",Jt(new Date(c.endDate),"MMM dd")]})]})}),i.jsx(nt,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{htmlFor:"search",children:"Search Employee"}),i.jsxs("div",{className:"relative",children:[i.jsx(Qc,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(an,{id:"search",placeholder:"Search by name...",value:c.searchTerm,onChange:A=>F("searchTerm",A.target.value),className:"pl-8"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{children:"Employee"}),i.jsxs(Ls,{value:c.employeeId,onValueChange:A=>F("employeeId",A),children:[i.jsx(ls,{children:i.jsx(Ds,{placeholder:"All Employees"})}),i.jsxs(cs,{children:[i.jsx(Zt,{value:"all",children:"All Employees"}),e.map(A=>i.jsx(Zt,{value:A.employeeId,children:A.employeeName},A.employeeId))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{children:"Date Range"}),i.jsxs(Ls,{value:c.dateRange,onValueChange:A=>F("dateRange",A),children:[i.jsx(ls,{children:i.jsx(Ds,{})}),i.jsxs(cs,{children:[i.jsx(Zt,{value:"all",children:"All Time"}),i.jsx(Zt,{value:"today",children:"Today"}),i.jsx(Zt,{value:"yesterday",children:"Yesterday"}),i.jsx(Zt,{value:"week",children:"This Week"}),i.jsx(Zt,{value:"month",children:"This Month"}),i.jsx(Zt,{value:"custom",children:"Custom Range"})]})]})]}),c.dateRange==="custom"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{htmlFor:"startDate",children:"Start Date"}),i.jsx(an,{id:"startDate",type:"date",value:c.startDate||"",onChange:A=>F("startDate",A.target.value),max:c.endDate||Jt(new Date,"yyyy-MM-dd")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{htmlFor:"endDate",children:"End Date"}),i.jsx(an,{id:"endDate",type:"date",value:c.endDate||"",onChange:A=>F("endDate",A.target.value),min:c.startDate||"",max:Jt(new Date,"yyyy-MM-dd")}),c.dateRange==="custom"&&(!c.startDate||!c.endDate)&&i.jsx("p",{className:"text-xs text-amber-600",children:"Please select both start and end dates"})]})]}),c.dateRange==="custom"&&i.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-2 xl:col-span-2",children:[i.jsx(Rt,{children:"Quick Select"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>ce("last7"),className:"text-xs",children:"Last 7 Days"}),i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>ce("last30"),className:"text-xs",children:"Last 30 Days"}),i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>ce("thisMonth"),className:"text-xs",children:"This Month"}),i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>ce("lastMonth"),className:"text-xs",children:"Last Month"})]})]}),i.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-1 xl:col-span-1",children:[i.jsx(Rt,{children:""}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(Se,{onClick:Z,className:"flex-1",disabled:s||c.dateRange==="custom"&&(!c.startDate||!c.endDate),children:[i.jsx(DN,{className:"h-4 w-4 mr-2"}),s?"Loading...":"Apply Filter"]}),c.dateRange==="custom"&&i.jsx(Se,{variant:"outline",onClick:ie,disabled:s,children:"Clear"})]})]})]})})]}),f?i.jsxs("div",{className:"space-y-6",children:[i.jsx(tt,{children:i.jsx(nt,{className:"pt-6",children:i.jsxs(Se,{onClick:Pe,variant:"outline",children:[i.jsx(uf,{className:"h-4 w-4 mr-2"}),"Back to Employee List"]})})}),S?i.jsx(tt,{children:i.jsx(nt,{className:"py-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading employee details..."})]})})}):i.jsxs(i.Fragment,{children:[Array.from(new Set([...g.map(V=>V.date),..._.map(V=>V.date)])).sort((V,te)=>new Date(te).getTime()-new Date(V).getTime()).map((V,te)=>{var Ge,gt,Ft,ht,It,At,ft;const ge=g.find(Oe=>Oe.date===V),Le=_.filter(Oe=>Oe.date===V),Ae=K(V,te);return i.jsxs("div",{className:`p-4 rounded-lg border-2 ${Ae}`,children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:Jt(new Date(V),"EEEE, MMMM dd, yyyy")}),ge&&i.jsxs(tt,{className:"mb-4",children:[i.jsx(_t,{children:i.jsx(bt,{className:"text-sm",children:"Daily Summary"})}),i.jsx(nt,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Mc,{children:[i.jsx(Rc,{children:i.jsxs(ao,{className:Ae,children:[i.jsx(yt,{children:"Date"}),i.jsx(yt,{children:"Total Meetings"}),i.jsx(yt,{children:"Start Location Time"}),i.jsx(yt,{children:"Start Location Address"}),i.jsx(yt,{children:"Out Location Time"}),i.jsx(yt,{children:"Out Location Address"}),i.jsx(yt,{children:"Total Duty Hours"}),i.jsx(yt,{children:"Meeting Time"}),i.jsx(yt,{children:"Travel & Lunch Time"}),i.jsx(yt,{children:"Attendance Status"}),i.jsx(yt,{children:"Reason"}),i.jsx(yt,{children:"Actions"})]})}),i.jsx(Lc,{children:i.jsxs(ao,{className:`${Ae} opacity-80`,children:[i.jsx(wt,{children:Jt(new Date(ge.date),"MM/dd/yyyy")}),i.jsx(wt,{children:ge.totalMeetings}),i.jsx(wt,{children:ge.startLocationTime?Jt(new Date(ge.startLocationTime),"HH:mm"):"-"}),i.jsx(wt,{children:ge.startLocationAddress||"-"}),i.jsx(wt,{children:ge.outLocationTime?Jt(new Date(ge.outLocationTime),"HH:mm"):"-"}),i.jsx(wt,{children:ge.outLocationAddress||"-"}),i.jsx(wt,{children:we(ge.totalDutyHours)}),i.jsx(wt,{children:we(ge.meetingTime)}),i.jsx(wt,{children:we(ge.travelAndLunchTime)}),i.jsx(wt,{children:(Ge=O[V])!=null&&Ge.isEditing?i.jsxs(Ls,{value:O[V].attendanceStatus,onValueChange:Oe=>X(V,Oe),children:[i.jsx(ls,{className:"w-32",children:i.jsx(Ds,{})}),i.jsx(cs,{children:de.map(Oe=>i.jsx(Zt,{value:Oe.value,children:Oe.label},Oe.value))})]}):i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("span",{className:"text-sm",children:ge.attendanceStatus?((gt=de.find(Oe=>Oe.value===ge.attendanceStatus))==null?void 0:gt.label)||ge.attendanceStatus:"Full Day"})})}),i.jsx(wt,{children:(Ft=O[V])!=null&&Ft.isEditing?i.jsx(ca,{value:O[V].attendanceReason,onChange:Oe=>ye(V,Oe.target.value),placeholder:"Enter reason...",className:"w-40 h-16 text-xs"}):i.jsx("div",{className:"max-w-40 text-xs",children:ge.attendanceReason||"-"})}),i.jsx(wt,{children:(ht=O[V])!=null&&ht.isEditing?i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Se,{size:"sm",onClick:()=>Ee(V),disabled:(It=O[V])==null?void 0:It.isSaving,className:"h-7 px-2",children:(At=O[V])!=null&&At.isSaving?i.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):i.jsx(lw,{className:"h-3 w-3"})}),i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>z(V),disabled:(ft=O[V])==null?void 0:ft.isSaving,className:"h-7 px-2",children:""})]}):i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>ae(V,ge.attendanceStatus,ge.attendanceReason),className:"h-7 px-2",children:i.jsx(cw,{className:"h-3 w-3"})})})]})})]})})})]}),Le.length>0&&i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsx(bt,{className:"text-sm",children:"Meeting Details"})}),i.jsx(nt,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Mc,{children:[i.jsx(Rc,{children:i.jsxs(ao,{className:Ae,children:[i.jsx(yt,{children:"Employee Name"}),i.jsx(yt,{children:"Company Name"}),i.jsx(yt,{children:"Date"}),i.jsx(yt,{children:"Lead ID"}),i.jsx(yt,{children:"Meeting In Time"}),i.jsx(yt,{children:"Meeting In Location"}),i.jsx(yt,{children:"Meeting Out Time"}),i.jsx(yt,{children:"Meeting Out Location"}),i.jsx(yt,{children:"Total Stay Time"}),i.jsx(yt,{children:"Discussion"}),i.jsx(yt,{children:"Meeting Person"}),i.jsx(yt,{children:"History"})]})}),i.jsx(Lc,{children:Le.map((Oe,Nt)=>{var St;return i.jsxs(ao,{className:`${Ae} opacity-80`,children:[i.jsx(wt,{children:((St=e.find(Ut=>Ut.employeeId===f))==null?void 0:St.employeeName)||Oe.employeeName}),i.jsx(wt,{children:Oe.companyName}),i.jsx(wt,{children:Jt(new Date(Oe.date),"MM/dd/yyyy")}),i.jsx(wt,{children:Oe.leadId||"-"}),i.jsx(wt,{children:Oe.meetingInTime}),i.jsx(wt,{children:Oe.meetingInLocation}),i.jsx(wt,{children:Oe.meetingOutTime}),i.jsx(wt,{children:Oe.meetingOutLocation}),i.jsx(wt,{children:we(Oe.totalStayTime)}),i.jsx(wt,{className:"max-w-xs truncate",children:Oe.discussion||"-"}),i.jsx(wt,{children:Oe.meetingPerson}),i.jsx(wt,{children:i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>{const Ut=f,Mn=Oe.leadId;J(Ut,Mn)},children:[i.jsx(rl,{className:"h-4 w-4 mr-1"}),"History"]})})]},Nt)})})]})})})]})]},V)}),g.length===0&&_.length===0&&i.jsx(tt,{children:i.jsx(nt,{className:"py-12",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected employee and date range"})})})})]})]}):i.jsxs(tt,{children:[i.jsxs(_t,{children:[i.jsx(bt,{children:"Employee Analytics"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed breakdown of employee performance and meeting statistics"})]}),i.jsx(nt,{children:s?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]}):e.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected filters"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Mc,{children:[i.jsx(Rc,{children:i.jsxs(ao,{children:[i.jsx(yt,{children:"Employee Name"}),i.jsx(yt,{children:"Status"}),i.jsx(yt,{className:"text-center",children:"Total Meetings"}),i.jsx(yt,{className:"text-center",children:"Today's Meetings"}),i.jsx(yt,{className:"text-center",children:"Meeting Hours"}),i.jsx(yt,{className:"text-center",children:"Duty Hours"}),i.jsx(yt,{className:"text-center",children:"Actions"})]})}),i.jsx(Lc,{children:e.map(A=>i.jsxs(ao,{children:[i.jsx(wt,{className:"font-medium",children:A.employeeName}),i.jsx(wt,{children:Y(A.status)}),i.jsx(wt,{className:"text-center",children:i.jsx(Et,{variant:"outline",children:A.totalMeetings})}),i.jsx(wt,{className:"text-center",children:i.jsx(Et,{variant:"outline",className:A.todayMeetings>0?"bg-success/10 text-success border-success":"",children:A.todayMeetings})}),i.jsx(wt,{className:"text-center",children:i.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[i.jsx(jn,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("span",{children:we(A.totalMeetingHours)})]})}),i.jsx(wt,{className:"text-center",children:i.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[i.jsx(jn,{className:"h-3 w-3 text-muted-foreground"}),i.jsx("span",{children:we(A.totalDutyHours)})]})}),i.jsx(wt,{className:"text-center",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>he(A.employeeId,A.employeeName),children:[i.jsx(sw,{className:"h-4 w-4 mr-1"}),"View Details"]}),i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>pe(A.employeeId),children:[i.jsx(rl,{className:"h-4 w-4 mr-1"}),"Route History"]})]})})]},A.employeeId))})]})})})]})]}),i.jsx(kr,{open:P.isOpen,onOpenChange:ee,children:i.jsxs(ur,{className:"sm:max-w-[1200px] max-h-[80vh] overflow-y-auto",children:[i.jsxs(dr,{children:[i.jsxs(fr,{className:"flex items-center space-x-2",children:[i.jsx(rl,{className:"h-5 w-5 text-primary"}),i.jsxs("span",{children:["Meeting History - ",P.employeeName," (ID:"," ",P.employeeId,")"]})]}),i.jsx(hr,{children:"Complete meeting history and interactions for this employee"})]}),i.jsx("div",{className:"space-y-4",children:P.loading?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading meeting history..."})]}):P.meetingHistory.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-muted-foreground",children:"No meeting history found for this employee"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Mc,{children:[i.jsx(Rc,{children:i.jsxs(ao,{children:[i.jsx(yt,{children:"Date"}),i.jsx(yt,{children:"Employee"}),i.jsx(yt,{children:"Company"}),i.jsx(yt,{children:"Lead ID"}),i.jsx(yt,{children:"Customer Name"}),i.jsx(yt,{children:"Contact Person"}),i.jsx(yt,{children:"Contact Details"}),i.jsx(yt,{children:"Discussion"}),i.jsx(yt,{children:"Status"})]})}),i.jsx(Lc,{children:P.meetingHistory.map((A,V)=>{var te,ge,Le,Ae,Ge,gt,Ft,ht,It,At,ft,Oe,Nt,St,Ut,Mn,En,Ht,mn,wn,Cn,Q,be,Be,Ve,st,$e,Me,Ye,se,ve,Te,De,Ie,Lt,Ke,vt;return i.jsxs(ao,{children:[i.jsx(wt,{children:Jt(new Date(A.timestamp),"MMM dd, yyyy HH:mm")}),i.jsx(wt,{className:"font-medium",children:P.employeeName}),i.jsx(wt,{className:"font-medium",children:((te=A.meetingDetails)==null?void 0:te.customerName)||((Ae=(Le=(ge=A.meetingDetails)==null?void 0:ge.customers)==null?void 0:Le[0])==null?void 0:Ae.customerName)||((Ge=A.leadInfo)==null?void 0:Ge.companyName)||"-"}),i.jsx(wt,{children:A.leadId?i.jsx(Et,{variant:"outline",children:A.leadId}):i.jsx("span",{className:"text-muted-foreground",children:"-"})}),i.jsx(wt,{children:((Ft=(gt=A.meetingDetails)==null?void 0:gt.customers)==null?void 0:Ft.map(Pt=>Pt.customerName).join(", "))||((ht=A.meetingDetails)==null?void 0:ht.customerName)||"-"}),i.jsx(wt,{children:((At=(It=A.meetingDetails)==null?void 0:It.customers)==null?void 0:At.map(Pt=>Pt.customerEmployeeName).join(", "))||((ft=A.meetingDetails)==null?void 0:ft.customerEmployeeName)||"-"}),i.jsx(wt,{children:i.jsxs("div",{className:"text-xs space-y-1",children:[(((St=(Nt=(Oe=A.meetingDetails)==null?void 0:Oe.customers)==null?void 0:Nt[0])==null?void 0:St.customerEmail)||((Ut=A.meetingDetails)==null?void 0:Ut.customerEmail))&&i.jsxs("div",{children:[""," ",((Ht=(En=(Mn=A.meetingDetails)==null?void 0:Mn.customers)==null?void 0:En[0])==null?void 0:Ht.customerEmail)||((mn=A.meetingDetails)==null?void 0:mn.customerEmail)]}),(((Q=(Cn=(wn=A.meetingDetails)==null?void 0:wn.customers)==null?void 0:Cn[0])==null?void 0:Q.customerMobile)||((be=A.meetingDetails)==null?void 0:be.customerMobile))&&i.jsxs("div",{children:[""," ",((st=(Ve=(Be=A.meetingDetails)==null?void 0:Be.customers)==null?void 0:Ve[0])==null?void 0:st.customerMobile)||(($e=A.meetingDetails)==null?void 0:$e.customerMobile)]}),(((se=(Ye=(Me=A.meetingDetails)==null?void 0:Me.customers)==null?void 0:Ye[0])==null?void 0:se.customerDesignation)||((ve=A.meetingDetails)==null?void 0:ve.customerDesignation))&&i.jsxs("div",{children:[""," ",((Ie=(De=(Te=A.meetingDetails)==null?void 0:Te.customers)==null?void 0:De[0])==null?void 0:Ie.customerDesignation)||((Lt=A.meetingDetails)==null?void 0:Lt.customerDesignation)]})]})}),i.jsx(wt,{className:"max-w-xs",children:i.jsx("div",{className:"truncate",title:(Ke=A.meetingDetails)==null?void 0:Ke.discussion,children:((vt=A.meetingDetails)==null?void 0:vt.discussion)||"-"})}),i.jsx(wt,{children:i.jsx(Et,{variant:"default",className:"bg-success text-success-foreground",children:"Completed"})})]},V)})})]})})})]})}),i.jsx(Sb,{employeeId:C.employeeId,isOpen:C.isOpen,onClose:U})]})}const SM=(e={})=>{const[t,s]=v.useState({latitude:null,longitude:null,accuracy:null,error:null,loading:!0}),{enableHighAccuracy:a=!0,maximumAge:c=0,timeout:d=1e4,watchPosition:f=!1}=e,p=v.useCallback(_=>(s({latitude:_.coords.latitude,longitude:_.coords.longitude,accuracy:_.coords.accuracy,error:null,loading:!1}),_),[]),g=v.useCallback(_=>{let b="An unknown error occurred";switch(_.code){case _.PERMISSION_DENIED:b="Location access denied by user";break;case _.POSITION_UNAVAILABLE:b="Location information unavailable";break;case _.TIMEOUT:b="Location request timed out";break}return s(S=>({...S,error:b,loading:!1})),null},[]),w=v.useCallback(()=>new Promise(_=>{if(!navigator.geolocation){s(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1})),_(null);return}s(b=>({...b,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(b=>_(p(b)),b=>_(g(b)),{enableHighAccuracy:a,maximumAge:c,timeout:d})}),[a,c,d,p,g]);return v.useEffect(()=>{if(!navigator.geolocation){s(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1}));return}let _=null;return f?_=navigator.geolocation.watchPosition(p,g,{enableHighAccuracy:a,maximumAge:c,timeout:d}):w(),()=>{_!==null&&navigator.geolocation.clearWatch(_)}},[f,w,p,g,a,c,d]),{...t,getCurrentPosition:w}};function jM({employeeId:e,employeeName:t,onLocationUpdate:s,trackingEnabled:a=!1,onTrackingSessionStart:c,onTrackingSessionEnd:d,todaysMeetings:f=[]}){const{toast:p}=_l(),[g,w]=v.useState(!1),[_,b]=v.useState(""),[S,T]=v.useState(!1),[P,j]=v.useState([]),[C,k]=v.useState({}),O=()=>{try{const se=localStorage.getItem(`tracking_${e}`);if(se){const ve=JSON.parse(se);if(console.log(" Restored tracking state from localStorage:",ve),ve.isTracking===!0)return!0}}catch(se){console.warn("Error reading tracking state from localStorage:",se)}return!1},[M,I]=v.useState(O),[$,Z]=v.useState(null),[F,ie]=v.useState(0),[ce,q]=v.useState(null),[ne,he]=v.useState(0),[Pe,K]=v.useState(0),ee=(()=>{try{const se=localStorage.getItem(`trackingData_${e}`);if(se){const ve=JSON.parse(se);return console.log(" Restored tracking data from localStorage:",ve),{currentSession:ve.currentSession,trackingStartTime:ve.trackingStartTime?new Date(ve.trackingStartTime):null,routeCoordinates:ve.routeCoordinates||[],totalDistance:ve.totalDistance||0}}}catch(se){console.warn("Error reading tracking data from localStorage:",se)}return{currentSession:null,trackingStartTime:null,routeCoordinates:[],totalDistance:0}})(),[pe,U]=v.useState(ee.currentSession),[de,ae]=v.useState(ee.trackingStartTime),[z,X]=v.useState(null),[ye,Ee]=v.useState(0),[we,Y]=v.useState(ee.routeCoordinates),[A,V]=v.useState(ee.totalDistance),te=v.useRef(null),ge=(se,ve,Te,De,Ie)=>{try{const Lt={isTracking:se,timestamp:new Date().toISOString()},Ke={currentSession:ve,trackingStartTime:Te==null?void 0:Te.toISOString(),routeCoordinates:De,totalDistance:Ie,lastSaved:new Date().toISOString()};localStorage.setItem(`tracking_${e}`,JSON.stringify(Lt)),localStorage.setItem(`trackingData_${e}`,JSON.stringify(Ke)),console.log(" Tracking state saved to localStorage")}catch(Lt){console.warn("Error saving tracking state to localStorage:",Lt)}},Le=()=>{try{localStorage.removeItem(`tracking_${e}`),localStorage.removeItem(`trackingData_${e}`),console.log(" Tracking state cleared from localStorage")}catch(se){console.warn("Error clearing tracking state from localStorage:",se)}},[Ae,Ge]=v.useState(!1),[gt,Ft]=v.useState(!1),[ht,It]=v.useState(!1),[At,ft]=v.useState(null),{latitude:Oe,longitude:Nt,accuracy:St,error:Ut,loading:Mn,getCurrentPosition:En}=SM({enableHighAccuracy:!0,maximumAge:0,timeout:3e4,watchPosition:M});v.useEffect(()=>{var se;M&&de&&pe&&(console.log(" Restored active tracking session, resuming..."),En(),c==null||c(pe),ht&&gt&&(console.log(" Restarting background tracking via Service Worker"),(se=navigator.serviceWorker.controller)==null||se.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}})))},[]),v.useEffect(()=>{const se=()=>{M&&pe&&(ge(M,pe,de,we,A),console.log(" Saved tracking state before page unload"))};return window.addEventListener("beforeunload",se),()=>{window.removeEventListener("beforeunload",se)}},[M,pe,de,we,A]),v.useEffect(()=>{const se=window.matchMedia("(display-mode: standalone)").matches,ve=window.matchMedia("(display-mode: standalone)").matches;Ge(se||ve);const Te="serviceWorker"in navigator,De="Notification"in window;return Ft(Te&&De),Te&&navigator.serviceWorker.ready.then(Ie=>{console.log("Service Worker ready for location tracking"),It(!0),navigator.serviceWorker.addEventListener("message",mn)}),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",mn)}},[]);const Ht=v.useCallback((se,ve,Te,De)=>{const Lt=se*Math.PI/180,Ke=Te*Math.PI/180,vt=(Te-se)*Math.PI/180,Pt=(ve-De)*Math.PI/180,Yt=Math.sin(vt/2)*Math.sin(vt/2)+Math.cos(Lt)*Math.cos(Ke)*Math.sin(Pt/2)*Math.sin(Pt/2);return 6371e3*(2*Math.atan2(Math.sqrt(Yt),Math.sqrt(1-Yt)))},[]),mn=v.useCallback(se=>{var ve,Te;if(((ve=se.data)==null?void 0:ve.type)==="LOCATION_UPDATE"){const De=se.data.payload;if(console.log("Received background location update:",De),M){const Ie={lat:De.latitude,lng:De.longitude,address:`${De.latitude.toFixed(6)}, ${De.longitude.toFixed(6)}`,timestamp:De.timestamp};Y(Lt=>{const Ke=[...Lt,Ie];if(Lt.length>0){const vt=Lt[Lt.length-1],Pt=Ht(vt.lat,vt.lng,De.latitude,De.longitude);V(Yt=>Yt+Pt)}return Ke})}}((Te=se.data)==null?void 0:Te.type)==="GET_EMPLOYEE_ID"&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"EMPLOYEE_ID_RESPONSE",payload:e})},[M,e,Ht]);v.useEffect(()=>(M&&de?(Ee(Date.now()-de.getTime()),te.current=setInterval(()=>{Ee(Date.now()-de.getTime())},1e3)):te.current&&(clearInterval(te.current),te.current=null),()=>{te.current&&clearInterval(te.current)}),[M,de]),v.useEffect(()=>{if(Oe&&Nt&&St&&M){const se=Date.now(),ve=se-Pe;if((()=>{if(Pe===0)return!0;if(ve<2e3)return!1;if(ve>=15e3)return!0;if(we.length>0){const De=we[we.length-1];if(Ht(De.lat,De.lng,Oe,Nt)>2||St&&St<15)return!0}return!1})()){wn(Oe,Nt,St);const De={lat:Oe,lng:Nt,address:`${Oe.toFixed(6)}, ${Nt.toFixed(6)}`,timestamp:new Date().toISOString()};Y(Ie=>{if(!(()=>{if(Ie.length===0)return!0;const vt=Ie[Ie.length-1];return!!(Ht(vt.lat,vt.lng,Oe,Nt)>2||St&&St<15&&(!vt.accuracy||St<vt.accuracy*.8)||new Date().getTime()-new Date(vt.timestamp).getTime()>18e4)})()){const vt=Ht(Ie[Ie.length-1].lat,Ie[Ie.length-1].lng,Oe,Nt);return vt>.5&&console.log(`Route point filtered: moved ${vt.toFixed(1)}m (threshold: 2m)`),Ie}const Ke=[...Ie,{...De,accuracy:St}];if(Ie.length>0){const vt=Ie[Ie.length-1],Pt=Ht(vt.lat,vt.lng,Oe,Nt);V(Yt=>{const Gr=Yt+Pt;return ge(!0,pe,de,Ke,Gr),console.log(` Added route point: ${Pt.toFixed(1)}m from last, ${Ke.length} total points, ${(Gr/1e3).toFixed(2)}km total`),Gr})}else ge(!0,pe,de,Ke,A),console.log(` Added first route point at ${Oe.toFixed(6)}, ${Nt.toFixed(6)}`);return Ke}),Z(new Date),ie(Ie=>Ie+1),K(se),s==null||s(Oe,Nt,St)}else{const De=ve<2e3?`Rate limited: ${Math.ceil((2e3-ve)/1e3)}s remaining`:"No significant movement detected";console.log(De)}}},[Oe,Nt,St,M,s,Pe,Ht]),console.log("testing location");const wn=async(se,ve,Te,De=0)=>{try{console.log("Attempting to update location:",{employeeId:e,lat:se,lng:ve,accuracy:Te,retryCount:De});const Ie=await ct.put(`/api/employees/${e}/location`,{lat:se,lng:ve,accuracy:Te});if(!Ie.ok){const Ke=await Ie.text();throw new Error(`Failed to update location: ${Ie.status} ${Ie.statusText} - ${Ke}`)}const Lt=await Ie.json();console.log("Location update successful:",Lt),q(null),he(0)}catch(Ie){if(console.error("Error updating location:",Ie),De<1&&Ie instanceof TypeError&&Ie.message.includes("fetch")){console.log("Retrying location update after network error..."),setTimeout(()=>wn(se,ve,Te,De+1),3e3);return}q(Ie instanceof Error?Ie.message:"Unknown error"),he(Lt=>Lt+1),ne>=2&&(I(!1),console.warn("Disabling tracking due to repeated failures"))}},Cn=async()=>{var vt;const se=new Date;ae(se),X(null),Ee(0),Y([]),V(0),I(!0);try{if("wakeLock"in navigator){const Pt=await navigator.wakeLock.request("screen");ft(Pt),console.log("Wake lock acquired for better tracking")}}catch(Pt){console.warn("Wake lock failed:",Pt)}let ve=Oe||0,Te=Nt||0,De="Getting location...";try{console.log(" Fetching fresh location for start position...");const Pt=await En();if(Pt&&Pt.coords){ve=Pt.coords.latitude,Te=Pt.coords.longitude,console.log(" Fresh start location obtained:",{lat:ve,lng:Te});try{console.log(" Fetching address for start location...");const Yt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ve}&lon=${Te}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});Yt.ok?(De=(await Yt.json()).display_name||`${ve.toFixed(6)}, ${Te.toFixed(6)}`,console.log(" Start address resolved:",De)):De=`${ve.toFixed(6)}, ${Te.toFixed(6)}`}catch(Yt){console.warn(" Failed to get start address, using coordinates:",Yt),De=`${ve.toFixed(6)}, ${Te.toFixed(6)}`}}}catch(Pt){console.warn(" Failed to get fresh start location:",Pt),De=ve&&Te?`${ve.toFixed(6)}, ${Te.toFixed(6)}`:"Getting location..."}ht&&gt&&(console.log("Starting background tracking via Service Worker"),(vt=navigator.serviceWorker.controller)==null||vt.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}}));const Ie=`session_${e}_${se.getTime()}`,Lt={lat:ve,lng:Te,address:De,timestamp:se.toISOString()},Ke={id:Ie,employeeId:e,startTime:se.toISOString(),startLocation:Lt,route:[],totalDistance:0,status:"active"};console.log("Starting tracking session with address:",Ke),U(Ke),ge(!0,Ke,se,[],0),c==null||c(Ke)};console.log("testing ");const Q=async()=>{const se=new Date;X(se),I(!1);try{const ve=(f||[]).filter(Te=>{var Ie;const De=(Ie=Te.meetingStatus)==null?void 0:Ie.toLowerCase();return De!=="complete"&&De!=="completed"&&De!=="approved"});if(ve&&ve.length>0){console.log("Incomplete meetings detected:",ve),j(ve);const Te={};ve.forEach(De=>{Te[De._id]=""}),k(Te),w(!0),I(!0),X(null),p({title:"Incomplete Meetings",description:`You have ${ve.length} incomplete meeting(s). Please provide a reason before logging out.`,variant:"destructive"});return}}catch(ve){console.warn("Error checking for incomplete meetings:",ve)}await be(se)},be=async se=>{var Lt;console.log(" Starting performStopTracking - fetching fresh location...");let ve=Oe,Te=Nt,De=St,Ie=Oe&&Nt?`${Oe.toFixed(6)}, ${Nt.toFixed(6)}`:"Location unavailable";try{console.log(" Requesting fresh GPS location for end position...");const Ke=await En();if(Ke&&Ke.coords){ve=Ke.coords.latitude,Te=Ke.coords.longitude,De=Ke.coords.accuracy,console.log(" Fresh end location obtained:",{lat:ve,lng:Te,accuracy:De});try{console.log(" Fetching address for end location..."),await new Promise(Pt=>setTimeout(Pt,1e3));const vt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${ve}&lon=${Te}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"},signal:AbortSignal.timeout(5e3)});vt.ok?(Ie=(await vt.json()).display_name||`${ve.toFixed(6)}, ${Te.toFixed(6)}`,console.log(" End address resolved:",Ie)):(console.warn(" Address API returned error:",vt.status),Ie=`${ve.toFixed(6)}, ${Te.toFixed(6)}`)}catch(vt){console.warn(" Failed to get address, using coordinates:",vt),Ie=`${ve.toFixed(6)}, ${Te.toFixed(6)}`}await wn(ve,Te,De)}else console.warn(" Fresh location not available, using last known location:",{lat:ve,lng:Te})}catch(Ke){console.warn(" Failed to get fresh location, using last known:",Ke)}if(At)try{await At.release(),ft(null),console.log("Wake lock released")}catch(Ke){console.warn("Failed to release wake lock:",Ke)}if(ht&&(console.log("Stopping background tracking via Service Worker"),(Lt=navigator.serviceWorker.controller)==null||Lt.postMessage({type:"STOP_BACKGROUND_TRACKING"})),te.current&&(clearInterval(te.current),te.current=null),console.log("Stopping tracking - Debug info:",{hasCurrentSession:!!pe,hasCoordinates:!!(ve&&Te),endLat:ve,endLng:Te,routePointsCount:we.length,totalDistance:A,elapsedTime:ye}),pe){const Ke={lat:ve||pe.startLocation.lat,lng:Te||pe.startLocation.lng,address:Ie,timestamp:se.toISOString()};let vt=A;if(we.length>=2)try{console.log(`Calculating accurate distance for ${we.length} GPS points...`);const Yt=Wr.createGPSRoute(we);Yt.distance>0?(vt=Yt.distance,console.log(`Distance updated to GPS-calculated: ${(vt/1e3).toFixed(2)} km (was ${(A/1e3).toFixed(2)} km)`)):console.log(`Keeping original GPS distance: ${(A/1e3).toFixed(2)} km`)}catch(Yt){console.warn("Failed to calculate improved distance, using original GPS distance:",Yt.message)}else console.log(`Route has only ${we.length} points, keeping GPS distance: ${(A/1e3).toFixed(2)} km`);const Pt={...pe,endTime:se.toISOString(),endLocation:Ke,route:we.length>0?we:[pe.startLocation],totalDistance:vt,duration:ye/1e3,status:"completed"};console.log("Calling onTrackingSessionEnd with session:",Pt),U(Pt),Le(),d==null||d(Pt)}else console.log("Cannot end tracking session - no current session"),Le()},Be=async()=>{if(P.some(ve=>!C[ve._id]||!C[ve._id].trim())){p({title:"Error",description:"Please provide a reason for each incomplete meeting.",variant:"destructive"});return}T(!0);try{console.log("Saving incomplete meeting remarks for employee:",e),console.log("Incomplete meetings:",P),console.log("Meeting remarks:",C);const ve=P.map(async Ke=>{try{const Pt="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),Yt=await fetch(`${Pt}/updateFollowUp/${Ke._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});Yt.ok?console.log(` Updated meeting ${Ke.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${Ke.companyName} status:`,Yt.status)}catch(vt){console.error(`Error updating meeting ${Ke.companyName}:`,vt)}});await Promise.all(ve);const Te=P.map(Ke=>({_id:Ke._id,leadId:Ke.leadId,companyName:Ke.companyName,customerName:Ke.customerName,customerEmail:Ke.customerEmail||"",customerMobile:Ke.customerMobile||"",customerDesignation:Ke.customerDesignation||"",meetingTime:Ke.meetingTime||"",incompleteReason:C[Ke._id]})),De=await ct.post("/api/incomplete-meeting-remarks",{employeeId:e,reason:"Multiple incomplete meetings",pendingMeetings:Te});if(!De.ok){const Ke=await De.text().catch(()=>"Unknown error");throw new Error(`Failed to save remark: ${De.status} ${Ke}`)}const Ie=await De.json();console.log("Incomplete meeting remarks saved:",Ie),p({title:"Meetings Marked Incomplete",description:`${P.length} meeting(s) marked as incomplete with reasons.`}),I(!1),w(!1),k({}),j([]),await be(new Date)}catch(ve){console.error("Error saving remark:",ve),p({title:"Error",description:ve instanceof Error?ve.message:"Failed to save remark",variant:"destructive"})}finally{T(!1)}},Ve=()=>{w(!1),b(""),j([])},st=se=>se?se<=10?"bg-success":se<=50?"bg-warning":"bg-destructive":"bg-muted",$e=se=>se?se<=10?"High":se<=50?"Medium":"Low":"Unknown",Me=se=>{const ve=Math.floor(se/1e3),Te=Math.floor(ve/60),De=Math.floor(Te/60);return De>0?`${De}h ${Te%60}m ${ve%60}s`:Te>0?`${Te}m ${ve%60}s`:`${ve}s`},Ye=se=>se>=1e3?`${(se/1e3).toFixed(2)} km`:`${Math.round(se)} m`;return i.jsxs(tt,{className:"w-full",children:[i.jsx(_t,{children:i.jsxs(bt,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Jn,{className:"h-5 w-5 text-primary"}),i.jsx("span",{children:"Location Tracking"})]}),i.jsx(Et,{variant:M?"default":"secondary",className:M?"bg-success":"",children:M?"Active":"Inactive"})]})}),i.jsxs(nt,{className:"space-y-4",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Tracking for: ",i.jsx("span",{className:"font-medium",children:t})]}),Ae&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm bg-primary/10 border border-primary/20 rounded-lg p-2",children:[i.jsx(Fd,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-primary font-medium",children:"PWA Mode Active"}),i.jsx(Et,{variant:"secondary",className:"text-xs",children:gt?"Background Tracking Enabled":"Limited Background"})]}),!Ae&&gt&&i.jsxs("div",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Fd,{className:"h-3 w-3 text-amber-600"}),i.jsx("span",{className:"font-medium text-amber-700 dark:text-amber-400",children:"Better Tracking Available"})]}),i.jsx("p",{className:"mt-1",children:"Install this app to your home screen for improved background GPS tracking when phone is in pocket."})]}),M&&de&&i.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(Qv,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"font-medium",children:"Session Active"})]}),i.jsx("div",{className:"text-sm font-mono text-primary",children:Me(ye)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-muted-foreground",children:"Started"}),i.jsx("div",{className:"font-medium",children:de.toLocaleTimeString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-muted-foreground",children:"Distance"}),i.jsx("div",{className:"font-medium",children:Ye(A)})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[i.jsx(Qi,{className:"h-3 w-3"}),i.jsxs("span",{children:["Route points: ",we.length]})]})]}),!M&&z&&de&&i.jsxs("div",{className:"bg-success/5 border border-success/20 rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(Vr,{className:"h-4 w-4 text-success"}),i.jsx("span",{className:"font-medium",children:"Last Session"})]}),i.jsx("div",{className:"text-sm font-mono text-success",children:Me(z.getTime()-de.getTime())})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-muted-foreground",children:"Started"}),i.jsx("div",{className:"font-medium",children:de.toLocaleTimeString()})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-muted-foreground",children:"Ended"}),i.jsx("div",{className:"font-medium",children:z.toLocaleTimeString()})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-muted-foreground flex items-center",children:[i.jsx(aw,{className:"h-3 w-3 mr-1"}),"Distance"]}),i.jsx("div",{className:"font-medium",children:Ye(A)})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-muted-foreground flex items-center",children:[i.jsx(Qi,{className:"h-3 w-3 mr-1"}),"Points"]}),i.jsx("div",{className:"font-medium",children:we.length})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[Mn&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(Fc,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Getting location..."})]}),Ut&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[i.jsx(fn,{className:"h-4 w-4"}),i.jsx("span",{children:Ut})]}),ce&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[i.jsx(fn,{className:"h-4 w-4"}),i.jsxs("span",{children:["Update failed: ",ce," (Failures: ",ne,")"]})]}),Oe&&Nt&&!Mn&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-success",children:[i.jsx(Vr,{className:"h-4 w-4"}),i.jsx("span",{children:"Location acquired"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-muted-foreground",children:"Latitude"}),i.jsx("div",{className:"font-mono",children:Oe.toFixed(6)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-muted-foreground",children:"Longitude"}),i.jsx("div",{className:"font-mono",children:Nt.toFixed(6)})]})]}),St&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Accuracy"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:`h-2 w-2 rounded-full ${st(St)}`}),i.jsxs("span",{className:"text-sm",children:[$e(St)," (",Math.round(St),"m)"]})]})]}),$&&i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[i.jsx(jn,{className:"h-4 w-4"}),i.jsxs("span",{children:["Last update: ",$.toLocaleTimeString()," (",F," updates)"]})]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[M?i.jsx(Se,{onClick:Q,variant:"destructive",className:"flex-1",children:"LogOut"}):i.jsxs(Se,{onClick:Cn,className:"flex-1",children:[i.jsx(co,{className:"h-4 w-4 mr-2"}),"LogIn"]}),i.jsxs(Se,{variant:"outline",onClick:En,children:[i.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Update Now"]})]}),!M&&i.jsxs("div",{className:"text-xs text-muted-foreground p-3 bg-muted/50 rounded-md",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Note:"})," Location tracking requires permission and works best outdoors or near windows. High accuracy mode uses GPS and may drain battery faster."]}),Ae?i.jsxs("p",{className:"mt-2 text-success",children:[i.jsx("strong",{children:"PWA Mode:"})," Enhanced background tracking is active. Your route will be tracked even when the phone is in your pocket."]}):i.jsxs("p",{className:"mt-2",children:[i.jsx("strong",{children:"Tip:"})," Install this app to your home screen for better background tracking when phone is in pocket."]}),i.jsxs("p",{className:"mt-2",children:[i.jsx("strong",{children:"Auto-capture:"})," Route map will be automatically saved when you stop tracking."]})]}),M&&i.jsxs("div",{className:"text-xs text-info p-3 bg-info/10 border border-info/20 rounded-md",children:[i.jsxs("p",{className:"flex items-center",children:[i.jsx(Qi,{className:"h-3 w-3 mr-1"}),i.jsx("strong",{children:"Route will be auto-captured when tracking stops"})]}),de&&pe&&i.jsxs("p",{className:"flex items-center mt-1 text-success",children:[i.jsx(Vr,{className:"h-3 w-3 mr-1"}),i.jsx("strong",{children:"Tracking restored from previous session"})]}),Ae&&gt&&i.jsxs("p",{className:"flex items-center mt-1 text-success",children:[i.jsx(Fd,{className:"h-3 w-3 mr-1"}),i.jsx("strong",{children:"Background tracking active - keep phone in pocket"})]}),At&&i.jsxs("p",{className:"flex items-center mt-1 text-amber-600",children:[i.jsx(Qv,{className:"h-3 w-3 mr-1"}),"Screen sleep disabled for better tracking"]})]}),i.jsx(kr,{open:g,onOpenChange:Ve,children:i.jsxs(ur,{className:"sm:max-w-[600px]",children:[i.jsxs(dr,{children:[i.jsxs(fr,{className:"flex items-center gap-2",children:[i.jsx(fn,{className:"h-5 w-5 text-warning"}),"Incomplete Meetings"]}),i.jsxs(hr,{children:["You have ",P.length," incomplete meeting(s) today. Please provide a reason for each company before logging out."]})]}),i.jsxs("div",{className:"space-y-4 py-4 max-h-[380px] overflow-y-auto",children:[P.map(se=>i.jsxs("div",{className:"border border-muted-foreground/10 rounded-lg p-3 bg-muted/40 space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(fn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-semibold",children:se.companyName||"No Company Name"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[se.customerName&&i.jsxs(i.Fragment,{children:["Contact: ",se.customerName]}),se.meetingTime&&i.jsxs(i.Fragment,{children:[" "," Time: ",se.meetingTime]})]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs(Rt,{className:"text-xs",htmlFor:`reason-${se._id}`,children:["Reason for not completing this meeting",i.jsx("span",{className:"text-destructive",children:" *"})]}),i.jsx(ca,{id:`reason-${se._id}`,placeholder:"E.g., client postponed, decision maker not available, visit rescheduled, etc...",value:C[se._id]||"",onChange:ve=>k(Te=>({...Te,[se._id]:ve.target.value})),rows:3,disabled:S})]})]},se._id)),P.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"No incomplete meetings found."})]}),i.jsxs(sa,{children:[i.jsx(Se,{variant:"outline",onClick:Ve,disabled:S,children:"Cancel"}),i.jsx(Se,{onClick:Be,disabled:S,children:S?i.jsxs(i.Fragment,{children:[i.jsx(FN,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Submit & Logout"})]})]})})]})]})}const jb=v.forwardRef(({onEmployeeSelect:e,selectedEmployeeId:t,disabled:s=!1,onAddNewEmployee:a,filterByCompany:c},d)=>{const[f,p]=v.useState([]),[g,w]=v.useState([]),[_,b]=v.useState([]),[S,T]=v.useState(!1),[P,j]=v.useState(null),C=async()=>{T(!0),j(null);try{const $=await fetch("https://jbdspower.in/LeafNetServer/api/customer");if(!$.ok)throw new Error(`Failed to fetch customers: ${$.statusText}`);const Z=await $.json(),F=Array.isArray(Z)?Z:[];p(F);let ie=F.flatMap(ce=>(ce.Employees||[]).map(q=>({...q,customerName:ce.CustomerCompanyName,customerId:ce._id})));c&&typeof c=="string"&&(ie=ie.filter(ce=>{var q;return((q=ce.customerName)==null?void 0:q.toLowerCase().trim())===c.toLowerCase().trim()}),console.log(`Filtered employees for company "${c}":`,ie.length)),w(ie)}catch($){console.error("Error fetching customers:",$),j($ instanceof Error?$.message:"Failed to fetch customers")}finally{T(!1)}},k=($,Z,F)=>{const ie={...$,customerName:Z,customerId:F};console.log("Adding temporary employee:",ie),b(ce=>{const q=[...ce,ie];try{localStorage.setItem("tempCustomerEmployees",JSON.stringify(q))}catch(ne){console.error("Error saving temporary employees:",ne)}return console.log("Updated temp employees:",q),q})};v.useEffect(()=>{C()},[c]),v.useEffect(()=>{console.log("tempEmployees changed:",_)},[_]),v.useEffect(()=>{typeof window<"u"&&(window.debugCustomerSelector={getTempEmployees:()=>_,getEmployees:()=>g,addTestEmployee:()=>{const $={_id:`temp_test_${Date.now()}`,CustomerEmpName:"Test Employee",Designation:"Test Position",Department:"Test Dept",Mobile:"1234567890",Email:"test@test.com"};k($,"Test Company",`temp_customer_${Date.now()}`)}})},[_,g,k]);const O=()=>{console.log("Clearing temporary employees"),b([]);try{localStorage.removeItem("tempCustomerEmployees")}catch($){console.error("Error clearing temporary employees:",$)}},M=()=>{console.log("Resetting customer employee selection"),O()};v.useImperativeHandle(d,()=>({refreshCustomers:C,addTempEmployee:k,clearTempEmployees:O,resetSelection:M}));const I=$=>{const F=[...g,..._].find(ie=>ie._id===$);if(console.log("CustomerEmployeeSelector: Employee selected:",$),console.log("CustomerEmployeeSelector: Found employee:",F),F)if(F._id.startsWith("temp_")){const ie={_id:F.customerId,CustomerCompanyName:F.customerName,Employees:[F],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:F.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for temp employee:",F.CustomerEmpName,ie.CustomerCompanyName),e(F,ie)}else{const ie=f.find(ce=>ce._id===F.customerId);ie?(console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for regular employee:",F.CustomerEmpName,ie.CustomerCompanyName),e(F,ie)):console.error("CustomerEmployeeSelector: Customer not found for employee:",F)}};return P?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Rt,{className:"text-sm text-destructive",children:"Customer Employee"}),a&&i.jsxs(Se,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:s,className:"flex items-center space-x-1",children:[i.jsx(Wd,{className:"h-3 w-3"}),i.jsx("span",{className:"text-xs",children:"Add New"})]})]}),i.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(fn,{className:"h-4 w-4"}),i.jsx("p",{className:"font-medium",children:"Failed to load customer employees"})]}),i.jsx("p",{className:"text-xs mt-1",children:P}),i.jsx(Se,{type:"button",variant:"outline",size:"sm",onClick:C,className:"mt-2",children:"Try Again"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Rt,{htmlFor:"customerEmployee",className:"text-sm",children:["Select Customer Employee",i.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&i.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[c," only"]}),_.length>0&&i.jsxs("span",{className:"ml-2 text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:["+",_.length," new"]})]}),a&&i.jsxs(Se,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:s||S,className:"flex items-center space-x-1",children:[i.jsx(Wd,{className:"h-3 w-3"}),i.jsx("span",{className:"text-xs",children:"Add New"})]})]}),i.jsxs(Ls,{onValueChange:I,value:t||"",disabled:s||S,children:[i.jsx(ls,{className:"w-full",children:i.jsx(Ds,{placeholder:S?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fc,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Loading employees..."})]}):"Select a customer employee"})}),i.jsx(cs,{children:(()=>{const $=g.length+_.length;return console.log("Rendering dropdown - Regular employees:",g.length,"Temp employees:",_.length),$===0?i.jsx(Zt,{value:"no-employees",disabled:!0,children:"No employees found"}):i.jsxs(i.Fragment,{children:[_.map(Z=>i.jsxs(Zt,{value:Z._id,children:[Z.CustomerEmpName," (",Z.customerName,") *"]},Z._id)),g.map(Z=>i.jsxs(Zt,{value:Z._id,children:[Z.CustomerEmpName," (",Z.customerName,")"]},Z._id))]})})()})]})]})});jb.displayName="CustomerEmployeeSelector";function EM({isOpen:e,onClose:t,onAddEmployee:s,isLoading:a=!1,defaultCustomerName:c=""}){const[d,f]=v.useState({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),[p,g]=v.useState({}),[w,_]=v.useState(!1);v.useEffect(()=>{e&&c&&f(C=>({...C,customerName:c}))},[e,c]);const b=()=>{const C={};return d.customerName.trim()||(C.customerName="Customer name is required"),d.customerEmployeeName.trim()||(C.customerEmployeeName="Employee name is required"),d.designation.trim()||(C.designation="Designation is required"),d.department.trim()||(C.department="Department is required"),d.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)&&(C.email="Please enter a valid email address"),d.mobile&&!/^[\+]?[1-9][\d]{0,15}$/.test(d.mobile.replace(/[\s\-\(\)]/g,""))&&(C.mobile="Please enter a valid mobile number"),g(C),Object.keys(C).length===0},S=(C,k)=>{f(O=>({...O,[C]:k})),p[C]&&g(O=>{const M={...O};return delete M[C],M})},T=async C=>{if(C.preventDefault(),!!b()){_(!0);try{await s(d),P()}catch(k){console.error("Error adding customer employee:",k)}finally{_(!1)}}},P=()=>{w||a||(f({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),g({}),t())},j=w||a;return i.jsx(kr,{open:e,onOpenChange:P,children:i.jsxs(ur,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[i.jsxs(dr,{children:[i.jsxs(fr,{className:"flex items-center space-x-2",children:[i.jsx(WN,{className:"h-5 w-5 text-primary"}),i.jsx("span",{children:"Add New Customer Employee"})]}),i.jsx(hr,{children:c?i.jsxs(i.Fragment,{children:["Create a new employee record for"," ",i.jsxs("span",{className:"font-medium",children:['"',c,'"']}),". The company name has been auto-filled from your current meeting."]}):i.jsx(i.Fragment,{children:"Create a new customer employee record. All fields marked with * are required."})})]}),i.jsxs("form",{onSubmit:T,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Rt,{htmlFor:"customerName",className:"text-sm",children:["Customer/Company Name",i.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&i.jsx("span",{className:"text-muted-foreground ml-2 text-xs",children:"(Auto-filled from meeting)"})]}),i.jsx(an,{id:"customerName",type:"text",placeholder:"Enter company/customer name",value:d.customerName,onChange:C=>S("customerName",C.target.value),disabled:j,className:p.customerName?"border-destructive":""}),p.customerName&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[i.jsx(fn,{className:"h-3 w-3"}),i.jsx("span",{children:p.customerName})]}),c&&d.customerName===c&&i.jsxs("div",{className:"text-xs text-muted-foreground",children:['Customer name auto-filled from "',c,'" meeting. You can edit if needed.']})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Rt,{htmlFor:"customerEmployeeName",className:"text-sm",children:["Employee Name",i.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),i.jsx(an,{id:"customerEmployeeName",type:"text",placeholder:"Enter employee full name",value:d.customerEmployeeName,onChange:C=>S("customerEmployeeName",C.target.value),disabled:j,className:p.customerEmployeeName?"border-destructive":""}),p.customerEmployeeName&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[i.jsx(fn,{className:"h-3 w-3"}),i.jsx("span",{children:p.customerEmployeeName})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Rt,{htmlFor:"email",className:"text-sm",children:["Email Address",i.jsx("span",{className:"text-muted-foreground ml-1",children:"(Optional)"})]}),i.jsx(an,{id:"email",type:"email",placeholder:"employee@company.com",value:d.email,onChange:C=>S("email",C.target.value),disabled:j,className:p.email?"border-destructive":""}),p.email&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[i.jsx(fn,{className:"h-3 w-3"}),i.jsx("span",{children:p.email})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Rt,{htmlFor:"mobile",className:"text-sm",children:["Mobile Number",i.jsx("span",{className:"text-muted-foreground ml-1",children:"(Optional)"})]}),i.jsx(an,{id:"mobile",type:"tel",placeholder:"+1 (555) 123-4567",value:d.mobile,onChange:C=>S("mobile",C.target.value),disabled:j,className:p.mobile?"border-destructive":""}),p.mobile&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[i.jsx(fn,{className:"h-3 w-3"}),i.jsx("span",{children:p.mobile})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Rt,{htmlFor:"designation",className:"text-sm",children:["Designation",i.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),i.jsx(an,{id:"designation",type:"text",placeholder:"e.g., Manager, Director, CEO",value:d.designation,onChange:C=>S("designation",C.target.value),disabled:j,className:p.designation?"border-destructive":""}),p.designation&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[i.jsx(fn,{className:"h-3 w-3"}),i.jsx("span",{children:p.designation})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Rt,{htmlFor:"department",className:"text-sm",children:["Department",i.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),i.jsx(an,{id:"department",type:"text",placeholder:"e.g., Sales, IT, HR, Operations",value:d.department,onChange:C=>S("department",C.target.value),disabled:j,className:p.department?"border-destructive":""}),p.department&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[i.jsx(fn,{className:"h-3 w-3"}),i.jsx("span",{children:p.department})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx(Se,{type:"button",variant:"outline",onClick:P,disabled:j,children:"Cancel"}),i.jsx(Se,{type:"submit",disabled:j,className:"min-w-[120px]",children:w||a?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),i.jsx("span",{children:"Adding..."})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Vr,{className:"h-4 w-4"}),i.jsx("span",{children:"Add Employee"})]})})]})]})]})})}function CM({isOpen:e,onClose:t,onEndMeeting:s,employeeName:a,isLoading:c=!1,currentMeeting:d=null,followUpMeetingData:f=null}){const[p,g]=v.useState({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),[w,_]=v.useState({}),[b,S]=v.useState(!1),[T,P]=v.useState([]),[j,C]=v.useState(null),[k,O]=v.useState(null),[M,I]=v.useState(!1),$=v.useRef(null);v.useEffect(()=>{if(e&&f){console.log(" Prefilling form with follow-up meeting data:",f);const K={customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};console.log(" Created customer contact from follow-up:",K),P([K]),g(J=>{const ee={...J,customers:[K],customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};return console.log(" Updated formData with customer:",ee),ee}),console.log(" Form prefilled with customer data")}else e&&!f&&console.log(" Modal opened but no followUpMeetingData provided")},[e,f]),v.useEffect(()=>{console.log(" selectedCustomers changed:",T.length,T)},[T]);const Z=()=>{var J;const K={};if(console.log("Validating form with selectedCustomers:",T.length),console.log("Form data customers:",(J=p.customers)==null?void 0:J.length),T.length===0&&(K.customers="Please add at least one customer contact",console.log("Validation failed: No customers selected")),T.forEach((ee,pe)=>{if(ee.customerEmail&&ee.customerEmail.trim()!==""&&typeof ee.customerEmail=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ee.customerEmail)&&(K[`customer_${pe}_email`]=`Invalid email for ${ee.customerEmployeeName}`,console.log(`Validation failed: Invalid email for customer ${pe}`)),ee.customerMobile&&ee.customerMobile.trim()!==""&&typeof ee.customerMobile=="string"&&ee.customerMobile.length>0){const U=ee.customerMobile.replace(/[\s\-\(\)]/g,"");/^\+?\d{7,15}$/.test(U)||(K[`customer_${pe}_mobile`]=`Invalid mobile for ${ee.customerEmployeeName}`,console.log(`Validation failed: Invalid mobile for customer ${pe}:`,ee.customerMobile))}}),p.discussion.trim()||(K.discussion="Discussion details are required",console.log("Validation failed: No discussion provided")),p.customerEmail&&p.customerEmail.trim()!==""&&typeof p.customerEmail=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.customerEmail)&&(K.customerEmail="Please enter a valid email address"),p.customerMobile&&p.customerMobile.trim()!==""&&typeof p.customerMobile=="string"){const ee=p.customerMobile.replace(/[\s\-\(\)]/g,"");/^\+?\d{7,15}$/.test(ee)||(K.customerMobile="Please enter a valid mobile number")}return console.log("Validation errors:",K),_(K),Object.keys(K).length===0},F=(K,J)=>{g(ee=>({...ee,[K]:J})),w[K]&&_(ee=>{const pe={...ee};return delete pe[K],pe})},ie=(K,J)=>{console.log("EndMeetingModal: Customer employee selected:",K),console.log("EndMeetingModal: Customer selected:",J),C(K),O(J);const ee={customerName:J.CustomerCompanyName,customerEmployeeName:K.CustomerEmpName,customerEmail:String(K.Email||""),customerMobile:String(K.Mobile||""),customerDesignation:String(K.Designation||""),customerDepartment:String(K.Department||"")};if(T.some(U=>U.customerName===ee.customerName&&U.customerEmployeeName===ee.customerEmployeeName))console.log("EndMeetingModal: Customer already in list, skipping");else{const U=[...T,ee];P(U),g(de=>{var ae,z,X,ye,Ee,we;return{...de,customers:U,customerName:((ae=U[0])==null?void 0:ae.customerName)||"",customerEmployeeName:((z=U[0])==null?void 0:z.customerEmployeeName)||"",customerEmail:((X=U[0])==null?void 0:X.customerEmail)||"",customerMobile:((ye=U[0])==null?void 0:ye.customerMobile)||"",customerDesignation:((Ee=U[0])==null?void 0:Ee.customerDesignation)||"",customerDepartment:((we=U[0])==null?void 0:we.customerDepartment)||""}}),console.log("EndMeetingModal: Added customer to list:",ee),C(null),O(null)}},ce=K=>{const J=T.filter((ee,pe)=>pe!==K);P(J),g(ee=>{var pe,U,de,ae,z,X;return{...ee,customers:J,customerName:((pe=J[0])==null?void 0:pe.customerName)||"",customerEmployeeName:((U=J[0])==null?void 0:U.customerEmployeeName)||"",customerEmail:((de=J[0])==null?void 0:de.customerEmail)||"",customerMobile:((ae=J[0])==null?void 0:ae.customerMobile)||"",customerDesignation:((z=J[0])==null?void 0:z.customerDesignation)||"",customerDepartment:((X=J[0])==null?void 0:X.customerDepartment)||""}}),console.log("EndMeetingModal: Removed customer from list, remaining:",J.length)},q=async K=>{try{const ee={_id:`temp_${Date.now()}`,CustomerEmpName:K.customerEmployeeName,Designation:K.designation,Department:K.department,Mobile:K.mobile,Email:K.email},pe={_id:`temp_customer_${Date.now()}`,CustomerCompanyName:K.customerName,Employees:[ee],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:K.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};return console.log("Creating new customer employee:",K),console.log("Generated employee object:",ee),console.log("Generated customer object:",pe),await new Promise(U=>setTimeout(U,1e3)),$.current?(console.log("Adding temp employee to selector..."),$.current.addTempEmployee(ee,K.customerName,pe._id),console.log("Temp employee added to selector")):console.error("customerSelectorRef.current is null!"),setTimeout(()=>{console.log("Auto-selecting newly created employee..."),ie(ee,pe)},100),console.log("Customer employee added successfully!"),{employee:ee,customer:pe}}catch(J){throw console.error("Error adding customer employee:",J),J}},ne=async K=>{K.preventDefault(),console.log(" EndMeetingModal: Form submit triggered"),console.log("EndMeetingModal: Form data before validation:",p),console.log("EndMeetingModal: Selected customers:",T),console.log("EndMeetingModal: Discussion:",p.discussion);const J=Z();if(console.log("EndMeetingModal: Validation result:",J),!J){console.log("EndMeetingModal: Form validation failed with errors:",w);const ee=document.querySelector(".border-destructive");ee&&ee.scrollIntoView({behavior:"smooth",block:"center"});return}console.log(" EndMeetingModal: Validation passed, submitting..."),S(!0);try{console.log("EndMeetingModal: Calling onEndMeeting with form data:",p),await s(p),console.log(" Meeting ended successfully, clearing temp employees"),$.current&&$.current.clearTempEmployees(),he()}catch(ee){console.error(" Error ending meeting:",ee)}finally{S(!1)}},he=()=>{if(b||c){console.log(" Cannot close: Form is submitting or loading");return}console.log(" EndMeetingModal: Closing and resetting all state"),g({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),_({}),P([]),C(null),O(null),I(!1),$.current&&$.current.resetSelection(),t()},Pe=b||c;return i.jsx(kr,{open:e,onOpenChange:he,children:i.jsxs(ur,{className:"sm:max-w-md  max-h-[90vh] overflow-y-auto",children:[i.jsxs(dr,{children:[i.jsxs(fr,{className:"flex items-center space-x-2",children:[i.jsx(jn,{className:"h-5 w-5 text-destructive"}),i.jsx("span",{children:"End Meeting"})]}),i.jsxs(hr,{children:["Complete the meeting for"," ",i.jsx("span",{className:"font-medium",children:a})," by providing customer details and discussion summary."]})]}),i.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 py-2 border-b",children:[i.jsx(df,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-sm font-medium",children:"Select Customer Employee"})]}),i.jsxs("div",{className:"space-y-4",children:[(d==null?void 0:d.clientName)&&i.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("span",{className:"font-medium",children:["Meeting with: ",d.clientName]})}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Showing employees for this company only"})]}),i.jsx(jb,{ref:$,onEmployeeSelect:ie,selectedEmployeeId:j==null?void 0:j._id,disabled:Pe,onAddNewEmployee:()=>I(!0),filterByCompany:d==null?void 0:d.clientName}),w.customers&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[i.jsx(fn,{className:"h-3 w-3"}),i.jsx("span",{children:w.customers})]}),T.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(_p,{className:"h-4 w-4 text-primary"}),i.jsxs("span",{className:"font-medium text-sm",children:["Selected Customer Contacts (",T.length,")"]})]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:T.map((K,J)=>i.jsxs("div",{className:"p-3 border rounded-lg bg-muted/20 relative",children:[i.jsx(Se,{type:"button",variant:"outline",size:"sm",onClick:()=>ce(J),className:"absolute top-2 right-2 h-6 w-6 p-0 text-destructive hover:text-destructive",disabled:Pe,children:""}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm pr-8",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Company:"}),i.jsx("div",{className:"font-medium",children:K.customerName})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),i.jsx("div",{className:"font-medium",children:K.customerEmployeeName})]}),K.customerDesignation&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Position:"}),i.jsx("div",{children:K.customerDesignation})]}),K.customerDepartment&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Department:"}),i.jsx("div",{children:K.customerDepartment})]}),K.customerEmail&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Email:"}),i.jsx("div",{className:"text-xs",children:K.customerEmail})]}),K.customerMobile&&i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),i.jsx("div",{className:"text-xs",children:K.customerMobile})]})]})]},J))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Rt,{htmlFor:"discussion",className:"text-sm",children:["Discussion Details",i.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),i.jsx(ca,{id:"discussion",placeholder:"Describe what was discussed in the meeting, key points, outcomes, and next steps...",value:p.discussion,onChange:K=>F("discussion",K.target.value),disabled:Pe,rows:4,className:w.discussion?"border-destructive":""}),w.discussion&&i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[i.jsx(fn,{className:"h-3 w-3"}),i.jsx("span",{children:w.discussion})]}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"This field is required and will be included in the meeting record."})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx(Se,{type:"button",variant:"outline",onClick:he,disabled:Pe,children:"Cancel"}),i.jsx(Se,{type:"submit",variant:"destructive",disabled:Pe,className:"min-w-[120px]",children:b||c?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),i.jsx("span",{children:"Ending..."})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Vr,{className:"h-4 w-4"}),i.jsx("span",{children:"End Meeting"})]})})]})]}),i.jsx(EM,{isOpen:M,onClose:()=>I(!1),onAddEmployee:q,isLoading:c,defaultCustomerName:d==null?void 0:d.clientName})]})})}function PM({employee:e,trackingSession:t,meetings:s,isOpen:a,onClose:c,onSnapshotCreated:d}){const[f,p]=v.useState(""),[g,w]=v.useState(""),[_,b]=v.useState(!1),{toast:S}=_l();v.useEffect(()=>{if(a&&!f){const O=new Date,M=O.toLocaleDateString(),I=O.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});p(`${e.name} Route - ${M} ${I}`)}},[a,e.name,f]);const T=()=>{const O=[];if(t!=null&&t.route&&O.push(...t.route),s.forEach(Z=>{O.push(Z.location)}),O.push(e.location),O.length===0)return{north:e.location.lat+.01,south:e.location.lat-.01,east:e.location.lng+.01,west:e.location.lng-.01};const M=O.map(Z=>Z.lat),I=O.map(Z=>Z.lng),$=.005;return{north:Math.max(...M)+$,south:Math.min(...M)-$,east:Math.max(...I)+$,west:Math.min(...I)-$}},P=()=>s.map(O=>({id:O.id,location:O.location,clientName:O.clientName,startTime:O.startTime,endTime:O.endTime,status:O.status})),j=async()=>{if(!f.trim()){S({title:"Title Required",description:"Please enter a title for the snapshot",variant:"destructive"});return}b(!0);try{const O={employeeId:e.id,employeeName:e.name,trackingSessionId:t==null?void 0:t.id,title:f.trim(),description:g.trim()||void 0,startLocation:(t==null?void 0:t.startLocation)||e.location,endLocation:t==null?void 0:t.endLocation,route:(t==null?void 0:t.route)||[e.location],meetings:P(),totalDistance:(t==null?void 0:t.totalDistance)||0,duration:t==null?void 0:t.duration,status:(t==null?void 0:t.status)||"active",mapBounds:T()},M=await ct.post("/api/route-snapshots",O);if(M.ok){const I=await M.json();S({title:"Snapshot Created",description:"Route snapshot has been saved successfully"}),d==null||d(I),c(),p(""),w("")}else throw new Error("Failed to create snapshot")}catch(O){console.error("Error creating snapshot:",O),S({title:"Error",description:"Failed to create route snapshot. Please try again.",variant:"destructive"})}finally{b(!1)}},k=(()=>{var Z;const O=((Z=t==null?void 0:t.route)==null?void 0:Z.length)||1,M=(t==null?void 0:t.totalDistance)||0,I=s.length,$=t==null?void 0:t.duration;return{routePoints:O,totalDistance:M,meetingCount:I,duration:$}})();return i.jsx(kr,{open:a,onOpenChange:c,children:i.jsxs(ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(dr,{children:[i.jsxs(fr,{className:"flex items-center gap-2",children:[i.jsx($m,{className:"h-5 w-5"}),"Create Manual Route Snapshot"]}),i.jsxs(hr,{children:["Manually capture and save ",e.name,"'s current route and meeting locations for historical reference. Note: Routes are also automatically captured when tracking stops."]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{htmlFor:"title",children:"Route Title *"}),i.jsx(an,{id:"title",value:f,onChange:O=>p(O.target.value),placeholder:"Enter a descriptive title for this snapshot",className:"w-full"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Rt,{htmlFor:"description",children:"Description (Optional)"}),i.jsx(ca,{id:"description",value:g,onChange:O=>w(O.target.value),placeholder:"Add any additional notes about this route snapshot",className:"w-full",rows:3})]})]}),i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsx(bt,{className:"text-lg",children:"Route Summary"})}),i.jsxs(nt,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Qi,{className:"h-4 w-4"}),"Route Points"]}),i.jsx("div",{className:"text-2xl font-bold",children:k.routePoints})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Jn,{className:"h-4 w-4"}),"Total Distance"]}),i.jsxs("div",{className:"text-2xl font-bold",children:[(k.totalDistance/1e3).toFixed(1)," km"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Zr,{className:"h-4 w-4"}),"Meetings"]}),i.jsx("div",{className:"text-2xl font-bold",children:k.meetingCount})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(jn,{className:"h-4 w-4"}),"Duration"]}),i.jsx("div",{className:"text-2xl font-bold",children:k.duration?`${Math.floor(k.duration/60)}m`:"Active"})]})]}),i.jsx("div",{className:"pt-4 border-t",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Current Location"}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Jn,{className:"h-4 w-4 text-primary mt-1"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm",children:e.location.address}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.location.lat.toFixed(6),", ",e.location.lng.toFixed(6)]})]})]})]})}),t&&i.jsx("div",{className:"pt-4 border-t",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Tracking Session"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Et,{variant:"secondary",className:t.status==="active"?"bg-success text-success-foreground":"bg-muted text-muted-foreground",children:t.status}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(t.startTime).toLocaleString()]})]})]})}),s.length>0&&i.jsx("div",{className:"pt-4 border-t",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"font-medium",children:"Meetings in Snapshot"}),i.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[s.slice(0,3).map(O=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{children:O.clientName||"Unknown Client"}),i.jsx(Et,{variant:"outline",className:"text-xs",children:O.status})]},O.id)),s.length>3&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",s.length-3," more meetings"]})]})]})})]})]})]}),i.jsxs(sa,{children:[i.jsx(Se,{variant:"outline",onClick:c,disabled:_,children:"Cancel"}),i.jsx(Se,{onClick:j,disabled:_,children:_?i.jsxs(i.Fragment,{children:[i.jsx(Fc,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Snapshot..."]}):i.jsxs(i.Fragment,{children:[i.jsx(lw,{className:"h-4 w-4 mr-2"}),"Save Route"]})})]})]})})}function Eb(e,t){return function(){return e.apply(t,arguments)}}const{toString:TM}=Object.prototype,{getPrototypeOf:Jp}=Object,{iterator:Mf,toStringTag:Cb}=Symbol,Rf=(e=>t=>{const s=TM.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),hs=e=>(e=e.toLowerCase(),t=>Rf(t)===e),Lf=e=>t=>typeof t===e,{isArray:Pl}=Array,Zc=Lf("undefined");function ru(e){return e!==null&&!Zc(e)&&e.constructor!==null&&!Zc(e.constructor)&&lr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Pb=hs("ArrayBuffer");function kM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Pb(e.buffer),t}const MM=Lf("string"),lr=Lf("function"),Tb=Lf("number"),su=e=>e!==null&&typeof e=="object",RM=e=>e===!0||e===!1,$d=e=>{if(Rf(e)!=="object")return!1;const t=Jp(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Cb in e)&&!(Mf in e)},LM=e=>{if(!su(e)||ru(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},DM=hs("Date"),AM=hs("File"),OM=hs("Blob"),IM=hs("FileList"),FM=e=>su(e)&&lr(e.pipe),zM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||lr(e.append)&&((t=Rf(e))==="formdata"||t==="object"&&lr(e.toString)&&e.toString()==="[object FormData]"))},$M=hs("URLSearchParams"),[BM,UM,HM,WM]=["ReadableStream","Request","Response","Headers"].map(hs),VM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ou(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),Pl(e))for(a=0,c=e.length;a<c;a++)t.call(null,e[a],a,e);else{if(ru(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let p;for(a=0;a<f;a++)p=d[a],t.call(null,e[p],p,e)}}function kb(e,t){if(ru(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a=s.length,c;for(;a-- >0;)if(c=s[a],t===c.toLowerCase())return c;return null}const qi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mb=e=>!Zc(e)&&e!==qi;function cp(){const{caseless:e}=Mb(this)&&this||{},t={},s=(a,c)=>{const d=e&&kb(t,c)||c;$d(t[d])&&$d(a)?t[d]=cp(t[d],a):$d(a)?t[d]=cp({},a):Pl(a)?t[d]=a.slice():t[d]=a};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&ou(arguments[a],s);return t}const ZM=(e,t,s,{allOwnKeys:a}={})=>(ou(t,(c,d)=>{s&&lr(c)?e[d]=Eb(c,s):e[d]=c},{allOwnKeys:a}),e),qM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),GM=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},YM=(e,t,s,a)=>{let c,d,f;const p={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)f=c[d],(!a||a(f,e,t))&&!p[f]&&(t[f]=e[f],p[f]=!0);e=s!==!1&&Jp(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},KM=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},XM=e=>{if(!e)return null;if(Pl(e))return e;let t=e.length;if(!Tb(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},QM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Jp(Uint8Array)),JM=(e,t)=>{const a=(e&&e[Mf]).call(e);let c;for(;(c=a.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},eR=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},tR=hs("HTMLFormElement"),nR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,c){return a.toUpperCase()+c}),ty=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),rR=hs("RegExp"),Rb=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};ou(s,(c,d)=>{let f;(f=t(c,d,e))!==!1&&(a[d]=f||c)}),Object.defineProperties(e,a)},sR=e=>{Rb(e,(t,s)=>{if(lr(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(lr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},oR=(e,t)=>{const s={},a=c=>{c.forEach(d=>{s[d]=!0})};return Pl(e)?a(e):a(String(e).split(t)),s},iR=()=>{},aR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function lR(e){return!!(e&&lr(e.append)&&e[Cb]==="FormData"&&e[Mf])}const cR=e=>{const t=new Array(10),s=(a,c)=>{if(su(a)){if(t.indexOf(a)>=0)return;if(ru(a))return a;if(!("toJSON"in a)){t[c]=a;const d=Pl(a)?[]:{};return ou(a,(f,p)=>{const g=s(f,c+1);!Zc(g)&&(d[p]=g)}),t[c]=void 0,d}}return a};return s(e,0)},uR=hs("AsyncFunction"),dR=e=>e&&(su(e)||lr(e))&&lr(e.then)&&lr(e.catch),Lb=((e,t)=>e?setImmediate:t?((s,a)=>(qi.addEventListener("message",({source:c,data:d})=>{c===qi&&d===s&&a.length&&a.shift()()},!1),c=>{a.push(c),qi.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",lr(qi.postMessage)),fR=typeof queueMicrotask<"u"?queueMicrotask.bind(qi):typeof process<"u"&&process.nextTick||Lb,hR=e=>e!=null&&lr(e[Mf]),me={isArray:Pl,isArrayBuffer:Pb,isBuffer:ru,isFormData:zM,isArrayBufferView:kM,isString:MM,isNumber:Tb,isBoolean:RM,isObject:su,isPlainObject:$d,isEmptyObject:LM,isReadableStream:BM,isRequest:UM,isResponse:HM,isHeaders:WM,isUndefined:Zc,isDate:DM,isFile:AM,isBlob:OM,isRegExp:rR,isFunction:lr,isStream:FM,isURLSearchParams:$M,isTypedArray:QM,isFileList:IM,forEach:ou,merge:cp,extend:ZM,trim:VM,stripBOM:qM,inherits:GM,toFlatObject:YM,kindOf:Rf,kindOfTest:hs,endsWith:KM,toArray:XM,forEachEntry:JM,matchAll:eR,isHTMLForm:tR,hasOwnProperty:ty,hasOwnProp:ty,reduceDescriptors:Rb,freezeMethods:sR,toObjectSet:oR,toCamelCase:nR,noop:iR,toFiniteNumber:aR,findKey:kb,global:qi,isContextDefined:Mb,isSpecCompliantForm:lR,toJSONObject:cR,isAsyncFn:uR,isThenable:dR,setImmediate:Lb,asap:fR,isIterable:hR};function pt(e,t,s,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),c&&(this.response=c,this.status=c.status?c.status:null)}me.inherits(pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const Db=pt.prototype,Ab={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ab[e]={value:e}});Object.defineProperties(pt,Ab);Object.defineProperty(Db,"isAxiosError",{value:!0});pt.from=(e,t,s,a,c,d)=>{const f=Object.create(Db);return me.toFlatObject(e,f,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),pt.call(f,e.message,t,s,a,c),f.cause=e,f.name=e.name,d&&Object.assign(f,d),f};const mR=null;function up(e){return me.isPlainObject(e)||me.isArray(e)}function Ob(e){return me.endsWith(e,"[]")?e.slice(0,-2):e}function ny(e,t,s){return e?e.concat(t).map(function(c,d){return c=Ob(c),!s&&d?"["+c+"]":c}).join(s?".":""):t}function pR(e){return me.isArray(e)&&!e.some(up)}const gR=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function Df(e,t,s){if(!me.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=me.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,C){return!me.isUndefined(C[j])});const a=s.metaTokens,c=s.visitor||_,d=s.dots,f=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(c))throw new TypeError("visitor must be a function");function w(P){if(P===null)return"";if(me.isDate(P))return P.toISOString();if(me.isBoolean(P))return P.toString();if(!g&&me.isBlob(P))throw new pt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(P)||me.isTypedArray(P)?g&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function _(P,j,C){let k=P;if(P&&!C&&typeof P=="object"){if(me.endsWith(j,"{}"))j=a?j:j.slice(0,-2),P=JSON.stringify(P);else if(me.isArray(P)&&pR(P)||(me.isFileList(P)||me.endsWith(j,"[]"))&&(k=me.toArray(P)))return j=Ob(j),k.forEach(function(M,I){!(me.isUndefined(M)||M===null)&&t.append(f===!0?ny([j],I,d):f===null?j:j+"[]",w(M))}),!1}return up(P)?!0:(t.append(ny(C,j,d),w(P)),!1)}const b=[],S=Object.assign(gR,{defaultVisitor:_,convertValue:w,isVisitable:up});function T(P,j){if(!me.isUndefined(P)){if(b.indexOf(P)!==-1)throw Error("Circular reference detected in "+j.join("."));b.push(P),me.forEach(P,function(k,O){(!(me.isUndefined(k)||k===null)&&c.call(t,k,me.isString(O)?O.trim():O,j,S))===!0&&T(k,j?j.concat(O):[O])}),b.pop()}}if(!me.isObject(e))throw new TypeError("data must be an object");return T(e),t}function ry(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function eg(e,t){this._pairs=[],e&&Df(e,this,t)}const Ib=eg.prototype;Ib.append=function(t,s){this._pairs.push([t,s])};Ib.toString=function(t){const s=t?function(a){return t.call(this,a,ry)}:ry;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function vR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fb(e,t,s){if(!t)return e;const a=s&&s.encode||vR;me.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(t,s):d=me.isURLSearchParams(t)?t.toString():new eg(t,s).toString(a),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class sy{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(a){a!==null&&t(a)})}}const zb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xR=typeof URLSearchParams<"u"?URLSearchParams:eg,yR=typeof FormData<"u"?FormData:null,wR=typeof Blob<"u"?Blob:null,_R={isBrowser:!0,classes:{URLSearchParams:xR,FormData:yR,Blob:wR},protocols:["http","https","file","blob","url","data"]},tg=typeof window<"u"&&typeof document<"u",dp=typeof navigator=="object"&&navigator||void 0,bR=tg&&(!dp||["ReactNative","NativeScript","NS"].indexOf(dp.product)<0),NR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",SR=tg&&window.location.href||"http://localhost",jR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tg,hasStandardBrowserEnv:bR,hasStandardBrowserWebWorkerEnv:NR,navigator:dp,origin:SR},Symbol.toStringTag,{value:"Module"})),Vn={...jR,..._R};function ER(e,t){return Df(e,new Vn.classes.URLSearchParams,{visitor:function(s,a,c,d){return Vn.isNode&&me.isBuffer(s)?(this.append(a,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function CR(e){return me.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function PR(e){const t={},s=Object.keys(e);let a;const c=s.length;let d;for(a=0;a<c;a++)d=s[a],t[d]=e[d];return t}function $b(e){function t(s,a,c,d){let f=s[d++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),g=d>=s.length;return f=!f&&me.isArray(c)?c.length:f,g?(me.hasOwnProp(c,f)?c[f]=[c[f],a]:c[f]=a,!p):((!c[f]||!me.isObject(c[f]))&&(c[f]=[]),t(s,a,c[f],d)&&me.isArray(c[f])&&(c[f]=PR(c[f])),!p)}if(me.isFormData(e)&&me.isFunction(e.entries)){const s={};return me.forEachEntry(e,(a,c)=>{t(CR(a),c,s,0)}),s}return null}function TR(e,t,s){if(me.isString(e))try{return(t||JSON.parse)(e),me.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const iu={transitional:zb,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const a=s.getContentType()||"",c=a.indexOf("application/json")>-1,d=me.isObject(t);if(d&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return c?JSON.stringify($b(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return ER(t,this.formSerializer).toString();if((p=me.isFileList(t))||a.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Df(p?{"files[]":t}:t,g&&new g,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),TR(t)):t}],transformResponse:[function(t){const s=this.transitional||iu.transitional,a=s&&s.forcedJSONParsing,c=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(a&&!this.responseType||c)){const f=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(p){if(f)throw p.name==="SyntaxError"?pt.from(p,pt.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vn.classes.FormData,Blob:Vn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],e=>{iu.headers[e]={}});const kR=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MR=e=>{const t={};let s,a,c;return e&&e.split(`
`).forEach(function(f){c=f.indexOf(":"),s=f.substring(0,c).trim().toLowerCase(),a=f.substring(c+1).trim(),!(!s||t[s]&&kR[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},oy=Symbol("internals");function Ec(e){return e&&String(e).trim().toLowerCase()}function Bd(e){return e===!1||e==null?e:me.isArray(e)?e.map(Bd):String(e)}function RR(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}const LR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rm(e,t,s,a,c){if(me.isFunction(a))return a.call(this,t,s);if(c&&(t=s),!!me.isString(t)){if(me.isString(a))return t.indexOf(a)!==-1;if(me.isRegExp(a))return a.test(t)}}function DR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function AR(e,t){const s=me.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(c,d,f){return this[a].call(this,t,c,d,f)},configurable:!0})})}let cr=class{constructor(t){t&&this.set(t)}set(t,s,a){const c=this;function d(p,g,w){const _=Ec(g);if(!_)throw new Error("header name must be a non-empty string");const b=me.findKey(c,_);(!b||c[b]===void 0||w===!0||w===void 0&&c[b]!==!1)&&(c[b||g]=Bd(p))}const f=(p,g)=>me.forEach(p,(w,_)=>d(w,_,g));if(me.isPlainObject(t)||t instanceof this.constructor)f(t,s);else if(me.isString(t)&&(t=t.trim())&&!LR(t))f(MR(t),s);else if(me.isObject(t)&&me.isIterable(t)){let p={},g,w;for(const _ of t){if(!me.isArray(_))throw TypeError("Object iterator must return a key-value pair");p[w=_[0]]=(g=p[w])?me.isArray(g)?[...g,_[1]]:[g,_[1]]:_[1]}f(p,s)}else t!=null&&d(s,t,a);return this}get(t,s){if(t=Ec(t),t){const a=me.findKey(this,t);if(a){const c=this[a];if(!s)return c;if(s===!0)return RR(c);if(me.isFunction(s))return s.call(this,c,a);if(me.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ec(t),t){const a=me.findKey(this,t);return!!(a&&this[a]!==void 0&&(!s||Rm(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let c=!1;function d(f){if(f=Ec(f),f){const p=me.findKey(a,f);p&&(!s||Rm(a,a[p],p,s))&&(delete a[p],c=!0)}}return me.isArray(t)?t.forEach(d):d(t),c}clear(t){const s=Object.keys(this);let a=s.length,c=!1;for(;a--;){const d=s[a];(!t||Rm(this,this[d],d,t,!0))&&(delete this[d],c=!0)}return c}normalize(t){const s=this,a={};return me.forEach(this,(c,d)=>{const f=me.findKey(a,d);if(f){s[f]=Bd(c),delete s[d];return}const p=t?DR(d):String(d).trim();p!==d&&delete s[d],s[p]=Bd(c),a[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return me.forEach(this,(a,c)=>{a!=null&&a!==!1&&(s[c]=t&&me.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(c=>a.set(c)),a}static accessor(t){const a=(this[oy]=this[oy]={accessors:{}}).accessors,c=this.prototype;function d(f){const p=Ec(f);a[p]||(AR(c,f),a[p]=!0)}return me.isArray(t)?t.forEach(d):d(t),this}};cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(cr.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[s]=a}}});me.freezeMethods(cr);function Lm(e,t){const s=this||iu,a=t||s,c=cr.from(a.headers);let d=a.data;return me.forEach(e,function(p){d=p.call(s,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function Bb(e){return!!(e&&e.__CANCEL__)}function Tl(e,t,s){pt.call(this,e??"canceled",pt.ERR_CANCELED,t,s),this.name="CanceledError"}me.inherits(Tl,pt,{__CANCEL__:!0});function Ub(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new pt("Request failed with status code "+s.status,[pt.ERR_BAD_REQUEST,pt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function OR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function IR(e,t){e=e||10;const s=new Array(e),a=new Array(e);let c=0,d=0,f;return t=t!==void 0?t:1e3,function(g){const w=Date.now(),_=a[d];f||(f=w),s[c]=g,a[c]=w;let b=d,S=0;for(;b!==c;)S+=s[b++],b=b%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),w-f<t)return;const T=_&&w-_;return T?Math.round(S*1e3/T):void 0}}function FR(e,t){let s=0,a=1e3/t,c,d;const f=(w,_=Date.now())=>{s=_,c=null,d&&(clearTimeout(d),d=null),e(...w)};return[(...w)=>{const _=Date.now(),b=_-s;b>=a?f(w,_):(c=w,d||(d=setTimeout(()=>{d=null,f(c)},a-b)))},()=>c&&f(c)]}const rf=(e,t,s=3)=>{let a=0;const c=IR(50,250);return FR(d=>{const f=d.loaded,p=d.lengthComputable?d.total:void 0,g=f-a,w=c(g),_=f<=p;a=f;const b={loaded:f,total:p,progress:p?f/p:void 0,bytes:g,rate:w||void 0,estimated:w&&p&&_?(p-f)/w:void 0,event:d,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(b)},s)},iy=(e,t)=>{const s=e!=null;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},ay=e=>(...t)=>me.asap(()=>e(...t)),zR=Vn.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Vn.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Vn.origin),Vn.navigator&&/(msie|trident)/i.test(Vn.navigator.userAgent)):()=>!0,$R=Vn.hasStandardBrowserEnv?{write(e,t,s,a,c,d){const f=[e+"="+encodeURIComponent(t)];me.isNumber(s)&&f.push("expires="+new Date(s).toGMTString()),me.isString(a)&&f.push("path="+a),me.isString(c)&&f.push("domain="+c),d===!0&&f.push("secure"),document.cookie=f.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function UR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Hb(e,t,s){let a=!BR(t);return e&&(a||s==!1)?UR(e,t):t}const ly=e=>e instanceof cr?{...e}:e;function ia(e,t){t=t||{};const s={};function a(w,_,b,S){return me.isPlainObject(w)&&me.isPlainObject(_)?me.merge.call({caseless:S},w,_):me.isPlainObject(_)?me.merge({},_):me.isArray(_)?_.slice():_}function c(w,_,b,S){if(me.isUndefined(_)){if(!me.isUndefined(w))return a(void 0,w,b,S)}else return a(w,_,b,S)}function d(w,_){if(!me.isUndefined(_))return a(void 0,_)}function f(w,_){if(me.isUndefined(_)){if(!me.isUndefined(w))return a(void 0,w)}else return a(void 0,_)}function p(w,_,b){if(b in t)return a(w,_);if(b in e)return a(void 0,w)}const g={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(w,_,b)=>c(ly(w),ly(_),b,!0)};return me.forEach(Object.keys({...e,...t}),function(_){const b=g[_]||c,S=b(e[_],t[_],_);me.isUndefined(S)&&b!==p||(s[_]=S)}),s}const Wb=e=>{const t=ia({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:p}=t;t.headers=f=cr.from(f),t.url=Fb(Hb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let g;if(me.isFormData(s)){if(Vn.hasStandardBrowserEnv||Vn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((g=f.getContentType())!==!1){const[w,..._]=g?g.split(";").map(b=>b.trim()).filter(Boolean):[];f.setContentType([w||"multipart/form-data",..._].join("; "))}}if(Vn.hasStandardBrowserEnv&&(a&&me.isFunction(a)&&(a=a(t)),a||a!==!1&&zR(t.url))){const w=c&&d&&$R.read(d);w&&f.set(c,w)}return t},HR=typeof XMLHttpRequest<"u",WR=HR&&function(e){return new Promise(function(s,a){const c=Wb(e);let d=c.data;const f=cr.from(c.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:w}=c,_,b,S,T,P;function j(){T&&T(),P&&P(),c.cancelToken&&c.cancelToken.unsubscribe(_),c.signal&&c.signal.removeEventListener("abort",_)}let C=new XMLHttpRequest;C.open(c.method.toUpperCase(),c.url,!0),C.timeout=c.timeout;function k(){if(!C)return;const M=cr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),$={data:!p||p==="text"||p==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:e,request:C};Ub(function(F){s(F),j()},function(F){a(F),j()},$),C=null}"onloadend"in C?C.onloadend=k:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(k)},C.onabort=function(){C&&(a(new pt("Request aborted",pt.ECONNABORTED,e,C)),C=null)},C.onerror=function(){a(new pt("Network Error",pt.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let I=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const $=c.transitional||zb;c.timeoutErrorMessage&&(I=c.timeoutErrorMessage),a(new pt(I,$.clarifyTimeoutError?pt.ETIMEDOUT:pt.ECONNABORTED,e,C)),C=null},d===void 0&&f.setContentType(null),"setRequestHeader"in C&&me.forEach(f.toJSON(),function(I,$){C.setRequestHeader($,I)}),me.isUndefined(c.withCredentials)||(C.withCredentials=!!c.withCredentials),p&&p!=="json"&&(C.responseType=c.responseType),w&&([S,P]=rf(w,!0),C.addEventListener("progress",S)),g&&C.upload&&([b,T]=rf(g),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",T)),(c.cancelToken||c.signal)&&(_=M=>{C&&(a(!M||M.type?new Tl(null,e,C):M),C.abort(),C=null)},c.cancelToken&&c.cancelToken.subscribe(_),c.signal&&(c.signal.aborted?_():c.signal.addEventListener("abort",_)));const O=OR(c.url);if(O&&Vn.protocols.indexOf(O)===-1){a(new pt("Unsupported protocol "+O+":",pt.ERR_BAD_REQUEST,e));return}C.send(d||null)})},VR=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let a=new AbortController,c;const d=function(w){if(!c){c=!0,p();const _=w instanceof Error?w:this.reason;a.abort(_ instanceof pt?_:new Tl(_ instanceof Error?_.message:_))}};let f=t&&setTimeout(()=>{f=null,d(new pt(`timeout ${t} of ms exceeded`,pt.ETIMEDOUT))},t);const p=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(w=>{w.unsubscribe?w.unsubscribe(d):w.removeEventListener("abort",d)}),e=null)};e.forEach(w=>w.addEventListener("abort",d));const{signal:g}=a;return g.unsubscribe=()=>me.asap(p),g}},ZR=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let a=0,c;for(;a<s;)c=a+t,yield e.slice(a,c),a=c},qR=async function*(e,t){for await(const s of GR(e))yield*ZR(s,t)},GR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:a}=await t.read();if(s)break;yield a}}finally{await t.cancel()}},cy=(e,t,s,a)=>{const c=qR(e,t);let d=0,f,p=g=>{f||(f=!0,a&&a(g))};return new ReadableStream({async pull(g){try{const{done:w,value:_}=await c.next();if(w){p(),g.close();return}let b=_.byteLength;if(s){let S=d+=b;s(S)}g.enqueue(new Uint8Array(_))}catch(w){throw p(w),w}},cancel(g){return p(g),c.return()}},{highWaterMark:2})},Af=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vb=Af&&typeof ReadableStream=="function",YR=Af&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Zb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},KR=Vb&&Zb(()=>{let e=!1;const t=new Request(Vn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),uy=64*1024,fp=Vb&&Zb(()=>me.isReadableStream(new Response("").body)),sf={stream:fp&&(e=>e.body)};Af&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!sf[t]&&(sf[t]=me.isFunction(e[t])?s=>s[t]():(s,a)=>{throw new pt(`Response type '${t}' is not supported`,pt.ERR_NOT_SUPPORT,a)})})})(new Response);const XR=async e=>{if(e==null)return 0;if(me.isBlob(e))return e.size;if(me.isSpecCompliantForm(e))return(await new Request(Vn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(me.isArrayBufferView(e)||me.isArrayBuffer(e))return e.byteLength;if(me.isURLSearchParams(e)&&(e=e+""),me.isString(e))return(await YR(e)).byteLength},QR=async(e,t)=>{const s=me.toFiniteNumber(e.getContentLength());return s??XR(t)},JR=Af&&(async e=>{let{url:t,method:s,data:a,signal:c,cancelToken:d,timeout:f,onDownloadProgress:p,onUploadProgress:g,responseType:w,headers:_,withCredentials:b="same-origin",fetchOptions:S}=Wb(e);w=w?(w+"").toLowerCase():"text";let T=VR([c,d&&d.toAbortSignal()],f),P;const j=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let C;try{if(g&&KR&&s!=="get"&&s!=="head"&&(C=await QR(_,a))!==0){let $=new Request(t,{method:"POST",body:a,duplex:"half"}),Z;if(me.isFormData(a)&&(Z=$.headers.get("content-type"))&&_.setContentType(Z),$.body){const[F,ie]=iy(C,rf(ay(g)));a=cy($.body,uy,F,ie)}}me.isString(b)||(b=b?"include":"omit");const k="credentials"in Request.prototype;P=new Request(t,{...S,signal:T,method:s.toUpperCase(),headers:_.normalize().toJSON(),body:a,duplex:"half",credentials:k?b:void 0});let O=await fetch(P,S);const M=fp&&(w==="stream"||w==="response");if(fp&&(p||M&&j)){const $={};["status","statusText","headers"].forEach(ce=>{$[ce]=O[ce]});const Z=me.toFiniteNumber(O.headers.get("content-length")),[F,ie]=p&&iy(Z,rf(ay(p),!0))||[];O=new Response(cy(O.body,uy,F,()=>{ie&&ie(),j&&j()}),$)}w=w||"text";let I=await sf[me.findKey(sf,w)||"text"](O,e);return!M&&j&&j(),await new Promise(($,Z)=>{Ub($,Z,{data:I,headers:cr.from(O.headers),status:O.status,statusText:O.statusText,config:e,request:P})})}catch(k){throw j&&j(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new pt("Network Error",pt.ERR_NETWORK,e,P),{cause:k.cause||k}):pt.from(k,k&&k.code,e,P)}}),hp={http:mR,xhr:WR,fetch:JR};me.forEach(hp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dy=e=>`- ${e}`,eL=e=>me.isFunction(e)||e===null||e===!1,qb={getAdapter:e=>{e=me.isArray(e)?e:[e];const{length:t}=e;let s,a;const c={};for(let d=0;d<t;d++){s=e[d];let f;if(a=s,!eL(s)&&(a=hp[(f=String(s)).toLowerCase()],a===void 0))throw new pt(`Unknown adapter '${f}'`);if(a)break;c[f||"#"+d]=a}if(!a){const d=Object.entries(c).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=t?d.length>1?`since :
`+d.map(dy).join(`
`):" "+dy(d[0]):"as no adapter specified";throw new pt("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a},adapters:hp};function Dm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Tl(null,e)}function fy(e){return Dm(e),e.headers=cr.from(e.headers),e.data=Lm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qb.getAdapter(e.adapter||iu.adapter)(e).then(function(a){return Dm(e),a.data=Lm.call(e,e.transformResponse,a),a.headers=cr.from(a.headers),a},function(a){return Bb(a)||(Dm(e),a&&a.response&&(a.response.data=Lm.call(e,e.transformResponse,a.response),a.response.headers=cr.from(a.response.headers))),Promise.reject(a)})}const Gb="1.11.0",Of={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Of[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const hy={};Of.transitional=function(t,s,a){function c(d,f){return"[Axios v"+Gb+"] Transitional option '"+d+"'"+f+(a?". "+a:"")}return(d,f,p)=>{if(t===!1)throw new pt(c(f," has been removed"+(s?" in "+s:"")),pt.ERR_DEPRECATED);return s&&!hy[f]&&(hy[f]=!0,console.warn(c(f," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(d,f,p):!0}};Of.spelling=function(t){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function tL(e,t,s){if(typeof e!="object")throw new pt("options must be an object",pt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const d=a[c],f=t[d];if(f){const p=e[d],g=p===void 0||f(p,d,e);if(g!==!0)throw new pt("option "+d+" must be "+g,pt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new pt("Unknown option "+d,pt.ERR_BAD_OPTION)}}const Ud={assertOptions:tL,validators:Of},Cs=Ud.validators;let ea=class{constructor(t){this.defaults=t||{},this.interceptors={request:new sy,response:new sy}}async request(t,s){try{return await this._request(t,s)}catch(a){if(a instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ia(this.defaults,s);const{transitional:a,paramsSerializer:c,headers:d}=s;a!==void 0&&Ud.assertOptions(a,{silentJSONParsing:Cs.transitional(Cs.boolean),forcedJSONParsing:Cs.transitional(Cs.boolean),clarifyTimeoutError:Cs.transitional(Cs.boolean)},!1),c!=null&&(me.isFunction(c)?s.paramsSerializer={serialize:c}:Ud.assertOptions(c,{encode:Cs.function,serialize:Cs.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Ud.assertOptions(s,{baseUrl:Cs.spelling("baseURL"),withXsrfToken:Cs.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f=d&&me.merge(d.common,d[s.method]);d&&me.forEach(["delete","get","head","post","put","patch","common"],P=>{delete d[P]}),s.headers=cr.concat(f,d);const p=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(s)===!1||(g=g&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const w=[];this.interceptors.response.forEach(function(j){w.push(j.fulfilled,j.rejected)});let _,b=0,S;if(!g){const P=[fy.bind(this),void 0];for(P.unshift(...p),P.push(...w),S=P.length,_=Promise.resolve(s);b<S;)_=_.then(P[b++],P[b++]);return _}S=p.length;let T=s;for(b=0;b<S;){const P=p[b++],j=p[b++];try{T=P(T)}catch(C){j.call(this,C);break}}try{_=fy.call(this,T)}catch(P){return Promise.reject(P)}for(b=0,S=w.length;b<S;)_=_.then(w[b++],w[b++]);return _}getUri(t){t=ia(this.defaults,t);const s=Hb(t.baseURL,t.url,t.allowAbsoluteUrls);return Fb(s,t.params,t.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(t){ea.prototype[t]=function(s,a){return this.request(ia(a||{},{method:t,url:s,data:(a||{}).data}))}});me.forEach(["post","put","patch"],function(t){function s(a){return function(d,f,p){return this.request(ia(p||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}ea.prototype[t]=s(),ea.prototype[t+"Form"]=s(!0)});let nL=class Yb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const a=this;this.promise.then(c=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](c);a._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(p=>{a.subscribe(p),d=p}).then(c);return f.cancel=function(){a.unsubscribe(d)},f},t(function(d,f,p){a.reason||(a.reason=new Tl(d,f,p),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=a=>{t.abort(a)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Yb(function(c){t=c}),cancel:t}}};function rL(e){return function(s){return e.apply(null,s)}}function sL(e){return me.isObject(e)&&e.isAxiosError===!0}const mp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mp).forEach(([e,t])=>{mp[t]=e});function Kb(e){const t=new ea(e),s=Eb(ea.prototype.request,t);return me.extend(s,ea.prototype,t,{allOwnKeys:!0}),me.extend(s,t,null,{allOwnKeys:!0}),s.create=function(c){return Kb(ia(e,c))},s}const hn=Kb(iu);hn.Axios=ea;hn.CanceledError=Tl;hn.CancelToken=nL;hn.isCancel=Bb;hn.VERSION=Gb;hn.toFormData=Df;hn.AxiosError=pt;hn.Cancel=hn.CanceledError;hn.all=function(t){return Promise.all(t)};hn.spread=rL;hn.isAxiosError=sL;hn.mergeConfig=ia;hn.AxiosHeaders=cr;hn.formToJSON=e=>$b(me.isHTMLForm(e)?new FormData(e):e);hn.getAdapter=qb.getAdapter;hn.HttpStatusCode=mp;hn.default=hn;const{Axios:LL,AxiosError:DL,CanceledError:AL,isCancel:OL,CancelToken:IL,VERSION:FL,all:zL,Cancel:$L,isAxiosError:BL,spread:UL,toFormData:HL,AxiosHeaders:WL,HttpStatusCode:VL,formToJSON:ZL,getAdapter:qL,mergeConfig:GL}=hn;function oL(){const e=v0(),{employeeId:t}=UC(),{toast:s}=_l(),[a,c]=v.useState(null),[d,f]=v.useState([]),[p,g]=v.useState([]),[w,_]=v.useState(!0),[b,S]=v.useState(!0),[T,P]=v.useState(!1),[j,C]=v.useState(!1),[k,O]=v.useState(!1),[M,I]=v.useState(null),[$,Z]=v.useState(null),[F,ie]=v.useState(!1),[ce,q]=v.useState(!1),[ne,he]=v.useState(!1),[Pe,K]=v.useState({});v.useEffect(()=>{console.log(" startedMeetingMap updated:",Pe)},[Pe]);const[J,ee]=v.useState(null),[pe,U]=v.useState({}),[de,ae]=v.useState(new Set),[z,X]=v.useState(0);v.useEffect(()=>{console.log(" Meetings state changed:",{count:d.length,meetings:d.map(Q=>({id:Q.id,status:Q.status,client:Q.clientName})),hasActive:d.some(Q=>Q.status==="in-progress"||Q.status==="started")})},[d]),v.useEffect(()=>{if(!t){e("/");return}(async()=>{try{await Promise.all([ye(),Ee()])}catch(be){console.error("Failed to initialize tracking data:",be)}})()},[t,e]);const ye=async(Q=0)=>{try{console.log("Fetching employee:",{employeeId:t,retryCount:Q});const be=await ct.get(`/api/employees/${t}`);if(be.ok)try{const Be=be.headers.get("content-type");if(Be&&Be.includes("application/json")){const Ve=await be.json();c(Ve),console.log("Employee data fetched successfully:",Ve)}else{const Ve=await be.text();console.error("Server returned non-JSON response:",Ve.substring(0,200)),c(null)}}catch(Be){console.error("Error parsing employee response:",Be),c(null)}else console.error(`Failed to fetch employee: ${be.status} ${be.statusText}`),c(null)}catch(be){if(console.error("Error fetching employee:",be),Q<1&&be instanceof TypeError&&(be.message.includes("fetch")||be.message.includes("body stream"))){console.log("Retrying employee fetch after network error..."),setTimeout(()=>ye(Q+1),2e3);return}c(null)}},Ee=async(Q=0)=>{try{console.log(" Fetching meetings:",{employeeId:t,retryCount:Q});const be=await ct.get(`/api/meetings?employeeId=${t}&limit=5`);if(be.ok)try{const Be=be.headers.get("content-type");if(Be&&Be.includes("application/json")){const st=(await be.json()).meetings||[];f(st),console.log(" Meetings data fetched successfully:",{count:st.length,meetings:st.map(Me=>({id:Me.id,status:Me.status,followUpId:Me.followUpId,client:Me.clientName}))});const $e=st.filter(Me=>Me.status==="in-progress"||Me.status==="started");if($e.length>0){console.log(" Found active meetings after refresh:",$e.map(Ye=>({id:Ye.id,followUpId:Ye.followUpId})));const Me={};$e.forEach(Ye=>{Ye.followUpId&&(console.log(" Restoring startedMeetingMap for follow-up meeting:",Ye.followUpId,"->",Ye.id),Me[Ye.followUpId]=Ye.id)}),Object.keys(Me).length>0&&K(Ye=>({...Ye,...Me})),I($e[0].id)}else console.log(" No active meetings found"),I(null)}else{const Ve=await be.text();console.error("Server returned non-JSON response for meetings:",Ve.substring(0,200)),f([])}}catch(Be){console.error("Error parsing meetings response:",Be),f([])}else console.error(`Failed to fetch meetings: ${be.status} ${be.statusText}`),f([])}catch(be){if(console.error("Error fetching meetings:",be),Q<1&&be instanceof TypeError&&(be.message.includes("fetch")||be.message.includes("body stream"))){console.log("Retrying meetings fetch after network error..."),setTimeout(()=>Ee(Q+1),2e3);return}f([])}finally{_(!1)}},we=Q=>{console.log("Today's follow-up meetings fetched:",Q.length),g(Q)},Y=Q=>{console.log(" Attempting to start meeting from follow-up:",Q.companyName),console.log(" Current meetings:",d.map(Ve=>({id:Ve.id,status:Ve.status,client:Ve.clientName}))),console.log(" Total meetings:",d.length);const be=d.find(Ve=>Ve.status==="in-progress"||Ve.status==="started");if(console.log(" Active meeting check result:",be?`Found: ${be.id}`:"None"),be){console.log(" BLOCKED: Active meeting exists:",be.id),s({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting found, proceeding to start...");const Be={clientName:Q.customerName,reason:`Follow-up meeting - ${Q.type}`,notes:Q.remark||`Meeting with ${Q.customerName} from ${Q.companyName}`,leadId:Q.leadId,leadInfo:{id:Q.leadId,companyName:Q.companyName,contactName:Q.customerName}};ft(Be,Q._id)},A=(Q,be,Be)=>{console.log("Location updated:",{lat:Q,lng:be,accuracy:Be}),ye()},V=(Q,be,Be)=>{const Ve=`https://www.google.com/maps?q=${Q},${be}`,st=`https://maps.apple.com/?q=${Q},${be}`;/iPad|iPhone|iPod/.test(navigator.userAgent)?window.open(st,"_blank"):window.open(Ve,"_blank")},te=Q=>{window.location.href=`tel:${Q}`},ge=(Q,be)=>{const Be=encodeURIComponent(`Regarding Field Operations - ${be}`),Ve=encodeURIComponent(`Hi ${be.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${Q}?subject=${Be}&body=${Ve}`},Le=(Q,be)=>{const Be=encodeURIComponent(`Hi ${be.split(" ")[0]}, checking in on your current location and status.`);window.location.href=`sms:${Q}?body=${Be}`},[Ae,Ge]=v.useState(null),gt=Q=>{console.log("handleEndMeetingClick called with meetingId:",Q),I(Q),O(!0)},Ft=async(Q,be)=>{console.log(" handleEndMeetingFromFollowUp called with:",{followUpId:Q,meetingId:be}),console.log(" Fetching fresh meeting data from server..."),s({title:"Loading Meeting Data",description:"Please wait..."});let Be=be,Ve=[];try{if(Q&&(!Be||Be==="")){console.log(" Searching for meeting by followUpId:",Q);const $e=await ct.get(`/api/meetings?employeeId=${t}&limit=20`);if($e.ok){Ve=(await $e.json()).meetings||[],console.log(" Fetched",Ve.length,"meetings from API");const Ye=Ve.find(se=>se.followUpId===Q&&(se.status==="in-progress"||se.status==="started"));Ye?(Be=Ye.id,console.log(" Found meeting by followUpId:",Be)):(console.warn(" No active meeting found with followUpId:",Q),console.log("Available meetings:",Ve.map(se=>({id:se.id,status:se.status,followUpId:se.followUpId,client:se.clientName}))))}}if(!Be||Be===""){if(console.log(" No meeting found by followUpId, searching for any active meeting..."),Ve.length===0){const Me=await ct.get(`/api/meetings?employeeId=${t}&limit=20`);Me.ok&&(Ve=(await Me.json()).meetings||[])}const $e=Ve.find(Me=>Me.status==="in-progress"||Me.status==="started");$e&&(Be=$e.id,console.log(" Found active meeting:",Be))}if(Ve.length>0){f(Ve);const $e={};Ve.forEach(Me=>{(Me.status==="in-progress"||Me.status==="started")&&Me.followUpId&&($e[Me.followUpId]=Me.id)}),Object.keys($e).length>0&&(console.log(" Res tored startedMeetingMap:",$e),K(Me=>({...Me,...$e})))}if(!Be||Be===""){console.error(" No active meeting found!"),s({title:"No Active Meeting",description:"No active meeting found. Please start a meeting first.",variant:"destructive"});return}console.log(" Final meeting ID:",Be);let st=pe[Be];if(!st&&Q&&(st=p.find($e=>$e._id===Q)),!st){const $e=Ve.find(Me=>Me.id===Be);$e!=null&&$e.followUpId&&(st=p.find(Me=>Me._id===$e.followUpId))}st?(console.log(" Setting follow-up data for modal:",st),ee(st)):console.warn(" No follow-up data found for meeting:",Be),I(Be),O(!0)}catch(st){console.error(" Error in handleEndMeetingFromFollowUp:",st),s({title:"Error",description:"Failed to load meeting data. Please try again.",variant:"destructive"})}},ht=()=>{console.log("End meeting attempt. Employee status:",a==null?void 0:a.status,"Available meetings:",d);const Q=d.find(be=>be.status==="in-progress"||be.status==="started");Q?gt(Q.id):(console.error("No active meeting found to end. Available meetings:",d),s({title:"No Active Meeting",description:"No active meeting found for this employee. Please start a meeting first.",variant:"destructive"}))},It=async Q=>{var Be;console.log(" handleEndMeetingWithDetails called with:",{activeMeetingId:M,meetingDetails:Q,hasCustomers:((Be=Q.customers)==null?void 0:Be.length)>0,hasDiscussion:!!Q.discussion});let be=M;if(!be){console.error(" Cannot end meeting: No activeMeetingId set!"),s({title:"Error",description:"No active meeting found. Please try again.",variant:"destructive"});return}Ge(be);try{console.log("Ending meeting with details:",M,Q);let Ve=null;try{console.log(" Fetching fresh location for meeting end...");const $e=await new Promise((Ye,se)=>{if(!navigator.geolocation){se(new Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(Ye,se,{enableHighAccuracy:!0,maximumAge:0,timeout:1e4})});let Me=`${$e.coords.latitude.toFixed(6)}, ${$e.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address for meeting end location...");const Ye=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${$e.coords.latitude}&lon=${$e.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});Ye.ok&&(Me=(await Ye.json()).display_name||Me,console.log(" Meeting end address resolved:",Me))}catch(Ye){console.warn(" Failed to get address, using coordinates:",Ye)}Ve={lat:$e.coords.latitude,lng:$e.coords.longitude,address:Me,timestamp:new Date().toISOString()},console.log(" Fresh end location obtained:",Ve)}catch($e){console.warn(" Failed to get fresh location for meeting end:",$e)}console.log(" Sending PUT request to:",`/api/meetings/${be}`);const st=await ct.put(`/api/meetings/${be}`,{status:"completed",endTime:new Date().toISOString(),meetingDetails:Q,endLocation:Ve});if(st.ok){console.log("Meeting ended successfully");const $e=Object.keys(Pe).find(Me=>Pe[Me]===be);if($e)try{console.log("Updating follow-up status for:",$e);const Me=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${$e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"complete"})});Me.ok?console.log("Follow-up meeting status updated to 'complete'"):console.error("Failed to update follow-up status:",Me.status)}catch(Me){console.error("Error updating follow-up status:",Me)}try{const Me=d.find(se=>se.id===be);console.log("Attempting to add meeting to history with details:",{sessionId:($==null?void 0:$.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:Q,leadId:Me==null?void 0:Me.leadId,leadInfo:Me==null?void 0:Me.leadInfo});const Ye=await ct.post("/api/meeting-history",{sessionId:($==null?void 0:$.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:Q,leadId:Me==null?void 0:Me.leadId,leadInfo:Me==null?void 0:Me.leadInfo});if(Ye.ok){const se=await Ye.json();console.log("Meeting added to history successfully:",se)}else{const se=await Ye.text();console.error("Failed to add meeting to history:",Ye.status,se)}}catch(Me){console.error("Error adding meeting to history:",Me)}K(Me=>{const Ye={...Me};return Object.keys(Ye).forEach(se=>{Ye[se]===be&&delete Ye[se]}),Ye}),U(Me=>{const Ye={...Me};return delete Ye[be],Ye}),ae(Me=>{const Ye=new Set(Me);return Ye.delete(be),Ye}),X(Me=>Me+1),await ct.put(`/api/employees/${t}/status`,{status:"active"}),await Promise.all([Ee(),ye()])}else{const $e=await st.text();throw console.error("Failed to end meeting:",st.status,$e),new Error(`Failed to end meeting: ${$e}`)}}catch(Ve){throw console.error("Error ending meeting:",Ve),Ve}finally{Ge(null),I(null)}},At=async Q=>{if(a){C(!0);try{const be=await ct.post("/api/meetings",{employeeId:a.id,location:{lat:a.location.lat,lng:a.location.lng,address:a.location.address},clientName:Q.clientName,notes:`${Q.reason}${Q.notes?` - ${Q.notes}`:""}`,leadId:Q.leadId,leadInfo:Q.leadInfo});if(be.ok){const Be=await be.json();console.log(" Meeting created successfully:",Be.id),f(Ve=>(console.log(" Adding meeting to state:",Be.id),[...Ve,Be])),await hn.put(`/api/employees/${t}/status`,{status:"meeting"}),ye(),P(!1),s({title:"Meeting Started",description:`Meeting with ${Q.clientName} has been started`})}else{const Be=await be.json().catch(()=>({error:"Failed to start meeting"}));s({title:"Cannot Start Meeting",description:Be.error||"Failed to start meeting",variant:"destructive"})}}catch(be){console.error("Error starting meeting:",be),s({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{C(!1)}}},ft=async(Q,be)=>{if(a){C(!0);try{const Be=p.find(st=>st._id===be);console.log(" Storing follow-up data for meeting:",Be);const Ve=await ct.post("/api/meetings",{employeeId:a.id,location:{lat:a.location.lat,lng:a.location.lng,address:a.location.address},clientName:Q.clientName,notes:`${Q.reason}${Q.notes?` - ${Q.notes}`:""}`,leadId:Q.leadId,leadInfo:Q.leadInfo,followUpId:be,externalMeetingStatus:"meeting on-going"});if(Ve.ok){const st=await Ve.json();console.log(" Meeting created successfully:",st.id),f($e=>(console.log(" Adding meeting to state:",st.id),[...$e,st])),K($e=>({...$e,[be]:st.id})),Be&&(U($e=>({...$e,[st.id]:Be})),console.log(" Stored follow-up data for meeting ID:",st.id));try{const $e=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${be}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"meeting on-going"})});$e.ok?console.log("Updated follow-up meetingStatus to 'meeting on-going' for:",be):console.warn("Failed to update follow-up meetingStatus:",$e.status)}catch($e){console.error("Failed to update follow-up meetingStatus to meeting on-going:",$e)}ae($e=>new Set([...$e,st.id])),await hn.put(`/api/employees/${t}/status`,{status:"meeting"}),ye(),s({title:"Meeting Started",description:`Meeting with ${Q.clientName} has been started`})}else{const st=await Ve.json().catch(()=>({error:"Failed to start meeting"}));s({title:"Cannot Start Meeting",description:st.error||"Failed to start meeting",variant:"destructive"})}}catch(Be){console.error("Error starting meeting:",Be),s({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{C(!1)}}},Oe=()=>{const Q=d.find(be=>be.status==="in-progress"||be.status==="started");if(Q){s({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"}),console.log("Blocked: Active meeting exists:",Q.id);return}P(!0)},Nt=async Q=>{Z(Q),console.log(" Tracking session started:",Q);try{const be=await ct.post("/api/tracking-sessions",{id:Q.id,employeeId:Q.employeeId,startTime:Q.startTime,startLocation:Q.startLocation,route:Q.route||[],totalDistance:Q.totalDistance||0,status:Q.status});if(be.ok){const Be=await be.json();console.log(" Tracking session saved to server:",Be)}else console.error(" Failed to save tracking session:",be.status)}catch(be){console.error(" Error saving tracking session:",be)}},St=async Q=>{Z(Q),console.log(" Tracking session ended:",Q);try{const be=await ct.put(`/api/tracking-sessions/${Q.id}`,{endTime:Q.endTime,endLocation:Q.endLocation,route:Q.route||[],totalDistance:Q.totalDistance||0,duration:Q.duration,status:Q.status});if(be.ok){const Be=await be.json();console.log(" Tracking session updated on server:",Be)}else console.error(" Failed to update tracking session:",be.status)}catch(be){console.error(" Error updating tracking session:",be)}if(console.log("Auto-snapshot conditions:",{hasEmployee:!!a,sessionStatus:Q.status,shouldCreateSnapshot:a&&Q.status==="completed"}),a&&Q.status==="completed")try{console.log("Auto-creating route snapshot for completed tracking session"),await Ut(Q)}catch(be){console.error("Error auto-creating route snapshot:",be)}else console.log("Skipping auto-snapshot:",{reason:a?Q.status!=="completed"?`Session status is ${Q.status}`:"Unknown":"No employee data"})},Ut=async Q=>{if(!a)return;const be=()=>{const se=[];if(Q.route&&se.push(...Q.route),d.forEach(Ie=>{se.push(Ie.location)}),se.push(a.location),se.length===0)return{north:a.location.lat+.01,south:a.location.lat-.01,east:a.location.lng+.01,west:a.location.lng-.01};const ve=se.map(Ie=>Ie.lat),Te=se.map(Ie=>Ie.lng),De=.005;return{north:Math.max(...ve)+De,south:Math.min(...ve)-De,east:Math.max(...Te)+De,west:Math.min(...Te)-De}},Be=()=>d.map(se=>({id:se.id,location:se.location,clientName:se.clientName,startTime:se.startTime,endTime:se.endTime,status:se.status})),Ve=new Date,st=Ve.toLocaleDateString(),$e=Ve.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Me=`${a.name} Route - ${st} ${$e}`,Ye={employeeId:a.id,employeeName:a.name,trackingSessionId:Q.id,title:Me,description:`Auto-captured route snapshot when tracking stopped. Duration: ${Math.round((Q.duration||0)/60)} minutes.`,startLocation:Q.startLocation,endLocation:Q.endLocation,route:Q.route||[a.location],meetings:Be(),totalDistance:Q.totalDistance||0,duration:Q.duration,status:Q.status,mapBounds:be()};try{const se=await ct.post("/api/route-snapshots",Ye);if(se.ok){const ve=await se.json();console.log("Auto-created route snapshot:",ve),s({title:"Route Auto-Captured",description:`${ve.title} saved successfully`})}else throw new Error("Failed to auto-create route snapshot")}catch(se){console.error("Error auto-creating route snapshot:",se),s({title:"Auto-capture Failed",description:"Use 'Manual Capture' button to save route",variant:"destructive"})}},Mn=Q=>{switch(Q){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},En=Q=>{switch(Q){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}};if(w)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading tracking data..."})]})});if(!a)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"Employee not found"}),i.jsx(Se,{asChild:!0,children:i.jsx(Rs,{to:"/",children:"Return to Dashboard"})})]})});const Ht=JSON.parse(localStorage.getItem("user")||"{}"),mn=(Ht==null?void 0:Ht.role)==="super_admin",wn=(Ht==null?void 0:Ht._id)==="67daa55d9c4abb36045d5bfe",Cn=mn||wn;return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"border-b bg-card shadow-sm",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[Cn&&i.jsx(Se,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs(Rs,{to:"/",children:[i.jsx(uf,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:a.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time Tracking"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>q(!0),className:"text-primary",children:[i.jsx($m,{className:"h-4 w-4 mr-1"}),"Manual Capture"]}),i.jsx(Et,{variant:"secondary",className:`${Mn(a.status)}`,children:En(a.status)})]})]})})}),i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsx(bt,{children:"Employee Information"})}),i.jsxs(nt,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Name"}),i.jsx("span",{className:"font-medium",children:a.name})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Email"}),i.jsx("span",{className:"font-medium",children:a.email})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Phone"}),i.jsx("span",{className:"font-medium",children:a.phone})]}),a.designation&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Designation"}),i.jsx("span",{className:"font-medium",children:a.designation})]}),a.department&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Department"}),i.jsx("span",{className:"font-medium",children:a.department})]}),a.companyName&&i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Company"}),i.jsx("span",{className:"font-medium text-right max-w-xs",children:a.companyName})]}),a.reportTo&&i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Reports To"}),i.jsx("span",{className:"font-medium",children:a.reportTo})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),i.jsx(Et,{variant:"secondary",className:`${Mn(a.status)}`,children:En(a.status)})]}),a.currentTask&&i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Task"}),i.jsx("span",{className:"font-medium text-right max-w-xs",children:a.currentTask})]})]}),a.status==="meeting"&&i.jsx("div",{className:"pt-4 pb-2",children:i.jsxs(Se,{variant:"destructive",size:"sm",className:"w-full",onClick:ht,disabled:Ae!==null,children:[i.jsx(jn,{className:"h-4 w-4 mr-2"}),Ae?"Ending Meeting...":"End Current Meeting"]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-4",children:[i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>te(a.phone),children:[i.jsx(ai,{className:"h-4 w-4 mr-2"}),"Call"]}),i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>ge(a.email,a.name),children:[i.jsx(ii,{className:"h-4 w-4 mr-2"}),"Email"]}),i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>Le(a.phone,a.name),className:"col-span-2",children:[i.jsx(Sp,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]})]}),i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsxs(bt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Current Location"}),a.status==="meeting"?i.jsxs(Se,{variant:"destructive",size:"sm",onClick:ht,disabled:Ae!==null,children:[i.jsx(jn,{className:"h-4 w-4 mr-2"}),Ae?"Ending...":"End Meeting"]}):i.jsxs(Se,{variant:"outline",size:"sm",onClick:Oe,children:[i.jsx(Wd,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})}),i.jsxs(nt,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Jn,{className:"h-5 w-5 text-primary mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium",children:a.location.address}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.location.lat.toFixed(6),","," ",a.location.lng.toFixed(6)]}),i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[i.jsx(jn,{className:"h-3 w-3 mr-1"}),"Last updated ",a.lastUpdate]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Se,{variant:"outline",className:"w-full",onClick:()=>S(!b),children:[i.jsx(co,{className:"h-4 w-4 mr-2"}),b?"Hide Map":"View on Map"]}),i.jsxs(Se,{variant:"outline",className:"w-full",onClick:()=>V(a.location.lat,a.location.lng,a.location.address),children:[i.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Open in Maps App"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>q(!0),className:"text-primary",children:[i.jsx($m,{className:"h-4 w-4 mr-2"}),"Manual Capture"]}),i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>he(!0),children:[i.jsx(rl,{className:"h-4 w-4 mr-2"}),"View History"]})]})]}),b&&a&&i.jsx("div",{className:"mt-4",children:i.jsx($p,{employees:[a],height:"300px",trackingSession:$,showRoute:$!==null})})]})]}),i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsxs(bt,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Recent Meetings"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Et,{variant:"secondary",children:d.filter(Q=>!de.has(Q.id)).length}),i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>ie(!0),children:[i.jsx(Zr,{className:"h-4 w-4 mr-2"}),"History"]})]})]})}),i.jsx(nt,{children:d.filter(Q=>!de.has(Q.id)).length===0?i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent meetings"}):i.jsx("div",{className:"space-y-4",children:d.filter(Q=>!de.has(Q.id)).map(Q=>i.jsxs("div",{className:`border rounded-lg p-3 space-y-2 ${Q.status==="in-progress"?"border-warning bg-warning/5":"border-border"}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"font-medium",children:Q.clientName||"Unknown Client"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Et,{variant:"secondary",className:Q.status==="completed"?"bg-success text-success-foreground":Q.status==="in-progress"?"bg-warning text-warning-foreground":"bg-info text-info-foreground",children:Q.status}),Q.status==="in-progress"&&i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>gt(Q.id),disabled:Ae===Q.id,children:Ae===Q.id?"Ending...":"End Meeting"})]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[i.jsx(Jn,{className:"h-3 w-3 mr-1"}),Q.location.address]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[i.jsx(Zr,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"font-medium",children:"Started:"}),i.jsx("span",{className:"ml-1",children:new Date(Q.startTime).toLocaleString()})]}),Q.endTime&&i.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[i.jsx(jn,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"font-medium",children:"Ended:"}),i.jsx("span",{className:"ml-1",children:new Date(Q.endTime).toLocaleString()})]}),Q.status==="in-progress"&&i.jsxs("p",{className:"text-sm text-success flex items-center",children:[i.jsx(jn,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"font-medium",children:"Duration:"}),i.jsxs("span",{className:"ml-1",children:[Math.round((Date.now()-new Date(Q.startTime).getTime())/(1e3*60))," ","minutes"]})]}),Q.endTime&&Q.status==="completed"&&i.jsxs("p",{className:"text-sm text-info flex items-center",children:[i.jsx(jn,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"font-medium",children:"Duration:"}),i.jsxs("span",{className:"ml-1",children:[Math.round((new Date(Q.endTime).getTime()-new Date(Q.startTime).getTime())/(1e3*60))," ","minutes"]})]})]}),Q.notes&&i.jsx("p",{className:"text-sm",children:Q.notes})]},Q.id))})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(jM,{employeeId:a.id,employeeName:a.name,onLocationUpdate:A,trackingEnabled:a.status==="active",onTrackingSessionStart:Nt,onTrackingSessionEnd:St,todaysMeetings:p}),i.jsx(f_,{userId:t,onStartMeeting:Y,startedMeetingMap:Pe,onEndMeetingFromFollowUp:Ft,onMeetingsFetched:we,refreshTrigger:z,hasActiveMeeting:d.some(Q=>Q.status==="in-progress"||Q.status==="started")})]})]})}),a&&i.jsx(lb,{isOpen:T,onClose:()=>P(!1),onStartMeeting:At,employeeName:a.name,location:a.location.address,isLoading:j}),a&&i.jsx(CM,{isOpen:k,onClose:()=>{O(!1),I(null),ee(null)},onEndMeeting:It,employeeName:a.name,isLoading:Ae!==null,currentMeeting:M?d.find(Q=>Q.id===M):null,followUpMeetingData:J}),i.jsx(s_,{employeeId:t,isOpen:F,onClose:()=>ie(!1)}),a&&i.jsx(PM,{employee:a,trackingSession:$,meetings:d,isOpen:ce,onClose:()=>q(!1),onSnapshotCreated:Q=>{console.log("Snapshot created:",Q)}}),i.jsx(Sb,{employeeId:t,isOpen:ne,onClose:()=>he(!1)})]})}function iL(){const[e,t]=v.useState([]),[s,a]=v.useState(!0),[c,d]=v.useState(""),[f,p]=v.useState("all"),[g,w]=v.useState(!1),[_,b]=v.useState(!1),[S,T]=v.useState(null),[P,j]=v.useState({name:"",email:"",phone:"",status:"active"});v.useEffect(()=>{C()},[]);const C=async()=>{var q;try{console.log("TeamManagement: Fetching employees...");const ne=await ct.get("/api/employees");if(ne.ok){const he=await ne.json();console.log("TeamManagement: Successfully fetched employees:",((q=he.employees)==null?void 0:q.length)||0),t(he.employees||[])}else console.error("TeamManagement: Failed to fetch employees - Status:",ne.status),t([])}catch(ne){console.error("TeamManagement: Error fetching employees:",ne),t([])}finally{a(!1)}},k=async()=>{try{const q=await ct.post("/api/employees",{...P,location:{lat:40.7128,lng:-74.006,address:"New York, NY",timestamp:new Date().toISOString()},lastUpdate:"Just now",deviceId:`device_${Date.now()}`});q.ok?(console.log("TeamManagement: Employee added successfully"),C(),w(!1),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to add employee - Status:",q.status)}catch(q){console.error("TeamManagement: Error adding employee:",q)}},O=async()=>{if(S)try{const q=await ct.put(`/api/employees/${S.id}`,P);q.ok?(console.log("TeamManagement: Employee updated successfully"),C(),b(!1),T(null),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to update employee - Status:",q.status)}catch(q){console.error("TeamManagement: Error updating employee:",q)}},M=async q=>{if(confirm("Are you sure you want to delete this employee?"))try{const ne=await ct.delete(`/api/employees/${q}`);ne.ok?(console.log("TeamManagement: Employee deleted successfully"),C()):console.error("TeamManagement: Failed to delete employee - Status:",ne.status)}catch(ne){console.error("TeamManagement: Error deleting employee:",ne)}},I=q=>{window.location.href=`tel:${q}`},$=(q,ne)=>{const he=encodeURIComponent(`Regarding Field Operations - ${ne}`),Pe=encodeURIComponent(`Hi ${ne.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${q}?subject=${he}&body=${Pe}`},Z=q=>{T(q),j({name:q.name,email:q.email,phone:q.phone,status:q.status}),b(!0)},F=q=>{switch(q){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},ie=q=>{switch(q){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},ce=e.filter(q=>{const ne=q.name.toLowerCase().includes(c.toLowerCase())||q.email.toLowerCase().includes(c.toLowerCase()),he=f==="all"||q.status===f;return ne&&he});return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"border-b bg-card shadow-sm",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Se,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs(Rs,{to:"/",children:[i.jsx(uf,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Team Management"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your field team employees"})]})]}),i.jsxs(kr,{open:g,onOpenChange:w,children:[i.jsx(PT,{asChild:!0,children:i.jsxs(Se,{children:[i.jsx(Wd,{className:"h-4 w-4 mr-2"}),"Add Employee"]})}),i.jsxs(ur,{children:[i.jsxs(dr,{children:[i.jsx(fr,{children:"Add New Employee"}),i.jsx(hr,{children:"Add a new field employee to your team."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rt,{htmlFor:"name",children:"Name"}),i.jsx(an,{id:"name",value:P.name,onChange:q=>j({...P,name:q.target.value}),placeholder:"Enter full name"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rt,{htmlFor:"email",children:"Email"}),i.jsx(an,{id:"email",type:"email",value:P.email,onChange:q=>j({...P,email:q.target.value}),placeholder:"Enter email address"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rt,{htmlFor:"phone",children:"Phone"}),i.jsx(an,{id:"phone",type:"tel",value:P.phone,onChange:q=>j({...P,phone:q.target.value}),placeholder:"Enter phone number"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rt,{htmlFor:"status",children:"Status"}),i.jsxs(Ls,{value:P.status,onValueChange:q=>j({...P,status:q}),children:[i.jsx(ls,{children:i.jsx(Ds,{placeholder:"Select status"})}),i.jsxs(cs,{children:[i.jsx(Zt,{value:"active",children:"Active"}),i.jsx(Zt,{value:"inactive",children:"Inactive"}),i.jsx(Zt,{value:"meeting",children:"In Meeting"})]})]})]})]}),i.jsxs(sa,{children:[i.jsx(Se,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),i.jsx(Se,{onClick:k,children:"Add Employee"})]})]})]})]})})}),i.jsxs("div",{className:"container mx-auto px-4 py-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Qc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(an,{placeholder:"Search employees...",value:c,onChange:q=>d(q.target.value),className:"pl-10"})]}),i.jsxs(Ls,{value:f,onValueChange:p,children:[i.jsx(ls,{className:"w-full sm:w-[180px]",children:i.jsx(Ds,{placeholder:"Filter by status"})}),i.jsxs(cs,{children:[i.jsx(Zt,{value:"all",children:"All Statuses"}),i.jsx(Zt,{value:"active",children:"Active"}),i.jsx(Zt,{value:"meeting",children:"In Meeting"}),i.jsx(Zt,{value:"inactive",children:"Inactive"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Total Employees"}),i.jsx(Ji,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(nt,{children:i.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Active"}),i.jsx("div",{className:"h-3 w-3 rounded-full bg-success"})]}),i.jsx(nt,{children:i.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter(q=>q.status==="active").length})})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"In Meetings"}),i.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"})]}),i.jsx(nt,{children:i.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter(q=>q.status==="meeting").length})})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Offline"}),i.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"})]}),i.jsx(nt,{children:i.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:e.filter(q=>q.status==="inactive").length})})]})]}),i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsxs(bt,{children:["Team Members (",ce.length,")"]})}),i.jsx(nt,{children:s?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading employees..."})]}):ce.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Ji,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),i.jsx("p",{className:"text-muted-foreground",children:c||f!=="all"?"Try adjusting your search or filters.":"Add your first employee to get started."})]}):i.jsx("div",{className:"space-y-4",children:ce.map(q=>i.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("h3",{className:"font-semibold text-lg",children:q.name}),i.jsx(Et,{variant:"secondary",className:`text-xs ${F(q.status)}`,children:ie(q.status)})]}),i.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[i.jsxs("p",{className:"flex items-center",children:[i.jsx(ii,{className:"h-3 w-3 mr-2"}),q.email]}),i.jsxs("p",{className:"flex items-center",children:[i.jsx(ai,{className:"h-3 w-3 mr-2"}),q.phone]}),i.jsxs("p",{className:"flex items-center",children:[i.jsx(Jn,{className:"h-3 w-3 mr-2"}),q.location.address]}),q.currentTask&&i.jsxs("p",{className:"text-primary font-medium",children:["Current Task: ",q.currentTask]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>I(q.phone),children:[i.jsx(ai,{className:"h-3 w-3 mr-1"}),"Call"]}),i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>$(q.email,q.name),children:[i.jsx(ii,{className:"h-3 w-3 mr-1"}),"Email"]}),i.jsx(Se,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs(Rs,{to:`/tracking/${q.id}`,children:[i.jsx(co,{className:"h-3 w-3 mr-1"}),"Track"]})}),i.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>Z(q),children:[i.jsx(cw,{className:"h-3 w-3 mr-1"}),"Edit"]}),i.jsx(Se,{variant:"outline",size:"sm",onClick:()=>M(q.id),className:"text-destructive hover:text-destructive",children:i.jsx(dw,{className:"h-3 w-3"})})]})]})},q.id))})})]})]}),i.jsx(kr,{open:_,onOpenChange:b,children:i.jsxs(ur,{children:[i.jsxs(dr,{children:[i.jsx(fr,{children:"Edit Employee"}),i.jsx(hr,{children:"Update employee information."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rt,{htmlFor:"edit-name",children:"Name"}),i.jsx(an,{id:"edit-name",value:P.name,onChange:q=>j({...P,name:q.target.value}),placeholder:"Enter full name"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rt,{htmlFor:"edit-email",children:"Email"}),i.jsx(an,{id:"edit-email",type:"email",value:P.email,onChange:q=>j({...P,email:q.target.value}),placeholder:"Enter email address"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rt,{htmlFor:"edit-phone",children:"Phone"}),i.jsx(an,{id:"edit-phone",type:"tel",value:P.phone,onChange:q=>j({...P,phone:q.target.value}),placeholder:"Enter phone number"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Rt,{htmlFor:"edit-status",children:"Status"}),i.jsxs(Ls,{value:P.status,onValueChange:q=>j({...P,status:q}),children:[i.jsx(ls,{children:i.jsx(Ds,{placeholder:"Select status"})}),i.jsxs(cs,{children:[i.jsx(Zt,{value:"active",children:"Active"}),i.jsx(Zt,{value:"inactive",children:"Inactive"}),i.jsx(Zt,{value:"meeting",children:"In Meeting"})]})]})]})]}),i.jsxs(sa,{children:[i.jsx(Se,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),i.jsx(Se,{onClick:O,children:"Save Changes"})]})]})})]})}const aL=Xc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Wi=v.forwardRef(({className:e,variant:t,...s},a)=>i.jsx("div",{ref:a,role:"alert",className:it(aL({variant:t}),e),...s}));Wi.displayName="Alert";const lL=v.forwardRef(({className:e,...t},s)=>i.jsx("h5",{ref:s,className:it("mb-1 font-medium leading-none tracking-tight",e),...t}));lL.displayName="AlertTitle";const Vi=v.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:it("text-sm [&_p]:leading-relaxed",e),...t}));Vi.displayName="AlertDescription";function cL(){const[e,t]=v.useState(null),[s,a]=v.useState(!0),[c,d]=v.useState(!1),[f,p]=v.useState(null),[g,w]=v.useState(null),[_,b]=v.useState(!1),[S,T]=v.useState(!1);v.useEffect(()=>{P()},[]);const P=async()=>{try{a(!0),w(null);const M=await ct.get("/api/data-status");if(M.ok){const I=await M.json();t(I),console.log("Data status:",I)}else throw new Error(`Failed to fetch data status: ${M.status}`)}catch(M){console.error("Error fetching data status:",M),w(M.message)}finally{a(!1)}},j=async()=>{try{d(!0),p(null),w(null);const M=await ct.post("/api/data-sync",{});if(M.ok){const I=await M.json();p(I),console.log("Sync result:",I),await P()}else throw new Error(`Sync failed: ${M.status} ${M.statusText}`)}catch(M){console.error("Error syncing data:",M),w(M.message)}finally{d(!1)}},C=async()=>{try{b(!0),w(null),T(!1);const M=await ct.post("/api/employees/clear-cache",{});if(M.ok){const I=await M.json();T(!0),console.log("Location cache cleared:",I.message)}else throw new Error(`Cache clear failed: ${M.status} ${M.statusText}`)}catch(M){w(M instanceof Error?M.message:"Failed to clear location cache")}finally{b(!1)}},k=(M,I)=>M===0&&I>0?"text-yellow-600":M>0?"text-green-600":"text-gray-600",O=(M,I)=>M===0&&I>0?i.jsx(Pc,{className:"h-4 w-4 text-yellow-600"}):M>0?i.jsx(Vr,{className:"h-4 w-4 text-green-600"}):i.jsx(Kv,{className:"h-4 w-4 text-gray-600"});return s?i.jsx("div",{className:"min-h-screen bg-background p-6",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(sl,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading data status..."})]})})}):i.jsx("div",{className:"min-h-screen bg-background p-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Data Management"}),i.jsx("p",{className:"text-muted-foreground",children:"Monitor and synchronize MongoDB data storage"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(Se,{onClick:P,variant:"outline",disabled:s,children:[i.jsx(sl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),i.jsxs(Se,{onClick:j,disabled:c,className:"bg-primary hover:bg-primary/90",children:[i.jsx(Kv,{className:"h-4 w-4 mr-2"}),c?"Syncing...":"Sync Data"]}),i.jsxs(Se,{onClick:C,disabled:_,variant:"outline",className:"border-orange-500 text-orange-600 hover:bg-orange-50",children:[i.jsx(sl,{className:"h-4 w-4 mr-2"}),_?"Clearing...":"Clear Location Cache"]})]})]}),g&&i.jsxs(Wi,{variant:"destructive",children:[i.jsx(Pc,{className:"h-4 w-4"}),i.jsx(Vi,{children:g})]}),f&&i.jsxs(Wi,{className:"border-green-200 bg-green-50",children:[i.jsx(Vr,{className:"h-4 w-4 text-green-600"}),i.jsxs(Vi,{className:"text-green-800",children:[i.jsx("strong",{children:f.message}),i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsxs("p",{children:[" Meetings in MongoDB: ",f.stats.totalMeetingsInMongoDB]}),i.jsxs("p",{children:[" History in MongoDB: ",f.stats.totalHistoryInMongoDB]}),i.jsxs("p",{children:[" Meetings synced: ",f.stats.meetingsSynced]}),i.jsxs("p",{children:[" History synced: ",f.stats.historySynced]})]})]})]}),S&&i.jsxs(Wi,{className:"border-orange-200 bg-orange-50",children:[i.jsx(Vr,{className:"h-4 w-4 text-orange-600"}),i.jsxs(Vi,{className:"text-orange-800",children:[i.jsx("strong",{children:"Location cache cleared successfully!"}),i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsx("p",{children:" All employees will now use real GPS location data"}),i.jsx("p",{children:" No more hardcoded cities (Delhi, Mumbai, etc.)"}),i.jsx("p",{children:" Refresh the employee list to see updated locations"})]})]})]}),e&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"MongoDB Meetings"}),O(e.mongoDB.meetings,e.inMemory.meetings)]}),i.jsxs(nt,{children:[i.jsx("div",{className:`text-2xl font-bold ${k(e.mongoDB.meetings,e.inMemory.meetings)}`,children:e.mongoDB.meetings}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["In-memory: ",e.inMemory.meetings]})]})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Meeting History"}),i.jsx(Zr,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.mongoDB.history}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Historical records"})]})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Employees"}),i.jsx(Ji,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.mongoDB.employees}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Employee records"})]})]}),i.jsxs(tt,{children:[i.jsxs(_t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(bt,{className:"text-sm font-medium",children:"Tracking Sessions"}),i.jsx(bp,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(nt,{children:[i.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.mongoDB.trackingSessions}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Location sessions"})]})]})]}),e&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsx(bt,{className:"text-lg",children:"Sample Meeting Data"})}),i.jsx(nt,{children:e.mongoDB.sampleMeeting?i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID:"}),i.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleMeeting.id})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),i.jsxs("span",{children:[e.mongoDB.sampleMeeting.employeeId.substring(0,8),"..."]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Status:"}),i.jsx(Et,{variant:"outline",children:e.mongoDB.sampleMeeting.status})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Lead ID:"}),i.jsx("span",{children:e.mongoDB.sampleMeeting.leadId||"N/A"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Has Details:"}),i.jsx(Et,{variant:e.mongoDB.sampleMeeting.hasDetails?"default":"secondary",children:e.mongoDB.sampleMeeting.hasDetails?"Yes":"No"})]})]}):i.jsx("p",{className:"text-muted-foreground",children:"No meeting data found"})})]}),i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsx(bt,{className:"text-lg",children:"Sample History Data"})}),i.jsx(nt,{children:e.mongoDB.sampleHistory?i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID:"}),i.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleHistory.id})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),i.jsxs("span",{children:[e.mongoDB.sampleHistory.employeeId.substring(0,8),"..."]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Customers:"}),i.jsx(Et,{variant:"outline",children:e.mongoDB.sampleHistory.hasCustomers?"Yes":"No"})]}),i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("span",{className:"text-muted-foreground",children:"Discussion:"}),i.jsx("span",{className:"text-xs bg-muted p-2 rounded",children:e.mongoDB.sampleHistory.discussion||"No discussion"})]})]}):i.jsx("p",{className:"text-muted-foreground",children:"No history data found"})})]})]}),e&&i.jsxs(tt,{children:[i.jsx(_t,{children:i.jsx(bt,{className:"text-lg",children:"Recommendations"})}),i.jsx(nt,{children:i.jsxs("div",{className:"space-y-3",children:[e.mongoDB.meetings===0&&e.inMemory.meetings>0&&i.jsxs(Wi,{className:"border-yellow-200 bg-yellow-50",children:[i.jsx(Pc,{className:"h-4 w-4 text-yellow-600"}),i.jsxs(Vi,{className:"text-yellow-800",children:[i.jsx("strong",{children:"Data Sync Needed:"})," You have ",e.inMemory.meetings,' meetings in memory but none in MongoDB. Click "Sync Data" to fix this.']})]}),e.mongoDB.meetings>e.mongoDB.history&&i.jsxs(Wi,{className:"border-blue-200 bg-blue-50",children:[i.jsx(Pc,{className:"h-4 w-4 text-blue-600"}),i.jsxs(Vi,{className:"text-blue-800",children:[i.jsx("strong",{children:"Missing History:"})," You have more meetings (",e.mongoDB.meetings,") than history entries (",e.mongoDB.history,"). Some meetings might not have been completed with proper details."]})]}),e.mongoDB.meetings>0&&e.mongoDB.history>0&&i.jsxs(Wi,{className:"border-green-200 bg-green-50",children:[i.jsx(Vr,{className:"h-4 w-4 text-green-600"}),i.jsxs(Vi,{className:"text-green-800",children:[i.jsx("strong",{children:"Data Looks Good:"})," Your MongoDB storage is working properly with ",e.mongoDB.meetings," meetings and ",e.mongoDB.history," history entries."]})]})]})})]})]})})}const oo=[{lat:28.6139,lng:77.209,address:"Connaught Place, New Delhi",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"Karol Bagh",timestamp:"2024-01-15T09:15:00.000Z"},{lat:28.6511,lng:77.241,address:"Civil Lines",timestamp:"2024-01-15T09:30:00.000Z"},{lat:28.6785,lng:77.2654,address:"GTB Nagar",timestamp:"2024-01-15T09:45:00.000Z"},{lat:28.7041,lng:77.1025,address:"Rohini",timestamp:"2024-01-15T10:00:00.000Z"},{lat:28.7342,lng:77.0822,address:"Sector 3 Rohini",timestamp:"2024-01-15T10:10:00.000Z"},{lat:28.7503,lng:77.0689,address:"Client Office, Rohini",timestamp:"2024-01-15T10:20:00.000Z"}],Cc=[{lat:28.6139,lng:77.209,address:"Start",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"End",timestamp:"2024-01-15T09:15:00.000Z"}];class Xb{constructor(){Es(this,"results",[])}async runAllTests(){console.log(" Starting Route Tracking Comprehensive Tests"),console.log("=".repeat(60)),await this.testAPIConfiguration(),await this.testDistanceCalculations(),await this.testRouteProcessing(),await this.testRoutingAPIs(),await this.testGPSRouteCreation(),this.displayResults()}async testAPIConfiguration(){console.log(`
 Testing API Configuration...`);const t=zp();b0(),console.log(`Current API: ${t.type} - ${t.description}`),console.log(`Has paid keys: ${t.hasKey}`),this.results.push({test:"API Configuration",status:" Pass",details:`Using ${t.type} API`,recommendation:t.hasKey?"Good to go!":"Consider upgrading to paid API for better reliability"})}async testDistanceCalculations(){console.log(`
 Testing Distance Calculations...`);const t=oo[0],s=oo[oo.length-1],a=this.calculateStraightLineDistance(t,s);console.log(`Straight-line distance: ${(a/1e3).toFixed(2)} km`);const c=Wr.createGPSRoute(oo);console.log(`GPS route distance: ${(c.distance/1e3).toFixed(2)} km`),console.log(`GPS route confidence: ${c.confidence}`);const d=c.distance>a&&c.distance<a*2;this.results.push({test:"Distance Calculations",status:d?" Pass":" Warning",details:`GPS: ${(c.distance/1e3).toFixed(2)}km, Straight: ${(a/1e3).toFixed(2)}km`,recommendation:d?"Distance calculations look correct":"GPS distance seems unrealistic"})}async testRouteProcessing(){console.log(`
 Testing Route Processing...`);const t=await Wr.getRouteForPoints(oo);console.log(`Processed route coordinates: ${t.coordinates.length}`),console.log(`Total distance: ${(t.totalDistance/1e3).toFixed(2)} km`),console.log(`Route source: ${t.source}`),console.log(`Route confidence: ${t.confidence}`);const s=t.totalDistance>0,a=t.coordinates.length>=2;this.results.push({test:"Route Processing",status:s&&a?" Pass":" Fail",details:`${t.coordinates.length} coords, ${(t.totalDistance/1e3).toFixed(2)}km`,recommendation:s?"Route processing working correctly":"Route processing needs fixing"})}async testRoutingAPIs(){console.log(`
 Testing Routing APIs...`);const t=Cc[0],s=Cc[1];try{const a=await Wr.getRoute(t,s);console.log(`API route source: ${a.source}`),console.log(`API route confidence: ${a.confidence}`),console.log(`API route distance: ${(a.distance/1e3).toFixed(2)} km`),console.log(`API route coordinates: ${a.coordinates.length}`);const c=a.coordinates.length>=2&&a.distance>0;this.results.push({test:"Routing APIs",status:c?" Pass":" Warning",details:`${a.source} source, ${a.confidence} confidence`,recommendation:a.source==="road-api"?"APIs working well":"APIs limited, consider paid service"})}catch(a){console.error("API routing failed:",a),this.results.push({test:"Routing APIs",status:" Fail",details:`Error: ${a.message}`,recommendation:"APIs not working, need paid service or fix"})}}async testGPSRouteCreation(){console.log(`
 Testing GPS Route Creation...`);const t=[{points:oo.slice(0,1),name:"Single point"},{points:oo.slice(0,2),name:"Two points"},{points:oo.slice(0,4),name:"Four points"},{points:oo,name:"Full route"}];for(const s of t){const a=Wr.createGPSRoute(s.points);console.log(`${s.name}: ${(a.distance/1e3).toFixed(2)}km, ${a.confidence} confidence`)}this.results.push({test:"GPS Route Creation",status:" Pass",details:"All point counts handled correctly",recommendation:"GPS route creation working properly"})}calculateStraightLineDistance(t,s){const c=t.lat*Math.PI/180,d=s.lat*Math.PI/180,f=(s.lat-t.lat)*Math.PI/180,p=(t.lng-s.lng)*Math.PI/180,g=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))}displayResults(){console.log(`
`+"=".repeat(60)),console.log(" TEST RESULTS SUMMARY"),console.log("=".repeat(60)),this.results.forEach((c,d)=>{console.log(`
${d+1}. ${c.test}`),console.log(`   Status: ${c.status}`),console.log(`   Details: ${c.details}`),console.log(`    ${c.recommendation}`)});const t=this.results.filter(c=>c.status.includes("")).length,s=this.results.filter(c=>c.status.includes("")).length,a=this.results.filter(c=>c.status.includes("")).length;console.log(`
`+"=".repeat(60)),console.log(` OVERALL RESULTS: ${t} Pass, ${s} Warning, ${a} Fail`),a>0?(console.log(`
 CRITICAL ISSUES FOUND - Route tracking may not work properly`),console.log("   Recommend using a paid API service for reliable routing")):s>0?(console.log(`
 SOME LIMITATIONS DETECTED - Route tracking working but could be improved`),console.log("   Consider upgrading to a paid API for better accuracy")):console.log(`
 ALL TESTS PASSED - Route tracking should work well!`),console.log(`
 API UPGRADE OPTIONS:`),console.log("    OpenRouteService: 2.99/month for 2000 requests/day"),console.log("    MapBox: Free 50k/month then pay-per-use"),console.log("    Google Maps: Enterprise-grade accuracy (requires billing)"),console.log(`
 TO ENABLE PAID APIs:`),console.log("   Add to your .env file:"),console.log("   VITE_OPENROUTESERVICE_API_KEY=your_key_here"),console.log("   VITE_MAPBOX_API_KEY=your_key_here"),console.log("   VITE_GOOGLE_MAPS_API_KEY=your_key_here")}async quickTest(){console.log(" Running Quick Route Tracking Test...");try{const t=Wr.createGPSRoute(Cc),s=t.distance>0,a=await Wr.getRoute(Cc[0],Cc[1]),c=a.coordinates.length>=2,d=s&&c;return console.log(` Quick test ${d?"PASSED":"FAILED"}`),console.log(`   GPS distance: ${(t.distance/1e3).toFixed(2)}km`),console.log(`   API source: ${a.source}, confidence: ${a.confidence}`),d}catch(t){return console.error(" Quick test FAILED:",t.message),!1}}}const uL=new Xb,dL=()=>uL.quickTest();function fL(){const[e,t]=v.useState(!1),[s,a]=v.useState(!1),[c,d]=v.useState(null),[f,p]=v.useState([]),g=zp(),w=b0(),_=async()=>{t(!0),p([]);const S=console.log,T=[];console.log=(...P)=>{T.push(P.join(" ")),S(...P)};try{const P=await dL();d(P),p(T)}catch(P){d(!1),p([...T,`Error: ${P.message}`])}finally{console.log=S,t(!1)}},b=async()=>{a(!0),p([]);const S=console.log,T=[];console.log=(...P)=>{T.push(P.join(" ")),S(...P)};try{await new Xb().runAllTests(),p(T)}catch(P){p([...T,`Error: ${P.message}`])}finally{console.log=S,a(!1)}};return i.jsxs(tt,{className:"w-full max-w-4xl mx-auto",children:[i.jsxs(_t,{children:[i.jsxs(bt,{className:"flex items-center gap-2",children:[i.jsx(uw,{className:"h-5 w-5"}),"Route Tracking Test Panel"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality after the fixes"})]}),i.jsxs(nt,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(BN,{className:"h-4 w-4"}),"API Configuration"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"Current API"}),i.jsx(Et,{variant:g.hasKey?"default":"secondary",children:g.type.toUpperCase()})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"font-medium",children:"API Status"}),i.jsx(Et,{variant:g.hasKey?"default":"destructive",children:g.hasKey?"Configured":"Free Tier"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:g.hasKey?"Using configured API key":"Using free public APIs (limited)"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx($N,{className:"h-4 w-4"}),"Run Tests"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Se,{onClick:_,disabled:e,className:"w-full",variant:"outline",children:e?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Running..."]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Jn,{className:"h-4 w-4"}),"Quick Test"]})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tests basic distance calculation and API routing (~30 seconds)"}),c!==null&&i.jsx("div",{className:"flex items-center gap-2 mt-2",children:c?i.jsxs(i.Fragment,{children:[i.jsx(Vr,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{className:"text-sm text-green-700",children:"Test Passed"})]}):i.jsxs(i.Fragment,{children:[i.jsx(ON,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:"text-sm text-red-700",children:"Test Failed"})]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Se,{onClick:b,disabled:s,className:"w-full",children:s?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Running..."]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qi,{className:"h-4 w-4"}),"Full Test Suite"]})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive testing of all route tracking features (~2 minutes)"})]})]})]}),f.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Test Output"}),i.jsx("div",{className:"p-4 bg-muted rounded-lg max-h-96 overflow-y-auto",children:i.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap",children:f.join(`
`)})})]}),!g.hasKey&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(Pc,{className:"h-4 w-4"}),"Recommendations"]}),i.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[i.jsx("p",{className:"text-sm mb-3",children:"You're using free APIs which may be limited. For better reliability:"}),i.jsx("div",{className:"space-y-2",children:w.recommendations.filter(S=>S.recommended).map((S,T)=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("strong",{children:[S.service,":"]})," ",S.freeLimit," free, ",S.paidOptions,i.jsx("br",{}),i.jsx("code",{className:"text-xs bg-gray-100 px-1 rounded",children:S.setup})]},T))})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[i.jsx(aw,{className:"h-4 w-4"}),"Issues Fixed"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Distance Calculation"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Fixed 0 distance showing for 40km routes"}),i.jsx("li",{children:" Improved GPS point filtering (5m instead of 8m)"}),i.jsx("li",{children:" Better distance accumulation logic"})]})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Route Visualization"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:' Fixed "Not enough points" error'}),i.jsx("li",{children:" Simplified route display logic"}),i.jsx("li",{children:" Better fallback for single GPS points"})]})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" API Reliability"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Added timeout handling"}),i.jsx("li",{children:" Improved error handling"}),i.jsx("li",{children:" Better fallback strategies"})]})]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Performance"}),i.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.jsx("li",{children:" Reduced API calls for long routes"}),i.jsx("li",{children:" Better caching strategies"}),i.jsx("li",{children:" More efficient GPS processing"})]})]})]})]})]})]})}function hL(){return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"border-b bg-card shadow-sm",children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Se,{variant:"outline",size:"sm",asChild:!0,children:i.jsxs(Rs,{to:"/dashboard",children:[i.jsx(uf,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Route Tracking Test"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality"})]})]})})}),i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx(fL,{})})]})}const mL=()=>{const e=tu();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};class Dc extends Error{}Dc.prototype.name="InvalidTokenError";function pL(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,s)=>{let a=s.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}function gL(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return pL(t)}catch{return atob(t)}}function vL(e,t){if(typeof e!="string")throw new Dc("Invalid token specified: must be a string");t||(t={});const s=t.header===!0?0:1,a=e.split(".")[s];if(typeof a!="string")throw new Dc(`Invalid token specified: missing part #${s+1}`);let c;try{c=gL(a)}catch(d){throw new Dc(`Invalid token specified: invalid base64 for part #${s+1} (${d.message})`)}try{return JSON.parse(c)}catch(d){throw new Dc(`Invalid token specified: invalid json for part #${s+1} (${d.message})`)}}const xL=()=>{console.log(" Testing GPS routing functionality...");const e=[{lat:40.7128,lng:-74.006,address:"Start Location",timestamp:"2024-01-01T10:00:00Z"},{lat:40.713,lng:-74.0058,address:"Point 1",timestamp:"2024-01-01T10:01:00Z"},{lat:40.7135,lng:-74.0055,address:"Point 2",timestamp:"2024-01-01T10:02:00Z"},{lat:40.714,lng:-74.005,address:"Point 3",timestamp:"2024-01-01T10:03:00Z"},{lat:40.7145,lng:-74.0045,address:"End Location",timestamp:"2024-01-01T10:04:00Z"}],t=Wr.createGPSRoute(e);console.log(" GPS Route Result:",{source:t.source,confidence:t.confidence,coordinateCount:t.coordinates.length,distance:`${(t.distance/1e3).toFixed(2)} km`,duration:`${Math.round(t.duration)} seconds`}),console.log(" Testing edge cases...");const s=Wr.createGPSRoute([]);console.log("Empty route:",s);const a=Wr.createGPSRoute([e[0]]);return console.log("Single point route:",a),t},yL=()=>{console.log(`
 ROUTING COMPARISON:

 GPS TRACKING (RECOMMENDED):
-  Shows EXACT path taken by employee
-  High accuracy with real GPS coordinates
-  No dependency on external APIs
-  Works offline
-  Captures actual employee behavior

 ROAD API ROUTING:
-  Shows theoretical road-based route
-  May not match actual employee path
-  Depends on external services (OSRM/ORS)
-  Can fail due to network/API issues
-  Limited accuracy for tracking purposes

 STRAIGHT LINE FALLBACK:
-  Shows direct line between points
-  Ignores roads, buildings, obstacles
-  Very poor accuracy for tracking
-  Only useful as last resort
-  Does not represent actual route
  `)};ct.init();window.addEventListener("unhandledrejection",e=>{var t;((t=e.reason)==null?void 0:t.name)==="AbortError"&&(console.warn("Caught unhandled AbortError:",e.reason.message),e.preventDefault()),e.reason instanceof TypeError&&(e.reason.message.includes("fetch")||e.reason.message.includes("Failed to fetch"))&&(console.warn("Caught FullStory fetch interference:",e.reason.message),ct.forceXHRMode(),e.preventDefault())});if(typeof window<"u"){const e=window.fetch.toString();(e.includes("eval")||e.includes("fullstory")||e.length<50||window.FS)&&console.warn("FullStory detected on page load - HttpClient will use XMLHttpRequest on fetch failures")}const wL=new uC({defaultOptions:{queries:{retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4)}}}),_L=()=>(v.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("token");if(t)try{const s=vL(t);localStorage.setItem("idToken",t),localStorage.setItem("user",JSON.stringify(s)),console.log("Authenticated user:",s),window.history.replaceState({},document.title,window.location.pathname)}catch(s){console.error("Invalid token:",s)}console.log(" Initializing GPS routing system..."),xL(),yL()},[]),i.jsx(fC,{client:wL,children:i.jsxs(UE,{children:[i.jsx(ES,{}),i.jsx(rj,{}),i.jsx(uP,{children:i.jsxs(rP,{children:[i.jsx(Xo,{path:"/",element:i.jsx(wM,{})}),i.jsx(Xo,{path:"/dashboard",element:i.jsx(NM,{})}),i.jsx(Xo,{path:"/tracking/:employeeId",element:i.jsx(oL,{})}),i.jsx(Xo,{path:"/team-management",element:i.jsx(iL,{})}),i.jsx(Xo,{path:"/data-management",element:i.jsx(cL,{})}),i.jsx(Xo,{path:"/route-test",element:i.jsx(hL,{})}),i.jsx(Xo,{path:"*",element:i.jsx(mL,{})})]})})]})}));PS.createRoot(document.getElementById("root")).render(i.jsx(_L,{}));
