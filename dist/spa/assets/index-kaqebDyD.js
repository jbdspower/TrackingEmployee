var Z1=Object.defineProperty;var zv=e=>{throw TypeError(e)};var q1=(e,t,r)=>t in e?Z1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fs=(e,t,r)=>q1(e,typeof t!="symbol"?t+"":t,r),am=(e,t,r)=>t.has(e)||zv("Cannot "+r);var Ee=(e,t,r)=>(am(e,t,"read from private field"),r?r.call(e):t.get(e)),tn=(e,t,r)=>t.has(e)?zv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Dt=(e,t,r,a)=>(am(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),Xn=(e,t,r)=>(am(e,t,"access private method"),r);var jd=(e,t,r,a)=>({set _(c){Dt(e,t,c,r)},get _(){return Ee(e,t,a)}});function G1(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lm={exports:{}},Tc={},cm={exports:{}},It={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function Y1(){if(Bv)return It;Bv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function E(z,J,Ne){this.props=z,this.context=J,this.refs=j,this.updater=Ne||k}E.prototype.isReactComponent={},E.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},E.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=E.prototype;function D(z,J,Ne){this.props=z,this.context=J,this.refs=j,this.updater=Ne||k}var M=D.prototype=new T;M.constructor=D,P(M,E.prototype),M.isPureReactComponent=!0;var O=Array.isArray,I=Object.prototype.hasOwnProperty,Z={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function ne(z,J,Ne){var ke,Se={},$=null,K=null;if(J!=null)for(ke in J.ref!==void 0&&(K=J.ref),J.key!==void 0&&($=""+J.key),J)I.call(J,ke)&&!H.hasOwnProperty(ke)&&(Se[ke]=J[ke]);var ae=arguments.length-2;if(ae===1)Se.children=Ne;else if(1<ae){for(var _e=Array(ae),Te=0;Te<ae;Te++)_e[Te]=arguments[Te+2];Se.children=_e}if(z&&z.defaultProps)for(ke in ae=z.defaultProps,ae)Se[ke]===void 0&&(Se[ke]=ae[ke]);return{$$typeof:e,type:z,key:$,ref:K,props:Se,_owner:Z.current}}function V(z,J){return{$$typeof:e,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function Y(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function te(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Ne){return J[Ne]})}var fe=/\/+/g;function Ie(z,J){return typeof z=="object"&&z!==null&&z.key!=null?te(""+z.key):J.toString(36)}function he(z,J,Ne,ke,Se){var $=typeof z;($==="undefined"||$==="boolean")&&(z=null);var K=!1;if(z===null)K=!0;else switch($){case"string":case"number":K=!0;break;case"object":switch(z.$$typeof){case e:case t:K=!0}}if(K)return K=z,Se=Se(K),z=ke===""?"."+Ie(K,0):ke,O(Se)?(Ne="",z!=null&&(Ne=z.replace(fe,"$&/")+"/"),he(Se,J,Ne,"",function(Te){return Te})):Se!=null&&(Y(Se)&&(Se=V(Se,Ne+(!Se.key||K&&K.key===Se.key?"":(""+Se.key).replace(fe,"$&/")+"/")+z)),J.push(Se)),1;if(K=0,ke=ke===""?".":ke+":",O(z))for(var ae=0;ae<z.length;ae++){$=z[ae];var _e=ke+Ie($,ae);K+=he($,J,Ne,_e,Se)}else if(_e=S(z),typeof _e=="function")for(z=_e.call(z),ae=0;!($=z.next()).done;)$=$.value,_e=ke+Ie($,ae++),K+=he($,J,Ne,_e,Se);else if($==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return K}function Be(z,J,Ne){if(z==null)return z;var ke=[],Se=0;return he(z,ke,"","",function($){return J.call(Ne,$,Se++)}),ke}function ee(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(Ne){(z._status===0||z._status===-1)&&(z._status=1,z._result=Ne)},function(Ne){(z._status===0||z._status===-1)&&(z._status=2,z._result=Ne)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var xe={current:null},U={transition:null},ue={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:U,ReactCurrentOwner:Z};function oe(){throw Error("act(...) is not supported in production builds of React.")}return It.Children={map:Be,forEach:function(z,J,Ne){Be(z,function(){J.apply(this,arguments)},Ne)},count:function(z){var J=0;return Be(z,function(){J++}),J},toArray:function(z){return Be(z,function(J){return J})||[]},only:function(z){if(!Y(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},It.Component=E,It.Fragment=r,It.Profiler=c,It.PureComponent=D,It.StrictMode=a,It.Suspense=v,It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,It.act=oe,It.cloneElement=function(z,J,Ne){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ke=P({},z.props),Se=z.key,$=z.ref,K=z._owner;if(J!=null){if(J.ref!==void 0&&($=J.ref,K=Z.current),J.key!==void 0&&(Se=""+J.key),z.type&&z.type.defaultProps)var ae=z.type.defaultProps;for(_e in J)I.call(J,_e)&&!H.hasOwnProperty(_e)&&(ke[_e]=J[_e]===void 0&&ae!==void 0?ae[_e]:J[_e])}var _e=arguments.length-2;if(_e===1)ke.children=Ne;else if(1<_e){ae=Array(_e);for(var Te=0;Te<_e;Te++)ae[Te]=arguments[Te+2];ke.children=ae}return{$$typeof:e,type:z.type,key:Se,ref:$,props:ke,_owner:K}},It.createContext=function(z){return z={$$typeof:f,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:d,_context:z},z.Consumer=z},It.createElement=ne,It.createFactory=function(z){var J=ne.bind(null,z);return J.type=z,J},It.createRef=function(){return{current:null}},It.forwardRef=function(z){return{$$typeof:p,render:z}},It.isValidElement=Y,It.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:ee}},It.memo=function(z,J){return{$$typeof:w,type:z,compare:J===void 0?null:J}},It.startTransition=function(z){var J=U.transition;U.transition={};try{z()}finally{U.transition=J}},It.unstable_act=oe,It.useCallback=function(z,J){return xe.current.useCallback(z,J)},It.useContext=function(z){return xe.current.useContext(z)},It.useDebugValue=function(){},It.useDeferredValue=function(z){return xe.current.useDeferredValue(z)},It.useEffect=function(z,J){return xe.current.useEffect(z,J)},It.useId=function(){return xe.current.useId()},It.useImperativeHandle=function(z,J,Ne){return xe.current.useImperativeHandle(z,J,Ne)},It.useInsertionEffect=function(z,J){return xe.current.useInsertionEffect(z,J)},It.useLayoutEffect=function(z,J){return xe.current.useLayoutEffect(z,J)},It.useMemo=function(z,J){return xe.current.useMemo(z,J)},It.useReducer=function(z,J,Ne){return xe.current.useReducer(z,J,Ne)},It.useRef=function(z){return xe.current.useRef(z)},It.useState=function(z){return xe.current.useState(z)},It.useSyncExternalStore=function(z,J,Ne){return xe.current.useSyncExternalStore(z,J,Ne)},It.useTransition=function(){return xe.current.useTransition()},It.version="18.3.1",It}var Uv;function _p(){return Uv||(Uv=1,cm.exports=Y1()),cm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function K1(){if(Hv)return Tc;Hv=1;var e=_p(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,v,w){var _,b={},S=null,k=null;w!==void 0&&(S=""+w),v.key!==void 0&&(S=""+v.key),v.ref!==void 0&&(k=v.ref);for(_ in v)a.call(v,_)&&!d.hasOwnProperty(_)&&(b[_]=v[_]);if(p&&p.defaultProps)for(_ in v=p.defaultProps,v)b[_]===void 0&&(b[_]=v[_]);return{$$typeof:t,type:p,key:S,ref:k,props:b,_owner:c.current}}return Tc.Fragment=r,Tc.jsx=f,Tc.jsxs=f,Tc}var Wv;function X1(){return Wv||(Wv=1,lm.exports=K1()),lm.exports}var o=X1(),g=_p();const Ue=wp(g),Ty=G1({__proto__:null,default:Ue},[g]),Q1=1,J1=1e6;let um=0;function eN(){return um=(um+1)%Number.MAX_SAFE_INTEGER,um.toString()}const dm=new Map,Vv=e=>{if(dm.has(e))return;const t=setTimeout(()=>{dm.delete(e),Bc({type:"REMOVE_TOAST",toastId:e})},J1);dm.set(e,t)},tN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Q1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Vv(r):e.toasts.forEach(a=>{Vv(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Bd=[];let Ud={toasts:[]};function Bc(e){Ud=tN(Ud,e),Bd.forEach(t=>{t(Ud)})}function Jr({...e}){const t=eN(),r=c=>Bc({type:"UPDATE_TOAST",toast:{...c,id:t}}),a=()=>Bc({type:"DISMISS_TOAST",toastId:t});return Bc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:c=>{c||a()}}}),{id:t,dismiss:a,update:r}}function _o(){const[e,t]=g.useState(Ud);return g.useEffect(()=>(Bd.push(t),()=>{const r=Bd.indexOf(t);r>-1&&Bd.splice(r,1)}),[e]),{...e,toast:Jr,dismiss:r=>Bc({type:"DISMISS_TOAST",toastId:r})}}var fm={exports:{}},yr={},hm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function nN(){return Zv||(Zv=1,function(e){function t(U,ue){var oe=U.length;U.push(ue);e:for(;0<oe;){var z=oe-1>>>1,J=U[z];if(0<c(J,ue))U[z]=ue,U[oe]=J,oe=z;else break e}}function r(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var ue=U[0],oe=U.pop();if(oe!==ue){U[0]=oe;e:for(var z=0,J=U.length,Ne=J>>>1;z<Ne;){var ke=2*(z+1)-1,Se=U[ke],$=ke+1,K=U[$];if(0>c(Se,oe))$<J&&0>c(K,Se)?(U[z]=K,U[$]=oe,z=$):(U[z]=Se,U[ke]=oe,z=ke);else if($<J&&0>c(K,oe))U[z]=K,U[$]=oe,z=$;else break e}}return ue}function c(U,ue){var oe=U.sortIndex-ue.sortIndex;return oe!==0?oe:U.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var v=[],w=[],_=1,b=null,S=3,k=!1,P=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(U){for(var ue=r(w);ue!==null;){if(ue.callback===null)a(w);else if(ue.startTime<=U)a(w),ue.sortIndex=ue.expirationTime,t(v,ue);else break;ue=r(w)}}function O(U){if(j=!1,M(U),!P)if(r(v)!==null)P=!0,ee(I);else{var ue=r(w);ue!==null&&xe(O,ue.startTime-U)}}function I(U,ue){P=!1,j&&(j=!1,T(ne),ne=-1),k=!0;var oe=S;try{for(M(ue),b=r(v);b!==null&&(!(b.expirationTime>ue)||U&&!te());){var z=b.callback;if(typeof z=="function"){b.callback=null,S=b.priorityLevel;var J=z(b.expirationTime<=ue);ue=e.unstable_now(),typeof J=="function"?b.callback=J:b===r(v)&&a(v),M(ue)}else a(v);b=r(v)}if(b!==null)var Ne=!0;else{var ke=r(w);ke!==null&&xe(O,ke.startTime-ue),Ne=!1}return Ne}finally{b=null,S=oe,k=!1}}var Z=!1,H=null,ne=-1,V=5,Y=-1;function te(){return!(e.unstable_now()-Y<V)}function fe(){if(H!==null){var U=e.unstable_now();Y=U;var ue=!0;try{ue=H(!0,U)}finally{ue?Ie():(Z=!1,H=null)}}else Z=!1}var Ie;if(typeof D=="function")Ie=function(){D(fe)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Be=he.port2;he.port1.onmessage=fe,Ie=function(){Be.postMessage(null)}}else Ie=function(){E(fe,0)};function ee(U){H=U,Z||(Z=!0,Ie())}function xe(U,ue){ne=E(function(){U(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){P||k||(P=!0,ee(I))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(U){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var oe=S;S=ue;try{return U()}finally{S=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,ue){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var oe=S;S=U;try{return ue()}finally{S=oe}},e.unstable_scheduleCallback=function(U,ue,oe){var z=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?z+oe:z):oe=z,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=oe+J,U={id:_++,callback:ue,priorityLevel:U,startTime:oe,expirationTime:J,sortIndex:-1},oe>z?(U.sortIndex=oe,t(w,U),r(v)===null&&U===r(w)&&(j?(T(ne),ne=-1):j=!0,xe(O,oe-z))):(U.sortIndex=J,t(v,U),P||k||(P=!0,ee(I))),U},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(U){var ue=S;return function(){var oe=S;S=ue;try{return U.apply(this,arguments)}finally{S=oe}}}}(mm)),mm}var qv;function rN(){return qv||(qv=1,hm.exports=nN()),hm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function sN(){if(Gv)return yr;Gv=1;var e=_p(),t=rN();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(n,i){f(n,i),f(n+"Capture",i)}function f(n,i){for(c[n]=i,n=0;n<i.length;n++)a.add(i[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},b={};function S(n){return v.call(b,n)?!0:v.call(_,n)?!1:w.test(n)?b[n]=!0:(_[n]=!0,!1)}function k(n,i,u,m){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,i,u,m){if(i===null||typeof i>"u"||k(n,i,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(n,i,u,m,y,N,R){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=n,this.type=i,this.sanitizeURL=N,this.removeEmptyString=R}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){E[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];E[i]=new j(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){E[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){E[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){E[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){E[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){E[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){E[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){E[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function D(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(T,D);E[i]=new j(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(T,D);E[i]=new j(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(T,D);E[i]=new j(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){E[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),E.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){E[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function M(n,i,u,m){var y=E.hasOwnProperty(i)?E[i]:null;(y!==null?y.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,u,y,m)&&(u=null),m||y===null?S(i)&&(u===null?n.removeAttribute(i):n.setAttribute(i,""+u)):y.mustUseProperty?n[y.propertyName]=u===null?y.type===3?!1:"":u:(i=y.attributeName,m=y.attributeNamespace,u===null?n.removeAttribute(i):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?n.setAttributeNS(m,i,u):n.setAttribute(i,u))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),Z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),te=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),Be=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),U=Symbol.iterator;function ue(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,z;function J(n){if(z===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);z=i&&i[1]||""}return`
`+z+n}var Ne=!1;function ke(n,i){if(!n||Ne)return"";Ne=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ce){var m=ce}Reflect.construct(n,[],i)}else{try{i.call()}catch(ce){m=ce}n.call(i.prototype)}else{try{throw Error()}catch(ce){m=ce}n()}}catch(ce){if(ce&&m&&typeof ce.stack=="string"){for(var y=ce.stack.split(`
`),N=m.stack.split(`
`),R=y.length-1,B=N.length-1;1<=R&&0<=B&&y[R]!==N[B];)B--;for(;1<=R&&0<=B;R--,B--)if(y[R]!==N[B]){if(R!==1||B!==1)do if(R--,B--,0>B||y[R]!==N[B]){var G=`
`+y[R].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=R&&0<=B);break}}}finally{Ne=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?J(n):""}function Se(n){switch(n.tag){case 5:return J(n.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return n=ke(n.type,!1),n;case 11:return n=ke(n.type.render,!1),n;case 1:return n=ke(n.type,!0),n;default:return""}}function $(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case Z:return"Portal";case V:return"Profiler";case ne:return"StrictMode";case Ie:return"Suspense";case he:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case te:return(n.displayName||"Context")+".Consumer";case Y:return(n._context.displayName||"Context")+".Provider";case fe:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Be:return i=n.displayName||null,i!==null?i:$(n.type)||"Memo";case ee:i=n._payload,n=n._init;try{return $(n(i))}catch{}}return null}function K(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(i);case 8:return i===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ae(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _e(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Te(n){var i=_e(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),m=""+n[i];if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,N=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return y.call(this)},set:function(R){m=""+R,N.call(this,R)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function We(n){n._valueTracker||(n._valueTracker=Te(n))}function Ze(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var u=i.getValue(),m="";return n&&(m=_e(n)?n.checked?"true":"false":n.value),n=m,n!==u?(i.setValue(n),!0):!1}function nt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Et(n,i){var u=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function ye(n,i){var u=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;u=ae(i.value!=null?i.value:u),n._wrapperState={initialChecked:m,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ge(n,i){i=i.checked,i!=null&&M(n,"checked",i,!1)}function q(n,i){Ge(n,i);var u=ae(i.value),m=i.type;if(u!=null)m==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?be(n,i.type,u):i.hasOwnProperty("defaultValue")&&be(n,i.type,ae(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function me(n,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,u||i===n.value||(n.value=i),n.defaultValue=i}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function be(n,i,u){(i!=="number"||nt(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var we=Array.isArray;function Ye(n,i,u,m){if(n=n.options,i){i={};for(var y=0;y<u.length;y++)i["$"+u[y]]=!0;for(u=0;u<n.length;u++)y=i.hasOwnProperty("$"+n[u].value),n[u].selected!==y&&(n[u].selected=y),y&&m&&(n[u].defaultSelected=!0)}else{for(u=""+ae(u),i=null,y=0;y<n.length;y++){if(n[y].value===u){n[y].selected=!0,m&&(n[y].defaultSelected=!0);return}i!==null||n[y].disabled||(i=n[y])}i!==null&&(i.selected=!0)}}function ot(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function it(n,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(r(92));if(we(u)){if(1<u.length)throw Error(r(93));u=u[0]}i=u}i==null&&(i=""),u=i}n._wrapperState={initialValue:ae(u)}}function Vt(n,i){var u=ae(i.value),m=ae(i.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),i.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),m!=null&&(n.defaultValue=""+m)}function wt(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function _t(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?_t(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var qt,Xt=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,m,y){MSApp.execUnsafeLocalFunction(function(){return n(i,u,m,y)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(qt=qt||document.createElement("div"),qt.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=qt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Gt(n,i){if(i){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=i;return}}n.textContent=i}var Je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nn=["Webkit","ms","Moz","O"];Object.keys(Je).forEach(function(n){nn.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Je[i]=Je[n]})});function dn(n,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Je.hasOwnProperty(n)&&Je[n]?(""+i).trim():i+"px"}function Ot(n,i){n=n.style;for(var u in i)if(i.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=dn(u,i[u],m);u==="float"&&(u="cssFloat"),m?n.setProperty(u,y):n[u]=y}}var Qt=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ut(n,i){if(i){if(Qt[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Jt(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ge=null;function je(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fe=null,F=null,Q=null;function ve(n){if(n=so(n)){if(typeof Fe!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Ha(i),Fe(n.stateNode,n.type,i))}}function de(n){F?Q?Q.push(n):Q=[n]:F=n}function Re(){if(F){var n=F,i=Q;if(Q=F=null,ve(n),i)for(n=0;n<i.length;n++)ve(i[n])}}function Me(n,i){return n(i)}function $e(){}var st=!1;function Ve(n,i,u){if(st)return n(i,u);st=!0;try{return Me(n,i,u)}finally{st=!1,(F!==null||Q!==null)&&($e(),Re())}}function He(n,i){var u=n.stateNode;if(u===null)return null;var m=Ha(u);if(m===null)return null;u=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(r(231,i,typeof u));return u}var at=!1;if(p)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){at=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{at=!1}function Ht(n,i,u,m,y,N,R,B,G){var ce=Array.prototype.slice.call(arguments,3);try{i.apply(u,ce)}catch(Ae){this.onError(Ae)}}var on=!1,De=null,ft=!1,Ct=null,Yt={onError:function(n){on=!0,De=n}};function xa(n,i,u,m,y,N,R,B,G){on=!1,De=null,Ht.apply(Yt,arguments)}function zl(n,i,u,m,y,N,R,B,G){if(xa.apply(this,arguments),on){if(on){var ce=De;on=!1,De=null}else throw Error(r(198));ft||(ft=!0,Ct=ce)}}function Cs(n){var i=n,u=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(u=i.return),n=i.return;while(n)}return i.tag===3?u:null}function qs(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Bl(n){if(Cs(n)!==n)throw Error(r(188))}function $f(n){var i=n.alternate;if(!i){if(i=Cs(n),i===null)throw Error(r(188));return i!==n?null:n}for(var u=n,m=i;;){var y=u.return;if(y===null)break;var N=y.alternate;if(N===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===N.child){for(N=y.child;N;){if(N===u)return Bl(y),n;if(N===m)return Bl(y),i;N=N.sibling}throw Error(r(188))}if(u.return!==m.return)u=y,m=N;else{for(var R=!1,B=y.child;B;){if(B===u){R=!0,u=y,m=N;break}if(B===m){R=!0,m=y,u=N;break}B=B.sibling}if(!R){for(B=N.child;B;){if(B===u){R=!0,u=N,m=y;break}if(B===m){R=!0,m=N,u=y;break}B=B.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?n:i}function mu(n){return n=$f(n),n!==null?pu(n):null}function pu(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=pu(n);if(i!==null)return i;n=n.sibling}return null}var gu=t.unstable_scheduleCallback,Ul=t.unstable_cancelCallback,zf=t.unstable_shouldYield,ya=t.unstable_requestPaint,yn=t.unstable_now,Bf=t.unstable_getCurrentPriorityLevel,Hl=t.unstable_ImmediatePriority,vu=t.unstable_UserBlockingPriority,wa=t.unstable_NormalPriority,Wl=t.unstable_LowPriority,bo=t.unstable_IdlePriority,ji=null,jr=null;function Ci(n){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(ji,n,void 0,(n.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:No,fn=Math.log,_a=Math.LN2;function No(n){return n>>>=0,n===0?32:31-(fn(n)/_a|0)|0}var as=64,So=4194304;function St(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function cn(n,i){var u=n.pendingLanes;if(u===0)return 0;var m=0,y=n.suspendedLanes,N=n.pingedLanes,R=u&268435455;if(R!==0){var B=R&~y;B!==0?m=St(B):(N&=R,N!==0&&(m=St(N)))}else R=u&~y,R!==0?m=St(R):N!==0&&(m=St(N));if(m===0)return 0;if(i!==0&&i!==m&&(i&y)===0&&(y=m&-m,N=i&-i,y>=N||y===16&&(N&4194240)!==0))return i;if((m&4)!==0&&(m|=u&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=m;0<i;)u=31-Pt(i),y=1<<u,m|=n[u],i&=~y;return m}function Vl(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(n,i){for(var u=n.suspendedLanes,m=n.pingedLanes,y=n.expirationTimes,N=n.pendingLanes;0<N;){var R=31-Pt(N),B=1<<R,G=y[R];G===-1?((B&u)===0||(B&m)!==0)&&(y[R]=Vl(B,i)):G<=i&&(n.expiredLanes|=B),N&=~B}}function Wn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function xu(){var n=as;return as<<=1,(as&4194240)===0&&(as=64),n}function jo(n){for(var i=[],u=0;31>u;u++)i.push(n);return i}function Cr(n,i,u){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Pt(i),n[i]=u}function jn(n,i){var u=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<u;){var y=31-Pt(u),N=1<<y;i[y]=0,m[y]=-1,n[y]=-1,u&=~N}}function ls(n,i){var u=n.entangledLanes|=i;for(n=n.entanglements;u;){var m=31-Pt(u),y=1<<m;y&i|n[m]&i&&(n[m]|=i),u&=~y}}var Wt=0;function Co(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Na,Gs,Sa,ja,Ei,Pi=!1,Eo=[],Er=null,cs=null,Br=null,Ti=new Map,bt=new Map,An=[],an="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zl(n,i){switch(n){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Ti.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bt.delete(i.pointerId)}}function Ys(n,i,u,m,y,N){return n===null||n.nativeEvent!==N?(n={blockedOn:i,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[y]},i!==null&&(i=so(i),i!==null&&Gs(i)),n):(n.eventSystemFlags|=m,i=n.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),n)}function ql(n,i,u,m,y){switch(i){case"focusin":return Er=Ys(Er,n,i,u,m,y),!0;case"dragenter":return cs=Ys(cs,n,i,u,m,y),!0;case"mouseover":return Br=Ys(Br,n,i,u,m,y),!0;case"pointerover":var N=y.pointerId;return Ti.set(N,Ys(Ti.get(N)||null,n,i,u,m,y)),!0;case"gotpointercapture":return N=y.pointerId,bt.set(N,Ys(bt.get(N)||null,n,i,u,m,y)),!0}return!1}function Ca(n){var i=ro(n.target);if(i!==null){var u=Cs(i);if(u!==null){if(i=u.tag,i===13){if(i=qs(u),i!==null){n.blockedOn=i,Ei(n.priority,function(){Sa(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ur(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var u=Ta(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var m=new u.constructor(u.type,u);ge=m,u.target.dispatchEvent(m),ge=null}else return i=so(u),i!==null&&Gs(i),n.blockedOn=u,!1;i.shift()}return!0}function Ea(n,i,u){Ur(n)&&u.delete(i)}function ki(){Pi=!1,Er!==null&&Ur(Er)&&(Er=null),cs!==null&&Ur(cs)&&(cs=null),Br!==null&&Ur(Br)&&(Br=null),Ti.forEach(Ea),bt.forEach(Ea)}function wn(n,i){n.blockedOn===i&&(n.blockedOn=null,Pi||(Pi=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ki)))}function Pr(n){function i(y){return wn(y,n)}if(0<Eo.length){wn(Eo[0],n);for(var u=1;u<Eo.length;u++){var m=Eo[u];m.blockedOn===n&&(m.blockedOn=null)}}for(Er!==null&&wn(Er,n),cs!==null&&wn(cs,n),Br!==null&&wn(Br,n),Ti.forEach(i),bt.forEach(i),u=0;u<An.length;u++)m=An[u],m.blockedOn===n&&(m.blockedOn=null);for(;0<An.length&&(u=An[0],u.blockedOn===null);)Ca(u),u.blockedOn===null&&An.shift()}var Ks=O.ReactCurrentBatchConfig,Mi=!0;function Uf(n,i,u,m){var y=Wt,N=Ks.transition;Ks.transition=null;try{Wt=1,Ri(n,i,u,m)}finally{Wt=y,Ks.transition=N}}function yu(n,i,u,m){var y=Wt,N=Ks.transition;Ks.transition=null;try{Wt=4,Ri(n,i,u,m)}finally{Wt=y,Ks.transition=N}}function Ri(n,i,u,m){if(Mi){var y=Ta(n,i,u,m);if(y===null)s(n,i,m,Pa,u),Zl(n,m);else if(ql(y,n,i,u,m))m.stopPropagation();else if(Zl(n,m),i&4&&-1<an.indexOf(n)){for(;y!==null;){var N=so(y);if(N!==null&&Na(N),N=Ta(n,i,u,m),N===null&&s(n,i,m,Pa,u),N===y)break;y=N}y!==null&&m.stopPropagation()}else s(n,i,m,null,u)}}var Pa=null;function Ta(n,i,u,m){if(Pa=null,n=je(m),n=ro(n),n!==null)if(i=Cs(n),i===null)n=null;else if(u=i.tag,u===13){if(n=qs(i),n!==null)return n;n=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Pa=n,null}function zt(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bf()){case Hl:return 1;case vu:return 4;case wa:case Wl:return 16;case bo:return 536870912;default:return 16}default:return 16}}var Es=null,tr=null,Ps=null;function Gl(){if(Ps)return Ps;var n,i=tr,u=i.length,m,y="value"in Es?Es.value:Es.textContent,N=y.length;for(n=0;n<u&&i[n]===y[n];n++);var R=u-n;for(m=1;m<=R&&i[u-m]===y[N-m];m++);return Ps=y.slice(n,1<m?1-m:void 0)}function ka(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Po(){return!0}function wu(){return!1}function Vn(n){function i(u,m,y,N,R){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(u=n[B],this[B]=u?u(N):N[B]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Po:wu,this.isPropagationStopped=wu,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),i}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=Vn(To),Xs=oe({},To,{view:0,detail:0}),Hf=Vn(Xs),fr,Kl,ko,Tr=oe({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ko&&(ko&&n.type==="mousemove"?(fr=n.screenX-ko.screenX,Kl=n.screenY-ko.screenY):Kl=fr=0,ko=n),fr)},movementY:function(n){return"movementY"in n?n.movementY:Kl}}),Xl=Vn(Tr),_u=oe({},Tr,{dataTransfer:0}),Ql=Vn(_u),Wf=oe({},Xs,{relatedTarget:0}),Ma=Vn(Wf),bu=oe({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),Vf=Vn(bu),Zf=oe({},To,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jl=Vn(Zf),qf=oe({},To,{data:0}),ec=Vn(qf),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ra={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gf(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Qs[n])?!!i[n]:!1}function Js(){return Gf}var hr=oe({},Xs,{key:function(n){if(n.key){var i=Nu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ka(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ra[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(n){return n.type==="keypress"?ka(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ka(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Su=Vn(hr),ju=oe({},Tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cu=Vn(ju),tc=oe({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),nc=Vn(tc),Yf=oe({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kf=Vn(Yf),Eu=oe({},Tr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Xf=Vn(Eu),kr=[9,13,27,32],Ts=p&&"CompositionEvent"in window,Li=null;p&&"documentMode"in document&&(Li=document.documentMode);var us=p&&"TextEvent"in window&&!Li,Pu=p&&(!Ts||Li&&8<Li&&11>=Li),eo=" ",Tu=!1;function Mo(n,i){switch(n){case"keyup":return kr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ds=!1;function Qf(n,i){switch(n){case"compositionend":return rc(i);case"keypress":return i.which!==32?null:(Tu=!0,eo);case"textInput":return n=i.data,n===eo&&Tu?null:n;default:return null}}function ks(n,i){if(ds)return n==="compositionend"||!Ts&&Mo(n,i)?(n=Gl(),Ps=tr=Es=null,ds=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pu&&i.locale!=="ko"?null:i.data;default:return null}}var La={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ku(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!La[n.type]:i==="textarea"}function Aa(n,i,u,m){de(m),i=h(i,"onChange"),0<i.length&&(u=new Yl("onChange","change",null,u,m),n.push({event:u,listeners:i}))}var Ai=null,nr=null;function Jf(n){fc(n,0)}function fs(n){var i=oo(n);if(Ze(i))return n}function eh(n,i){if(n==="change")return i}var Hr=!1;if(p){var Ro;if(p){var Da="oninput"in document;if(!Da){var Oa=document.createElement("div");Oa.setAttribute("oninput","return;"),Da=typeof Oa.oninput=="function"}Ro=Da}else Ro=!1;Hr=Ro&&(!document.documentMode||9<document.documentMode)}function Di(){Ai&&(Ai.detachEvent("onpropertychange",Ia),nr=Ai=null)}function Ia(n){if(n.propertyName==="value"&&fs(nr)){var i=[];Aa(i,nr,n,je(n)),Ve(Jf,i)}}function Fa(n,i,u){n==="focusin"?(Di(),Ai=i,nr=u,Ai.attachEvent("onpropertychange",Ia)):n==="focusout"&&Di()}function Lo(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fs(nr)}function $a(n,i){if(n==="click")return fs(i)}function sc(n,i){if(n==="input"||n==="change")return fs(i)}function Mu(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Mr=typeof Object.is=="function"?Object.is:Mu;function Ms(n,i){if(Mr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var u=Object.keys(n),m=Object.keys(i);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!v.call(i,y)||!Mr(n[y],i[y]))return!1}return!0}function Ru(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oc(n,i){var u=Ru(n);n=0;for(var m;u;){if(u.nodeType===3){if(m=n+u.textContent.length,n<=i&&m>=i)return{node:u,offset:i-n};n=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ru(u)}}function Lu(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Lu(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ic(){for(var n=window,i=nt();i instanceof n.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)n=i.contentWindow;else break;i=nt(n.document)}return i}function ac(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Wr(n){var i=ic(),u=n.focusedElem,m=n.selectionRange;if(i!==u&&u&&u.ownerDocument&&Lu(u.ownerDocument.documentElement,u)){if(m!==null&&ac(u)){if(i=m.start,n=m.end,n===void 0&&(n=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(n,u.value.length);else if(n=(i=u.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var y=u.textContent.length,N=Math.min(m.start,y);m=m.end===void 0?N:Math.min(m.end,y),!n.extend&&N>m&&(y=m,m=N,N=y),y=oc(u,N);var R=oc(u,m);y&&R&&(n.rangeCount!==1||n.anchorNode!==y.node||n.anchorOffset!==y.offset||n.focusNode!==R.node||n.focusOffset!==R.offset)&&(i=i.createRange(),i.setStart(y.node,y.offset),n.removeAllRanges(),N>m?(n.addRange(i),n.extend(R.node,R.offset)):(i.setEnd(R.node,R.offset),n.addRange(i)))}}for(i=[],n=u;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)n=i[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var za=p&&"documentMode"in document&&11>=document.documentMode,Ao=null,Do=null,Oi=null,Ba=!1;function Au(n,i,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ba||Ao==null||Ao!==nt(m)||(m=Ao,"selectionStart"in m&&ac(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Oi&&Ms(Oi,m)||(Oi=m,m=h(Do,"onSelect"),0<m.length&&(i=new Yl("onSelect","select",null,i,u),n.push({event:i,listeners:m}),i.target=Ao)))}function Rs(n,i){var u={};return u[n.toLowerCase()]=i.toLowerCase(),u["Webkit"+n]="webkit"+i,u["Moz"+n]="moz"+i,u}var Oo={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},Ls={},lc={};p&&(lc=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Ii(n){if(Ls[n])return Ls[n];if(!Oo[n])return n;var i=Oo[n],u;for(u in i)if(i.hasOwnProperty(u)&&u in lc)return Ls[n]=i[u];return n}var Du=Ii("animationend"),Vr=Ii("animationiteration"),cc=Ii("animationstart"),uc=Ii("transitionend"),Io=new Map,Ou="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(n,i){Io.set(n,i),d(i,[n])}for(var to=0;to<Ou.length;to++){var Ua=Ou[to],Iu=Ua.toLowerCase(),th=Ua[0].toUpperCase()+Ua.slice(1);Rr(Iu,"on"+th)}Rr(Du,"onAnimationEnd"),Rr(Vr,"onAnimationIteration"),Rr(cc,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(uc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fu=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function dc(n,i,u){var m=n.type||"unknown-event";n.currentTarget=u,zl(m,i,void 0,n),n.currentTarget=null}function fc(n,i){i=(i&4)!==0;for(var u=0;u<n.length;u++){var m=n[u],y=m.event;m=m.listeners;e:{var N=void 0;if(i)for(var R=m.length-1;0<=R;R--){var B=m[R],G=B.instance,ce=B.currentTarget;if(B=B.listener,G!==N&&y.isPropagationStopped())break e;dc(y,B,ce),N=G}else for(R=0;R<m.length;R++){if(B=m[R],G=B.instance,ce=B.currentTarget,B=B.listener,G!==N&&y.isPropagationStopped())break e;dc(y,B,ce),N=G}}}if(ft)throw n=Ct,ft=!1,Ct=null,n}function ln(n,i){var u=i[Uo];u===void 0&&(u=i[Uo]=new Set);var m=n+"__bubble";u.has(m)||($u(i,n,2,!1),u.add(m))}function hc(n,i,u){var m=0;i&&(m|=4),$u(u,n,m,i)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function $o(n){if(!n[Fi]){n[Fi]=!0,a.forEach(function(u){u!=="selectionchange"&&(Fu.has(u)||hc(u,!1,n),hc(u,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Fi]||(i[Fi]=!0,hc("selectionchange",!1,i))}}function $u(n,i,u,m){switch(zt(i)){case 1:var y=Uf;break;case 4:y=yu;break;default:y=Ri}u=y.bind(null,i,u,n),y=void 0,!at||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),m?y!==void 0?n.addEventListener(i,u,{capture:!0,passive:y}):n.addEventListener(i,u,!0):y!==void 0?n.addEventListener(i,u,{passive:y}):n.addEventListener(i,u,!1)}function s(n,i,u,m,y){var N=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var B=m.stateNode.containerInfo;if(B===y||B.nodeType===8&&B.parentNode===y)break;if(R===4)for(R=m.return;R!==null;){var G=R.tag;if((G===3||G===4)&&(G=R.stateNode.containerInfo,G===y||G.nodeType===8&&G.parentNode===y))return;R=R.return}for(;B!==null;){if(R=ro(B),R===null)return;if(G=R.tag,G===5||G===6){m=N=R;continue e}B=B.parentNode}}m=m.return}Ve(function(){var ce=N,Ae=je(u),Oe=[];e:{var Le=Io.get(n);if(Le!==void 0){var Ke=Yl,Qe=n;switch(n){case"keypress":if(ka(u)===0)break e;case"keydown":case"keyup":Ke=Su;break;case"focusin":Qe="focus",Ke=Ma;break;case"focusout":Qe="blur",Ke=Ma;break;case"beforeblur":case"afterblur":Ke=Ma;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=Ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=nc;break;case Du:case Vr:case cc:Ke=Vf;break;case uc:Ke=Kf;break;case"scroll":Ke=Hf;break;case"wheel":Ke=Xf;break;case"copy":case"cut":case"paste":Ke=Jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=Cu}var et=(i&4)!==0,Tn=!et&&n==="scroll",se=et?Le!==null?Le+"Capture":null:Le;et=[];for(var X=ce,ie;X!==null;){ie=X;var ze=ie.stateNode;if(ie.tag===5&&ze!==null&&(ie=ze,se!==null&&(ze=He(X,se),ze!=null&&et.push(l(X,ze,ie)))),Tn)break;X=X.return}0<et.length&&(Le=new Ke(Le,Qe,null,u,Ae),Oe.push({event:Le,listeners:et}))}}if((i&7)===0){e:{if(Le=n==="mouseover"||n==="pointerover",Ke=n==="mouseout"||n==="pointerout",Le&&u!==ge&&(Qe=u.relatedTarget||u.fromElement)&&(ro(Qe)||Qe[en]))break e;if((Ke||Le)&&(Le=Ae.window===Ae?Ae:(Le=Ae.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ke?(Qe=u.relatedTarget||u.toElement,Ke=ce,Qe=Qe?ro(Qe):null,Qe!==null&&(Tn=Cs(Qe),Qe!==Tn||Qe.tag!==5&&Qe.tag!==6)&&(Qe=null)):(Ke=null,Qe=ce),Ke!==Qe)){if(et=Xl,ze="onMouseLeave",se="onMouseEnter",X="mouse",(n==="pointerout"||n==="pointerover")&&(et=Cu,ze="onPointerLeave",se="onPointerEnter",X="pointer"),Tn=Ke==null?Le:oo(Ke),ie=Qe==null?Le:oo(Qe),Le=new et(ze,X+"leave",Ke,u,Ae),Le.target=Tn,Le.relatedTarget=ie,ze=null,ro(Ae)===ce&&(et=new et(se,X+"enter",Qe,u,Ae),et.target=ie,et.relatedTarget=Tn,ze=et),Tn=ze,Ke&&Qe)t:{for(et=Ke,se=Qe,X=0,ie=et;ie;ie=x(ie))X++;for(ie=0,ze=se;ze;ze=x(ze))ie++;for(;0<X-ie;)et=x(et),X--;for(;0<ie-X;)se=x(se),ie--;for(;X--;){if(et===se||se!==null&&et===se.alternate)break t;et=x(et),se=x(se)}et=null}else et=null;Ke!==null&&C(Oe,Le,Ke,et,!1),Qe!==null&&Tn!==null&&C(Oe,Tn,Qe,et,!0)}}e:{if(Le=ce?oo(ce):window,Ke=Le.nodeName&&Le.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&Le.type==="file")var tt=eh;else if(ku(Le))if(Hr)tt=sc;else{tt=Lo;var ht=Fa}else(Ke=Le.nodeName)&&Ke.toLowerCase()==="input"&&(Le.type==="checkbox"||Le.type==="radio")&&(tt=$a);if(tt&&(tt=tt(n,ce))){Aa(Oe,tt,u,Ae);break e}ht&&ht(n,Le,ce),n==="focusout"&&(ht=Le._wrapperState)&&ht.controlled&&Le.type==="number"&&be(Le,"number",Le.value)}switch(ht=ce?oo(ce):window,n){case"focusin":(ku(ht)||ht.contentEditable==="true")&&(Ao=ht,Do=ce,Oi=null);break;case"focusout":Oi=Do=Ao=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":case"dragend":Ba=!1,Au(Oe,u,Ae);break;case"selectionchange":if(za)break;case"keydown":case"keyup":Au(Oe,u,Ae)}var mt;if(Ts)e:{switch(n){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else ds?Mo(n,u)&&(Nt="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(Nt="onCompositionStart");Nt&&(Pu&&u.locale!=="ko"&&(ds||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ds&&(mt=Gl()):(Es=Ae,tr="value"in Es?Es.value:Es.textContent,ds=!0)),ht=h(ce,Nt),0<ht.length&&(Nt=new ec(Nt,n,null,u,Ae),Oe.push({event:Nt,listeners:ht}),mt?Nt.data=mt:(mt=rc(u),mt!==null&&(Nt.data=mt)))),(mt=us?Qf(n,u):ks(n,u))&&(ce=h(ce,"onBeforeInput"),0<ce.length&&(Ae=new ec("onBeforeInput","beforeinput",null,u,Ae),Oe.push({event:Ae,listeners:ce}),Ae.data=mt))}fc(Oe,i)})}function l(n,i,u){return{instance:n,listener:i,currentTarget:u}}function h(n,i){for(var u=i+"Capture",m=[];n!==null;){var y=n,N=y.stateNode;y.tag===5&&N!==null&&(y=N,N=He(n,u),N!=null&&m.unshift(l(n,N,y)),N=He(n,i),N!=null&&m.push(l(n,N,y))),n=n.return}return m}function x(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function C(n,i,u,m,y){for(var N=i._reactName,R=[];u!==null&&u!==m;){var B=u,G=B.alternate,ce=B.stateNode;if(G!==null&&G===m)break;B.tag===5&&ce!==null&&(B=ce,y?(G=He(u,N),G!=null&&R.unshift(l(u,G,B))):y||(G=He(u,N),G!=null&&R.push(l(u,G,B)))),u=u.return}R.length!==0&&n.push({event:i,listeners:R})}var A=/\r\n?/g,W=/\u0000|\uFFFD/g;function re(n){return(typeof n=="string"?n:""+n).replace(A,`
`).replace(W,"")}function le(n,i,u){if(i=re(i),re(n)!==i&&u)throw Error(r(425))}function Pe(){}var qe=null,ut=null;function kt(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dn=typeof setTimeout=="function"?setTimeout:void 0,kn=typeof clearTimeout=="function"?clearTimeout:void 0,rr=typeof Promise=="function"?Promise:void 0,Zn=typeof queueMicrotask=="function"?queueMicrotask:typeof rr<"u"?function(n){return rr.resolve(null).then(n).catch(zo)}:Dn;function zo(n){setTimeout(function(){throw n})}function mc(n,i){var u=i,m=0;do{var y=u.nextSibling;if(n.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){n.removeChild(y),Pr(i);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);Pr(i)}function As(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function zu(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return n;i--}else u==="/$"&&i++}n=n.previousSibling}return null}var no=Math.random().toString(36).slice(2),Zr="__reactFiber$"+no,Bo="__reactProps$"+no,en="__reactContainer$"+no,Uo="__reactEvents$"+no,nh="__reactListeners$"+no,rh="__reactHandles$"+no;function ro(n){var i=n[Zr];if(i)return i;for(var u=n.parentNode;u;){if(i=u[en]||u[Zr]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(n=zu(n);n!==null;){if(u=n[Zr])return u;n=zu(n)}return i}n=u,u=n.parentNode}return null}function so(n){return n=n[Zr]||n[en],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function oo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Ha(n){return n[Bo]||null}var sh=[],Wa=-1;function Ho(n){return{current:n}}function hn(n){0>Wa||(n.current=sh[Wa],sh[Wa]=null,Wa--)}function un(n,i){Wa++,sh[Wa]=n.current,n.current=i}var Wo={},qn=Ho(Wo),mr=Ho(!1),$i=Wo;function Va(n,i){var u=n.type.contextTypes;if(!u)return Wo;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var y={},N;for(N in u)y[N]=i[N];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=y),y}function pr(n){return n=n.childContextTypes,n!=null}function Bu(){hn(mr),hn(qn)}function lg(n,i,u){if(qn.current!==Wo)throw Error(r(168));un(qn,i),un(mr,u)}function cg(n,i,u){var m=n.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in i))throw Error(r(108,K(n)||"Unknown",y));return oe({},u,m)}function Uu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Wo,$i=qn.current,un(qn,n),un(mr,mr.current),!0}function ug(n,i,u){var m=n.stateNode;if(!m)throw Error(r(169));u?(n=cg(n,i,$i),m.__reactInternalMemoizedMergedChildContext=n,hn(mr),hn(qn),un(qn,n)):hn(mr),un(mr,u)}var io=null,Hu=!1,oh=!1;function dg(n){io===null?io=[n]:io.push(n)}function d1(n){Hu=!0,dg(n)}function Vo(){if(!oh&&io!==null){oh=!0;var n=0,i=Wt;try{var u=io;for(Wt=1;n<u.length;n++){var m=u[n];do m=m(!0);while(m!==null)}io=null,Hu=!1}catch(y){throw io!==null&&(io=io.slice(n+1)),gu(Hl,Vo),y}finally{Wt=i,oh=!1}}return null}var Za=[],qa=0,Wu=null,Vu=0,qr=[],Gr=0,zi=null,ao=1,lo="";function Bi(n,i){Za[qa++]=Vu,Za[qa++]=Wu,Wu=n,Vu=i}function fg(n,i,u){qr[Gr++]=ao,qr[Gr++]=lo,qr[Gr++]=zi,zi=n;var m=ao;n=lo;var y=32-Pt(m)-1;m&=~(1<<y),u+=1;var N=32-Pt(i)+y;if(30<N){var R=y-y%5;N=(m&(1<<R)-1).toString(32),m>>=R,y-=R,ao=1<<32-Pt(i)+y|u<<y|m,lo=N+n}else ao=1<<N|u<<y|m,lo=n}function ih(n){n.return!==null&&(Bi(n,1),fg(n,1,0))}function ah(n){for(;n===Wu;)Wu=Za[--qa],Za[qa]=null,Vu=Za[--qa],Za[qa]=null;for(;n===zi;)zi=qr[--Gr],qr[Gr]=null,lo=qr[--Gr],qr[Gr]=null,ao=qr[--Gr],qr[Gr]=null}var Lr=null,Ar=null,gn=!1,hs=null;function hg(n,i){var u=Qr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=n,i=n.deletions,i===null?(n.deletions=[u],n.flags|=16):i.push(u)}function mg(n,i){switch(n.tag){case 5:var u=n.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Lr=n,Ar=As(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Lr=n,Ar=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=zi!==null?{id:ao,overflow:lo}:null,n.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Qr(18,null,null,0),u.stateNode=i,u.return=n,n.child=u,Lr=n,Ar=null,!0):!1;default:return!1}}function lh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ch(n){if(gn){var i=Ar;if(i){var u=i;if(!mg(n,i)){if(lh(n))throw Error(r(418));i=As(u.nextSibling);var m=Lr;i&&mg(n,i)?hg(m,u):(n.flags=n.flags&-4097|2,gn=!1,Lr=n)}}else{if(lh(n))throw Error(r(418));n.flags=n.flags&-4097|2,gn=!1,Lr=n}}}function pg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Lr=n}function Zu(n){if(n!==Lr)return!1;if(!gn)return pg(n),gn=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!kt(n.type,n.memoizedProps)),i&&(i=Ar)){if(lh(n))throw gg(),Error(r(418));for(;i;)hg(n,i),i=As(i.nextSibling)}if(pg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(i===0){Ar=As(n.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}n=n.nextSibling}Ar=null}}else Ar=Lr?As(n.stateNode.nextSibling):null;return!0}function gg(){for(var n=Ar;n;)n=As(n.nextSibling)}function Ga(){Ar=Lr=null,gn=!1}function uh(n){hs===null?hs=[n]:hs.push(n)}var f1=O.ReactCurrentBatchConfig;function pc(n,i,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var m=u.stateNode}if(!m)throw Error(r(147,n));var y=m,N=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===N?i.ref:(i=function(R){var B=y.refs;R===null?delete B[N]:B[N]=R},i._stringRef=N,i)}if(typeof n!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,n))}return n}function qu(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function vg(n){var i=n._init;return i(n._payload)}function xg(n){function i(se,X){if(n){var ie=se.deletions;ie===null?(se.deletions=[X],se.flags|=16):ie.push(X)}}function u(se,X){if(!n)return null;for(;X!==null;)i(se,X),X=X.sibling;return null}function m(se,X){for(se=new Map;X!==null;)X.key!==null?se.set(X.key,X):se.set(X.index,X),X=X.sibling;return se}function y(se,X){return se=Jo(se,X),se.index=0,se.sibling=null,se}function N(se,X,ie){return se.index=ie,n?(ie=se.alternate,ie!==null?(ie=ie.index,ie<X?(se.flags|=2,X):ie):(se.flags|=2,X)):(se.flags|=1048576,X)}function R(se){return n&&se.alternate===null&&(se.flags|=2),se}function B(se,X,ie,ze){return X===null||X.tag!==6?(X=tm(ie,se.mode,ze),X.return=se,X):(X=y(X,ie),X.return=se,X)}function G(se,X,ie,ze){var tt=ie.type;return tt===H?Ae(se,X,ie.props.children,ze,ie.key):X!==null&&(X.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===ee&&vg(tt)===X.type)?(ze=y(X,ie.props),ze.ref=pc(se,X,ie),ze.return=se,ze):(ze=vd(ie.type,ie.key,ie.props,null,se.mode,ze),ze.ref=pc(se,X,ie),ze.return=se,ze)}function ce(se,X,ie,ze){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=nm(ie,se.mode,ze),X.return=se,X):(X=y(X,ie.children||[]),X.return=se,X)}function Ae(se,X,ie,ze,tt){return X===null||X.tag!==7?(X=Yi(ie,se.mode,ze,tt),X.return=se,X):(X=y(X,ie),X.return=se,X)}function Oe(se,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number")return X=tm(""+X,se.mode,ie),X.return=se,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case I:return ie=vd(X.type,X.key,X.props,null,se.mode,ie),ie.ref=pc(se,null,X),ie.return=se,ie;case Z:return X=nm(X,se.mode,ie),X.return=se,X;case ee:var ze=X._init;return Oe(se,ze(X._payload),ie)}if(we(X)||ue(X))return X=Yi(X,se.mode,ie,null),X.return=se,X;qu(se,X)}return null}function Le(se,X,ie,ze){var tt=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return tt!==null?null:B(se,X,""+ie,ze);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:return ie.key===tt?G(se,X,ie,ze):null;case Z:return ie.key===tt?ce(se,X,ie,ze):null;case ee:return tt=ie._init,Le(se,X,tt(ie._payload),ze)}if(we(ie)||ue(ie))return tt!==null?null:Ae(se,X,ie,ze,null);qu(se,ie)}return null}function Ke(se,X,ie,ze,tt){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return se=se.get(ie)||null,B(X,se,""+ze,tt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case I:return se=se.get(ze.key===null?ie:ze.key)||null,G(X,se,ze,tt);case Z:return se=se.get(ze.key===null?ie:ze.key)||null,ce(X,se,ze,tt);case ee:var ht=ze._init;return Ke(se,X,ie,ht(ze._payload),tt)}if(we(ze)||ue(ze))return se=se.get(ie)||null,Ae(X,se,ze,tt,null);qu(X,ze)}return null}function Qe(se,X,ie,ze){for(var tt=null,ht=null,mt=X,Nt=X=0,Bn=null;mt!==null&&Nt<ie.length;Nt++){mt.index>Nt?(Bn=mt,mt=null):Bn=mt.sibling;var Kt=Le(se,mt,ie[Nt],ze);if(Kt===null){mt===null&&(mt=Bn);break}n&&mt&&Kt.alternate===null&&i(se,mt),X=N(Kt,X,Nt),ht===null?tt=Kt:ht.sibling=Kt,ht=Kt,mt=Bn}if(Nt===ie.length)return u(se,mt),gn&&Bi(se,Nt),tt;if(mt===null){for(;Nt<ie.length;Nt++)mt=Oe(se,ie[Nt],ze),mt!==null&&(X=N(mt,X,Nt),ht===null?tt=mt:ht.sibling=mt,ht=mt);return gn&&Bi(se,Nt),tt}for(mt=m(se,mt);Nt<ie.length;Nt++)Bn=Ke(mt,se,Nt,ie[Nt],ze),Bn!==null&&(n&&Bn.alternate!==null&&mt.delete(Bn.key===null?Nt:Bn.key),X=N(Bn,X,Nt),ht===null?tt=Bn:ht.sibling=Bn,ht=Bn);return n&&mt.forEach(function(ei){return i(se,ei)}),gn&&Bi(se,Nt),tt}function et(se,X,ie,ze){var tt=ue(ie);if(typeof tt!="function")throw Error(r(150));if(ie=tt.call(ie),ie==null)throw Error(r(151));for(var ht=tt=null,mt=X,Nt=X=0,Bn=null,Kt=ie.next();mt!==null&&!Kt.done;Nt++,Kt=ie.next()){mt.index>Nt?(Bn=mt,mt=null):Bn=mt.sibling;var ei=Le(se,mt,Kt.value,ze);if(ei===null){mt===null&&(mt=Bn);break}n&&mt&&ei.alternate===null&&i(se,mt),X=N(ei,X,Nt),ht===null?tt=ei:ht.sibling=ei,ht=ei,mt=Bn}if(Kt.done)return u(se,mt),gn&&Bi(se,Nt),tt;if(mt===null){for(;!Kt.done;Nt++,Kt=ie.next())Kt=Oe(se,Kt.value,ze),Kt!==null&&(X=N(Kt,X,Nt),ht===null?tt=Kt:ht.sibling=Kt,ht=Kt);return gn&&Bi(se,Nt),tt}for(mt=m(se,mt);!Kt.done;Nt++,Kt=ie.next())Kt=Ke(mt,se,Nt,Kt.value,ze),Kt!==null&&(n&&Kt.alternate!==null&&mt.delete(Kt.key===null?Nt:Kt.key),X=N(Kt,X,Nt),ht===null?tt=Kt:ht.sibling=Kt,ht=Kt);return n&&mt.forEach(function(V1){return i(se,V1)}),gn&&Bi(se,Nt),tt}function Tn(se,X,ie,ze){if(typeof ie=="object"&&ie!==null&&ie.type===H&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:e:{for(var tt=ie.key,ht=X;ht!==null;){if(ht.key===tt){if(tt=ie.type,tt===H){if(ht.tag===7){u(se,ht.sibling),X=y(ht,ie.props.children),X.return=se,se=X;break e}}else if(ht.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===ee&&vg(tt)===ht.type){u(se,ht.sibling),X=y(ht,ie.props),X.ref=pc(se,ht,ie),X.return=se,se=X;break e}u(se,ht);break}else i(se,ht);ht=ht.sibling}ie.type===H?(X=Yi(ie.props.children,se.mode,ze,ie.key),X.return=se,se=X):(ze=vd(ie.type,ie.key,ie.props,null,se.mode,ze),ze.ref=pc(se,X,ie),ze.return=se,se=ze)}return R(se);case Z:e:{for(ht=ie.key;X!==null;){if(X.key===ht)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){u(se,X.sibling),X=y(X,ie.children||[]),X.return=se,se=X;break e}else{u(se,X);break}else i(se,X);X=X.sibling}X=nm(ie,se.mode,ze),X.return=se,se=X}return R(se);case ee:return ht=ie._init,Tn(se,X,ht(ie._payload),ze)}if(we(ie))return Qe(se,X,ie,ze);if(ue(ie))return et(se,X,ie,ze);qu(se,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,X!==null&&X.tag===6?(u(se,X.sibling),X=y(X,ie),X.return=se,se=X):(u(se,X),X=tm(ie,se.mode,ze),X.return=se,se=X),R(se)):u(se,X)}return Tn}var Ya=xg(!0),yg=xg(!1),Gu=Ho(null),Yu=null,Ka=null,dh=null;function fh(){dh=Ka=Yu=null}function hh(n){var i=Gu.current;hn(Gu),n._currentValue=i}function mh(n,i,u){for(;n!==null;){var m=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),n===u)break;n=n.return}}function Xa(n,i){Yu=n,dh=Ka=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(gr=!0),n.firstContext=null)}function Yr(n){var i=n._currentValue;if(dh!==n)if(n={context:n,memoizedValue:i,next:null},Ka===null){if(Yu===null)throw Error(r(308));Ka=n,Yu.dependencies={lanes:0,firstContext:n}}else Ka=Ka.next=n;return i}var Ui=null;function ph(n){Ui===null?Ui=[n]:Ui.push(n)}function wg(n,i,u,m){var y=i.interleaved;return y===null?(u.next=u,ph(i)):(u.next=y.next,y.next=u),i.interleaved=u,co(n,m)}function co(n,i){n.lanes|=i;var u=n.alternate;for(u!==null&&(u.lanes|=i),u=n,n=n.return;n!==null;)n.childLanes|=i,u=n.alternate,u!==null&&(u.childLanes|=i),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Zo=!1;function gh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function uo(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function qo(n,i,u){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(Zt&2)!==0){var y=m.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),m.pending=i,co(n,u)}return y=m.interleaved,y===null?(i.next=i,ph(m)):(i.next=y.next,y.next=i),m.interleaved=i,co(n,u)}function Ku(n,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var m=i.lanes;m&=n.pendingLanes,u|=m,i.lanes=u,ls(n,u)}}function bg(n,i){var u=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};N===null?y=N=R:N=N.next=R,u=u.next}while(u!==null);N===null?y=N=i:N=N.next=i}else y=N=i;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:N,shared:m.shared,effects:m.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=i:n.next=i,u.lastBaseUpdate=i}function Xu(n,i,u,m){var y=n.updateQueue;Zo=!1;var N=y.firstBaseUpdate,R=y.lastBaseUpdate,B=y.shared.pending;if(B!==null){y.shared.pending=null;var G=B,ce=G.next;G.next=null,R===null?N=ce:R.next=ce,R=G;var Ae=n.alternate;Ae!==null&&(Ae=Ae.updateQueue,B=Ae.lastBaseUpdate,B!==R&&(B===null?Ae.firstBaseUpdate=ce:B.next=ce,Ae.lastBaseUpdate=G))}if(N!==null){var Oe=y.baseState;R=0,Ae=ce=G=null,B=N;do{var Le=B.lane,Ke=B.eventTime;if((m&Le)===Le){Ae!==null&&(Ae=Ae.next={eventTime:Ke,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Qe=n,et=B;switch(Le=i,Ke=u,et.tag){case 1:if(Qe=et.payload,typeof Qe=="function"){Oe=Qe.call(Ke,Oe,Le);break e}Oe=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=et.payload,Le=typeof Qe=="function"?Qe.call(Ke,Oe,Le):Qe,Le==null)break e;Oe=oe({},Oe,Le);break e;case 2:Zo=!0}}B.callback!==null&&B.lane!==0&&(n.flags|=64,Le=y.effects,Le===null?y.effects=[B]:Le.push(B))}else Ke={eventTime:Ke,lane:Le,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Ae===null?(ce=Ae=Ke,G=Oe):Ae=Ae.next=Ke,R|=Le;if(B=B.next,B===null){if(B=y.shared.pending,B===null)break;Le=B,B=Le.next,Le.next=null,y.lastBaseUpdate=Le,y.shared.pending=null}}while(!0);if(Ae===null&&(G=Oe),y.baseState=G,y.firstBaseUpdate=ce,y.lastBaseUpdate=Ae,i=y.shared.interleaved,i!==null){y=i;do R|=y.lane,y=y.next;while(y!==i)}else N===null&&(y.shared.lanes=0);Vi|=R,n.lanes=R,n.memoizedState=Oe}}function Ng(n,i,u){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var m=n[i],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(r(191,y));y.call(m)}}}var gc={},Ds=Ho(gc),vc=Ho(gc),xc=Ho(gc);function Hi(n){if(n===gc)throw Error(r(174));return n}function vh(n,i){switch(un(xc,i),un(vc,n),un(Ds,gc),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Bt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Bt(i,n)}hn(Ds),un(Ds,i)}function Qa(){hn(Ds),hn(vc),hn(xc)}function Sg(n){Hi(xc.current);var i=Hi(Ds.current),u=Bt(i,n.type);i!==u&&(un(vc,n),un(Ds,u))}function xh(n){vc.current===n&&(hn(Ds),hn(vc))}var _n=Ho(0);function Qu(n){for(var i=n;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yh=[];function wh(){for(var n=0;n<yh.length;n++)yh[n]._workInProgressVersionPrimary=null;yh.length=0}var Ju=O.ReactCurrentDispatcher,_h=O.ReactCurrentBatchConfig,Wi=0,bn=null,On=null,$n=null,ed=!1,yc=!1,wc=0,h1=0;function Gn(){throw Error(r(321))}function bh(n,i){if(i===null)return!1;for(var u=0;u<i.length&&u<n.length;u++)if(!Mr(n[u],i[u]))return!1;return!0}function Nh(n,i,u,m,y,N){if(Wi=N,bn=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ju.current=n===null||n.memoizedState===null?v1:x1,n=u(m,y),yc){N=0;do{if(yc=!1,wc=0,25<=N)throw Error(r(301));N+=1,$n=On=null,i.updateQueue=null,Ju.current=y1,n=u(m,y)}while(yc)}if(Ju.current=rd,i=On!==null&&On.next!==null,Wi=0,$n=On=bn=null,ed=!1,i)throw Error(r(300));return n}function Sh(){var n=wc!==0;return wc=0,n}function Os(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?bn.memoizedState=$n=n:$n=$n.next=n,$n}function Kr(){if(On===null){var n=bn.alternate;n=n!==null?n.memoizedState:null}else n=On.next;var i=$n===null?bn.memoizedState:$n.next;if(i!==null)$n=i,On=n;else{if(n===null)throw Error(r(310));On=n,n={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},$n===null?bn.memoizedState=$n=n:$n=$n.next=n}return $n}function _c(n,i){return typeof i=="function"?i(n):i}function jh(n){var i=Kr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var m=On,y=m.baseQueue,N=u.pending;if(N!==null){if(y!==null){var R=y.next;y.next=N.next,N.next=R}m.baseQueue=y=N,u.pending=null}if(y!==null){N=y.next,m=m.baseState;var B=R=null,G=null,ce=N;do{var Ae=ce.lane;if((Wi&Ae)===Ae)G!==null&&(G=G.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),m=ce.hasEagerState?ce.eagerState:n(m,ce.action);else{var Oe={lane:Ae,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};G===null?(B=G=Oe,R=m):G=G.next=Oe,bn.lanes|=Ae,Vi|=Ae}ce=ce.next}while(ce!==null&&ce!==N);G===null?R=m:G.next=B,Mr(m,i.memoizedState)||(gr=!0),i.memoizedState=m,i.baseState=R,i.baseQueue=G,u.lastRenderedState=m}if(n=u.interleaved,n!==null){y=n;do N=y.lane,bn.lanes|=N,Vi|=N,y=y.next;while(y!==n)}else y===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Ch(n){var i=Kr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var m=u.dispatch,y=u.pending,N=i.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do N=n(N,R.action),R=R.next;while(R!==y);Mr(N,i.memoizedState)||(gr=!0),i.memoizedState=N,i.baseQueue===null&&(i.baseState=N),u.lastRenderedState=N}return[N,m]}function jg(){}function Cg(n,i){var u=bn,m=Kr(),y=i(),N=!Mr(m.memoizedState,y);if(N&&(m.memoizedState=y,gr=!0),m=m.queue,Eh(Tg.bind(null,u,m,n),[n]),m.getSnapshot!==i||N||$n!==null&&$n.memoizedState.tag&1){if(u.flags|=2048,bc(9,Pg.bind(null,u,m,y,i),void 0,null),zn===null)throw Error(r(349));(Wi&30)!==0||Eg(u,i,y)}return y}function Eg(n,i,u){n.flags|=16384,n={getSnapshot:i,value:u},i=bn.updateQueue,i===null?(i={lastEffect:null,stores:null},bn.updateQueue=i,i.stores=[n]):(u=i.stores,u===null?i.stores=[n]:u.push(n))}function Pg(n,i,u,m){i.value=u,i.getSnapshot=m,kg(i)&&Mg(n)}function Tg(n,i,u){return u(function(){kg(i)&&Mg(n)})}function kg(n){var i=n.getSnapshot;n=n.value;try{var u=i();return!Mr(n,u)}catch{return!0}}function Mg(n){var i=co(n,1);i!==null&&vs(i,n,1,-1)}function Rg(n){var i=Os();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:n},i.queue=n,n=n.dispatch=g1.bind(null,bn,n),[i.memoizedState,n]}function bc(n,i,u,m){return n={tag:n,create:i,destroy:u,deps:m,next:null},i=bn.updateQueue,i===null?(i={lastEffect:null,stores:null},bn.updateQueue=i,i.lastEffect=n.next=n):(u=i.lastEffect,u===null?i.lastEffect=n.next=n:(m=u.next,u.next=n,n.next=m,i.lastEffect=n)),n}function Lg(){return Kr().memoizedState}function td(n,i,u,m){var y=Os();bn.flags|=n,y.memoizedState=bc(1|i,u,void 0,m===void 0?null:m)}function nd(n,i,u,m){var y=Kr();m=m===void 0?null:m;var N=void 0;if(On!==null){var R=On.memoizedState;if(N=R.destroy,m!==null&&bh(m,R.deps)){y.memoizedState=bc(i,u,N,m);return}}bn.flags|=n,y.memoizedState=bc(1|i,u,N,m)}function Ag(n,i){return td(8390656,8,n,i)}function Eh(n,i){return nd(2048,8,n,i)}function Dg(n,i){return nd(4,2,n,i)}function Og(n,i){return nd(4,4,n,i)}function Ig(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Fg(n,i,u){return u=u!=null?u.concat([n]):null,nd(4,4,Ig.bind(null,i,n),u)}function Ph(){}function $g(n,i){var u=Kr();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&bh(i,m[1])?m[0]:(u.memoizedState=[n,i],n)}function zg(n,i){var u=Kr();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&bh(i,m[1])?m[0]:(n=n(),u.memoizedState=[n,i],n)}function Bg(n,i,u){return(Wi&21)===0?(n.baseState&&(n.baseState=!1,gr=!0),n.memoizedState=u):(Mr(u,i)||(u=xu(),bn.lanes|=u,Vi|=u,n.baseState=!0),i)}function m1(n,i){var u=Wt;Wt=u!==0&&4>u?u:4,n(!0);var m=_h.transition;_h.transition={};try{n(!1),i()}finally{Wt=u,_h.transition=m}}function Ug(){return Kr().memoizedState}function p1(n,i,u){var m=Xo(n);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},Hg(n))Wg(i,u);else if(u=wg(n,i,u,m),u!==null){var y=or();vs(u,n,m,y),Vg(u,i,m)}}function g1(n,i,u){var m=Xo(n),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hg(n))Wg(i,y);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=i.lastRenderedReducer,N!==null))try{var R=i.lastRenderedState,B=N(R,u);if(y.hasEagerState=!0,y.eagerState=B,Mr(B,R)){var G=i.interleaved;G===null?(y.next=y,ph(i)):(y.next=G.next,G.next=y),i.interleaved=y;return}}catch{}finally{}u=wg(n,i,y,m),u!==null&&(y=or(),vs(u,n,m,y),Vg(u,i,m))}}function Hg(n){var i=n.alternate;return n===bn||i!==null&&i===bn}function Wg(n,i){yc=ed=!0;var u=n.pending;u===null?i.next=i:(i.next=u.next,u.next=i),n.pending=i}function Vg(n,i,u){if((u&4194240)!==0){var m=i.lanes;m&=n.pendingLanes,u|=m,i.lanes=u,ls(n,u)}}var rd={readContext:Yr,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},v1={readContext:Yr,useCallback:function(n,i){return Os().memoizedState=[n,i===void 0?null:i],n},useContext:Yr,useEffect:Ag,useImperativeHandle:function(n,i,u){return u=u!=null?u.concat([n]):null,td(4194308,4,Ig.bind(null,i,n),u)},useLayoutEffect:function(n,i){return td(4194308,4,n,i)},useInsertionEffect:function(n,i){return td(4,2,n,i)},useMemo:function(n,i){var u=Os();return i=i===void 0?null:i,n=n(),u.memoizedState=[n,i],n},useReducer:function(n,i,u){var m=Os();return i=u!==void 0?u(i):i,m.memoizedState=m.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},m.queue=n,n=n.dispatch=p1.bind(null,bn,n),[m.memoizedState,n]},useRef:function(n){var i=Os();return n={current:n},i.memoizedState=n},useState:Rg,useDebugValue:Ph,useDeferredValue:function(n){return Os().memoizedState=n},useTransition:function(){var n=Rg(!1),i=n[0];return n=m1.bind(null,n[1]),Os().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,u){var m=bn,y=Os();if(gn){if(u===void 0)throw Error(r(407));u=u()}else{if(u=i(),zn===null)throw Error(r(349));(Wi&30)!==0||Eg(m,i,u)}y.memoizedState=u;var N={value:u,getSnapshot:i};return y.queue=N,Ag(Tg.bind(null,m,N,n),[n]),m.flags|=2048,bc(9,Pg.bind(null,m,N,u,i),void 0,null),u},useId:function(){var n=Os(),i=zn.identifierPrefix;if(gn){var u=lo,m=ao;u=(m&~(1<<32-Pt(m)-1)).toString(32)+u,i=":"+i+"R"+u,u=wc++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=h1++,i=":"+i+"r"+u.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},x1={readContext:Yr,useCallback:$g,useContext:Yr,useEffect:Eh,useImperativeHandle:Fg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:zg,useReducer:jh,useRef:Lg,useState:function(){return jh(_c)},useDebugValue:Ph,useDeferredValue:function(n){var i=Kr();return Bg(i,On.memoizedState,n)},useTransition:function(){var n=jh(_c)[0],i=Kr().memoizedState;return[n,i]},useMutableSource:jg,useSyncExternalStore:Cg,useId:Ug,unstable_isNewReconciler:!1},y1={readContext:Yr,useCallback:$g,useContext:Yr,useEffect:Eh,useImperativeHandle:Fg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:zg,useReducer:Ch,useRef:Lg,useState:function(){return Ch(_c)},useDebugValue:Ph,useDeferredValue:function(n){var i=Kr();return On===null?i.memoizedState=n:Bg(i,On.memoizedState,n)},useTransition:function(){var n=Ch(_c)[0],i=Kr().memoizedState;return[n,i]},useMutableSource:jg,useSyncExternalStore:Cg,useId:Ug,unstable_isNewReconciler:!1};function ms(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var u in n)i[u]===void 0&&(i[u]=n[u]);return i}return i}function Th(n,i,u,m){i=n.memoizedState,u=u(m,i),u=u==null?i:oe({},i,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var sd={isMounted:function(n){return(n=n._reactInternals)?Cs(n)===n:!1},enqueueSetState:function(n,i,u){n=n._reactInternals;var m=or(),y=Xo(n),N=uo(m,y);N.payload=i,u!=null&&(N.callback=u),i=qo(n,N,y),i!==null&&(vs(i,n,y,m),Ku(i,n,y))},enqueueReplaceState:function(n,i,u){n=n._reactInternals;var m=or(),y=Xo(n),N=uo(m,y);N.tag=1,N.payload=i,u!=null&&(N.callback=u),i=qo(n,N,y),i!==null&&(vs(i,n,y,m),Ku(i,n,y))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var u=or(),m=Xo(n),y=uo(u,m);y.tag=2,i!=null&&(y.callback=i),i=qo(n,y,m),i!==null&&(vs(i,n,m,u),Ku(i,n,m))}};function Zg(n,i,u,m,y,N,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,N,R):i.prototype&&i.prototype.isPureReactComponent?!Ms(u,m)||!Ms(y,N):!0}function qg(n,i,u){var m=!1,y=Wo,N=i.contextType;return typeof N=="object"&&N!==null?N=Yr(N):(y=pr(i)?$i:qn.current,m=i.contextTypes,N=(m=m!=null)?Va(n,y):Wo),i=new i(u,N),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=sd,n.stateNode=i,i._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=y,n.__reactInternalMemoizedMaskedChildContext=N),i}function Gg(n,i,u,m){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,m),i.state!==n&&sd.enqueueReplaceState(i,i.state,null)}function kh(n,i,u,m){var y=n.stateNode;y.props=u,y.state=n.memoizedState,y.refs={},gh(n);var N=i.contextType;typeof N=="object"&&N!==null?y.context=Yr(N):(N=pr(i)?$i:qn.current,y.context=Va(n,N)),y.state=n.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(Th(n,i,N,u),y.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(i=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),i!==y.state&&sd.enqueueReplaceState(y,y.state,null),Xu(n,u,y,m),y.state=n.memoizedState),typeof y.componentDidMount=="function"&&(n.flags|=4194308)}function Ja(n,i){try{var u="",m=i;do u+=Se(m),m=m.return;while(m);var y=u}catch(N){y=`
Error generating stack: `+N.message+`
`+N.stack}return{value:n,source:i,stack:y,digest:null}}function Mh(n,i,u){return{value:n,source:null,stack:u??null,digest:i??null}}function Rh(n,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var w1=typeof WeakMap=="function"?WeakMap:Map;function Yg(n,i,u){u=uo(-1,u),u.tag=3,u.payload={element:null};var m=i.value;return u.callback=function(){dd||(dd=!0,qh=m),Rh(n,i)},u}function Kg(n,i,u){u=uo(-1,u),u.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var y=i.value;u.payload=function(){return m(y)},u.callback=function(){Rh(n,i)}}var N=n.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(u.callback=function(){Rh(n,i),typeof m!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var R=i.stack;this.componentDidCatch(i.value,{componentStack:R!==null?R:""})}),u}function Xg(n,i,u){var m=n.pingCache;if(m===null){m=n.pingCache=new w1;var y=new Set;m.set(i,y)}else y=m.get(i),y===void 0&&(y=new Set,m.set(i,y));y.has(u)||(y.add(u),n=A1.bind(null,n,i,u),i.then(n,n))}function Qg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Jg(n,i,u,m,y){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=uo(-1,1),i.tag=2,qo(u,i,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=y,n)}var _1=O.ReactCurrentOwner,gr=!1;function sr(n,i,u,m){i.child=n===null?yg(i,null,u,m):Ya(i,n.child,u,m)}function ev(n,i,u,m,y){u=u.render;var N=i.ref;return Xa(i,y),m=Nh(n,i,u,m,N,y),u=Sh(),n!==null&&!gr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~y,fo(n,i,y)):(gn&&u&&ih(i),i.flags|=1,sr(n,i,m,y),i.child)}function tv(n,i,u,m,y){if(n===null){var N=u.type;return typeof N=="function"&&!em(N)&&N.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=N,nv(n,i,N,m,y)):(n=vd(u.type,null,m,i,i.mode,y),n.ref=i.ref,n.return=i,i.child=n)}if(N=n.child,(n.lanes&y)===0){var R=N.memoizedProps;if(u=u.compare,u=u!==null?u:Ms,u(R,m)&&n.ref===i.ref)return fo(n,i,y)}return i.flags|=1,n=Jo(N,m),n.ref=i.ref,n.return=i,i.child=n}function nv(n,i,u,m,y){if(n!==null){var N=n.memoizedProps;if(Ms(N,m)&&n.ref===i.ref)if(gr=!1,i.pendingProps=m=N,(n.lanes&y)!==0)(n.flags&131072)!==0&&(gr=!0);else return i.lanes=n.lanes,fo(n,i,y)}return Lh(n,i,u,m,y)}function rv(n,i,u){var m=i.pendingProps,y=m.children,N=n!==null?n.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(tl,Dr),Dr|=u;else{if((u&1073741824)===0)return n=N!==null?N.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,un(tl,Dr),Dr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=N!==null?N.baseLanes:u,un(tl,Dr),Dr|=m}else N!==null?(m=N.baseLanes|u,i.memoizedState=null):m=u,un(tl,Dr),Dr|=m;return sr(n,i,y,u),i.child}function sv(n,i){var u=i.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Lh(n,i,u,m,y){var N=pr(u)?$i:qn.current;return N=Va(i,N),Xa(i,y),u=Nh(n,i,u,m,N,y),m=Sh(),n!==null&&!gr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~y,fo(n,i,y)):(gn&&m&&ih(i),i.flags|=1,sr(n,i,u,y),i.child)}function ov(n,i,u,m,y){if(pr(u)){var N=!0;Uu(i)}else N=!1;if(Xa(i,y),i.stateNode===null)id(n,i),qg(i,u,m),kh(i,u,m,y),m=!0;else if(n===null){var R=i.stateNode,B=i.memoizedProps;R.props=B;var G=R.context,ce=u.contextType;typeof ce=="object"&&ce!==null?ce=Yr(ce):(ce=pr(u)?$i:qn.current,ce=Va(i,ce));var Ae=u.getDerivedStateFromProps,Oe=typeof Ae=="function"||typeof R.getSnapshotBeforeUpdate=="function";Oe||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==m||G!==ce)&&Gg(i,R,m,ce),Zo=!1;var Le=i.memoizedState;R.state=Le,Xu(i,m,R,y),G=i.memoizedState,B!==m||Le!==G||mr.current||Zo?(typeof Ae=="function"&&(Th(i,u,Ae,m),G=i.memoizedState),(B=Zo||Zg(i,u,B,m,Le,G,ce))?(Oe||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(i.flags|=4194308)):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=G),R.props=m,R.state=G,R.context=ce,m=B):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{R=i.stateNode,_g(n,i),B=i.memoizedProps,ce=i.type===i.elementType?B:ms(i.type,B),R.props=ce,Oe=i.pendingProps,Le=R.context,G=u.contextType,typeof G=="object"&&G!==null?G=Yr(G):(G=pr(u)?$i:qn.current,G=Va(i,G));var Ke=u.getDerivedStateFromProps;(Ae=typeof Ke=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==Oe||Le!==G)&&Gg(i,R,m,G),Zo=!1,Le=i.memoizedState,R.state=Le,Xu(i,m,R,y);var Qe=i.memoizedState;B!==Oe||Le!==Qe||mr.current||Zo?(typeof Ke=="function"&&(Th(i,u,Ke,m),Qe=i.memoizedState),(ce=Zo||Zg(i,u,ce,m,Le,Qe,G)||!1)?(Ae||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Qe,G),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Qe,G)),typeof R.componentDidUpdate=="function"&&(i.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof R.componentDidUpdate!="function"||B===n.memoizedProps&&Le===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&Le===n.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=Qe),R.props=m,R.state=Qe,R.context=G,m=ce):(typeof R.componentDidUpdate!="function"||B===n.memoizedProps&&Le===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&Le===n.memoizedState||(i.flags|=1024),m=!1)}return Ah(n,i,u,m,N,y)}function Ah(n,i,u,m,y,N){sv(n,i);var R=(i.flags&128)!==0;if(!m&&!R)return y&&ug(i,u,!1),fo(n,i,N);m=i.stateNode,_1.current=i;var B=R&&typeof u.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,n!==null&&R?(i.child=Ya(i,n.child,null,N),i.child=Ya(i,null,B,N)):sr(n,i,B,N),i.memoizedState=m.state,y&&ug(i,u,!0),i.child}function iv(n){var i=n.stateNode;i.pendingContext?lg(n,i.pendingContext,i.pendingContext!==i.context):i.context&&lg(n,i.context,!1),vh(n,i.containerInfo)}function av(n,i,u,m,y){return Ga(),uh(y),i.flags|=256,sr(n,i,u,m),i.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Oh(n){return{baseLanes:n,cachePool:null,transitions:null}}function lv(n,i,u){var m=i.pendingProps,y=_n.current,N=!1,R=(i.flags&128)!==0,B;if((B=R)||(B=n!==null&&n.memoizedState===null?!1:(y&2)!==0),B?(N=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(y|=1),un(_n,y&1),n===null)return ch(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(R=m.children,n=m.fallback,N?(m=i.mode,N=i.child,R={mode:"hidden",children:R},(m&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=R):N=xd(R,m,0,null),n=Yi(n,m,u,null),N.return=i,n.return=i,N.sibling=n,i.child=N,i.child.memoizedState=Oh(u),i.memoizedState=Dh,n):Ih(i,R));if(y=n.memoizedState,y!==null&&(B=y.dehydrated,B!==null))return b1(n,i,R,m,B,y,u);if(N){N=m.fallback,R=i.mode,y=n.child,B=y.sibling;var G={mode:"hidden",children:m.children};return(R&1)===0&&i.child!==y?(m=i.child,m.childLanes=0,m.pendingProps=G,i.deletions=null):(m=Jo(y,G),m.subtreeFlags=y.subtreeFlags&14680064),B!==null?N=Jo(B,N):(N=Yi(N,R,u,null),N.flags|=2),N.return=i,m.return=i,m.sibling=N,i.child=m,m=N,N=i.child,R=n.child.memoizedState,R=R===null?Oh(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},N.memoizedState=R,N.childLanes=n.childLanes&~u,i.memoizedState=Dh,m}return N=n.child,n=N.sibling,m=Jo(N,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=u),m.return=i,m.sibling=null,n!==null&&(u=i.deletions,u===null?(i.deletions=[n],i.flags|=16):u.push(n)),i.child=m,i.memoizedState=null,m}function Ih(n,i){return i=xd({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function od(n,i,u,m){return m!==null&&uh(m),Ya(i,n.child,null,u),n=Ih(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function b1(n,i,u,m,y,N,R){if(u)return i.flags&256?(i.flags&=-257,m=Mh(Error(r(422))),od(n,i,R,m)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(N=m.fallback,y=i.mode,m=xd({mode:"visible",children:m.children},y,0,null),N=Yi(N,y,R,null),N.flags|=2,m.return=i,N.return=i,m.sibling=N,i.child=m,(i.mode&1)!==0&&Ya(i,n.child,null,R),i.child.memoizedState=Oh(R),i.memoizedState=Dh,N);if((i.mode&1)===0)return od(n,i,R,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var B=m.dgst;return m=B,N=Error(r(419)),m=Mh(N,m,void 0),od(n,i,R,m)}if(B=(R&n.childLanes)!==0,gr||B){if(m=zn,m!==null){switch(R&-R){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(m.suspendedLanes|R))!==0?0:y,y!==0&&y!==N.retryLane&&(N.retryLane=y,co(n,y),vs(m,n,y,-1))}return Jh(),m=Mh(Error(r(421))),od(n,i,R,m)}return y.data==="$?"?(i.flags|=128,i.child=n.child,i=D1.bind(null,n),y._reactRetry=i,null):(n=N.treeContext,Ar=As(y.nextSibling),Lr=i,gn=!0,hs=null,n!==null&&(qr[Gr++]=ao,qr[Gr++]=lo,qr[Gr++]=zi,ao=n.id,lo=n.overflow,zi=i),i=Ih(i,m.children),i.flags|=4096,i)}function cv(n,i,u){n.lanes|=i;var m=n.alternate;m!==null&&(m.lanes|=i),mh(n.return,i,u)}function Fh(n,i,u,m,y){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=y)}function uv(n,i,u){var m=i.pendingProps,y=m.revealOrder,N=m.tail;if(sr(n,i,m.children,u),m=_n.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cv(n,u,i);else if(n.tag===19)cv(n,u,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(un(_n,m),(i.mode&1)===0)i.memoizedState=null;else switch(y){case"forwards":for(u=i.child,y=null;u!==null;)n=u.alternate,n!==null&&Qu(n)===null&&(y=u),u=u.sibling;u=y,u===null?(y=i.child,i.child=null):(y=u.sibling,u.sibling=null),Fh(i,!1,y,u,N);break;case"backwards":for(u=null,y=i.child,i.child=null;y!==null;){if(n=y.alternate,n!==null&&Qu(n)===null){i.child=y;break}n=y.sibling,y.sibling=u,u=y,y=n}Fh(i,!0,u,null,N);break;case"together":Fh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function id(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function fo(n,i,u){if(n!==null&&(i.dependencies=n.dependencies),Vi|=i.lanes,(u&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,u=Jo(n,n.pendingProps),i.child=u,u.return=i;n.sibling!==null;)n=n.sibling,u=u.sibling=Jo(n,n.pendingProps),u.return=i;u.sibling=null}return i.child}function N1(n,i,u){switch(i.tag){case 3:iv(i),Ga();break;case 5:Sg(i);break;case 1:pr(i.type)&&Uu(i);break;case 4:vh(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,y=i.memoizedProps.value;un(Gu,m._currentValue),m._currentValue=y;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(un(_n,_n.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?lv(n,i,u):(un(_n,_n.current&1),n=fo(n,i,u),n!==null?n.sibling:null);un(_n,_n.current&1);break;case 19:if(m=(u&i.childLanes)!==0,(n.flags&128)!==0){if(m)return uv(n,i,u);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),un(_n,_n.current),m)break;return null;case 22:case 23:return i.lanes=0,rv(n,i,u)}return fo(n,i,u)}var dv,$h,fv,hv;dv=function(n,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},$h=function(){},fv=function(n,i,u,m){var y=n.memoizedProps;if(y!==m){n=i.stateNode,Hi(Ds.current);var N=null;switch(u){case"input":y=Et(n,y),m=Et(n,m),N=[];break;case"select":y=oe({},y,{value:void 0}),m=oe({},m,{value:void 0}),N=[];break;case"textarea":y=ot(n,y),m=ot(n,m),N=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=Pe)}Ut(u,m);var R;u=null;for(ce in y)if(!m.hasOwnProperty(ce)&&y.hasOwnProperty(ce)&&y[ce]!=null)if(ce==="style"){var B=y[ce];for(R in B)B.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(c.hasOwnProperty(ce)?N||(N=[]):(N=N||[]).push(ce,null));for(ce in m){var G=m[ce];if(B=y!=null?y[ce]:void 0,m.hasOwnProperty(ce)&&G!==B&&(G!=null||B!=null))if(ce==="style")if(B){for(R in B)!B.hasOwnProperty(R)||G&&G.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in G)G.hasOwnProperty(R)&&B[R]!==G[R]&&(u||(u={}),u[R]=G[R])}else u||(N||(N=[]),N.push(ce,u)),u=G;else ce==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,B=B?B.__html:void 0,G!=null&&B!==G&&(N=N||[]).push(ce,G)):ce==="children"?typeof G!="string"&&typeof G!="number"||(N=N||[]).push(ce,""+G):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(c.hasOwnProperty(ce)?(G!=null&&ce==="onScroll"&&ln("scroll",n),N||B===G||(N=[])):(N=N||[]).push(ce,G))}u&&(N=N||[]).push("style",u);var ce=N;(i.updateQueue=ce)&&(i.flags|=4)}},hv=function(n,i,u,m){u!==m&&(i.flags|=4)};function Nc(n,i){if(!gn)switch(n.tailMode){case"hidden":i=n.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function Yn(n){var i=n.alternate!==null&&n.alternate.child===n.child,u=0,m=0;if(i)for(var y=n.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=m,n.childLanes=u,i}function S1(n,i,u){var m=i.pendingProps;switch(ah(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(i),null;case 1:return pr(i.type)&&Bu(),Yn(i),null;case 3:return m=i.stateNode,Qa(),hn(mr),hn(qn),wh(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(Zu(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hs!==null&&(Kh(hs),hs=null))),$h(n,i),Yn(i),null;case 5:xh(i);var y=Hi(xc.current);if(u=i.type,n!==null&&i.stateNode!=null)fv(n,i,u,m,y),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(r(166));return Yn(i),null}if(n=Hi(Ds.current),Zu(i)){m=i.stateNode,u=i.type;var N=i.memoizedProps;switch(m[Zr]=i,m[Bo]=N,n=(i.mode&1)!==0,u){case"dialog":ln("cancel",m),ln("close",m);break;case"iframe":case"object":case"embed":ln("load",m);break;case"video":case"audio":for(y=0;y<Fo.length;y++)ln(Fo[y],m);break;case"source":ln("error",m);break;case"img":case"image":case"link":ln("error",m),ln("load",m);break;case"details":ln("toggle",m);break;case"input":ye(m,N),ln("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!N.multiple},ln("invalid",m);break;case"textarea":it(m,N),ln("invalid",m)}Ut(u,N),y=null;for(var R in N)if(N.hasOwnProperty(R)){var B=N[R];R==="children"?typeof B=="string"?m.textContent!==B&&(N.suppressHydrationWarning!==!0&&le(m.textContent,B,n),y=["children",B]):typeof B=="number"&&m.textContent!==""+B&&(N.suppressHydrationWarning!==!0&&le(m.textContent,B,n),y=["children",""+B]):c.hasOwnProperty(R)&&B!=null&&R==="onScroll"&&ln("scroll",m)}switch(u){case"input":We(m),me(m,N,!0);break;case"textarea":We(m),wt(m);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(m.onclick=Pe)}m=y,i.updateQueue=m,m!==null&&(i.flags|=4)}else{R=y.nodeType===9?y:y.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=_t(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=R.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=R.createElement(u,{is:m.is}):(n=R.createElement(u),u==="select"&&(R=n,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):n=R.createElementNS(n,u),n[Zr]=i,n[Bo]=m,dv(n,i,!1,!1),i.stateNode=n;e:{switch(R=Jt(u,m),u){case"dialog":ln("cancel",n),ln("close",n),y=m;break;case"iframe":case"object":case"embed":ln("load",n),y=m;break;case"video":case"audio":for(y=0;y<Fo.length;y++)ln(Fo[y],n);y=m;break;case"source":ln("error",n),y=m;break;case"img":case"image":case"link":ln("error",n),ln("load",n),y=m;break;case"details":ln("toggle",n),y=m;break;case"input":ye(n,m),y=Et(n,m),ln("invalid",n);break;case"option":y=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},y=oe({},m,{value:void 0}),ln("invalid",n);break;case"textarea":it(n,m),y=ot(n,m),ln("invalid",n);break;default:y=m}Ut(u,y),B=y;for(N in B)if(B.hasOwnProperty(N)){var G=B[N];N==="style"?Ot(n,G):N==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Xt(n,G)):N==="children"?typeof G=="string"?(u!=="textarea"||G!=="")&&Gt(n,G):typeof G=="number"&&Gt(n,""+G):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(c.hasOwnProperty(N)?G!=null&&N==="onScroll"&&ln("scroll",n):G!=null&&M(n,N,G,R))}switch(u){case"input":We(n),me(n,m,!1);break;case"textarea":We(n),wt(n);break;case"option":m.value!=null&&n.setAttribute("value",""+ae(m.value));break;case"select":n.multiple=!!m.multiple,N=m.value,N!=null?Ye(n,!!m.multiple,N,!1):m.defaultValue!=null&&Ye(n,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(n.onclick=Pe)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Yn(i),null;case 6:if(n&&i.stateNode!=null)hv(n,i,n.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(r(166));if(u=Hi(xc.current),Hi(Ds.current),Zu(i)){if(m=i.stateNode,u=i.memoizedProps,m[Zr]=i,(N=m.nodeValue!==u)&&(n=Lr,n!==null))switch(n.tag){case 3:le(m.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&le(m.nodeValue,u,(n.mode&1)!==0)}N&&(i.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Zr]=i,i.stateNode=m}return Yn(i),null;case 13:if(hn(_n),m=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(gn&&Ar!==null&&(i.mode&1)!==0&&(i.flags&128)===0)gg(),Ga(),i.flags|=98560,N=!1;else if(N=Zu(i),m!==null&&m.dehydrated!==null){if(n===null){if(!N)throw Error(r(318));if(N=i.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Zr]=i}else Ga(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yn(i),N=!1}else hs!==null&&(Kh(hs),hs=null),N=!0;if(!N)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(_n.current&1)!==0?In===0&&(In=3):Jh())),i.updateQueue!==null&&(i.flags|=4),Yn(i),null);case 4:return Qa(),$h(n,i),n===null&&$o(i.stateNode.containerInfo),Yn(i),null;case 10:return hh(i.type._context),Yn(i),null;case 17:return pr(i.type)&&Bu(),Yn(i),null;case 19:if(hn(_n),N=i.memoizedState,N===null)return Yn(i),null;if(m=(i.flags&128)!==0,R=N.rendering,R===null)if(m)Nc(N,!1);else{if(In!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(R=Qu(n),R!==null){for(i.flags|=128,Nc(N,!1),m=R.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=u,u=i.child;u!==null;)N=u,n=m,N.flags&=14680066,R=N.alternate,R===null?(N.childLanes=0,N.lanes=n,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=R.childLanes,N.lanes=R.lanes,N.child=R.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=R.memoizedProps,N.memoizedState=R.memoizedState,N.updateQueue=R.updateQueue,N.type=R.type,n=R.dependencies,N.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return un(_n,_n.current&1|2),i.child}n=n.sibling}N.tail!==null&&yn()>nl&&(i.flags|=128,m=!0,Nc(N,!1),i.lanes=4194304)}else{if(!m)if(n=Qu(R),n!==null){if(i.flags|=128,m=!0,u=n.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),Nc(N,!0),N.tail===null&&N.tailMode==="hidden"&&!R.alternate&&!gn)return Yn(i),null}else 2*yn()-N.renderingStartTime>nl&&u!==1073741824&&(i.flags|=128,m=!0,Nc(N,!1),i.lanes=4194304);N.isBackwards?(R.sibling=i.child,i.child=R):(u=N.last,u!==null?u.sibling=R:i.child=R,N.last=R)}return N.tail!==null?(i=N.tail,N.rendering=i,N.tail=i.sibling,N.renderingStartTime=yn(),i.sibling=null,u=_n.current,un(_n,m?u&1|2:u&1),i):(Yn(i),null);case 22:case 23:return Qh(),m=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(Dr&1073741824)!==0&&(Yn(i),i.subtreeFlags&6&&(i.flags|=8192)):Yn(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function j1(n,i){switch(ah(i),i.tag){case 1:return pr(i.type)&&Bu(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Qa(),hn(mr),hn(qn),wh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return xh(i),null;case 13:if(hn(_n),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ga()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return hn(_n),null;case 4:return Qa(),null;case 10:return hh(i.type._context),null;case 22:case 23:return Qh(),null;case 24:return null;default:return null}}var ad=!1,Kn=!1,C1=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function el(n,i){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Cn(n,i,m)}else u.current=null}function zh(n,i,u){try{u()}catch(m){Cn(n,i,m)}}var mv=!1;function E1(n,i){if(qe=Mi,n=ic(),ac(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var R=0,B=-1,G=-1,ce=0,Ae=0,Oe=n,Le=null;t:for(;;){for(var Ke;Oe!==u||y!==0&&Oe.nodeType!==3||(B=R+y),Oe!==N||m!==0&&Oe.nodeType!==3||(G=R+m),Oe.nodeType===3&&(R+=Oe.nodeValue.length),(Ke=Oe.firstChild)!==null;)Le=Oe,Oe=Ke;for(;;){if(Oe===n)break t;if(Le===u&&++ce===y&&(B=R),Le===N&&++Ae===m&&(G=R),(Ke=Oe.nextSibling)!==null)break;Oe=Le,Le=Oe.parentNode}Oe=Ke}u=B===-1||G===-1?null:{start:B,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(ut={focusedElem:n,selectionRange:u},Mi=!1,Xe=i;Xe!==null;)if(i=Xe,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Xe=n;else for(;Xe!==null;){i=Xe;try{var Qe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Qe!==null){var et=Qe.memoizedProps,Tn=Qe.memoizedState,se=i.stateNode,X=se.getSnapshotBeforeUpdate(i.elementType===i.type?et:ms(i.type,et),Tn);se.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ie=i.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ze){Cn(i,i.return,ze)}if(n=i.sibling,n!==null){n.return=i.return,Xe=n;break}Xe=i.return}return Qe=mv,mv=!1,Qe}function Sc(n,i,u){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&n)===n){var N=y.destroy;y.destroy=void 0,N!==void 0&&zh(i,u,N)}y=y.next}while(y!==m)}}function ld(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&n)===n){var m=u.create;u.destroy=m()}u=u.next}while(u!==i)}}function Bh(n){var i=n.ref;if(i!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof i=="function"?i(n):i.current=n}}function pv(n){var i=n.alternate;i!==null&&(n.alternate=null,pv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Zr],delete i[Bo],delete i[Uo],delete i[nh],delete i[rh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gv(n){return n.tag===5||n.tag===3||n.tag===4}function vv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Uh(n,i,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(n,i):u.insertBefore(n,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(n,u)):(i=u,i.appendChild(n)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Pe));else if(m!==4&&(n=n.child,n!==null))for(Uh(n,i,u),n=n.sibling;n!==null;)Uh(n,i,u),n=n.sibling}function Hh(n,i,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?u.insertBefore(n,i):u.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(Hh(n,i,u),n=n.sibling;n!==null;)Hh(n,i,u),n=n.sibling}var Un=null,ps=!1;function Go(n,i,u){for(u=u.child;u!==null;)xv(n,i,u),u=u.sibling}function xv(n,i,u){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(ji,u)}catch{}switch(u.tag){case 5:Kn||el(u,i);case 6:var m=Un,y=ps;Un=null,Go(n,i,u),Un=m,ps=y,Un!==null&&(ps?(n=Un,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Un.removeChild(u.stateNode));break;case 18:Un!==null&&(ps?(n=Un,u=u.stateNode,n.nodeType===8?mc(n.parentNode,u):n.nodeType===1&&mc(n,u),Pr(n)):mc(Un,u.stateNode));break;case 4:m=Un,y=ps,Un=u.stateNode.containerInfo,ps=!0,Go(n,i,u),Un=m,ps=y;break;case 0:case 11:case 14:case 15:if(!Kn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var N=y,R=N.destroy;N=N.tag,R!==void 0&&((N&2)!==0||(N&4)!==0)&&zh(u,i,R),y=y.next}while(y!==m)}Go(n,i,u);break;case 1:if(!Kn&&(el(u,i),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(B){Cn(u,i,B)}Go(n,i,u);break;case 21:Go(n,i,u);break;case 22:u.mode&1?(Kn=(m=Kn)||u.memoizedState!==null,Go(n,i,u),Kn=m):Go(n,i,u);break;default:Go(n,i,u)}}function yv(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new C1),i.forEach(function(m){var y=O1.bind(null,n,m);u.has(m)||(u.add(m),m.then(y,y))})}}function gs(n,i){var u=i.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var N=n,R=i,B=R;e:for(;B!==null;){switch(B.tag){case 5:Un=B.stateNode,ps=!1;break e;case 3:Un=B.stateNode.containerInfo,ps=!0;break e;case 4:Un=B.stateNode.containerInfo,ps=!0;break e}B=B.return}if(Un===null)throw Error(r(160));xv(N,R,y),Un=null,ps=!1;var G=y.alternate;G!==null&&(G.return=null),y.return=null}catch(ce){Cn(y,i,ce)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)wv(i,n),i=i.sibling}function wv(n,i){var u=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(gs(i,n),Is(n),m&4){try{Sc(3,n,n.return),ld(3,n)}catch(et){Cn(n,n.return,et)}try{Sc(5,n,n.return)}catch(et){Cn(n,n.return,et)}}break;case 1:gs(i,n),Is(n),m&512&&u!==null&&el(u,u.return);break;case 5:if(gs(i,n),Is(n),m&512&&u!==null&&el(u,u.return),n.flags&32){var y=n.stateNode;try{Gt(y,"")}catch(et){Cn(n,n.return,et)}}if(m&4&&(y=n.stateNode,y!=null)){var N=n.memoizedProps,R=u!==null?u.memoizedProps:N,B=n.type,G=n.updateQueue;if(n.updateQueue=null,G!==null)try{B==="input"&&N.type==="radio"&&N.name!=null&&Ge(y,N),Jt(B,R);var ce=Jt(B,N);for(R=0;R<G.length;R+=2){var Ae=G[R],Oe=G[R+1];Ae==="style"?Ot(y,Oe):Ae==="dangerouslySetInnerHTML"?Xt(y,Oe):Ae==="children"?Gt(y,Oe):M(y,Ae,Oe,ce)}switch(B){case"input":q(y,N);break;case"textarea":Vt(y,N);break;case"select":var Le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!N.multiple;var Ke=N.value;Ke!=null?Ye(y,!!N.multiple,Ke,!1):Le!==!!N.multiple&&(N.defaultValue!=null?Ye(y,!!N.multiple,N.defaultValue,!0):Ye(y,!!N.multiple,N.multiple?[]:"",!1))}y[Bo]=N}catch(et){Cn(n,n.return,et)}}break;case 6:if(gs(i,n),Is(n),m&4){if(n.stateNode===null)throw Error(r(162));y=n.stateNode,N=n.memoizedProps;try{y.nodeValue=N}catch(et){Cn(n,n.return,et)}}break;case 3:if(gs(i,n),Is(n),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Pr(i.containerInfo)}catch(et){Cn(n,n.return,et)}break;case 4:gs(i,n),Is(n);break;case 13:gs(i,n),Is(n),y=n.child,y.flags&8192&&(N=y.memoizedState!==null,y.stateNode.isHidden=N,!N||y.alternate!==null&&y.alternate.memoizedState!==null||(Zh=yn())),m&4&&yv(n);break;case 22:if(Ae=u!==null&&u.memoizedState!==null,n.mode&1?(Kn=(ce=Kn)||Ae,gs(i,n),Kn=ce):gs(i,n),Is(n),m&8192){if(ce=n.memoizedState!==null,(n.stateNode.isHidden=ce)&&!Ae&&(n.mode&1)!==0)for(Xe=n,Ae=n.child;Ae!==null;){for(Oe=Xe=Ae;Xe!==null;){switch(Le=Xe,Ke=Le.child,Le.tag){case 0:case 11:case 14:case 15:Sc(4,Le,Le.return);break;case 1:el(Le,Le.return);var Qe=Le.stateNode;if(typeof Qe.componentWillUnmount=="function"){m=Le,u=Le.return;try{i=m,Qe.props=i.memoizedProps,Qe.state=i.memoizedState,Qe.componentWillUnmount()}catch(et){Cn(m,u,et)}}break;case 5:el(Le,Le.return);break;case 22:if(Le.memoizedState!==null){Nv(Oe);continue}}Ke!==null?(Ke.return=Le,Xe=Ke):Nv(Oe)}Ae=Ae.sibling}e:for(Ae=null,Oe=n;;){if(Oe.tag===5){if(Ae===null){Ae=Oe;try{y=Oe.stateNode,ce?(N=y.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(B=Oe.stateNode,G=Oe.memoizedProps.style,R=G!=null&&G.hasOwnProperty("display")?G.display:null,B.style.display=dn("display",R))}catch(et){Cn(n,n.return,et)}}}else if(Oe.tag===6){if(Ae===null)try{Oe.stateNode.nodeValue=ce?"":Oe.memoizedProps}catch(et){Cn(n,n.return,et)}}else if((Oe.tag!==22&&Oe.tag!==23||Oe.memoizedState===null||Oe===n)&&Oe.child!==null){Oe.child.return=Oe,Oe=Oe.child;continue}if(Oe===n)break e;for(;Oe.sibling===null;){if(Oe.return===null||Oe.return===n)break e;Ae===Oe&&(Ae=null),Oe=Oe.return}Ae===Oe&&(Ae=null),Oe.sibling.return=Oe.return,Oe=Oe.sibling}}break;case 19:gs(i,n),Is(n),m&4&&yv(n);break;case 21:break;default:gs(i,n),Is(n)}}function Is(n){var i=n.flags;if(i&2){try{e:{for(var u=n.return;u!==null;){if(gv(u)){var m=u;break e}u=u.return}throw Error(r(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Gt(y,""),m.flags&=-33);var N=vv(n);Hh(n,N,y);break;case 3:case 4:var R=m.stateNode.containerInfo,B=vv(n);Uh(n,B,R);break;default:throw Error(r(161))}}catch(G){Cn(n,n.return,G)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function P1(n,i,u){Xe=n,_v(n)}function _v(n,i,u){for(var m=(n.mode&1)!==0;Xe!==null;){var y=Xe,N=y.child;if(y.tag===22&&m){var R=y.memoizedState!==null||ad;if(!R){var B=y.alternate,G=B!==null&&B.memoizedState!==null||Kn;B=ad;var ce=Kn;if(ad=R,(Kn=G)&&!ce)for(Xe=y;Xe!==null;)R=Xe,G=R.child,R.tag===22&&R.memoizedState!==null?Sv(y):G!==null?(G.return=R,Xe=G):Sv(y);for(;N!==null;)Xe=N,_v(N),N=N.sibling;Xe=y,ad=B,Kn=ce}bv(n)}else(y.subtreeFlags&8772)!==0&&N!==null?(N.return=y,Xe=N):bv(n)}}function bv(n){for(;Xe!==null;){var i=Xe;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Kn||ld(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!Kn)if(u===null)m.componentDidMount();else{var y=i.elementType===i.type?u.memoizedProps:ms(i.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var N=i.updateQueue;N!==null&&Ng(i,N,m);break;case 3:var R=i.updateQueue;if(R!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}Ng(i,R,u)}break;case 5:var B=i.stateNode;if(u===null&&i.flags&4){u=B;var G=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&u.focus();break;case"img":G.src&&(u.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ce=i.alternate;if(ce!==null){var Ae=ce.memoizedState;if(Ae!==null){var Oe=Ae.dehydrated;Oe!==null&&Pr(Oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kn||i.flags&512&&Bh(i)}catch(Le){Cn(i,i.return,Le)}}if(i===n){Xe=null;break}if(u=i.sibling,u!==null){u.return=i.return,Xe=u;break}Xe=i.return}}function Nv(n){for(;Xe!==null;){var i=Xe;if(i===n){Xe=null;break}var u=i.sibling;if(u!==null){u.return=i.return,Xe=u;break}Xe=i.return}}function Sv(n){for(;Xe!==null;){var i=Xe;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{ld(4,i)}catch(G){Cn(i,u,G)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var y=i.return;try{m.componentDidMount()}catch(G){Cn(i,y,G)}}var N=i.return;try{Bh(i)}catch(G){Cn(i,N,G)}break;case 5:var R=i.return;try{Bh(i)}catch(G){Cn(i,R,G)}}}catch(G){Cn(i,i.return,G)}if(i===n){Xe=null;break}var B=i.sibling;if(B!==null){B.return=i.return,Xe=B;break}Xe=i.return}}var T1=Math.ceil,cd=O.ReactCurrentDispatcher,Wh=O.ReactCurrentOwner,Xr=O.ReactCurrentBatchConfig,Zt=0,zn=null,Mn=null,Hn=0,Dr=0,tl=Ho(0),In=0,jc=null,Vi=0,ud=0,Vh=0,Cc=null,vr=null,Zh=0,nl=1/0,ho=null,dd=!1,qh=null,Yo=null,fd=!1,Ko=null,hd=0,Ec=0,Gh=null,md=-1,pd=0;function or(){return(Zt&6)!==0?yn():md!==-1?md:md=yn()}function Xo(n){return(n.mode&1)===0?1:(Zt&2)!==0&&Hn!==0?Hn&-Hn:f1.transition!==null?(pd===0&&(pd=xu()),pd):(n=Wt,n!==0||(n=window.event,n=n===void 0?16:zt(n.type)),n)}function vs(n,i,u,m){if(50<Ec)throw Ec=0,Gh=null,Error(r(185));Cr(n,u,m),((Zt&2)===0||n!==zn)&&(n===zn&&((Zt&2)===0&&(ud|=u),In===4&&Qo(n,Hn)),xr(n,m),u===1&&Zt===0&&(i.mode&1)===0&&(nl=yn()+500,Hu&&Vo()))}function xr(n,i){var u=n.callbackNode;ba(n,i);var m=cn(n,n===zn?Hn:0);if(m===0)u!==null&&Ul(u),n.callbackNode=null,n.callbackPriority=0;else if(i=m&-m,n.callbackPriority!==i){if(u!=null&&Ul(u),i===1)n.tag===0?d1(Cv.bind(null,n)):dg(Cv.bind(null,n)),Zn(function(){(Zt&6)===0&&Vo()}),u=null;else{switch(Co(m)){case 1:u=Hl;break;case 4:u=vu;break;case 16:u=wa;break;case 536870912:u=bo;break;default:u=wa}u=Av(u,jv.bind(null,n))}n.callbackPriority=i,n.callbackNode=u}}function jv(n,i){if(md=-1,pd=0,(Zt&6)!==0)throw Error(r(327));var u=n.callbackNode;if(rl()&&n.callbackNode!==u)return null;var m=cn(n,n===zn?Hn:0);if(m===0)return null;if((m&30)!==0||(m&n.expiredLanes)!==0||i)i=gd(n,m);else{i=m;var y=Zt;Zt|=2;var N=Pv();(zn!==n||Hn!==i)&&(ho=null,nl=yn()+500,qi(n,i));do try{R1();break}catch(B){Ev(n,B)}while(!0);fh(),cd.current=N,Zt=y,Mn!==null?i=0:(zn=null,Hn=0,i=In)}if(i!==0){if(i===2&&(y=Wn(n),y!==0&&(m=y,i=Yh(n,y))),i===1)throw u=jc,qi(n,0),Qo(n,m),xr(n,yn()),u;if(i===6)Qo(n,m);else{if(y=n.current.alternate,(m&30)===0&&!k1(y)&&(i=gd(n,m),i===2&&(N=Wn(n),N!==0&&(m=N,i=Yh(n,N))),i===1))throw u=jc,qi(n,0),Qo(n,m),xr(n,yn()),u;switch(n.finishedWork=y,n.finishedLanes=m,i){case 0:case 1:throw Error(r(345));case 2:Gi(n,vr,ho);break;case 3:if(Qo(n,m),(m&130023424)===m&&(i=Zh+500-yn(),10<i)){if(cn(n,0)!==0)break;if(y=n.suspendedLanes,(y&m)!==m){or(),n.pingedLanes|=n.suspendedLanes&y;break}n.timeoutHandle=Dn(Gi.bind(null,n,vr,ho),i);break}Gi(n,vr,ho);break;case 4:if(Qo(n,m),(m&4194240)===m)break;for(i=n.eventTimes,y=-1;0<m;){var R=31-Pt(m);N=1<<R,R=i[R],R>y&&(y=R),m&=~N}if(m=y,m=yn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*T1(m/1960))-m,10<m){n.timeoutHandle=Dn(Gi.bind(null,n,vr,ho),m);break}Gi(n,vr,ho);break;case 5:Gi(n,vr,ho);break;default:throw Error(r(329))}}}return xr(n,yn()),n.callbackNode===u?jv.bind(null,n):null}function Yh(n,i){var u=Cc;return n.current.memoizedState.isDehydrated&&(qi(n,i).flags|=256),n=gd(n,i),n!==2&&(i=vr,vr=u,i!==null&&Kh(i)),n}function Kh(n){vr===null?vr=n:vr.push.apply(vr,n)}function k1(n){for(var i=n;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],N=y.getSnapshot;y=y.value;try{if(!Mr(N(),y))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qo(n,i){for(i&=~Vh,i&=~ud,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var u=31-Pt(i),m=1<<u;n[u]=-1,i&=~m}}function Cv(n){if((Zt&6)!==0)throw Error(r(327));rl();var i=cn(n,0);if((i&1)===0)return xr(n,yn()),null;var u=gd(n,i);if(n.tag!==0&&u===2){var m=Wn(n);m!==0&&(i=m,u=Yh(n,m))}if(u===1)throw u=jc,qi(n,0),Qo(n,i),xr(n,yn()),u;if(u===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Gi(n,vr,ho),xr(n,yn()),null}function Xh(n,i){var u=Zt;Zt|=1;try{return n(i)}finally{Zt=u,Zt===0&&(nl=yn()+500,Hu&&Vo())}}function Zi(n){Ko!==null&&Ko.tag===0&&(Zt&6)===0&&rl();var i=Zt;Zt|=1;var u=Xr.transition,m=Wt;try{if(Xr.transition=null,Wt=1,n)return n()}finally{Wt=m,Xr.transition=u,Zt=i,(Zt&6)===0&&Vo()}}function Qh(){Dr=tl.current,hn(tl)}function qi(n,i){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,kn(u)),Mn!==null)for(u=Mn.return;u!==null;){var m=u;switch(ah(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Bu();break;case 3:Qa(),hn(mr),hn(qn),wh();break;case 5:xh(m);break;case 4:Qa();break;case 13:hn(_n);break;case 19:hn(_n);break;case 10:hh(m.type._context);break;case 22:case 23:Qh()}u=u.return}if(zn=n,Mn=n=Jo(n.current,null),Hn=Dr=i,In=0,jc=null,Vh=ud=Vi=0,vr=Cc=null,Ui!==null){for(i=0;i<Ui.length;i++)if(u=Ui[i],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,N=u.pending;if(N!==null){var R=N.next;N.next=y,m.next=R}u.pending=m}Ui=null}return n}function Ev(n,i){do{var u=Mn;try{if(fh(),Ju.current=rd,ed){for(var m=bn.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}ed=!1}if(Wi=0,$n=On=bn=null,yc=!1,wc=0,Wh.current=null,u===null||u.return===null){In=1,jc=i,Mn=null;break}e:{var N=n,R=u.return,B=u,G=i;if(i=Hn,B.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ce=G,Ae=B,Oe=Ae.tag;if((Ae.mode&1)===0&&(Oe===0||Oe===11||Oe===15)){var Le=Ae.alternate;Le?(Ae.updateQueue=Le.updateQueue,Ae.memoizedState=Le.memoizedState,Ae.lanes=Le.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var Ke=Qg(R);if(Ke!==null){Ke.flags&=-257,Jg(Ke,R,B,N,i),Ke.mode&1&&Xg(N,ce,i),i=Ke,G=ce;var Qe=i.updateQueue;if(Qe===null){var et=new Set;et.add(G),i.updateQueue=et}else Qe.add(G);break e}else{if((i&1)===0){Xg(N,ce,i),Jh();break e}G=Error(r(426))}}else if(gn&&B.mode&1){var Tn=Qg(R);if(Tn!==null){(Tn.flags&65536)===0&&(Tn.flags|=256),Jg(Tn,R,B,N,i),uh(Ja(G,B));break e}}N=G=Ja(G,B),In!==4&&(In=2),Cc===null?Cc=[N]:Cc.push(N),N=R;do{switch(N.tag){case 3:N.flags|=65536,i&=-i,N.lanes|=i;var se=Yg(N,G,i);bg(N,se);break e;case 1:B=G;var X=N.type,ie=N.stateNode;if((N.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Yo===null||!Yo.has(ie)))){N.flags|=65536,i&=-i,N.lanes|=i;var ze=Kg(N,B,i);bg(N,ze);break e}}N=N.return}while(N!==null)}kv(u)}catch(tt){i=tt,Mn===u&&u!==null&&(Mn=u=u.return);continue}break}while(!0)}function Pv(){var n=cd.current;return cd.current=rd,n===null?rd:n}function Jh(){(In===0||In===3||In===2)&&(In=4),zn===null||(Vi&268435455)===0&&(ud&268435455)===0||Qo(zn,Hn)}function gd(n,i){var u=Zt;Zt|=2;var m=Pv();(zn!==n||Hn!==i)&&(ho=null,qi(n,i));do try{M1();break}catch(y){Ev(n,y)}while(!0);if(fh(),Zt=u,cd.current=m,Mn!==null)throw Error(r(261));return zn=null,Hn=0,In}function M1(){for(;Mn!==null;)Tv(Mn)}function R1(){for(;Mn!==null&&!zf();)Tv(Mn)}function Tv(n){var i=Lv(n.alternate,n,Dr);n.memoizedProps=n.pendingProps,i===null?kv(n):Mn=i,Wh.current=null}function kv(n){var i=n;do{var u=i.alternate;if(n=i.return,(i.flags&32768)===0){if(u=S1(u,i,Dr),u!==null){Mn=u;return}}else{if(u=j1(u,i),u!==null){u.flags&=32767,Mn=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{In=6,Mn=null;return}}if(i=i.sibling,i!==null){Mn=i;return}Mn=i=n}while(i!==null);In===0&&(In=5)}function Gi(n,i,u){var m=Wt,y=Xr.transition;try{Xr.transition=null,Wt=1,L1(n,i,u,m)}finally{Xr.transition=y,Wt=m}return null}function L1(n,i,u,m){do rl();while(Ko!==null);if((Zt&6)!==0)throw Error(r(327));u=n.finishedWork;var y=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var N=u.lanes|u.childLanes;if(jn(n,N),n===zn&&(Mn=zn=null,Hn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||fd||(fd=!0,Av(wa,function(){return rl(),null})),N=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||N){N=Xr.transition,Xr.transition=null;var R=Wt;Wt=1;var B=Zt;Zt|=4,Wh.current=null,E1(n,u),wv(u,n),Wr(ut),Mi=!!qe,ut=qe=null,n.current=u,P1(u),ya(),Zt=B,Wt=R,Xr.transition=N}else n.current=u;if(fd&&(fd=!1,Ko=n,hd=y),N=n.pendingLanes,N===0&&(Yo=null),Ci(u.stateNode),xr(n,yn()),i!==null)for(m=n.onRecoverableError,u=0;u<i.length;u++)y=i[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(dd)throw dd=!1,n=qh,qh=null,n;return(hd&1)!==0&&n.tag!==0&&rl(),N=n.pendingLanes,(N&1)!==0?n===Gh?Ec++:(Ec=0,Gh=n):Ec=0,Vo(),null}function rl(){if(Ko!==null){var n=Co(hd),i=Xr.transition,u=Wt;try{if(Xr.transition=null,Wt=16>n?16:n,Ko===null)var m=!1;else{if(n=Ko,Ko=null,hd=0,(Zt&6)!==0)throw Error(r(331));var y=Zt;for(Zt|=4,Xe=n.current;Xe!==null;){var N=Xe,R=N.child;if((Xe.flags&16)!==0){var B=N.deletions;if(B!==null){for(var G=0;G<B.length;G++){var ce=B[G];for(Xe=ce;Xe!==null;){var Ae=Xe;switch(Ae.tag){case 0:case 11:case 15:Sc(8,Ae,N)}var Oe=Ae.child;if(Oe!==null)Oe.return=Ae,Xe=Oe;else for(;Xe!==null;){Ae=Xe;var Le=Ae.sibling,Ke=Ae.return;if(pv(Ae),Ae===ce){Xe=null;break}if(Le!==null){Le.return=Ke,Xe=Le;break}Xe=Ke}}}var Qe=N.alternate;if(Qe!==null){var et=Qe.child;if(et!==null){Qe.child=null;do{var Tn=et.sibling;et.sibling=null,et=Tn}while(et!==null)}}Xe=N}}if((N.subtreeFlags&2064)!==0&&R!==null)R.return=N,Xe=R;else e:for(;Xe!==null;){if(N=Xe,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Sc(9,N,N.return)}var se=N.sibling;if(se!==null){se.return=N.return,Xe=se;break e}Xe=N.return}}var X=n.current;for(Xe=X;Xe!==null;){R=Xe;var ie=R.child;if((R.subtreeFlags&2064)!==0&&ie!==null)ie.return=R,Xe=ie;else e:for(R=X;Xe!==null;){if(B=Xe,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:ld(9,B)}}catch(tt){Cn(B,B.return,tt)}if(B===R){Xe=null;break e}var ze=B.sibling;if(ze!==null){ze.return=B.return,Xe=ze;break e}Xe=B.return}}if(Zt=y,Vo(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(ji,n)}catch{}m=!0}return m}finally{Wt=u,Xr.transition=i}}return!1}function Mv(n,i,u){i=Ja(u,i),i=Yg(n,i,1),n=qo(n,i,1),i=or(),n!==null&&(Cr(n,1,i),xr(n,i))}function Cn(n,i,u){if(n.tag===3)Mv(n,n,u);else for(;i!==null;){if(i.tag===3){Mv(i,n,u);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Yo===null||!Yo.has(m))){n=Ja(u,n),n=Kg(i,n,1),i=qo(i,n,1),n=or(),i!==null&&(Cr(i,1,n),xr(i,n));break}}i=i.return}}function A1(n,i,u){var m=n.pingCache;m!==null&&m.delete(i),i=or(),n.pingedLanes|=n.suspendedLanes&u,zn===n&&(Hn&u)===u&&(In===4||In===3&&(Hn&130023424)===Hn&&500>yn()-Zh?qi(n,0):Vh|=u),xr(n,i)}function Rv(n,i){i===0&&((n.mode&1)===0?i=1:(i=So,So<<=1,(So&130023424)===0&&(So=4194304)));var u=or();n=co(n,i),n!==null&&(Cr(n,i,u),xr(n,u))}function D1(n){var i=n.memoizedState,u=0;i!==null&&(u=i.retryLane),Rv(n,u)}function O1(n,i){var u=0;switch(n.tag){case 13:var m=n.stateNode,y=n.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(i),Rv(n,u)}var Lv;Lv=function(n,i,u){if(n!==null)if(n.memoizedProps!==i.pendingProps||mr.current)gr=!0;else{if((n.lanes&u)===0&&(i.flags&128)===0)return gr=!1,N1(n,i,u);gr=(n.flags&131072)!==0}else gr=!1,gn&&(i.flags&1048576)!==0&&fg(i,Vu,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;id(n,i),n=i.pendingProps;var y=Va(i,qn.current);Xa(i,u),y=Nh(null,i,m,n,y,u);var N=Sh();return i.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,pr(m)?(N=!0,Uu(i)):N=!1,i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,gh(i),y.updater=sd,i.stateNode=y,y._reactInternals=i,kh(i,m,n,u),i=Ah(null,i,m,!0,N,u)):(i.tag=0,gn&&N&&ih(i),sr(null,i,y,u),i=i.child),i;case 16:m=i.elementType;e:{switch(id(n,i),n=i.pendingProps,y=m._init,m=y(m._payload),i.type=m,y=i.tag=F1(m),n=ms(m,n),y){case 0:i=Lh(null,i,m,n,u);break e;case 1:i=ov(null,i,m,n,u);break e;case 11:i=ev(null,i,m,n,u);break e;case 14:i=tv(null,i,m,ms(m.type,n),u);break e}throw Error(r(306,m,""))}return i;case 0:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:ms(m,y),Lh(n,i,m,y,u);case 1:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:ms(m,y),ov(n,i,m,y,u);case 3:e:{if(iv(i),n===null)throw Error(r(387));m=i.pendingProps,N=i.memoizedState,y=N.element,_g(n,i),Xu(i,m,null,u);var R=i.memoizedState;if(m=R.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},i.updateQueue.baseState=N,i.memoizedState=N,i.flags&256){y=Ja(Error(r(423)),i),i=av(n,i,m,u,y);break e}else if(m!==y){y=Ja(Error(r(424)),i),i=av(n,i,m,u,y);break e}else for(Ar=As(i.stateNode.containerInfo.firstChild),Lr=i,gn=!0,hs=null,u=yg(i,null,m,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ga(),m===y){i=fo(n,i,u);break e}sr(n,i,m,u)}i=i.child}return i;case 5:return Sg(i),n===null&&ch(i),m=i.type,y=i.pendingProps,N=n!==null?n.memoizedProps:null,R=y.children,kt(m,y)?R=null:N!==null&&kt(m,N)&&(i.flags|=32),sv(n,i),sr(n,i,R,u),i.child;case 6:return n===null&&ch(i),null;case 13:return lv(n,i,u);case 4:return vh(i,i.stateNode.containerInfo),m=i.pendingProps,n===null?i.child=Ya(i,null,m,u):sr(n,i,m,u),i.child;case 11:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:ms(m,y),ev(n,i,m,y,u);case 7:return sr(n,i,i.pendingProps,u),i.child;case 8:return sr(n,i,i.pendingProps.children,u),i.child;case 12:return sr(n,i,i.pendingProps.children,u),i.child;case 10:e:{if(m=i.type._context,y=i.pendingProps,N=i.memoizedProps,R=y.value,un(Gu,m._currentValue),m._currentValue=R,N!==null)if(Mr(N.value,R)){if(N.children===y.children&&!mr.current){i=fo(n,i,u);break e}}else for(N=i.child,N!==null&&(N.return=i);N!==null;){var B=N.dependencies;if(B!==null){R=N.child;for(var G=B.firstContext;G!==null;){if(G.context===m){if(N.tag===1){G=uo(-1,u&-u),G.tag=2;var ce=N.updateQueue;if(ce!==null){ce=ce.shared;var Ae=ce.pending;Ae===null?G.next=G:(G.next=Ae.next,Ae.next=G),ce.pending=G}}N.lanes|=u,G=N.alternate,G!==null&&(G.lanes|=u),mh(N.return,u,i),B.lanes|=u;break}G=G.next}}else if(N.tag===10)R=N.type===i.type?null:N.child;else if(N.tag===18){if(R=N.return,R===null)throw Error(r(341));R.lanes|=u,B=R.alternate,B!==null&&(B.lanes|=u),mh(R,u,i),R=N.sibling}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===i){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}sr(n,i,y.children,u),i=i.child}return i;case 9:return y=i.type,m=i.pendingProps.children,Xa(i,u),y=Yr(y),m=m(y),i.flags|=1,sr(n,i,m,u),i.child;case 14:return m=i.type,y=ms(m,i.pendingProps),y=ms(m.type,y),tv(n,i,m,y,u);case 15:return nv(n,i,i.type,i.pendingProps,u);case 17:return m=i.type,y=i.pendingProps,y=i.elementType===m?y:ms(m,y),id(n,i),i.tag=1,pr(m)?(n=!0,Uu(i)):n=!1,Xa(i,u),qg(i,m,y),kh(i,m,y,u),Ah(null,i,m,!0,n,u);case 19:return uv(n,i,u);case 22:return rv(n,i,u)}throw Error(r(156,i.tag))};function Av(n,i){return gu(n,i)}function I1(n,i,u,m){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(n,i,u,m){return new I1(n,i,u,m)}function em(n){return n=n.prototype,!(!n||!n.isReactComponent)}function F1(n){if(typeof n=="function")return em(n)?1:0;if(n!=null){if(n=n.$$typeof,n===fe)return 11;if(n===Be)return 14}return 2}function Jo(n,i){var u=n.alternate;return u===null?(u=Qr(n.tag,i,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=i,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,i=n.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function vd(n,i,u,m,y,N){var R=2;if(m=n,typeof n=="function")em(n)&&(R=1);else if(typeof n=="string")R=5;else e:switch(n){case H:return Yi(u.children,y,N,i);case ne:R=8,y|=8;break;case V:return n=Qr(12,u,i,y|2),n.elementType=V,n.lanes=N,n;case Ie:return n=Qr(13,u,i,y),n.elementType=Ie,n.lanes=N,n;case he:return n=Qr(19,u,i,y),n.elementType=he,n.lanes=N,n;case xe:return xd(u,y,N,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:R=10;break e;case te:R=9;break e;case fe:R=11;break e;case Be:R=14;break e;case ee:R=16,m=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Qr(R,u,i,y),i.elementType=n,i.type=m,i.lanes=N,i}function Yi(n,i,u,m){return n=Qr(7,n,m,i),n.lanes=u,n}function xd(n,i,u,m){return n=Qr(22,n,m,i),n.elementType=xe,n.lanes=u,n.stateNode={isHidden:!1},n}function tm(n,i,u){return n=Qr(6,n,null,i),n.lanes=u,n}function nm(n,i,u){return i=Qr(4,n.children!==null?n.children:[],n.key,i),i.lanes=u,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function $1(n,i,u,m,y){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function rm(n,i,u,m,y,N,R,B,G){return n=new $1(n,i,u,B,G),i===1?(i=1,N===!0&&(i|=8)):i=0,N=Qr(3,null,null,i),n.current=N,N.stateNode=n,N.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(N),n}function z1(n,i,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:m==null?null:""+m,children:n,containerInfo:i,implementation:u}}function Dv(n){if(!n)return Wo;n=n._reactInternals;e:{if(Cs(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(pr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var u=n.type;if(pr(u))return cg(n,u,i)}return i}function Ov(n,i,u,m,y,N,R,B,G){return n=rm(u,m,!0,n,y,N,R,B,G),n.context=Dv(null),u=n.current,m=or(),y=Xo(u),N=uo(m,y),N.callback=i??null,qo(u,N,y),n.current.lanes=y,Cr(n,y,m),xr(n,m),n}function yd(n,i,u,m){var y=i.current,N=or(),R=Xo(y);return u=Dv(u),i.context===null?i.context=u:i.pendingContext=u,i=uo(N,R),i.payload={element:n},m=m===void 0?null:m,m!==null&&(i.callback=m),n=qo(y,i,R),n!==null&&(vs(n,y,R,N),Ku(n,y,R)),R}function wd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Iv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<i?u:i}}function sm(n,i){Iv(n,i),(n=n.alternate)&&Iv(n,i)}function B1(){return null}var Fv=typeof reportError=="function"?reportError:function(n){console.error(n)};function om(n){this._internalRoot=n}_d.prototype.render=om.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));yd(n,i,null,null)},_d.prototype.unmount=om.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Zi(function(){yd(null,n,null,null)}),i[en]=null}};function _d(n){this._internalRoot=n}_d.prototype.unstable_scheduleHydration=function(n){if(n){var i=ja();n={blockedOn:null,target:n,priority:i};for(var u=0;u<An.length&&i!==0&&i<An[u].priority;u++);An.splice(u,0,n),u===0&&Ca(n)}};function im(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function $v(){}function U1(n,i,u,m,y){if(y){if(typeof m=="function"){var N=m;m=function(){var ce=wd(R);N.call(ce)}}var R=Ov(i,m,n,0,null,!1,!1,"",$v);return n._reactRootContainer=R,n[en]=R.current,$o(n.nodeType===8?n.parentNode:n),Zi(),R}for(;y=n.lastChild;)n.removeChild(y);if(typeof m=="function"){var B=m;m=function(){var ce=wd(G);B.call(ce)}}var G=rm(n,0,!1,null,null,!1,!1,"",$v);return n._reactRootContainer=G,n[en]=G.current,$o(n.nodeType===8?n.parentNode:n),Zi(function(){yd(i,G,u,m)}),G}function Nd(n,i,u,m,y){var N=u._reactRootContainer;if(N){var R=N;if(typeof y=="function"){var B=y;y=function(){var G=wd(R);B.call(G)}}yd(i,R,n,y)}else R=U1(u,i,n,y,m);return wd(R)}Na=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var u=St(i.pendingLanes);u!==0&&(ls(i,u|1),xr(i,yn()),(Zt&6)===0&&(nl=yn()+500,Vo()))}break;case 13:Zi(function(){var m=co(n,1);if(m!==null){var y=or();vs(m,n,1,y)}}),sm(n,1)}},Gs=function(n){if(n.tag===13){var i=co(n,134217728);if(i!==null){var u=or();vs(i,n,134217728,u)}sm(n,134217728)}},Sa=function(n){if(n.tag===13){var i=Xo(n),u=co(n,i);if(u!==null){var m=or();vs(u,n,i,m)}sm(n,i)}},ja=function(){return Wt},Ei=function(n,i){var u=Wt;try{return Wt=n,i()}finally{Wt=u}},Fe=function(n,i,u){switch(i){case"input":if(q(n,u),i=u.name,u.type==="radio"&&i!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var m=u[i];if(m!==n&&m.form===n.form){var y=Ha(m);if(!y)throw Error(r(90));Ze(m),q(m,y)}}}break;case"textarea":Vt(n,u);break;case"select":i=u.value,i!=null&&Ye(n,!!u.multiple,i,!1)}},Me=Xh,$e=Zi;var H1={usingClientEntryPoint:!1,Events:[so,oo,Ha,de,Re,Xh]},Pc={findFiberByHostInstance:ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W1={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=mu(n),n===null?null:n.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||B1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{ji=Sd.inject(W1),jr=Sd}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1,yr.createPortal=function(n,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(i))throw Error(r(200));return z1(n,i,null,u)},yr.createRoot=function(n,i){if(!im(n))throw Error(r(299));var u=!1,m="",y=Fv;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=rm(n,1,!1,null,null,u,!1,m,y),n[en]=i.current,$o(n.nodeType===8?n.parentNode:n),new om(i)},yr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=mu(i),n=n===null?null:n.stateNode,n},yr.flushSync=function(n){return Zi(n)},yr.hydrate=function(n,i,u){if(!bd(i))throw Error(r(200));return Nd(null,n,i,!0,u)},yr.hydrateRoot=function(n,i,u){if(!im(n))throw Error(r(405));var m=u!=null&&u.hydratedSources||null,y=!1,N="",R=Fv;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),i=Ov(i,null,n,1,u??null,y,!1,N,R),n[en]=i.current,$o(n),m)for(n=0;n<m.length;n++)u=m[n],y=u._getVersion,y=y(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,y]:i.mutableSourceEagerHydrationData.push(u,y);return new _d(i)},yr.render=function(n,i,u){if(!bd(i))throw Error(r(200));return Nd(null,n,i,!1,u)},yr.unmountComponentAtNode=function(n){if(!bd(n))throw Error(r(40));return n._reactRootContainer?(Zi(function(){Nd(null,null,n,!1,function(){n._reactRootContainer=null,n[en]=null})}),!0):!1},yr.unstable_batchedUpdates=Xh,yr.unstable_renderSubtreeIntoContainer=function(n,i,u,m){if(!bd(u))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Nd(n,i,u,!1,m)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var Yv;function ky(){if(Yv)return fm.exports;Yv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fm.exports=sN(),fm.exports}var pa=ky();const lf=wp(pa);function lt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(c){if(e==null||e(c),r===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function oN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function My(...e){return t=>e.forEach(r=>oN(r,t))}function $t(...e){return g.useCallback(My(...e),e)}function Rl(e,t=[]){let r=[];function a(d,f){const p=g.createContext(f),v=r.length;r=[...r,f];function w(b){const{scope:S,children:k,...P}=b,j=(S==null?void 0:S[e][v])||p,E=g.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:E,children:k})}function _(b,S){const k=(S==null?void 0:S[e][v])||p,P=g.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return w.displayName=d+"Provider",[w,_]}const c=()=>{const d=r.map(f=>g.createContext(f));return function(p){const v=(p==null?void 0:p[e])||d;return g.useMemo(()=>({[`__scope${e}`]:{...p,[e]:v}}),[p,v])}};return c.scopeName=e,[a,iN(c,...t)]}function iN(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:v,scopeName:w})=>{const b=v(d)[`__scope${w}`];return{...p,...b}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var ca=g.forwardRef((e,t)=>{const{children:r,...a}=e,c=g.Children.toArray(r),d=c.find(aN);if(d){const f=d.props.children,p=c.map(v=>v===d?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:v);return o.jsx(Im,{...a,ref:t,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return o.jsx(Im,{...a,ref:t,children:r})});ca.displayName="Slot";var Im=g.forwardRef((e,t)=>{const{children:r,...a}=e;if(g.isValidElement(r)){const c=cN(r);return g.cloneElement(r,{...lN(a,r.props),ref:t?My(t,c):c})}return g.Children.count(r)>1?g.Children.only(null):null});Im.displayName="SlotClone";var Ry=({children:e})=>o.jsx(o.Fragment,{children:e});function aN(e){return g.isValidElement(e)&&e.type===Ry}function lN(e,t){const r={...t};for(const a in t){const c=e[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?r[a]=(...p)=>{d(...p),c(...p)}:c&&(r[a]=c):a==="style"?r[a]={...c,...d}:a==="className"&&(r[a]=[c,d].filter(Boolean).join(" "))}return{...e,...r}}function cN(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ly(e){const t=e+"CollectionProvider",[r,a]=Rl(t),[c,d]=r(t,{collectionRef:{current:null},itemMap:new Map}),f=k=>{const{scope:P,children:j}=k,E=Ue.useRef(null),T=Ue.useRef(new Map).current;return o.jsx(c,{scope:P,itemMap:T,collectionRef:E,children:j})};f.displayName=t;const p=e+"CollectionSlot",v=Ue.forwardRef((k,P)=>{const{scope:j,children:E}=k,T=d(p,j),D=$t(P,T.collectionRef);return o.jsx(ca,{ref:D,children:E})});v.displayName=p;const w=e+"CollectionItemSlot",_="data-radix-collection-item",b=Ue.forwardRef((k,P)=>{const{scope:j,children:E,...T}=k,D=Ue.useRef(null),M=$t(P,D),O=d(w,j);return Ue.useEffect(()=>(O.itemMap.set(D,{ref:D,...T}),()=>void O.itemMap.delete(D))),o.jsx(ca,{[_]:"",ref:M,children:E})});b.displayName=w;function S(k){const P=d(e+"CollectionConsumer",k);return Ue.useCallback(()=>{const E=P.collectionRef.current;if(!E)return[];const T=Array.from(E.querySelectorAll(`[${_}]`));return Array.from(P.itemMap.values()).sort((O,I)=>T.indexOf(O.ref.current)-T.indexOf(I.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:f,Slot:v,ItemSlot:b},S,a]}var uN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],jt=uN.reduce((e,t)=>{const r=g.forwardRef((a,c)=>{const{asChild:d,...f}=a,p=d?ca:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(p,{...f,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function cf(e,t){e&&pa.flushSync(()=>e.dispatchEvent(t))}function xn(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function bp(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e);g.useEffect(()=>{const a=c=>{c.key==="Escape"&&r(c)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var dN="DismissableLayer",Fm="dismissableLayer.update",fN="dismissableLayer.pointerDownOutside",hN="dismissableLayer.focusOutside",Kv,Ay=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dy=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...v}=e,w=g.useContext(Ay),[_,b]=g.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=g.useState({}),P=$t(t,H=>b(H)),j=Array.from(w.layers),[E]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(E),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=T,I=pN(H=>{const ne=H.target,V=[...w.branches].some(Y=>Y.contains(ne));!O||V||(c==null||c(H),f==null||f(H),H.defaultPrevented||p==null||p())},S),Z=gN(H=>{const ne=H.target;[...w.branches].some(Y=>Y.contains(ne))||(d==null||d(H),f==null||f(H),H.defaultPrevented||p==null||p())},S);return bp(H=>{D===w.layers.size-1&&(a==null||a(H),!H.defaultPrevented&&p&&(H.preventDefault(),p()))},S),g.useEffect(()=>{if(_)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(Kv=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),Xv(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Kv)}},[_,S,r,w]),g.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),Xv())},[_,w]),g.useEffect(()=>{const H=()=>k({});return document.addEventListener(Fm,H),()=>document.removeEventListener(Fm,H)},[]),o.jsx(jt.div,{...v,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,I.onPointerDownCapture)})});Dy.displayName=dN;var mN="DismissableLayerBranch",Oy=g.forwardRef((e,t)=>{const r=g.useContext(Ay),a=g.useRef(null),c=$t(t,a);return g.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(jt.div,{...e,ref:c})});Oy.displayName=mN;function pN(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1),c=g.useRef(()=>{});return g.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let v=function(){Iy(fN,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=v,t.addEventListener("click",c.current,{once:!0})):v()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function gN(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1);return g.useEffect(()=>{const c=d=>{d.target&&!a.current&&Iy(hN,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Xv(){const e=new CustomEvent(Fm);document.dispatchEvent(e)}function Iy(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var vN=Dy,xN=Oy,Sn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},yN="Portal",Fy=g.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=g.useState(!1);Sn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?lf.createPortal(o.jsx(jt.div,{...a,ref:t}),f):null});Fy.displayName=yN;function wN(e,t){return g.useReducer((r,a)=>t[r][a]??r,e)}var ga=e=>{const{present:t,children:r}=e,a=_N(t),c=typeof r=="function"?r({present:a.isPresent}):g.Children.only(r),d=$t(a.ref,bN(c));return typeof r=="function"||a.isPresent?g.cloneElement(c,{ref:d}):null};ga.displayName="Presence";function _N(e){const[t,r]=g.useState(),a=g.useRef({}),c=g.useRef(e),d=g.useRef("none"),f=e?"mounted":"unmounted",[p,v]=wN(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const w=Cd(a.current);d.current=p==="mounted"?w:"none"},[p]),Sn(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,k=Cd(w);e?v("MOUNT"):k==="none"||(w==null?void 0:w.display)==="none"?v("UNMOUNT"):v(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,v]),Sn(()=>{if(t){const w=b=>{const k=Cd(a.current).includes(b.animationName);b.target===t&&k&&pa.flushSync(()=>v("ANIMATION_END"))},_=b=>{b.target===t&&(d.current=Cd(a.current))};return t.addEventListener("animationstart",_),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{t.removeEventListener("animationstart",_),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:g.useCallback(w=>{w&&(a.current=getComputedStyle(w)),r(w)},[])}}function Cd(e){return(e==null?void 0:e.animationName)||"none"}function bN(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Wc({prop:e,defaultProp:t,onChange:r=()=>{}}){const[a,c]=NN({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:a,p=xn(r),v=g.useCallback(w=>{if(d){const b=typeof w=="function"?w(e):w;b!==e&&p(b)}else c(w)},[d,e,c,p]);return[f,v]}function NN({defaultProp:e,onChange:t}){const r=g.useState(e),[a]=r,c=g.useRef(a),d=xn(t);return g.useEffect(()=>{c.current!==a&&(d(a),c.current=a)},[a,c,d]),r}var SN="VisuallyHidden",nu=g.forwardRef((e,t)=>o.jsx(jt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));nu.displayName=SN;var jN=nu,Np="ToastProvider",[Sp,CN,EN]=Ly("Toast"),[$y,zL]=Rl("Toast",[EN]),[PN,uf]=$y(Np),zy=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:f}=e,[p,v]=g.useState(null),[w,_]=g.useState(0),b=g.useRef(!1),S=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Np}\`. Expected non-empty \`string\`.`),o.jsx(Sp.Provider,{scope:t,children:o.jsx(PN,{scope:t,label:r,duration:a,swipeDirection:c,swipeThreshold:d,toastCount:w,viewport:p,onViewportChange:v,onToastAdd:g.useCallback(()=>_(k=>k+1),[]),onToastRemove:g.useCallback(()=>_(k=>k-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:S,children:f})})};zy.displayName=Np;var By="ToastViewport",TN=["F8"],$m="toast.viewportPause",zm="toast.viewportResume",Uy=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=TN,label:c="Notifications ({hotkey})",...d}=e,f=uf(By,r),p=CN(r),v=g.useRef(null),w=g.useRef(null),_=g.useRef(null),b=g.useRef(null),S=$t(t,b,f.onViewportChange),k=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=f.toastCount>0;g.useEffect(()=>{const E=T=>{var M;a.every(O=>T[O]||T.code===O)&&((M=b.current)==null||M.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[a]),g.useEffect(()=>{const E=v.current,T=b.current;if(P&&E&&T){const D=()=>{if(!f.isClosePausedRef.current){const Z=new CustomEvent($m);T.dispatchEvent(Z),f.isClosePausedRef.current=!0}},M=()=>{if(f.isClosePausedRef.current){const Z=new CustomEvent(zm);T.dispatchEvent(Z),f.isClosePausedRef.current=!1}},O=Z=>{!E.contains(Z.relatedTarget)&&M()},I=()=>{E.contains(document.activeElement)||M()};return E.addEventListener("focusin",D),E.addEventListener("focusout",O),E.addEventListener("pointermove",D),E.addEventListener("pointerleave",I),window.addEventListener("blur",D),window.addEventListener("focus",M),()=>{E.removeEventListener("focusin",D),E.removeEventListener("focusout",O),E.removeEventListener("pointermove",D),E.removeEventListener("pointerleave",I),window.removeEventListener("blur",D),window.removeEventListener("focus",M)}}},[P,f.isClosePausedRef]);const j=g.useCallback(({tabbingDirection:E})=>{const D=p().map(M=>{const O=M.ref.current,I=[O,...UN(O)];return E==="forwards"?I:I.reverse()});return(E==="forwards"?D.reverse():D).flat()},[p]);return g.useEffect(()=>{const E=b.current;if(E){const T=D=>{var I,Z,H;const M=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!M){const ne=document.activeElement,V=D.shiftKey;if(D.target===E&&V){(I=w.current)==null||I.focus();return}const fe=j({tabbingDirection:V?"backwards":"forwards"}),Ie=fe.findIndex(he=>he===ne);pm(fe.slice(Ie+1))?D.preventDefault():V?(Z=w.current)==null||Z.focus():(H=_.current)==null||H.focus()}};return E.addEventListener("keydown",T),()=>E.removeEventListener("keydown",T)}},[p,j]),o.jsxs(xN,{ref:v,role:"region","aria-label":c.replace("{hotkey}",k),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&o.jsx(Bm,{ref:w,onFocusFromOutsideViewport:()=>{const E=j({tabbingDirection:"forwards"});pm(E)}}),o.jsx(Sp.Slot,{scope:r,children:o.jsx(jt.ol,{tabIndex:-1,...d,ref:S})}),P&&o.jsx(Bm,{ref:_,onFocusFromOutsideViewport:()=>{const E=j({tabbingDirection:"backwards"});pm(E)}})]})});Uy.displayName=By;var Hy="ToastFocusProxy",Bm=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...c}=e,d=uf(Hy,r);return o.jsx(nu,{"aria-hidden":!0,tabIndex:0,...c,ref:t,style:{position:"fixed"},onFocus:f=>{var w;const p=f.relatedTarget;!((w=d.viewport)!=null&&w.contains(p))&&a()}})});Bm.displayName=Hy;var df="Toast",kN="toast.swipeStart",MN="toast.swipeMove",RN="toast.swipeCancel",LN="toast.swipeEnd",Wy=g.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:c,onOpenChange:d,...f}=e,[p=!0,v]=Wc({prop:a,defaultProp:c,onChange:d});return o.jsx(ga,{present:r||p,children:o.jsx(ON,{open:p,...f,ref:t,onClose:()=>v(!1),onPause:xn(e.onPause),onResume:xn(e.onResume),onSwipeStart:lt(e.onSwipeStart,w=>{w.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:lt(e.onSwipeMove,w=>{const{x:_,y:b}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","move"),w.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:lt(e.onSwipeCancel,w=>{w.currentTarget.setAttribute("data-swipe","cancel"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:lt(e.onSwipeEnd,w=>{const{x:_,y:b}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","end"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),v(!1)})})})});Wy.displayName=df;var[AN,DN]=$y(df,{onClose(){}}),ON=g.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:c,open:d,onClose:f,onEscapeKeyDown:p,onPause:v,onResume:w,onSwipeStart:_,onSwipeMove:b,onSwipeCancel:S,onSwipeEnd:k,...P}=e,j=uf(df,r),[E,T]=g.useState(null),D=$t(t,he=>T(he)),M=g.useRef(null),O=g.useRef(null),I=c||j.duration,Z=g.useRef(0),H=g.useRef(I),ne=g.useRef(0),{onToastAdd:V,onToastRemove:Y}=j,te=xn(()=>{var Be;(E==null?void 0:E.contains(document.activeElement))&&((Be=j.viewport)==null||Be.focus()),f()}),fe=g.useCallback(he=>{!he||he===1/0||(window.clearTimeout(ne.current),Z.current=new Date().getTime(),ne.current=window.setTimeout(te,he))},[te]);g.useEffect(()=>{const he=j.viewport;if(he){const Be=()=>{fe(H.current),w==null||w()},ee=()=>{const xe=new Date().getTime()-Z.current;H.current=H.current-xe,window.clearTimeout(ne.current),v==null||v()};return he.addEventListener($m,ee),he.addEventListener(zm,Be),()=>{he.removeEventListener($m,ee),he.removeEventListener(zm,Be)}}},[j.viewport,I,v,w,fe]),g.useEffect(()=>{d&&!j.isClosePausedRef.current&&fe(I)},[d,I,j.isClosePausedRef,fe]),g.useEffect(()=>(V(),()=>Y()),[V,Y]);const Ie=g.useMemo(()=>E?Xy(E):null,[E]);return j.viewport?o.jsxs(o.Fragment,{children:[Ie&&o.jsx(IN,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:Ie}),o.jsx(AN,{scope:r,onClose:te,children:pa.createPortal(o.jsx(Sp.ItemSlot,{scope:r,children:o.jsx(vN,{asChild:!0,onEscapeKeyDown:lt(p,()=>{j.isFocusedToastEscapeKeyDownRef.current||te(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(jt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":j.swipeDirection,...P,ref:D,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:lt(e.onKeyDown,he=>{he.key==="Escape"&&(p==null||p(he.nativeEvent),he.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,te()))}),onPointerDown:lt(e.onPointerDown,he=>{he.button===0&&(M.current={x:he.clientX,y:he.clientY})}),onPointerMove:lt(e.onPointerMove,he=>{if(!M.current)return;const Be=he.clientX-M.current.x,ee=he.clientY-M.current.y,xe=!!O.current,U=["left","right"].includes(j.swipeDirection),ue=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,oe=U?ue(0,Be):0,z=U?0:ue(0,ee),J=he.pointerType==="touch"?10:2,Ne={x:oe,y:z},ke={originalEvent:he,delta:Ne};xe?(O.current=Ne,Ed(MN,b,ke,{discrete:!1})):Qv(Ne,j.swipeDirection,J)?(O.current=Ne,Ed(kN,_,ke,{discrete:!1}),he.target.setPointerCapture(he.pointerId)):(Math.abs(Be)>J||Math.abs(ee)>J)&&(M.current=null)}),onPointerUp:lt(e.onPointerUp,he=>{const Be=O.current,ee=he.target;if(ee.hasPointerCapture(he.pointerId)&&ee.releasePointerCapture(he.pointerId),O.current=null,M.current=null,Be){const xe=he.currentTarget,U={originalEvent:he,delta:Be};Qv(Be,j.swipeDirection,j.swipeThreshold)?Ed(LN,k,U,{discrete:!0}):Ed(RN,S,U,{discrete:!0}),xe.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),IN=e=>{const{__scopeToast:t,children:r,...a}=e,c=uf(df,t),[d,f]=g.useState(!1),[p,v]=g.useState(!1);return zN(()=>f(!0)),g.useEffect(()=>{const w=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(w)},[]),p?null:o.jsx(Fy,{asChild:!0,children:o.jsx(nu,{...a,children:d&&o.jsxs(o.Fragment,{children:[c.label," ",r]})})})},FN="ToastTitle",Vy=g.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return o.jsx(jt.div,{...a,ref:t})});Vy.displayName=FN;var $N="ToastDescription",Zy=g.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return o.jsx(jt.div,{...a,ref:t})});Zy.displayName=$N;var qy="ToastAction",Gy=g.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?o.jsx(Ky,{altText:r,asChild:!0,children:o.jsx(jp,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${qy}\`. Expected non-empty \`string\`.`),null)});Gy.displayName=qy;var Yy="ToastClose",jp=g.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,c=DN(Yy,r);return o.jsx(Ky,{asChild:!0,children:o.jsx(jt.button,{type:"button",...a,ref:t,onClick:lt(e.onClick,c.onClose)})})});jp.displayName=Yy;var Ky=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...c}=e;return o.jsx(jt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...c,ref:t})});function Xy(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),BN(a)){const c=a.ariaHidden||a.hidden||a.style.display==="none",d=a.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const f=a.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...Xy(a))}}),t}function Ed(e,t,r,{discrete:a}){const c=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var Qv=(e,t,r=0)=>{const a=Math.abs(e.x),c=Math.abs(e.y),d=a>c;return t==="left"||t==="right"?d&&a>r:!d&&c>r};function zN(e=()=>{}){const t=xn(e);Sn(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function BN(e){return e.nodeType===e.ELEMENT_NODE}function UN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var HN=zy,Qy=Uy,Jy=Wy,ew=Vy,tw=Zy,nw=Gy,rw=jp;function sw(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(r=sw(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function ow(){for(var e,t,r=0,a="",c=arguments.length;r<c;r++)(e=arguments[r])&&(t=sw(e))&&(a&&(a+=" "),a+=t);return a}const Jv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ex=ow,ru=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return ex(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:c,defaultVariants:d}=t,f=Object.keys(c).map(w=>{const _=r==null?void 0:r[w],b=d==null?void 0:d[w];if(_===null)return null;const S=Jv(_)||Jv(b);return c[w][S]}),p=r&&Object.entries(r).reduce((w,_)=>{let[b,S]=_;return S===void 0||(w[b]=S),w},{}),v=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((w,_)=>{let{class:b,className:S,...k}=_;return Object.entries(k).every(P=>{let[j,E]=P;return Array.isArray(E)?E.includes({...d,...p}[j]):{...d,...p}[j]===E})?[...w,b,S]:w},[]);return ex(e,f,v,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iw=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:f,...p},v)=>g.createElement("svg",{ref:v,...VN,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:iw("lucide",c),...p},[...f.map(([w,_])=>g.createElement(w,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const r=g.forwardRef(({className:a,...c},d)=>g.createElement(ZN,{ref:d,iconNode:t,className:iw(`lucide-${WN(e)}`,a),...c}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ct("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ct("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=ct("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=ct("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ct("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=ct("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ct("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=ct("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ct("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ct("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=ct("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ct("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ct("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ct("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ct("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ct("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=ct("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ct("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=ct("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ct("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ct("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ct("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ct("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=ct("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ct("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ct("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ct("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ct("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=ct("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kp="-",rS=e=>{const t=oS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:f=>{const p=f.split(kp);return p[0]===""&&p.length!==1&&p.shift(),vw(p,t)||sS(f)},getConflictingClassGroupIds:(f,p)=>{const v=r[f]||[];return p&&a[f]?[...v,...a[f]]:v}}},vw=(e,t)=>{var f;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),c=a?vw(e.slice(1),a):void 0;if(c)return c;if(t.validators.length===0)return;const d=e.join(kp);return(f=t.validators.find(({validator:p})=>p(d)))==null?void 0:f.classGroupId},ox=/^\[(.+)\]$/,sS=e=>{if(ox.test(e)){const t=ox.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},oS=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return aS(Object.entries(e.classGroups),r).forEach(([d,f])=>{Vm(f,a,d,t)}),a},Vm=(e,t,r,a)=>{e.forEach(c=>{if(typeof c=="string"){const d=c===""?t:ix(t,c);d.classGroupId=r;return}if(typeof c=="function"){if(iS(c)){Vm(c(a),t,r,a);return}t.validators.push({validator:c,classGroupId:r});return}Object.entries(c).forEach(([d,f])=>{Vm(f,ix(t,d),r,a)})})},ix=(e,t)=>{let r=e;return t.split(kp).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},iS=e=>e.isThemeGetter,aS=(e,t)=>t?e.map(([r,a])=>{const c=a.map(d=>typeof d=="string"?t+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([f,p])=>[t+f,p])):d);return[r,c]}):e,lS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const c=(d,f)=>{r.set(d,f),t++,t>e&&(t=0,a=r,r=new Map)};return{get(d){let f=r.get(d);if(f!==void 0)return f;if((f=a.get(d))!==void 0)return c(d,f),f},set(d,f){r.has(d)?r.set(d,f):c(d,f)}}},xw="!",cS=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,c=t[0],d=t.length,f=p=>{const v=[];let w=0,_=0,b;for(let E=0;E<p.length;E++){let T=p[E];if(w===0){if(T===c&&(a||p.slice(E,E+d)===t)){v.push(p.slice(_,E)),_=E+d;continue}if(T==="/"){b=E;continue}}T==="["?w++:T==="]"&&w--}const S=v.length===0?p:p.substring(_),k=S.startsWith(xw),P=k?S.substring(1):S,j=b&&b>_?b-_:void 0;return{modifiers:v,hasImportantModifier:k,baseClassName:P,maybePostfixModifierPosition:j}};return r?p=>r({className:p,parseClassName:f}):f},uS=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},dS=e=>({cache:lS(e.cacheSize),parseClassName:cS(e),...rS(e)}),fS=/\s+/,hS=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:c}=t,d=[],f=e.trim().split(fS);let p="";for(let v=f.length-1;v>=0;v-=1){const w=f[v],{modifiers:_,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:k}=r(w);let P=!!k,j=a(P?S.substring(0,k):S);if(!j){if(!P){p=w+(p.length>0?" "+p:p);continue}if(j=a(S),!j){p=w+(p.length>0?" "+p:p);continue}P=!1}const E=uS(_).join(":"),T=b?E+xw:E,D=T+j;if(d.includes(D))continue;d.push(D);const M=c(j,P);for(let O=0;O<M.length;++O){const I=M[O];d.push(T+I)}p=w+(p.length>0?" "+p:p)}return p};function mS(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=yw(t))&&(a&&(a+=" "),a+=r);return a}const yw=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=yw(e[a]))&&(r&&(r+=" "),r+=t);return r};function pS(e,...t){let r,a,c,d=f;function f(v){const w=t.reduce((_,b)=>b(_),e());return r=dS(w),a=r.cache.get,c=r.cache.set,d=p,p(v)}function p(v){const w=a(v);if(w)return w;const _=hS(v,r);return c(v,_),_}return function(){return d(mS.apply(null,arguments))}}const mn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ww=/^\[(?:([a-z-]+):)?(.+)\]$/i,gS=/^\d+\/\d+$/,vS=new Set(["px","full","screen"]),xS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_S=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mo=e=>pl(e)||vS.has(e)||gS.test(e),ti=e=>Ll(e,"length",kS),pl=e=>!!e&&!Number.isNaN(Number(e)),xm=e=>Ll(e,"number",pl),kc=e=>!!e&&Number.isInteger(Number(e)),NS=e=>e.endsWith("%")&&pl(e.slice(0,-1)),Rt=e=>ww.test(e),ni=e=>xS.test(e),SS=new Set(["length","size","percentage"]),jS=e=>Ll(e,SS,_w),CS=e=>Ll(e,"position",_w),ES=new Set(["image","url"]),PS=e=>Ll(e,ES,RS),TS=e=>Ll(e,"",MS),Mc=()=>!0,Ll=(e,t,r)=>{const a=ww.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},kS=e=>yS.test(e)&&!wS.test(e),_w=()=>!1,MS=e=>_S.test(e),RS=e=>bS.test(e),LS=()=>{const e=mn("colors"),t=mn("spacing"),r=mn("blur"),a=mn("brightness"),c=mn("borderColor"),d=mn("borderRadius"),f=mn("borderSpacing"),p=mn("borderWidth"),v=mn("contrast"),w=mn("grayscale"),_=mn("hueRotate"),b=mn("invert"),S=mn("gap"),k=mn("gradientColorStops"),P=mn("gradientColorStopPositions"),j=mn("inset"),E=mn("margin"),T=mn("opacity"),D=mn("padding"),M=mn("saturate"),O=mn("scale"),I=mn("sepia"),Z=mn("skew"),H=mn("space"),ne=mn("translate"),V=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],te=()=>["auto",Rt,t],fe=()=>[Rt,t],Ie=()=>["",mo,ti],he=()=>["auto",pl,Rt],Be=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",Rt],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[pl,Rt];return{cacheSize:500,separator:":",theme:{colors:[Mc],spacing:[mo,ti],blur:["none","",ni,Rt],brightness:z(),borderColor:[e],borderRadius:["none","","full",ni,Rt],borderSpacing:fe(),borderWidth:Ie(),contrast:z(),grayscale:ue(),hueRotate:z(),invert:ue(),gap:fe(),gradientColorStops:[e],gradientColorStopPositions:[NS,ti],inset:te(),margin:te(),opacity:z(),padding:fe(),saturate:z(),scale:z(),sepia:ue(),skew:z(),space:fe(),translate:fe()},classGroups:{aspect:[{aspect:["auto","square","video",Rt]}],container:["container"],columns:[{columns:[ni]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Be(),Rt]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kc,Rt]}],basis:[{basis:te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rt]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",kc,Rt]}],"grid-cols":[{"grid-cols":[Mc]}],"col-start-end":[{col:["auto",{span:["full",kc,Rt]},Rt]}],"col-start":[{"col-start":he()}],"col-end":[{"col-end":he()}],"grid-rows":[{"grid-rows":[Mc]}],"row-start-end":[{row:["auto",{span:[kc,Rt]},Rt]}],"row-start":[{"row-start":he()}],"row-end":[{"row-end":he()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rt]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rt,t]}],"min-w":[{"min-w":[Rt,t,"min","max","fit"]}],"max-w":[{"max-w":[Rt,t,"none","full","min","max","fit","prose",{screen:[ni]},ni]}],h:[{h:[Rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ni,ti]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xm]}],"font-family":[{font:[Mc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rt]}],"line-clamp":[{"line-clamp":["none",pl,xm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",mo,Rt]}],"list-image":[{"list-image":["none",Rt]}],"list-style-type":[{list:["none","disc","decimal",Rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",mo,ti]}],"underline-offset":[{"underline-offset":["auto",mo,Rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:fe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Be(),CS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},PS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:ee()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[mo,Rt]}],"outline-w":[{outline:[mo,ti]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[mo,ti]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ni,TS]}],"shadow-color":[{shadow:[Mc]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",ni,Rt]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[b]}],saturate:[{saturate:[M]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rt]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Rt]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[kc,Rt]}],"translate-x":[{"translate-x":[ne]}],"translate-y":[{"translate-y":[ne]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":fe()}],"scroll-mx":[{"scroll-mx":fe()}],"scroll-my":[{"scroll-my":fe()}],"scroll-ms":[{"scroll-ms":fe()}],"scroll-me":[{"scroll-me":fe()}],"scroll-mt":[{"scroll-mt":fe()}],"scroll-mr":[{"scroll-mr":fe()}],"scroll-mb":[{"scroll-mb":fe()}],"scroll-ml":[{"scroll-ml":fe()}],"scroll-p":[{"scroll-p":fe()}],"scroll-px":[{"scroll-px":fe()}],"scroll-py":[{"scroll-py":fe()}],"scroll-ps":[{"scroll-ps":fe()}],"scroll-pe":[{"scroll-pe":fe()}],"scroll-pt":[{"scroll-pt":fe()}],"scroll-pr":[{"scroll-pr":fe()}],"scroll-pb":[{"scroll-pb":fe()}],"scroll-pl":[{"scroll-pl":fe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[mo,ti,xm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AS=pS(LS);function yt(...e){return AS(ow(e))}const DS=HN,bw=g.forwardRef(({className:e,...t},r)=>o.jsx(Qy,{ref:r,className:yt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bw.displayName=Qy.displayName;const OS=ru("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Nw=g.forwardRef(({className:e,variant:t,...r},a)=>o.jsx(Jy,{ref:a,className:yt(OS({variant:t}),e),...r}));Nw.displayName=Jy.displayName;const IS=g.forwardRef(({className:e,...t},r)=>o.jsx(nw,{ref:r,className:yt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));IS.displayName=nw.displayName;const Sw=g.forwardRef(({className:e,...t},r)=>o.jsx(rw,{ref:r,className:yt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(ou,{className:"h-4 w-4"})}));Sw.displayName=rw.displayName;const jw=g.forwardRef(({className:e,...t},r)=>o.jsx(ew,{ref:r,className:yt("text-sm font-semibold",e),...t}));jw.displayName=ew.displayName;const Cw=g.forwardRef(({className:e,...t},r)=>o.jsx(tw,{ref:r,className:yt("text-sm opacity-90",e),...t}));Cw.displayName=tw.displayName;function FS(){const{toasts:e}=_o();return o.jsxs(DS,{children:[e.map(function({id:t,title:r,description:a,action:c,...d}){return o.jsxs(Nw,{...d,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(jw,{children:r}),a&&o.jsx(Cw,{children:a})]}),c,o.jsx(Sw,{})]},t)}),o.jsx(bw,{})]})}var Pd={},ax;function $S(){if(ax)return Pd;ax=1;var e=ky();return Pd.createRoot=e.createRoot,Pd.hydrateRoot=e.hydrateRoot,Pd}var zS=$S(),lx=["light","dark"],BS="(prefers-color-scheme: dark)",US=g.createContext(void 0),HS={setTheme:e=>{},themes:[]},WS=()=>{var e;return(e=g.useContext(US))!=null?e:HS};g.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:c,defaultTheme:d,value:f,attrs:p,nonce:v})=>{let w=d==="system",_=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${p.map(P=>`'${P}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,b=c?lx.includes(d)&&d?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${d}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",S=(P,j=!1,E=!0)=>{let T=f?f[P]:P,D=j?P+"|| ''":`'${T}'`,M="";return c&&E&&!j&&lx.includes(P)&&(M+=`d.style.colorScheme = '${P}';`),r==="class"?j||T?M+=`c.add(${D})`:M+="null":T&&(M+=`d[s](n,${D})`),M},k=e?`!function(){${_}${S(e)}}()`:a?`!function(){try{${_}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${w})){var t='${BS}',m=window.matchMedia(t);if(m.media!==t||m.matches){${S("dark")}}else{${S("light")}}}else if(e){${f?`var x=${JSON.stringify(f)};`:""}${S(f?"x[e]":"e",!0)}}${w?"":"else{"+S(d,!1,!1)+"}"}${b}}catch(e){}}()`:`!function(){try{${_}var e=localStorage.getItem('${t}');if(e){${f?`var x=${JSON.stringify(f)};`:""}${S(f?"x[e]":"e",!0)}}else{${S(d,!1,!1)};}${b}}catch(t){}}();`;return g.createElement("script",{nonce:v,dangerouslySetInnerHTML:{__html:k}})});var VS=e=>{switch(e){case"success":return GS;case"info":return KS;case"warning":return YS;case"error":return XS;default:return null}},ZS=Array(12).fill(0),qS=({visible:e})=>Ue.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Ue.createElement("div",{className:"sonner-spinner"},ZS.map((t,r)=>Ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),GS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),XS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),QS=()=>{let[e,t]=Ue.useState(document.hidden);return Ue.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Zm=1,JS=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...a}=e,c=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Zm++,d=this.toasts.find(p=>p.id===c),f=e.dismissible===void 0?!0:e.dismissible;return d?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...e,id:c,title:r}),{...p,...e,id:c,dismissible:f,title:r}):p):this.addToast({title:r,...a,dismissible:f,id:c}),c},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=e instanceof Promise?e:e(),c=r!==void 0;return a.then(async d=>{if(tj(d)&&!d.ok){c=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:r,type:"error",message:f,description:p})}else if(t.success!==void 0){c=!1;let f=typeof t.success=="function"?await t.success(d):t.success,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"success",message:f,description:p})}}).catch(async d=>{if(t.error!==void 0){c=!1;let f=typeof t.error=="function"?await t.error(d):t.error,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"error",message:f,description:p})}}).finally(()=>{var d;c&&(this.dismiss(r),r=void 0),(d=t.finally)==null||d.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Zm++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Ir=new JS,ej=(e,t)=>{let r=(t==null?void 0:t.id)||Zm++;return Ir.addToast({title:e,...t,id:r}),r},tj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nj=ej,rj=()=>Ir.toasts;Object.assign(nj,{success:Ir.success,info:Ir.info,warning:Ir.warning,error:Ir.error,custom:Ir.custom,message:Ir.message,promise:Ir.promise,dismiss:Ir.dismiss,loading:Ir.loading},{getHistory:rj});function sj(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}sj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Td(e){return e.label!==void 0}var oj=3,ij="32px",aj=4e3,lj=356,cj=14,uj=20,dj=200;function fj(...e){return e.filter(Boolean).join(" ")}var hj=e=>{var t,r,a,c,d,f,p,v,w,_;let{invert:b,toast:S,unstyled:k,interacting:P,setHeights:j,visibleToasts:E,heights:T,index:D,toasts:M,expanded:O,removeToast:I,defaultRichColors:Z,closeButton:H,style:ne,cancelButtonStyle:V,actionButtonStyle:Y,className:te="",descriptionClassName:fe="",duration:Ie,position:he,gap:Be,loadingIcon:ee,expandByDefault:xe,classNames:U,icons:ue,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:z,cn:J}=e,[Ne,ke]=Ue.useState(!1),[Se,$]=Ue.useState(!1),[K,ae]=Ue.useState(!1),[_e,Te]=Ue.useState(!1),[We,Ze]=Ue.useState(0),[nt,Et]=Ue.useState(0),ye=Ue.useRef(null),Ge=Ue.useRef(null),q=D===0,me=D+1<=E,be=S.type,we=S.dismissible!==!1,Ye=S.className||"",ot=S.descriptionClassName||"",it=Ue.useMemo(()=>T.findIndex(ge=>ge.toastId===S.id)||0,[T,S.id]),Vt=Ue.useMemo(()=>{var ge;return(ge=S.closeButton)!=null?ge:H},[S.closeButton,H]),wt=Ue.useMemo(()=>S.duration||Ie||aj,[S.duration,Ie]),_t=Ue.useRef(0),Bt=Ue.useRef(0),qt=Ue.useRef(0),Xt=Ue.useRef(null),[Gt,Je]=he.split("-"),nn=Ue.useMemo(()=>T.reduce((ge,je,Fe)=>Fe>=it?ge:ge+je.height,0),[T,it]),dn=QS(),Ot=S.invert||b,Qt=be==="loading";Bt.current=Ue.useMemo(()=>it*Be+nn,[it,nn]),Ue.useEffect(()=>{ke(!0)},[]),Ue.useLayoutEffect(()=>{if(!Ne)return;let ge=Ge.current,je=ge.style.height;ge.style.height="auto";let Fe=ge.getBoundingClientRect().height;ge.style.height=je,Et(Fe),j(F=>F.find(Q=>Q.toastId===S.id)?F.map(Q=>Q.toastId===S.id?{...Q,height:Fe}:Q):[{toastId:S.id,height:Fe,position:S.position},...F])},[Ne,S.title,S.description,j,S.id]);let Ut=Ue.useCallback(()=>{$(!0),Ze(Bt.current),j(ge=>ge.filter(je=>je.toastId!==S.id)),setTimeout(()=>{I(S)},dj)},[S,I,j,Bt]);Ue.useEffect(()=>{if(S.promise&&be==="loading"||S.duration===1/0||S.type==="loading")return;let ge,je=wt;return O||P||z&&dn?(()=>{if(qt.current<_t.current){let Fe=new Date().getTime()-_t.current;je=je-Fe}qt.current=new Date().getTime()})():je!==1/0&&(_t.current=new Date().getTime(),ge=setTimeout(()=>{var Fe;(Fe=S.onAutoClose)==null||Fe.call(S,S),Ut()},je)),()=>clearTimeout(ge)},[O,P,xe,S,wt,Ut,S.promise,be,z,dn]),Ue.useEffect(()=>{let ge=Ge.current;if(ge){let je=ge.getBoundingClientRect().height;return Et(je),j(Fe=>[{toastId:S.id,height:je,position:S.position},...Fe]),()=>j(Fe=>Fe.filter(F=>F.toastId!==S.id))}},[j,S.id]),Ue.useEffect(()=>{S.delete&&Ut()},[Ut,S.delete]);function Jt(){return ue!=null&&ue.loading?Ue.createElement("div",{className:"sonner-loader","data-visible":be==="loading"},ue.loading):ee?Ue.createElement("div",{className:"sonner-loader","data-visible":be==="loading"},ee):Ue.createElement(qS,{visible:be==="loading"})}return Ue.createElement("li",{"aria-live":S.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ge,className:J(te,Ye,U==null?void 0:U.toast,(t=S==null?void 0:S.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[be],(r=S==null?void 0:S.classNames)==null?void 0:r[be]),"data-sonner-toast":"","data-rich-colors":(a=S.richColors)!=null?a:Z,"data-styled":!(S.jsx||S.unstyled||k),"data-mounted":Ne,"data-promise":!!S.promise,"data-removed":Se,"data-visible":me,"data-y-position":Gt,"data-x-position":Je,"data-index":D,"data-front":q,"data-swiping":K,"data-dismissible":we,"data-type":be,"data-invert":Ot,"data-swipe-out":_e,"data-expanded":!!(O||xe&&Ne),style:{"--index":D,"--toasts-before":D,"--z-index":M.length-D,"--offset":`${Se?We:Bt.current}px`,"--initial-height":xe?"auto":`${nt}px`,...ne,...S.style},onPointerDown:ge=>{Qt||!we||(ye.current=new Date,Ze(Bt.current),ge.target.setPointerCapture(ge.pointerId),ge.target.tagName!=="BUTTON"&&(ae(!0),Xt.current={x:ge.clientX,y:ge.clientY}))},onPointerUp:()=>{var ge,je,Fe,F;if(_e||!we)return;Xt.current=null;let Q=Number(((ge=Ge.current)==null?void 0:ge.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ve=new Date().getTime()-((je=ye.current)==null?void 0:je.getTime()),de=Math.abs(Q)/ve;if(Math.abs(Q)>=uj||de>.11){Ze(Bt.current),(Fe=S.onDismiss)==null||Fe.call(S,S),Ut(),Te(!0);return}(F=Ge.current)==null||F.style.setProperty("--swipe-amount","0px"),ae(!1)},onPointerMove:ge=>{var je;if(!Xt.current||!we)return;let Fe=ge.clientY-Xt.current.y,F=ge.clientX-Xt.current.x,Q=(Gt==="top"?Math.min:Math.max)(0,Fe),ve=ge.pointerType==="touch"?10:2;Math.abs(Q)>ve?(je=Ge.current)==null||je.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(F)>ve&&(Xt.current=null)}},Vt&&!S.jsx?Ue.createElement("button",{"aria-label":oe,"data-disabled":Qt,"data-close-button":!0,onClick:Qt||!we?()=>{}:()=>{var ge;Ut(),(ge=S.onDismiss)==null||ge.call(S,S)},className:J(U==null?void 0:U.closeButton,(c=S==null?void 0:S.classNames)==null?void 0:c.closeButton)},Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,S.jsx||Ue.isValidElement(S.title)?S.jsx||S.title:Ue.createElement(Ue.Fragment,null,be||S.icon||S.promise?Ue.createElement("div",{"data-icon":"",className:J(U==null?void 0:U.icon,(d=S==null?void 0:S.classNames)==null?void 0:d.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||Jt():null,S.type!=="loading"?S.icon||(ue==null?void 0:ue[be])||VS(be):null):null,Ue.createElement("div",{"data-content":"",className:J(U==null?void 0:U.content,(f=S==null?void 0:S.classNames)==null?void 0:f.content)},Ue.createElement("div",{"data-title":"",className:J(U==null?void 0:U.title,(p=S==null?void 0:S.classNames)==null?void 0:p.title)},S.title),S.description?Ue.createElement("div",{"data-description":"",className:J(fe,ot,U==null?void 0:U.description,(v=S==null?void 0:S.classNames)==null?void 0:v.description)},S.description):null),Ue.isValidElement(S.cancel)?S.cancel:S.cancel&&Td(S.cancel)?Ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||V,onClick:ge=>{var je,Fe;Td(S.cancel)&&we&&((Fe=(je=S.cancel).onClick)==null||Fe.call(je,ge),Ut())},className:J(U==null?void 0:U.cancelButton,(w=S==null?void 0:S.classNames)==null?void 0:w.cancelButton)},S.cancel.label):null,Ue.isValidElement(S.action)?S.action:S.action&&Td(S.action)?Ue.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||Y,onClick:ge=>{var je,Fe;Td(S.action)&&(ge.defaultPrevented||((Fe=(je=S.action).onClick)==null||Fe.call(je,ge),Ut()))},className:J(U==null?void 0:U.actionButton,(_=S==null?void 0:S.classNames)==null?void 0:_.actionButton)},S.action.label):null))};function cx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var mj=e=>{let{invert:t,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,theme:v="light",richColors:w,duration:_,style:b,visibleToasts:S=oj,toastOptions:k,dir:P=cx(),gap:j=cj,loadingIcon:E,icons:T,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:M,cn:O=fj}=e,[I,Z]=Ue.useState([]),H=Ue.useMemo(()=>Array.from(new Set([r].concat(I.filter(z=>z.position).map(z=>z.position)))),[I,r]),[ne,V]=Ue.useState([]),[Y,te]=Ue.useState(!1),[fe,Ie]=Ue.useState(!1),[he,Be]=Ue.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ee=Ue.useRef(null),xe=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=Ue.useRef(null),ue=Ue.useRef(!1),oe=Ue.useCallback(z=>{var J;(J=I.find(Ne=>Ne.id===z.id))!=null&&J.delete||Ir.dismiss(z.id),Z(Ne=>Ne.filter(({id:ke})=>ke!==z.id))},[I]);return Ue.useEffect(()=>Ir.subscribe(z=>{if(z.dismiss){Z(J=>J.map(Ne=>Ne.id===z.id?{...Ne,delete:!0}:Ne));return}setTimeout(()=>{lf.flushSync(()=>{Z(J=>{let Ne=J.findIndex(ke=>ke.id===z.id);return Ne!==-1?[...J.slice(0,Ne),{...J[Ne],...z},...J.slice(Ne+1)]:[z,...J]})})})}),[]),Ue.useEffect(()=>{if(v!=="system"){Be(v);return}v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Be("dark"):Be("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:z})=>{Be(z?"dark":"light")})},[v]),Ue.useEffect(()=>{I.length<=1&&te(!1)},[I]),Ue.useEffect(()=>{let z=J=>{var Ne,ke;a.every(Se=>J[Se]||J.code===Se)&&(te(!0),(Ne=ee.current)==null||Ne.focus()),J.code==="Escape"&&(document.activeElement===ee.current||(ke=ee.current)!=null&&ke.contains(document.activeElement))&&te(!1)};return document.addEventListener("keydown",z),()=>document.removeEventListener("keydown",z)},[a]),Ue.useEffect(()=>{if(ee.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,ue.current=!1)}},[ee.current]),I.length?Ue.createElement("section",{"aria-label":`${D} ${xe}`,tabIndex:-1},H.map((z,J)=>{var Ne;let[ke,Se]=z.split("-");return Ue.createElement("ol",{key:z,dir:P==="auto"?cx():P,tabIndex:-1,ref:ee,className:f,"data-sonner-toaster":!0,"data-theme":he,"data-y-position":ke,"data-x-position":Se,style:{"--front-toast-height":`${((Ne=ne[0])==null?void 0:Ne.height)||0}px`,"--offset":typeof p=="number"?`${p}px`:p||ij,"--width":`${lj}px`,"--gap":`${j}px`,...b},onBlur:$=>{ue.current&&!$.currentTarget.contains($.relatedTarget)&&(ue.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,U.current=$.relatedTarget)},onMouseEnter:()=>te(!0),onMouseMove:()=>te(!0),onMouseLeave:()=>{fe||te(!1)},onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||Ie(!0)},onPointerUp:()=>Ie(!1)},I.filter($=>!$.position&&J===0||$.position===z).map(($,K)=>{var ae,_e;return Ue.createElement(hj,{key:$.id,icons:T,index:K,toast:$,defaultRichColors:w,duration:(ae=k==null?void 0:k.duration)!=null?ae:_,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:t,visibleToasts:S,closeButton:(_e=k==null?void 0:k.closeButton)!=null?_e:d,interacting:fe,position:z,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,removeToast:oe,toasts:I.filter(Te=>Te.position==$.position),heights:ne.filter(Te=>Te.position==$.position),setHeights:V,expandByDefault:c,gap:j,loadingIcon:E,expanded:Y,pauseWhenPageIsHidden:M,cn:O})}))})):null};const pj=({...e})=>{const{theme:t="system"}=WS();return o.jsx(mj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function gj(e,t=[]){let r=[];function a(d,f){const p=g.createContext(f),v=r.length;r=[...r,f];const w=b=>{var T;const{scope:S,children:k,...P}=b,j=((T=S==null?void 0:S[e])==null?void 0:T[v])||p,E=g.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:E,children:k})};w.displayName=d+"Provider";function _(b,S){var j;const k=((j=S==null?void 0:S[e])==null?void 0:j[v])||p,P=g.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[w,_]}const c=()=>{const d=r.map(f=>g.createContext(f));return function(p){const v=(p==null?void 0:p[e])||d;return g.useMemo(()=>({[`__scope${e}`]:{...p,[e]:v}}),[p,v])}};return c.scopeName=e,[a,vj(c,...t)]}function vj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:v,scopeName:w})=>{const b=v(d)[`__scope${w}`];return{...p,...b}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var xj="DismissableLayer",qm="dismissableLayer.update",yj="dismissableLayer.pointerDownOutside",wj="dismissableLayer.focusOutside",ux,Ew=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mp=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...v}=e,w=g.useContext(Ew),[_,b]=g.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=g.useState({}),P=$t(t,H=>b(H)),j=Array.from(w.layers),[E]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(E),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=T,I=Nj(H=>{const ne=H.target,V=[...w.branches].some(Y=>Y.contains(ne));!O||V||(c==null||c(H),f==null||f(H),H.defaultPrevented||p==null||p())},S),Z=Sj(H=>{const ne=H.target;[...w.branches].some(Y=>Y.contains(ne))||(d==null||d(H),f==null||f(H),H.defaultPrevented||p==null||p())},S);return bp(H=>{D===w.layers.size-1&&(a==null||a(H),!H.defaultPrevented&&p&&(H.preventDefault(),p()))},S),g.useEffect(()=>{if(_)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(ux=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),dx(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=ux)}},[_,S,r,w]),g.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),dx())},[_,w]),g.useEffect(()=>{const H=()=>k({});return document.addEventListener(qm,H),()=>document.removeEventListener(qm,H)},[]),o.jsx(jt.div,{...v,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,I.onPointerDownCapture)})});Mp.displayName=xj;var _j="DismissableLayerBranch",bj=g.forwardRef((e,t)=>{const r=g.useContext(Ew),a=g.useRef(null),c=$t(t,a);return g.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(jt.div,{...e,ref:c})});bj.displayName=_j;function Nj(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1),c=g.useRef(()=>{});return g.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let v=function(){Pw(yj,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=v,t.addEventListener("click",c.current,{once:!0})):v()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Sj(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1);return g.useEffect(()=>{const c=d=>{d.target&&!a.current&&Pw(wj,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function dx(){const e=new CustomEvent(qm);document.dispatchEvent(e)}function Pw(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var jj=Ty.useId||(()=>{}),Cj=0;function gl(e){const[t,r]=g.useState(jj());return Sn(()=>{r(a=>a??String(Cj++))},[e]),t?`radix-${t}`:""}const Ej=["top","right","bottom","left"],gi=Math.min,$r=Math.max,Gd=Math.round,kd=Math.floor,vi=e=>({x:e,y:e}),Pj={left:"right",right:"left",bottom:"top",top:"bottom"},Tj={start:"end",end:"start"};function Gm(e,t,r){return $r(e,gi(t,r))}function yo(e,t){return typeof e=="function"?e(t):e}function wo(e){return e.split("-")[0]}function Al(e){return e.split("-")[1]}function Rp(e){return e==="x"?"y":"x"}function Lp(e){return e==="y"?"height":"width"}function xi(e){return["top","bottom"].includes(wo(e))?"y":"x"}function Ap(e){return Rp(xi(e))}function kj(e,t,r){r===void 0&&(r=!1);const a=Al(e),c=Ap(e),d=Lp(c);let f=c==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[d]>t.floating[d]&&(f=Yd(f)),[f,Yd(f)]}function Mj(e){const t=Yd(e);return[Ym(e),t,Ym(t)]}function Ym(e){return e.replace(/start|end/g,t=>Tj[t])}function Rj(e,t,r){const a=["left","right"],c=["right","left"],d=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return r?t?c:a:t?a:c;case"left":case"right":return t?d:f;default:return[]}}function Lj(e,t,r,a){const c=Al(e);let d=Rj(wo(e),r==="start",a);return c&&(d=d.map(f=>f+"-"+c),t&&(d=d.concat(d.map(Ym)))),d}function Yd(e){return e.replace(/left|right|bottom|top/g,t=>Pj[t])}function Aj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tw(e){return typeof e!="number"?Aj(e):{top:e,right:e,bottom:e,left:e}}function Kd(e){const{x:t,y:r,width:a,height:c}=e;return{width:a,height:c,top:r,left:t,right:t+a,bottom:r+c,x:t,y:r}}function fx(e,t,r){let{reference:a,floating:c}=e;const d=xi(t),f=Ap(t),p=Lp(f),v=wo(t),w=d==="y",_=a.x+a.width/2-c.width/2,b=a.y+a.height/2-c.height/2,S=a[p]/2-c[p]/2;let k;switch(v){case"top":k={x:_,y:a.y-c.height};break;case"bottom":k={x:_,y:a.y+a.height};break;case"right":k={x:a.x+a.width,y:b};break;case"left":k={x:a.x-c.width,y:b};break;default:k={x:a.x,y:a.y}}switch(Al(t)){case"start":k[f]-=S*(r&&w?-1:1);break;case"end":k[f]+=S*(r&&w?-1:1);break}return k}const Dj=async(e,t,r)=>{const{placement:a="bottom",strategy:c="absolute",middleware:d=[],platform:f}=r,p=d.filter(Boolean),v=await(f.isRTL==null?void 0:f.isRTL(t));let w=await f.getElementRects({reference:e,floating:t,strategy:c}),{x:_,y:b}=fx(w,a,v),S=a,k={},P=0;for(let j=0;j<p.length;j++){const{name:E,fn:T}=p[j],{x:D,y:M,data:O,reset:I}=await T({x:_,y:b,initialPlacement:a,placement:S,strategy:c,middlewareData:k,rects:w,platform:f,elements:{reference:e,floating:t}});_=D??_,b=M??b,k={...k,[E]:{...k[E],...O}},I&&P<=50&&(P++,typeof I=="object"&&(I.placement&&(S=I.placement),I.rects&&(w=I.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:c}):I.rects),{x:_,y:b}=fx(w,S,v)),j=-1)}return{x:_,y:b,placement:S,strategy:c,middlewareData:k}};async function Zc(e,t){var r;t===void 0&&(t={});const{x:a,y:c,platform:d,rects:f,elements:p,strategy:v}=e,{boundary:w="clippingAncestors",rootBoundary:_="viewport",elementContext:b="floating",altBoundary:S=!1,padding:k=0}=yo(t,e),P=Tw(k),E=p[S?b==="floating"?"reference":"floating":b],T=Kd(await d.getClippingRect({element:(r=await(d.isElement==null?void 0:d.isElement(E)))==null||r?E:E.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(p.floating)),boundary:w,rootBoundary:_,strategy:v})),D=b==="floating"?{x:a,y:c,width:f.floating.width,height:f.floating.height}:f.reference,M=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p.floating)),O=await(d.isElement==null?void 0:d.isElement(M))?await(d.getScale==null?void 0:d.getScale(M))||{x:1,y:1}:{x:1,y:1},I=Kd(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:D,offsetParent:M,strategy:v}):D);return{top:(T.top-I.top+P.top)/O.y,bottom:(I.bottom-T.bottom+P.bottom)/O.y,left:(T.left-I.left+P.left)/O.x,right:(I.right-T.right+P.right)/O.x}}const Oj=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:c,rects:d,platform:f,elements:p,middlewareData:v}=t,{element:w,padding:_=0}=yo(e,t)||{};if(w==null)return{};const b=Tw(_),S={x:r,y:a},k=Ap(c),P=Lp(k),j=await f.getDimensions(w),E=k==="y",T=E?"top":"left",D=E?"bottom":"right",M=E?"clientHeight":"clientWidth",O=d.reference[P]+d.reference[k]-S[k]-d.floating[P],I=S[k]-d.reference[k],Z=await(f.getOffsetParent==null?void 0:f.getOffsetParent(w));let H=Z?Z[M]:0;(!H||!await(f.isElement==null?void 0:f.isElement(Z)))&&(H=p.floating[M]||d.floating[P]);const ne=O/2-I/2,V=H/2-j[P]/2-1,Y=gi(b[T],V),te=gi(b[D],V),fe=Y,Ie=H-j[P]-te,he=H/2-j[P]/2+ne,Be=Gm(fe,he,Ie),ee=!v.arrow&&Al(c)!=null&&he!==Be&&d.reference[P]/2-(he<fe?Y:te)-j[P]/2<0,xe=ee?he<fe?he-fe:he-Ie:0;return{[k]:S[k]+xe,data:{[k]:Be,centerOffset:he-Be-xe,...ee&&{alignmentOffset:xe}},reset:ee}}}),Ij=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:c,middlewareData:d,rects:f,initialPlacement:p,platform:v,elements:w}=t,{mainAxis:_=!0,crossAxis:b=!0,fallbackPlacements:S,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:j=!0,...E}=yo(e,t);if((r=d.arrow)!=null&&r.alignmentOffset)return{};const T=wo(c),D=xi(p),M=wo(p)===p,O=await(v.isRTL==null?void 0:v.isRTL(w.floating)),I=S||(M||!j?[Yd(p)]:Mj(p)),Z=P!=="none";!S&&Z&&I.push(...Lj(p,j,P,O));const H=[p,...I],ne=await Zc(t,E),V=[];let Y=((a=d.flip)==null?void 0:a.overflows)||[];if(_&&V.push(ne[T]),b){const he=kj(c,f,O);V.push(ne[he[0]],ne[he[1]])}if(Y=[...Y,{placement:c,overflows:V}],!V.every(he=>he<=0)){var te,fe;const he=(((te=d.flip)==null?void 0:te.index)||0)+1,Be=H[he];if(Be)return{data:{index:he,overflows:Y},reset:{placement:Be}};let ee=(fe=Y.filter(xe=>xe.overflows[0]<=0).sort((xe,U)=>xe.overflows[1]-U.overflows[1])[0])==null?void 0:fe.placement;if(!ee)switch(k){case"bestFit":{var Ie;const xe=(Ie=Y.filter(U=>{if(Z){const ue=xi(U.placement);return ue===D||ue==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(ue=>ue>0).reduce((ue,oe)=>ue+oe,0)]).sort((U,ue)=>U[1]-ue[1])[0])==null?void 0:Ie[0];xe&&(ee=xe);break}case"initialPlacement":ee=p;break}if(c!==ee)return{reset:{placement:ee}}}return{}}}};function hx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mx(e){return Ej.some(t=>e[t]>=0)}const Fj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...c}=yo(e,t);switch(a){case"referenceHidden":{const d=await Zc(t,{...c,elementContext:"reference"}),f=hx(d,r.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:mx(f)}}}case"escaped":{const d=await Zc(t,{...c,altBoundary:!0}),f=hx(d,r.floating);return{data:{escapedOffsets:f,escaped:mx(f)}}}default:return{}}}}};async function $j(e,t){const{placement:r,platform:a,elements:c}=e,d=await(a.isRTL==null?void 0:a.isRTL(c.floating)),f=wo(r),p=Al(r),v=xi(r)==="y",w=["left","top"].includes(f)?-1:1,_=d&&v?-1:1,b=yo(t,e);let{mainAxis:S,crossAxis:k,alignmentAxis:P}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return p&&typeof P=="number"&&(k=p==="end"?P*-1:P),v?{x:k*_,y:S*w}:{x:S*w,y:k*_}}const zj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:c,y:d,placement:f,middlewareData:p}=t,v=await $j(t,e);return f===((r=p.offset)==null?void 0:r.placement)&&(a=p.arrow)!=null&&a.alignmentOffset?{}:{x:c+v.x,y:d+v.y,data:{...v,placement:f}}}}},Bj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:c}=t,{mainAxis:d=!0,crossAxis:f=!1,limiter:p={fn:E=>{let{x:T,y:D}=E;return{x:T,y:D}}},...v}=yo(e,t),w={x:r,y:a},_=await Zc(t,v),b=xi(wo(c)),S=Rp(b);let k=w[S],P=w[b];if(d){const E=S==="y"?"top":"left",T=S==="y"?"bottom":"right",D=k+_[E],M=k-_[T];k=Gm(D,k,M)}if(f){const E=b==="y"?"top":"left",T=b==="y"?"bottom":"right",D=P+_[E],M=P-_[T];P=Gm(D,P,M)}const j=p.fn({...t,[S]:k,[b]:P});return{...j,data:{x:j.x-r,y:j.y-a,enabled:{[S]:d,[b]:f}}}}}},Uj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:c,rects:d,middlewareData:f}=t,{offset:p=0,mainAxis:v=!0,crossAxis:w=!0}=yo(e,t),_={x:r,y:a},b=xi(c),S=Rp(b);let k=_[S],P=_[b];const j=yo(p,t),E=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(v){const M=S==="y"?"height":"width",O=d.reference[S]-d.floating[M]+E.mainAxis,I=d.reference[S]+d.reference[M]-E.mainAxis;k<O?k=O:k>I&&(k=I)}if(w){var T,D;const M=S==="y"?"width":"height",O=["top","left"].includes(wo(c)),I=d.reference[b]-d.floating[M]+(O&&((T=f.offset)==null?void 0:T[b])||0)+(O?0:E.crossAxis),Z=d.reference[b]+d.reference[M]+(O?0:((D=f.offset)==null?void 0:D[b])||0)-(O?E.crossAxis:0);P<I?P=I:P>Z&&(P=Z)}return{[S]:k,[b]:P}}}},Hj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:c,rects:d,platform:f,elements:p}=t,{apply:v=()=>{},...w}=yo(e,t),_=await Zc(t,w),b=wo(c),S=Al(c),k=xi(c)==="y",{width:P,height:j}=d.floating;let E,T;b==="top"||b==="bottom"?(E=b,T=S===(await(f.isRTL==null?void 0:f.isRTL(p.floating))?"start":"end")?"left":"right"):(T=b,E=S==="end"?"top":"bottom");const D=j-_.top-_.bottom,M=P-_.left-_.right,O=gi(j-_[E],D),I=gi(P-_[T],M),Z=!t.middlewareData.shift;let H=O,ne=I;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(ne=M),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(H=D),Z&&!S){const Y=$r(_.left,0),te=$r(_.right,0),fe=$r(_.top,0),Ie=$r(_.bottom,0);k?ne=P-2*(Y!==0||te!==0?Y+te:$r(_.left,_.right)):H=j-2*(fe!==0||Ie!==0?fe+Ie:$r(_.top,_.bottom))}await v({...t,availableWidth:ne,availableHeight:H});const V=await f.getDimensions(p.floating);return P!==V.width||j!==V.height?{reset:{rects:!0}}:{}}}};function pf(){return typeof window<"u"}function Dl(e){return kw(e)?(e.nodeName||"").toLowerCase():"#document"}function zr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vs(e){var t;return(t=(kw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kw(e){return pf()?e instanceof Node||e instanceof zr(e).Node:!1}function bs(e){return pf()?e instanceof Element||e instanceof zr(e).Element:!1}function Ws(e){return pf()?e instanceof HTMLElement||e instanceof zr(e).HTMLElement:!1}function px(e){return!pf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof zr(e).ShadowRoot}function iu(e){const{overflow:t,overflowX:r,overflowY:a,display:c}=Ns(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!["inline","contents"].includes(c)}function Wj(e){return["table","td","th"].includes(Dl(e))}function gf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Dp(e){const t=Op(),r=bs(e)?Ns(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function Vj(e){let t=yi(e);for(;Ws(t)&&!Tl(t);){if(Dp(t))return t;if(gf(t))return null;t=yi(t)}return null}function Op(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Tl(e){return["html","body","#document"].includes(Dl(e))}function Ns(e){return zr(e).getComputedStyle(e)}function vf(e){return bs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yi(e){if(Dl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||px(e)&&e.host||Vs(e);return px(t)?t.host:t}function Mw(e){const t=yi(e);return Tl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ws(t)&&iu(t)?t:Mw(t)}function qc(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const c=Mw(e),d=c===((a=e.ownerDocument)==null?void 0:a.body),f=zr(c);if(d){const p=Km(f);return t.concat(f,f.visualViewport||[],iu(c)?c:[],p&&r?qc(p):[])}return t.concat(c,qc(c,[],r))}function Km(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rw(e){const t=Ns(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const c=Ws(e),d=c?e.offsetWidth:r,f=c?e.offsetHeight:a,p=Gd(r)!==d||Gd(a)!==f;return p&&(r=d,a=f),{width:r,height:a,$:p}}function Ip(e){return bs(e)?e:e.contextElement}function vl(e){const t=Ip(e);if(!Ws(t))return vi(1);const r=t.getBoundingClientRect(),{width:a,height:c,$:d}=Rw(t);let f=(d?Gd(r.width):r.width)/a,p=(d?Gd(r.height):r.height)/c;return(!f||!Number.isFinite(f))&&(f=1),(!p||!Number.isFinite(p))&&(p=1),{x:f,y:p}}const Zj=vi(0);function Lw(e){const t=zr(e);return!Op()||!t.visualViewport?Zj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qj(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==zr(e)?!1:t}function ua(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const c=e.getBoundingClientRect(),d=Ip(e);let f=vi(1);t&&(a?bs(a)&&(f=vl(a)):f=vl(e));const p=qj(d,r,a)?Lw(d):vi(0);let v=(c.left+p.x)/f.x,w=(c.top+p.y)/f.y,_=c.width/f.x,b=c.height/f.y;if(d){const S=zr(d),k=a&&bs(a)?zr(a):a;let P=S,j=Km(P);for(;j&&a&&k!==P;){const E=vl(j),T=j.getBoundingClientRect(),D=Ns(j),M=T.left+(j.clientLeft+parseFloat(D.paddingLeft))*E.x,O=T.top+(j.clientTop+parseFloat(D.paddingTop))*E.y;v*=E.x,w*=E.y,_*=E.x,b*=E.y,v+=M,w+=O,P=zr(j),j=Km(P)}}return Kd({width:_,height:b,x:v,y:w})}function Gj(e){let{elements:t,rect:r,offsetParent:a,strategy:c}=e;const d=c==="fixed",f=Vs(a),p=t?gf(t.floating):!1;if(a===f||p&&d)return r;let v={scrollLeft:0,scrollTop:0},w=vi(1);const _=vi(0),b=Ws(a);if((b||!b&&!d)&&((Dl(a)!=="body"||iu(f))&&(v=vf(a)),Ws(a))){const S=ua(a);w=vl(a),_.x=S.x+a.clientLeft,_.y=S.y+a.clientTop}return{width:r.width*w.x,height:r.height*w.y,x:r.x*w.x-v.scrollLeft*w.x+_.x,y:r.y*w.y-v.scrollTop*w.y+_.y}}function Yj(e){return Array.from(e.getClientRects())}function Xm(e,t){const r=vf(e).scrollLeft;return t?t.left+r:ua(Vs(e)).left+r}function Kj(e){const t=Vs(e),r=vf(e),a=e.ownerDocument.body,c=$r(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),d=$r(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let f=-r.scrollLeft+Xm(e);const p=-r.scrollTop;return Ns(a).direction==="rtl"&&(f+=$r(t.clientWidth,a.clientWidth)-c),{width:c,height:d,x:f,y:p}}function Xj(e,t){const r=zr(e),a=Vs(e),c=r.visualViewport;let d=a.clientWidth,f=a.clientHeight,p=0,v=0;if(c){d=c.width,f=c.height;const w=Op();(!w||w&&t==="fixed")&&(p=c.offsetLeft,v=c.offsetTop)}return{width:d,height:f,x:p,y:v}}function Qj(e,t){const r=ua(e,!0,t==="fixed"),a=r.top+e.clientTop,c=r.left+e.clientLeft,d=Ws(e)?vl(e):vi(1),f=e.clientWidth*d.x,p=e.clientHeight*d.y,v=c*d.x,w=a*d.y;return{width:f,height:p,x:v,y:w}}function gx(e,t,r){let a;if(t==="viewport")a=Xj(e,r);else if(t==="document")a=Kj(Vs(e));else if(bs(t))a=Qj(t,r);else{const c=Lw(e);a={...t,x:t.x-c.x,y:t.y-c.y}}return Kd(a)}function Aw(e,t){const r=yi(e);return r===t||!bs(r)||Tl(r)?!1:Ns(r).position==="fixed"||Aw(r,t)}function Jj(e,t){const r=t.get(e);if(r)return r;let a=qc(e,[],!1).filter(p=>bs(p)&&Dl(p)!=="body"),c=null;const d=Ns(e).position==="fixed";let f=d?yi(e):e;for(;bs(f)&&!Tl(f);){const p=Ns(f),v=Dp(f);!v&&p.position==="fixed"&&(c=null),(d?!v&&!c:!v&&p.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||iu(f)&&!v&&Aw(e,f))?a=a.filter(_=>_!==f):c=p,f=yi(f)}return t.set(e,a),a}function eC(e){let{element:t,boundary:r,rootBoundary:a,strategy:c}=e;const f=[...r==="clippingAncestors"?gf(t)?[]:Jj(t,this._c):[].concat(r),a],p=f[0],v=f.reduce((w,_)=>{const b=gx(t,_,c);return w.top=$r(b.top,w.top),w.right=gi(b.right,w.right),w.bottom=gi(b.bottom,w.bottom),w.left=$r(b.left,w.left),w},gx(t,p,c));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function tC(e){const{width:t,height:r}=Rw(e);return{width:t,height:r}}function nC(e,t,r){const a=Ws(t),c=Vs(t),d=r==="fixed",f=ua(e,!0,d,t);let p={scrollLeft:0,scrollTop:0};const v=vi(0);if(a||!a&&!d)if((Dl(t)!=="body"||iu(c))&&(p=vf(t)),a){const k=ua(t,!0,d,t);v.x=k.x+t.clientLeft,v.y=k.y+t.clientTop}else c&&(v.x=Xm(c));let w=0,_=0;if(c&&!a&&!d){const k=c.getBoundingClientRect();_=k.top+p.scrollTop,w=k.left+p.scrollLeft-Xm(c,k)}const b=f.left+p.scrollLeft-v.x-w,S=f.top+p.scrollTop-v.y-_;return{x:b,y:S,width:f.width,height:f.height}}function ym(e){return Ns(e).position==="static"}function vx(e,t){if(!Ws(e)||Ns(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Vs(e)===r&&(r=r.ownerDocument.body),r}function Dw(e,t){const r=zr(e);if(gf(e))return r;if(!Ws(e)){let c=yi(e);for(;c&&!Tl(c);){if(bs(c)&&!ym(c))return c;c=yi(c)}return r}let a=vx(e,t);for(;a&&Wj(a)&&ym(a);)a=vx(a,t);return a&&Tl(a)&&ym(a)&&!Dp(a)?r:a||Vj(e)||r}const rC=async function(e){const t=this.getOffsetParent||Dw,r=this.getDimensions,a=await r(e.floating);return{reference:nC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function sC(e){return Ns(e).direction==="rtl"}const oC={convertOffsetParentRelativeRectToViewportRelativeRect:Gj,getDocumentElement:Vs,getClippingRect:eC,getOffsetParent:Dw,getElementRects:rC,getClientRects:Yj,getDimensions:tC,getScale:vl,isElement:bs,isRTL:sC};function iC(e,t){let r=null,a;const c=Vs(e);function d(){var p;clearTimeout(a),(p=r)==null||p.disconnect(),r=null}function f(p,v){p===void 0&&(p=!1),v===void 0&&(v=1),d();const{left:w,top:_,width:b,height:S}=e.getBoundingClientRect();if(p||t(),!b||!S)return;const k=kd(_),P=kd(c.clientWidth-(w+b)),j=kd(c.clientHeight-(_+S)),E=kd(w),D={rootMargin:-k+"px "+-P+"px "+-j+"px "+-E+"px",threshold:$r(0,gi(1,v))||1};let M=!0;function O(I){const Z=I[0].intersectionRatio;if(Z!==v){if(!M)return f();Z?f(!1,Z):a=setTimeout(()=>{f(!1,1e-7)},1e3)}M=!1}try{r=new IntersectionObserver(O,{...D,root:c.ownerDocument})}catch{r=new IntersectionObserver(O,D)}r.observe(e)}return f(!0),d}function aC(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:v=!1}=a,w=Ip(e),_=c||d?[...w?qc(w):[],...qc(t)]:[];_.forEach(T=>{c&&T.addEventListener("scroll",r,{passive:!0}),d&&T.addEventListener("resize",r)});const b=w&&p?iC(w,r):null;let S=-1,k=null;f&&(k=new ResizeObserver(T=>{let[D]=T;D&&D.target===w&&k&&(k.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var M;(M=k)==null||M.observe(t)})),r()}),w&&!v&&k.observe(w),k.observe(t));let P,j=v?ua(e):null;v&&E();function E(){const T=ua(e);j&&(T.x!==j.x||T.y!==j.y||T.width!==j.width||T.height!==j.height)&&r(),j=T,P=requestAnimationFrame(E)}return r(),()=>{var T;_.forEach(D=>{c&&D.removeEventListener("scroll",r),d&&D.removeEventListener("resize",r)}),b==null||b(),(T=k)==null||T.disconnect(),k=null,v&&cancelAnimationFrame(P)}}const lC=zj,cC=Bj,uC=Ij,dC=Hj,fC=Fj,xx=Oj,hC=Uj,mC=(e,t,r)=>{const a=new Map,c={platform:oC,...r},d={...c.platform,_c:a};return Dj(e,t,{...c,platform:d})};var Wd=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Xd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,c;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!Xd(e[a],t[a]))return!1;return!0}if(c=Object.keys(e),r=c.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,c[a]))return!1;for(a=r;a--!==0;){const d=c[a];if(!(d==="_owner"&&e.$$typeof)&&!Xd(e[d],t[d]))return!1}return!0}return e!==e&&t!==t}function Ow(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yx(e,t){const r=Ow(e);return Math.round(t*r)/r}function wm(e){const t=g.useRef(e);return Wd(()=>{t.current=e}),t}function pC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:c,elements:{reference:d,floating:f}={},transform:p=!0,whileElementsMounted:v,open:w}=e,[_,b]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[S,k]=g.useState(a);Xd(S,a)||k(a);const[P,j]=g.useState(null),[E,T]=g.useState(null),D=g.useCallback(U=>{U!==Z.current&&(Z.current=U,j(U))},[]),M=g.useCallback(U=>{U!==H.current&&(H.current=U,T(U))},[]),O=d||P,I=f||E,Z=g.useRef(null),H=g.useRef(null),ne=g.useRef(_),V=v!=null,Y=wm(v),te=wm(c),fe=wm(w),Ie=g.useCallback(()=>{if(!Z.current||!H.current)return;const U={placement:t,strategy:r,middleware:S};te.current&&(U.platform=te.current),mC(Z.current,H.current,U).then(ue=>{const oe={...ue,isPositioned:fe.current!==!1};he.current&&!Xd(ne.current,oe)&&(ne.current=oe,pa.flushSync(()=>{b(oe)}))})},[S,t,r,te,fe]);Wd(()=>{w===!1&&ne.current.isPositioned&&(ne.current.isPositioned=!1,b(U=>({...U,isPositioned:!1})))},[w]);const he=g.useRef(!1);Wd(()=>(he.current=!0,()=>{he.current=!1}),[]),Wd(()=>{if(O&&(Z.current=O),I&&(H.current=I),O&&I){if(Y.current)return Y.current(O,I,Ie);Ie()}},[O,I,Ie,Y,V]);const Be=g.useMemo(()=>({reference:Z,floating:H,setReference:D,setFloating:M}),[D,M]),ee=g.useMemo(()=>({reference:O,floating:I}),[O,I]),xe=g.useMemo(()=>{const U={position:r,left:0,top:0};if(!ee.floating)return U;const ue=yx(ee.floating,_.x),oe=yx(ee.floating,_.y);return p?{...U,transform:"translate("+ue+"px, "+oe+"px)",...Ow(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ue,top:oe}},[r,p,ee.floating,_.x,_.y]);return g.useMemo(()=>({..._,update:Ie,refs:Be,elements:ee,floatingStyles:xe}),[_,Ie,Be,ee,xe])}const gC=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:c}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?xx({element:a.current,padding:c}).fn(r):{}:a?xx({element:a,padding:c}).fn(r):{}}}},vC=(e,t)=>({...lC(e),options:[e,t]}),xC=(e,t)=>({...cC(e),options:[e,t]}),yC=(e,t)=>({...hC(e),options:[e,t]}),wC=(e,t)=>({...uC(e),options:[e,t]}),_C=(e,t)=>({...dC(e),options:[e,t]}),bC=(e,t)=>({...fC(e),options:[e,t]}),NC=(e,t)=>({...gC(e),options:[e,t]});var SC="Arrow",Iw=g.forwardRef((e,t)=>{const{children:r,width:a=10,height:c=5,...d}=e;return o.jsx(jt.svg,{...d,ref:t,width:a,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Iw.displayName=SC;var jC=Iw;function Fw(e){const[t,r]=g.useState(void 0);return Sn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let f,p;if("borderBoxSize"in d){const v=d.borderBoxSize,w=Array.isArray(v)?v[0]:v;f=w.inlineSize,p=w.blockSize}else f=e.offsetWidth,p=e.offsetHeight;r({width:f,height:p})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var Fp="Popper",[$w,xf]=Rl(Fp),[CC,zw]=$w(Fp),Bw=e=>{const{__scopePopper:t,children:r}=e,[a,c]=g.useState(null);return o.jsx(CC,{scope:t,anchor:a,onAnchorChange:c,children:r})};Bw.displayName=Fp;var Uw="PopperAnchor",Hw=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...c}=e,d=zw(Uw,r),f=g.useRef(null),p=$t(t,f);return g.useEffect(()=>{d.onAnchorChange((a==null?void 0:a.current)||f.current)}),a?null:o.jsx(jt.div,{...c,ref:p})});Hw.displayName=Uw;var $p="PopperContent",[EC,PC]=$w($p),Ww=g.forwardRef((e,t)=>{var K,ae,_e,Te,We,Ze;const{__scopePopper:r,side:a="bottom",sideOffset:c=0,align:d="center",alignOffset:f=0,arrowPadding:p=0,avoidCollisions:v=!0,collisionBoundary:w=[],collisionPadding:_=0,sticky:b="partial",hideWhenDetached:S=!1,updatePositionStrategy:k="optimized",onPlaced:P,...j}=e,E=zw($p,r),[T,D]=g.useState(null),M=$t(t,nt=>D(nt)),[O,I]=g.useState(null),Z=Fw(O),H=(Z==null?void 0:Z.width)??0,ne=(Z==null?void 0:Z.height)??0,V=a+(d!=="center"?"-"+d:""),Y=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},te=Array.isArray(w)?w:[w],fe=te.length>0,Ie={padding:Y,boundary:te.filter(kC),altBoundary:fe},{refs:he,floatingStyles:Be,placement:ee,isPositioned:xe,middlewareData:U}=pC({strategy:"fixed",placement:V,whileElementsMounted:(...nt)=>aC(...nt,{animationFrame:k==="always"}),elements:{reference:E.anchor},middleware:[vC({mainAxis:c+ne,alignmentAxis:f}),v&&xC({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?yC():void 0,...Ie}),v&&wC({...Ie}),_C({...Ie,apply:({elements:nt,rects:Et,availableWidth:ye,availableHeight:Ge})=>{const{width:q,height:me}=Et.reference,be=nt.floating.style;be.setProperty("--radix-popper-available-width",`${ye}px`),be.setProperty("--radix-popper-available-height",`${Ge}px`),be.setProperty("--radix-popper-anchor-width",`${q}px`),be.setProperty("--radix-popper-anchor-height",`${me}px`)}}),O&&NC({element:O,padding:p}),MC({arrowWidth:H,arrowHeight:ne}),S&&bC({strategy:"referenceHidden",...Ie})]}),[ue,oe]=qw(ee),z=xn(P);Sn(()=>{xe&&(z==null||z())},[xe,z]);const J=(K=U.arrow)==null?void 0:K.x,Ne=(ae=U.arrow)==null?void 0:ae.y,ke=((_e=U.arrow)==null?void 0:_e.centerOffset)!==0,[Se,$]=g.useState();return Sn(()=>{T&&$(window.getComputedStyle(T).zIndex)},[T]),o.jsx("div",{ref:he.setFloating,"data-radix-popper-content-wrapper":"",style:{...Be,transform:xe?Be.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(Te=U.transformOrigin)==null?void 0:Te.x,(We=U.transformOrigin)==null?void 0:We.y].join(" "),...((Ze=U.hide)==null?void 0:Ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(EC,{scope:r,placedSide:ue,onArrowChange:I,arrowX:J,arrowY:Ne,shouldHideArrow:ke,children:o.jsx(jt.div,{"data-side":ue,"data-align":oe,...j,ref:M,style:{...j.style,animation:xe?void 0:"none"}})})})});Ww.displayName=$p;var Vw="PopperArrow",TC={top:"bottom",right:"left",bottom:"top",left:"right"},Zw=g.forwardRef(function(t,r){const{__scopePopper:a,...c}=t,d=PC(Vw,a),f=TC[d.placedSide];return o.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:o.jsx(jC,{...c,ref:r,style:{...c.style,display:"block"}})})});Zw.displayName=Vw;function kC(e){return e!==null}var MC=e=>({name:"transformOrigin",options:e,fn(t){var E,T,D;const{placement:r,rects:a,middlewareData:c}=t,f=((E=c.arrow)==null?void 0:E.centerOffset)!==0,p=f?0:e.arrowWidth,v=f?0:e.arrowHeight,[w,_]=qw(r),b={start:"0%",center:"50%",end:"100%"}[_],S=(((T=c.arrow)==null?void 0:T.x)??0)+p/2,k=(((D=c.arrow)==null?void 0:D.y)??0)+v/2;let P="",j="";return w==="bottom"?(P=f?b:`${S}px`,j=`${-v}px`):w==="top"?(P=f?b:`${S}px`,j=`${a.floating.height+v}px`):w==="right"?(P=`${-v}px`,j=f?b:`${k}px`):w==="left"&&(P=`${a.floating.width+v}px`,j=f?b:`${k}px`),{data:{x:P,y:j}}}});function qw(e){const[t,r="center"]=e.split("-");return[t,r]}var RC=Bw,Gw=Hw,Yw=Ww,Kw=Zw,LC="Portal",Xw=g.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=g.useState(!1);Sn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?lf.createPortal(o.jsx(jt.div,{...a,ref:t}),f):null});Xw.displayName=LC;function AC(e,t){return g.useReducer((r,a)=>t[r][a]??r,e)}var Qw=e=>{const{present:t,children:r}=e,a=DC(t),c=typeof r=="function"?r({present:a.isPresent}):g.Children.only(r),d=$t(a.ref,OC(c));return typeof r=="function"||a.isPresent?g.cloneElement(c,{ref:d}):null};Qw.displayName="Presence";function DC(e){const[t,r]=g.useState(),a=g.useRef({}),c=g.useRef(e),d=g.useRef("none"),f=e?"mounted":"unmounted",[p,v]=AC(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const w=Md(a.current);d.current=p==="mounted"?w:"none"},[p]),Sn(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,k=Md(w);e?v("MOUNT"):k==="none"||(w==null?void 0:w.display)==="none"?v("UNMOUNT"):v(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,v]),Sn(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,b=k=>{const j=Md(a.current).includes(k.animationName);if(k.target===t&&j&&(v("ANIMATION_END"),!c.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},S=k=>{k.target===t&&(d.current=Md(a.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:g.useCallback(w=>{w&&(a.current=getComputedStyle(w)),r(w)},[])}}function Md(e){return(e==null?void 0:e.animationName)||"none"}function OC(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var[yf,BL]=gj("Tooltip",[xf]),zp=xf(),Jw="TooltipProvider",IC=700,wx="tooltip.open",[FC,e0]=yf(Jw),t0=e=>{const{__scopeTooltip:t,delayDuration:r=IC,skipDelayDuration:a=300,disableHoverableContent:c=!1,children:d}=e,[f,p]=g.useState(!0),v=g.useRef(!1),w=g.useRef(0);return g.useEffect(()=>{const _=w.current;return()=>window.clearTimeout(_)},[]),o.jsx(FC,{scope:t,isOpenDelayed:f,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(w.current),p(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>p(!0),a)},[a]),isPointerInTransitRef:v,onPointerInTransitChange:g.useCallback(_=>{v.current=_},[]),disableHoverableContent:c,children:d})};t0.displayName=Jw;var n0="Tooltip",[UL,wf]=yf(n0),Qm="TooltipTrigger",$C=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,c=wf(Qm,r),d=e0(Qm,r),f=zp(r),p=g.useRef(null),v=$t(t,p,c.onTriggerChange),w=g.useRef(!1),_=g.useRef(!1),b=g.useCallback(()=>w.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),o.jsx(Gw,{asChild:!0,...f,children:o.jsx(jt.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:v,onPointerMove:lt(e.onPointerMove,S=>{S.pointerType!=="touch"&&!_.current&&!d.isPointerInTransitRef.current&&(c.onTriggerEnter(),_.current=!0)}),onPointerLeave:lt(e.onPointerLeave,()=>{c.onTriggerLeave(),_.current=!1}),onPointerDown:lt(e.onPointerDown,()=>{w.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:lt(e.onFocus,()=>{w.current||c.onOpen()}),onBlur:lt(e.onBlur,c.onClose),onClick:lt(e.onClick,c.onClose)})})});$C.displayName=Qm;var zC="TooltipPortal",[HL,BC]=yf(zC,{forceMount:void 0}),kl="TooltipContent",r0=g.forwardRef((e,t)=>{const r=BC(kl,e.__scopeTooltip),{forceMount:a=r.forceMount,side:c="top",...d}=e,f=wf(kl,e.__scopeTooltip);return o.jsx(Qw,{present:a||f.open,children:f.disableHoverableContent?o.jsx(s0,{side:c,...d,ref:t}):o.jsx(UC,{side:c,...d,ref:t})})}),UC=g.forwardRef((e,t)=>{const r=wf(kl,e.__scopeTooltip),a=e0(kl,e.__scopeTooltip),c=g.useRef(null),d=$t(t,c),[f,p]=g.useState(null),{trigger:v,onClose:w}=r,_=c.current,{onPointerInTransitChange:b}=a,S=g.useCallback(()=>{p(null),b(!1)},[b]),k=g.useCallback((P,j)=>{const E=P.currentTarget,T={x:P.clientX,y:P.clientY},D=ZC(T,E.getBoundingClientRect()),M=qC(T,D),O=GC(j.getBoundingClientRect()),I=KC([...M,...O]);p(I),b(!0)},[b]);return g.useEffect(()=>()=>S(),[S]),g.useEffect(()=>{if(v&&_){const P=E=>k(E,_),j=E=>k(E,v);return v.addEventListener("pointerleave",P),_.addEventListener("pointerleave",j),()=>{v.removeEventListener("pointerleave",P),_.removeEventListener("pointerleave",j)}}},[v,_,k,S]),g.useEffect(()=>{if(f){const P=j=>{const E=j.target,T={x:j.clientX,y:j.clientY},D=(v==null?void 0:v.contains(E))||(_==null?void 0:_.contains(E)),M=!YC(T,f);D?S():M&&(S(),w())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[v,_,f,w,S]),o.jsx(s0,{...e,ref:d})}),[HC,WC]=yf(n0,{isInside:!1}),s0=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":c,onEscapeKeyDown:d,onPointerDownOutside:f,...p}=e,v=wf(kl,r),w=zp(r),{onClose:_}=v;return g.useEffect(()=>(document.addEventListener(wx,_),()=>document.removeEventListener(wx,_)),[_]),g.useEffect(()=>{if(v.trigger){const b=S=>{const k=S.target;k!=null&&k.contains(v.trigger)&&_()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[v.trigger,_]),o.jsx(Mp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:b=>b.preventDefault(),onDismiss:_,children:o.jsxs(Yw,{"data-state":v.stateAttribute,...w,...p,ref:t,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Ry,{children:a}),o.jsx(HC,{scope:r,isInside:!0,children:o.jsx(jN,{id:v.contentId,role:"tooltip",children:c||a})})]})})});r0.displayName=kl;var o0="TooltipArrow",VC=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,c=zp(r);return WC(o0,r).isInside?null:o.jsx(Kw,{...c,...a,ref:t})});VC.displayName=o0;function ZC(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),c=Math.abs(t.right-e.x),d=Math.abs(t.left-e.x);switch(Math.min(r,a,c,d)){case d:return"left";case c:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function qC(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function GC(e){const{top:t,right:r,bottom:a,left:c}=e;return[{x:c,y:t},{x:r,y:t},{x:r,y:a},{x:c,y:a}]}function YC(e,t){const{x:r,y:a}=e;let c=!1;for(let d=0,f=t.length-1;d<t.length;f=d++){const p=t[d].x,v=t[d].y,w=t[f].x,_=t[f].y;v>a!=_>a&&r<(w-p)*(a-v)/(_-v)+p&&(c=!c)}return c}function KC(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),XC(t)}function XC(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const c=e[a];for(;t.length>=2;){const d=t[t.length-1],f=t[t.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))t.pop();else break}t.push(c)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const c=e[a];for(;r.length>=2;){const d=r[r.length-1],f=r[r.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))r.pop();else break}r.push(c)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var QC=t0,i0=r0;const JC=QC,eE=g.forwardRef(({className:e,sideOffset:t=4,...r},a)=>o.jsx(i0,{ref:a,sideOffset:t,className:yt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));eE.displayName=i0.displayName;var _f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bf=typeof window>"u"||"Deno"in globalThis;function xs(){}function tE(e,t){return typeof e=="function"?e(t):e}function nE(e){return typeof e=="number"&&e>=0&&e!==1/0}function rE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _x(e,t){return typeof e=="function"?e(t):e}function sE(e,t){return typeof e=="function"?e(t):e}function bx(e,t){const{type:r="all",exact:a,fetchStatus:c,predicate:d,queryKey:f,stale:p}=e;if(f){if(a){if(t.queryHash!==Bp(f,t.options))return!1}else if(!Yc(t.queryKey,f))return!1}if(r!=="all"){const v=t.isActive();if(r==="active"&&!v||r==="inactive"&&v)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||c&&c!==t.state.fetchStatus||d&&!d(t))}function Nx(e,t){const{exact:r,status:a,predicate:c,mutationKey:d}=e;if(d){if(!t.options.mutationKey)return!1;if(r){if(Gc(t.options.mutationKey)!==Gc(d))return!1}else if(!Yc(t.options.mutationKey,d))return!1}return!(a&&t.state.status!==a||c&&!c(t))}function Bp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Gc)(e)}function Gc(e){return JSON.stringify(e,(t,r)=>Jm(r)?Object.keys(r).sort().reduce((a,c)=>(a[c]=r[c],a),{}):r)}function Yc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Yc(e[r],t[r])):!1}function a0(e,t){if(e===t)return e;const r=Sx(e)&&Sx(t);if(r||Jm(e)&&Jm(t)){const a=r?e:Object.keys(e),c=a.length,d=r?t:Object.keys(t),f=d.length,p=r?[]:{};let v=0;for(let w=0;w<f;w++){const _=r?w:d[w];(!r&&a.includes(_)||r)&&e[_]===void 0&&t[_]===void 0?(p[_]=void 0,v++):(p[_]=a0(e[_],t[_]),p[_]===e[_]&&e[_]!==void 0&&v++)}return c===f&&v===c?e:p}return t}function Sx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jm(e){if(!jx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jx(e){return Object.prototype.toString.call(e)==="[object Object]"}function oE(e){return new Promise(t=>{setTimeout(t,e)})}function iE(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?a0(e,t):t}function aE(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function lE(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var l0=Symbol();function c0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===l0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ta,ai,yl,_y,cE=(_y=class extends _f{constructor(){super();tn(this,ta);tn(this,ai);tn(this,yl);Dt(this,yl,t=>{if(!bf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ee(this,ai)||this.setEventListener(Ee(this,yl))}onUnsubscribe(){var t;this.hasListeners()||((t=Ee(this,ai))==null||t.call(this),Dt(this,ai,void 0))}setEventListener(t){var r;Dt(this,yl,t),(r=Ee(this,ai))==null||r.call(this),Dt(this,ai,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){Ee(this,ta)!==t&&(Dt(this,ta,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ee(this,ta)=="boolean"?Ee(this,ta):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ta=new WeakMap,ai=new WeakMap,yl=new WeakMap,_y),u0=new cE,wl,li,_l,by,uE=(by=class extends _f{constructor(){super();tn(this,wl,!0);tn(this,li);tn(this,_l);Dt(this,_l,t=>{if(!bf&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){Ee(this,li)||this.setEventListener(Ee(this,_l))}onUnsubscribe(){var t;this.hasListeners()||((t=Ee(this,li))==null||t.call(this),Dt(this,li,void 0))}setEventListener(t){var r;Dt(this,_l,t),(r=Ee(this,li))==null||r.call(this),Dt(this,li,t(this.setOnline.bind(this)))}setOnline(t){Ee(this,wl)!==t&&(Dt(this,wl,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return Ee(this,wl)}},wl=new WeakMap,li=new WeakMap,_l=new WeakMap,by),Qd=new uE;function dE(e){return Math.min(1e3*2**e,3e4)}function d0(e){return(e??"online")==="online"?Qd.isOnline():!0}var f0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _m(e){return e instanceof f0}function h0(e){let t=!1,r=0,a=!1,c,d,f;const p=new Promise((T,D)=>{d=T,f=D}),v=T=>{var D;a||(P(new f0(T)),(D=e.abort)==null||D.call(e))},w=()=>{t=!0},_=()=>{t=!1},b=()=>u0.isFocused()&&(e.networkMode==="always"||Qd.isOnline())&&e.canRun(),S=()=>d0(e.networkMode)&&e.canRun(),k=T=>{var D;a||(a=!0,(D=e.onSuccess)==null||D.call(e,T),c==null||c(),d(T))},P=T=>{var D;a||(a=!0,(D=e.onError)==null||D.call(e,T),c==null||c(),f(T))},j=()=>new Promise(T=>{var D;c=M=>{(a||b())&&T(M)},(D=e.onPause)==null||D.call(e)}).then(()=>{var T;c=void 0,a||(T=e.onContinue)==null||T.call(e)}),E=()=>{if(a)return;let T;const D=r===0?e.initialPromise:void 0;try{T=D??e.fn()}catch(M){T=Promise.reject(M)}Promise.resolve(T).then(k).catch(M=>{var ne;if(a)return;const O=e.retry??(bf?0:3),I=e.retryDelay??dE,Z=typeof I=="function"?I(r,M):I,H=O===!0||typeof O=="number"&&r<O||typeof O=="function"&&O(r,M);if(t||!H){P(M);return}r++,(ne=e.onFail)==null||ne.call(e,r,M),oE(Z).then(()=>b()?void 0:j()).then(()=>{t?P(M):E()})})};return{promise:p,cancel:v,continue:()=>(c==null||c(),p),cancelRetry:w,continueRetry:_,canStart:S,start:()=>(S()?E():j().then(E),p)}}function fE(){let e=[],t=0,r=p=>{p()},a=p=>{p()},c=p=>setTimeout(p,0);const d=p=>{t?e.push(p):c(()=>{r(p)})},f=()=>{const p=e;e=[],p.length&&c(()=>{a(()=>{p.forEach(v=>{r(v)})})})};return{batch:p=>{let v;t++;try{v=p()}finally{t--,t||f()}return v},batchCalls:p=>(...v)=>{d(()=>{p(...v)})},schedule:d,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{a=p},setScheduler:p=>{c=p}}}var ar=fE(),na,Ny,m0=(Ny=class{constructor(){tn(this,na)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nE(this.gcTime)&&Dt(this,na,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bf?1/0:5*60*1e3))}clearGcTimeout(){Ee(this,na)&&(clearTimeout(Ee(this,na)),Dt(this,na,void 0))}},na=new WeakMap,Ny),bl,Nl,es,Qn,eu,ra,ys,go,Sy,hE=(Sy=class extends m0{constructor(t){super();tn(this,ys);tn(this,bl);tn(this,Nl);tn(this,es);tn(this,Qn);tn(this,eu);tn(this,ra);Dt(this,ra,!1),Dt(this,eu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Dt(this,es,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Dt(this,bl,pE(this.options)),this.state=t.state??Ee(this,bl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ee(this,Qn))==null?void 0:t.promise}setOptions(t){this.options={...Ee(this,eu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ee(this,es).remove(this)}setData(t,r){const a=iE(this.state.data,t,this.options);return Xn(this,ys,go).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){Xn(this,ys,go).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,c;const r=(a=Ee(this,Qn))==null?void 0:a.promise;return(c=Ee(this,Qn))==null||c.cancel(t),r?r.then(xs).catch(xs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ee(this,bl))}isActive(){return this.observers.some(t=>sE(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!rE(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ee(this,Qn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ee(this,Qn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ee(this,es).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ee(this,Qn)&&(Ee(this,ra)?Ee(this,Qn).cancel({revert:!0}):Ee(this,Qn).cancelRetry()),this.scheduleGc()),Ee(this,es).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xn(this,ys,go).call(this,{type:"invalidate"})}fetch(t,r){var v,w,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ee(this,Qn))return Ee(this,Qn).continueRetry(),Ee(this,Qn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(S=>S.options.queryFn);b&&this.setOptions(b.options)}const a=new AbortController,c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Dt(this,ra,!0),a.signal)})},d=()=>{const b=c0(this.options,r),S={queryKey:this.queryKey,meta:this.meta};return c(S),Dt(this,ra,!1),this.options.persister?this.options.persister(b,S,this):b(S)},f={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};c(f),(v=this.options.behavior)==null||v.onFetch(f,this),Dt(this,Nl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=f.fetchOptions)==null?void 0:w.meta))&&Xn(this,ys,go).call(this,{type:"fetch",meta:(_=f.fetchOptions)==null?void 0:_.meta});const p=b=>{var S,k,P,j;_m(b)&&b.silent||Xn(this,ys,go).call(this,{type:"error",error:b}),_m(b)||((k=(S=Ee(this,es).config).onError)==null||k.call(S,b,this),(j=(P=Ee(this,es).config).onSettled)==null||j.call(P,this.state.data,b,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Dt(this,Qn,h0({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,abort:a.abort.bind(a),onSuccess:b=>{var S,k,P,j;if(b===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(E){p(E);return}(k=(S=Ee(this,es).config).onSuccess)==null||k.call(S,b,this),(j=(P=Ee(this,es).config).onSettled)==null||j.call(P,b,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(b,S)=>{Xn(this,ys,go).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{Xn(this,ys,go).call(this,{type:"pause"})},onContinue:()=>{Xn(this,ys,go).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),Ee(this,Qn).start()}},bl=new WeakMap,Nl=new WeakMap,es=new WeakMap,Qn=new WeakMap,eu=new WeakMap,ra=new WeakMap,ys=new WeakSet,go=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...mE(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=t.error;return _m(c)&&c.revert&&Ee(this,Nl)?{...Ee(this,Nl),fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),ar.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Ee(this,es).notify({query:this,type:"updated",action:t})})},Sy);function mE(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pE(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zs,jy,gE=(jy=class extends _f{constructor(t={}){super();tn(this,zs);this.config=t,Dt(this,zs,new Map)}build(t,r,a){const c=r.queryKey,d=r.queryHash??Bp(c,r);let f=this.get(d);return f||(f=new hE({cache:this,queryKey:c,queryHash:d,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(c)}),this.add(f)),f}add(t){Ee(this,zs).has(t.queryHash)||(Ee(this,zs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ee(this,zs).get(t.queryHash);r&&(t.destroy(),r===t&&Ee(this,zs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ar.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ee(this,zs).get(t)}getAll(){return[...Ee(this,zs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>bx(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>bx(t,a)):r}notify(t){ar.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ar.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ar.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zs=new WeakMap,jy),Bs,ir,sa,Us,si,Cy,vE=(Cy=class extends m0{constructor(t){super();tn(this,Us);tn(this,Bs);tn(this,ir);tn(this,sa);this.mutationId=t.mutationId,Dt(this,ir,t.mutationCache),Dt(this,Bs,[]),this.state=t.state||xE(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ee(this,Bs).includes(t)||(Ee(this,Bs).push(t),this.clearGcTimeout(),Ee(this,ir).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Dt(this,Bs,Ee(this,Bs).filter(r=>r!==t)),this.scheduleGc(),Ee(this,ir).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ee(this,Bs).length||(this.state.status==="pending"?this.scheduleGc():Ee(this,ir).remove(this))}continue(){var t;return((t=Ee(this,sa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,d,f,p,v,w,_,b,S,k,P,j,E,T,D,M,O,I,Z,H;Dt(this,sa,h0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(ne,V)=>{Xn(this,Us,si).call(this,{type:"failed",failureCount:ne,error:V})},onPause:()=>{Xn(this,Us,si).call(this,{type:"pause"})},onContinue:()=>{Xn(this,Us,si).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ee(this,ir).canRun(this)}));const r=this.state.status==="pending",a=!Ee(this,sa).canStart();try{if(!r){Xn(this,Us,si).call(this,{type:"pending",variables:t,isPaused:a}),await((d=(c=Ee(this,ir).config).onMutate)==null?void 0:d.call(c,t,this));const V=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,t));V!==this.state.context&&Xn(this,Us,si).call(this,{type:"pending",context:V,variables:t,isPaused:a})}const ne=await Ee(this,sa).start();return await((w=(v=Ee(this,ir).config).onSuccess)==null?void 0:w.call(v,ne,t,this.state.context,this)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,ne,t,this.state.context)),await((k=(S=Ee(this,ir).config).onSettled)==null?void 0:k.call(S,ne,null,this.state.variables,this.state.context,this)),await((j=(P=this.options).onSettled)==null?void 0:j.call(P,ne,null,t,this.state.context)),Xn(this,Us,si).call(this,{type:"success",data:ne}),ne}catch(ne){try{throw await((T=(E=Ee(this,ir).config).onError)==null?void 0:T.call(E,ne,t,this.state.context,this)),await((M=(D=this.options).onError)==null?void 0:M.call(D,ne,t,this.state.context)),await((I=(O=Ee(this,ir).config).onSettled)==null?void 0:I.call(O,void 0,ne,this.state.variables,this.state.context,this)),await((H=(Z=this.options).onSettled)==null?void 0:H.call(Z,void 0,ne,t,this.state.context)),ne}finally{Xn(this,Us,si).call(this,{type:"error",error:ne})}}finally{Ee(this,ir).runNext(this)}}},Bs=new WeakMap,ir=new WeakMap,sa=new WeakMap,Us=new WeakSet,si=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ar.batch(()=>{Ee(this,Bs).forEach(a=>{a.onMutationUpdate(t)}),Ee(this,ir).notify({mutation:this,type:"updated",action:t})})},Cy);function xE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Or,tu,Ey,yE=(Ey=class extends _f{constructor(t={}){super();tn(this,Or);tn(this,tu);this.config=t,Dt(this,Or,new Map),Dt(this,tu,Date.now())}build(t,r,a){const c=new vE({mutationCache:this,mutationId:++jd(this,tu)._,options:t.defaultMutationOptions(r),state:a});return this.add(c),c}add(t){const r=Rd(t),a=Ee(this,Or).get(r)??[];a.push(t),Ee(this,Or).set(r,a),this.notify({type:"added",mutation:t})}remove(t){var a;const r=Rd(t);if(Ee(this,Or).has(r)){const c=(a=Ee(this,Or).get(r))==null?void 0:a.filter(d=>d!==t);c&&(c.length===0?Ee(this,Or).delete(r):Ee(this,Or).set(r,c))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const r=(a=Ee(this,Or).get(Rd(t)))==null?void 0:a.find(c=>c.state.status==="pending");return!r||r===t}runNext(t){var a;const r=(a=Ee(this,Or).get(Rd(t)))==null?void 0:a.find(c=>c!==t&&c.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ar.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Ee(this,Or).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(a=>Nx(r,a))}findAll(t={}){return this.getAll().filter(r=>Nx(t,r))}notify(t){ar.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ar.batch(()=>Promise.all(t.map(r=>r.continue().catch(xs))))}},Or=new WeakMap,tu=new WeakMap,Ey);function Rd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Cx(e){return{onFetch:(t,r)=>{var _,b,S,k,P;const a=t.options,c=(S=(b=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:S.direction,d=((k=t.state.data)==null?void 0:k.pages)||[],f=((P=t.state.data)==null?void 0:P.pageParams)||[];let p={pages:[],pageParams:[]},v=0;const w=async()=>{let j=!1;const E=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(t.signal.aborted?j=!0:t.signal.addEventListener("abort",()=>{j=!0}),t.signal)})},T=c0(t.options,t.fetchOptions),D=async(M,O,I)=>{if(j)return Promise.reject();if(O==null&&M.pages.length)return Promise.resolve(M);const Z={queryKey:t.queryKey,pageParam:O,direction:I?"backward":"forward",meta:t.options.meta};E(Z);const H=await T(Z),{maxPages:ne}=t.options,V=I?lE:aE;return{pages:V(M.pages,H,ne),pageParams:V(M.pageParams,O,ne)}};if(c&&d.length){const M=c==="backward",O=M?wE:Ex,I={pages:d,pageParams:f},Z=O(a,I);p=await D(I,Z,M)}else{const M=e??d.length;do{const O=v===0?f[0]??a.initialPageParam:Ex(a,p);if(v>0&&O==null)break;p=await D(p,O),v++}while(v<M)}return p};t.options.persister?t.fetchFn=()=>{var j,E;return(E=(j=t.options).persister)==null?void 0:E.call(j,w,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=w}}}function Ex(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function wE(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var En,ci,ui,Sl,jl,di,Cl,El,Py,_E=(Py=class{constructor(e={}){tn(this,En);tn(this,ci);tn(this,ui);tn(this,Sl);tn(this,jl);tn(this,di);tn(this,Cl);tn(this,El);Dt(this,En,e.queryCache||new gE),Dt(this,ci,e.mutationCache||new yE),Dt(this,ui,e.defaultOptions||{}),Dt(this,Sl,new Map),Dt(this,jl,new Map),Dt(this,di,0)}mount(){jd(this,di)._++,Ee(this,di)===1&&(Dt(this,Cl,u0.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ee(this,En).onFocus())})),Dt(this,El,Qd.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ee(this,En).onOnline())})))}unmount(){var e,t;jd(this,di)._--,Ee(this,di)===0&&((e=Ee(this,Cl))==null||e.call(this),Dt(this,Cl,void 0),(t=Ee(this,El))==null||t.call(this),Dt(this,El,void 0))}isFetching(e){return Ee(this,En).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ee(this,ci).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ee(this,En).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),a=Ee(this,En).build(this,r);return e.revalidateIfStale&&a.isStaleByTime(_x(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Ee(this,En).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),c=Ee(this,En).get(a.queryHash),d=c==null?void 0:c.state.data,f=tE(t,d);if(f!==void 0)return Ee(this,En).build(this,a).setData(f,{...r,manual:!0})}setQueriesData(e,t,r){return ar.batch(()=>Ee(this,En).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ee(this,En).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ee(this,En);ar.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ee(this,En),a={type:"active",...e};return ar.batch(()=>(r.findAll(e).forEach(c=>{c.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},a=ar.batch(()=>Ee(this,En).findAll(e).map(c=>c.cancel(r)));return Promise.all(a).then(xs).catch(xs)}invalidateQueries(e={},t={}){return ar.batch(()=>{if(Ee(this,En).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=ar.batch(()=>Ee(this,En).findAll(e).filter(c=>!c.isDisabled()).map(c=>{let d=c.fetch(void 0,r);return r.throwOnError||(d=d.catch(xs)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(a).then(xs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ee(this,En).build(this,t);return r.isStaleByTime(_x(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xs).catch(xs)}fetchInfiniteQuery(e){return e.behavior=Cx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xs).catch(xs)}ensureInfiniteQueryData(e){return e.behavior=Cx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qd.isOnline()?Ee(this,ci).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ee(this,En)}getMutationCache(){return Ee(this,ci)}getDefaultOptions(){return Ee(this,ui)}setDefaultOptions(e){Dt(this,ui,e)}setQueryDefaults(e,t){Ee(this,Sl).set(Gc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ee(this,Sl).values()];let r={};return t.forEach(a=>{Yc(e,a.queryKey)&&(r={...r,...a.defaultOptions})}),r}setMutationDefaults(e,t){Ee(this,jl).set(Gc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ee(this,jl).values()];let r={};return t.forEach(a=>{Yc(e,a.mutationKey)&&(r={...r,...a.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ee(this,ui).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===l0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ee(this,ui).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ee(this,En).clear(),Ee(this,ci).clear()}},En=new WeakMap,ci=new WeakMap,ui=new WeakMap,Sl=new WeakMap,jl=new WeakMap,di=new WeakMap,Cl=new WeakMap,El=new WeakMap,Py),bE=g.createContext(void 0),NE=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(bE.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kc.apply(this,arguments)}var fi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fi||(fi={}));const Px="popstate";function SE(e){e===void 0&&(e={});function t(a,c){let{pathname:d,search:f,hash:p}=a.location;return ep("",{pathname:d,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(a,c){return typeof c=="string"?c:Jd(c)}return CE(t,r,null,e)}function Ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jE(){return Math.random().toString(36).substr(2,8)}function Tx(e,t){return{usr:e.state,key:e.key,idx:t}}function ep(e,t,r,a){return r===void 0&&(r=null),Kc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ol(t):t,{state:r,key:t&&t.key||a||jE()})}function Jd(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ol(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function CE(e,t,r,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,f=c.history,p=fi.Pop,v=null,w=_();w==null&&(w=0,f.replaceState(Kc({},f.state,{idx:w}),""));function _(){return(f.state||{idx:null}).idx}function b(){p=fi.Pop;let E=_(),T=E==null?null:E-w;w=E,v&&v({action:p,location:j.location,delta:T})}function S(E,T){p=fi.Push;let D=ep(j.location,E,T);w=_()+1;let M=Tx(D,w),O=j.createHref(D);try{f.pushState(M,"",O)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;c.location.assign(O)}d&&v&&v({action:p,location:j.location,delta:1})}function k(E,T){p=fi.Replace;let D=ep(j.location,E,T);w=_();let M=Tx(D,w),O=j.createHref(D);f.replaceState(M,"",O),d&&v&&v({action:p,location:j.location,delta:0})}function P(E){let T=c.location.origin!=="null"?c.location.origin:c.location.href,D=typeof E=="string"?E:Jd(E);return D=D.replace(/ $/,"%20"),Ln(T,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,T)}let j={get action(){return p},get location(){return e(c,f)},listen(E){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(Px,b),v=E,()=>{c.removeEventListener(Px,b),v=null}},createHref(E){return t(c,E)},createURL:P,encodeLocation(E){let T=P(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:S,replace:k,go(E){return f.go(E)}};return j}var kx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kx||(kx={}));function EE(e,t,r){return r===void 0&&(r="/"),PE(e,t,r)}function PE(e,t,r,a){let c=typeof t=="string"?Ol(t):t,d=Up(c.pathname||"/",r);if(d==null)return null;let f=g0(e);TE(f);let p=null;for(let v=0;p==null&&v<f.length;++v){let w=BE(d);p=FE(f[v],w)}return p}function g0(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let c=(d,f,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};v.relativePath.startsWith("/")&&(Ln(v.relativePath.startsWith(a),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(a.length));let w=hi([a,v.relativePath]),_=r.concat(v);d.children&&d.children.length>0&&(Ln(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),g0(d.children,t,_,w)),!(d.path==null&&!d.index)&&t.push({path:w,score:OE(w,d.index),routesMeta:_})};return e.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))c(d,f);else for(let v of v0(d.path))c(d,f,v)}),t}function v0(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,c=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let f=v0(a.join("/")),p=[];return p.push(...f.map(v=>v===""?d:[d,v].join("/"))),c&&p.push(...f),p.map(v=>e.startsWith("/")&&v===""?"/":v)}function TE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:IE(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const kE=/^:[\w-]+$/,ME=3,RE=2,LE=1,AE=10,DE=-2,Mx=e=>e==="*";function OE(e,t){let r=e.split("/"),a=r.length;return r.some(Mx)&&(a+=DE),t&&(a+=RE),r.filter(c=>!Mx(c)).reduce((c,d)=>c+(kE.test(d)?ME:d===""?LE:AE),a)}function IE(e,t){return e.length===t.length&&e.slice(0,-1).every((a,c)=>a===t[c])?e[e.length-1]-t[t.length-1]:0}function FE(e,t,r){let{routesMeta:a}=e,c={},d="/",f=[];for(let p=0;p<a.length;++p){let v=a[p],w=p===a.length-1,_=d==="/"?t:t.slice(d.length)||"/",b=$E({path:v.relativePath,caseSensitive:v.caseSensitive,end:w},_),S=v.route;if(!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:hi([d,b.pathname]),pathnameBase:VE(hi([d,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(d=hi([d,b.pathnameBase]))}return f}function $E(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=zE(e.path,e.caseSensitive,e.end),c=t.match(r);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:a.reduce((w,_,b)=>{let{paramName:S,isOptional:k}=_;if(S==="*"){let j=p[b]||"";f=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const P=p[b];return k&&!P?w[S]=void 0:w[S]=(P||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:f,pattern:e}}function zE(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),p0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,v)=>(a.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),a]}function BE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return p0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Up(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function UE(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:c=""}=typeof e=="string"?Ol(e):e;return{pathname:r?r.startsWith("/")?r:HE(r,t):t,search:ZE(a),hash:qE(c)}}function HE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function bm(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function x0(e,t){let r=WE(e);return t?r.map((a,c)=>c===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function y0(e,t,r,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=Ol(e):(c=Kc({},e),Ln(!c.pathname||!c.pathname.includes("?"),bm("?","pathname","search",c)),Ln(!c.pathname||!c.pathname.includes("#"),bm("#","pathname","hash",c)),Ln(!c.search||!c.search.includes("#"),bm("#","search","hash",c)));let d=e===""||c.pathname==="",f=d?"/":c.pathname,p;if(f==null)p=r;else{let b=t.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;c.pathname=S.join("/")}p=b>=0?t[b]:"/"}let v=UE(c,p),w=f&&f!=="/"&&f.endsWith("/"),_=(d||f===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(w||_)&&(v.pathname+="/"),v}const hi=e=>e.join("/").replace(/\/\/+/g,"/"),VE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ZE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w0=["post","put","patch","delete"];new Set(w0);const YE=["get",...w0];new Set(YE);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xc.apply(this,arguments)}const Hp=g.createContext(null),KE=g.createContext(null),va=g.createContext(null),Nf=g.createContext(null),bi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),_0=g.createContext(null);function XE(e,t){let{relative:r}=t===void 0?{}:t;au()||Ln(!1);let{basename:a,navigator:c}=g.useContext(va),{hash:d,pathname:f,search:p}=S0(e,{relative:r}),v=f;return a!=="/"&&(v=f==="/"?a:hi([a,f])),c.createHref({pathname:v,search:p,hash:d})}function au(){return g.useContext(Nf)!=null}function lu(){return au()||Ln(!1),g.useContext(Nf).location}function b0(e){g.useContext(va).static||g.useLayoutEffect(e)}function N0(){let{isDataRoute:e}=g.useContext(bi);return e?dP():QE()}function QE(){au()||Ln(!1);let e=g.useContext(Hp),{basename:t,future:r,navigator:a}=g.useContext(va),{matches:c}=g.useContext(bi),{pathname:d}=lu(),f=JSON.stringify(x0(c,r.v7_relativeSplatPath)),p=g.useRef(!1);return b0(()=>{p.current=!0}),g.useCallback(function(w,_){if(_===void 0&&(_={}),!p.current)return;if(typeof w=="number"){a.go(w);return}let b=y0(w,JSON.parse(f),d,_.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:hi([t,b.pathname])),(_.replace?a.replace:a.push)(b,_.state,_)},[t,a,f,d,e])}function JE(){let{matches:e}=g.useContext(bi),t=e[e.length-1];return t?t.params:{}}function S0(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=g.useContext(va),{matches:c}=g.useContext(bi),{pathname:d}=lu(),f=JSON.stringify(x0(c,a.v7_relativeSplatPath));return g.useMemo(()=>y0(e,JSON.parse(f),d,r==="path"),[e,f,d,r])}function eP(e,t){return tP(e,t)}function tP(e,t,r,a){au()||Ln(!1);let{navigator:c}=g.useContext(va),{matches:d}=g.useContext(bi),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let v=f?f.pathnameBase:"/";f&&f.route;let w=lu(),_;if(t){var b;let E=typeof t=="string"?Ol(t):t;v==="/"||(b=E.pathname)!=null&&b.startsWith(v)||Ln(!1),_=E}else _=w;let S=_.pathname||"/",k=S;if(v!=="/"){let E=v.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let P=EE(e,{pathname:k}),j=iP(P&&P.map(E=>Object.assign({},E,{params:Object.assign({},p,E.params),pathname:hi([v,c.encodeLocation?c.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?v:hi([v,c.encodeLocation?c.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),d,r,a);return t&&j?g.createElement(Nf.Provider,{value:{location:Xc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:fi.Pop}},j):j}function nP(){let e=uP(),t=GE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:c},r):null,null)}const rP=g.createElement(nP,null);class sP extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(bi.Provider,{value:this.props.routeContext},g.createElement(_0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oP(e){let{routeContext:t,match:r,children:a}=e,c=g.useContext(Hp);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(bi.Provider,{value:t},a)}function iP(e,t,r,a){var c;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var d;if(!r)return null;if(r.errors)e=r.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let f=e,p=(c=r)==null?void 0:c.errors;if(p!=null){let _=f.findIndex(b=>b.route.id&&(p==null?void 0:p[b.route.id])!==void 0);_>=0||Ln(!1),f=f.slice(0,Math.min(f.length,_+1))}let v=!1,w=-1;if(r&&a&&a.v7_partialHydration)for(let _=0;_<f.length;_++){let b=f[_];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(w=_),b.route.id){let{loaderData:S,errors:k}=r,P=b.route.loader&&S[b.route.id]===void 0&&(!k||k[b.route.id]===void 0);if(b.route.lazy||P){v=!0,w>=0?f=f.slice(0,w+1):f=[f[0]];break}}}return f.reduceRight((_,b,S)=>{let k,P=!1,j=null,E=null;r&&(k=p&&b.route.id?p[b.route.id]:void 0,j=b.route.errorElement||rP,v&&(w<0&&S===0?(fP("route-fallback"),P=!0,E=null):w===S&&(P=!0,E=b.route.hydrateFallbackElement||null)));let T=t.concat(f.slice(0,S+1)),D=()=>{let M;return k?M=j:P?M=E:b.route.Component?M=g.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=_,g.createElement(oP,{match:b,routeContext:{outlet:_,matches:T,isDataRoute:r!=null},children:M})};return r&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?g.createElement(sP,{location:r.location,revalidation:r.revalidation,component:j,error:k,children:D(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):D()},null)}var j0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j0||{}),C0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(C0||{});function aP(e){let t=g.useContext(Hp);return t||Ln(!1),t}function lP(e){let t=g.useContext(KE);return t||Ln(!1),t}function cP(e){let t=g.useContext(bi);return t||Ln(!1),t}function E0(e){let t=cP(),r=t.matches[t.matches.length-1];return r.route.id||Ln(!1),r.route.id}function uP(){var e;let t=g.useContext(_0),r=lP(),a=E0();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function dP(){let{router:e}=aP(j0.UseNavigateStable),t=E0(C0.UseNavigateStable),r=g.useRef(!1);return b0(()=>{r.current=!0}),g.useCallback(function(c,d){d===void 0&&(d={}),r.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Xc({fromRouteId:t},d)))},[e,t])}const Rx={};function fP(e,t,r){Rx[e]||(Rx[e]=!0)}function oi(e){Ln(!1)}function hP(e){let{basename:t="/",children:r=null,location:a,navigationType:c=fi.Pop,navigator:d,static:f=!1,future:p}=e;au()&&Ln(!1);let v=t.replace(/^\/*/,"/"),w=g.useMemo(()=>({basename:v,navigator:d,static:f,future:Xc({v7_relativeSplatPath:!1},p)}),[v,p,d,f]);typeof a=="string"&&(a=Ol(a));let{pathname:_="/",search:b="",hash:S="",state:k=null,key:P="default"}=a,j=g.useMemo(()=>{let E=Up(_,v);return E==null?null:{location:{pathname:E,search:b,hash:S,state:k,key:P},navigationType:c}},[v,_,b,S,k,P,c]);return j==null?null:g.createElement(va.Provider,{value:w},g.createElement(Nf.Provider,{children:r,value:j}))}function mP(e){let{children:t,location:r}=e;return eP(tp(t),r)}new Promise(()=>{});function tp(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(a,c)=>{if(!g.isValidElement(a))return;let d=[...t,c];if(a.type===g.Fragment){r.push.apply(r,tp(a.props.children,d));return}a.type!==oi&&Ln(!1),!a.props.index||!a.props.children||Ln(!1);let f={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=tp(a.props.children,d)),r.push(f)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},np.apply(this,arguments)}function pP(e,t){if(e==null)return{};var r={},a=Object.keys(e),c,d;for(d=0;d<a.length;d++)c=a[d],!(t.indexOf(c)>=0)&&(r[c]=e[c]);return r}function gP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vP(e,t){return e.button===0&&(!t||t==="_self")&&!gP(e)}const xP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],yP="6";try{window.__reactRouterVersion=yP}catch{}const wP="startTransition",Lx=Ty[wP];function _P(e){let{basename:t,children:r,future:a,window:c}=e,d=g.useRef();d.current==null&&(d.current=SE({window:c,v5Compat:!0}));let f=d.current,[p,v]=g.useState({action:f.action,location:f.location}),{v7_startTransition:w}=a||{},_=g.useCallback(b=>{w&&Lx?Lx(()=>v(b)):v(b)},[v,w]);return g.useLayoutEffect(()=>f.listen(_),[f,_]),g.createElement(hP,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:f,future:a})}const bP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hs=g.forwardRef(function(t,r){let{onClick:a,relative:c,reloadDocument:d,replace:f,state:p,target:v,to:w,preventScrollReset:_,unstable_viewTransition:b}=t,S=pP(t,xP),{basename:k}=g.useContext(va),P,j=!1;if(typeof w=="string"&&NP.test(w)&&(P=w,bP))try{let M=new URL(window.location.href),O=w.startsWith("//")?new URL(M.protocol+w):new URL(w),I=Up(O.pathname,k);O.origin===M.origin&&I!=null?w=I+O.search+O.hash:j=!0}catch{}let E=XE(w,{relative:c}),T=SP(w,{replace:f,state:p,target:v,preventScrollReset:_,relative:c,unstable_viewTransition:b});function D(M){a&&a(M),M.defaultPrevented||T(M)}return g.createElement("a",np({},S,{href:P||E,onClick:j||d?a:D,ref:r,target:v}))});var Ax;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ax||(Ax={}));var Dx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dx||(Dx={}));function SP(e,t){let{target:r,replace:a,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p}=t===void 0?{}:t,v=N0(),w=lu(),_=S0(e,{relative:f});return g.useCallback(b=>{if(vP(b,r)){b.preventDefault();let S=a!==void 0?a:Jd(w)===Jd(_);v(e,{replace:S,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p})}},[w,v,_,a,c,r,e,d,f,p])}class pt{static init(){typeof window<"u"&&(this.baseUrl=window.location.origin,this.isInitialized=!0,console.log(`HttpClient: Initializing with baseUrl: ${this.baseUrl}`),console.log("HttpClient: Checking for fetch interference"),this.detectFetchInterference(),console.log(`HttpClient: Initialization complete. XHR mode: ${this.useXHROnly}`))}static ensureInitialized(){!this.isInitialized&&typeof window<"u"&&this.init(),!this.baseUrl&&typeof window<"u"&&(this.baseUrl=window.location.origin,console.log(`HttpClient: Fallback baseUrl set to: ${this.baseUrl}`))}static detectFetchInterference(){try{console.log("HttpClient: Checking for fetch interference...");const t={windowFS:!!window.FS,fullstoryScript:!!document.querySelector('script[src*="fullstory"]'),fsScript:!!document.querySelector('script[src*="fs.js"]'),userAgent:/fullstory/i.test(navigator.userAgent),fetchContainsFsJs:window.fetch.toString().includes("fs.js"),fetchTooShort:window.fetch.toString().length<50};if(console.log("HttpClient: FullStory detection checks:",t),Object.values(t).some(c=>c)){console.warn("FullStory detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}const a=window.fetch.toString();if(console.log("HttpClient: Fetch function length:",a.length),a.includes("eval")||a.includes("intercept")||a.includes("proxy")){console.warn("Fetch interception detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}console.log("HttpClient: No fetch interference detected, using native fetch")}catch{console.warn("Could not detect fetch interference, using XMLHttpRequest as fallback"),this.useXHROnly=!0}}static forceXHRMode(){console.log("HttpClient: Forced to use XMLHttpRequest mode"),this.useXHROnly=!0}static isUsingXHR(){return this.useXHROnly}static async testConnection(){try{console.log("HttpClient: Testing connection...");const t=await this.get("/api/employees",!1),r=t.ok;return console.log(`HttpClient: Connection test ${r?"passed":"failed"} - Status: ${t.status}`),r}catch(t){return console.error("HttpClient: Connection test failed:",t),!1}}static async fallbackFetch(t,r={}){return console.log(`HttpClient: XMLHttpRequest attempt to ${t}`),new Promise((a,c)=>{const d=new XMLHttpRequest,f=r.method||"GET";try{if(d.withCredentials=!1,d.open(f,t),r.headers){const p=r.headers;Object.keys(p).forEach(v=>{if(v.toLowerCase()!=="signal")try{d.setRequestHeader(v,p[v])}catch(w){console.warn(`HttpClient: Failed to set header ${v}:`,w)}})}d.timeout=15e3,d.onreadystatechange=()=>{console.log(`HttpClient: XHR readyState: ${d.readyState}, status: ${d.status}`)},d.onload=()=>{var p;console.log(`HttpClient: XHR onload - Status: ${d.status}, Response: ${(p=d.responseText)==null?void 0:p.substring(0,100)}...`);try{if(d.status>=200&&d.status<300){const v=new Response(d.responseText,{status:d.status,statusText:d.statusText,headers:new Headers({"Content-Type":d.getResponseHeader("Content-Type")||"application/json"})});a(v)}else c(new Error(`HTTP error ${d.status}: ${d.statusText||"No status text"}`))}catch(v){console.error("HttpClient: Error creating response:",v),c(new Error(`Failed to create response: ${v}`))}},d.onerror=p=>{console.error("HttpClient: XHR error event:",p),console.error("HttpClient: XHR error details:",{status:d.status,statusText:d.statusText,readyState:d.readyState,responseText:d.responseText,responseURL:d.responseURL,url:t,method:f});let v="XMLHttpRequest failed";d.readyState===0?v=`Request not initialized - possible CORS or network issue for ${t}`:d.readyState===1?v="Request opened but not sent":d.readyState===2?v="Headers received but request incomplete":d.readyState===3?v="Request in progress":d.readyState===4&&(d.status===0?v=`Network error or CORS policy blocked request to ${t}. Check if server is running and CORS is configured.`:v=`HTTP error ${d.status}: ${d.statusText||"Unknown error"} for ${t}`),c(new Error(v))},d.ontimeout=()=>{console.error("HttpClient: XHR timeout"),c(new Error("XMLHttpRequest timeout after 25 seconds"))},d.onabort=()=>{console.log("HttpClient: XHR aborted (expected)")},console.log(`HttpClient: Sending XHR ${f} request to ${t}`),r.body?(console.log("HttpClient: Request body:",r.body),d.send(r.body)):d.send()}catch(p){console.error("HttpClient: Error setting up XMLHttpRequest:",p),c(new Error(`Failed to setup XMLHttpRequest: ${p}`))}})}static async request(t,r={}){this.ensureInitialized();const a=t.startsWith("http")?t:`${this.baseUrl}${t}`,c=r.method||"GET",d=c==="GET"&&!a.includes("?")?`${c}:${a}`:null;if(d&&this.pendingRequests.has(d))return console.log(`HttpClient: Reusing pending request for ${a}`),this.pendingRequests.get(d);if(console.log(`HttpClient: Request to ${a} (baseUrl: ${this.baseUrl}, endpoint: ${t})`),!a||a==="undefined"||a.includes("undefined"))throw console.error("HttpClient: Invalid URL constructed:",{url:a,baseUrl:this.baseUrl,endpoint:t}),new Error(`Invalid URL: ${a}`);const p={...r,headers:{...{"Content-Type":"application/json"},...r.headers}},v=this.executeRequest(a,p);return d&&(this.pendingRequests.set(d,v),v.finally(()=>{this.pendingRequests.delete(d)})),v}static async executeRequest(t,r){if(this.useXHROnly)return console.log(`HttpClient: Using XMLHttpRequest for ${t} (FullStory detected)`),this.fallbackFetch(t,r);let a=null,c=null;try{a=new AbortController,c=setTimeout(()=>{a&&!a.signal.aborted&&a.abort("Request timeout after 15 seconds")},15e3);const d={...r,signal:a.signal};console.log(`HttpClient: Attempting fetch to ${t}`);const f=await fetch(t,d);return c&&(clearTimeout(c),c=null),console.log(`HttpClient: Fetch successful to ${t}`,f.status),f}catch(d){if((d==null?void 0:d.name)==="AbortError")throw console.log(`HttpClient: Request aborted for ${t}`),d;return console.warn(`HttpClient: Fetch failed, trying fallback for ${t}:`,d),this.fallbackFetch(t,r)}}static async requestWithRetry(t,r={},a=2){var d,f;let c=null;for(let p=0;p<=a;p++)try{return await this.request(t,r)}catch(v){if(c=v,console.warn(`HttpClient: Attempt ${p+1} failed for ${t}:`,v),v instanceof TypeError&&(v.message.includes("fetch")||v.message.includes("Failed to fetch")||(d=v.stack)!=null&&d.includes("fullstory")||(f=v.stack)!=null&&f.includes("fs.js"))){console.log("HttpClient: FullStory error detected in retry, switching to XMLHttpRequest mode"),this.useXHROnly=!0;try{const w=t.startsWith("http")?t:`${this.baseUrl}${t}`,b={...r,headers:{...{"Content-Type":"application/json"},...r.headers}};return await this.fallbackFetch(w,b)}catch(w){console.error("HttpClient: XHR fallback also failed:",w)}}p<a&&await new Promise(w=>setTimeout(w,Math.pow(2,p)*1e3))}throw c}static async get(t,r=!1){return r?this.requestWithRetry(t,{method:"GET"}):this.request(t,{method:"GET"})}static async post(t,r,a=!0){const c={method:"POST",body:r?JSON.stringify(r):void 0};return a?this.requestWithRetry(t,c):this.request(t,c)}static async put(t,r,a=!0){const c={method:"PUT",body:r?JSON.stringify(r):void 0};return a?this.requestWithRetry(t,c):this.request(t,c)}static async delete(t,r=!1){return r?this.requestWithRetry(t,{method:"DELETE"}):this.request(t,{method:"DELETE"})}}Fs(pt,"baseUrl",""),Fs(pt,"isInitialized",!1),Fs(pt,"useXHROnly",!1),Fs(pt,"pendingRequests",new Map);pt.init();const gt=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:yt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));gt.displayName="Card";const Lt=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:yt("flex flex-col space-y-1.5 p-6",e),...t}));Lt.displayName="CardHeader";const At=g.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:yt("text-2xl font-semibold leading-none tracking-tight",e),...t}));At.displayName="CardTitle";const jP=g.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:yt("text-sm text-muted-foreground",e),...t}));jP.displayName="CardDescription";const vt=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:yt("p-6 pt-0",e),...t}));vt.displayName="CardContent";const CP=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:yt("flex items-center p-6 pt-0",e),...t}));CP.displayName="CardFooter";const EP=ru("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=g.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...c},d)=>{const f=a?ca:"button";return o.jsx(f,{className:yt(EP({variant:t,size:r,className:e})),ref:d,...c})});Ce.displayName="Button";const PP=ru("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tt({className:e,variant:t,...r}){return o.jsx("div",{className:yt(PP({variant:t}),e),...r})}var Fc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var TP=Fc.exports,Ox;function kP(){return Ox||(Ox=1,function(e,t){(function(r,a){a(t)})(TP,function(r){var a="1.9.4";function c(s){var l,h,x,C;for(h=1,x=arguments.length;h<x;h++){C=arguments[h];for(l in C)s[l]=C[l]}return s}var d=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function f(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var x=h.call(arguments,2);return function(){return s.apply(l,x.length?x.concat(h.call(arguments)):arguments)}}var p=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++p),s._leaflet_id}function w(s,l,h){var x,C,A,W;return W=function(){x=!1,C&&(A.apply(h,C),C=!1)},A=function(){x?C=arguments:(s.apply(h,arguments),setTimeout(W,l),x=!0)},A}function _(s,l,h){var x=l[1],C=l[0],A=x-C;return s===x&&h?s:((s-C)%A+A)%A+C}function b(){return!1}function S(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function k(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function P(s){return k(s).split(/\s+/)}function j(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function E(s,l,h){var x=[];for(var C in s)x.push(encodeURIComponent(h?C.toUpperCase():C)+"="+encodeURIComponent(s[C]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function D(s,l){return s.replace(T,function(h,x){var C=l[x];if(C===void 0)throw new Error("No value provided for variable "+h);return typeof C=="function"&&(C=C(l)),C})}var M=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function O(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var H=0;function ne(s){var l=+new Date,h=Math.max(0,16-(l-H));return H=l+h,window.setTimeout(s,h)}var V=window.requestAnimationFrame||Z("RequestAnimationFrame")||ne,Y=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function te(s,l,h){if(h&&V===ne)s.call(l);else return V.call(window,f(s,l))}function fe(s){s&&Y.call(window,s)}var Ie={__proto__:null,extend:c,create:d,bind:f,get lastId(){return p},stamp:v,throttle:w,wrapNum:_,falseFn:b,formatNum:S,trim:k,splitWords:P,setOptions:j,getParamString:E,template:D,isArray:M,indexOf:O,emptyImageUrl:I,requestFn:V,cancelFn:Y,requestAnimFrame:te,cancelAnimFrame:fe};function he(){}he.extend=function(s){var l=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,x=d(h);x.constructor=l,l.prototype=x;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(l[C]=this[C]);return s.statics&&c(l,s.statics),s.includes&&(Be(s.includes),c.apply(null,[x].concat(s.includes))),c(x,s),delete x.statics,delete x.includes,x.options&&(x.options=h.options?d(h.options):{},c(x.options,s.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,W=x._initHooks.length;A<W;A++)x._initHooks[A].call(this)}},l},he.include=function(s){var l=this.prototype.options;return c(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},he.mergeOptions=function(s){return c(this.prototype.options,s),this},he.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function Be(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=M(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ee={on:function(s,l,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],l);else{s=P(s);for(var C=0,A=s.length;C<A;C++)this._on(s[C],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var x in s)this._off(x,s[x],l);else{s=P(s);for(var C=arguments.length===1,A=0,W=s.length;A<W;A++)C?this._off(s[A]):this._off(s[A],l,h)}return this},_on:function(s,l,h,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var C={fn:l,ctx:h};x&&(C.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(C)}},_off:function(s,l,h){var x,C,A;if(this._events&&(x=this._events[s],!!x)){if(arguments.length===1){if(this._firingCount)for(C=0,A=x.length;C<A;C++)x[C].fn=b;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var W=this._listens(s,l,h);if(W!==!1){var re=x[W];this._firingCount&&(re.fn=b,this._events[s]=x=x.slice()),x.splice(W,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var x=c({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var C=this._events[s];if(C){this._firingCount=this._firingCount+1||1;for(var A=0,W=C.length;A<W;A++){var re=C[A],le=re.fn;re.once&&this.off(s,le,re.ctx),le.call(re.ctx||this,x)}this._firingCount--}}return h&&this._propagateEvent(x),this},listens:function(s,l,h,x){typeof s!="string"&&console.warn('"string" type argument expected');var C=l;typeof l!="function"&&(x=!!l,C=void 0,h=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,C,h)!==!1)return!0;if(x){for(var W in this._eventParents)if(this._eventParents[W].listens(s,l,h,x))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var x=this._events[s]||[];if(!l)return!!x.length;h===this&&(h=void 0);for(var C=0,A=x.length;C<A;C++)if(x[C].fn===l&&x[C].ctx===h)return C;return!1},once:function(s,l,h){if(typeof s=="object")for(var x in s)this._on(x,s[x],l,!0);else{s=P(s);for(var C=0,A=s.length;C<A;C++)this._on(s[C],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,c({layer:s.target,propagatedFrom:s.target},s),!0)}};ee.addEventListener=ee.on,ee.removeEventListener=ee.clearAllEventListeners=ee.off,ee.addOneTimeEventListener=ee.once,ee.fireEvent=ee.fire,ee.hasEventListeners=ee.listens;var xe=he.extend(ee);function U(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var ue=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(s){return this.clone()._add(oe(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(oe(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new U(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new U(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(s){s=oe(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=oe(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=oe(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function oe(s,l,h){return s instanceof U?s:M(s)?new U(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new U(s.x,s.y):new U(s,l,h)}function z(s,l){if(s)for(var h=l?[s,l]:s,x=0,C=h.length;x<C;x++)this.extend(h[x])}z.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof U||typeof s[0]=="number"||"x"in s)l=h=oe(s);else if(s=J(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof U?s=oe(s):s=J(s),s instanceof z?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=J(s);var l=this.min,h=this.max,x=s.min,C=s.max,A=C.x>=l.x&&x.x<=h.x,W=C.y>=l.y&&x.y<=h.y;return A&&W},overlaps:function(s){s=J(s);var l=this.min,h=this.max,x=s.min,C=s.max,A=C.x>l.x&&x.x<h.x,W=C.y>l.y&&x.y<h.y;return A&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,x=Math.abs(l.x-h.x)*s,C=Math.abs(l.y-h.y)*s;return J(oe(l.x-x,l.y-C),oe(h.x+x,h.y+C))},equals:function(s){return s?(s=J(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function J(s,l){return!s||s instanceof z?s:new z(s,l)}function Ne(s,l){if(s)for(var h=l?[s,l]:s,x=0,C=h.length;x<C;x++)this.extend(h[x])}Ne.prototype={extend:function(s){var l=this._southWest,h=this._northEast,x,C;if(s instanceof Se)x=s,C=s;else if(s instanceof Ne){if(x=s._southWest,C=s._northEast,!x||!C)return this}else return s?this.extend($(s)||ke(s)):this;return!l&&!h?(this._southWest=new Se(x.lat,x.lng),this._northEast=new Se(C.lat,C.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),h.lat=Math.max(C.lat,h.lat),h.lng=Math.max(C.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,x=Math.abs(l.lat-h.lat)*s,C=Math.abs(l.lng-h.lng)*s;return new Ne(new Se(l.lat-x,l.lng-C),new Se(h.lat+x,h.lng+C))},getCenter:function(){return new Se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Se(this.getNorth(),this.getWest())},getSouthEast:function(){return new Se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof Se||"lat"in s?s=$(s):s=ke(s);var l=this._southWest,h=this._northEast,x,C;return s instanceof Ne?(x=s.getSouthWest(),C=s.getNorthEast()):x=C=s,x.lat>=l.lat&&C.lat<=h.lat&&x.lng>=l.lng&&C.lng<=h.lng},intersects:function(s){s=ke(s);var l=this._southWest,h=this._northEast,x=s.getSouthWest(),C=s.getNorthEast(),A=C.lat>=l.lat&&x.lat<=h.lat,W=C.lng>=l.lng&&x.lng<=h.lng;return A&&W},overlaps:function(s){s=ke(s);var l=this._southWest,h=this._northEast,x=s.getSouthWest(),C=s.getNorthEast(),A=C.lat>l.lat&&x.lat<h.lat,W=C.lng>l.lng&&x.lng<h.lng;return A&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=ke(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ke(s,l){return s instanceof Ne?s:new Ne(s,l)}function Se(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}Se.prototype={equals:function(s,l){if(!s)return!1;s=$(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+S(this.lat,s)+", "+S(this.lng,s)+")"},distanceTo:function(s){return ae.distance(this,$(s))},wrap:function(){return ae.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return ke([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new Se(this.lat,this.lng,this.alt)}};function $(s,l,h){return s instanceof Se?s:M(s)&&typeof s[0]!="object"?s.length===3?new Se(s[0],s[1],s[2]):s.length===2?new Se(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new Se(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new Se(s,l,h)}var K={latLngToPoint:function(s,l){var h=this.projection.project(s),x=this.scale(l);return this.transformation._transform(h,x)},pointToLatLng:function(s,l){var h=this.scale(l),x=this.transformation.untransform(s,h);return this.projection.unproject(x)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),x=this.transformation.transform(l.min,h),C=this.transformation.transform(l.max,h);return new z(x,C)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?_(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?_(s.lat,this.wrapLat,!0):s.lat,x=s.alt;return new Se(h,l,x)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),x=l.lat-h.lat,C=l.lng-h.lng;if(x===0&&C===0)return s;var A=s.getSouthWest(),W=s.getNorthEast(),re=new Se(A.lat-x,A.lng-C),le=new Se(W.lat-x,W.lng-C);return new Ne(re,le)}},ae=c({},K,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,x=s.lat*h,C=l.lat*h,A=Math.sin((l.lat-s.lat)*h/2),W=Math.sin((l.lng-s.lng)*h/2),re=A*A+Math.cos(x)*Math.cos(C)*W*W,le=2*Math.atan2(Math.sqrt(re),Math.sqrt(1-re));return this.R*le}}),_e=6378137,Te={R:_e,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,x=Math.max(Math.min(h,s.lat),-h),C=Math.sin(x*l);return new U(this.R*s.lng*l,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(s){var l=180/Math.PI;return new Se((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=_e*Math.PI;return new z([-s,-s],[s,s])}()};function We(s,l,h,x){if(M(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=x}We.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new U((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function Ze(s,l,h,x){return new We(s,l,h,x)}var nt=c({},ae,{code:"EPSG:3857",projection:Te,transformation:function(){var s=.5/(Math.PI*Te.R);return Ze(s,.5,-s,.5)}()}),Et=c({},nt,{code:"EPSG:900913"});function ye(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ge(s,l){var h="",x,C,A,W,re,le;for(x=0,A=s.length;x<A;x++){for(re=s[x],C=0,W=re.length;C<W;C++)le=re[C],h+=(C?"L":"M")+le.x+" "+le.y;h+=l?De.svg?"z":"x":""}return h||"M0 0"}var q=document.documentElement.style,me="ActiveXObject"in window,be=me&&!document.addEventListener,we="msLaunchUri"in navigator&&!("documentMode"in document),Ye=on("webkit"),ot=on("android"),it=on("android 2")||on("android 3"),Vt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),wt=ot&&on("Google")&&Vt<537&&!("AudioNode"in window),_t=!!window.opera,Bt=!we&&on("chrome"),qt=on("gecko")&&!Ye&&!_t&&!me,Xt=!Bt&&on("safari"),Gt=on("phantom"),Je="OTransition"in q,nn=navigator.platform.indexOf("Win")===0,dn=me&&"transition"in q,Ot="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,Qt="MozPerspective"in q,Ut=!window.L_DISABLE_3D&&(dn||Ot||Qt)&&!Je&&!Gt,Jt=typeof orientation<"u"||on("mobile"),ge=Jt&&Ye,je=Jt&&Ot,Fe=!window.PointerEvent&&window.MSPointerEvent,F=!!(window.PointerEvent||Fe),Q="ontouchstart"in window||!!window.TouchEvent,ve=!window.L_NO_TOUCH&&(Q||F),de=Jt&&_t,Re=Jt&&qt,Me=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$e=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",b,l),window.removeEventListener("testPassiveEventSupport",b,l)}catch{}return s}(),st=function(){return!!document.createElement("canvas").getContext}(),Ve=!!(document.createElementNS&&ye("svg").createSVGRect),He=!!Ve&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),at=!Ve&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),rt=navigator.platform.indexOf("Mac")===0,Ht=navigator.platform.indexOf("Linux")===0;function on(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var De={ie:me,ielt9:be,edge:we,webkit:Ye,android:ot,android23:it,androidStock:wt,opera:_t,chrome:Bt,gecko:qt,safari:Xt,phantom:Gt,opera12:Je,win:nn,ie3d:dn,webkit3d:Ot,gecko3d:Qt,any3d:Ut,mobile:Jt,mobileWebkit:ge,mobileWebkit3d:je,msPointer:Fe,pointer:F,touch:ve,touchNative:Q,mobileOpera:de,mobileGecko:Re,retina:Me,passiveEvents:$e,canvas:st,svg:Ve,vml:at,inlineSvg:He,mac:rt,linux:Ht},ft=De.msPointer?"MSPointerDown":"pointerdown",Ct=De.msPointer?"MSPointerMove":"pointermove",Yt=De.msPointer?"MSPointerUp":"pointerup",xa=De.msPointer?"MSPointerCancel":"pointercancel",zl={touchstart:ft,touchmove:Ct,touchend:Yt,touchcancel:xa},Cs={touchstart:yn,touchmove:ya,touchend:ya,touchcancel:ya},qs={},Bl=!1;function $f(s,l,h){return l==="touchstart"&&zf(),Cs[l]?(h=Cs[l].bind(this,h),s.addEventListener(zl[l],h,!1),h):(console.warn("wrong event specified:",l),b)}function mu(s,l,h){if(!zl[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(zl[l],h,!1)}function pu(s){qs[s.pointerId]=s}function gu(s){qs[s.pointerId]&&(qs[s.pointerId]=s)}function Ul(s){delete qs[s.pointerId]}function zf(){Bl||(document.addEventListener(ft,pu,!0),document.addEventListener(Ct,gu,!0),document.addEventListener(Yt,Ul,!0),document.addEventListener(xa,Ul,!0),Bl=!0)}function ya(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in qs)l.touches.push(qs[h]);l.changedTouches=[l],s(l)}}function yn(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&wn(l),ya(s,l)}function Bf(s){var l={},h,x;for(x in s)h=s[x],l[x]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Hl=200;function vu(s,l){s.addEventListener("dblclick",l);var h=0,x;function C(A){if(A.detail!==1){x=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var W=Ks(A);if(!(W.some(function(le){return le instanceof HTMLLabelElement&&le.attributes.for})&&!W.some(function(le){return le instanceof HTMLInputElement||le instanceof HTMLSelectElement}))){var re=Date.now();re-h<=Hl?(x++,x===2&&l(Bf(A))):x=1,h=re}}}return s.addEventListener("click",C),{dblclick:l,simDblclick:C}}function wa(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Wl=jo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bo=jo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ji=bo==="webkitTransition"||bo==="OTransition"?bo+"End":"transitionend";function jr(s){return typeof s=="string"?document.getElementById(s):s}function Ci(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(s,null);h=x?x[l]:null}return h==="auto"?null:h}function Pt(s,l,h){var x=document.createElement(s);return x.className=l||"",h&&h.appendChild(x),x}function fn(s){var l=s.parentNode;l&&l.removeChild(s)}function _a(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function No(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function as(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function So(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=ba(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function St(s,l){if(s.classList!==void 0)for(var h=P(l),x=0,C=h.length;x<C;x++)s.classList.add(h[x]);else if(!So(s,l)){var A=ba(s);Vl(s,(A?A+" ":"")+l)}}function cn(s,l){s.classList!==void 0?s.classList.remove(l):Vl(s,k((" "+ba(s)+" ").replace(" "+l+" "," ")))}function Vl(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function ba(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Wn(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&xu(s,l)}function xu(s,l){var h=!1,x="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+x+"(opacity="+l+")"}function jo(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function Cr(s,l,h){var x=l||new U(0,0);s.style[Wl]=(De.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(h?" scale("+h+")":"")}function jn(s,l){s._leaflet_pos=l,De.any3d?Cr(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function ls(s){return s._leaflet_pos||new U(0,0)}var Wt,Co,Na;if("onselectstart"in document)Wt=function(){bt(window,"selectstart",wn)},Co=function(){an(window,"selectstart",wn)};else{var Gs=jo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Wt=function(){if(Gs){var s=document.documentElement.style;Na=s[Gs],s[Gs]="none"}},Co=function(){Gs&&(document.documentElement.style[Gs]=Na,Na=void 0)}}function Sa(){bt(window,"dragstart",wn)}function ja(){an(window,"dragstart",wn)}var Ei,Pi;function Eo(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Er(),Ei=s,Pi=s.style.outlineStyle,s.style.outlineStyle="none",bt(window,"keydown",Er))}function Er(){Ei&&(Ei.style.outlineStyle=Pi,Ei=void 0,Pi=void 0,an(window,"keydown",Er))}function cs(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Br(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Ti={__proto__:null,TRANSFORM:Wl,TRANSITION:bo,TRANSITION_END:ji,get:jr,getStyle:Ci,create:Pt,remove:fn,empty:_a,toFront:No,toBack:as,hasClass:So,addClass:St,removeClass:cn,setClass:Vl,getClass:ba,setOpacity:Wn,testProp:jo,setTransform:Cr,setPosition:jn,getPosition:ls,get disableTextSelection(){return Wt},get enableTextSelection(){return Co},disableImageDrag:Sa,enableImageDrag:ja,preventOutline:Eo,restoreOutline:Er,getSizedParentNode:cs,getScale:Br};function bt(s,l,h,x){if(l&&typeof l=="object")for(var C in l)ql(s,C,l[C],h);else{l=P(l);for(var A=0,W=l.length;A<W;A++)ql(s,l[A],h,x)}return this}var An="_leaflet_events";function an(s,l,h,x){if(arguments.length===1)Zl(s),delete s[An];else if(l&&typeof l=="object")for(var C in l)Ca(s,C,l[C],h);else if(l=P(l),arguments.length===2)Zl(s,function(re){return O(l,re)!==-1});else for(var A=0,W=l.length;A<W;A++)Ca(s,l[A],h,x);return this}function Zl(s,l){for(var h in s[An]){var x=h.split(/\d/)[0];(!l||l(x))&&Ca(s,x,null,null,h)}}var Ys={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ql(s,l,h,x){var C=l+v(h)+(x?"_"+v(x):"");if(s[An]&&s[An][C])return this;var A=function(re){return h.call(x||s,re||window.event)},W=A;!De.touchNative&&De.pointer&&l.indexOf("touch")===0?A=$f(s,l,A):De.touch&&l==="dblclick"?A=vu(s,A):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Ys[l]||l,A,De.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(A=function(re){re=re||window.event,Ri(s,re)&&W(re)},s.addEventListener(Ys[l],A,!1)):s.addEventListener(l,W,!1):s.attachEvent("on"+l,A),s[An]=s[An]||{},s[An][C]=A}function Ca(s,l,h,x,C){C=C||l+v(h)+(x?"_"+v(x):"");var A=s[An]&&s[An][C];if(!A)return this;!De.touchNative&&De.pointer&&l.indexOf("touch")===0?mu(s,l,A):De.touch&&l==="dblclick"?wa(s,A):"removeEventListener"in s?s.removeEventListener(Ys[l]||l,A,!1):s.detachEvent("on"+l,A),s[An][C]=null}function Ur(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Ea(s){return ql(s,"wheel",Ur),this}function ki(s){return bt(s,"mousedown touchstart dblclick contextmenu",Ur),s._leaflet_disable_click=!0,this}function wn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Pr(s){return wn(s),Ur(s),this}function Ks(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function Mi(s,l){if(!l)return new U(s.clientX,s.clientY);var h=Br(l),x=h.boundingClientRect;return new U((s.clientX-x.left)/h.x-l.clientLeft,(s.clientY-x.top)/h.y-l.clientTop)}var Uf=De.linux&&De.chrome?window.devicePixelRatio:De.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yu(s){return De.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Uf:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ri(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Pa={__proto__:null,on:bt,off:an,stopPropagation:Ur,disableScrollPropagation:Ea,disableClickPropagation:ki,preventDefault:wn,stop:Pr,getPropagationPath:Ks,getMousePosition:Mi,getWheelDelta:yu,isExternalTarget:Ri,addListener:bt,removeListener:an},Ta=xe.extend({run:function(s,l,h,x){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=ls(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=te(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),jn(this._el,h),this.fire("step")},_complete:function(){fe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),zt=xe.extend({options:{crs:nt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=j(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView($(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bo&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),bt(this._proxy,ji,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter($(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var x=this.getZoomScale(l),C=this.getSize().divideBy(2),A=s instanceof U?s:this.latLngToContainerPoint(s),W=A.subtract(C).multiplyBy(1-1/x),re=this.containerPointToLatLng(C.add(W));return this.setView(re,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():ke(s);var h=oe(l.paddingTopLeft||l.padding||[0,0]),x=oe(l.paddingBottomRight||l.padding||[0,0]),C=this.getBoundsZoom(s,!1,h.add(x));if(C=typeof l.maxZoom=="number"?Math.min(l.maxZoom,C):C,C===1/0)return{center:s.getCenter(),zoom:C};var A=x.subtract(h).divideBy(2),W=this.project(s.getSouthWest(),C),re=this.project(s.getNorthEast(),C),le=this.unproject(W.add(re).divideBy(2).add(A),C);return{center:le,zoom:C}},fitBounds:function(s,l){if(s=ke(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=oe(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ta,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){St(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!De.any3d)return this.setView(s,l,h);this._stop();var x=this.project(this.getCenter()),C=this.project(s),A=this.getSize(),W=this._zoom;s=$(s),l=l===void 0?W:l;var re=Math.max(A.x,A.y),le=re*this.getZoomScale(W,l),Pe=C.distanceTo(x)||1,qe=1.42,ut=qe*qe;function kt(en){var Uo=en?-1:1,nh=en?le:re,rh=le*le-re*re+Uo*ut*ut*Pe*Pe,ro=2*nh*ut*Pe,so=rh/ro,oo=Math.sqrt(so*so+1)-so,Ha=oo<1e-9?-18:Math.log(oo);return Ha}function Dn(en){return(Math.exp(en)-Math.exp(-en))/2}function kn(en){return(Math.exp(en)+Math.exp(-en))/2}function rr(en){return Dn(en)/kn(en)}var Zn=kt(0);function zo(en){return re*(kn(Zn)/kn(Zn+qe*en))}function mc(en){return re*(kn(Zn)*rr(Zn+qe*en)-Dn(Zn))/ut}function As(en){return 1-Math.pow(1-en,1.5)}var zu=Date.now(),no=(kt(1)-Zn)/qe,Zr=h.duration?1e3*h.duration:1e3*no*.8;function Bo(){var en=(Date.now()-zu)/Zr,Uo=As(en)*no;en<=1?(this._flyToFrame=te(Bo,this),this._move(this.unproject(x.add(C.subtract(x).multiplyBy(mc(Uo)/Pe)),W),this.getScaleZoom(re/zo(Uo),W),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Bo.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=ke(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),x=this._limitCenter(h,this._zoom,ke(s));return h.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=oe(l.paddingTopLeft||l.padding||[0,0]),x=oe(l.paddingBottomRight||l.padding||[0,0]),C=this.project(this.getCenter()),A=this.project(s),W=this.getPixelBounds(),re=J([W.min.add(h),W.max.subtract(x)]),le=re.getSize();if(!re.contains(A)){this._enforcingBounds=!0;var Pe=A.subtract(re.getCenter()),qe=re.extend(A).getSize().subtract(le);C.x+=Pe.x<0?-qe.x:qe.x,C.y+=Pe.y<0?-qe.y:qe.y,this.panTo(this.unproject(C),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=c({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),x=l.divideBy(2).round(),C=h.divideBy(2).round(),A=x.subtract(C);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=c({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,x=new Se(l,h),C=x.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var W=this.getBoundsZoom(C);this.setView(x,A.maxZoom?Math.min(W,A.maxZoom):W)}var re={latlng:x,bounds:C,timestamp:s.timestamp};for(var le in s.coords)typeof s.coords[le]=="number"&&(re[le]=s.coords[le]);this.fire("locationfound",re)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),fn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(fe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)fn(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),x=Pt("div",h,l||this._mapPane);return s&&(this._panes[s]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new Ne(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=ke(s),h=oe(h||[0,0]);var x=this.getZoom()||0,C=this.getMinZoom(),A=this.getMaxZoom(),W=s.getNorthWest(),re=s.getSouthEast(),le=this.getSize().subtract(h),Pe=J(this.project(re,x),this.project(W,x)).getSize(),qe=De.any3d?this.options.zoomSnap:1,ut=le.x/Pe.x,kt=le.y/Pe.y,Dn=l?Math.max(ut,kt):Math.min(ut,kt);return x=this.getScaleZoom(Dn,x),qe&&(x=Math.round(x/(qe/100))*(qe/100),x=l?Math.ceil(x/qe)*qe:Math.floor(x/qe)*qe),Math.max(C,Math.min(A,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new z(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var x=h.zoom(s*h.scale(l));return isNaN(x)?1/0:x},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint($(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(oe(s),l)},layerPointToLatLng:function(s){var l=oe(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project($(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng($(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(ke(s))},distance:function(s,l){return this.options.crs.distance($(s),$(l))},containerPointToLayerPoint:function(s){return oe(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return oe(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(oe(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint($(s)))},mouseEventToContainerPoint:function(s){return Mi(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=jr(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");bt(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,St(s,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ci(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jn(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(St(s.markerPane,"leaflet-zoom-hide"),St(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){jn(this._mapPane,new U(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var C=this._zoom!==l;this._moveStart(C,h)._move(s,l)._moveEnd(C),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,x){l===void 0&&(l=this._zoom);var C=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),x?h&&h.pinch&&this.fire("zoom",h):((C||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return fe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){jn(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var l=s?an:bt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){fe(this._resizeRequest),this._resizeRequest=te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],x,C=l==="mouseout"||l==="mouseover",A=s.target||s.srcElement,W=!1;A;){if(x=this._targets[v(A)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){W=!0;break}if(x&&x.listens(l,!0)&&(C&&!Ri(A,s)||(h.push(x),C))||A===this._container)break;A=A.parentNode}return!h.length&&!W&&!C&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&Eo(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var x=c({},s);x.type="preclick",this._fireDOMEvent(x,x.type,h)}var C=this._findEventTargets(s,l);if(h){for(var A=[],W=0;W<h.length;W++)h[W].listens(l,!0)&&A.push(h[W]);C=A.concat(C)}if(C.length){l==="contextmenu"&&wn(s);var re=C[0],le={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Pe=re.getLatLng&&(!re._radius||re._radius<=10);le.containerPoint=Pe?this.latLngToContainerPoint(re.getLatLng()):this.mouseEventToContainerPoint(s),le.layerPoint=this.containerPointToLayerPoint(le.containerPoint),le.latlng=Pe?re.getLatLng():this.layerPointToLatLng(le.layerPoint)}for(W=0;W<C.length;W++)if(C[W].fire(l,le,!0),le.originalEvent._stopped||C[W].options.bubblingMouseEvents===!1&&O(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return ls(this._mapPane)||new U(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var x=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(s,l,h){var x=this._getNewPixelOrigin(h,l);return J([this.project(s.getSouthWest(),l)._subtract(x),this.project(s.getNorthWest(),l)._subtract(x),this.project(s.getSouthEast(),l)._subtract(x),this.project(s.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var x=this.project(s,l),C=this.getSize().divideBy(2),A=new z(x.subtract(C),x.add(C)),W=this._getBoundsOffset(A,h,l);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?s:this.unproject(x.add(W),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),x=new z(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(s,l,h){var x=J(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),C=x.min.subtract(s.min),A=x.max.subtract(s.max),W=this._rebound(C.x,-A.x),re=this._rebound(C.y,-A.y);return new U(W,re)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),x=De.any3d?this.options.zoomSnap:1;return x&&(s=Math.round(s/x)*x),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){cn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=Pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=Wl,x=this._proxy.style[h];Cr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Cr(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),C=this._getCenterOffset(s)._divideBy(1-1/x);return h.animate!==!0&&!this.getSize().contains(C)?!1:(te(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,x){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,St(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&cn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Es(s,l){return new zt(s,l)}var tr=he.extend({options:{position:"topright"},initialize:function(s){j(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),x=s._controlCorners[h];return St(l,"leaflet-control"),h.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ps=function(s){return new tr(s)};zt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=Pt("div",l+"control-container",this._container);function x(C,A){var W=l+C+" "+l+A;s[C+A]=Pt("div",W,h)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)fn(this._controlCorners[s]);fn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gl=tr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,x){return h<x?-1:x<h?1:0}},initialize:function(s,l,h){j(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in s)this._addLayer(s[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return tr.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){St(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(St(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):cn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return cn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=Pt("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ki(l),Ea(l);var x=this._section=Pt("section",s+"-list");h&&(this._map.on("click",this.collapse,this),bt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Pt("a",s+"-toggle",l);C.href="#",C.title="Layers",C.setAttribute("role","button"),bt(C,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){wn(A),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=Pt("div",s+"-base",x),this._separator=Pt("div",s+"-separator",x),this._overlaysList=Pt("div",s+"-overlays",x),l.appendChild(x)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(x,C){return this.options.sortFunction(x.layer,C.layer,x.name,C.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_a(this._baseLayersList),_a(this._overlaysList),this._layerControlInputs=[];var s,l,h,x,C=0;for(h=0;h<this._layers.length;h++)x=this._layers[h],this._addItem(x),l=l||x.overlay,s=s||!x.overlay,C+=x.overlay?0:1;return this.options.hideSingleBase&&(s=s&&C>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(v(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=h,x.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),x;s.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=h):x=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(x),x.layerId=v(s.layer),bt(x,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+s.name;var A=document.createElement("span");l.appendChild(A),A.appendChild(x),A.appendChild(C);var W=s.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,x=[],C=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)l=s[A],h=this._getLayer(l.layerId).layer,l.checked?x.push(h):l.checked||C.push(h);for(A=0;A<C.length;A++)this._map.hasLayer(C[A])&&this._map.removeLayer(C[A]);for(A=0;A<x.length;A++)this._map.hasLayer(x[A])||this._map.addLayer(x[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,x=this._map.getZoom(),C=s.length-1;C>=0;C--)l=s[C],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&x<h.options.minZoom||h.options.maxZoom!==void 0&&x>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,bt(s,"click",wn),this.expand();var l=this;setTimeout(function(){an(s,"click",wn),l._preventClick=!1})}}),ka=function(s,l,h){return new Gl(s,l,h)},Po=tr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=Pt("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,x,C){var A=Pt("a",h,x);return A.innerHTML=s,A.href="#",A.title=l,A.setAttribute("role","button"),A.setAttribute("aria-label",l),ki(A),bt(A,"click",Pr),bt(A,"click",C,this),bt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";cn(this._zoomInButton,l),cn(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(St(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(St(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});zt.mergeOptions({zoomControl:!0}),zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Po,this.addControl(this.zoomControl))});var wu=function(s){return new Po(s)},Vn=tr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=Pt("div",l),x=this.options;return this._addScales(x,l+"-line",h),s.on(x.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=Pt("div",l,h)),s.imperial&&(this._iScale=Pt("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,x,C;l>5280?(h=l/5280,x=this._getRoundNum(h),this._updateScale(this._iScale,x+" mi",x/h)):(C=this._getRoundNum(l),this._updateScale(this._iScale,C+" ft",C/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),To=function(s){return new Vn(s)},Yl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xs=tr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?Yl+" ":"")+"Leaflet</a>"},initialize:function(s){j(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Pt("div","leaflet-control-attribution"),ki(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});zt.mergeOptions({attributionControl:!0}),zt.addInitHook(function(){this.options.attributionControl&&new Xs().addTo(this)});var Hf=function(s){return new Xs(s)};tr.Layers=Gl,tr.Zoom=Po,tr.Scale=Vn,tr.Attribution=Xs,Ps.layers=ka,Ps.zoom=wu,Ps.scale=To,Ps.attribution=Hf;var fr=he.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fr.addTo=function(s,l){return s.addHandler(l,this),this};var Kl={Events:ee},ko=De.touch?"touchstart mousedown":"mousedown",Tr=xe.extend({options:{clickTolerance:3},initialize:function(s,l,h,x){j(this,x),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(bt(this._dragStartTarget,ko,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Tr._dragging===this&&this.finishDrag(!0),an(this._dragStartTarget,ko,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!So(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Tr._dragging===this&&this.finishDrag();return}if(!(Tr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Tr._dragging=this,this._preventOutline&&Eo(this._element),Sa(),Wt(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=cs(this._element);this._startPoint=new U(l.clientX,l.clientY),this._startPos=ls(this._element),this._parentScale=Br(h);var x=s.type==="mousedown";bt(document,x?"mousemove":"touchmove",this._onMove,this),bt(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new U(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,wn(s),this._moved||(this.fire("dragstart"),this._moved=!0,St(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),St(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),jn(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){cn(document.body,"leaflet-dragging"),this._lastTarget&&(cn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),an(document,"mousemove touchmove",this._onMove,this),an(document,"mouseup touchend touchcancel",this._onUp,this),ja(),Co();var l=this._moved&&this._moving;this._moving=!1,Tr._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Xl(s,l,h){var x,C=[1,4,2,8],A,W,re,le,Pe,qe,ut,kt;for(A=0,qe=s.length;A<qe;A++)s[A]._code=Qs(s[A],l);for(re=0;re<4;re++){for(ut=C[re],x=[],A=0,qe=s.length,W=qe-1;A<qe;W=A++)le=s[A],Pe=s[W],le._code&ut?Pe._code&ut||(kt=Ra(Pe,le,ut,l,h),kt._code=Qs(kt,l),x.push(kt)):(Pe._code&ut&&(kt=Ra(Pe,le,ut,l,h),kt._code=Qs(kt,l),x.push(kt)),x.push(le));s=x}return s}function _u(s,l){var h,x,C,A,W,re,le,Pe,qe;if(!s||s.length===0)throw new Error("latlngs not passed");hr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ut=$([0,0]),kt=ke(s),Dn=kt.getNorthWest().distanceTo(kt.getSouthWest())*kt.getNorthEast().distanceTo(kt.getNorthWest());Dn<1700&&(ut=Ql(s));var kn=s.length,rr=[];for(h=0;h<kn;h++){var Zn=$(s[h]);rr.push(l.project($([Zn.lat-ut.lat,Zn.lng-ut.lng])))}for(re=le=Pe=0,h=0,x=kn-1;h<kn;x=h++)C=rr[h],A=rr[x],W=C.y*A.x-A.y*C.x,le+=(C.x+A.x)*W,Pe+=(C.y+A.y)*W,re+=W*3;re===0?qe=rr[0]:qe=[le/re,Pe/re];var zo=l.unproject(oe(qe));return $([zo.lat+ut.lat,zo.lng+ut.lng])}function Ql(s){for(var l=0,h=0,x=0,C=0;C<s.length;C++){var A=$(s[C]);l+=A.lat,h+=A.lng,x++}return $([l/x,h/x])}var Wf={__proto__:null,clipPolygon:Xl,polygonCenter:_u,centroid:Ql};function Ma(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=qf(s,h),s=Zf(s,h),s}function bu(s,l,h){return Math.sqrt(Js(s,l,h,!0))}function Vf(s,l,h){return Js(s,l,h)}function Zf(s,l){var h=s.length,x=typeof Uint8Array<"u"?Uint8Array:Array,C=new x(h);C[0]=C[h-1]=1,Jl(s,C,l,0,h-1);var A,W=[];for(A=0;A<h;A++)C[A]&&W.push(s[A]);return W}function Jl(s,l,h,x,C){var A=0,W,re,le;for(re=x+1;re<=C-1;re++)le=Js(s[re],s[x],s[C],!0),le>A&&(W=re,A=le);A>h&&(l[W]=1,Jl(s,l,h,x,W),Jl(s,l,h,W,C))}function qf(s,l){for(var h=[s[0]],x=1,C=0,A=s.length;x<A;x++)Gf(s[x],s[C])>l&&(h.push(s[x]),C=x);return C<A-1&&h.push(s[A-1]),h}var ec;function Nu(s,l,h,x,C){var A=x?ec:Qs(s,h),W=Qs(l,h),re,le,Pe;for(ec=W;;){if(!(A|W))return[s,l];if(A&W)return!1;re=A||W,le=Ra(s,l,re,h,C),Pe=Qs(le,h),re===A?(s=le,A=Pe):(l=le,W=Pe)}}function Ra(s,l,h,x,C){var A=l.x-s.x,W=l.y-s.y,re=x.min,le=x.max,Pe,qe;return h&8?(Pe=s.x+A*(le.y-s.y)/W,qe=le.y):h&4?(Pe=s.x+A*(re.y-s.y)/W,qe=re.y):h&2?(Pe=le.x,qe=s.y+W*(le.x-s.x)/A):h&1&&(Pe=re.x,qe=s.y+W*(re.x-s.x)/A),new U(Pe,qe,C)}function Qs(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function Gf(s,l){var h=l.x-s.x,x=l.y-s.y;return h*h+x*x}function Js(s,l,h,x){var C=l.x,A=l.y,W=h.x-C,re=h.y-A,le=W*W+re*re,Pe;return le>0&&(Pe=((s.x-C)*W+(s.y-A)*re)/le,Pe>1?(C=h.x,A=h.y):Pe>0&&(C+=W*Pe,A+=re*Pe)),W=s.x-C,re=s.y-A,x?W*W+re*re:new U(C,A)}function hr(s){return!M(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Su(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hr(s)}function ju(s,l){var h,x,C,A,W,re,le,Pe;if(!s||s.length===0)throw new Error("latlngs not passed");hr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var qe=$([0,0]),ut=ke(s),kt=ut.getNorthWest().distanceTo(ut.getSouthWest())*ut.getNorthEast().distanceTo(ut.getNorthWest());kt<1700&&(qe=Ql(s));var Dn=s.length,kn=[];for(h=0;h<Dn;h++){var rr=$(s[h]);kn.push(l.project($([rr.lat-qe.lat,rr.lng-qe.lng])))}for(h=0,x=0;h<Dn-1;h++)x+=kn[h].distanceTo(kn[h+1])/2;if(x===0)Pe=kn[0];else for(h=0,A=0;h<Dn-1;h++)if(W=kn[h],re=kn[h+1],C=W.distanceTo(re),A+=C,A>x){le=(A-x)/C,Pe=[re.x-le*(re.x-W.x),re.y-le*(re.y-W.y)];break}var Zn=l.unproject(oe(Pe));return $([Zn.lat+qe.lat,Zn.lng+qe.lng])}var Cu={__proto__:null,simplify:Ma,pointToSegmentDistance:bu,closestPointOnSegment:Vf,clipSegment:Nu,_getEdgeIntersection:Ra,_getBitCode:Qs,_sqClosestPointOnSegment:Js,isFlat:hr,_flat:Su,polylineCenter:ju},tc={project:function(s){return new U(s.lng,s.lat)},unproject:function(s){return new Se(s.y,s.x)},bounds:new z([-180,-90],[180,90])},nc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,x=s.lat*l,C=this.R_MINOR/h,A=Math.sqrt(1-C*C),W=A*Math.sin(x),re=Math.tan(Math.PI/4-x/2)/Math.pow((1-W)/(1+W),A/2);return x=-h*Math.log(Math.max(re,1e-10)),new U(s.lng*l*h,x)},unproject:function(s){for(var l=180/Math.PI,h=this.R,x=this.R_MINOR/h,C=Math.sqrt(1-x*x),A=Math.exp(-s.y/h),W=Math.PI/2-2*Math.atan(A),re=0,le=.1,Pe;re<15&&Math.abs(le)>1e-7;re++)Pe=C*Math.sin(W),Pe=Math.pow((1-Pe)/(1+Pe),C/2),le=Math.PI/2-2*Math.atan(A*Pe)-W,W+=le;return new Se(W*l,s.x*l/h)}},Yf={__proto__:null,LonLat:tc,Mercator:nc,SphericalMercator:Te},Kf=c({},ae,{code:"EPSG:3395",projection:nc,transformation:function(){var s=.5/(Math.PI*nc.R);return Ze(s,.5,-s,.5)}()}),Eu=c({},ae,{code:"EPSG:4326",projection:tc,transformation:Ze(1/180,1,-1/180,.5)}),Xf=c({},K,{projection:tc,transformation:Ze(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,x=l.lat-s.lat;return Math.sqrt(h*h+x*x)},infinite:!0});K.Earth=ae,K.EPSG3395=Kf,K.EPSG3857=nt,K.EPSG900913=Et,K.EPSG4326=Eu,K.Simple=Xf;var kr=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});zt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=v(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?M(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=v(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var x in this._zoomBoundLayers){var C=this._zoomBoundLayers[x].options;s=C.minZoom===void 0?s:Math.min(s,C.minZoom),l=C.maxZoom===void 0?l:Math.max(l,C.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ts=kr.extend({initialize:function(s,l){j(this,l),this._layers={};var h,x;if(s)for(h=0,x=s.length;h<x;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,x;for(h in this._layers)x=this._layers[h],x[s]&&x[s].apply(x,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),Li=function(s,l){return new Ts(s,l)},us=Ts.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Ts.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Ts.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Ne;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Pu=function(s,l){return new us(s,l)},eo=he.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){j(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(s,l){var h=this.options,x=h[l+"Size"];typeof x=="number"&&(x=[x,x]);var C=oe(x),A=oe(l==="shadow"&&h.shadowAnchor||h.iconAnchor||C&&C.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),C&&(s.style.width=C.x+"px",s.style.height=C.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return De.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Tu(s){return new eo(s)}var Mo=eo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Mo.imagePath!="string"&&(Mo.imagePath=this._detectIconPath()),(this.options.imagePath||Mo.imagePath)+eo.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,x,C){var A=x.exec(h);return A&&A[C]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Pt("div","leaflet-default-icon-path",document.body),l=Ci(s,"background-image")||Ci(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),rc=fr.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Tr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),St(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&cn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,x=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,A=ls(l._icon),W=h.getPixelBounds(),re=h.getPixelOrigin(),le=J(W.min._subtract(re).add(C),W.max._subtract(re).subtract(C));if(!le.contains(A)){var Pe=oe((Math.max(le.max.x,A.x)-le.max.x)/(W.max.x-le.max.x)-(Math.min(le.min.x,A.x)-le.min.x)/(W.min.x-le.min.x),(Math.max(le.max.y,A.y)-le.max.y)/(W.max.y-le.max.y)-(Math.min(le.min.y,A.y)-le.min.y)/(W.min.y-le.min.y)).multiplyBy(x);h.panBy(Pe,{animate:!1}),this._draggable._newPos._add(Pe),this._draggable._startPos._add(Pe),jn(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=te(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(fe(this._panRequest),this._panRequest=te(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,x=ls(l._icon),C=l._map.layerPointToLatLng(x);h&&jn(h,x),l._latlng=C,s.latlng=C,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){fe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ds=kr.extend({options:{icon:new Mo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){j(this,l),this._latlng=$(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=$(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),x=!1;h!==this._icon&&(this._icon&&this._removeIcon(),x=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),St(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&bt(h,"focus",this._panOnFocus,this);var C=s.icon.createShadow(this._shadow),A=!1;C!==this._shadow&&(this._removeShadow(),A=!0),C&&(St(C,l),C.alt=""),this._shadow=C,s.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&an(this._icon,"focus",this._panOnFocus,this),fn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fn(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&jn(this._icon,s),this._shadow&&jn(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(St(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),rc)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new rc(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Wn(this._icon,s),this._shadow&&Wn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?oe(l.iconSize):oe(0,0),x=l.iconAnchor?oe(l.iconAnchor):oe(0,0);s.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:h.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qf(s,l){return new ds(s,l)}var ks=kr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return j(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),La=ks.extend({options:{fill:!0,radius:10},initialize:function(s,l){j(this,l),this._latlng=$(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=$(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return ks.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),x=[s+h,l+h];this._pxBounds=new z(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ku(s,l){return new La(s,l)}var Aa=La.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),j(this,l),this._latlng=$(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Ne(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:ks.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,x=h.options.crs;if(x.distance===ae.distance){var C=Math.PI/180,A=this._mRadius/ae.R/C,W=h.project([l+A,s]),re=h.project([l-A,s]),le=W.add(re).divideBy(2),Pe=h.unproject(le).lat,qe=Math.acos((Math.cos(A*C)-Math.sin(l*C)*Math.sin(Pe*C))/(Math.cos(l*C)*Math.cos(Pe*C)))/C;(isNaN(qe)||qe===0)&&(qe=A/Math.cos(Math.PI/180*l)),this._point=le.subtract(h.getPixelOrigin()),this._radius=isNaN(qe)?0:le.x-h.project([Pe,s-qe]).x,this._radiusY=le.y-W.y}else{var ut=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ut).x}this._updateBounds()}});function Ai(s,l,h){return new Aa(s,l,h)}var nr=ks.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){j(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,x=Js,C,A,W=0,re=this._parts.length;W<re;W++)for(var le=this._parts[W],Pe=1,qe=le.length;Pe<qe;Pe++){C=le[Pe-1],A=le[Pe];var ut=x(s,C,A,!0);ut<l&&(l=ut,h=x(s,C,A))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ju(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=$(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Ne,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return hr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=hr(s),x=0,C=s.length;x<C;x++)h?(l[x]=$(s[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(s[x]);return l},_project:function(){var s=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new U(s,s);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var x=s[0]instanceof Se,C=s.length,A,W;if(x){for(W=[],A=0;A<C;A++)W[A]=this._map.latLngToLayerPoint(s[A]),h.extend(W[A]);l.push(W)}else for(A=0;A<C;A++)this._projectLatlngs(s[A],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,x,C,A,W,re,le;for(h=0,C=0,A=this._rings.length;h<A;h++)for(le=this._rings[h],x=0,W=le.length;x<W-1;x++)re=Nu(le[x],le[x+1],s,x,!0),re&&(l[C]=l[C]||[],l[C].push(re[0]),(re[1]!==le[x+1]||x===W-2)&&(l[C].push(re[1]),C++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,x=s.length;h<x;h++)s[h]=Ma(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,x,C,A,W,re,le=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,A=this._parts.length;h<A;h++)for(re=this._parts[h],x=0,W=re.length,C=W-1;x<W;C=x++)if(!(!l&&x===0)&&bu(s,re[C],re[x])<=le)return!0;return!1}});function Jf(s,l){return new nr(s,l)}nr._flat=Su;var fs=nr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _u(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=nr.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof Se&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){nr.prototype._setLatLngs.call(this,s),hr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new U(l,l);if(s=new z(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,C=this._rings.length,A;x<C;x++)A=Xl(this._rings[x],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,x,C,A,W,re,le,Pe;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,le=this._parts.length;A<le;A++)for(h=this._parts[A],W=0,Pe=h.length,re=Pe-1;W<Pe;re=W++)x=h[W],C=h[re],x.y>s.y!=C.y>s.y&&s.x<(C.x-x.x)*(s.y-x.y)/(C.y-x.y)+x.x&&(l=!l);return l||nr.prototype._containsPoint.call(this,s,!0)}});function eh(s,l){return new fs(s,l)}var Hr=us.extend({initialize:function(s,l){j(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=M(s)?s:s.features,h,x,C;if(l){for(h=0,x=l.length;h<x;h++)C=l[h],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var W=Ro(s,A);return W?(W.feature=$a(s),W.defaultOptions=W.options,this.resetStyle(W),A.onEachFeature&&A.onEachFeature(s,W),this.addLayer(W)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=c({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Ro(s,l){var h=s.type==="Feature"?s.geometry:s,x=h?h.coordinates:null,C=[],A=l&&l.pointToLayer,W=l&&l.coordsToLatLng||Oa,re,le,Pe,qe;if(!x&&!h)return null;switch(h.type){case"Point":return re=W(x),Da(A,s,re,l);case"MultiPoint":for(Pe=0,qe=x.length;Pe<qe;Pe++)re=W(x[Pe]),C.push(Da(A,s,re,l));return new us(C);case"LineString":case"MultiLineString":return le=Di(x,h.type==="LineString"?0:1,W),new nr(le,l);case"Polygon":case"MultiPolygon":return le=Di(x,h.type==="Polygon"?1:2,W),new fs(le,l);case"GeometryCollection":for(Pe=0,qe=h.geometries.length;Pe<qe;Pe++){var ut=Ro({geometry:h.geometries[Pe],type:"Feature",properties:s.properties},l);ut&&C.push(ut)}return new us(C);case"FeatureCollection":for(Pe=0,qe=h.features.length;Pe<qe;Pe++){var kt=Ro(h.features[Pe],l);kt&&C.push(kt)}return new us(C);default:throw new Error("Invalid GeoJSON object.")}}function Da(s,l,h,x){return s?s(l,h):new ds(h,x&&x.markersInheritOptions&&x)}function Oa(s){return new Se(s[1],s[0],s[2])}function Di(s,l,h){for(var x=[],C=0,A=s.length,W;C<A;C++)W=l?Di(s[C],l-1,h):(h||Oa)(s[C]),x.push(W);return x}function Ia(s,l){return s=$(s),s.alt!==void 0?[S(s.lng,l),S(s.lat,l),S(s.alt,l)]:[S(s.lng,l),S(s.lat,l)]}function Fa(s,l,h,x){for(var C=[],A=0,W=s.length;A<W;A++)C.push(l?Fa(s[A],hr(s[A])?0:l-1,h,x):Ia(s[A],x));return!l&&h&&C.length>0&&C.push(C[0].slice()),C}function Lo(s,l){return s.feature?c({},s.feature,{geometry:l}):$a(l)}function $a(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var sc={toGeoJSON:function(s){return Lo(this,{type:"Point",coordinates:Ia(this.getLatLng(),s)})}};ds.include(sc),Aa.include(sc),La.include(sc),nr.include({toGeoJSON:function(s){var l=!hr(this._latlngs),h=Fa(this._latlngs,l?1:0,!1,s);return Lo(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),fs.include({toGeoJSON:function(s){var l=!hr(this._latlngs),h=l&&!hr(this._latlngs[0]),x=Fa(this._latlngs,h?2:l?1:0,!0,s);return l||(x=[x]),Lo(this,{type:(h?"Multi":"")+"Polygon",coordinates:x})}}),Ts.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),Lo(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",x=[];return this.eachLayer(function(C){if(C.toGeoJSON){var A=C.toGeoJSON(s);if(h)x.push(A.geometry);else{var W=$a(A);W.type==="FeatureCollection"?x.push.apply(x,W.features):x.push(W)}}}),h?Lo(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function Mu(s,l){return new Hr(s,l)}var Mr=Mu,Ms=kr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=ke(l),j(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(St(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&No(this._image),this},bringToBack:function(){return this._map&&as(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=ke(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:Pt("img");if(St(l,"leaflet-image-layer"),this._zoomAnimated&&St(l,"leaflet-zoom-animated"),this.options.className&&St(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Cr(this._image,h,l)},_reset:function(){var s=this._image,l=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();jn(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){Wn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Ru=function(s,l,h){return new Ms(s,l,h)},oc=Ms.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:Pt("video");if(St(l,"leaflet-image-layer"),this._zoomAnimated&&St(l,"leaflet-zoom-animated"),this.options.className&&St(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onloadeddata=f(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),x=[],C=0;C<h.length;C++)x.push(h[C].src);this._url=h.length>0?x:[l.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var W=Pt("source");W.src=this._url[A],l.appendChild(W)}}});function Lu(s,l,h){return new oc(s,l,h)}var ic=Ms.extend({_initImage:function(){var s=this._image=this._url;St(s,"leaflet-image-layer"),this._zoomAnimated&&St(s,"leaflet-zoom-animated"),this.options.className&&St(s,this.options.className),s.onselectstart=b,s.onmousemove=b}});function ac(s,l,h){return new ic(s,l,h)}var Wr=kr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof Se||M(s))?(this._latlng=$(s),j(this,l)):(j(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Wn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Wn(this._container,1),this.bringToFront(),this.options.interactive&&(St(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Wn(this._container,0),this._removeTimeout=setTimeout(f(fn,void 0,this._container),200)):fn(this._container),this.options.interactive&&(cn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=$(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&No(this._container),this},bringToBack:function(){return this._map&&as(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof us){l=null;var h=this._source._layers;for(var x in h)if(h[x]._map){l=h[x];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=oe(this.options.offset),h=this._getAnchor();this._zoomAnimated?jn(this._container,s.add(h)):l=l.add(s).add(h);var x=this._containerBottom=-l.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});zt.include({_initOverlay:function(s,l,h,x){var C=l;return C instanceof s||(C=new s(x).setContent(l)),h&&C.setLatLng(h),C}}),kr.include({_initOverlay:function(s,l,h,x){var C=h;return C instanceof s?(j(C,x),C._source=this):(C=l&&!x?l:new s(x,this),C.setContent(h)),C}});var za=Wr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Wr.prototype.openOn.call(this,s)},onAdd:function(s){Wr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ks||this._source.on("preclick",Ur))},onRemove:function(s){Wr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ks||this._source.off("preclick",Ur))},getEvents:function(){var s=Wr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=Pt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=Pt("div",s+"-content-wrapper",l);if(this._contentNode=Pt("div",s+"-content",h),ki(l),Ea(this._contentNode),bt(l,"contextmenu",Ur),this._tipContainer=Pt("div",s+"-tip-container",l),this._tip=Pt("div",s+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=Pt("a",s+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',bt(x,"click",function(C){wn(C),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var x=s.offsetHeight,C=this.options.maxHeight,A="leaflet-popup-scrolled";C&&x>C?(l.height=C+"px",St(s,A)):cn(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();jn(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Ci(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,x=this._containerWidth,C=new U(this._containerLeft,-h-this._containerBottom);C._add(ls(this._container));var A=s.layerPointToContainerPoint(C),W=oe(this.options.autoPanPadding),re=oe(this.options.autoPanPaddingTopLeft||W),le=oe(this.options.autoPanPaddingBottomRight||W),Pe=s.getSize(),qe=0,ut=0;A.x+x+le.x>Pe.x&&(qe=A.x+x-Pe.x+le.x),A.x-qe-re.x<0&&(qe=A.x-re.x),A.y+h+le.y>Pe.y&&(ut=A.y+h-Pe.y+le.y),A.y-ut-re.y<0&&(ut=A.y-re.y),(qe||ut)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([qe,ut]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ao=function(s,l){return new za(s,l)};zt.mergeOptions({closePopupOnClick:!0}),zt.include({openPopup:function(s,l,h){return this._initOverlay(za,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),kr.include({bindPopup:function(s,l){return this._popup=this._initOverlay(za,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof us||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Pr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof ks)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Do=Wr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Wr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Wr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Wr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Pt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,x=this._map,C=this._container,A=x.latLngToContainerPoint(x.getCenter()),W=x.layerPointToContainerPoint(s),re=this.options.direction,le=C.offsetWidth,Pe=C.offsetHeight,qe=oe(this.options.offset),ut=this._getAnchor();re==="top"?(l=le/2,h=Pe):re==="bottom"?(l=le/2,h=0):re==="center"?(l=le/2,h=Pe/2):re==="right"?(l=0,h=Pe/2):re==="left"?(l=le,h=Pe/2):W.x<A.x?(re="right",l=0,h=Pe/2):(re="left",l=le+(qe.x+ut.x)*2,h=Pe/2),s=s.subtract(oe(l,h,!0)).add(qe).add(ut),cn(C,"leaflet-tooltip-right"),cn(C,"leaflet-tooltip-left"),cn(C,"leaflet-tooltip-top"),cn(C,"leaflet-tooltip-bottom"),St(C,"leaflet-tooltip-"+re),jn(C,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Wn(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Oi=function(s,l){return new Do(s,l)};zt.include({openTooltip:function(s,l,h){return this._initOverlay(Do,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),kr.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Do,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof us||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(bt(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),bt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,x;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),x=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var Ba=eo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(_a(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var x=oe(h.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Au(s){return new Ba(s)}eo.Default=Mo;var Rs=kr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){j(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),fn(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(No(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(as(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof U?s:new U(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),x=0,C=l.length,A;x<C;x++)A=l[x].style.zIndex,l[x]!==this._container&&A&&(h=s(h,+A));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){Wn(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var x in this._tiles){var C=this._tiles[x];if(!(!C.current||!C.loaded)){var A=Math.min(1,(s-C.loaded)/200);Wn(C.el,A),A<1?l=!0:(C.active?h=!0:this._onOpaqueTile(C),C.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(fe(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=Pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(fn(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var x=this._levels[s],C=this._map;return x||(x=this._levels[s]={},x.el=Pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=C.project(C.unproject(C.getPixelOrigin()),s).round(),x.zoom=s,this._setZoomTransform(x,C.getCenter(),C.getZoom()),b(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)fn(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,x){var C=Math.floor(s/2),A=Math.floor(l/2),W=h-1,re=new U(+C,+A);re.z=+W;var le=this._tileCoordsToKey(re),Pe=this._tiles[le];return Pe&&Pe.active?(Pe.retain=!0,!0):(Pe&&Pe.loaded&&(Pe.retain=!0),W>x?this._retainParent(C,A,W,x):!1)},_retainChildren:function(s,l,h,x){for(var C=2*s;C<2*s+2;C++)for(var A=2*l;A<2*l+2;A++){var W=new U(C,A);W.z=h+1;var re=this._tileCoordsToKey(W),le=this._tiles[re];if(le&&le.active){le.retain=!0;continue}else le&&le.loaded&&(le.retain=!0);h+1<x&&this._retainChildren(C,A,h+1,x)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,x){var C=Math.round(l);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var A=this.options.updateWhenZooming&&C!==this._tileZoom;(!x||A)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var x=this._map.getZoomScale(h,s.zoom),C=s.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,h)).round();De.any3d?Cr(s.el,C,x):jn(s.el,C)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),x=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],x).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],x).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],x).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],x).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(h,this._tileZoom),C=l.project(s,this._tileZoom).floor(),A=l.getSize().divideBy(x*2);return new z(C.subtract(A),C.add(A))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(s),C=this._pxBoundsToTileRange(x),A=C.getCenter(),W=[],re=this.options.keepBuffer,le=new z(C.getBottomLeft().subtract([re,-re]),C.getTopRight().add([re,-re]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Pe in this._tiles){var qe=this._tiles[Pe].coords;(qe.z!==this._tileZoom||!le.contains(new U(qe.x,qe.y)))&&(this._tiles[Pe].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var ut=C.min.y;ut<=C.max.y;ut++)for(var kt=C.min.x;kt<=C.max.x;kt++){var Dn=new U(kt,ut);if(Dn.z=this._tileZoom,!!this._isValidTile(Dn)){var kn=this._tiles[this._tileCoordsToKey(Dn)];kn?kn.current=!0:W.push(Dn)}}if(W.sort(function(Zn,zo){return Zn.distanceTo(A)-zo.distanceTo(A)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var rr=document.createDocumentFragment();for(kt=0;kt<W.length;kt++)this._addTile(W[kt],rr);this._level.el.appendChild(rr)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(s);return ke(this.options.bounds).overlaps(x)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),x=s.scaleBy(h),C=x.add(h),A=l.unproject(x,s.z),W=l.unproject(C,s.z);return[A,W]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new Ne(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new U(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(fn(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){St(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=b,s.onmousemove=b,De.ielt9&&this.options.opacity<1&&Wn(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),x=this._tileCoordsToKey(s),C=this.createTile(this._wrapCoords(s),f(this._tileReady,this,s));this._initTile(C),this.createTile.length<2&&te(f(this._tileReady,this,s,null,C)),jn(C,h),this._tiles[x]={el:C,coords:s,current:!0},l.appendChild(C),this.fire("tileloadstart",{tile:C,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var x=this._tileCoordsToKey(s);h=this._tiles[x],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Wn(h.el,0),fe(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(St(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?te(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new U(this._wrapX?_(s.x,this._wrapX):s.x,this._wrapY?_(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new z(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Oo(s){return new Rs(s)}var Ls=Rs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=j(this,l),l.detectRetina&&De.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return bt(h,"load",f(this._tileOnLoad,this,l,h)),bt(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:De.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return D(this._url,c(l,this.options))},_tileOnLoad:function(s,l){De.ielt9?setTimeout(f(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,x=this.options.zoomOffset;return h&&(s=l-s),s+x},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=b,l.onerror=b,!l.complete)){l.src=I;var h=this._tiles[s].coords;fn(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",I),Rs.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===I))return Rs.prototype._tileReady.call(this,s,l,h)}});function lc(s,l){return new Ls(s,l)}var Ii=Ls.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=c({},this.defaultWmsParams);for(var x in l)x in this.options||(h[x]=l[x]);l=j(this,l);var C=l.detectRetina&&De.retina?2:1,A=this.getTileSize();h.width=A.x*C,h.height=A.y*C,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Ls.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,x=J(h.project(l[0]),h.project(l[1])),C=x.min,A=x.max,W=(this._wmsVersion>=1.3&&this._crs===Eu?[C.y,C.x,A.y,A.x]:[C.x,C.y,A.x,A.y]).join(","),re=Ls.prototype.getTileUrl.call(this,s);return re+E(this.wmsParams,re,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(s,l){return c(this.wmsParams,s),l||this.redraw(),this}});function Du(s,l){return new Ii(s,l)}Ls.WMS=Ii,lc.wms=Du;var Vr=kr.extend({options:{padding:.1},initialize:function(s){j(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),St(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,l),A=x.multiplyBy(-h).add(C).subtract(this._map._getNewPixelOrigin(s,l));De.any3d?Cr(this._container,A,h):jn(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new z(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cc=Vr.extend({options:{tolerance:0},getEvents:function(){var s=Vr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Vr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");bt(s,"mousemove",this._onMouseMove,this),bt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),bt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){fe(this._redrawRequest),delete this._ctx,fn(this._container),an(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vr.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),x=De.retina?2:1;jn(l,s.min),l.width=x*h.x,l.height=x*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Vr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,x=l.prev;h?h.prev=x:this._drawLast=x,x?x.next=h:this._drawFirst=h,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],x,C;for(C=0;C<l.length;C++){if(x=Number(l[C]),isNaN(x))return;h.push(x)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||te(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)s=x.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,x,C,A,W=s._parts,re=W.length,le=this._ctx;if(re){for(le.beginPath(),h=0;h<re;h++){for(x=0,C=W[h].length;x<C;x++)A=W[h][x],le[x?"lineTo":"moveTo"](A.x,A.y);l&&le.closePath()}this._fillStroke(le,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,x=Math.max(Math.round(s._radius),1),C=(Math.max(Math.round(s._radiusY),1)||x)/x;C!==1&&(h.save(),h.scale(1,C)),h.beginPath(),h.arc(l.x,l.y/C,x,0,Math.PI*2,!1),C!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,x,C=this._drawFirst;C;C=C.next)h=C.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(x=h);this._fireEvent(x?[x]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(cn(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,x,C=this._drawFirst;C;C=C.next)h=C.layer,h.options.interactive&&h._containsPoint(l)&&(x=h);x!==this._hoveredLayer&&(this._handleMouseOut(s),x&&(St(this._container,"leaflet-interactive"),this._fireEvent([x],s,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,x=l.prev;if(h)h.prev=x;else return;x?x.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,x=l.prev;if(x)x.next=h;else return;h?h.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function uc(s){return De.canvas?new cc(s):null}var Io=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ou={_initContainer:function(){this._container=Pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Vr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Io("shape");St(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Io("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;fn(l),s.removeInteractiveTarget(l),delete this._layers[v(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,x=s.options,C=s._container;C.stroked=!!x.stroke,C.filled=!!x.fill,x.stroke?(l||(l=s._stroke=Io("stroke")),C.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=M(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(C.removeChild(l),s._stroke=null),x.fill?(h||(h=s._fill=Io("fill")),C.appendChild(h),h.color=x.fillColor||x.color,h.opacity=x.fillOpacity):h&&(C.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),x=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+x+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){No(s._container)},_bringToBack:function(s){as(s._container)}},Rr=De.vml?Io:ye,to=Vr.extend({_initContainer:function(){this._container=Rr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Rr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fn(this._container),an(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Vr.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),jn(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Rr("path");s.options.className&&St(l,s.options.className),s.options.interactive&&St(l,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){fn(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Ge(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),x=Math.max(Math.round(s._radiusY),1)||h,C="a"+h+","+x+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+C+h*2+",0 "+C+-h*2+",0 ";this._setPath(s,A)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){No(s._path)},_bringToBack:function(s){as(s._path)}});De.vml&&to.include(Ou);function Ua(s){return De.svg||De.vml?new to(s):null}zt.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&uc(s)||Ua(s)}});var Iu=fs.extend({initialize:function(s,l){fs.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=ke(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function th(s,l){return new Iu(s,l)}to.create=Rr,to.pointsToPath=Ge,Hr.geometryToLayer=Ro,Hr.coordsToLatLng=Oa,Hr.coordsToLatLngs=Di,Hr.latLngToCoords=Ia,Hr.latLngsToCoords=Fa,Hr.getFeature=Lo,Hr.asFeature=$a,zt.mergeOptions({boxZoom:!0});var Fo=fr.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){bt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){an(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Wt(),Sa(),this._startPoint=this._map.mouseEventToContainerPoint(s),bt(document,{contextmenu:Pr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Pt("div","leaflet-zoom-box",this._container),St(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new z(this._point,this._startPoint),h=l.getSize();jn(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(fn(this._box),cn(this._container,"leaflet-crosshair")),Co(),ja(),an(document,{contextmenu:Pr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new Ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});zt.addInitHook("addHandler","boxZoom",Fo),zt.mergeOptions({doubleClickZoom:!0});var Fu=fr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),x=l.options.zoomDelta,C=s.originalEvent.shiftKey?h-x:h+x;l.options.doubleClickZoom==="center"?l.setZoom(C):l.setZoomAround(s.containerPoint,C)}});zt.addInitHook("addHandler","doubleClickZoom",Fu),zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var dc=fr.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Tr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}St(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){cn(this._map._container,"leaflet-grab"),cn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ke(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,x=this._draggable._newPos.x,C=(x-l+h)%s+l-h,A=(x+l+h)%s-l-h,W=Math.abs(C+h)<Math.abs(A+h)?C:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(s){var l=this._map,h=l.options,x=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),x)l.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,W=h.easeLinearity,re=C.multiplyBy(W/A),le=re.distanceTo([0,0]),Pe=Math.min(h.inertiaMaxSpeed,le),qe=re.multiplyBy(Pe/le),ut=Pe/(h.inertiaDeceleration*W),kt=qe.multiplyBy(-ut/2).round();!kt.x&&!kt.y?l.fire("moveend"):(kt=l._limitOffset(kt,l.options.maxBounds),te(function(){l.panBy(kt,{duration:ut,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});zt.addInitHook("addHandler","dragging",dc),zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fc=fr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),bt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),an(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,x=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,x,C;for(x=0,C=h.left.length;x<C;x++)l[h.left[x]]=[-1*s,0];for(x=0,C=h.right.length;x<C;x++)l[h.right[x]]=[s,0];for(x=0,C=h.down.length;x<C;x++)l[h.down[x]]=[0,s];for(x=0,C=h.up.length;x<C;x++)l[h.up[x]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,x,C;for(x=0,C=h.zoomIn.length;x<C;x++)l[h.zoomIn[x]]=s;for(x=0,C=h.zoomOut.length;x<C;x++)l[h.zoomOut[x]]=-s},_addHooks:function(){bt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){an(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,x;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(x=this._panKeys[l],s.shiftKey&&(x=oe(x).multiplyBy(3)),h.options.maxBounds&&(x=h._limitOffset(oe(x),h.options.maxBounds)),h.options.worldCopyJump){var C=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(x)));h.panTo(C)}else h.panBy(x)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Pr(s)}}});zt.addInitHook("addHandler","keyboard",fc),zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ln=fr.extend({addHooks:function(){bt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){an(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=yu(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var x=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),x),Pr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,A=h?Math.ceil(C/h)*h:C,W=s._limitZoom(l+(this._delta>0?A:-A))-l;this._delta=0,this._startTime=null,W&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+W):s.setZoomAround(this._lastMousePos,l+W))}});zt.addInitHook("addHandler","scrollWheelZoom",ln);var hc=600;zt.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var Fi=fr.extend({addHooks:function(){bt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){an(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new U(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(bt(document,"touchend",wn),bt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),hc),bt(document,"touchend touchcancel contextmenu",this._cancel,this),bt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){an(document,"touchend",wn),an(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),an(document,"touchend touchcancel contextmenu",this._cancel,this),an(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new U(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});zt.addInitHook("addHandler","tapHold",Fi),zt.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var $o=fr.extend({addHooks:function(){St(this._map._container,"leaflet-touch-zoom"),bt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){cn(this._map._container,"leaflet-touch-zoom"),an(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),x=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(x)._divideBy(2))),this._startDist=h.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),bt(document,"touchmove",this._onTouchMove,this),bt(document,"touchend touchcancel",this._onTouchEnd,this),wn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),x=l.mouseEventToContainerPoint(s.touches[1]),C=h.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(C,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&C<1||this._zoom>l.getMaxZoom()&&C>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var A=h._add(x)._divideBy(2)._subtract(this._centerPoint);if(C===1&&A.x===0&&A.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),fe(this._animRequest);var W=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=te(W,this,!0),wn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,fe(this._animRequest),an(document,"touchmove",this._onTouchMove,this),an(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});zt.addInitHook("addHandler","touchZoom",$o),zt.BoxZoom=Fo,zt.DoubleClickZoom=Fu,zt.Drag=dc,zt.Keyboard=fc,zt.ScrollWheelZoom=ln,zt.TapHold=Fi,zt.TouchZoom=$o,r.Bounds=z,r.Browser=De,r.CRS=K,r.Canvas=cc,r.Circle=Aa,r.CircleMarker=La,r.Class=he,r.Control=tr,r.DivIcon=Ba,r.DivOverlay=Wr,r.DomEvent=Pa,r.DomUtil=Ti,r.Draggable=Tr,r.Evented=xe,r.FeatureGroup=us,r.GeoJSON=Hr,r.GridLayer=Rs,r.Handler=fr,r.Icon=eo,r.ImageOverlay=Ms,r.LatLng=Se,r.LatLngBounds=Ne,r.Layer=kr,r.LayerGroup=Ts,r.LineUtil=Cu,r.Map=zt,r.Marker=ds,r.Mixin=Kl,r.Path=ks,r.Point=U,r.PolyUtil=Wf,r.Polygon=fs,r.Polyline=nr,r.Popup=za,r.PosAnimation=Ta,r.Projection=Yf,r.Rectangle=Iu,r.Renderer=Vr,r.SVG=to,r.SVGOverlay=ic,r.TileLayer=Ls,r.Tooltip=Do,r.Transformation=We,r.Util=Ie,r.VideoOverlay=oc,r.bind=f,r.bounds=J,r.canvas=uc,r.circle=Ai,r.circleMarker=ku,r.control=Ps,r.divIcon=Au,r.extend=c,r.featureGroup=Pu,r.geoJSON=Mu,r.geoJson=Mr,r.gridLayer=Oo,r.icon=Tu,r.imageOverlay=Ru,r.latLng=$,r.latLngBounds=ke,r.layerGroup=Li,r.map=Es,r.marker=Qf,r.point=oe,r.polygon=eh,r.polyline=Jf,r.popup=Ao,r.rectangle=th,r.setOptions=j,r.stamp=v,r.svg=Ua,r.svgOverlay=ac,r.tileLayer=lc,r.tooltip=Oi,r.transformation=Ze,r.version=a,r.videoOverlay=Lu;var $u=window.L;r.noConflict=function(){return window.L=$u,this},window.L=r})}(Fc,Fc.exports)),Fc.exports}var MP=kP();const Rn=wp(MP),RP=()=>({openRouteServiceKey:"your_production_api_key_here",mapboxKey:void 0,googleMapsKey:void 0}),Wp=()=>({type:"openroute",hasKey:!0,description:"OpenRouteService - Good accuracy, limited free tier"}),P0=()=>{const e=Wp(),t=[{service:"OpenRouteService",url:"https://openrouteservice.org/",freeLimit:"2,000 requests/day",paidOptions:"Available from 2.99/month",setup:"Set VITE_OPENROUTESERVICE_API_KEY in your .env file",recommended:!e.hasKey},{service:"MapBox",url:"https://www.mapbox.com/",freeLimit:"50,000 requests/month",paidOptions:"Pay-per-use beyond free tier",setup:"Set VITE_MAPBOX_API_KEY in your .env file",recommended:e.type==="free"},{service:"Google Maps",url:"https://developers.google.com/maps",freeLimit:"Paid service (requires billing)",paidOptions:"Most accurate, enterprise-grade",setup:"Set VITE_GOOGLE_MAPS_API_KEY in your .env file",recommended:!1}];return{current:e,recommendations:t}},Ji=class Ji{constructor(){Fs(this,"cache",new Map);Fs(this,"maxCacheSize",200);Fs(this,"cacheTimeout",60*60*1e3)}static getInstance(){return Ji.instance||(Ji.instance=new Ji),Ji.instance}getCacheKey(t,r){return`${t.lat.toFixed(5)},${t.lng.toFixed(5)}_${r.lat.toFixed(5)},${r.lng.toFixed(5)}`}isValidCache(t){return Date.now()-t.timestamp<this.cacheTimeout}async getRouteFromORS(t,r){var a,c;try{const p=await fetch("https://api.openrouteservice.org/v2/directions/driving-car",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"your_production_api_key_here"},body:JSON.stringify({coordinates:[[t.lng,t.lat],[r.lng,r.lat]],format:"geojson"})});if(!p.ok)return console.warn(`ORS API failed: ${p.status} ${p.statusText}`),null;const v=await p.json();if(v.features&&v.features.length>0){const w=v.features[0];return{coordinates:w.geometry.coordinates.map(b=>[b[1],b[0]]),distance:((a=w.properties.segments[0])==null?void 0:a.distance)||0,duration:((c=w.properties.segments[0])==null?void 0:c.duration)||0,source:"road-api",confidence:"high"}}}catch(d){console.warn("ORS routing failed:",d.message)}return null}async getRouteFromMapbox(t,r){try{const a=RP();if(!a.mapboxKey)return null;const c=`https://api.mapbox.com/directions/v5/mapbox/driving/${t.lng},${t.lat};${r.lng},${r.lat}?geometries=geojson&access_token=${a.mapboxKey}`,d=new AbortController,f=setTimeout(()=>d.abort(),1e4),p=await fetch(c,{signal:d.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(f),!p.ok)return console.warn(`MapBox API failed: ${p.status} ${p.statusText}`),null;const v=await p.json();if(v.routes&&v.routes.length>0){const w=v.routes[0];return!w.geometry||!w.geometry.coordinates||w.geometry.coordinates.length<2?(console.warn("MapBox returned invalid geometry"),null):{coordinates:w.geometry.coordinates.map(b=>[b[1],b[0]]),distance:w.distance||0,duration:w.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("MapBox routing timed out"):console.warn("MapBox routing failed:",a.message)}return null}async getRouteFromOSRM(t,r){try{const a=`https://router.project-osrm.org/route/v1/driving/${t.lng},${t.lat};${r.lng},${r.lat}?overview=full&geometries=geojson`,c=new AbortController,d=setTimeout(()=>c.abort(),1e4),f=await fetch(a,{signal:c.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(d),!f.ok)return console.warn(`OSRM API failed: ${f.status} ${f.statusText}`),null;const p=await f.json();if(p.routes&&p.routes.length>0){const v=p.routes[0];return!v.geometry||!v.geometry.coordinates||v.geometry.coordinates.length<2?(console.warn("OSRM returned invalid geometry"),null):{coordinates:v.geometry.coordinates.map(_=>[_[1],_[0]]),distance:v.distance||0,duration:v.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("OSRM routing timed out"):console.warn("OSRM routing failed:",a.message)}return null}calculateStraightLineDistance(t,r){const c=t.lat*Math.PI/180,d=r.lat*Math.PI/180,f=(r.lat-t.lat)*Math.PI/180,p=(t.lng-r.lng)*Math.PI/180,v=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))}createStraightLineRoute(t,r){const a=this.calculateStraightLineDistance(t,r),c=[];if(a>500){const d=Math.min(5,Math.floor(a/200));for(let f=0;f<=d;f++){const p=f/d,v=t.lat+(r.lat-t.lat)*p,w=t.lng+(r.lng-t.lng)*p;c.push([v,w])}}else c.push([t.lat,t.lng],[r.lat,r.lng]);return{coordinates:c,distance:a,duration:a/13.89,source:"straight-line",confidence:a<100?"medium":"low"}}async getRoute(t,r){const a=this.getCacheKey(t,r),c=this.cache.get(a);if(c&&this.isValidCache(c))return console.log(`Using cached route for ${this.calculateStraightLineDistance(t,r).toFixed(0)}m distance`),c.route;const d=this.calculateStraightLineDistance(t,r);if(d<30){console.log(`Short distance (${Math.round(d)}m), using direct line`);const p=this.createStraightLineRoute(t,r);return p.confidence="high",this.cache.set(a,{route:p,timestamp:Date.now()}),p}let f=null;if(d<1e4&&(f=await this.getRouteFromMapbox(t,r),!f&&d>50&&(f=await this.getRouteFromORS(t,r)),!f&&d>30&&(f=await this.getRouteFromOSRM(t,r))),!f){const p=d>=5e3?"Long distance":"API services unavailable";console.log(`${p} - using straight line for ${Math.round(d)}m distance`),f=this.createStraightLineRoute(t,r),d<200?f.confidence="medium":d>1e3&&(f.confidence="low")}if(this.cache.size>=this.maxCacheSize){const p=this.cache.keys().next().value;this.cache.delete(p)}return this.cache.set(a,{route:f,timestamp:Date.now()}),f}createGPSRoute(t){if(t.length<2)return{coordinates:[],distance:0,duration:0,source:"gps",confidence:"high"};const r=this.cleanGPSPoints(t),a=r.map(p=>[p.lat,p.lng]);let c=0;for(let p=1;p<r.length;p++){const v=r[p-1],w=r[p];c+=this.calculateStraightLineDistance(v,w)}let d=0;if(r[0].timestamp&&r[r.length-1].timestamp){const p=new Date(r[0].timestamp).getTime();d=(new Date(r[r.length-1].timestamp).getTime()-p)/1e3}else d=c/13.89;const f=this.assessGPSQuality(r,t.length);return console.log(` GPS route: ${r.length}/${t.length} points, ${(c/1e3).toFixed(2)}km, ${f} confidence`),{coordinates:a,distance:c,duration:d,source:"gps",confidence:f}}cleanGPSPoints(t){if(t.length<=2)return t;const r=[t[0]];for(let a=1;a<t.length;a++){const c=t[a],d=r[r.length-1],f=this.calculateStraightLineDistance(d,c);if(!(f<3)){if(c.timestamp&&d.timestamp){const p=(new Date(c.timestamp).getTime()-new Date(d.timestamp).getTime())/1e3;if(p>0&&p<5&&f>300){console.warn(`Skipping GPS outlier: ${Math.round(f)}m in ${p}s (${Math.round(f/p*3.6)}km/h)`);continue}}r.push(c)}}return r.length<2?(console.warn(`GPS cleaning removed too many points (${r.length}/${t.length}), using original`),t):r.length<t.length*.5?(console.warn(`GPS cleaning removed over 50% of points (${r.length}/${t.length}), using original`),t):(console.log(`GPS cleaning: kept ${r.length}/${t.length} points`),r)}assessGPSQuality(t,r){const a=t.length/r;return t.length>=10&&a>.7?"high":t.length>=5&&a>.5?"medium":"low"}async getRouteForPoints(t){if(t.length<2)return{coordinates:[],totalDistance:0,segments:[]};const r=[];let a=[],c=0,d=0;const f=15,p=t.length>f+1?this.selectKeyPoints(t,f):t;console.log(`Processing route with ${p.length} key points (from ${t.length} total GPS points)`);for(let b=0;b<p.length-1;b++)try{const S=await this.getRoute(p[b],p[b+1]);r.push(S),S.source==="road-api"&&d++,b===0?a.push(...S.coordinates):a.push(...S.coordinates.slice(1)),c+=S.distance}catch(S){console.warn(`Failed to get route for segment ${b}-${b+1}:`,S);const k=p[b],P=p[b+1],j=[[k.lat,k.lng],[P.lat,P.lng]];b===0?a.push(...j):a.push(j[1]);const E=this.calculateStraightLineDistance(k,P);c+=E}const v=r.length>0?d/r.length:0;let w="mixed",_="medium";return v>=.8?(w="road-api",_="high"):v>=.5?(w="road-mixed",_="medium"):(w="gps-fallback",_="low"),console.log(`Route complete: ${a.length} coordinates, ${Math.round(c/1e3*100)/100}km, ${d}/${r.length} road segments`),{coordinates:a,totalDistance:c,segments:r,source:w,confidence:_}}selectKeyPoints(t,r){if(t.length<=r)return t;const a=[t[0]],c=Math.floor(t.length/(r-2));for(let d=c;d<t.length-1;d+=c)a.push(t[d]);return a.push(t[t.length-1]),a}clearCache(){this.cache.clear()}};Fs(Ji,"instance");let rp=Ji;const ts=rp.getInstance();delete Rn.Icon.Default.prototype._getIconUrl;Rn.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function Vp({employees:e,selectedEmployee:t,height:r="400px",onEmployeeClick:a,trackingSession:c,showRoute:d=!1}){const f=g.useRef(null),p=g.useRef(null),v=g.useRef({}),w=g.useRef(null),_=g.useRef([]),[b,S]=g.useState(!1),[k,P]=g.useState(null),[j,E]=g.useState(null);return g.useEffect(()=>{if(!p.current)return;f.current=Rn.map(p.current).setView([40.7128,-74.006],12),Rn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(f.current);const T=document.createElement("link");return T.rel="stylesheet",T.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",document.head.appendChild(T),()=>{f.current&&(f.current.remove(),f.current=null),document.head.removeChild(T)}},[]),g.useEffect(()=>{if(!f.current||!e.length)return;Object.values(v.current).forEach(M=>{var O;(O=f.current)==null||O.removeLayer(M)}),v.current={};const T=M=>{var I;const O=M==="active"?"#22c55e":M==="meeting"?"#f59e0b":"#6b7280";return Rn.divIcon({html:`
          <div style="
            background-color: ${O};
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            ${t&&t===((I=e.find(Z=>Z.location.lat===parseFloat(M)&&Z.location.lng===parseFloat(M)))==null?void 0:I.id)?"transform: scale(1.3);":""}
          "></div>
        `,className:"custom-div-icon",iconSize:[20,20],iconAnchor:[10,10]})},D=Rn.latLngBounds([]);e.forEach(M=>{if(M.location.lat&&M.location.lng){const O=Rn.marker([M.location.lat,M.location.lng],{icon:T(M.status)}).addTo(f.current);O.bindPopup(`
          <div style="min-width: 200px;">
            <h3 style="margin: 0 0 8px 0; font-weight: bold;">${M.name}</h3>
            <p style="margin: 0 0 4px 0; color: #666;">
              <span style="
                display: inline-block;
                padding: 2px 6px;
                border-radius: 4px;
                font-size: 12px;
                background-color: ${M.status==="active"?"#22c55e":M.status==="meeting"?"#f59e0b":"#6b7280"};
                color: white;
              ">${M.status==="active"?"On Route":M.status==="meeting"?"In Meeting":"Offline"}</span>
            </p>
            <p style="margin: 0 0 4px 0; font-size: 14px;">${M.location.address}</p>
            ${M.currentTask?`<p style="margin: 0 0 4px 0; font-size: 12px; font-style: italic;">${M.currentTask}</p>`:""}
            <p style="margin: 0; font-size: 12px; color: #888;">Updated ${M.lastUpdate}</p>
          </div>
        `),a&&O.on("click",()=>a(M.id)),v.current[M.id]=O,D.extend([M.location.lat,M.location.lng])}}),e.length>0&&D.isValid()&&f.current.fitBounds(D,{padding:[20,20]})},[e,t,a]),g.useEffect(()=>{if(!f.current)return;if(w.current&&(f.current.removeLayer(w.current),w.current=null),_.current.forEach(M=>{var O;(O=f.current)==null||O.removeLayer(M)}),_.current=[],!d||!c||!c.route.length){P(null),E(null);return}const T=c.route;if((async()=>{if(T.length<1){P("No GPS points available for route visualization"),E(null);return}S(!0),P(null);try{if(!f.current)return;let M=[],O="gps",I="medium";if(console.log(`Displaying route with ${T.length} GPS points`),T.length===1)M=[[T[0].lat,T[0].lng]],O="single-point",I="high";else if(M=T.map(V=>[V.lat,V.lng]),O="gps-points",I=T.length>=5?"medium":"basic",T.length>=2&&T.length<=10)try{if(console.log("Attempting road-based route enhancement..."),T.length<=3){const V=await ts.getRoute(T[0],T[T.length-1]);V.source==="road-api"&&V.coordinates.length>0&&(M=V.coordinates,O="road-direct",I="high",console.log("Successfully enhanced route with direct road routing"))}else{const V=await ts.createGPSRoute(T);V.coordinates.length>0&&(M=V.coordinates,O="gps-processed",I=V.confidence||"medium",console.log(`Successfully processed GPS route: ${V.confidence} confidence`))}}catch(V){console.warn("Route enhancement failed, using basic GPS points:",V.message)}const H=(()=>{switch(O){case"road-direct":case"road-api":return{color:"#2563eb",weight:5,opacity:.8,dashArray:void 0};case"gps-processed":return{color:"#16a34a",weight:4,opacity:.7,dashArray:void 0};case"single-point":return{color:"#dc2626",weight:6,opacity:.9,dashArray:void 0};default:return{color:"#ea580c",weight:3,opacity:.6,dashArray:"8, 4"}}})();if(O==="single-point"&&M.length===1){const V=M[0];w.current=Rn.circle(V,{radius:50,color:H.color,weight:H.weight,opacity:H.opacity,fillColor:H.color,fillOpacity:.3}).addTo(f.current)}else M.length>=2&&(w.current=Rn.polyline(M,{...H,smoothFactor:O.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current),Rn.polyline(M,{color:"#000000",weight:H.weight+2,opacity:.2,smoothFactor:O.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current).bringToBack());if(E((()=>{switch(O){case"road-direct":case"road-api":return{type:"Road Network",confidence:"High Accuracy",points:M.length};case"gps-processed":return{type:"Enhanced GPS",confidence:I==="high"?"High Accuracy":"Medium Accuracy",points:T.length};case"single-point":return{type:"Current Location",confidence:"High Accuracy",points:1};default:return{type:"GPS Points",confidence:"Basic Accuracy",points:T.length}}})()),console.log(` Displayed ${O} route: ${M.length} coordinates, ${I} confidence`),M.length>0)if(M.length===1)f.current.setView(M[0],16);else{const V=Rn.latLngBounds(M);f.current.fitBounds(V,{padding:[30,30]})}}catch(M){console.error("Error displaying route:",M),P(`Failed to display route: ${M.message}`),E(null);try{if(T.length>=1){const O=T.map(I=>[I.lat,I.lng]);if(O.length===1?w.current=Rn.circle(O[0],{radius:30,color:"#dc2626",weight:2,opacity:.7,fillColor:"#dc2626",fillOpacity:.2}).addTo(f.current):w.current=Rn.polyline(O,{color:"#dc2626",weight:3,opacity:.6,dashArray:"5, 5",smoothFactor:.1}).addTo(f.current),E({type:"Fallback GPS",confidence:"Limited",points:T.length}),P(null),O.length===1)f.current.setView(O[0],16);else{const I=Rn.latLngBounds(O);f.current.fitBounds(I,{padding:[20,20]})}}}catch(O){console.error("Even fallback route failed:",O),P("Unable to display any route visualization")}}finally{S(!1)}})(),c.startLocation){const M=Rn.divIcon({html:`
          <div style="
            background-color: #22c55e;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">S</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),O=Rn.marker([c.startLocation.lat,c.startLocation.lng],{icon:M}).addTo(f.current);O.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #22c55e;">Route Start</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${new Date(c.startTime).toLocaleString()}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            ${c.startLocation.address}
          </p>
        </div>
      `),_.current.push(O)}if(c.endLocation&&c.status==="completed"){const M=Rn.divIcon({html:`
          <div style="
            background-color: #ef4444;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">E</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),O=Rn.marker([c.endLocation.lat,c.endLocation.lng],{icon:M}).addTo(f.current);O.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #ef4444;">Route End</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${c.endTime?new Date(c.endTime).toLocaleString():"In progress"}
          </p>
          <p style="margin: 0 0 4px 0; font-size: 12px; color: #666;">
            ${c.endLocation.address}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            Distance: ${(c.totalDistance/1e3).toFixed(2)} km
          </p>
        </div>
      `),_.current.push(O)}if(T.length>2){const M=Math.max(1,Math.floor(T.length/5));T.forEach((O,I)=>{if(I>0&&I<T.length-1&&I%M===0){const Z=Rn.divIcon({html:`
              <div style="
                background-color: #3b82f6;
                width: 8px;
                height: 8px;
                border-radius: 50%;
                border: 2px solid white;
                box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                opacity: 0.9;
              "></div>
            `,className:"custom-div-icon",iconSize:[8,8],iconAnchor:[4,4]}),H=Rn.marker([O.lat,O.lng],{icon:Z}).addTo(f.current);H.bindPopup(`
            <div style="min-width: 160px;">
              <h4 style="margin: 0 0 8px 0; color: #3b82f6;">Route Point</h4>
              <p style="margin: 0 0 4px 0; font-size: 12px;">
                <strong>Time:</strong> ${new Date(O.timestamp).toLocaleTimeString()}
              </p>
              <p style="margin: 0 0 4px 0; font-size: 11px; color: #666;">
                Position: ${O.lat.toFixed(6)}, ${O.lng.toFixed(6)}
              </p>
              <p style="margin: 0; font-size: 11px; color: #666;">
                Point ${I+1} of ${T.length}
              </p>
            </div>
          `),_.current.push(H)}})}},[d,c]),g.useEffect(()=>{if(!f.current||!t)return;const T=e.find(D=>D.id===t);T&&T.location.lat&&T.location.lng&&f.current.setView([T.location.lat,T.location.lng],15)},[t,e]),o.jsxs("div",{className:"relative",children:[o.jsx("div",{ref:p,style:{height:r,width:"100%",borderRadius:"8px"},className:"relative z-0"}),b&&o.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm border border-border rounded-md px-3 py-2 text-sm flex items-center space-x-2 z-10",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Generating route..."})]}),d&&j&&o.jsxs("div",{className:`absolute top-2 right-2 backdrop-blur-sm border rounded-md px-3 py-2 text-sm z-10 ${j.confidence==="High Accuracy"?"bg-blue-500/90 border-blue-500 text-white":j.confidence==="Medium Accuracy"?"bg-green-500/90 border-green-500 text-white":j.confidence==="Basic Accuracy"?"bg-orange-500/90 border-orange-500 text-white":"bg-red-500/90 border-red-500 text-white"}`,children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{children:[j.type.includes("Road")?"":j.type.includes("GPS + Road")?"":""," ",j.type]})}),o.jsxs("div",{className:"text-xs mt-1 opacity-90",children:[j.confidence,"  ",j.points," ",j.points===1?"point":"points"]}),j.type.includes("Road")&&o.jsx("div",{className:"text-xs mt-1 opacity-75",children:" Road-optimized route"})]}),k&&o.jsxs("div",{className:"absolute top-2 left-2 bg-destructive/90 backdrop-blur-sm border border-destructive rounded-md px-3 py-2 text-sm text-destructive-foreground z-10",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{children:" Route Display Issue"})}),o.jsx("div",{className:"text-xs mt-1",children:k}),o.jsx("div",{className:"text-xs mt-1 opacity-80",children:" Route will improve with more GPS points"})]})]})}const vn=g.forwardRef(({className:e,type:t,...r},a)=>o.jsx("input",{type:t,className:yt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));vn.displayName="Input";function LP(e,t){const r=g.createContext(t),a=d=>{const{children:f,...p}=d,v=g.useMemo(()=>p,Object.values(p));return o.jsx(r.Provider,{value:v,children:f})};a.displayName=e+"Provider";function c(d){const f=g.useContext(r);if(f)return f;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[a,c]}function AP(e,t=[]){let r=[];function a(d,f){const p=g.createContext(f),v=r.length;r=[...r,f];const w=b=>{var T;const{scope:S,children:k,...P}=b,j=((T=S==null?void 0:S[e])==null?void 0:T[v])||p,E=g.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:E,children:k})};w.displayName=d+"Provider";function _(b,S){var j;const k=((j=S==null?void 0:S[e])==null?void 0:j[v])||p,P=g.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[w,_]}const c=()=>{const d=r.map(f=>g.createContext(f));return function(p){const v=(p==null?void 0:p[e])||d;return g.useMemo(()=>({[`__scope${e}`]:{...p,[e]:v}}),[p,v])}};return c.scopeName=e,[a,DP(c,...t)]}function DP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:v,scopeName:w})=>{const b=v(d)[`__scope${w}`];return{...p,...b}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var Nm="focusScope.autoFocusOnMount",Sm="focusScope.autoFocusOnUnmount",Ix={bubbles:!1,cancelable:!0},OP="FocusScope",Zp=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...f}=e,[p,v]=g.useState(null),w=xn(c),_=xn(d),b=g.useRef(null),S=$t(t,j=>v(j)),k=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(a){let j=function(M){if(k.paused||!p)return;const O=M.target;p.contains(O)?b.current=O:ii(b.current,{select:!0})},E=function(M){if(k.paused||!p)return;const O=M.relatedTarget;O!==null&&(p.contains(O)||ii(b.current,{select:!0}))},T=function(M){if(document.activeElement===document.body)for(const I of M)I.removedNodes.length>0&&ii(p)};document.addEventListener("focusin",j),document.addEventListener("focusout",E);const D=new MutationObserver(T);return p&&D.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",E),D.disconnect()}}},[a,p,k.paused]),g.useEffect(()=>{if(p){$x.add(k);const j=document.activeElement;if(!p.contains(j)){const T=new CustomEvent(Nm,Ix);p.addEventListener(Nm,w),p.dispatchEvent(T),T.defaultPrevented||(IP(UP(T0(p)),{select:!0}),document.activeElement===j&&ii(p))}return()=>{p.removeEventListener(Nm,w),setTimeout(()=>{const T=new CustomEvent(Sm,Ix);p.addEventListener(Sm,_),p.dispatchEvent(T),T.defaultPrevented||ii(j??document.body,{select:!0}),p.removeEventListener(Sm,_),$x.remove(k)},0)}}},[p,w,_,k]);const P=g.useCallback(j=>{if(!r&&!a||k.paused)return;const E=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,T=document.activeElement;if(E&&T){const D=j.currentTarget,[M,O]=FP(D);M&&O?!j.shiftKey&&T===O?(j.preventDefault(),r&&ii(M,{select:!0})):j.shiftKey&&T===M&&(j.preventDefault(),r&&ii(O,{select:!0})):T===D&&j.preventDefault()}},[r,a,k.paused]);return o.jsx(jt.div,{tabIndex:-1,...f,ref:S,onKeyDown:P})});Zp.displayName=OP;function IP(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(ii(a,{select:t}),document.activeElement!==r)return}function FP(e){const t=T0(e),r=Fx(t,e),a=Fx(t.reverse(),e);return[r,a]}function T0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Fx(e,t){for(const r of e)if(!$P(r,{upTo:t}))return r}function $P(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zP(e){return e instanceof HTMLInputElement&&"select"in e}function ii(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zP(e)&&t&&e.select()}}var $x=BP();function BP(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zx(e,t),e.unshift(t)},remove(t){var r;e=zx(e,t),(r=e[0])==null||r.resume()}}}function zx(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function UP(e){return e.filter(t=>t.tagName!=="A")}function HP(e,t){return g.useReducer((r,a)=>t[r][a]??r,e)}var Sf=e=>{const{present:t,children:r}=e,a=WP(t),c=typeof r=="function"?r({present:a.isPresent}):g.Children.only(r),d=$t(a.ref,VP(c));return typeof r=="function"||a.isPresent?g.cloneElement(c,{ref:d}):null};Sf.displayName="Presence";function WP(e){const[t,r]=g.useState(),a=g.useRef({}),c=g.useRef(e),d=g.useRef("none"),f=e?"mounted":"unmounted",[p,v]=HP(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const w=Ld(a.current);d.current=p==="mounted"?w:"none"},[p]),Sn(()=>{const w=a.current,_=c.current;if(_!==e){const S=d.current,k=Ld(w);e?v("MOUNT"):k==="none"||(w==null?void 0:w.display)==="none"?v("UNMOUNT"):v(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,v]),Sn(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,b=k=>{const j=Ld(a.current).includes(k.animationName);if(k.target===t&&j&&(v("ANIMATION_END"),!c.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},S=k=>{k.target===t&&(d.current=Ld(a.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:g.useCallback(w=>{w&&(a.current=getComputedStyle(w)),r(w)},[])}}function Ld(e){return(e==null?void 0:e.animationName)||"none"}function VP(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jm=0;function ZP(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bx()),document.body.insertAdjacentElement("beforeend",e[1]??Bx()),jm++,()=>{jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jm--}},[])}function Bx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Jn=function(){return Jn=Object.assign||function(t){for(var r,a=1,c=arguments.length;a<c;a++){r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},Jn.apply(this,arguments)};function qp(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(r[a[c]]=e[a[c]]);return r}function k0(e,t,r){if(r||arguments.length===2)for(var a=0,c=t.length,d;a<c;a++)(d||!(a in t))&&(d||(d=Array.prototype.slice.call(t,0,a)),d[a]=t[a]);return e.concat(d||Array.prototype.slice.call(t))}var Uc="right-scroll-bar-position",Hc="width-before-scroll-bar",qP="with-scroll-bars-hidden",GP="--removed-body-scroll-bar-size";function Cm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YP(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var c=r.value;c!==a&&(r.value=a,r.callback(a,c))}}}})[0];return r.callback=t,r.facade}var KP=typeof window<"u"?g.useLayoutEffect:g.useEffect,Ux=new WeakMap;function M0(e,t){var r=YP(null,function(a){return e.forEach(function(c){return Cm(c,a)})});return KP(function(){var a=Ux.get(r);if(a){var c=new Set(a),d=new Set(e),f=r.current;c.forEach(function(p){d.has(p)||Cm(p,null)}),d.forEach(function(p){c.has(p)||Cm(p,f)})}Ux.set(r,e)},[e]),r}function XP(e){return e}function QP(e,t){t===void 0&&(t=XP);var r=[],a=!1,c={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(d){var f=t(d,a);return r.push(f),function(){r=r.filter(function(p){return p!==f})}},assignSyncMedium:function(d){for(a=!0;r.length;){var f=r;r=[],f.forEach(d)}r={push:function(p){return d(p)},filter:function(){return r}}},assignMedium:function(d){a=!0;var f=[];if(r.length){var p=r;r=[],p.forEach(d),f=r}var v=function(){var _=f;f=[],_.forEach(d)},w=function(){return Promise.resolve().then(v)};w(),r={push:function(_){f.push(_),w()},filter:function(_){return f=f.filter(_),r}}}};return c}function R0(e){e===void 0&&(e={});var t=QP(null);return t.options=Jn({async:!0,ssr:!1},e),t}var L0=function(e){var t=e.sideCar,r=qp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return g.createElement(a,Jn({},r))};L0.isSideCarExport=!0;function A0(e,t){return e.useMedium(t),L0}var D0=R0(),Em=function(){},jf=g.forwardRef(function(e,t){var r=g.useRef(null),a=g.useState({onScrollCapture:Em,onWheelCapture:Em,onTouchMoveCapture:Em}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,v=e.className,w=e.removeScrollBar,_=e.enabled,b=e.shards,S=e.sideCar,k=e.noIsolation,P=e.inert,j=e.allowPinchZoom,E=e.as,T=E===void 0?"div":E,D=e.gapMode,M=qp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=S,I=M0([r,t]),Z=Jn(Jn({},M),c);return g.createElement(g.Fragment,null,_&&g.createElement(O,{sideCar:D0,removeScrollBar:w,shards:b,noIsolation:k,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:r,gapMode:D}),f?g.cloneElement(g.Children.only(p),Jn(Jn({},Z),{ref:I})):g.createElement(T,Jn({},Z,{className:v,ref:I}),p))});jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jf.classNames={fullWidth:Hc,zeroRight:Uc};var JP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=JP();return t&&e.setAttribute("nonce",t),e}function tT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rT=function(){var e=0,t=null;return{add:function(r){e==0&&(t=eT())&&(tT(t,r),nT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sT=function(){var e=rT();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Gp=function(){var e=sT(),t=function(r){var a=r.styles,c=r.dynamic;return e(a,c),null};return t},oT={left:0,top:0,right:0,gap:0},Pm=function(e){return parseInt(e||"",10)||0},iT=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],c=t[e==="padding"?"paddingRight":"marginRight"];return[Pm(r),Pm(a),Pm(c)]},aT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oT;var t=iT(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},lT=Gp(),xl="data-scroll-locked",cT=function(e,t,r,a){var c=e.left,d=e.top,f=e.right,p=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(qP,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(p,"px ").concat(a,`;
  }
  body[`).concat(xl,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Uc,` {
    right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(Hc,` {
    margin-right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(Uc," .").concat(Uc,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Hc," .").concat(Hc,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(xl,`] {
    `).concat(GP,": ").concat(p,`px;
  }
`)},Hx=function(){var e=parseInt(document.body.getAttribute(xl)||"0",10);return isFinite(e)?e:0},uT=function(){g.useEffect(function(){return document.body.setAttribute(xl,(Hx()+1).toString()),function(){var e=Hx()-1;e<=0?document.body.removeAttribute(xl):document.body.setAttribute(xl,e.toString())}},[])},O0=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,c=a===void 0?"margin":a;uT();var d=g.useMemo(function(){return aT(c)},[c]);return g.createElement(lT,{styles:cT(d,!t,c,r?"":"!important")})},sp=!1;if(typeof window<"u")try{var Ad=Object.defineProperty({},"passive",{get:function(){return sp=!0,!0}});window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{sp=!1}var sl=sp?{passive:!1}:!1,dT=function(e){return e.tagName==="TEXTAREA"},I0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!dT(e)&&r[t]==="visible")},fT=function(e){return I0(e,"overflowY")},hT=function(e){return I0(e,"overflowX")},Wx=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=F0(e,a);if(c){var d=$0(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},mT=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},pT=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},F0=function(e,t){return e==="v"?fT(t):hT(t)},$0=function(e,t){return e==="v"?mT(t):pT(t)},gT=function(e,t){return e==="h"&&t==="rtl"?-1:1},vT=function(e,t,r,a,c){var d=gT(e,window.getComputedStyle(t).direction),f=d*a,p=r.target,v=t.contains(p),w=!1,_=f>0,b=0,S=0;do{var k=$0(e,p),P=k[0],j=k[1],E=k[2],T=j-E-d*P;(P||T)&&F0(e,p)&&(b+=T,S+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!v&&p!==document.body||v&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(S)<1)&&(w=!0),w},Dd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vx=function(e){return[e.deltaX,e.deltaY]},Zx=function(e){return e&&"current"in e?e.current:e},xT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wT=0,ol=[];function _T(e){var t=g.useRef([]),r=g.useRef([0,0]),a=g.useRef(),c=g.useState(wT++)[0],d=g.useState(Gp)[0],f=g.useRef(e);g.useEffect(function(){f.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=k0([e.lockRef.current],(e.shards||[]).map(Zx),!0).filter(Boolean);return j.forEach(function(E){return E.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=g.useCallback(function(j,E){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!f.current.allowPinchZoom;var T=Dd(j),D=r.current,M="deltaX"in j?j.deltaX:D[0]-T[0],O="deltaY"in j?j.deltaY:D[1]-T[1],I,Z=j.target,H=Math.abs(M)>Math.abs(O)?"h":"v";if("touches"in j&&H==="h"&&Z.type==="range")return!1;var ne=Wx(H,Z);if(!ne)return!0;if(ne?I=H:(I=H==="v"?"h":"v",ne=Wx(H,Z)),!ne)return!1;if(!a.current&&"changedTouches"in j&&(M||O)&&(a.current=I),!I)return!0;var V=a.current||I;return vT(V,E,j,V==="h"?M:O)},[]),v=g.useCallback(function(j){var E=j;if(!(!ol.length||ol[ol.length-1]!==d)){var T="deltaY"in E?Vx(E):Dd(E),D=t.current.filter(function(I){return I.name===E.type&&(I.target===E.target||E.target===I.shadowParent)&&xT(I.delta,T)})[0];if(D&&D.should){E.cancelable&&E.preventDefault();return}if(!D){var M=(f.current.shards||[]).map(Zx).filter(Boolean).filter(function(I){return I.contains(E.target)}),O=M.length>0?p(E,M[0]):!f.current.noIsolation;O&&E.cancelable&&E.preventDefault()}}},[]),w=g.useCallback(function(j,E,T,D){var M={name:j,delta:E,target:T,should:D,shadowParent:bT(T)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(O){return O!==M})},1)},[]),_=g.useCallback(function(j){r.current=Dd(j),a.current=void 0},[]),b=g.useCallback(function(j){w(j.type,Vx(j),j.target,p(j,e.lockRef.current))},[]),S=g.useCallback(function(j){w(j.type,Dd(j),j.target,p(j,e.lockRef.current))},[]);g.useEffect(function(){return ol.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:S}),document.addEventListener("wheel",v,sl),document.addEventListener("touchmove",v,sl),document.addEventListener("touchstart",_,sl),function(){ol=ol.filter(function(j){return j!==d}),document.removeEventListener("wheel",v,sl),document.removeEventListener("touchmove",v,sl),document.removeEventListener("touchstart",_,sl)}},[]);var k=e.removeScrollBar,P=e.inert;return g.createElement(g.Fragment,null,P?g.createElement(d,{styles:yT(c)}):null,k?g.createElement(O0,{gapMode:e.gapMode}):null)}function bT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NT=A0(D0,_T);var z0=g.forwardRef(function(e,t){return g.createElement(jf,Jn({},e,{ref:t,sideCar:NT}))});z0.classNames=jf.classNames;var ST=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},il=new WeakMap,Od=new WeakMap,Id={},Tm=0,B0=function(e){return e&&(e.host||B0(e.parentNode))},jT=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=B0(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},CT=function(e,t,r,a){var c=jT(t,Array.isArray(e)?e:[e]);Id[r]||(Id[r]=new WeakMap);var d=Id[r],f=[],p=new Set,v=new Set(c),w=function(b){!b||p.has(b)||(p.add(b),w(b.parentNode))};c.forEach(w);var _=function(b){!b||v.has(b)||Array.prototype.forEach.call(b.children,function(S){if(p.has(S))_(S);else try{var k=S.getAttribute(a),P=k!==null&&k!=="false",j=(il.get(S)||0)+1,E=(d.get(S)||0)+1;il.set(S,j),d.set(S,E),f.push(S),j===1&&P&&Od.set(S,!0),E===1&&S.setAttribute(r,"true"),P||S.setAttribute(a,"true")}catch(T){console.error("aria-hidden: cannot operate on ",S,T)}})};return _(t),p.clear(),Tm++,function(){f.forEach(function(b){var S=il.get(b)-1,k=d.get(b)-1;il.set(b,S),d.set(b,k),S||(Od.has(b)||b.removeAttribute(a),Od.delete(b)),k||b.removeAttribute(r)}),Tm--,Tm||(il=new WeakMap,il=new WeakMap,Od=new WeakMap,Id={})}},U0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),c=ST(e);return c?(a.push.apply(a,Array.from(c.querySelectorAll("[aria-live]"))),CT(a,c,r,"aria-hidden")):function(){return null}},Yp="Dialog",[H0,WL]=AP(Yp),[ET,Ss]=H0(Yp),W0=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:c,onOpenChange:d,modal:f=!0}=e,p=g.useRef(null),v=g.useRef(null),[w=!1,_]=Wc({prop:a,defaultProp:c,onChange:d});return o.jsx(ET,{scope:t,triggerRef:p,contentRef:v,contentId:gl(),titleId:gl(),descriptionId:gl(),open:w,onOpenChange:_,onOpenToggle:g.useCallback(()=>_(b=>!b),[_]),modal:f,children:r})};W0.displayName=Yp;var V0="DialogTrigger",Z0=g.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=Ss(V0,r),d=$t(t,c.triggerRef);return o.jsx(jt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Qp(c.open),...a,ref:d,onClick:lt(e.onClick,c.onOpenToggle)})});Z0.displayName=V0;var Kp="DialogPortal",[PT,q0]=H0(Kp,{forceMount:void 0}),G0=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:c}=e,d=Ss(Kp,t);return o.jsx(PT,{scope:t,forceMount:r,children:g.Children.map(a,f=>o.jsx(Sf,{present:r||d.open,children:o.jsx(Xw,{asChild:!0,container:c,children:f})}))})};G0.displayName=Kp;var ef="DialogOverlay",Y0=g.forwardRef((e,t)=>{const r=q0(ef,e.__scopeDialog),{forceMount:a=r.forceMount,...c}=e,d=Ss(ef,e.__scopeDialog);return d.modal?o.jsx(Sf,{present:a||d.open,children:o.jsx(TT,{...c,ref:t})}):null});Y0.displayName=ef;var TT=g.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=Ss(ef,r);return o.jsx(z0,{as:ca,allowPinchZoom:!0,shards:[c.contentRef],children:o.jsx(jt.div,{"data-state":Qp(c.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),da="DialogContent",K0=g.forwardRef((e,t)=>{const r=q0(da,e.__scopeDialog),{forceMount:a=r.forceMount,...c}=e,d=Ss(da,e.__scopeDialog);return o.jsx(Sf,{present:a||d.open,children:d.modal?o.jsx(kT,{...c,ref:t}):o.jsx(MT,{...c,ref:t})})});K0.displayName=da;var kT=g.forwardRef((e,t)=>{const r=Ss(da,e.__scopeDialog),a=g.useRef(null),c=$t(t,r.contentRef,a);return g.useEffect(()=>{const d=a.current;if(d)return U0(d)},[]),o.jsx(X0,{...e,ref:c,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(e.onCloseAutoFocus,d=>{var f;d.preventDefault(),(f=r.triggerRef.current)==null||f.focus()}),onPointerDownOutside:lt(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0;(f.button===2||p)&&d.preventDefault()}),onFocusOutside:lt(e.onFocusOutside,d=>d.preventDefault())})}),MT=g.forwardRef((e,t)=>{const r=Ss(da,e.__scopeDialog),a=g.useRef(!1),c=g.useRef(!1);return o.jsx(X0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var f,p;(f=e.onCloseAutoFocus)==null||f.call(e,d),d.defaultPrevented||(a.current||(p=r.triggerRef.current)==null||p.focus(),d.preventDefault()),a.current=!1,c.current=!1},onInteractOutside:d=>{var v,w;(v=e.onInteractOutside)==null||v.call(e,d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const f=d.target;((w=r.triggerRef.current)==null?void 0:w.contains(f))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),X0=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:d,...f}=e,p=Ss(da,r),v=g.useRef(null),w=$t(t,v);return ZP(),o.jsxs(o.Fragment,{children:[o.jsx(Zp,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:c,onUnmountAutoFocus:d,children:o.jsx(Mp,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Qp(p.open),...f,ref:w,onDismiss:()=>p.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(RT,{titleId:p.titleId}),o.jsx(AT,{contentRef:v,descriptionId:p.descriptionId})]})]})}),Xp="DialogTitle",Q0=g.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=Ss(Xp,r);return o.jsx(jt.h2,{id:c.titleId,...a,ref:t})});Q0.displayName=Xp;var J0="DialogDescription",e_=g.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=Ss(J0,r);return o.jsx(jt.p,{id:c.descriptionId,...a,ref:t})});e_.displayName=J0;var t_="DialogClose",n_=g.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=Ss(t_,r);return o.jsx(jt.button,{type:"button",...a,ref:t,onClick:lt(e.onClick,()=>c.onOpenChange(!1))})});n_.displayName=t_;function Qp(e){return e?"open":"closed"}var r_="DialogTitleWarning",[VL,s_]=LP(r_,{contentName:da,titleName:Xp,docsSlug:"dialog"}),RT=({titleId:e})=>{const t=s_(r_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},LT="DialogDescriptionWarning",AT=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s_(LT).contentName}}.`;return g.useEffect(()=>{var d;const c=(d=e.current)==null?void 0:d.getAttribute("aria-describedby");t&&c&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},DT=W0,OT=Z0,IT=G0,o_=Y0,i_=K0,a_=Q0,l_=e_,FT=n_;const br=DT,$T=OT,zT=IT,c_=g.forwardRef(({className:e,...t},r)=>o.jsx(o_,{ref:r,className:yt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c_.displayName=o_.displayName;const cr=g.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(zT,{children:[o.jsx(c_,{}),o.jsxs(i_,{ref:a,className:yt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(FT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(ou,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cr.displayName=i_.displayName;const ur=({className:e,...t})=>o.jsx("div",{className:yt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ur.displayName="DialogHeader";const fa=({className:e,...t})=>o.jsx("div",{className:yt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});fa.displayName="DialogFooter";const dr=g.forwardRef(({className:e,...t},r)=>o.jsx(a_,{ref:r,className:yt("text-lg font-semibold leading-none tracking-tight",e),...t}));dr.displayName=a_.displayName;const Nr=g.forwardRef(({className:e,...t},r)=>o.jsx(l_,{ref:r,className:yt("text-sm text-muted-foreground",e),...t}));Nr.displayName=l_.displayName;function op(e){return new Date(e).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function BT(e){const t=new Date(e),r=new Date,a=t.toLocaleDateString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"}),c=r.toLocaleDateString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return a===c}function UT(){return new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function u_({employeeId:e,isOpen:t,onClose:r}){var Be;const[a,c]=g.useState([]),[d,f]=g.useState([]),[p,v]=g.useState(!1),[w,_]=g.useState(""),[b,S]=g.useState(1),[k,P]=g.useState(1),[j,E]=g.useState(0),[T,D]=g.useState(null),[M,O]=g.useState(!1),[I,Z]=g.useState("all"),H=10;g.useEffect(()=>{t&&(ne(),e&&V())},[t,e,b]);const ne=async()=>{var ee,xe,U,ue;v(!0);try{const oe=new URLSearchParams({page:b.toString(),limit:H.toString()});e&&oe.append("employeeId",e),console.log("Fetching meeting history for employee:",e);const z=await pt.get(`/api/meeting-history?${oe.toString()}`);if(z.ok){const J=await z.json();console.log("Meeting history data received:",J),console.log("Number of meetings:",((ee=J.meetings)==null?void 0:ee.length)||0),((xe=J.meetings)==null?void 0:xe.length)>0&&(console.log("First meeting details:",J.meetings[0]),console.log("First meeting's meetingDetails:",J.meetings[0].meetingDetails),console.log("Customer name:",(U=J.meetings[0].meetingDetails)==null?void 0:U.customerName),console.log("Customer employee name:",(ue=J.meetings[0].meetingDetails)==null?void 0:ue.customerEmployeeName)),c(J.meetings||[]),E(J.total||0),P(J.totalPages||1)}else console.error("Failed to fetch meeting history:",z.status,z.statusText)}catch(oe){console.error("Error fetching meeting history:",oe),c([]),E(0),P(1)}finally{v(!1)}},V=async()=>{try{if(!e)return;console.log("Fetching incomplete meeting remarks for employee:",e);const ee=await pt.get(`/api/incomplete-meeting-remarks?employeeId=${e}`);if(ee.ok){const xe=await ee.json();console.log("Incomplete meeting remarks data received:",xe),f(xe.meetings||[])}else console.error("Failed to fetch incomplete meeting remarks:",ee.status,ee.statusText),f([])}catch(ee){console.error("Error fetching incomplete meeting remarks:",ee),f([])}},Y=a.filter(ee=>{var ue,oe,z,J,Ne;if(!w)return!0;const xe=w.toLowerCase(),U=ee.meetingDetails;return((ue=U.customerName)==null?void 0:ue.toLowerCase().includes(xe))||((oe=U.customerEmployeeName)==null?void 0:oe.toLowerCase().includes(xe))||((z=U.customerEmail)==null?void 0:z.toLowerCase().includes(xe))||((J=U.customerDepartment)==null?void 0:J.toLowerCase().includes(xe))||((Ne=U.customerDesignation)==null?void 0:Ne.toLowerCase().includes(xe))||U.discussion.toLowerCase().includes(xe)}),te=ee=>{D(ee),O(!0)},fe=ee=>op(ee),Ie=()=>{b>1&&S(b-1)},he=()=>{b<k&&S(b+1)};return o.jsxs(o.Fragment,{children:[o.jsx(br,{open:t,onOpenChange:r,children:o.jsxs(cr,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[o.jsxs(ur,{children:[o.jsxs(dr,{className:"flex items-center space-x-2",children:[o.jsx(dw,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Meeting History"}),I==="all"&&j>0&&o.jsxs(Tt,{variant:"secondary",className:"ml-2",children:[j," meetings"]}),I==="incomplete"&&d.length>0&&o.jsxs(Tt,{variant:"destructive",className:"ml-2",children:[d.length," incomplete"]})]}),o.jsx(Nr,{children:I==="all"?"View completed meetings with customer details and discussion notes.":"View incomplete meeting remarks from your logout sessions."})]}),o.jsxs("div",{className:"flex space-x-2 border-b",children:[o.jsxs(Ce,{variant:I==="all"?"default":"ghost",size:"sm",onClick:()=>Z("all"),className:"px-4",children:["All Meetings (",j,")"]}),o.jsxs(Ce,{variant:I==="incomplete"?"default":"ghost",size:"sm",onClick:()=>Z("incomplete"),className:"px-4",children:["Incomplete Remarks (",d.length,")"]})]}),o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col space-y-4",children:[I==="all"&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(vn,{placeholder:"Search meetings by customer, discussion...",value:w,onChange:ee=>_(ee.target.value),className:"pl-10"})]}),o.jsxs(Ce,{variant:"outline",size:"sm",children:[o.jsx(fw,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:I==="all"?o.jsx(o.Fragment,{children:p?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):Y.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:w?"No meetings found matching your search.":"No meeting history available."}):o.jsx("div",{className:"space-y-3",children:Y.map(ee=>{var xe;return o.jsx(gt,{className:"border-l-4 border-l-primary cursor-pointer hover:shadow-md transition-shadow",onClick:()=>te(ee),children:o.jsx(vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:fe(ee.timestamp)})]}),ee.leadInfo&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rx,{className:"h-4 w-4 text-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Lead: ",((xe=ee.leadInfo)==null?void 0:xe.id)||null]})]}),ee.meetingDetails.customers&&ee.meetingDetails.customers.length>0?o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gm,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm font-medium",children:["Customers (",ee.meetingDetails.customers.length,")"]})]}),ee.meetingDetails.customers.map((U,ue)=>o.jsxs("div",{className:"ml-6 text-sm",children:[o.jsx("div",{className:"font-medium",children:U.customerName}),o.jsxs("div",{className:"text-muted-foreground",children:["Contact: ",U.customerEmployeeName,U.customerDesignation&&o.jsxs("span",{children:[" (",U.customerDesignation,")"]})]})]},ue))]}):o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gm,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:ee.meetingDetails.customerName||"Unknown Company"})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[o.jsx(mf,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm",children:[ee.meetingDetails.customerEmployeeName||"No contact person",ee.meetingDetails.customerDesignation&&o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",ee.meetingDetails.customerDesignation,")"]})]})]})]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Tp,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ee.meetingDetails.discussion})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ee.meetingDetails.customers&&ee.meetingDetails.customers.length>0?ee.meetingDetails.customers.map((U,ue)=>o.jsxs("div",{className:"flex flex-wrap gap-1",children:[U.customerEmail&&o.jsxs(Tt,{variant:"outline",className:"text-xs",children:[o.jsx(mi,{className:"h-3 w-3 mr-1"}),U.customerEmail]}),U.customerMobile&&o.jsxs(Tt,{variant:"outline",className:"text-xs",children:[o.jsx(pi,{className:"h-3 w-3 mr-1"}),U.customerMobile]}),U.customerDepartment&&o.jsx(Tt,{variant:"secondary",className:"text-xs",children:U.customerDepartment})]},ue)):o.jsxs(o.Fragment,{children:[ee.meetingDetails.customerEmail&&o.jsxs(Tt,{variant:"outline",className:"text-xs",children:[o.jsx(mi,{className:"h-3 w-3 mr-1"}),ee.meetingDetails.customerEmail]}),ee.meetingDetails.customerMobile&&o.jsxs(Tt,{variant:"outline",className:"text-xs",children:[o.jsx(pi,{className:"h-3 w-3 mr-1"}),ee.meetingDetails.customerMobile]}),ee.meetingDetails.customerDepartment&&o.jsx(Tt,{variant:"secondary",className:"text-xs",children:ee.meetingDetails.customerDepartment})]})})]}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>te(ee),children:"View Details"})]})})},ee.id)})})}):o.jsx(o.Fragment,{children:d.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No incomplete meeting remarks available."}):o.jsx("div",{className:"space-y-3",children:d.map(ee=>o.jsx(gt,{className:"border-l-4 border-l-destructive cursor-pointer hover:shadow-md transition-shadow",onClick:()=>te(ee),children:o.jsx(vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(os,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm font-medium text-destructive",children:fe(ee.timestamp)})]}),ee.meetingDetails.customers&&ee.meetingDetails.customers.length>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gm,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:ee.meetingDetails.customers[0].customerName})]}),ee.meetingDetails.customers[0].customerEmployeeName&&o.jsxs("div",{className:"text-sm text-muted-foreground ml-6",children:["Contact: ",ee.meetingDetails.customers[0].customerEmployeeName]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Nn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Reason:"}),o.jsx("p",{className:"text-sm line-clamp-2",children:ee.meetingDetails.incompleteReason||ee.meetingDetails.discussion})]})]})]}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>te(ee),children:"View"})]})})},ee.id))})})}),I==="all"&&k>1&&o.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(b-1)*H+1," to"," ",Math.min(b*H,j)," of ",j," ","meetings"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:Ie,disabled:b<=1,children:[o.jsx(aw,{className:"h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm",children:["Page ",b," of ",k]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:he,disabled:b>=k,children:["Next",o.jsx(lw,{className:"h-4 w-4"})]})]})]})]})]})}),T&&o.jsx(br,{open:M,onOpenChange:O,children:o.jsxs(cr,{className:"sm:max-w-md",children:[o.jsxs(ur,{children:[o.jsx(dr,{children:"Meeting Details"}),o.jsx(Nr,{children:fe(T.timestamp)})]}),o.jsxs("div",{className:"space-y-4",children:[T.meetingDetails.customers&&T.meetingDetails.customers.length>0?o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-muted-foreground",children:["Customer Contacts (",T.meetingDetails.customers.length,")"]}),o.jsx("div",{className:"space-y-3 mt-2",children:T.meetingDetails.customers.map((ee,xe)=>o.jsxs("div",{className:"p-3 bg-muted/20 rounded-md space-y-2",children:[o.jsx("div",{children:o.jsx("span",{className:"text-sm font-medium",children:ee.customerName})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("p",{children:ee.customerEmployeeName})]}),ee.customerDesignation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Position:"}),o.jsx("p",{children:ee.customerDesignation})]}),ee.customerDepartment&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("p",{children:ee.customerDepartment})]}),ee.customerEmail&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("p",{children:ee.customerEmail})]}),ee.customerMobile&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),o.jsx("p",{children:ee.customerMobile})]})]})]},xe))})]}):o.jsxs(o.Fragment,{children:[T.meetingDetails.customerName&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer Name"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerName})]}),T.meetingDetails.customerEmployeeName&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Person"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerEmployeeName})]}),T.meetingDetails.customerEmail&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerEmail})]}),T.meetingDetails.customerMobile&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mobile"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerMobile})]}),T.meetingDetails.customerDesignation&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Designation"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerDesignation})]}),T.meetingDetails.customerDepartment&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerDepartment})]})]}),T.leadInfo&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Associated Lead"}),o.jsxs("div",{className:"p-3 bg-blue-50 rounded-md mt-2 space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rx,{className:"h-4 w-4 text-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Lead ID: ",((Be=T.leadInfo)==null?void 0:Be.id)||null]})]}),o.jsxs("div",{className:"text-sm text-blue-600",children:["Company: ",T.leadInfo.companyName]}),o.jsxs("div",{className:"text-sm text-blue-600",children:["Contact: ",T.leadInfo.contactName]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Discussion"}),o.jsx("p",{className:"text-sm bg-muted/50 p-3 rounded-md mt-1",children:T.meetingDetails.discussion})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(Ce,{variant:"outline",onClick:()=>O(!1),children:"Close"})})]})})]})}function HT({onInstall:e,onDismiss:t}){const[r,a]=g.useState(null),[c,d]=g.useState(!1),[f,p]=g.useState(!1),[v,w]=g.useState(!1),[_,b]=g.useState(!1);g.useEffect(()=>{const P=window.matchMedia("(display-mode: standalone)").matches,j=/iPad|iPhone|iPod/.test(navigator.userAgent);b(P),w(j),p(P);const E=D=>{console.log("PWA install prompt available"),D.preventDefault(),a(D),d(!0)},T=()=>{console.log("PWA was installed"),p(!0),d(!1),a(null),e==null||e()};if(window.addEventListener("beforeinstallprompt",E),window.addEventListener("appinstalled",T),j&&!P){const D=setTimeout(()=>{d(!0)},2e3);return()=>clearTimeout(D)}return()=>{window.removeEventListener("beforeinstallprompt",E),window.removeEventListener("appinstalled",T)}},[e]);const S=async()=>{!r&&!v||r&&(r.prompt(),(await r.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),a(null),d(!1))},k=()=>{d(!1),t==null||t()};return f||!c?null:o.jsxs(gt,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-accent/5",children:[o.jsx(Lt,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(At,{className:"flex items-center space-x-2 text-lg",children:[o.jsx(tS,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Install Fusion Tracker"}),o.jsx(Tt,{variant:"secondary",className:"bg-primary text-primary-foreground",children:"Recommended"})]}),o.jsx(Ce,{variant:"ghost",size:"sm",onClick:k,children:o.jsx(ou,{className:"h-4 w-4"})})]})}),o.jsxs(vt,{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Install this app on your device for enhanced location tracking capabilities"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Hd,{className:"h-4 w-4 text-success"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Better Background Tracking"})," - Works when phone is in pocket"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(xo,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Improved GPS Accuracy"})," - More precise location updates"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(ns,{className:"h-4 w-4 text-info"}),o.jsxs("span",{children:[o.jsx("strong",{children:"App-like Experience"})," - Faster loading and better performance"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(KN,{className:"h-4 w-4 text-accent"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Offline Support"})," - Basic functionality without internet"]})]})]}),v?o.jsxs("div",{className:"bg-info/10 border border-info/20 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm font-medium text-info mb-2",children:"iOS Installation:"}),o.jsxs("ol",{className:"text-xs text-muted-foreground space-y-1 list-decimal list-inside",children:[o.jsxs("li",{children:["Tap the ",o.jsx("strong",{children:"Share"})," button (square with arrow) in Safari"]}),o.jsxs("li",{children:["Scroll down and tap ",o.jsx("strong",{children:'"Add to Home Screen"'})]}),o.jsxs("li",{children:["Tap ",o.jsx("strong",{children:'"Add"'})," to install the app"]}),o.jsx("li",{children:"Find the app on your home screen and open it"})]})]}):o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Ce,{onClick:S,className:"flex-1",disabled:!r,children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),"Install App"]}),o.jsx(Ce,{variant:"outline",onClick:k,children:"Not Now"})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx("strong",{children:"Note:"})," Installing as a PWA provides native app-like capabilities while maintaining all web features. No app store required."]})]})]})}function WT(){const[e,t]=g.useState(!1),[r,a]=g.useState(!1);return g.useEffect(()=>{const c=window.matchMedia("(display-mode: standalone)").matches,d=/iPad|iPhone|iPod/.test(navigator.userAgent);a(c);const f=v=>{t(!0)},p=()=>{a(!0),t(!1)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",p),d&&!c&&t(!0),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",p)}},[]),{canInstall:e,isInstalled:r}}function Sr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function wi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function VT(e,t){const r=Sr(e);return isNaN(t)?wi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const d_=6048e5,ZT=864e5,f_=6e4,h_=36e5;let qT={};function Cf(){return qT}function Qc(e,t){var p,v,w,_;const r=Cf(),a=(t==null?void 0:t.weekStartsOn)??((v=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??0,c=Sr(e),d=c.getDay(),f=(d<a?7:0)+d-a;return c.setDate(c.getDate()-f),c.setHours(0,0,0,0),c}function tf(e){return Qc(e,{weekStartsOn:1})}function m_(e){const t=Sr(e),r=t.getFullYear(),a=wi(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const c=tf(a),d=wi(e,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const f=tf(d);return t.getTime()>=c.getTime()?r+1:t.getTime()>=f.getTime()?r:r-1}function qx(e){const t=Sr(e);return t.setHours(0,0,0,0),t}function Gx(e){const t=Sr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function GT(e,t){const r=qx(e),a=qx(t),c=+r-Gx(r),d=+a-Gx(a);return Math.round((c-d)/ZT)}function YT(e){const t=m_(e),r=wi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),tf(r)}function KT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function XT(e){if(!KT(e)&&typeof e!="number")return!1;const t=Sr(e);return!isNaN(Number(t))}function QT(e){const t=Sr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function JT(e){const t=Sr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function e2(e){const t=Sr(e),r=wi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const t2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n2=(e,t,r)=>{let a;const c=t2[e];return typeof c=="string"?a=c:t===1?a=c.one:a=c.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function km(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const r2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i2={date:km({formats:r2,defaultWidth:"full"}),time:km({formats:s2,defaultWidth:"full"}),dateTime:km({formats:o2,defaultWidth:"full"})},a2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l2=(e,t,r,a)=>a2[e];function Rc(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let c;if(a==="formatting"&&e.formattingValues){const f=e.defaultFormattingWidth||e.defaultWidth,p=r!=null&&r.width?String(r.width):f;c=e.formattingValues[p]||e.formattingValues[f]}else{const f=e.defaultWidth,p=r!=null&&r.width?String(r.width):e.defaultWidth;c=e.values[p]||e.values[f]}const d=e.argumentCallback?e.argumentCallback(t):t;return c[d]}}const c2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},h2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},m2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},p2=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},g2={ordinalNumber:p2,era:Rc({values:c2,defaultWidth:"wide"}),quarter:Rc({values:u2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rc({values:d2,defaultWidth:"wide"}),day:Rc({values:f2,defaultWidth:"wide"}),dayPeriod:Rc({values:h2,defaultWidth:"wide",formattingValues:m2,defaultFormattingWidth:"wide"})};function Lc(e){return(t,r={})=>{const a=r.width,c=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],d=t.match(c);if(!d)return null;const f=d[0],p=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(p)?x2(p,b=>b.test(f)):v2(p,b=>b.test(f));let w;w=e.valueCallback?e.valueCallback(v):v,w=r.valueCallback?r.valueCallback(w):w;const _=t.slice(f.length);return{value:w,rest:_}}}function v2(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function x2(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function y2(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const c=a[0],d=t.match(e.parsePattern);if(!d)return null;let f=e.valueCallback?e.valueCallback(d[0]):d[0];f=r.valueCallback?r.valueCallback(f):f;const p=t.slice(c.length);return{value:f,rest:p}}}const w2=/^(\d+)(th|st|nd|rd)?/i,_2=/\d+/i,b2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},N2={any:[/^b/i,/^(a|c)/i]},S2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},j2={any:[/1/i,/2/i,/3/i,/4/i]},C2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},T2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},k2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},R2={ordinalNumber:y2({matchPattern:w2,parsePattern:_2,valueCallback:e=>parseInt(e,10)}),era:Lc({matchPatterns:b2,defaultMatchWidth:"wide",parsePatterns:N2,defaultParseWidth:"any"}),quarter:Lc({matchPatterns:S2,defaultMatchWidth:"wide",parsePatterns:j2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Lc({matchPatterns:C2,defaultMatchWidth:"wide",parsePatterns:E2,defaultParseWidth:"any"}),day:Lc({matchPatterns:P2,defaultMatchWidth:"wide",parsePatterns:T2,defaultParseWidth:"any"}),dayPeriod:Lc({matchPatterns:k2,defaultMatchWidth:"any",parsePatterns:M2,defaultParseWidth:"any"})},L2={code:"en-US",formatDistance:n2,formatLong:i2,formatRelative:l2,localize:g2,match:R2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function A2(e){const t=Sr(e);return GT(t,e2(t))+1}function D2(e){const t=Sr(e),r=+tf(t)-+YT(t);return Math.round(r/d_)+1}function p_(e,t){var _,b,S,k;const r=Sr(e),a=r.getFullYear(),c=Cf(),d=(t==null?void 0:t.firstWeekContainsDate)??((b=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??c.firstWeekContainsDate??((k=(S=c.locale)==null?void 0:S.options)==null?void 0:k.firstWeekContainsDate)??1,f=wi(e,0);f.setFullYear(a+1,0,d),f.setHours(0,0,0,0);const p=Qc(f,t),v=wi(e,0);v.setFullYear(a,0,d),v.setHours(0,0,0,0);const w=Qc(v,t);return r.getTime()>=p.getTime()?a+1:r.getTime()>=w.getTime()?a:a-1}function O2(e,t){var p,v,w,_;const r=Cf(),a=(t==null?void 0:t.firstWeekContainsDate)??((v=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??1,c=p_(e,t),d=wi(e,0);return d.setFullYear(c,0,a),d.setHours(0,0,0,0),Qc(d,t)}function I2(e,t){const r=Sr(e),a=+Qc(r,t)-+O2(r,t);return Math.round(a/d_)+1}function rn(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const ri={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return rn(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):rn(r+1,2)},d(e,t){return rn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return rn(e.getHours()%12||12,t.length)},H(e,t){return rn(e.getHours(),t.length)},m(e,t){return rn(e.getMinutes(),t.length)},s(e,t){return rn(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),c=Math.trunc(a*Math.pow(10,r-3));return rn(c,t.length)}},al={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yx={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),c=a>0?a:1-a;return r.ordinalNumber(c,{unit:"year"})}return ri.y(e,t)},Y:function(e,t,r,a){const c=p_(e,a),d=c>0?c:1-c;if(t==="YY"){const f=d%100;return rn(f,2)}return t==="Yo"?r.ordinalNumber(d,{unit:"year"}):rn(d,t.length)},R:function(e,t){const r=m_(e);return rn(r,t.length)},u:function(e,t){const r=e.getFullYear();return rn(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return rn(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return rn(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return ri.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return rn(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const c=I2(e,a);return t==="wo"?r.ordinalNumber(c,{unit:"week"}):rn(c,t.length)},I:function(e,t,r){const a=D2(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):rn(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ri.d(e,t)},D:function(e,t,r){const a=A2(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):rn(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(d);case"ee":return rn(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(c,{width:"short",context:"formatting"});case"eeee":default:return r.day(c,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(d);case"cc":return rn(d,t.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(c,{width:"narrow",context:"standalone"});case"cccccc":return r.day(c,{width:"short",context:"standalone"});case"cccc":default:return r.day(c,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),c=a===0?7:a;switch(t){case"i":return String(c);case"ii":return rn(c,t.length);case"io":return r.ordinalNumber(c,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const c=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let c;switch(a===12?c=al.noon:a===0?c=al.midnight:c=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let c;switch(a>=17?c=al.evening:a>=12?c=al.afternoon:a>=4?c=al.morning:c=al.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return ri.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ri.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):rn(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):rn(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ri.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ri.s(e,t)},S:function(e,t){return ri.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Xx(a);case"XXXX":case"XX":return Ki(a);case"XXXXX":case"XXX":default:return Ki(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return Xx(a);case"xxxx":case"xx":return Ki(a);case"xxxxx":case"xxx":default:return Ki(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Kx(a,":");case"OOOO":default:return"GMT"+Ki(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Kx(a,":");case"zzzz":default:return"GMT"+Ki(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return rn(a,t.length)},T:function(e,t,r){const a=e.getTime();return rn(a,t.length)}};function Kx(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),c=Math.trunc(a/60),d=a%60;return d===0?r+String(c):r+String(c)+t+rn(d,2)}function Xx(e,t){return e%60===0?(e>0?"-":"+")+rn(Math.abs(e)/60,2):Ki(e,t)}function Ki(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),c=rn(Math.trunc(a/60),2),d=rn(a%60,2);return r+c+t+d}const Qx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},g_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},F2=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],c=r[2];if(!c)return Qx(e,t);let d;switch(a){case"P":d=t.dateTime({width:"short"});break;case"PP":d=t.dateTime({width:"medium"});break;case"PPP":d=t.dateTime({width:"long"});break;case"PPPP":default:d=t.dateTime({width:"full"});break}return d.replace("{{date}}",Qx(a,t)).replace("{{time}}",g_(c,t))},$2={p:g_,P:F2},z2=/^D+$/,B2=/^Y+$/,U2=["D","DD","YY","YYYY"];function H2(e){return z2.test(e)}function W2(e){return B2.test(e)}function V2(e,t,r){const a=Z2(e,t,r);if(console.warn(a),U2.includes(e))throw new RangeError(a)}function Z2(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const q2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y2=/^'([^]*?)'?$/,K2=/''/g,X2=/[a-zA-Z]/;function pn(e,t,r){var _,b,S,k;const a=Cf(),c=a.locale??L2,d=a.firstWeekContainsDate??((b=(_=a.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,f=a.weekStartsOn??((k=(S=a.locale)==null?void 0:S.options)==null?void 0:k.weekStartsOn)??0,p=Sr(e);if(!XT(p))throw new RangeError("Invalid time value");let v=t.match(G2).map(P=>{const j=P[0];if(j==="p"||j==="P"){const E=$2[j];return E(P,c.formatLong)}return P}).join("").match(q2).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const j=P[0];if(j==="'")return{isToken:!1,value:Q2(P)};if(Yx[j])return{isToken:!0,value:P};if(j.match(X2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:P}});c.localize.preprocessor&&(v=c.localize.preprocessor(p,v));const w={firstWeekContainsDate:d,weekStartsOn:f,locale:c};return v.map(P=>{if(!P.isToken)return P.value;const j=P.value;(W2(j)||H2(j))&&V2(j,t,String(e));const E=Yx[j[0]];return E(p,j,c.localize,w)}).join("")}function Q2(e){const t=e.match(Y2);return t?t[1].replace(K2,"'"):e}function Jx(e,t){return VT(e,-t)}function J2(e,t){const a=rk(e);let c;if(a.date){const v=sk(a.date,2);c=ok(v.restDateString,v.year)}if(!c||isNaN(c.getTime()))return new Date(NaN);const d=c.getTime();let f=0,p;if(a.time&&(f=ik(a.time),isNaN(f)))return new Date(NaN);if(a.timezone){if(p=ak(a.timezone),isNaN(p))return new Date(NaN)}else{const v=new Date(d+f),w=new Date(0);return w.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),w.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),w}return new Date(d+f+p)}const Fd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ek=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tk=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nk=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rk(e){const t={},r=e.split(Fd.dateTimeDelimiter);let a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],Fd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Fd.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const c=Fd.timezone.exec(a);c?(t.time=a.replace(c[1],""),t.timezone=c[1]):t.time=a}return t}function sk(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const c=a[1]?parseInt(a[1]):null,d=a[2]?parseInt(a[2]):null;return{year:d===null?c:d*100,restDateString:e.slice((a[1]||a[2]).length)}}function ok(e,t){if(t===null)return new Date(NaN);const r=e.match(ek);if(!r)return new Date(NaN);const a=!!r[4],c=Ac(r[1]),d=Ac(r[2])-1,f=Ac(r[3]),p=Ac(r[4]),v=Ac(r[5])-1;if(a)return fk(t,p,v)?lk(t,p,v):new Date(NaN);{const w=new Date(0);return!uk(t,d,f)||!dk(t,c)?new Date(NaN):(w.setUTCFullYear(t,d,Math.max(c,f)),w)}}function Ac(e){return e?parseInt(e):1}function ik(e){const t=e.match(tk);if(!t)return NaN;const r=Mm(t[1]),a=Mm(t[2]),c=Mm(t[3]);return hk(r,a,c)?r*h_+a*f_+c*1e3:NaN}function Mm(e){return e&&parseFloat(e.replace(",","."))||0}function ak(e){if(e==="Z")return 0;const t=e.match(nk);if(!t)return 0;const r=t[1]==="+"?-1:1,a=parseInt(t[2]),c=t[3]&&parseInt(t[3])||0;return mk(a,c)?r*(a*h_+c*f_):NaN}function lk(e,t,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const c=a.getUTCDay()||7,d=(t-1)*7+r+1-c;return a.setUTCDate(a.getUTCDate()+d),a}const ck=[31,null,31,30,31,30,31,31,30,31,30,31];function v_(e){return e%400===0||e%4===0&&e%100!==0}function uk(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(ck[t]||(v_(e)?29:28))}function dk(e,t){return t>=1&&t<=(v_(e)?366:365)}function fk(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function hk(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function mk(e,t){return t>=0&&t<=59}function x_({userId:e,onStartMeeting:t,startedMeetingMap:r,onEndMeetingFromFollowUp:a,onMeetingsFetched:c,refreshTrigger:d,hasActiveMeeting:f=!1,todaysFollowUpMeetings:p}){const[v,w]=g.useState([]),[_,b]=g.useState(!0),[S,k]=g.useState(null),[P,j]=g.useState(null),{toast:E}=_o(),T=p||v;g.useEffect(()=>{if(r&&Object.keys(r).length>0){const[V]=Object.keys(r);j(V||null)}else f||j(null)},[r,f]),g.useEffect(()=>{D();const V=setInterval(D,6e4);return()=>clearInterval(V)},[e]),g.useEffect(()=>{d!==void 0&&d>0&&(console.log(" Refresh trigger changed, fetching meetings and clearing local state"),D(),j(null))},[d]);const D=async()=>{if(!e){k("User ID is required"),b(!1);return}try{k(null),console.log("Fetching meetings for user:",e);const te=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${e}`,fe=await fetch(te);if(!fe.ok)throw new Error(`Failed to fetch meetings: ${fe.status}`);const Ie=await fe.json();console.log("All meetings fetched:",Ie.length);const he=Ie.filter(ee=>{const xe=ee.followupDate||ee.date;if(!xe)return!1;try{const U=J2(xe);return BT(U.toISOString())&&ee.status==="Approved"}catch{return console.warn("Invalid date format for meeting:",ee._id),!1}});console.log("Today's approved meetings:",he.length),he.forEach(ee=>{console.log(` Meeting ${ee.companyName}: status="${ee.meetingStatus}"`)});const Be=he.filter(ee=>O(ee));Be.length>0?(console.log(" Found active meetings from API after refresh:",Be.map(ee=>({id:ee._id,company:ee.companyName,status:ee.meetingStatus}))),j(Be[0]._id)):console.log(" No active meetings found in API. Checking startedMeetingMap..."),p||w(he),c&&c(he)}catch(V){console.error("Error fetching meetings:",V),k(V instanceof Error?V.message:"Failed to fetch meetings")}finally{b(!1)}};console.log("Todays meeting");const M=V=>{var Y;return((Y=V.status)==null?void 0:Y.toLowerCase())==="completed"?!0:V.meetingStatus==="complete"||V.meetingStatus==="Completed"||V.meetingStatus==="COMPLETED"},O=V=>V.meetingStatus==="In Progress"||V.meetingStatus==="IN_PROGRESS"||V.meetingStatus==="Started"||V.meetingStatus==="meeting on-going",I=f||!!P||r&&Object.keys(r).length>0||T.some(V=>O(V)),Z=V=>{if(console.log(" Today's Meeting: Attempting to start meeting:",V.companyName),console.log(" Has active meeting?",f),console.log(" Local active followUpId:",P),I){console.log(" BLOCKED: Cannot start - active meeting exists"),E({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting, starting and marking as local active..."),j(V._id),t(V)},H=V=>{switch(V){case"Approved":return"bg-success text-success-foreground";case"Pending":return"bg-warning text-warning-foreground";case"Rejected":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},ne=V=>{switch(V){case"Call":return o.jsx(pi,{className:"h-4 w-4"});case"Email":return o.jsx(mi,{className:"h-4 w-4"});case"Meeting":return o.jsx(os,{className:"h-4 w-4"});default:return o.jsx(Nn,{className:"h-4 w-4"})}};return _?o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsxs(At,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsxs(Tt,{variant:"secondary",children:[o.jsx(Pl,{className:"h-3 w-3 animate-spin mr-1"}),"Loading..."]})]})}),o.jsx(vt,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Pl,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Fetching today's approved meetings..."})]})})]}):S?o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsxs(At,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsx(Tt,{variant:"destructive",children:"Error"})]})}),o.jsx(vt,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nn,{className:"h-8 w-8 mx-auto text-destructive mb-2"}),o.jsx("p",{className:"text-sm text-destructive",children:S}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:D,className:"mt-4",children:"Retry"})]})})]}):o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsxs(At,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsxs(Tt,{variant:"secondary",children:[T.length," ",T.length===1?"meeting":"meetings"]})]})}),o.jsx(vt,{className:"p-0",children:T.length===0?o.jsxs("div",{className:"text-center py-8 px-4",children:[o.jsx(os,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),o.jsx("h4",{className:"font-medium mb-1",children:"No approved meetings for today"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Only approved meetings are shown here."})]}):o.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:T.map(V=>{r&&r[V._id];const Y=P===V._id,fe=O(V)||Y;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[ne(V.type),o.jsx("span",{className:"font-medium",children:V.type})]}),o.jsx(Tt,{className:H(V.status),variant:"secondary",children:V.status}),V.meetingTime&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(Fn,{className:"h-3 w-3"}),V.meetingTime]})]}),o.jsxs("div",{className:"space-y-1",children:[V.companyName&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(hf,{className:"h-3 w-3"}),o.jsx("span",{className:"font-medium",children:V.companyName})]}),V.customerName&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(mf,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:V.customerName}),V.customerDesignation&&o.jsxs("span",{className:"text-muted-foreground",children:[" ",V.customerDesignation]})]}),V.customerMobile&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(pi,{className:"h-3 w-3"}),V.customerMobile]}),V.customerEmail&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(mi,{className:"h-3 w-3"}),V.customerEmail]}),V.remark&&o.jsxs("div",{className:"text-sm text-muted-foreground mt-2 p-2 bg-muted/50 rounded",children:[o.jsx("span",{className:"font-medium",children:"Note: "}),V.remark]})]})]}),V.meetingStatus==="Incomplete"||!1?o.jsxs(Ce,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 border-orange-500 text-orange-600",title:"Meeting marked as incomplete",children:[o.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Incomplete"]}):M(V)?o.jsxs(Ce,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0",children:[o.jsx(ns,{className:"h-4 w-4 mr-2"}),"Complete"]}):fe?o.jsxs(Ce,{size:"sm",variant:"destructive",onClick:()=>{console.log(" End Meeting clicked for:",V._id),console.log(" startedMeetingMap:",r);const he=r==null?void 0:r[V._id];a&&he?(console.log(" Calling onEndMeetingFromFollowUp with:",V._id,he),a(V._id,he)):(console.warn(" Cannot end meeting - missing handler or meetingId:",{hasHandler:!!a,meetingId:he,followUpId:V._id}),a&&a(V._id,""))},className:"flex-shrink-0",children:[o.jsx(Fn,{className:"h-4 w-4 mr-2"}),"End Meeting"]}):I?o.jsxs(Ce,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 opacity-50 cursor-not-allowed",title:"Complete your current meeting first",children:[o.jsx(tx,{className:"h-4 w-4 mr-2"}),"Meeting Active"]}):o.jsxs(Ce,{size:"sm",onClick:()=>Z(V),className:"flex-shrink-0",children:[o.jsx(tx,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})},V._id)})})})]})}var pk="Label",y_=g.forwardRef((e,t)=>o.jsx(jt.label,{...e,ref:t,onMouseDown:r=>{var c;r.target.closest("button, input, select, textarea")||((c=e.onMouseDown)==null||c.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));y_.displayName=pk;var w_=y_;const gk=ru("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ft=g.forwardRef(({className:e,...t},r)=>o.jsx(w_,{ref:r,className:yt(gk(),e),...t}));Ft.displayName=w_.displayName;const _i=g.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:yt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));_i.displayName="Textarea";function ip(e,[t,r]){return Math.min(r,Math.max(t,e))}var vk=g.createContext(void 0);function __(e){const t=g.useContext(vk);return e||t||"ltr"}var xk="DismissableLayer",ap="dismissableLayer.update",yk="dismissableLayer.pointerDownOutside",wk="dismissableLayer.focusOutside",ey,b_=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),N_=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...v}=e,w=g.useContext(b_),[_,b]=g.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=g.useState({}),P=$t(t,H=>b(H)),j=Array.from(w.layers),[E]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(E),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=T,I=Nk(H=>{const ne=H.target,V=[...w.branches].some(Y=>Y.contains(ne));!O||V||(c==null||c(H),f==null||f(H),H.defaultPrevented||p==null||p())},S),Z=Sk(H=>{const ne=H.target;[...w.branches].some(Y=>Y.contains(ne))||(d==null||d(H),f==null||f(H),H.defaultPrevented||p==null||p())},S);return bp(H=>{D===w.layers.size-1&&(a==null||a(H),!H.defaultPrevented&&p&&(H.preventDefault(),p()))},S),g.useEffect(()=>{if(_)return r&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(ey=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),ty(),()=>{r&&w.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=ey)}},[_,S,r,w]),g.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),ty())},[_,w]),g.useEffect(()=>{const H=()=>k({});return document.addEventListener(ap,H),()=>document.removeEventListener(ap,H)},[]),o.jsx(jt.div,{...v,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,I.onPointerDownCapture)})});N_.displayName=xk;var _k="DismissableLayerBranch",bk=g.forwardRef((e,t)=>{const r=g.useContext(b_),a=g.useRef(null),c=$t(t,a);return g.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(jt.div,{...e,ref:c})});bk.displayName=_k;function Nk(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1),c=g.useRef(()=>{});return g.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let v=function(){S_(yk,r,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=v,t.addEventListener("click",c.current,{once:!0})):v()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Sk(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1);return g.useEffect(()=>{const c=d=>{d.target&&!a.current&&S_(wk,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ty(){const e=new CustomEvent(ap);document.dispatchEvent(e)}function S_(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var Rm=0;function jk(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ny()),document.body.insertAdjacentElement("beforeend",e[1]??ny()),Rm++,()=>{Rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rm--}},[])}function ny(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Ck="Portal",j_=g.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=g.useState(!1);Sn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?lf.createPortal(o.jsx(jt.div,{...a,ref:t}),f):null});j_.displayName=Ck;function C_(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var E_=R0(),Lm=function(){},Ef=g.forwardRef(function(e,t){var r=g.useRef(null),a=g.useState({onScrollCapture:Lm,onWheelCapture:Lm,onTouchMoveCapture:Lm}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,v=e.className,w=e.removeScrollBar,_=e.enabled,b=e.shards,S=e.sideCar,k=e.noIsolation,P=e.inert,j=e.allowPinchZoom,E=e.as,T=E===void 0?"div":E,D=e.gapMode,M=qp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=S,I=M0([r,t]),Z=Jn(Jn({},M),c);return g.createElement(g.Fragment,null,_&&g.createElement(O,{sideCar:E_,removeScrollBar:w,shards:b,noIsolation:k,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:r,gapMode:D}),f?g.cloneElement(g.Children.only(p),Jn(Jn({},Z),{ref:I})):g.createElement(T,Jn({},Z,{className:v,ref:I}),p))});Ef.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ef.classNames={fullWidth:Hc,zeroRight:Uc};var lp=!1;if(typeof window<"u")try{var $d=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{lp=!1}var ll=lp?{passive:!1}:!1,Ek=function(e){return e.tagName==="TEXTAREA"},P_=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ek(e)&&r[t]==="visible")},Pk=function(e){return P_(e,"overflowY")},Tk=function(e){return P_(e,"overflowX")},ry=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=T_(e,a);if(c){var d=k_(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},kk=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},Mk=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},T_=function(e,t){return e==="v"?Pk(t):Tk(t)},k_=function(e,t){return e==="v"?kk(t):Mk(t)},Rk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Lk=function(e,t,r,a,c){var d=Rk(e,window.getComputedStyle(t).direction),f=d*a,p=r.target,v=t.contains(p),w=!1,_=f>0,b=0,S=0;do{var k=k_(e,p),P=k[0],j=k[1],E=k[2],T=j-E-d*P;(P||T)&&T_(e,p)&&(b+=T,S+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!v&&p!==document.body||v&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(S)<1)&&(w=!0),w},zd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sy=function(e){return[e.deltaX,e.deltaY]},oy=function(e){return e&&"current"in e?e.current:e},Ak=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Dk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ok=0,cl=[];function Ik(e){var t=g.useRef([]),r=g.useRef([0,0]),a=g.useRef(),c=g.useState(Ok++)[0],d=g.useState(Gp)[0],f=g.useRef(e);g.useEffect(function(){f.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=k0([e.lockRef.current],(e.shards||[]).map(oy),!0).filter(Boolean);return j.forEach(function(E){return E.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=g.useCallback(function(j,E){if("touches"in j&&j.touches.length===2)return!f.current.allowPinchZoom;var T=zd(j),D=r.current,M="deltaX"in j?j.deltaX:D[0]-T[0],O="deltaY"in j?j.deltaY:D[1]-T[1],I,Z=j.target,H=Math.abs(M)>Math.abs(O)?"h":"v";if("touches"in j&&H==="h"&&Z.type==="range")return!1;var ne=ry(H,Z);if(!ne)return!0;if(ne?I=H:(I=H==="v"?"h":"v",ne=ry(H,Z)),!ne)return!1;if(!a.current&&"changedTouches"in j&&(M||O)&&(a.current=I),!I)return!0;var V=a.current||I;return Lk(V,E,j,V==="h"?M:O)},[]),v=g.useCallback(function(j){var E=j;if(!(!cl.length||cl[cl.length-1]!==d)){var T="deltaY"in E?sy(E):zd(E),D=t.current.filter(function(I){return I.name===E.type&&(I.target===E.target||E.target===I.shadowParent)&&Ak(I.delta,T)})[0];if(D&&D.should){E.cancelable&&E.preventDefault();return}if(!D){var M=(f.current.shards||[]).map(oy).filter(Boolean).filter(function(I){return I.contains(E.target)}),O=M.length>0?p(E,M[0]):!f.current.noIsolation;O&&E.cancelable&&E.preventDefault()}}},[]),w=g.useCallback(function(j,E,T,D){var M={name:j,delta:E,target:T,should:D,shadowParent:Fk(T)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(O){return O!==M})},1)},[]),_=g.useCallback(function(j){r.current=zd(j),a.current=void 0},[]),b=g.useCallback(function(j){w(j.type,sy(j),j.target,p(j,e.lockRef.current))},[]),S=g.useCallback(function(j){w(j.type,zd(j),j.target,p(j,e.lockRef.current))},[]);g.useEffect(function(){return cl.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:S}),document.addEventListener("wheel",v,ll),document.addEventListener("touchmove",v,ll),document.addEventListener("touchstart",_,ll),function(){cl=cl.filter(function(j){return j!==d}),document.removeEventListener("wheel",v,ll),document.removeEventListener("touchmove",v,ll),document.removeEventListener("touchstart",_,ll)}},[]);var k=e.removeScrollBar,P=e.inert;return g.createElement(g.Fragment,null,P?g.createElement(d,{styles:Dk(c)}):null,k?g.createElement(O0,{gapMode:e.gapMode}):null)}function Fk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $k=A0(E_,Ik);var M_=g.forwardRef(function(e,t){return g.createElement(Ef,Jn({},e,{ref:t,sideCar:$k}))});M_.classNames=Ef.classNames;var zk=[" ","Enter","ArrowUp","ArrowDown"],Bk=[" ","Enter"],cu="Select",[Pf,Tf,Uk]=Ly(cu),[Il,ZL]=Rl(cu,[Uk,xf]),kf=xf(),[Hk,Ni]=Il(cu),[Wk,Vk]=Il(cu),R_=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:c,onOpenChange:d,value:f,defaultValue:p,onValueChange:v,dir:w,name:_,autoComplete:b,disabled:S,required:k}=e,P=kf(t),[j,E]=g.useState(null),[T,D]=g.useState(null),[M,O]=g.useState(!1),I=__(w),[Z=!1,H]=Wc({prop:a,defaultProp:c,onChange:d}),[ne,V]=Wc({prop:f,defaultProp:p,onChange:v}),Y=g.useRef(null),te=j?!!j.closest("form"):!0,[fe,Ie]=g.useState(new Set),he=Array.from(fe).map(Be=>Be.props.value).join(";");return o.jsx(RC,{...P,children:o.jsxs(Hk,{required:k,scope:t,trigger:j,onTriggerChange:E,valueNode:T,onValueNodeChange:D,valueNodeHasChildren:M,onValueNodeHasChildrenChange:O,contentId:gl(),value:ne,onValueChange:V,open:Z,onOpenChange:H,dir:I,triggerPointerDownPosRef:Y,disabled:S,children:[o.jsx(Pf.Provider,{scope:t,children:o.jsx(Wk,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback(Be=>{Ie(ee=>new Set(ee).add(Be))},[]),onNativeOptionRemove:g.useCallback(Be=>{Ie(ee=>{const xe=new Set(ee);return xe.delete(Be),xe})},[]),children:r})}),te?o.jsxs(rb,{"aria-hidden":!0,required:k,tabIndex:-1,name:_,autoComplete:b,value:ne,onChange:Be=>V(Be.target.value),disabled:S,children:[ne===void 0?o.jsx("option",{value:""}):null,Array.from(fe)]},he):null]})})};R_.displayName=cu;var L_="SelectTrigger",A_=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...c}=e,d=kf(r),f=Ni(L_,r),p=f.disabled||a,v=$t(t,f.onTriggerChange),w=Tf(r),[_,b,S]=sb(P=>{const j=w().filter(D=>!D.disabled),E=j.find(D=>D.value===f.value),T=ob(j,P,E);T!==void 0&&f.onValueChange(T.value)}),k=()=>{p||(f.onOpenChange(!0),S())};return o.jsx(Gw,{asChild:!0,...d,children:o.jsx(jt.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":nb(f.value)?"":void 0,...c,ref:v,onClick:lt(c.onClick,P=>{P.currentTarget.focus()}),onPointerDown:lt(c.onPointerDown,P=>{const j=P.target;j.hasPointerCapture(P.pointerId)&&j.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&(k(),f.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)},P.preventDefault())}),onKeyDown:lt(c.onKeyDown,P=>{const j=_.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&b(P.key),!(j&&P.key===" ")&&zk.includes(P.key)&&(k(),P.preventDefault())})})})});A_.displayName=L_;var D_="SelectValue",O_=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:c,children:d,placeholder:f="",...p}=e,v=Ni(D_,r),{onValueNodeHasChildrenChange:w}=v,_=d!==void 0,b=$t(t,v.onValueNodeChange);return Sn(()=>{w(_)},[w,_]),o.jsx(jt.span,{...p,ref:b,style:{pointerEvents:"none"},children:nb(v.value)?o.jsx(o.Fragment,{children:f}):d})});O_.displayName=D_;var Zk="SelectIcon",I_=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...c}=e;return o.jsx(jt.span,{"aria-hidden":!0,...c,ref:t,children:a||""})});I_.displayName=Zk;var qk="SelectPortal",F_=e=>o.jsx(j_,{asChild:!0,...e});F_.displayName=qk;var ha="SelectContent",$_=g.forwardRef((e,t)=>{const r=Ni(ha,e.__scopeSelect),[a,c]=g.useState();if(Sn(()=>{c(new DocumentFragment)},[]),!r.open){const d=a;return d?pa.createPortal(o.jsx(z_,{scope:e.__scopeSelect,children:o.jsx(Pf.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),d):null}return o.jsx(B_,{...e,ref:t})});$_.displayName=ha;var vo=10,[z_,Si]=Il(ha),Gk="SelectContentImpl",B_=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,side:p,sideOffset:v,align:w,alignOffset:_,arrowPadding:b,collisionBoundary:S,collisionPadding:k,sticky:P,hideWhenDetached:j,avoidCollisions:E,...T}=e,D=Ni(ha,r),[M,O]=g.useState(null),[I,Z]=g.useState(null),H=$t(t,K=>O(K)),[ne,V]=g.useState(null),[Y,te]=g.useState(null),fe=Tf(r),[Ie,he]=g.useState(!1),Be=g.useRef(!1);g.useEffect(()=>{if(M)return U0(M)},[M]),jk();const ee=g.useCallback(K=>{const[ae,..._e]=fe().map(Ze=>Ze.ref.current),[Te]=_e.slice(-1),We=document.activeElement;for(const Ze of K)if(Ze===We||(Ze==null||Ze.scrollIntoView({block:"nearest"}),Ze===ae&&I&&(I.scrollTop=0),Ze===Te&&I&&(I.scrollTop=I.scrollHeight),Ze==null||Ze.focus(),document.activeElement!==We))return},[fe,I]),xe=g.useCallback(()=>ee([ne,M]),[ee,ne,M]);g.useEffect(()=>{Ie&&xe()},[Ie,xe]);const{onOpenChange:U,triggerPointerDownPosRef:ue}=D;g.useEffect(()=>{if(M){let K={x:0,y:0};const ae=Te=>{var We,Ze;K={x:Math.abs(Math.round(Te.pageX)-(((We=ue.current)==null?void 0:We.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((Ze=ue.current)==null?void 0:Ze.y)??0))}},_e=Te=>{K.x<=10&&K.y<=10?Te.preventDefault():M.contains(Te.target)||U(!1),document.removeEventListener("pointermove",ae),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",_e,{capture:!0})}}},[M,U,ue]),g.useEffect(()=>{const K=()=>U(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[U]);const[oe,z]=sb(K=>{const ae=fe().filter(We=>!We.disabled),_e=ae.find(We=>We.ref.current===document.activeElement),Te=ob(ae,K,_e);Te&&setTimeout(()=>Te.ref.current.focus())}),J=g.useCallback((K,ae,_e)=>{const Te=!Be.current&&!_e;(D.value!==void 0&&D.value===ae||Te)&&(V(K),Te&&(Be.current=!0))},[D.value]),Ne=g.useCallback(()=>M==null?void 0:M.focus(),[M]),ke=g.useCallback((K,ae,_e)=>{const Te=!Be.current&&!_e;(D.value!==void 0&&D.value===ae||Te)&&te(K)},[D.value]),Se=a==="popper"?cp:U_,$=Se===cp?{side:p,sideOffset:v,align:w,alignOffset:_,arrowPadding:b,collisionBoundary:S,collisionPadding:k,sticky:P,hideWhenDetached:j,avoidCollisions:E}:{};return o.jsx(z_,{scope:r,content:M,viewport:I,onViewportChange:Z,itemRefCallback:J,selectedItem:ne,onItemLeave:Ne,itemTextRefCallback:ke,focusSelectedItem:xe,selectedItemText:Y,position:a,isPositioned:Ie,searchRef:oe,children:o.jsx(M_,{as:ca,allowPinchZoom:!0,children:o.jsx(Zp,{asChild:!0,trapped:D.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:lt(c,K=>{var ae;(ae=D.trigger)==null||ae.focus({preventScroll:!0}),K.preventDefault()}),children:o.jsx(N_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:o.jsx(Se,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:K=>K.preventDefault(),...T,...$,onPlaced:()=>he(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:lt(T.onKeyDown,K=>{const ae=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!ae&&K.key.length===1&&z(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let Te=fe().filter(We=>!We.disabled).map(We=>We.ref.current);if(["ArrowUp","End"].includes(K.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const We=K.target,Ze=Te.indexOf(We);Te=Te.slice(Ze+1)}setTimeout(()=>ee(Te)),K.preventDefault()}})})})})})})});B_.displayName=Gk;var Yk="SelectItemAlignedPosition",U_=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...c}=e,d=Ni(ha,r),f=Si(ha,r),[p,v]=g.useState(null),[w,_]=g.useState(null),b=$t(t,H=>_(H)),S=Tf(r),k=g.useRef(!1),P=g.useRef(!0),{viewport:j,selectedItem:E,selectedItemText:T,focusSelectedItem:D}=f,M=g.useCallback(()=>{if(d.trigger&&d.valueNode&&p&&w&&j&&E&&T){const H=d.trigger.getBoundingClientRect(),ne=w.getBoundingClientRect(),V=d.valueNode.getBoundingClientRect(),Y=T.getBoundingClientRect();if(d.dir!=="rtl"){const We=Y.left-ne.left,Ze=V.left-We,nt=H.left-Ze,Et=H.width+nt,ye=Math.max(Et,ne.width),Ge=window.innerWidth-vo,q=ip(Ze,[vo,Ge-ye]);p.style.minWidth=Et+"px",p.style.left=q+"px"}else{const We=ne.right-Y.right,Ze=window.innerWidth-V.right-We,nt=window.innerWidth-H.right-Ze,Et=H.width+nt,ye=Math.max(Et,ne.width),Ge=window.innerWidth-vo,q=ip(Ze,[vo,Ge-ye]);p.style.minWidth=Et+"px",p.style.right=q+"px"}const te=S(),fe=window.innerHeight-vo*2,Ie=j.scrollHeight,he=window.getComputedStyle(w),Be=parseInt(he.borderTopWidth,10),ee=parseInt(he.paddingTop,10),xe=parseInt(he.borderBottomWidth,10),U=parseInt(he.paddingBottom,10),ue=Be+ee+Ie+U+xe,oe=Math.min(E.offsetHeight*5,ue),z=window.getComputedStyle(j),J=parseInt(z.paddingTop,10),Ne=parseInt(z.paddingBottom,10),ke=H.top+H.height/2-vo,Se=fe-ke,$=E.offsetHeight/2,K=E.offsetTop+$,ae=Be+ee+K,_e=ue-ae;if(ae<=ke){const We=E===te[te.length-1].ref.current;p.style.bottom="0px";const Ze=w.clientHeight-j.offsetTop-j.offsetHeight,nt=Math.max(Se,$+(We?Ne:0)+Ze+xe),Et=ae+nt;p.style.height=Et+"px"}else{const We=E===te[0].ref.current;p.style.top="0px";const nt=Math.max(ke,Be+j.offsetTop+(We?J:0)+$)+_e;p.style.height=nt+"px",j.scrollTop=ae-ke+j.offsetTop}p.style.margin=`${vo}px 0`,p.style.minHeight=oe+"px",p.style.maxHeight=fe+"px",a==null||a(),requestAnimationFrame(()=>k.current=!0)}},[S,d.trigger,d.valueNode,p,w,j,E,T,d.dir,a]);Sn(()=>M(),[M]);const[O,I]=g.useState();Sn(()=>{w&&I(window.getComputedStyle(w).zIndex)},[w]);const Z=g.useCallback(H=>{H&&P.current===!0&&(M(),D==null||D(),P.current=!1)},[M,D]);return o.jsx(Xk,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:k,onScrollButtonChange:Z,children:o.jsx("div",{ref:v,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:o.jsx(jt.div,{...c,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});U_.displayName=Yk;var Kk="SelectPopperPosition",cp=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:c=vo,...d}=e,f=kf(r);return o.jsx(Yw,{...f,...d,ref:t,align:a,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cp.displayName=Kk;var[Xk,Jp]=Il(ha,{}),up="SelectViewport",H_=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...c}=e,d=Si(up,r),f=Jp(up,r),p=$t(t,d.onViewportChange),v=g.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Pf.Slot,{scope:r,children:o.jsx(jt.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:p,style:{position:"relative",flex:1,overflow:"auto",...c.style},onScroll:lt(c.onScroll,w=>{const _=w.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:S}=f;if(S!=null&&S.current&&b){const k=Math.abs(v.current-_.scrollTop);if(k>0){const P=window.innerHeight-vo*2,j=parseFloat(b.style.minHeight),E=parseFloat(b.style.height),T=Math.max(j,E);if(T<P){const D=T+k,M=Math.min(P,D),O=D-M;b.style.height=M+"px",b.style.bottom==="0px"&&(_.scrollTop=O>0?O:0,b.style.justifyContent="flex-end")}}}v.current=_.scrollTop})})})]})});H_.displayName=up;var W_="SelectGroup",[Qk,Jk]=Il(W_),eM=g.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=gl();return o.jsx(Qk,{scope:r,id:c,children:o.jsx(jt.div,{role:"group","aria-labelledby":c,...a,ref:t})})});eM.displayName=W_;var V_="SelectLabel",Z_=g.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=Jk(V_,r);return o.jsx(jt.div,{id:c.id,...a,ref:t})});Z_.displayName=V_;var nf="SelectItem",[tM,q_]=Il(nf),G_=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:c=!1,textValue:d,...f}=e,p=Ni(nf,r),v=Si(nf,r),w=p.value===a,[_,b]=g.useState(d??""),[S,k]=g.useState(!1),P=$t(t,T=>{var D;return(D=v.itemRefCallback)==null?void 0:D.call(v,T,a,c)}),j=gl(),E=()=>{c||(p.onValueChange(a),p.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(tM,{scope:r,value:a,disabled:c,textId:j,isSelected:w,onItemTextChange:g.useCallback(T=>{b(D=>D||((T==null?void 0:T.textContent)??"").trim())},[]),children:o.jsx(Pf.ItemSlot,{scope:r,value:a,disabled:c,textValue:_,children:o.jsx(jt.div,{role:"option","aria-labelledby":j,"data-highlighted":S?"":void 0,"aria-selected":w&&S,"data-state":w?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...f,ref:P,onFocus:lt(f.onFocus,()=>k(!0)),onBlur:lt(f.onBlur,()=>k(!1)),onPointerUp:lt(f.onPointerUp,E),onPointerMove:lt(f.onPointerMove,T=>{var D;c?(D=v.onItemLeave)==null||D.call(v):T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:lt(f.onPointerLeave,T=>{var D;T.currentTarget===document.activeElement&&((D=v.onItemLeave)==null||D.call(v))}),onKeyDown:lt(f.onKeyDown,T=>{var M;((M=v.searchRef)==null?void 0:M.current)!==""&&T.key===" "||(Bk.includes(T.key)&&E(),T.key===" "&&T.preventDefault())})})})})});G_.displayName=nf;var $c="SelectItemText",Y_=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:c,...d}=e,f=Ni($c,r),p=Si($c,r),v=q_($c,r),w=Vk($c,r),[_,b]=g.useState(null),S=$t(t,T=>b(T),v.onItemTextChange,T=>{var D;return(D=p.itemTextRefCallback)==null?void 0:D.call(p,T,v.value,v.disabled)}),k=_==null?void 0:_.textContent,P=g.useMemo(()=>o.jsx("option",{value:v.value,disabled:v.disabled,children:k},v.value),[v.disabled,v.value,k]),{onNativeOptionAdd:j,onNativeOptionRemove:E}=w;return Sn(()=>(j(P),()=>E(P)),[j,E,P]),o.jsxs(o.Fragment,{children:[o.jsx(jt.span,{id:v.textId,...d,ref:S}),v.isSelected&&f.valueNode&&!f.valueNodeHasChildren?pa.createPortal(d.children,f.valueNode):null]})});Y_.displayName=$c;var K_="SelectItemIndicator",X_=g.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return q_(K_,r).isSelected?o.jsx(jt.span,{"aria-hidden":!0,...a,ref:t}):null});X_.displayName=K_;var dp="SelectScrollUpButton",Q_=g.forwardRef((e,t)=>{const r=Si(dp,e.__scopeSelect),a=Jp(dp,e.__scopeSelect),[c,d]=g.useState(!1),f=$t(t,a.onScrollButtonChange);return Sn(()=>{if(r.viewport&&r.isPositioned){let p=function(){const w=v.scrollTop>0;d(w)};const v=r.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),c?o.jsx(eb,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=r;p&&v&&(p.scrollTop=p.scrollTop-v.offsetHeight)}}):null});Q_.displayName=dp;var fp="SelectScrollDownButton",J_=g.forwardRef((e,t)=>{const r=Si(fp,e.__scopeSelect),a=Jp(fp,e.__scopeSelect),[c,d]=g.useState(!1),f=$t(t,a.onScrollButtonChange);return Sn(()=>{if(r.viewport&&r.isPositioned){let p=function(){const w=v.scrollHeight-v.clientHeight,_=Math.ceil(v.scrollTop)<w;d(_)};const v=r.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),c?o.jsx(eb,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=r;p&&v&&(p.scrollTop=p.scrollTop+v.offsetHeight)}}):null});J_.displayName=fp;var eb=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...c}=e,d=Si("SelectScrollButton",r),f=g.useRef(null),p=Tf(r),v=g.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return g.useEffect(()=>()=>v(),[v]),Sn(()=>{var _;const w=p().find(b=>b.ref.current===document.activeElement);(_=w==null?void 0:w.ref.current)==null||_.scrollIntoView({block:"nearest"})},[p]),o.jsx(jt.div,{"aria-hidden":!0,...c,ref:t,style:{flexShrink:0,...c.style},onPointerDown:lt(c.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(a,50))}),onPointerMove:lt(c.onPointerMove,()=>{var w;(w=d.onItemLeave)==null||w.call(d),f.current===null&&(f.current=window.setInterval(a,50))}),onPointerLeave:lt(c.onPointerLeave,()=>{v()})})}),nM="SelectSeparator",tb=g.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return o.jsx(jt.div,{"aria-hidden":!0,...a,ref:t})});tb.displayName=nM;var hp="SelectArrow",rM=g.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=kf(r),d=Ni(hp,r),f=Si(hp,r);return d.open&&f.position==="popper"?o.jsx(Kw,{...c,...a,ref:t}):null});rM.displayName=hp;function nb(e){return e===""||e===void 0}var rb=g.forwardRef((e,t)=>{const{value:r,...a}=e,c=g.useRef(null),d=$t(t,c),f=C_(r);return g.useEffect(()=>{const p=c.current,v=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(v,"value").set;if(f!==r&&_){const b=new Event("change",{bubbles:!0});_.call(p,r),p.dispatchEvent(b)}},[f,r]),o.jsx(nu,{asChild:!0,children:o.jsx("select",{...a,ref:d,defaultValue:r})})});rb.displayName="BubbleSelect";function sb(e){const t=xn(e),r=g.useRef(""),a=g.useRef(0),c=g.useCallback(f=>{const p=r.current+f;t(p),function v(w){r.current=w,window.clearTimeout(a.current),w!==""&&(a.current=window.setTimeout(()=>v(""),1e3))}(p)},[t]),d=g.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,c,d]}function ob(e,t,r){const c=t.length>1&&Array.from(t).every(w=>w===t[0])?t[0]:t,d=r?e.indexOf(r):-1;let f=sM(e,Math.max(d,0));c.length===1&&(f=f.filter(w=>w!==r));const v=f.find(w=>w.textValue.toLowerCase().startsWith(c.toLowerCase()));return v!==r?v:void 0}function sM(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var oM=R_,ib=A_,iM=O_,aM=I_,lM=F_,ab=$_,cM=H_,lb=Z_,cb=G_,uM=Y_,dM=X_,ub=Q_,db=J_,fb=tb;const ws=oM,_s=iM,rs=g.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(ib,{ref:a,className:yt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(aM,{asChild:!0,children:o.jsx(Pp,{className:"h-4 w-4 opacity-50"})})]}));rs.displayName=ib.displayName;const hb=g.forwardRef(({className:e,...t},r)=>o.jsx(ub,{ref:r,className:yt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(GN,{className:"h-4 w-4"})}));hb.displayName=ub.displayName;const mb=g.forwardRef(({className:e,...t},r)=>o.jsx(db,{ref:r,className:yt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Pp,{className:"h-4 w-4"})}));mb.displayName=db.displayName;const ss=g.forwardRef(({className:e,children:t,position:r="popper",...a},c)=>o.jsx(lM,{children:o.jsxs(ab,{ref:c,className:yt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[o.jsx(hb,{}),o.jsx(cM,{className:yt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(mb,{})]})}));ss.displayName=ab.displayName;const fM=g.forwardRef(({className:e,...t},r)=>o.jsx(lb,{ref:r,className:yt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));fM.displayName=lb.displayName;const sn=g.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(cb,{ref:a,className:yt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(dM,{children:o.jsx(Ep,{className:"h-4 w-4"})})}),o.jsx(uM,{children:t})]}));sn.displayName=cb.displayName;const hM=g.forwardRef(({className:e,...t},r)=>o.jsx(fb,{ref:r,className:yt("-mx-1 my-1 h-px bg-muted",e),...t}));hM.displayName=fb.displayName;function iy({value:e,onValueChange:t,options:r=[],placeholder:a="Select an option...",emptyMessage:c="No options found.",disabled:d=!1,className:f,searchPlaceholder:p="Search..."}){const[v,w]=g.useState(!1),[_,b]=g.useState(""),S=Array.isArray(r)?r:[],k=_?S.filter(T=>{var Z;if(!T||typeof T.value!="string"||typeof T.label!="string")return!1;const D=_.toLowerCase(),M=T.label.toLowerCase().includes(D),O=T.value.toLowerCase().includes(D),I=(Z=T.searchTerms)==null?void 0:Z.some(H=>H&&typeof H=="string"&&H.toLowerCase().includes(D));return M||O||I}):S,P=S.find(T=>(T==null?void 0:T.value)===e),j=T=>{t(T===e?"":T),w(!1),b("")},E=()=>{d||(w(!v),v||b(""))};return o.jsxs("div",{className:"relative",children:[o.jsxs(Ce,{variant:"outline",role:"combobox","aria-expanded":v,className:yt("w-full justify-between",f),disabled:d,onClick:E,type:"button",children:[P?P.label:a,o.jsx(Pp,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),v&&o.jsxs("div",{className:"absolute top-full left-0 right-0 z-[1001] mt-1 bg-popover border rounded-md shadow-lg",children:[o.jsxs("div",{className:"flex items-center border-b px-3 py-2",children:[o.jsx(su,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(vn,{placeholder:p,value:_,onChange:T=>b(T.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-8",autoFocus:!0})]}),o.jsx("div",{className:"max-h-64 overflow-y-auto",children:k.length>0?k.map((T,D)=>T&&T.value&&T.label?o.jsxs("button",{type:"button",className:yt("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",e===T.value&&"bg-accent text-accent-foreground"),onClick:()=>j(T.value),children:[o.jsx(Ep,{className:yt("mr-2 h-4 w-4",e===T.value?"opacity-100":"opacity-0")}),o.jsx("span",{className:"flex-1 text-left",children:T.label})]},`${T.value}-${D}`):null):o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:c})})]}),v&&o.jsx("div",{className:"fixed inset-0 z-[1000]",onClick:()=>w(!1)})]})}const mM=["Initial Client Meeting","Project Discussion","Equipment Installation","System Maintenance","Technical Support","Training Session","Progress Review","Problem Resolution","Contract Negotiation","Follow-up Meeting","Emergency Response","Consultation","Demo/Presentation","Site Survey","Other"];function pb({isOpen:e,onClose:t,onStartMeeting:r,employeeName:a,location:c,isLoading:d=!1,initialClientName:f="",initialCompanyName:p="",initialReason:v="",initialNotes:w=""}){var Et;const[_,b]=g.useState(""),[S,k]=g.useState(""),[P,j]=g.useState(""),[E,T]=g.useState(""),[D,M]=g.useState({}),[O,I]=g.useState([]),[Z,H]=g.useState(!1),[ne,V]=g.useState(null),[Y,te]=g.useState([]),[fe,Ie]=g.useState(!1),[he,Be]=g.useState(null),[ee,xe]=g.useState(""),[U,ue]=g.useState([]),[oe,z]=g.useState(!1),[J,Ne]=g.useState(""),[ke,Se]=g.useState(!1),{toast:$}=_o(),K=async()=>{H(!0),V(null);try{console.log("Fetching companies from external API for start meeting...");const ye=await pt.request("https://jbdspower.in/LeafNetServer/api/customer",{method:"GET"});if(!ye.ok)throw new Error(`Failed to fetch customers: ${ye.statusText}`);const Ge=await ye.json();console.log("Customer API raw response:",Ge);const q=Array.isArray(Ge)?Ge:[];console.log(`Fetched ${q.length} companies for start meeting`,q.slice(0,3)),I(q)}catch(ye){console.error("Error fetching customers for start meeting:",ye),V(ye instanceof Error?ye.message:"Failed to fetch customers")}finally{H(!1)}},ae=async()=>{Ie(!0),Be(null);try{console.log("Fetching leads from external API for start meeting...");const ye=await pt.request("https://jbdspower.in/LeafNetServer/api/getAllLead",{method:"GET"});if(!ye.ok)throw new Error(`Failed to fetch leads: ${ye.statusText}`);const Ge=await ye.json();console.log("Leads API raw response:",Ge);const q=Array.isArray(Ge)?Ge:[];console.log(`Fetched ${q.length} leads for start meeting`,q.slice(0,3)),te(q)}catch(ye){console.error("Error fetching leads for start meeting:",ye),Be(ye instanceof Error?ye.message:"Failed to fetch leads")}finally{Ie(!1)}},_e=ye=>{if(!ye||ye==="custom"||!Array.isArray(Y)){ue([]);return}console.log("Filtering leads for company:",ye);const Ge=Y.filter(q=>{if(!q||!q.CompanyName)return!1;const me=q.CompanyName.toLowerCase().trim()===ye.toLowerCase().trim();return console.log(`Comparing "${q.CompanyName}" with "${ye}": ${me}`),me});console.log(`Filtered ${Ge.length} leads for company "${ye}":`,Ge),ue(Ge)};console.log("filtered leads by compnay",_e),console.log("filtered leads",U);const Te=ye=>{console.log("Client selection changed:",ye),b(ye),xe(""),_e(ye)};g.useEffect(()=>{e?(K(),ae(),(f||p)&&(k(f||""),b(p||"custom")),v&&j(v),w&&T(w)):(b(""),k(""),j(""),T(""),xe(""),M({}))},[e,f,p,v,w]),g.useEffect(()=>{Y.length>0&&_&&_!=="custom"?_e(_):ue([])},[Y,_]);const We=async()=>{if(!J.trim())return $({title:"Company Name Required",description:"Please enter a company name to create a lead.",variant:"destructive"}),!1;const ye=localStorage.getItem("idToken");if(!ye)return $({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"}),!1;const Ge=localStorage.getItem("user"),q=Ge?JSON.parse(Ge)._id:"67daa55d9c4abb36045d5bfe";Se(!0);try{const me={CompanyName:J.trim(),Name:"New Lead",CreatedBy:q,Id:`JBDSL-${Date.now().toString().slice(-4)}`};console.log(" Creating lead:",me),console.log(" Token:",ye.substring(0,20)+"...");const be=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${ye}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me)});if(console.log(" Response:",be.status),be.ok){const we=await be.json();return console.log(" Lead created:",we),$({title:"Lead Created",description:`Lead created successfully for ${J}`}),k(J),b("custom"),ae(),!0}else{const we=await be.text();return console.error(" Failed:",be.status,we),$({title:"Failed to Create Lead",description:`Error: ${be.status}`,variant:"destructive"}),!1}}catch(me){return console.error(" Error:",me),$({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"}),!1}finally{Se(!1)}},Ze=async()=>{const ye={},Ge=_==="custom"?S:_;if(Ge.trim()||(ye.client="Client name is required"),P||(ye.reason="Meeting reason is required"),Object.keys(ye).length>0){M(ye);return}oe&&J.trim()&&(await We()||console.warn("Lead creation failed, but proceeding with meeting"));const q=ee&&Array.isArray(Y)?Y.find(me=>me&&me.Id===ee):null;console.log("Starting meeting with data:",{clientName:Ge,reason:P,notes:E.trim(),leadId:ee||void 0,leadInfo:q||{}}),M({}),r({clientName:Ge,reason:P,notes:E.trim(),leadId:ee||void 0,leadInfo:q?{id:(q==null?void 0:q.Id)||{},companyName:q.CompanyName,contactName:q.Name}:void 0})},nt=()=>{b(""),k(""),j(""),T(""),M({}),V(null),Be(null),xe(""),ue([]),z(!1),Ne(""),t()};return o.jsx(br,{open:e,onOpenChange:nt,children:o.jsxs(cr,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(ur,{children:[o.jsxs(dr,{className:"flex items-center space-x-2",children:[o.jsx(Fn,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Start Meeting"})]}),o.jsxs(Nr,{children:["Create a new meeting record for ",a]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground bg-muted/50 p-3 rounded-md",children:[o.jsx(lr,{className:"h-4 w-4"}),o.jsxs("span",{children:["Location: ",c]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ft,{htmlFor:"client",children:"Client / Company"}),o.jsxs(Ce,{type:"button",variant:"outline",size:"sm",onClick:()=>{z(!oe),oe||Ne("")},className:"h-8",children:[o.jsx(Vc,{className:"h-4 w-4 mr-1"}),oe?"Cancel":"Create New Lead"]})]}),ne?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load companies"})]}),o.jsx("p",{className:"text-xs mt-1",children:ne}),o.jsx("button",{type:"button",onClick:K,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{htmlFor:"customClientFallback",children:"Enter Client Name Manually"}),o.jsx(vn,{id:"customClientFallback",value:S,onChange:ye=>{k(ye.target.value),b("custom")},placeholder:"Enter client name",className:D.client?"border-destructive":""})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx(iy,{value:_,onValueChange:Te,options:[...Array.isArray(O)?Array.from(new Map(O.filter(ye=>{const Ge=ye&&ye.CustomerCompanyName&&typeof ye.CustomerCompanyName=="string"&&ye.CustomerCompanyName.trim().length>0;return!Ge&&ye&&console.warn("Invalid customer data:",ye),Ge}).map(ye=>[ye.CustomerCompanyName.trim(),ye])).values()).map(ye=>({value:ye.CustomerCompanyName.trim(),label:ye.CustomerCompanyName.trim(),searchTerms:[ye.CustomerCompanyName.trim()]})):[],{value:"custom",label:"Custom Client...",searchTerms:["custom","manual","other"]}],placeholder:Z?"Loading companies...":"Select a company or choose custom",emptyMessage:"No companies found. Choose custom to enter manually.",disabled:Z,searchPlaceholder:"Search companies...",className:D.client?"border-destructive":""}),o.jsx("div",{className:"text-xs text-muted-foreground",children:`Can't find your company? Use "Custom Client..." option above`})]}),D.client&&o.jsx("p",{className:"text-sm text-destructive",children:D.client})]}),oe&&o.jsxs("div",{className:"space-y-3 p-4 border-2 border-primary/30 rounded-lg bg-primary/5",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hf,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"font-semibold text-sm text-primary",children:"Create New Lead"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{htmlFor:"newLeadCompanyName",className:"text-sm font-medium",children:["Company Name for New Lead",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"newLeadCompanyName",value:J,onChange:ye=>{Ne(ye.target.value),k(ye.target.value),b("custom")},placeholder:"Enter company name to create lead",disabled:ke,className:"border-primary/50"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:" This will create a new lead and use it for the meeting"})]})]}),_==="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{htmlFor:"customClient",children:"Custom Client Name"}),o.jsx(vn,{id:"customClient",value:S,onChange:ye=>k(ye.target.value),placeholder:"Enter client name",className:D.client?"border-destructive":""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{htmlFor:"lead",children:["Lead Association (Optional)",_&&_!=="custom"&&U.length>0&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",U.length," leads for ",_,")"]})]}),he?o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load leads"})]}),o.jsx("p",{className:"text-xs mt-1",children:he}),o.jsx("button",{type:"button",onClick:ae,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}):o.jsxs(o.Fragment,{children:[_&&_!=="custom"&&Y.length>0&&U.length===0&&o.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted/50 rounded-md",children:['No leads found for "',_,'". You can still proceed without associating a lead.']}),(_&&_!=="custom"?U.length>0:Y.length>0)?o.jsx(iy,{value:ee,onValueChange:ye=>{console.log("Lead selection changed:",ye),xe(ye)},options:Array.isArray(_&&_!=="custom"?U:Y)?Array.from(new Map((_&&_!=="custom"?U:Y).filter(ye=>{const Ge=ye&&ye.Id&&ye.CompanyName&&ye.Name&&typeof ye.Id=="string"&&typeof ye.CompanyName=="string"&&typeof ye.Name=="string"&&ye.Id.trim().length>0&&ye.CompanyName.trim().length>0&&ye.Name.trim().length>0;return!Ge&&ye&&console.warn("Invalid lead data:",ye),Ge}).map(ye=>[ye.Id.trim(),ye])).values()).map(ye=>({value:ye.Id.trim(),label:`${ye.Id.trim()} - ${ye.CompanyName.trim()} (${ye.Name.trim()})`,searchTerms:[ye.CompanyName.trim(),ye.Name.trim(),ye.Email||"",ye.Subject||"",ye.Stage||"",ye.Id.trim()].filter(Ge=>Ge&&typeof Ge=="string"&&Ge.length>0)})):[],placeholder:fe?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads",emptyMessage:_&&_!=="custom"?`No leads found for ${_}`:"No leads available",disabled:fe,searchPlaceholder:"Search leads by ID, company, name..."}):o.jsxs(ws,{value:ee,onValueChange:xe,disabled:fe,children:[o.jsx(rs,{children:o.jsx(_s,{placeholder:fe?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads"})}),o.jsx(ss,{children:o.jsx(sn,{value:"no-leads",disabled:!0,children:fe?"Loading...":"No leads available"})})]})]}),ee&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx(dw,{className:"h-3 w-3 inline mr-1"}),"Lead selected: ",(Et=(_&&_!=="custom"?U:Y).find(ye=>ye.Id===ee))==null?void 0:Et.Subject]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{htmlFor:"reason",children:"Meeting Reason / Type"}),o.jsxs(ws,{value:P,onValueChange:j,children:[o.jsx(rs,{className:D.reason?"border-destructive":"",children:o.jsx(_s,{placeholder:"Select meeting reason"})}),o.jsx(ss,{children:mM.map(ye=>o.jsx(sn,{value:ye,children:ye},ye))})]}),D.reason&&o.jsx("p",{className:"text-sm text-destructive",children:D.reason})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{htmlFor:"notes",children:"Notes (Optional)"}),o.jsx(_i,{id:"notes",value:E,onChange:ye=>T(ye.target.value),placeholder:"Add any additional notes about this meeting...",rows:3})]}),o.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(mf,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium",children:["Employee: ",a]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fn,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:["Start Time: ",UT()]})]})]})]}),o.jsxs(fa,{children:[o.jsx(Ce,{variant:"outline",onClick:nt,disabled:d||ke,children:"Cancel"}),o.jsx(Ce,{onClick:Ze,disabled:d||ke,children:ke?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Pl,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Creating Lead..."})]}):d?"Starting...":"Start Meeting"})]})]})})}function pM(e,t){return g.useReducer((r,a)=>t[r][a]??r,e)}var eg="ScrollArea",[gb,qL]=Rl(eg),[gM,is]=gb(eg),vb=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:c,scrollHideDelay:d=600,...f}=e,[p,v]=g.useState(null),[w,_]=g.useState(null),[b,S]=g.useState(null),[k,P]=g.useState(null),[j,E]=g.useState(null),[T,D]=g.useState(0),[M,O]=g.useState(0),[I,Z]=g.useState(!1),[H,ne]=g.useState(!1),V=$t(t,te=>v(te)),Y=__(c);return o.jsx(gM,{scope:r,type:a,dir:Y,scrollHideDelay:d,scrollArea:p,viewport:w,onViewportChange:_,content:b,onContentChange:S,scrollbarX:k,onScrollbarXChange:P,scrollbarXEnabled:I,onScrollbarXEnabledChange:Z,scrollbarY:j,onScrollbarYChange:E,scrollbarYEnabled:H,onScrollbarYEnabledChange:ne,onCornerWidthChange:D,onCornerHeightChange:O,children:o.jsx(jt.div,{dir:Y,...f,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":M+"px",...e.style}})})});vb.displayName=eg;var xb="ScrollAreaViewport",yb=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:c,...d}=e,f=is(xb,r),p=g.useRef(null),v=$t(t,p,f.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),o.jsx(jt.div,{"data-radix-scroll-area-viewport":"",...d,ref:v,style:{overflowX:f.scrollbarXEnabled?"scroll":"hidden",overflowY:f.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:f.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});yb.displayName=xb;var Zs="ScrollAreaScrollbar",tg=g.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=is(Zs,e.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:f}=c,p=e.orientation==="horizontal";return g.useEffect(()=>(p?d(!0):f(!0),()=>{p?d(!1):f(!1)}),[p,d,f]),c.type==="hover"?o.jsx(vM,{...a,ref:t,forceMount:r}):c.type==="scroll"?o.jsx(xM,{...a,ref:t,forceMount:r}):c.type==="auto"?o.jsx(wb,{...a,ref:t,forceMount:r}):c.type==="always"?o.jsx(ng,{...a,ref:t}):null});tg.displayName=Zs;var vM=g.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=is(Zs,e.__scopeScrollArea),[d,f]=g.useState(!1);return g.useEffect(()=>{const p=c.scrollArea;let v=0;if(p){const w=()=>{window.clearTimeout(v),f(!0)},_=()=>{v=window.setTimeout(()=>f(!1),c.scrollHideDelay)};return p.addEventListener("pointerenter",w),p.addEventListener("pointerleave",_),()=>{window.clearTimeout(v),p.removeEventListener("pointerenter",w),p.removeEventListener("pointerleave",_)}}},[c.scrollArea,c.scrollHideDelay]),o.jsx(ga,{present:r||d,children:o.jsx(wb,{"data-state":d?"visible":"hidden",...a,ref:t})})}),xM=g.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=is(Zs,e.__scopeScrollArea),d=e.orientation==="horizontal",f=Rf(()=>v("SCROLL_END"),100),[p,v]=pM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(p==="idle"){const w=window.setTimeout(()=>v("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(w)}},[p,c.scrollHideDelay,v]),g.useEffect(()=>{const w=c.viewport,_=d?"scrollLeft":"scrollTop";if(w){let b=w[_];const S=()=>{const k=w[_];b!==k&&(v("SCROLL"),f()),b=k};return w.addEventListener("scroll",S),()=>w.removeEventListener("scroll",S)}},[c.viewport,d,v,f]),o.jsx(ga,{present:r||p!=="hidden",children:o.jsx(ng,{"data-state":p==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:lt(e.onPointerEnter,()=>v("POINTER_ENTER")),onPointerLeave:lt(e.onPointerLeave,()=>v("POINTER_LEAVE"))})})}),wb=g.forwardRef((e,t)=>{const r=is(Zs,e.__scopeScrollArea),{forceMount:a,...c}=e,[d,f]=g.useState(!1),p=e.orientation==="horizontal",v=Rf(()=>{if(r.viewport){const w=r.viewport.offsetWidth<r.viewport.scrollWidth,_=r.viewport.offsetHeight<r.viewport.scrollHeight;f(p?w:_)}},10);return Ml(r.viewport,v),Ml(r.content,v),o.jsx(ga,{present:a||d,children:o.jsx(ng,{"data-state":d?"visible":"hidden",...c,ref:t})})}),ng=g.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,c=is(Zs,e.__scopeScrollArea),d=g.useRef(null),f=g.useRef(0),[p,v]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),w=jb(p.viewport,p.content),_={...a,sizes:p,onSizesChange:v,hasThumb:w>0&&w<1,onThumbChange:S=>d.current=S,onThumbPointerUp:()=>f.current=0,onThumbPointerDown:S=>f.current=S};function b(S,k){return SM(S,f.current,p,k)}return r==="horizontal"?o.jsx(yM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const S=c.viewport.scrollLeft,k=ay(S,p,c.dir);d.current.style.transform=`translate3d(${k}px, 0, 0)`}},onWheelScroll:S=>{c.viewport&&(c.viewport.scrollLeft=S)},onDragScroll:S=>{c.viewport&&(c.viewport.scrollLeft=b(S,c.dir))}}):r==="vertical"?o.jsx(wM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const S=c.viewport.scrollTop,k=ay(S,p);d.current.style.transform=`translate3d(0, ${k}px, 0)`}},onWheelScroll:S=>{c.viewport&&(c.viewport.scrollTop=S)},onDragScroll:S=>{c.viewport&&(c.viewport.scrollTop=b(S))}}):null}),yM=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...c}=e,d=is(Zs,e.__scopeScrollArea),[f,p]=g.useState(),v=g.useRef(null),w=$t(t,v,d.onScrollbarXChange);return g.useEffect(()=>{v.current&&p(getComputedStyle(v.current))},[v]),o.jsx(bb,{"data-orientation":"horizontal",...c,ref:w,sizes:r,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mf(r)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.x),onDragScroll:_=>e.onDragScroll(_.x),onWheelScroll:(_,b)=>{if(d.viewport){const S=d.viewport.scrollLeft+_.deltaX;e.onWheelScroll(S),Eb(S,b)&&_.preventDefault()}},onResize:()=>{v.current&&d.viewport&&f&&a({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:v.current.clientWidth,paddingStart:sf(f.paddingLeft),paddingEnd:sf(f.paddingRight)}})}})}),wM=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...c}=e,d=is(Zs,e.__scopeScrollArea),[f,p]=g.useState(),v=g.useRef(null),w=$t(t,v,d.onScrollbarYChange);return g.useEffect(()=>{v.current&&p(getComputedStyle(v.current))},[v]),o.jsx(bb,{"data-orientation":"vertical",...c,ref:w,sizes:r,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mf(r)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.y),onDragScroll:_=>e.onDragScroll(_.y),onWheelScroll:(_,b)=>{if(d.viewport){const S=d.viewport.scrollTop+_.deltaY;e.onWheelScroll(S),Eb(S,b)&&_.preventDefault()}},onResize:()=>{v.current&&d.viewport&&f&&a({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:v.current.clientHeight,paddingStart:sf(f.paddingTop),paddingEnd:sf(f.paddingBottom)}})}})}),[_M,_b]=gb(Zs),bb=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:c,onThumbChange:d,onThumbPointerUp:f,onThumbPointerDown:p,onThumbPositionChange:v,onDragScroll:w,onWheelScroll:_,onResize:b,...S}=e,k=is(Zs,r),[P,j]=g.useState(null),E=$t(t,V=>j(V)),T=g.useRef(null),D=g.useRef(""),M=k.viewport,O=a.content-a.viewport,I=xn(_),Z=xn(v),H=Rf(b,10);function ne(V){if(T.current){const Y=V.clientX-T.current.left,te=V.clientY-T.current.top;w({x:Y,y:te})}}return g.useEffect(()=>{const V=Y=>{const te=Y.target;(P==null?void 0:P.contains(te))&&I(Y,O)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[M,P,O,I]),g.useEffect(Z,[a,Z]),Ml(P,H),Ml(k.content,H),o.jsx(_M,{scope:r,scrollbar:P,hasThumb:c,onThumbChange:xn(d),onThumbPointerUp:xn(f),onThumbPositionChange:Z,onThumbPointerDown:xn(p),children:o.jsx(jt.div,{...S,ref:E,style:{position:"absolute",...S.style},onPointerDown:lt(e.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),T.current=P.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k.viewport&&(k.viewport.style.scrollBehavior="auto"),ne(V))}),onPointerMove:lt(e.onPointerMove,ne),onPointerUp:lt(e.onPointerUp,V=>{const Y=V.target;Y.hasPointerCapture(V.pointerId)&&Y.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=D.current,k.viewport&&(k.viewport.style.scrollBehavior=""),T.current=null})})})}),rf="ScrollAreaThumb",Nb=g.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=_b(rf,e.__scopeScrollArea);return o.jsx(ga,{present:r||c.hasThumb,children:o.jsx(bM,{ref:t,...a})})}),bM=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...c}=e,d=is(rf,r),f=_b(rf,r),{onThumbPositionChange:p}=f,v=$t(t,b=>f.onThumbChange(b)),w=g.useRef(),_=Rf(()=>{w.current&&(w.current(),w.current=void 0)},100);return g.useEffect(()=>{const b=d.viewport;if(b){const S=()=>{if(_(),!w.current){const k=jM(b,p);w.current=k,p()}};return p(),b.addEventListener("scroll",S),()=>b.removeEventListener("scroll",S)}},[d.viewport,_,p]),o.jsx(jt.div,{"data-state":f.hasThumb?"visible":"hidden",...c,ref:v,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:lt(e.onPointerDownCapture,b=>{const k=b.target.getBoundingClientRect(),P=b.clientX-k.left,j=b.clientY-k.top;f.onThumbPointerDown({x:P,y:j})}),onPointerUp:lt(e.onPointerUp,f.onThumbPointerUp)})});Nb.displayName=rf;var rg="ScrollAreaCorner",Sb=g.forwardRef((e,t)=>{const r=is(rg,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?o.jsx(NM,{...e,ref:t}):null});Sb.displayName=rg;var NM=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,c=is(rg,r),[d,f]=g.useState(0),[p,v]=g.useState(0),w=!!(d&&p);return Ml(c.scrollbarX,()=>{var b;const _=((b=c.scrollbarX)==null?void 0:b.offsetHeight)||0;c.onCornerHeightChange(_),v(_)}),Ml(c.scrollbarY,()=>{var b;const _=((b=c.scrollbarY)==null?void 0:b.offsetWidth)||0;c.onCornerWidthChange(_),f(_)}),w?o.jsx(jt.div,{...a,ref:t,style:{width:d,height:p,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function sf(e){return e?parseInt(e,10):0}function jb(e,t){const r=e/t;return isNaN(r)?0:r}function Mf(e){const t=jb(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function SM(e,t,r,a="ltr"){const c=Mf(r),d=c/2,f=t||d,p=c-f,v=r.scrollbar.paddingStart+f,w=r.scrollbar.size-r.scrollbar.paddingEnd-p,_=r.content-r.viewport,b=a==="ltr"?[0,_]:[_*-1,0];return Cb([v,w],b)(e)}function ay(e,t,r="ltr"){const a=Mf(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,d=t.scrollbar.size-c,f=t.content-t.viewport,p=d-a,v=r==="ltr"?[0,f]:[f*-1,0],w=ip(e,v);return Cb([0,f],[0,p])(w)}function Cb(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function Eb(e,t){return e>0&&e<t}var jM=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function c(){const d={left:e.scrollLeft,top:e.scrollTop},f=r.left!==d.left,p=r.top!==d.top;(f||p)&&t(),r=d,a=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(a)};function Rf(e,t){const r=xn(e),a=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(a.current),[]),g.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function Ml(e,t){const r=xn(t);Sn(()=>{let a=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return c.observe(e),()=>{window.cancelAnimationFrame(a),c.unobserve(e)}}},[e,r])}var Pb=vb,CM=yb,EM=Sb;const Tb=g.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(Pb,{ref:a,className:yt("relative overflow-hidden",e),...r,children:[o.jsx(CM,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(kb,{}),o.jsx(EM,{})]}));Tb.displayName=Pb.displayName;const kb=g.forwardRef(({className:e,orientation:t="vertical",...r},a)=>o.jsx(tg,{ref:a,orientation:t,className:yt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Nb,{className:"relative flex-1 rounded-full bg-border"})}));kb.displayName=tg.displayName;function PM({isOpen:e,onClose:t,onSubmit:r,pendingMeetings:a}){const[c,d]=g.useState({}),[f,p]=g.useState({}),v=(b,S)=>{d(k=>({...k,[b]:S})),p(k=>{const P={...k};return delete P[b],P})},w=()=>{const b={};if(a.forEach(k=>{var P;(P=c[k._id])!=null&&P.trim()||(b[k._id]="Reason required")}),Object.keys(b).length>0){p(b);return}const S=a.map(k=>({meeting:k,reason:c[k._id].trim()}));r(S),d({}),p({})},_=()=>{d({}),p({}),t()};return o.jsx(br,{open:e,onOpenChange:_,children:o.jsxs(cr,{className:"sm:max-w-[600px] max-h-[90vh]",children:[o.jsxs(ur,{children:[o.jsxs(dr,{className:"flex items-center gap-2",children:[o.jsx(Nn,{className:"h-5 w-5 text-warning"}),"Incomplete Today's Meetings"]}),o.jsxs(Nr,{children:["You have ",a.length," incomplete meeting",a.length>1?"s":"",' scheduled for today. Please provide a reason for each meeting before logging out. These meetings will be marked as "Incomplete".']})]}),o.jsx(Tb,{className:"max-h-[60vh] pr-4",children:o.jsx("div",{className:"space-y-6 py-4",children:a.map((b,S)=>o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(hf,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-sm",children:b.companyName||"Unnamed Company"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.customerName,b.meetingTime&&`  ${b.meetingTime}`]}),b.remark&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:["Note: ",b.remark]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{htmlFor:`reason-${b._id}`,className:"text-sm",children:["Reason for not completing ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(_i,{id:`reason-${b._id}`,placeholder:"E.g., Client rescheduled, not available, technical issues...",value:c[b._id]||"",onChange:k=>v(b._id,k.target.value),rows:3,className:f[b._id]?"border-destructive":""}),f[b._id]&&o.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[o.jsx(Nn,{className:"h-3 w-3"}),f[b._id]]})]})]},b._id))})}),o.jsxs(fa,{children:[o.jsx(Ce,{variant:"outline",onClick:_,children:"Cancel"}),o.jsx(Ce,{onClick:w,children:"Submit All & Logout"})]})]})})}function TM(){var ke,Se;const[e,t]=g.useState([]),[r,a]=g.useState(null),[c,d]=g.useState(!0),[f,p]=g.useState(new Date),[v,w]=g.useState(!0),[_,b]=g.useState(!1),[S,k]=g.useState([]),[P,j]=g.useState(!1),[E,T]=g.useState(null),[D,M]=g.useState(!1),[O,I]=g.useState(!1),[Z,H]=g.useState(null),{canInstall:ne,isInstalled:V}=WT();g.useEffect(()=>{const $=localStorage.getItem("user");if($)try{const K=JSON.parse($);H(K),!(K._id==="67daa55d9c4abb36045d5bfe")&&K._id&&(console.log(" Redirecting regular user to their tracking page"),Jr({title:"Access Denied",description:"Direct access to dashboard is not allowed. Redirecting to your tracking page...",variant:"destructive"}),setTimeout(()=>{window.location.href=`/tracking/${K._id}`},1500))}catch(K){console.error("Failed to parse user from localStorage:",K)}else console.error(" No user found in localStorage - access denied"),Jr({title:"Access Denied",description:"Please access the tracking page with a valid employee ID from the CRM system.",variant:"destructive"})},[]),g.useEffect(()=>{Y();const $=setInterval(Y,12e4);return()=>clearInterval($)},[]);const Y=async()=>{var $;try{console.log("Fetching employees");const K=await pt.get("/api/employees");if(K.ok){const ae=await K.json();t(ae.employees||[]),p(new Date),console.log("Employees data fetched successfully:",(($=ae.employees)==null?void 0:$.length)||0)}else console.error(`Failed to fetch employees: ${K.status} ${K.statusText}`),t([])}catch(K){console.error("Error fetching employees:",K),t([])}finally{d(!1)}},te=()=>{d(!0),Y()},fe=async()=>{try{d(!0),console.log("Refreshing employee locations with Indian cities");const $=await pt.post("/api/employees/refresh-locations");if($.ok){const K=await $.json();console.log("Locations refreshed successfully:",K),await Y(),w(!1)}else{const K=await $.text().catch(()=>"Unknown error");console.error("Failed to refresh locations:",$.status,K),alert("Failed to refresh locations. Please try again.")}}catch($){console.error("Error refreshing locations:",$),alert("Error refreshing locations. Please check your connection and try again.")}finally{d(!1)}},Ie=$=>{window.location.href=`tel:${$}`},he=($,K)=>{const ae=encodeURIComponent(`Regarding Field Operations - ${K}`),_e=encodeURIComponent(`Hi ${K.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${$}?subject=${ae}&body=${_e}`},Be=async $=>{if(Z!=null&&Z._id)try{const K=await pt.get(`/api/meetings?employeeId=${Z._id}&status=in-progress&limit=1`);if(K.ok){const ae=await K.json();if(ae.meetings&&ae.meetings.length>0){Jr({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"}),console.log("Blocked: Active meeting exists:",ae.meetings[0].id);return}}}catch(K){console.error("Error checking for active meetings:",K)}T($),j(!0)},ee=async $=>{const K=e.find(ae=>ae.status==="active"||ae.status==="meeting")||e[0];if(!K){Jr({title:"Error",description:"No active employee found to start meeting",variant:"destructive"});return}I(!0);try{const ae=await pt.post("/api/meetings",{employeeId:K.id,location:{lat:K.location.lat,lng:K.location.lng,address:K.location.address},clientName:$.clientName,notes:`${$.reason}${$.notes?` - ${$.notes}`:""}`,leadId:$.leadId,leadInfo:$.leadInfo});if(ae.ok)await pt.put(`/api/employees/${K.id}/status`,{status:"meeting"}),Y(),j(!1),T(null),Jr({title:"Meeting Started",description:`Meeting with ${$.clientName} has been started successfully`});else{const _e=await ae.json().catch(()=>({error:"Failed to start meeting"}));Jr({title:"Cannot Start Meeting",description:_e.error||"Failed to start meeting",variant:"destructive"})}}catch(ae){console.error("Error starting meeting:",ae),Jr({title:"Error",description:"Failed to start meeting. Please try again.",variant:"destructive"})}finally{I(!1)}},xe=()=>{if(!(Z!=null&&Z._id)){ue();return}const $=S.filter(K=>!(K.meetingStatus==="complete"||K.meetingStatus==="Completed"||K.meetingStatus==="COMPLETED"));console.log("Incomplete today's meetings on logout:",$),$.length>0?M(!0):ue()},U=async $=>{console.log("Submitting incomplete meetings with reasons:",$);try{const K=$.map(async({meeting:_e,reason:Te})=>{try{const Ze="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),nt=await fetch(`${Ze}/updateFollowUp/${_e._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});nt.ok?console.log(` Updated meeting ${_e.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${_e.companyName} status:`,nt.status)}catch(We){console.error(`Error updating meeting ${_e.companyName}:`,We)}});await Promise.all(K),(await pt.post("/api/incomplete-meeting-remarks",{employeeId:Z._id,reason:"Multiple incomplete meetings",pendingMeetings:$.map(({meeting:_e,reason:Te})=>({_id:_e._id,leadId:_e.leadId,companyName:_e.companyName,customerName:_e.customerName,customerEmail:_e.customerEmail,customerMobile:_e.customerMobile,customerDesignation:_e.customerDesignation,meetingTime:_e.meetingTime,incompleteReason:Te}))})).ok?Jr({title:"Meetings Marked Incomplete",description:`${$.length} meeting(s) marked as incomplete with reasons.`}):(console.error("Failed to save incomplete meeting remarks"),Jr({title:"Warning",description:"Failed to save some meeting reasons, but meetings are marked incomplete.",variant:"destructive"}))}catch(K){console.error("Error saving incomplete meeting remarks:",K),Jr({title:"Warning",description:"Failed to save meeting reasons, but you can still logout.",variant:"destructive"})}M(!1),ue()},ue=()=>{localStorage.removeItem("idToken"),localStorage.removeItem("user"),Jr({title:"Logged Out",description:"You have been logged out successfully."}),window.location.href="/"},oe=$=>{switch($){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},z=$=>{switch($){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},J=e.filter($=>$.status==="active"||$.status==="meeting");console.log("employee list",J);const Ne=e.length;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between overflow-auto",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:o.jsx(lr,{className:"h-5 w-5 text-primary-foreground"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"FieldTracker"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Employee Location Management"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:te,disabled:c,children:[o.jsx(ml,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Hs,{to:"/dashboard",children:[o.jsx(Cp,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Hs,{to:"/team-management",children:[o.jsx(ia,{className:"h-4 w-4 mr-2"}),"Manage Team"]})}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>b(!0),children:[o.jsx(os,{className:"h-4 w-4 mr-2"}),"Meeting History"]}),o.jsx(Ce,{size:"sm",asChild:!0,disabled:e.length===0,children:o.jsxs(Hs,{to:`/tracking/${r||(e.length>0?e[0].id:"1")}`,children:[o.jsx(xo,{className:"h-4 w-4 mr-2"}),r?"View Selected":"Live View"]})}),Z&&o.jsxs(Ce,{variant:"outline",size:"sm",onClick:xe,children:[o.jsx(QN,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",f.toLocaleTimeString(),c&&"  Refreshing..."]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Active Employees"}),o.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:J.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",Ne," total employees"]})]})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"In Meetings"}),o.jsx(Tp,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter($=>$.status==="meeting").length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently with clients"})]})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"On Route"}),o.jsx(xo,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter($=>$.status==="active").length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Moving to locations"})]})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Last Update"}),o.jsx(Fn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-info",children:"1m"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg response time"})]})]})]}),c&&e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employee data..."})]}),ne&&!V&&o.jsx("div",{className:"mb-6",children:o.jsx(HT,{onInstall:()=>console.log("PWA installed"),onDismiss:()=>console.log("PWA install dismissed")})}),v&&e.length>0&&o.jsx(gt,{className:"border-info bg-info/5",children:o.jsx(vt,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between overflow-auto",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Nn,{className:"h-5 w-5 text-info mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-info mb-1",children:"Update Your Real Location"}),o.jsx("p",{className:"text-sm text-info/80 mb-3",children:`We've detected your team is in India. Click on any employee's "Live View" and use the "Start Tracking" button to update their real location for accurate tracking.`}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Ce,{size:"sm",variant:"outline",className:"border-info text-info hover:bg-info hover:text-white",onClick:()=>{const $=e[0];$&&window.open(`/tracking/${$.id}`,"_blank")},children:[o.jsx(xo,{className:"h-4 w-4 mr-2"}),"Enable Live Tracking"]}),o.jsxs(Ce,{size:"sm",className:"bg-info hover:bg-info/90 text-white",onClick:fe,disabled:c,children:[o.jsx(lr,{className:"h-4 w-4 mr-2"}),"Update to Indian Cities"]})]})]})]}),o.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>w(!1),className:"text-info hover:text-info",children:o.jsx(ou,{className:"h-4 w-4"})})]})})}),!c&&e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ia,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),o.jsx("p",{className:"text-muted-foreground",children:"Add employees to start tracking their locations."})]}),!c&&(Z==null?void 0:Z._id)&&o.jsx("div",{className:"mb-8",children:o.jsx(x_,{userId:Z._id,onStartMeeting:Be,onMeetingsFetched:k})}),!c&&e.length>0&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsxs(At,{className:"flex items-center justify-between ",children:[o.jsx("span",{children:"Field Team"}),o.jsxs(Tt,{variant:"secondary",children:[e.length," total"]})]})}),o.jsx(vt,{className:"p-0 sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:o.jsx("div",{className:"space-y-0",children:e.map($=>o.jsx("div",{className:`p-4 border-b last:border-b-0 cursor-pointer transition-colors hover:bg-muted/50 ${r===$.id?"bg-primary/5 border-l-4 border-l-primary":""}`,onClick:()=>a($.id),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-foreground",children:$.name}),o.jsx(Tt,{variant:"secondary",className:`text-xs ${oe($.status)}`,children:z($.status)})]}),$.designation&&o.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[$.designation,$.department&&`  ${$.department}`]}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[o.jsx(lr,{className:"h-3 w-3 inline mr-1"}),$.location.address]}),$.currentTask&&o.jsx("p",{className:"text-xs text-primary font-medium mb-1",children:$.currentTask}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx(Fn,{className:"h-3 w-3 inline mr-1"}),"Updated ",$.lastUpdate]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:K=>{K.stopPropagation(),Ie($.phone)},title:"Call employee",children:o.jsx(pi,{className:"h-3 w-3"})}),o.jsx(Ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:K=>{K.stopPropagation(),he($.email,$.name)},title:"Send email",children:o.jsx(mi,{className:"h-3 w-3"})}),o.jsx(Ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",asChild:!0,title:"Track employee",children:o.jsx(Hs,{to:`/tracking/${$.id}`,onClick:K=>K.stopPropagation(),children:o.jsx(xo,{className:"h-3 w-3"})})})]})]})},$.id))})})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(gt,{className:"h-[600px]",children:[o.jsx(Lt,{children:o.jsxs(At,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Live Location Map"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>{r||a(null)},children:[o.jsx(xo,{className:"h-4 w-4 mr-2"}),r?"Center on Selected":"Fit All"]}),o.jsx("div",{className:"h-2 w-2 rounded-full bg-success animate-pulse"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Live"})]})]})}),o.jsxs(vt,{className:"p-4",children:[o.jsx(Vp,{employees:e,selectedEmployee:r,height:"500px",onEmployeeClick:a}),o.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm mt-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-success"}),o.jsx("span",{children:"On Route"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"}),o.jsx("span",{children:"In Meeting"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"}),o.jsx("span",{children:"Offline"})]})]})]})]})})]}),!c&&e.length>0&&o.jsx("div",{className:"mt-8",children:o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsx(At,{children:"Recent Activity"})}),o.jsx(vt,{children:o.jsx("div",{className:"space-y-4",children:e.filter($=>$.status!=="inactive").slice(0,3).map(($,K)=>o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`h-2 w-2 rounded-full mt-2 ${$.status==="active"?"bg-success":$.status==="meeting"?"bg-warning":"bg-info"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium",children:[$.name," ",$.status==="active"?"is on route":$.status==="meeting"?"started meeting":"updated location"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[$.location.address,"  ",$.lastUpdate]})]})]},$.id))})})]})})]}),o.jsx(u_,{isOpen:_,onClose:()=>b(!1)}),o.jsx(pb,{isOpen:P,onClose:()=>{j(!1),T(null)},onStartMeeting:ee,employeeName:((ke=e[0])==null?void 0:ke.name)||"Employee",location:((Se=e[0])==null?void 0:Se.location.address)||"Unknown location",isLoading:O,initialClientName:(E==null?void 0:E.customerName)||"",initialCompanyName:(E==null?void 0:E.companyName)||"",initialReason:(E==null?void 0:E.type)||"",initialNotes:(E==null?void 0:E.remark)||""}),o.jsx(PM,{isOpen:D,onClose:()=>M(!1),onSubmit:U,pendingMeetings:S.filter($=>!($.meetingStatus==="complete"||$.meetingStatus==="Completed"||$.meetingStatus==="COMPLETED"))})]})}const ul=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:yt("w-full caption-bottom text-sm",e),...t})}));ul.displayName="Table";const dl=g.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:yt("[&_tr]:border-b",e),...t}));dl.displayName="TableHeader";const fl=g.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:yt("[&_tr:last-child]:border-0",e),...t}));fl.displayName="TableBody";const kM=g.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:yt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));kM.displayName="TableFooter";const Fr=g.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:yt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Fr.displayName="TableRow";const xt=g.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:yt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));xt.displayName="TableHead";const dt=g.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:yt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));dt.displayName="TableCell";const MM=g.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:yt("mt-4 text-sm text-muted-foreground",e),...t}));MM.displayName="TableCaption";function Mb({employeeId:e,isOpen:t,onClose:r}){const[a,c]=g.useState([]),[d,f]=g.useState(!1),[p,v]=g.useState(null),[w,_]=g.useState(""),[b,S]=g.useState("all"),[k,P]=g.useState(1),[j,E]=g.useState(1),[T,D]=g.useState(0),{toast:M}=_o(),O=async(te=1)=>{f(!0);try{const fe=new URLSearchParams({page:te.toString(),limit:"10"});e&&fe.append("employeeId",e),b!=="all"&&fe.append("status",b);const Ie=await pt.get(`/api/route-snapshots?${fe}`);if(Ie.ok){const he=await Ie.json();c(he.snapshots),E(he.totalPages),D(he.total),P(he.page)}else throw new Error("Failed to fetch snapshots")}catch(fe){console.error("Error fetching snapshots:",fe),M({title:"Error",description:"Failed to load route snapshots. Please try again.",variant:"destructive"})}finally{f(!1)}};g.useEffect(()=>{t&&O(1)},[t,e,b]);const I=async te=>{if(confirm("Are you sure you want to delete this snapshot?"))try{if((await pt.delete(`/api/route-snapshots/${te}`)).ok)M({title:"Snapshot Deleted",description:"Route snapshot has been deleted successfully"}),O(k);else throw new Error("Failed to delete snapshot")}catch(fe){console.error("Error deleting snapshot:",fe),M({title:"Error",description:"Failed to delete snapshot. Please try again.",variant:"destructive"})}},Z=a.filter(te=>te.title.toLowerCase().includes(w.toLowerCase())||te.employeeName.toLowerCase().includes(w.toLowerCase())||te.description&&te.description.toLowerCase().includes(w.toLowerCase())),H=te=>{if(!te)return"N/A";const fe=Math.floor(te/3600),Ie=Math.floor(te%3600/60);return fe>0?`${fe}h ${Ie}m`:`${Ie}m`},ne=te=>te>1e3?`${(te/1e3).toFixed(1)} km`:`${te.toFixed(0)} m`,V=te=>({id:te.employeeId,name:te.employeeName,email:"",phone:"",status:"active",location:te.startLocation,lastUpdate:new Date(te.captureTime).toLocaleString()}),Y=te=>({id:te.trackingSessionId||te.id,employeeId:te.employeeId,startTime:te.captureTime,endTime:te.endLocation?te.captureTime:void 0,startLocation:te.startLocation,endLocation:te.endLocation,route:te.route,totalDistance:te.totalDistance,duration:te.duration,status:te.status});return o.jsxs(o.Fragment,{children:[o.jsx(br,{open:t,onOpenChange:r,children:o.jsxs(cr,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsxs(ur,{children:[o.jsxs(dr,{className:"flex items-center gap-2",children:[o.jsx(hl,{className:"h-5 w-5"}),"Route Snapshot History"]}),o.jsxs(Nr,{children:["View and manage saved route snapshots",e&&" for this employee"]})]}),o.jsxs("div",{className:"flex flex-col h-[70vh]",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(su,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(vn,{placeholder:"Search snapshots...",value:w,onChange:te=>_(te.target.value),className:"pl-10"})]})}),o.jsxs(ws,{value:b,onValueChange:S,children:[o.jsx(rs,{className:"w-32",children:o.jsx(_s,{})}),o.jsxs(ss,{children:[o.jsx(sn,{value:"all",children:"All Status"}),o.jsx(sn,{value:"active",children:"Active"}),o.jsx(sn,{value:"completed",children:"Completed"})]})]}),o.jsx(Ce,{variant:"outline",size:"icon",onClick:()=>O(k),disabled:d,children:o.jsx(ml,{className:`h-4 w-4 ${d?"animate-spin":""}`})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:d?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ml,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading snapshots..."})]})}):Z.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(hl,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Snapshots Found"}),o.jsx("p",{className:"text-muted-foreground",children:w||b!=="all"?"Try adjusting your search criteria":"No route snapshots have been created yet"})]})}):o.jsx("div",{className:"overflow-y-auto h-full",children:o.jsx("div",{className:"grid gap-4",children:Z.map(te=>o.jsx(gt,{className:"hover:shadow-md transition-shadow",children:o.jsx(vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold",children:te.title}),o.jsx(Tt,{variant:"secondary",className:te.status==="completed"?"bg-success text-success-foreground":"bg-warning text-warning-foreground",children:te.status})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(os,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:new Date(te.captureTime).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(oa,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{children:[te.snapshotMetadata.routePointsCount," points"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(lr,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:ne(te.totalDistance)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Fn,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:H(te.duration)})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:o.jsx("strong",{children:te.employeeName})}),te.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:te.description})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>v(te),children:[o.jsx(uw,{className:"h-4 w-4 mr-1"}),"View"]}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>I(te.id),className:"text-destructive hover:text-destructive",children:o.jsx(pw,{className:"h-4 w-4"})})]})]})})},te.id))})})}),j>1&&o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",Z.length," of ",T," snapshots"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>O(k-1),disabled:k===1||d,children:[o.jsx(aw,{className:"h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm",children:["Page ",k," of ",j]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>O(k+1),disabled:k===j||d,children:["Next",o.jsx(lw,{className:"h-4 w-4"})]})]})]})]})]})}),p&&o.jsx(br,{open:!!p,onOpenChange:()=>v(null),children:o.jsxs(cr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(ur,{children:[o.jsx(dr,{children:p.title}),o.jsxs(Nr,{children:["Route snapshot captured on ",new Date(p.captureTime).toLocaleString()]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(gt,{children:o.jsxs(vt,{className:"p-4 text-center",children:[o.jsx(oa,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:p.snapshotMetadata.routePointsCount}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Route Points"})]})}),o.jsx(gt,{children:o.jsxs(vt,{className:"p-4 text-center",children:[o.jsx(lr,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:ne(p.totalDistance)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Distance"})]})}),o.jsx(gt,{children:o.jsxs(vt,{className:"p-4 text-center",children:[o.jsx(os,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:p.meetings.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Meetings"})]})}),o.jsx(gt,{children:o.jsxs(vt,{className:"p-4 text-center",children:[o.jsx(Fn,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:H(p.duration)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]})})]}),o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsx(At,{children:"Route Visualization"})}),o.jsx(vt,{children:o.jsx(Vp,{employees:[V(p)],height:"400px",trackingSession:Y(p),showRoute:!0})})]}),p.description&&o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsx(At,{children:"Description"})}),o.jsx(vt,{children:o.jsx("p",{className:"text-sm",children:p.description})})]}),p.meetings.length>0&&o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsx(At,{children:"Meetings in Snapshot"})}),o.jsx(vt,{children:o.jsx("div",{className:"space-y-3",children:p.meetings.map(te=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:te.clientName||"Unknown Client"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:te.location.address}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(te.startTime).toLocaleString(),te.endTime&&` - ${new Date(te.endTime).toLocaleString()}`]})]}),o.jsx(Tt,{variant:"outline",children:te.status})]},te.id))})})]})]})]})})]})}const RM=e=>e>=7.5?"full_day":e>=3.5&&e<=7.5?"half_day":"absent";function LM(){const[e,t]=g.useState([]),[r,a]=g.useState(!0),[c,d]=g.useState({employeeId:"all",dateRange:"all",searchTerm:""}),[f,p]=g.useState(null),[v,w]=g.useState([]),[_,b]=g.useState([]),[S,k]=g.useState(!1),[P,j]=g.useState({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1}),[E,T]=g.useState({isOpen:!1,employeeId:""}),[D,M]=g.useState({}),[O,I]=g.useState({}),[Z,H]=g.useState({totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0}),ne=g.useRef(null);g.useEffect(()=>(ne.current&&clearTimeout(ne.current),ne.current=setTimeout(()=>{V()},300),()=>{ne.current&&clearTimeout(ne.current)}),[c.employeeId,c.dateRange,c.startDate,c.endDate,c.searchTerm]),g.useEffect(()=>{var q;f&&Be(f,((q=e.find(me=>me.employeeId===f))==null?void 0:q.employeeName)||"Unknown")},[c.dateRange,c.startDate,c.endDate]);const V=async()=>{try{a(!0);const q=JSON.parse(localStorage.getItem("user")||"{}"),me=(q==null?void 0:q.role)==="super_admin",be=new URLSearchParams;me?c.employeeId&&c.employeeId!=="all"&&be.append("employeeId",c.employeeId):q!=null&&q._id&&be.append("employeeId",q._id),be.append("dateRange",c.dateRange),c.startDate&&be.append("startDate",c.startDate),c.endDate&&be.append("endDate",c.endDate),c.searchTerm&&be.append("search",c.searchTerm);const we=await pt.get(`/api/analytics/employees?${be}`);if(we.ok){const Ye=await we.json();t(Ye.analytics||[]),H(Ye.summary||{totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0})}else console.error("Failed to fetch analytics"),t([])}catch(q){console.error("Error fetching analytics",q),t([])}finally{a(!1)}},Y=(q,me)=>{d(be=>{const we={...be,[q]:me};return q==="dateRange"&&me!=="custom"&&(we.startDate=void 0,we.endDate=void 0),q==="startDate"&&me&&!be.endDate&&(we.endDate=pn(new Date,"yyyy-MM-dd")),we})},te=()=>{d(q=>({...q,startDate:void 0,endDate:void 0}))},fe=q=>{const me=new Date;let be,we=pn(me,"yyyy-MM-dd");switch(q){case"last7":be=pn(Jx(me,6),"yyyy-MM-dd");break;case"last30":be=pn(Jx(me,29),"yyyy-MM-dd");break;case"lastMonth":const Ye=new Date(me.getFullYear(),me.getMonth()-1,1),ot=new Date(me.getFullYear(),me.getMonth(),0);be=pn(Ye,"yyyy-MM-dd"),we=pn(ot,"yyyy-MM-dd");break;case"thisMonth":be=pn(JT(me),"yyyy-MM-dd"),we=pn(QT(me),"yyyy-MM-dd");break;default:return}d(Ye=>({...Ye,dateRange:"custom",startDate:be,endDate:we}))},Ie=()=>{switch(c.dateRange){case"all":return"All Time";case"today":return"Today";case"yesterday":return"Yesterday";case"week":return"This Week";case"month":return"This Month";case"custom":if(c.startDate&&c.endDate){const q=new Date(c.startDate),me=new Date(c.endDate),be=q.getFullYear(),we=me.getFullYear(),Ye=new Date().getFullYear();return be===we&&be===Ye?`${pn(q,"MMM dd")} - ${pn(me,"MMM dd")}`:be===we?`${pn(q,"MMM dd")} - ${pn(me,"MMM dd, yyyy")}`:`${pn(q,"MMM dd, yyyy")} - ${pn(me,"MMM dd, yyyy")}`}return"Custom Range";default:return"Today"}},he=()=>{const q=[["Employee Name","Total Meetings","Today's Meetings","Meeting Hours","Duty Hours"],...e.map(Ye=>[Ye.employeeName,Ye.totalMeetings.toString(),Ye.todayMeetings.toString(),`${Ye.totalMeetingHours.toFixed(1)}h`,`${Ye.totalDutyHours.toFixed(1)}h`])].map(Ye=>Ye.join(",")).join(`
`),me=new Blob([q],{type:"text/csv"}),be=window.URL.createObjectURL(me),we=document.createElement("a");we.href=be,we.download=`employee-analytics-${pn(new Date,"yyyy-MM-dd")}.csv`,we.click(),window.URL.revokeObjectURL(be)},Be=async(q,me)=>{var be,we;console.log(` Fetching details for employee: ${q} (${me})`),p(q),k(!0);try{const Ye=`/api/analytics/employee-details/${q}?${new URLSearchParams({dateRange:c.dateRange,...c.startDate&&{startDate:c.startDate},...c.endDate&&{endDate:c.endDate}})}`;console.log(` Fetching employee details from: ${Ye}`);const ot=await pt.get(Ye);if(ot.ok){const it=await ot.json();console.log(" Employee details received:",{dayRecords:((be=it.dayRecords)==null?void 0:be.length)||0,meetingRecords:((we=it.meetingRecords)==null?void 0:we.length)||0});const Vt=it.dayRecords||[],wt=it.meetingRecords||[];wt.length>0?(console.log(" First meeting record structure:",wt[0]),console.log(" Meeting ID present?",!!wt[0].meetingId),console.log(" Approval fields:",{approvalStatus:wt[0].approvalStatus,approvalReason:wt[0].approvalReason,approvedBy:wt[0].approvedBy,approvedByName:wt[0].approvedByName}),console.log(" All meeting IDs:",wt.map(_t=>({meetingId:_t.meetingId,hasId:!!_t.meetingId,company:_t.companyName,approvedBy:_t.approvedBy,approvedByName:_t.approvedByName})))):console.warn(" No meeting records received from API");try{const _t=new URLSearchParams({employeeId:q});c.startDate&&_t.append("startDate",c.startDate),c.endDate&&_t.append("endDate",c.endDate);const Bt=`/api/analytics/attendance?${_t}`;console.log(` Fetching attendance from: ${Bt}`);const qt=await pt.get(Bt);if(console.log(` Attendance response status: ${qt.status}`),qt.ok){const Xt=await qt.json();if(console.log(" Attendance data received:",Xt),Xt.success&&Xt.data){console.log(` Processing ${Xt.data.length} attendance records`);const Gt=new Map(Xt.data.map(nn=>[nn.date,nn]));let Je=0;Vt.forEach(nn=>{const dn=Gt.get(nn.date);nn.automaticAttendanceStatus=RM(nn.totalDutyHours),dn?(nn.attendanceStatus=dn.attendanceStatus,nn.attendanceReason=dn.attendanceReason,Je++,console.log(` Merged attendance for ${nn.date}:`,{status:dn.attendanceStatus,reason:dn.attendanceReason,automaticStatus:nn.automaticAttendanceStatus})):(nn.attendanceStatus=nn.automaticAttendanceStatus,nn.attendanceReason="Auto-calculated based on duty hours")}),console.log(` Merged ${Je} attendance records with day records`)}else console.log(" No attendance data in response")}else console.warn(` Attendance API returned status: ${qt.status}`)}catch(_t){console.error(" Failed to fetch attendance data:",_t)}if(console.log(` Setting state with ${Vt.length} day records and ${wt.length} meeting records`),wt.length>0){console.log(" Sample meeting record:",wt[0]);const _t=wt.filter(Bt=>!Bt.meetingId);_t.length>0&&console.error(` ${_t.length} meetings are missing IDs!`,_t),console.log(" Meeting IDs:",wt.map(Bt=>({id:Bt.meetingId,company:Bt.companyName,hasId:!!Bt.meetingId})))}w(Vt),b(wt)}else console.error(` Failed to fetch employee details - Status: ${ot.status}`),w([]),b([])}catch(Ye){console.error(" Error fetching employee details:",Ye),w([]),b([])}finally{k(!1),console.log(" Employee details loading complete")}},ee=()=>{p(null),w([]),b([])},xe=(q,me)=>{const be=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900","bg-indigo-50 border-indigo-200 text-indigo-900"];return be[me%be.length]},U=async(q,me)=>{var Ye,ot;if(!q){console.error("No employee ID provided for meeting history");return}console.log("meeting works perfectly");const be=((Ye=e.find(it=>it.employeeId===q))==null?void 0:Ye.employeeName)||(f===q?"Selected Employee":"Unknown Employee"),we=me?`employee: ${q} (${be}), leadId: ${me}`:`employee: ${q} (${be})`;console.log(`Opening meeting history for ${we}`),j({isOpen:!0,employeeId:q,employeeName:me?`${be} - Lead ${me}`:be,meetingHistory:[],loading:!0});try{const it=new URLSearchParams;it.append("employeeId",q),it.append("limit","50"),it.append("_t",Date.now().toString()),me&&it.append("leadId",me),c.dateRange!=="all"?(it.append("dateRange",c.dateRange),c.startDate&&it.append("startDate",c.startDate),c.endDate&&it.append("endDate",c.endDate),console.log(`Applying date filter to meeting history for ${be}:`,c.dateRange)):console.log(`Showing ALL meetings in history for ${be} (All Time filter selected)`),console.log(`Fetching meeting history for ${be} with filters: ${it.toString()}`);const wt=await pt.get(`/api/meeting-history?${it.toString()}`);if(wt.ok){const _t=await wt.json();console.log(`Meeting history response for ${be}: ${((ot=_t.meetings)==null?void 0:ot.length)||0} records`);const Bt=_t.meetings||[],qt=Bt.filter(Gt=>Gt.employeeId!==q);qt.length>0&&console.error(`WARNING: Found ${qt.length} meetings that don't belong to employee ${q}:`,qt.map(Gt=>({meetingEmployeeId:Gt.employeeId,leadId:Gt.leadId})));const Xt=Bt.filter(Gt=>Gt.employeeId===q);console.log(`After filtering: ${Xt.length} meetings actually belong to ${be}`),j(Gt=>({...Gt,meetingHistory:Xt,loading:!1}))}else console.error(`Failed to fetch meeting history for ${be}`),j(_t=>({..._t,meetingHistory:[],loading:!1}))}catch(it){console.error(`Error fetching meeting history for ${be}:`,it),j(Vt=>({...Vt,meetingHistory:[],loading:!1}))}},ue=()=>{console.log("Closing meeting history modal"),j({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1})},oe=q=>{T({isOpen:!0,employeeId:q})},z=()=>{T({isOpen:!1,employeeId:""})},J=[{value:"full_day",label:"Full Day"},{value:"half_day",label:"Half Day"},{value:"off",label:"Off"},{value:"short_leave",label:"Short Leave"},{value:"absent",label:"Absent"},{value:"ot",label:"OT"}],Ne=(q,me,be)=>{M(we=>({...we,[q]:{attendanceStatus:me||"full_day",attendanceReason:be||"",isEditing:!0,isSaving:!1}}))},ke=q=>{M(me=>{const be={...me};return delete be[q],be})},Se=(q,me)=>{M(be=>({...be,[q]:{...be[q],attendanceStatus:me}}))},$=(q,me)=>{M(be=>({...be,[q]:{...be[q],attendanceReason:me}}))},K=async q=>{var be;const me=D[q];if(!(!me||!f)){console.log(` Saving attendance for ${q}:`,me),M(we=>({...we,[q]:{...we[q],isSaving:!0}}));try{const we=JSON.parse(localStorage.getItem("user")||"{}"),Ye=(we==null?void 0:we._id)||null;console.log(` Logged-in user ID: ${Ye}`);const ot=await pt.post("/api/analytics/save-attendance",{employeeId:f,date:q,attendanceStatus:me.attendanceStatus,attendanceReason:me.attendanceReason,attendenceCreated:Ye,isManual:!0});if(ot.ok){const it=await ot.json();console.log(" Attendance saved successfully:",it),console.log(" Refetching employee details to update attendanceAddedBy...");const Vt=((be=e.find(wt=>wt.employeeId===f))==null?void 0:be.employeeName)||"Employee";await Be(f,Vt),ke(q),console.log(` Attendance updated in UI for ${q}`)}else{console.error(` Failed to save attendance - Status: ${ot.status}`);const it=await ot.text();console.error("Error response:",it),alert("Failed to save attendance. Please try again.")}}catch(we){console.error(" Error saving attendance:",we),alert("Error saving attendance. Please try again.")}finally{M(we=>({...we,[q]:{...we[q],isSaving:!1}}))}}},ae=q=>{const me=Math.floor(q),be=Math.round((q-me)*60);return`${me}h ${be}m`},_e=[{value:"ok",label:"OK"},{value:"not_ok",label:"Not OK"},{value:"pending",label:"Pending"}],Te=q=>q.meetingId?q.meetingId:`${q.date}_${q.companyName}_${q.meetingInTime}`.replace(/\s+/g,"_"),We=q=>{const me=Te(q);console.log(` Editing meeting approval for: ${me}`,{meetingId:q.meetingId,company:q.companyName,date:q.date}),I(be=>({...be,[me]:{approvalStatus:q.approvalStatus||"",approvalReason:q.approvalReason||"",isEditing:!0,isSaving:!1,meetingId:q.meetingId,meetingKey:me}}))},Ze=q=>{I(me=>{const be={...me};return delete be[q],be})},nt=(q,me)=>{I(be=>({...be,[q]:{...be[q],approvalStatus:me}}))},Et=(q,me)=>{I(be=>({...be,[q]:{...be[q],approvalReason:me}}))},ye=async q=>{const me=O[q];if(!me||!me.approvalStatus){alert("Please select an approval status");return}if(!me.approvalReason.trim()){alert("Please provide a reason for your approval decision");return}const be=_.find(we=>Te(we)===q);if(!be){console.error(" Cannot find meeting record for key:",q),alert("Error: Meeting record not found.");return}console.log(` Saving meeting approval for ${q}:`,{meetingId:me.meetingId,employeeId:f,date:be.date,company:be.companyName,status:me.approvalStatus,reason:me.approvalReason}),I(we=>({...we,[q]:{...we[q],isSaving:!0}}));try{const we=JSON.parse(localStorage.getItem("user")||"{}"),Ye=(we==null?void 0:we._id)||null;console.log(` Logged-in user ID: ${Ye}`);let ot;if(me.meetingId){const it=`/api/meetings/${me.meetingId}/approval`;console.log(` Sending PUT request to: ${it}`),ot=await pt.put(it,{approvalStatus:me.approvalStatus,approvalReason:me.approvalReason,approvedBy:Ye})}else{const it="/api/meetings/approval-by-details";console.log(` Sending PUT request to: ${it} (using composite key)`),ot=await pt.put(it,{employeeId:f,date:be.date,companyName:be.companyName,meetingInTime:be.meetingInTime,approvalStatus:me.approvalStatus,approvalReason:me.approvalReason,approvedBy:Ye})}if(console.log(` Response status: ${ot.status}`),ot.ok){const it=await ot.json();console.log(" Meeting approval saved successfully:",it),b(Vt=>Vt.map(wt=>Te(wt)===q?{...wt,approvalStatus:me.approvalStatus,approvalReason:me.approvalReason}:wt)),Ze(q),console.log(` Meeting approval updated in UI for ${q}`)}else{console.error(` Failed to save meeting approval - Status: ${ot.status}`);const it=await ot.text();console.error("Error response:",it),alert("Failed to save meeting approval. Please try again.")}}catch(we){console.error(" Error saving meeting approval:",we),alert("Error saving meeting approval. Please try again.")}finally{I(we=>({...we,[q]:{...we[q],isSaving:!1}}))}},Ge=q=>{switch(q){case"active":return o.jsx(Tt,{className:"bg-success text-success-foreground",children:"Active"});case"meeting":return o.jsx(Tt,{className:"bg-warning text-warning-foreground",children:"In Meeting"});case"inactive":return o.jsx(Tt,{variant:"secondary",children:"Offline"});default:return o.jsx(Tt,{variant:"secondary",children:"Unknown"})}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Analytics Dashboard"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Employee performance and meeting analytics for"," ",Ie()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ce,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(Hs,{to:"/route-test",children:[o.jsx(mw,{className:"h-4 w-4 mr-2"}),"Test Route Tracking"]})}),o.jsxs(Ce,{onClick:he,variant:"outline",children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Total Employees"}),o.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold",children:Z.totalEmployees}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active in system"})]})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Active Meetings"}),o.jsx(Cp,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:Z.activeMeetings}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently ongoing"})]})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsxs(At,{className:"text-sm font-medium",children:["Meetings ",Ie()]}),o.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:Z.totalMeetingsToday}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed meetings"})]})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Avg Meeting Duration"}),o.jsx(nS,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsxs("div",{className:"text-2xl font-bold text-info",children:[Z.avgMeetingDuration.toFixed(1),"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Per meeting"})]})]})]}),o.jsxs(gt,{className:"mb-6",children:[o.jsx(Lt,{children:o.jsxs(At,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(fw,{className:"h-4 w-4 mr-2"}),"Filters"]}),c.dateRange==="custom"&&c.startDate&&c.endDate&&o.jsxs(Tt,{variant:"secondary",className:"text-xs",children:["Custom: ",pn(new Date(c.startDate),"MMM dd")," -"," ",pn(new Date(c.endDate),"MMM dd")]})]})}),o.jsx(vt,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{htmlFor:"search",children:"Search Employee"}),o.jsxs("div",{className:"relative",children:[o.jsx(su,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(vn,{id:"search",placeholder:"Search by name...",value:c.searchTerm,onChange:q=>Y("searchTerm",q.target.value),className:"pl-8"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{children:"Employee"}),o.jsxs(ws,{value:c.employeeId,onValueChange:q=>Y("employeeId",q),children:[o.jsx(rs,{children:o.jsx(_s,{placeholder:"All Employees"})}),o.jsxs(ss,{children:[o.jsx(sn,{value:"all",children:"All Employees"}),e.map(q=>o.jsx(sn,{value:q.employeeId,children:q.employeeName},q.employeeId))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{children:"Date Range"}),o.jsxs(ws,{value:c.dateRange,onValueChange:q=>Y("dateRange",q),children:[o.jsx(rs,{children:o.jsx(_s,{})}),o.jsxs(ss,{children:[o.jsx(sn,{value:"all",children:"All Time"}),o.jsx(sn,{value:"today",children:"Today"}),o.jsx(sn,{value:"yesterday",children:"Yesterday"}),o.jsx(sn,{value:"week",children:"This Week"}),o.jsx(sn,{value:"month",children:"This Month"}),o.jsx(sn,{value:"custom",children:"Custom Range"})]})]})]}),c.dateRange==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{htmlFor:"startDate",children:"Start Date"}),o.jsx(vn,{id:"startDate",type:"date",value:c.startDate||"",onChange:q=>Y("startDate",q.target.value),max:c.endDate||pn(new Date,"yyyy-MM-dd")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{htmlFor:"endDate",children:"End Date"}),o.jsx(vn,{id:"endDate",type:"date",value:c.endDate||"",onChange:q=>Y("endDate",q.target.value),min:c.startDate||"",max:pn(new Date,"yyyy-MM-dd")}),c.dateRange==="custom"&&(!c.startDate||!c.endDate)&&o.jsx("p",{className:"text-xs text-amber-600",children:"Please select both start and end dates"})]})]}),c.dateRange==="custom"&&o.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-2 xl:col-span-2",children:[o.jsx(Ft,{children:"Quick Select"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>fe("last7"),className:"text-xs",children:"Last 7 Days"}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>fe("last30"),className:"text-xs",children:"Last 30 Days"}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>fe("thisMonth"),className:"text-xs",children:"This Month"}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>fe("lastMonth"),className:"text-xs",children:"Last Month"})]})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-1 xl:col-span-1",children:[o.jsx(Ft,{children:""}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Ce,{onClick:V,className:"flex-1",disabled:r||c.dateRange==="custom"&&(!c.startDate||!c.endDate),children:[o.jsx(qN,{className:"h-4 w-4 mr-2"}),r?"Loading...":"Apply Filter"]}),c.dateRange==="custom"&&o.jsx(Ce,{variant:"outline",onClick:te,disabled:r,children:"Clear"})]})]})]})})]}),f?o.jsxs("div",{className:"space-y-6",children:[o.jsx(gt,{children:o.jsx(vt,{className:"pt-6",children:o.jsxs(Ce,{onClick:ee,variant:"outline",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Employee List"]})})}),S?o.jsx(gt,{children:o.jsx(vt,{className:"py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employee details..."})]})})}):o.jsxs(o.Fragment,{children:[Array.from(new Set([...v.map(me=>me.date),..._.map(me=>me.date)])).sort((me,be)=>new Date(be).getTime()-new Date(me).getTime()).map((me,be)=>{var it,Vt,wt,_t,Bt,qt,Xt,Gt;const we=v.find(Je=>Je.date===me),Ye=_.filter(Je=>Je.date===me),ot=xe(me,be);return o.jsxs("div",{className:`p-4 rounded-lg border-2 ${ot}`,children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:pn(new Date(me),"EEEE, MMMM dd, yyyy")}),we&&o.jsxs(gt,{className:"mb-4",children:[o.jsx(Lt,{children:o.jsx(At,{className:"text-sm",children:"Daily Summary"})}),o.jsx(vt,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ul,{children:[o.jsx(dl,{children:o.jsxs(Fr,{className:ot,children:[o.jsx(xt,{children:"Date"}),o.jsx(xt,{children:"Total Meetings"}),o.jsx(xt,{children:"Start Location Time"}),o.jsx(xt,{children:"Start Location Address"}),o.jsx(xt,{children:"Out Location Time"}),o.jsx(xt,{children:"Out Location Address"}),o.jsx(xt,{children:"Total Duty Hours"}),o.jsx(xt,{children:"Meeting Time"}),o.jsx(xt,{children:"Travel & Lunch Time"}),o.jsx(xt,{children:"Attendance Status"}),o.jsx(xt,{children:"Reason"}),o.jsx(xt,{children:"Attendance Added By"}),o.jsx(xt,{children:"Actions"})]})}),o.jsx(fl,{children:o.jsxs(Fr,{className:`${ot} opacity-80`,children:[o.jsx(dt,{children:pn(new Date(we.date),"MM/dd/yyyy")}),o.jsx(dt,{children:we.totalMeetings}),o.jsx(dt,{children:we.startLocationTime?pn(new Date(we.startLocationTime),"HH:mm"):"-"}),o.jsx(dt,{children:we.startLocationAddress||"-"}),o.jsx(dt,{children:we.outLocationTime?pn(new Date(we.outLocationTime),"HH:mm"):"-"}),o.jsx(dt,{children:we.outLocationAddress||"-"}),o.jsx(dt,{children:ae(we.totalDutyHours)}),o.jsx(dt,{children:ae(we.meetingTime)}),o.jsx(dt,{children:ae(we.travelAndLunchTime)}),o.jsx(dt,{children:(it=D[me])!=null&&it.isEditing?o.jsxs(ws,{value:D[me].attendanceStatus,onValueChange:Je=>Se(me,Je),children:[o.jsx(rs,{className:"w-32",children:o.jsx(_s,{})}),o.jsx(ss,{children:J.map(Je=>o.jsx(sn,{value:Je.value,children:Je.label},Je.value))})]}):o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm",children:we.attendanceStatus?((Vt=J.find(Je=>Je.value===we.attendanceStatus))==null?void 0:Vt.label)||we.attendanceStatus:"Full Day"}),we.automaticAttendanceStatus&&we.attendanceStatus!==we.automaticAttendanceStatus&&o.jsx(Tt,{variant:"outline",className:"text-xs",children:"Manual"})]}),we.automaticAttendanceStatus&&we.attendanceStatus!==we.automaticAttendanceStatus&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Auto: ",((wt=J.find(Je=>Je.value===we.automaticAttendanceStatus))==null?void 0:wt.label)||we.automaticAttendanceStatus,"(",we.totalDutyHours.toFixed(2),"h)"]})]})}),o.jsx(dt,{children:(_t=D[me])!=null&&_t.isEditing?o.jsx(_i,{value:D[me].attendanceReason,onChange:Je=>$(me,Je.target.value),placeholder:"Enter reason...",className:"w-40 h-16 text-xs"}):o.jsx("div",{className:"max-w-40 text-xs",children:we.attendanceReason||"-"})}),o.jsx(dt,{children:o.jsx("div",{className:"text-xs text-muted-foreground",children:we.attendanceAddedBy||"-"})}),o.jsx(dt,{children:(Bt=D[me])!=null&&Bt.isEditing?o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ce,{size:"sm",onClick:()=>K(me),disabled:(qt=D[me])==null?void 0:qt.isSaving,className:"h-7 px-2",children:(Xt=D[me])!=null&&Xt.isSaving?o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):o.jsx(Hm,{className:"h-3 w-3"})}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>ke(me),disabled:(Gt=D[me])==null?void 0:Gt.isSaving,className:"h-7 px-2",children:""})]}):o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>Ne(me,we.attendanceStatus,we.attendanceReason),className:"h-7 px-2",children:o.jsx(Wm,{className:"h-3 w-3"})})})]})})]})})})]}),Ye.length>0&&o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsx(At,{className:"text-sm",children:"Meeting Details"})}),o.jsx(vt,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ul,{children:[o.jsx(dl,{children:o.jsxs(Fr,{className:ot,children:[o.jsx(xt,{children:"Employee Name"}),o.jsx(xt,{children:"Company Name"}),o.jsx(xt,{children:"Date"}),o.jsx(xt,{children:"Lead ID"}),o.jsx(xt,{children:"Meeting In Time"}),o.jsx(xt,{children:"Meeting In Location"}),o.jsx(xt,{children:"Meeting Out Time"}),o.jsx(xt,{children:"Meeting Out Location"}),o.jsx(xt,{children:"Total Stay Time"}),o.jsx(xt,{children:"Discussion"}),o.jsx(xt,{children:"Meeting Person"}),o.jsx(xt,{children:"Approval Status"}),o.jsx(xt,{children:"Approval Reason"}),o.jsx(xt,{children:"Approved By"}),o.jsx(xt,{children:"Attachments"}),o.jsx(xt,{children:"Actions"}),o.jsx(xt,{children:"History"})]})}),o.jsx(fl,{children:Ye.map((Je,nn)=>{var dn;return o.jsxs(Fr,{className:`${ot} opacity-80`,children:[o.jsx(dt,{children:((dn=e.find(Ot=>Ot.employeeId===f))==null?void 0:dn.employeeName)||Je.employeeName}),o.jsx(dt,{children:Je.companyName}),o.jsx(dt,{children:pn(new Date(Je.date),"MM/dd/yyyy")}),o.jsx(dt,{children:Je.leadId||"-"}),o.jsx(dt,{children:Je.meetingInTime}),o.jsx(dt,{children:Je.meetingInLocation}),o.jsx(dt,{children:Je.meetingOutTime}),o.jsx(dt,{children:Je.meetingOutLocation}),o.jsx(dt,{children:ae(Je.totalStayTime)}),o.jsx(dt,{className:"max-w-xs truncate",children:Je.discussion||"-"}),o.jsx(dt,{children:Je.meetingPerson}),o.jsx(dt,{children:(()=>{var Qt;const Ot=Te(Je);return(Qt=O[Ot])!=null&&Qt.isEditing?o.jsxs(ws,{value:O[Ot].approvalStatus,onValueChange:Ut=>nt(Ot,Ut),children:[o.jsx(rs,{className:"w-28",children:o.jsx(_s,{placeholder:"Select..."})}),o.jsx(ss,{children:_e.map(Ut=>o.jsx(sn,{value:Ut.value,children:Ut.label},Ut.value))})]}):o.jsx("div",{className:"flex items-center space-x-2",children:Je.approvalStatus?o.jsx(Tt,{variant:Je.approvalStatus==="ok"?"default":"destructive",className:Je.approvalStatus==="ok"?"bg-success text-success-foreground":"",children:Je.approvalStatus==="ok"?"OK":"Not OK"}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Not reviewed"})})})()}),o.jsx(dt,{children:(()=>{var Qt;const Ot=Te(Je);return(Qt=O[Ot])!=null&&Qt.isEditing?o.jsx(_i,{value:O[Ot].approvalReason,onChange:Ut=>Et(Ot,Ut.target.value),placeholder:"Enter reason (required)...",className:"w-48 h-16 text-xs"}):o.jsx("div",{className:"max-w-48 text-xs",children:Je.approvalReason||"-"})})()}),o.jsx(dt,{children:o.jsx("div",{className:"text-xs text-muted-foreground",children:Je.approvedByName||"-"})}),o.jsx(dt,{children:Je.attachments&&Je.attachments.length>0?o.jsx("div",{className:"flex flex-col space-y-1",children:Je.attachments.map((Ot,Qt)=>{const Ut=Ot.startsWith("data:");let Jt=`File ${Qt+1}`,ge="";if(Ut){const je=Ot.match(/data:([^;]+);/);if(je){ge=je[1];const Fe=ge.split("/")[1];Jt=`attachment-${Qt+1}.${Fe}`}}else Jt=Ot.split("/").pop()||Jt;return o.jsxs("a",{href:Ot,download:Jt,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center space-x-1",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),o.jsx("span",{className:"truncate max-w-[150px]",title:Jt,children:Jt})]},Qt)})}):o.jsx("div",{className:"text-xs text-muted-foreground",children:"-"})}),o.jsx(dt,{children:(()=>{var Qt,Ut,Jt,ge;const Ot=Te(Je);return(Qt=O[Ot])!=null&&Qt.isEditing?o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ce,{size:"sm",onClick:()=>ye(Ot),disabled:(Ut=O[Ot])==null?void 0:Ut.isSaving,className:"h-7 px-2",children:(Jt=O[Ot])!=null&&Jt.isSaving?o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):o.jsx(Hm,{className:"h-3 w-3"})}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>Ze(Ot),disabled:(ge=O[Ot])==null?void 0:ge.isSaving,className:"h-7 px-2",children:""})]}):o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>We(Je),className:"h-7 px-2",title:"Edit approval",children:o.jsx(Wm,{className:"h-3 w-3"})})})()}),o.jsx(dt,{children:o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>{const Ot=f,Qt=Je.leadId;U(Ot,Qt)},children:[o.jsx(hl,{className:"h-4 w-4 mr-1"}),"History"]})})]},nn)})})]})})})]})]},me)}),v.length===0&&_.length===0&&o.jsx(gt,{children:o.jsx(vt,{className:"py-12",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected employee and date range"})})})})]})]}):o.jsxs(gt,{children:[o.jsxs(Lt,{children:[o.jsx(At,{children:"Employee Analytics"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed breakdown of employee performance and meeting statistics"})]}),o.jsx(vt,{children:r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]}):e.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected filters"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ul,{children:[o.jsx(dl,{children:o.jsxs(Fr,{children:[o.jsx(xt,{children:"Employee Name"}),o.jsx(xt,{children:"Status"}),o.jsx(xt,{className:"text-center",children:"Total Meetings"}),o.jsx(xt,{className:"text-center",children:"Today's Meetings"}),o.jsx(xt,{className:"text-center",children:"Meeting Hours"}),o.jsx(xt,{className:"text-center",children:"Duty Hours"}),o.jsx(xt,{className:"text-center",children:"Actions"})]})}),o.jsx(fl,{children:e.map(q=>o.jsxs(Fr,{children:[o.jsx(dt,{className:"font-medium",children:q.employeeName}),o.jsx(dt,{children:Ge(q.status)}),o.jsx(dt,{className:"text-center",children:o.jsx(Tt,{variant:"outline",children:q.totalMeetings})}),o.jsx(dt,{className:"text-center",children:o.jsx(Tt,{variant:"outline",className:q.todayMeetings>0?"bg-success/10 text-success border-success":"",children:q.todayMeetings})}),o.jsx(dt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx(Fn,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{children:ae(q.totalMeetingHours)})]})}),o.jsx(dt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx(Fn,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{children:ae(q.totalDutyHours)})]})}),o.jsx(dt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>Be(q.employeeId,q.employeeName),children:[o.jsx(uw,{className:"h-4 w-4 mr-1"}),"View Details"]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>oe(q.employeeId),children:[o.jsx(hl,{className:"h-4 w-4 mr-1"}),"Route History"]})]})})]},q.employeeId))})]})})})]})]}),o.jsx(br,{open:P.isOpen,onOpenChange:ue,children:o.jsxs(cr,{className:"sm:max-w-[1200px] max-h-[80vh] overflow-y-auto",children:[o.jsxs(ur,{children:[o.jsxs(dr,{className:"flex items-center space-x-2",children:[o.jsx(hl,{className:"h-5 w-5 text-primary"}),o.jsxs("span",{children:["Meeting History - ",P.employeeName," (ID:"," ",P.employeeId,")"]})]}),o.jsx(Nr,{children:"Complete meeting history and interactions for this employee"})]}),o.jsx("div",{className:"space-y-4",children:P.loading?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading meeting history..."})]}):P.meetingHistory.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No meeting history found for this employee"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(ul,{children:[o.jsx(dl,{children:o.jsxs(Fr,{children:[o.jsx(xt,{children:"Date"}),o.jsx(xt,{children:"Employee"}),o.jsx(xt,{children:"Company"}),o.jsx(xt,{children:"Lead ID"}),o.jsx(xt,{children:"Customer Name"}),o.jsx(xt,{children:"Contact Person"}),o.jsx(xt,{children:"Contact Details"}),o.jsx(xt,{children:"Discussion"}),o.jsx(xt,{children:"Status"})]})}),o.jsx(fl,{children:P.meetingHistory.map((q,me)=>{var be,we,Ye,ot,it,Vt,wt,_t,Bt,qt,Xt,Gt,Je,nn,dn,Ot,Qt,Ut,Jt,ge,je,Fe,F,Q,ve,de,Re,Me,$e,st,Ve,He,at,rt,Ht,on,De;return o.jsxs(Fr,{children:[o.jsx(dt,{children:pn(new Date(q.timestamp),"MMM dd, yyyy HH:mm")}),o.jsx(dt,{className:"font-medium",children:P.employeeName}),o.jsx(dt,{className:"font-medium",children:((be=q.meetingDetails)==null?void 0:be.customerName)||((ot=(Ye=(we=q.meetingDetails)==null?void 0:we.customers)==null?void 0:Ye[0])==null?void 0:ot.customerName)||((it=q.leadInfo)==null?void 0:it.companyName)||"-"}),o.jsx(dt,{children:q.leadId?o.jsx(Tt,{variant:"outline",children:q.leadId}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx(dt,{children:((wt=(Vt=q.meetingDetails)==null?void 0:Vt.customers)==null?void 0:wt.map(ft=>ft.customerName).join(", "))||((_t=q.meetingDetails)==null?void 0:_t.customerName)||"-"}),o.jsx(dt,{children:((qt=(Bt=q.meetingDetails)==null?void 0:Bt.customers)==null?void 0:qt.map(ft=>ft.customerEmployeeName).join(", "))||((Xt=q.meetingDetails)==null?void 0:Xt.customerEmployeeName)||"-"}),o.jsx(dt,{children:o.jsxs("div",{className:"text-xs space-y-1",children:[(((nn=(Je=(Gt=q.meetingDetails)==null?void 0:Gt.customers)==null?void 0:Je[0])==null?void 0:nn.customerEmail)||((dn=q.meetingDetails)==null?void 0:dn.customerEmail))&&o.jsxs("div",{children:[""," ",((Ut=(Qt=(Ot=q.meetingDetails)==null?void 0:Ot.customers)==null?void 0:Qt[0])==null?void 0:Ut.customerEmail)||((Jt=q.meetingDetails)==null?void 0:Jt.customerEmail)]}),(((Fe=(je=(ge=q.meetingDetails)==null?void 0:ge.customers)==null?void 0:je[0])==null?void 0:Fe.customerMobile)||((F=q.meetingDetails)==null?void 0:F.customerMobile))&&o.jsxs("div",{children:[""," ",((de=(ve=(Q=q.meetingDetails)==null?void 0:Q.customers)==null?void 0:ve[0])==null?void 0:de.customerMobile)||((Re=q.meetingDetails)==null?void 0:Re.customerMobile)]}),(((st=($e=(Me=q.meetingDetails)==null?void 0:Me.customers)==null?void 0:$e[0])==null?void 0:st.customerDesignation)||((Ve=q.meetingDetails)==null?void 0:Ve.customerDesignation))&&o.jsxs("div",{children:[""," ",((rt=(at=(He=q.meetingDetails)==null?void 0:He.customers)==null?void 0:at[0])==null?void 0:rt.customerDesignation)||((Ht=q.meetingDetails)==null?void 0:Ht.customerDesignation)]})]})}),o.jsx(dt,{className:"max-w-xs",children:o.jsx("div",{className:"truncate",title:(on=q.meetingDetails)==null?void 0:on.discussion,children:((De=q.meetingDetails)==null?void 0:De.discussion)||"-"})}),o.jsx(dt,{children:o.jsx(Tt,{variant:"default",className:"bg-success text-success-foreground",children:"Completed"})})]},me)})})]})})})]})}),o.jsx(Mb,{employeeId:E.employeeId,isOpen:E.isOpen,onClose:z})]})}const AM=(e={})=>{const[t,r]=g.useState({latitude:null,longitude:null,accuracy:null,error:null,loading:!0}),{enableHighAccuracy:a=!1,maximumAge:c=6e4,timeout:d=15e3,watchPosition:f=!1}=e,p=g.useCallback(_=>(r({latitude:_.coords.latitude,longitude:_.coords.longitude,accuracy:_.coords.accuracy,error:null,loading:!1}),_),[]),v=g.useCallback(_=>{let b="An unknown error occurred";switch(_.code){case _.PERMISSION_DENIED:b="Location access denied by user";break;case _.POSITION_UNAVAILABLE:b="Location information unavailable";break;case _.TIMEOUT:b="Location request timed out";break}return r(S=>({...S,error:b,loading:!1})),null},[]),w=g.useCallback(()=>new Promise(_=>{if(!navigator.geolocation){r(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1})),_(null);return}r(b=>({...b,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(b=>_(p(b)),b=>_(v(b)),{enableHighAccuracy:a,maximumAge:c,timeout:d})}),[a,c,d,p,v]);return g.useEffect(()=>{if(!navigator.geolocation){r(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1}));return}let _=null;return f?_=navigator.geolocation.watchPosition(p,v,{enableHighAccuracy:a,maximumAge:c,timeout:d}):w(),()=>{_!==null&&navigator.geolocation.clearWatch(_)}},[f,w,p,v,a,c,d]),{...t,getCurrentPosition:w}};function DM({employeeId:e,employeeName:t,onLocationUpdate:r,trackingEnabled:a=!1,onTrackingSessionStart:c,onTrackingSessionEnd:d,todaysMeetings:f=[]}){const{toast:p}=_o(),[v,w]=g.useState(!1),[_,b]=g.useState(""),[S,k]=g.useState(!1),[P,j]=g.useState([]),[E,T]=g.useState({}),D=()=>{try{const ge=localStorage.getItem(`tracking_${e}`);if(ge){const je=JSON.parse(ge);if(console.log(" Restored tracking state from localStorage:",je),je.isTracking===!0)return!0}}catch(ge){console.warn("Error reading tracking state from localStorage:",ge)}return!1},[M,O]=g.useState(D),[I,Z]=g.useState(null),[H,ne]=g.useState(0),[V,Y]=g.useState(null),[te,fe]=g.useState(0),[Ie,he]=g.useState(0),ee=(()=>{try{const ge=localStorage.getItem(`trackingData_${e}`);if(ge){const je=JSON.parse(ge);return console.log(" Restored tracking data from localStorage:",je),{currentSession:je.currentSession,trackingStartTime:je.trackingStartTime?new Date(je.trackingStartTime):null,routeCoordinates:je.routeCoordinates||[],totalDistance:je.totalDistance||0}}}catch(ge){console.warn("Error reading tracking data from localStorage:",ge)}return{currentSession:null,trackingStartTime:null,routeCoordinates:[],totalDistance:0}})(),[xe,U]=g.useState(ee.currentSession),[ue,oe]=g.useState(ee.trackingStartTime),[z,J]=g.useState(null),[Ne,ke]=g.useState(0),[Se,$]=g.useState(ee.routeCoordinates),[K,ae]=g.useState(ee.totalDistance),_e=g.useRef(null),Te=(ge,je,Fe,F,Q)=>{try{const ve={isTracking:ge,timestamp:new Date().toISOString()},de={currentSession:je,trackingStartTime:Fe==null?void 0:Fe.toISOString(),routeCoordinates:F,totalDistance:Q,lastSaved:new Date().toISOString()};localStorage.setItem(`tracking_${e}`,JSON.stringify(ve)),localStorage.setItem(`trackingData_${e}`,JSON.stringify(de)),console.log(" Tracking state saved to localStorage")}catch(ve){console.warn("Error saving tracking state to localStorage:",ve)}},We=()=>{try{localStorage.removeItem(`tracking_${e}`),localStorage.removeItem(`trackingData_${e}`),console.log(" Tracking state cleared from localStorage")}catch(ge){console.warn("Error clearing tracking state from localStorage:",ge)}},[Ze,nt]=g.useState(!1),[Et,ye]=g.useState(!1),[Ge,q]=g.useState(!1),[me,be]=g.useState(null),{latitude:we,longitude:Ye,accuracy:ot,error:it,loading:Vt,getCurrentPosition:wt}=AM({enableHighAccuracy:!0,maximumAge:0,timeout:3e4,watchPosition:M});g.useEffect(()=>{var ge;M&&ue&&xe&&(console.log(" Restored active tracking session, resuming..."),wt(),c==null||c(xe),Ge&&Et&&(console.log(" Restarting background tracking via Service Worker"),(ge=navigator.serviceWorker.controller)==null||ge.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}})))},[]),g.useEffect(()=>{const ge=()=>{M&&xe&&(Te(M,xe,ue,Se,K),console.log(" Saved tracking state before page unload"))};return window.addEventListener("beforeunload",ge),()=>{window.removeEventListener("beforeunload",ge)}},[M,xe,ue,Se,K]),g.useEffect(()=>{const ge=window.matchMedia("(display-mode: standalone)").matches,je=window.matchMedia("(display-mode: standalone)").matches;nt(ge||je);const Fe="serviceWorker"in navigator,F="Notification"in window;return ye(Fe&&F),Fe&&navigator.serviceWorker.ready.then(Q=>{console.log("Service Worker ready for location tracking"),q(!0),navigator.serviceWorker.addEventListener("message",Bt)}),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",Bt)}},[]);const _t=g.useCallback((ge,je,Fe,F)=>{const ve=ge*Math.PI/180,de=Fe*Math.PI/180,Re=(Fe-ge)*Math.PI/180,Me=(je-F)*Math.PI/180,$e=Math.sin(Re/2)*Math.sin(Re/2)+Math.cos(ve)*Math.cos(de)*Math.sin(Me/2)*Math.sin(Me/2);return 6371e3*(2*Math.atan2(Math.sqrt($e),Math.sqrt(1-$e)))},[]),Bt=g.useCallback(ge=>{var je,Fe;if(((je=ge.data)==null?void 0:je.type)==="LOCATION_UPDATE"){const F=ge.data.payload;if(console.log("Received background location update:",F),M){const Q={lat:F.latitude,lng:F.longitude,address:`${F.latitude.toFixed(6)}, ${F.longitude.toFixed(6)}`,timestamp:F.timestamp};$(ve=>{const de=[...ve,Q];if(ve.length>0){const Re=ve[ve.length-1],Me=_t(Re.lat,Re.lng,F.latitude,F.longitude);ae($e=>$e+Me)}return de})}}((Fe=ge.data)==null?void 0:Fe.type)==="GET_EMPLOYEE_ID"&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"EMPLOYEE_ID_RESPONSE",payload:e})},[M,e,_t]);g.useEffect(()=>(M&&ue?(ke(Date.now()-ue.getTime()),_e.current=setInterval(()=>{ke(Date.now()-ue.getTime())},1e3)):_e.current&&(clearInterval(_e.current),_e.current=null),()=>{_e.current&&clearInterval(_e.current)}),[M,ue]),g.useEffect(()=>{if(we&&Ye&&ot&&M){const ge=Date.now(),je=ge-Ie;if((()=>{if(Ie===0)return!0;if(je<3e4)return!1;if(je>=12e4)return!0;if(Se.length>0){const F=Se[Se.length-1];if(_t(F.lat,F.lng,we,Ye)>10)return!0}return!1})()){qt(we,Ye,ot);const F={lat:we,lng:Ye,address:`${we.toFixed(6)}, ${Ye.toFixed(6)}`,timestamp:new Date().toISOString()};$(Q=>{if(!(()=>{if(Q.length===0)return!0;const Re=Q[Q.length-1];return!!(_t(Re.lat,Re.lng,we,Ye)>10||ot&&ot<10&&(!Re.accuracy||ot<Re.accuracy*.5)||new Date().getTime()-new Date(Re.timestamp).getTime()>6e5)})()){const Re=_t(Q[Q.length-1].lat,Q[Q.length-1].lng,we,Ye);return Re>2&&console.log(`Route point filtered: moved ${Re.toFixed(1)}m (threshold: 10m)`),Q}const de=[...Q,{...F,accuracy:ot}];if(Q.length>0){const Re=Q[Q.length-1],Me=_t(Re.lat,Re.lng,we,Ye);ae($e=>{const st=$e+Me;return Te(!0,xe,ue,de,st),console.log(` Added route point: ${Me.toFixed(1)}m from last, ${de.length} total points, ${(st/1e3).toFixed(2)}km total`),st})}else Te(!0,xe,ue,de,K),console.log(` Added first route point at ${we.toFixed(6)}, ${Ye.toFixed(6)}`);return de}),Z(new Date),ne(Q=>Q+1),he(ge),r==null||r(we,Ye,ot)}else{const F=je<2e3?`Rate limited: ${Math.ceil((2e3-je)/1e3)}s remaining`:"No significant movement detected";console.log(F)}}},[we,Ye,ot,M,r,Ie,_t]),console.log("testing location");const qt=async(ge,je,Fe,F=0)=>{try{console.log("Attempting to update location:",{employeeId:e,lat:ge,lng:je,accuracy:Fe,retryCount:F});const Q=new AbortController,ve=setTimeout(()=>Q.abort(),1e4),de=await pt.put(`/api/employees/${e}/location`,{lat:ge,lng:je,accuracy:Fe},{signal:Q.signal});if(clearTimeout(ve),!de.ok){const Me=await de.text();throw new Error(`Failed to update location: ${de.status} ${de.statusText} - ${Me}`)}const Re=await de.json();console.log("Location update successful:",Re),Y(null),fe(0)}catch(Q){if(console.error("Error updating location:",Q),F<1&&Q instanceof TypeError&&Q.message.includes("fetch")||Q.name==="AbortError"){console.log("Retrying location update after error..."),setTimeout(()=>qt(ge,je,Fe,F+1),1e4);return}Y(Q instanceof Error?Q.message:"Unknown error"),fe(ve=>ve+1),te>=1&&(O(!1),console.warn("Disabling tracking due to repeated failures"))}},Xt=async()=>{var Re;const ge=new Date;oe(ge),J(null),ke(0),$([]),ae(0),O(!0);try{if("wakeLock"in navigator){const Me=await navigator.wakeLock.request("screen");be(Me),console.log("Wake lock acquired for better tracking")}}catch(Me){console.warn("Wake lock failed:",Me)}let je=we||0,Fe=Ye||0,F="Getting location...";try{console.log(" Fetching fresh location for start position...");const Me=await wt();if(Me&&Me.coords){je=Me.coords.latitude,Fe=Me.coords.longitude,console.log(" Fresh start location obtained:",{lat:je,lng:Fe});try{console.log(" Fetching address for start location...");const $e=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${je}&lon=${Fe}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});$e.ok?(F=(await $e.json()).display_name||`${je.toFixed(6)}, ${Fe.toFixed(6)}`,console.log(" Start address resolved:",F)):F=`${je.toFixed(6)}, ${Fe.toFixed(6)}`}catch($e){console.warn(" Failed to get start address, using coordinates:",$e),F=`${je.toFixed(6)}, ${Fe.toFixed(6)}`}}}catch(Me){console.warn(" Failed to get fresh start location:",Me),F=je&&Fe?`${je.toFixed(6)}, ${Fe.toFixed(6)}`:"Getting location..."}Ge&&Et&&(console.log("Starting background tracking via Service Worker"),(Re=navigator.serviceWorker.controller)==null||Re.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}}));const Q=`session_${e}_${ge.getTime()}`,ve={lat:je,lng:Fe,address:F,timestamp:ge.toISOString()},de={id:Q,employeeId:e,startTime:ge.toISOString(),startLocation:ve,route:[],totalDistance:0,status:"active"};console.log("Starting tracking session with address:",de),U(de),Te(!0,de,ge,[],0),c==null||c(de)};console.log("testing ");const Gt=async()=>{const ge=new Date;J(ge),O(!1);try{const je=(f||[]).filter(Fe=>{var Q;const F=(Q=Fe.meetingStatus)==null?void 0:Q.toLowerCase();return F!=="complete"&&F!=="completed"&&F!=="approved"});if(je&&je.length>0){console.log("Incomplete meetings detected:",je),j(je);const Fe={};je.forEach(F=>{Fe[F._id]=""}),T(Fe),w(!0),O(!0),J(null),p({title:"Incomplete Meetings",description:`You have ${je.length} incomplete meeting(s). Please provide a reason before logging out.`,variant:"destructive"});return}}catch(je){console.warn("Error checking for incomplete meetings:",je)}await Je(ge)},Je=async ge=>{var ve;console.log(" Starting performStopTracking - fetching fresh location...");let je=we,Fe=Ye,F=ot,Q=we&&Ye?`${we.toFixed(6)}, ${Ye.toFixed(6)}`:"Location unavailable";try{console.log(" Requesting fresh GPS location for end position...");const de=await wt();if(de&&de.coords){je=de.coords.latitude,Fe=de.coords.longitude,F=de.coords.accuracy,console.log(" Fresh end location obtained:",{lat:je,lng:Fe,accuracy:F});try{console.log(" Fetching address for end location..."),await new Promise(Me=>setTimeout(Me,1e3));const Re=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${je}&lon=${Fe}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"},signal:AbortSignal.timeout(5e3)});Re.ok?(Q=(await Re.json()).display_name||`${je.toFixed(6)}, ${Fe.toFixed(6)}`,console.log(" End address resolved:",Q)):(console.warn(" Address API returned error:",Re.status),Q=`${je.toFixed(6)}, ${Fe.toFixed(6)}`)}catch(Re){console.warn(" Failed to get address, using coordinates:",Re),Q=`${je.toFixed(6)}, ${Fe.toFixed(6)}`}await qt(je,Fe,F)}else console.warn(" Fresh location not available, using last known location:",{lat:je,lng:Fe})}catch(de){console.warn(" Failed to get fresh location, using last known:",de)}if(me)try{await me.release(),be(null),console.log("Wake lock released")}catch(de){console.warn("Failed to release wake lock:",de)}if(Ge&&(console.log("Stopping background tracking via Service Worker"),(ve=navigator.serviceWorker.controller)==null||ve.postMessage({type:"STOP_BACKGROUND_TRACKING"})),_e.current&&(clearInterval(_e.current),_e.current=null),console.log("Stopping tracking - Debug info:",{hasCurrentSession:!!xe,hasCoordinates:!!(je&&Fe),endLat:je,endLng:Fe,routePointsCount:Se.length,totalDistance:K,elapsedTime:Ne}),xe){const de={lat:je||xe.startLocation.lat,lng:Fe||xe.startLocation.lng,address:Q,timestamp:ge.toISOString()};let Re=K;if(Se.length>=2)try{console.log(`Calculating accurate distance for ${Se.length} GPS points...`);const $e=ts.createGPSRoute(Se);$e.distance>0?(Re=$e.distance,console.log(`Distance updated to GPS-calculated: ${(Re/1e3).toFixed(2)} km (was ${(K/1e3).toFixed(2)} km)`)):console.log(`Keeping original GPS distance: ${(K/1e3).toFixed(2)} km`)}catch($e){console.warn("Failed to calculate improved distance, using original GPS distance:",$e.message)}else console.log(`Route has only ${Se.length} points, keeping GPS distance: ${(K/1e3).toFixed(2)} km`);const Me={...xe,endTime:ge.toISOString(),endLocation:de,route:Se.length>0?Se:[xe.startLocation],totalDistance:Re,duration:Ne/1e3,status:"completed"};console.log("Calling onTrackingSessionEnd with session:",Me),U(Me),We(),d==null||d(Me)}else console.log("Cannot end tracking session - no current session"),We()},nn=async()=>{if(P.some(je=>!E[je._id]||!E[je._id].trim())){p({title:"Error",description:"Please provide a reason for each incomplete meeting.",variant:"destructive"});return}k(!0);try{console.log("Saving incomplete meeting remarks for employee:",e),console.log("Incomplete meetings:",P),console.log("Meeting remarks:",E);const je=P.map(async de=>{try{const Me="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),$e=await fetch(`${Me}/updateFollowUp/${de._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});$e.ok?console.log(` Updated meeting ${de.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${de.companyName} status:`,$e.status)}catch(Re){console.error(`Error updating meeting ${de.companyName}:`,Re)}});await Promise.all(je);const Fe=P.map(de=>({_id:de._id,leadId:de.leadId,companyName:de.companyName,customerName:de.customerName,customerEmail:de.customerEmail||"",customerMobile:de.customerMobile||"",customerDesignation:de.customerDesignation||"",meetingTime:de.meetingTime||"",incompleteReason:E[de._id]})),F=await pt.post("/api/incomplete-meeting-remarks",{employeeId:e,reason:"Multiple incomplete meetings",pendingMeetings:Fe});if(!F.ok){const de=await F.text().catch(()=>"Unknown error");throw new Error(`Failed to save remark: ${F.status} ${de}`)}const Q=await F.json();console.log("Incomplete meeting remarks saved:",Q),p({title:"Meetings Marked Incomplete",description:`${P.length} meeting(s) marked as incomplete with reasons.`}),O(!1),w(!1),T({}),j([]),await Je(new Date)}catch(je){console.error("Error saving remark:",je),p({title:"Error",description:je instanceof Error?je.message:"Failed to save remark",variant:"destructive"})}finally{k(!1)}},dn=()=>{w(!1),b(""),j([])},Ot=ge=>ge?ge<=10?"bg-success":ge<=50?"bg-warning":"bg-destructive":"bg-muted",Qt=ge=>ge?ge<=10?"High":ge<=50?"Medium":"Low":"Unknown",Ut=ge=>{const je=Math.floor(ge/1e3),Fe=Math.floor(je/60),F=Math.floor(Fe/60);return F>0?`${F}h ${Fe%60}m ${je%60}s`:Fe>0?`${Fe}m ${je%60}s`:`${je}s`},Jt=ge=>ge>=1e3?`${(ge/1e3).toFixed(2)} km`:`${Math.round(ge)} m`;return o.jsxs(gt,{className:"w-full",children:[o.jsx(Lt,{children:o.jsxs(At,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(lr,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Location Tracking"})]}),o.jsx(Tt,{variant:M?"default":"secondary",className:M?"bg-success":"",children:M?"Active":"Inactive"})]})}),o.jsxs(vt,{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Tracking for: ",o.jsx("span",{className:"font-medium",children:t})]}),Ze&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm bg-primary/10 border border-primary/20 rounded-lg p-2",children:[o.jsx(Hd,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-primary font-medium",children:"PWA Mode Active"}),o.jsx(Tt,{variant:"secondary",className:"text-xs",children:Et?"Background Tracking Enabled":"Limited Background"})]}),!Ze&&Et&&o.jsxs("div",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Hd,{className:"h-3 w-3 text-amber-600"}),o.jsx("span",{className:"font-medium text-amber-700 dark:text-amber-400",children:"Better Tracking Available"})]}),o.jsx("p",{className:"mt-1",children:"Install this app to your home screen for improved background GPS tracking when phone is in pocket."})]}),M&&ue&&o.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(sx,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"font-medium",children:"Session Active"})]}),o.jsx("div",{className:"text-sm font-mono text-primary",children:Ut(Ne)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Started"}),o.jsx("div",{className:"font-medium",children:ue.toLocaleTimeString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Distance"}),o.jsx("div",{className:"font-medium",children:Jt(K)})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[o.jsx(oa,{className:"h-3 w-3"}),o.jsxs("span",{children:["Route points: ",Se.length]})]})]}),!M&&z&&ue&&o.jsxs("div",{className:"bg-success/5 border border-success/20 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(ns,{className:"h-4 w-4 text-success"}),o.jsx("span",{className:"font-medium",children:"Last Session"})]}),o.jsx("div",{className:"text-sm font-mono text-success",children:Ut(z.getTime()-ue.getTime())})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Started"}),o.jsx("div",{className:"font-medium",children:ue.toLocaleTimeString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Ended"}),o.jsx("div",{className:"font-medium",children:z.toLocaleTimeString()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-muted-foreground flex items-center",children:[o.jsx(hw,{className:"h-3 w-3 mr-1"}),"Distance"]}),o.jsx("div",{className:"font-medium",children:Jt(K)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-muted-foreground flex items-center",children:[o.jsx(oa,{className:"h-3 w-3 mr-1"}),"Points"]}),o.jsx("div",{className:"font-medium",children:Se.length})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[Vt&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Pl,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Getting location..."})]}),it&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsx("span",{children:it})]}),V&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Update failed: ",V," (Failures: ",te,")"]})]}),we&&Ye&&!Vt&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-success",children:[o.jsx(ns,{className:"h-4 w-4"}),o.jsx("span",{children:"Location acquired"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Latitude"}),o.jsx("div",{className:"font-mono",children:we.toFixed(6)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Longitude"}),o.jsx("div",{className:"font-mono",children:Ye.toFixed(6)})]})]}),ot&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Accuracy"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`h-2 w-2 rounded-full ${Ot(ot)}`}),o.jsxs("span",{className:"text-sm",children:[Qt(ot)," (",Math.round(ot),"m)"]})]})]}),I&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(Fn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Last update: ",I.toLocaleTimeString()," (",H," updates)"]})]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[M?o.jsx(Ce,{onClick:Gt,variant:"destructive",className:"flex-1",children:"LogOut"}):o.jsxs(Ce,{onClick:Xt,className:"flex-1",children:[o.jsx(xo,{className:"h-4 w-4 mr-2"}),"LogIn"]}),o.jsxs(Ce,{variant:"outline",onClick:wt,children:[o.jsx(lr,{className:"h-4 w-4 mr-2"}),"Update Now"]})]}),!M&&o.jsxs("div",{className:"text-xs text-muted-foreground p-3 bg-muted/50 rounded-md",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Note:"})," Location tracking requires permission and works best outdoors or near windows. High accuracy mode uses GPS and may drain battery faster."]}),Ze?o.jsxs("p",{className:"mt-2 text-success",children:[o.jsx("strong",{children:"PWA Mode:"})," Enhanced background tracking is active. Your route will be tracked even when the phone is in your pocket."]}):o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Tip:"})," Install this app to your home screen for better background tracking when phone is in pocket."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Auto-capture:"})," Route map will be automatically saved when you stop tracking."]})]}),M&&o.jsxs("div",{className:"text-xs text-info p-3 bg-info/10 border border-info/20 rounded-md",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(oa,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Route will be auto-captured when tracking stops"})]}),ue&&xe&&o.jsxs("p",{className:"flex items-center mt-1 text-success",children:[o.jsx(ns,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Tracking restored from previous session"})]}),Ze&&Et&&o.jsxs("p",{className:"flex items-center mt-1 text-success",children:[o.jsx(Hd,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Background tracking active - keep phone in pocket"})]}),me&&o.jsxs("p",{className:"flex items-center mt-1 text-amber-600",children:[o.jsx(sx,{className:"h-3 w-3 mr-1"}),"Screen sleep disabled for better tracking"]})]}),o.jsx(br,{open:v,onOpenChange:dn,children:o.jsxs(cr,{className:"sm:max-w-[600px]",children:[o.jsxs(ur,{children:[o.jsxs(dr,{className:"flex items-center gap-2",children:[o.jsx(Nn,{className:"h-5 w-5 text-warning"}),"Incomplete Meetings"]}),o.jsxs(Nr,{children:["You have ",P.length," incomplete meeting(s) today. Please provide a reason for each company before logging out."]})]}),o.jsxs("div",{className:"space-y-4 py-4 max-h-[380px] overflow-y-auto",children:[P.map(ge=>o.jsxs("div",{className:"border border-muted-foreground/10 rounded-lg p-3 bg-muted/40 space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Nn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",children:ge.companyName||"No Company Name"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[ge.customerName&&o.jsxs(o.Fragment,{children:["Contact: ",ge.customerName]}),ge.meetingTime&&o.jsxs(o.Fragment,{children:[" "," Time: ",ge.meetingTime]})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Ft,{className:"text-xs",htmlFor:`reason-${ge._id}`,children:["Reason for not completing this meeting",o.jsx("span",{className:"text-destructive",children:" *"})]}),o.jsx(_i,{id:`reason-${ge._id}`,placeholder:"E.g., client postponed, decision maker not available, visit rescheduled, etc...",value:E[ge._id]||"",onChange:je=>T(Fe=>({...Fe,[ge._id]:je.target.value})),rows:3,disabled:S})]})]},ge._id)),P.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"No incomplete meetings found."})]}),o.jsxs(fa,{children:[o.jsx(Ce,{variant:"outline",onClick:dn,disabled:S,children:"Cancel"}),o.jsx(Ce,{onClick:nn,disabled:S,children:S?o.jsxs(o.Fragment,{children:[o.jsx(XN,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Submit & Logout"})]})]})})]})]})}const Rb=g.forwardRef(({onEmployeeSelect:e,selectedEmployeeId:t,disabled:r=!1,onAddNewEmployee:a,filterByCompany:c},d)=>{const[f,p]=g.useState([]),[v,w]=g.useState([]),[_,b]=g.useState([]),[S,k]=g.useState(!1),[P,j]=g.useState(null),E=async()=>{k(!0),j(null);try{const I=await fetch("https://jbdspower.in/LeafNetServer/api/customer");if(!I.ok)throw new Error(`Failed to fetch customers: ${I.statusText}`);const Z=await I.json(),H=Array.isArray(Z)?Z:[];p(H);let ne=H.flatMap(V=>(V.Employees||[]).map(Y=>({...Y,customerName:V.CustomerCompanyName,customerId:V._id})));c&&typeof c=="string"&&(ne=ne.filter(V=>{var Y;return((Y=V.customerName)==null?void 0:Y.toLowerCase().trim())===c.toLowerCase().trim()}),console.log(`Filtered employees for company "${c}":`,ne.length)),w(ne)}catch(I){console.error("Error fetching customers:",I),j(I instanceof Error?I.message:"Failed to fetch customers")}finally{k(!1)}},T=(I,Z,H)=>{const ne={...I,customerName:Z,customerId:H};console.log("Adding temporary employee:",ne),b(V=>{const Y=[...V,ne];try{localStorage.setItem("tempCustomerEmployees",JSON.stringify(Y))}catch(te){console.error("Error saving temporary employees:",te)}return console.log("Updated temp employees:",Y),Y})};g.useEffect(()=>{E()},[c]),g.useEffect(()=>{console.log("tempEmployees changed:",_)},[_]),g.useEffect(()=>{typeof window<"u"&&(window.debugCustomerSelector={getTempEmployees:()=>_,getEmployees:()=>v,addTestEmployee:()=>{const I={_id:`temp_test_${Date.now()}`,CustomerEmpName:"Test Employee",Designation:"Test Position",Department:"Test Dept",Mobile:"1234567890",Email:"test@test.com"};T(I,"Test Company",`temp_customer_${Date.now()}`)}})},[_,v,T]);const D=()=>{console.log("Clearing temporary employees"),b([]);try{localStorage.removeItem("tempCustomerEmployees")}catch(I){console.error("Error clearing temporary employees:",I)}},M=()=>{console.log("Resetting customer employee selection"),D()};g.useImperativeHandle(d,()=>({refreshCustomers:E,addTempEmployee:T,clearTempEmployees:D,resetSelection:M}));const O=I=>{const H=[...v,..._].find(ne=>ne._id===I);if(console.log("CustomerEmployeeSelector: Employee selected:",I),console.log("CustomerEmployeeSelector: Found employee:",H),H)if(H._id.startsWith("temp_")){const ne={_id:H.customerId,CustomerCompanyName:H.customerName,Employees:[H],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:H.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for temp employee:",H.CustomerEmpName,ne.CustomerCompanyName),e(H,ne)}else{const ne=f.find(V=>V._id===H.customerId);ne?(console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for regular employee:",H.CustomerEmpName,ne.CustomerCompanyName),e(H,ne)):console.error("CustomerEmployeeSelector: Customer not found for employee:",H)}};return P?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ft,{className:"text-sm text-destructive",children:"Customer Employee"}),a&&o.jsxs(Ce,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:r,className:"flex items-center space-x-1",children:[o.jsx(Vc,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Add New"})]})]}),o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load customer employees"})]}),o.jsx("p",{className:"text-xs mt-1",children:P}),o.jsx(Ce,{type:"button",variant:"outline",size:"sm",onClick:E,className:"mt-2",children:"Try Again"})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ft,{htmlFor:"customerEmployee",className:"text-sm",children:["Select Customer Employee",o.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&o.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[c," only"]}),_.length>0&&o.jsxs("span",{className:"ml-2 text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:["+",_.length," new"]})]}),a&&o.jsxs(Ce,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:r||S,className:"flex items-center space-x-1",children:[o.jsx(Vc,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Add New"})]})]}),o.jsxs(ws,{onValueChange:O,value:t||"",disabled:r||S,children:[o.jsx(rs,{className:"w-full",children:o.jsx(_s,{placeholder:S?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Pl,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Loading employees..."})]}):"Select a customer employee"})}),o.jsx(ss,{children:(()=>{const I=v.length+_.length;return console.log("Rendering dropdown - Regular employees:",v.length,"Temp employees:",_.length),I===0?o.jsx(sn,{value:"no-employees",disabled:!0,children:"No employees found"}):o.jsxs(o.Fragment,{children:[_.map(Z=>o.jsxs(sn,{value:Z._id,children:[Z.CustomerEmpName," (",Z.customerName,") *"]},Z._id)),v.map(Z=>o.jsxs(sn,{value:Z._id,children:[Z.CustomerEmpName," (",Z.customerName,")"]},Z._id))]})})()})]})]})});Rb.displayName="CustomerEmployeeSelector";var sg="Checkbox",[OM,GL]=Rl(sg),[IM,FM]=OM(sg),Lb=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:c,defaultChecked:d,required:f,disabled:p,value:v="on",onCheckedChange:w,..._}=e,[b,S]=g.useState(null),k=$t(t,M=>S(M)),P=g.useRef(!1),j=b?!!b.closest("form"):!0,[E=!1,T]=Wc({prop:c,defaultProp:d,onChange:w}),D=g.useRef(E);return g.useEffect(()=>{const M=b==null?void 0:b.form;if(M){const O=()=>T(D.current);return M.addEventListener("reset",O),()=>M.removeEventListener("reset",O)}},[b,T]),o.jsxs(IM,{scope:r,state:E,disabled:p,children:[o.jsx(jt.button,{type:"button",role:"checkbox","aria-checked":aa(E)?"mixed":E,"aria-required":f,"data-state":Ob(E),"data-disabled":p?"":void 0,disabled:p,value:v,..._,ref:k,onKeyDown:lt(e.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:lt(e.onClick,M=>{T(O=>aa(O)?!0:!O),j&&(P.current=M.isPropagationStopped(),P.current||M.stopPropagation())})}),j&&o.jsx($M,{control:b,bubbles:!P.current,name:a,value:v,checked:E,required:f,disabled:p,style:{transform:"translateX(-100%)"}})]})});Lb.displayName=sg;var Ab="CheckboxIndicator",Db=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...c}=e,d=FM(Ab,r);return o.jsx(ga,{present:a||aa(d.state)||d.state===!0,children:o.jsx(jt.span,{"data-state":Ob(d.state),"data-disabled":d.disabled?"":void 0,...c,ref:t,style:{pointerEvents:"none",...e.style}})})});Db.displayName=Ab;var $M=e=>{const{control:t,checked:r,bubbles:a=!0,...c}=e,d=g.useRef(null),f=C_(r),p=Fw(t);return g.useEffect(()=>{const v=d.current,w=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(w,"checked").set;if(f!==r&&b){const S=new Event("click",{bubbles:a});v.indeterminate=aa(r),b.call(v,aa(r)?!1:r),v.dispatchEvent(S)}},[f,r,a]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:aa(r)?!1:r,...c,tabIndex:-1,ref:d,style:{...e.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function aa(e){return e==="indeterminate"}function Ob(e){return aa(e)?"indeterminate":e?"checked":"unchecked"}var Ib=Lb,zM=Db;const Fb=g.forwardRef(({className:e,...t},r)=>o.jsx(Ib,{ref:r,className:yt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(zM,{className:yt("flex items-center justify-center text-current"),children:o.jsx(Ep,{className:"h-4 w-4"})})}));Fb.displayName=Ib.displayName;const BM="https://jbdspower.in/LeafNetServer/api",UM="68340889566d91e049668f07";function HM({isOpen:e,onClose:t,onAddEmployee:r,isLoading:a=!1,defaultCustomerName:c=""}){const[d,f]=g.useState({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),[p,v]=g.useState({}),[w,_]=g.useState(!1),[b,S]=g.useState(!1),{toast:k}=_o();g.useEffect(()=>{e&&c&&f(O=>({...O,customerName:c}))},[e,c]);const P=()=>{const O={};return d.customerName.trim()||(O.customerName="Customer name is required"),d.customerEmployeeName.trim()||(O.customerEmployeeName="Employee name is required"),d.designation.trim()||(O.designation="Designation is required"),d.department.trim()||(O.department="Department is required"),d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(O.email="Please enter a valid email address"):O.email="Email is required",d.mobile.trim()?/^[\+]?[1-9][\d]{9,15}$/.test(d.mobile.replace(/[\s\-\(\)]/g,""))||(O.mobile="Please enter a valid mobile number (10-16 digits)"):O.mobile="Mobile number is required",v(O),Object.keys(O).length===0},j=(O,I)=>{f(Z=>({...Z,[O]:I})),p[O]&&v(Z=>{const H={...Z};return delete H[O],H})},E=async O=>{if(O.preventDefault(),!!P()){_(!0);try{const I={CustomerEmpName:d.customerEmployeeName,Department:d.department,Designation:d.designation,Email:d.email,Mobile:d.mobile};console.log("Saving employee to CRM:",I);const Z=await fetch(`${BM}/addcustomerEmployee/${UM}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!Z.ok){const ne=await Z.text();throw console.error("CRM API error:",ne),new Error(`Failed to save to CRM: ${Z.status}`)}const H=await Z.json();console.log("Employee saved to CRM successfully:",H),await r(d),b&&await T(),D()}catch(I){throw console.error("Error adding customer employee:",I),I}finally{_(!1)}}},T=async()=>{console.log(" Creating lead from customer employee data");const O=localStorage.getItem("idToken");if(!O){k({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"});return}const I=localStorage.getItem("user"),Z=I?JSON.parse(I)._id:"67daa55d9c4abb36045d5bfe";try{const H={CompanyName:d.customerName,Name:d.customerEmployeeName,CreatedBy:Z,Id:`JBDSL-${Date.now().toString().slice(-4)}`};d.email&&(H.Email=d.email),d.mobile&&(H.Mobile=d.mobile),d.designation&&(H.Designation=d.designation),d.department&&(H.Department=d.department),console.log(" Sending lead creation request:",H);const ne=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${O}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(ne.ok){const V=await ne.json();console.log(" Lead created successfully:",V),k({title:"Lead Created",description:`Lead created successfully for ${d.customerEmployeeName} at ${d.customerName}`})}else{const V=await ne.text();console.error(" Failed to create lead:",ne.status,V),k({title:"Failed to Create Lead",description:`Error: ${ne.status}`,variant:"destructive"})}}catch(H){console.error(" Error creating lead:",H),k({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"})}},D=()=>{w||a||(f({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),v({}),S(!1),t())},M=w||a;return o.jsx(br,{open:e,onOpenChange:D,children:o.jsxs(cr,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs(ur,{children:[o.jsxs(dr,{className:"flex items-center space-x-2",children:[o.jsx(gw,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Add New Customer Employee"})]}),o.jsx(Nr,{children:c?o.jsxs(o.Fragment,{children:["Create a new employee record for"," ",o.jsxs("span",{className:"font-medium",children:['"',c,'"']}),". The company name has been auto-filled from your current meeting."]}):o.jsx(o.Fragment,{children:"Create a new customer employee record. All fields marked with * are required."})})]}),o.jsxs("form",{onSubmit:E,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{htmlFor:"customerName",className:"text-sm",children:["Customer/Company Name",o.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&o.jsx("span",{className:"text-muted-foreground ml-2 text-xs",children:"(Auto-filled from meeting)"})]}),o.jsx(vn,{id:"customerName",type:"text",placeholder:"Enter company/customer name",value:d.customerName,onChange:O=>j("customerName",O.target.value),disabled:M,className:p.customerName?"border-destructive":""}),p.customerName&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.customerName})]}),c&&d.customerName===c&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:['Customer name auto-filled from "',c,'" meeting. You can edit if needed.']})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{htmlFor:"customerEmployeeName",className:"text-sm",children:["Employee Name",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"customerEmployeeName",type:"text",placeholder:"Enter employee full name",value:d.customerEmployeeName,onChange:O=>j("customerEmployeeName",O.target.value),disabled:M,className:p.customerEmployeeName?"border-destructive":""}),p.customerEmployeeName&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.customerEmployeeName})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{htmlFor:"email",className:"text-sm",children:["Email Address",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"email",type:"email",placeholder:"employee@company.com",value:d.email,onChange:O=>j("email",O.target.value),disabled:M,className:p.email?"border-destructive":"",required:!0}),p.email&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.email})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{htmlFor:"mobile",className:"text-sm",children:["Mobile Number",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"mobile",type:"tel",placeholder:"1234567890",value:d.mobile,onChange:O=>j("mobile",O.target.value),disabled:M,className:p.mobile?"border-destructive":"",required:!0}),p.mobile&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.mobile})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{htmlFor:"designation",className:"text-sm",children:["Designation",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"designation",type:"text",placeholder:"e.g., Manager, Director, CEO",value:d.designation,onChange:O=>j("designation",O.target.value),disabled:M,className:p.designation?"border-destructive":""}),p.designation&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.designation})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{htmlFor:"department",className:"text-sm",children:["Department",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"department",type:"text",placeholder:"e.g., Sales, IT, HR, Operations",value:d.department,onChange:O=>j("department",O.target.value),disabled:M,className:p.department?"border-destructive":""}),p.department&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.department})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 pb-2 border-t",children:[o.jsx(Fb,{id:"createLead",checked:b,onCheckedChange:O=>S(O),disabled:M}),o.jsx(Ft,{htmlFor:"createLead",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Create Lead after adding employee"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(Ce,{type:"button",variant:"outline",onClick:D,disabled:M,children:"Cancel"}),o.jsx(Ce,{type:"submit",disabled:M,className:"min-w-[120px]",children:w||a?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Adding..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ns,{className:"h-4 w-4"}),o.jsx("span",{children:"Add Employee"})]})})]})]})]})})}function WM({isOpen:e,onClose:t,onEndMeeting:r,employeeName:a,isLoading:c=!1,currentMeeting:d=null,followUpMeetingData:f=null}){const[p,v]=g.useState({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),[w,_]=g.useState({}),[b,S]=g.useState(!1),[k,P]=g.useState(!1),[j,E]=g.useState([]),[T,D]=g.useState(null),[M,O]=g.useState(null),[I,Z]=g.useState(!1),[H,ne]=g.useState(!1),V=g.useRef(null),Y=g.useRef(null),[te,fe]=g.useState([]),Ie=g.useRef(null),{toast:he}=_o();g.useEffect(()=>{if(e&&f){console.log(" Prefilling form with follow-up meeting data:",f);const $={customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};console.log(" Created customer contact from follow-up:",$),E([$]),v(K=>{const ae={...K,customers:[$],customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};return console.log(" Updated formData with customer:",ae),ae}),console.log(" Form prefilled with customer data")}else e&&!f&&console.log(" Modal opened but no followUpMeetingData provided")},[e,f]),g.useEffect(()=>{console.log(" selectedCustomers changed:",j.length,j)},[j]),g.useEffect(()=>{if(j.length===0){ne(!1);return}const $=j.some(K=>{var ae,_e;return!((ae=K.customerEmail)!=null&&ae.trim())||!((_e=K.customerMobile)!=null&&_e.trim())});ne($)},[j]);const Be=()=>{var K;const $={};if(console.log("Validating form with selectedCustomers:",j.length),console.log("Form data customers:",(K=p.customers)==null?void 0:K.length),j.length===0&&($.customers="Please add at least one customer contact",console.log("Validation failed: No customers selected")),j.forEach((ae,_e)=>{var Te,We;(Te=ae.customerEmail)!=null&&Te.trim()||($[`customer_${_e}_email`]=`Email is required for ${ae.customerEmployeeName}`),(We=ae.customerMobile)!=null&&We.trim()||($[`customer_${_e}_mobile`]=`Mobile number is required for ${ae.customerEmployeeName}`)}),p.discussion.trim()||($.discussion="Discussion details are required",console.log("Validation failed: No discussion provided")),p.customerEmail&&p.customerEmail.trim()!==""&&typeof p.customerEmail=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.customerEmail)&&($.customerEmail="Please enter a valid email address"),p.customerMobile&&p.customerMobile.trim()!==""&&typeof p.customerMobile=="string"){const ae=p.customerMobile.replace(/[\s\-\(\)]/g,"");/^\+?\d{7,15}$/.test(ae)||($.customerMobile="Please enter a valid mobile number")}return console.log("Validation errors:",$),_($),Object.keys($).length>0&&setTimeout(()=>{var ae;(ae=V.current)==null||ae.scrollIntoView({behavior:"smooth",block:"center"})},300),Object.keys($).length===0},ee=($,K)=>{v(ae=>({...ae,[$]:K})),w[$]&&_(ae=>{const _e={...ae};return delete _e[$],_e})},xe=($,K)=>{console.log("EndMeetingModal: Customer employee selected:",$),console.log("EndMeetingModal: Customer selected:",K),D($),O(K);const ae={customerName:K.CustomerCompanyName,customerEmployeeName:$.CustomerEmpName,customerEmail:String($.Email||""),customerMobile:String($.Mobile||""),customerDesignation:String($.Designation||""),customerDepartment:String($.Department||"")};if(j.some(Te=>Te.customerName===ae.customerName&&Te.customerEmployeeName===ae.customerEmployeeName))console.log("EndMeetingModal: Customer already in list, skipping");else{const Te=[...j,ae];E(Te),v(We=>{var Ze,nt,Et,ye,Ge,q;return{...We,customers:Te,customerName:((Ze=Te[0])==null?void 0:Ze.customerName)||"",customerEmployeeName:((nt=Te[0])==null?void 0:nt.customerEmployeeName)||"",customerEmail:((Et=Te[0])==null?void 0:Et.customerEmail)||"",customerMobile:((ye=Te[0])==null?void 0:ye.customerMobile)||"",customerDesignation:((Ge=Te[0])==null?void 0:Ge.customerDesignation)||"",customerDepartment:((q=Te[0])==null?void 0:q.customerDepartment)||""}}),console.log("EndMeetingModal: Added customer to list:",ae),D(null),O(null)}},U=$=>{const K=j.filter((ae,_e)=>_e!==$);E(K),v(ae=>{var _e,Te,We,Ze,nt,Et;return{...ae,customers:K,customerName:((_e=K[0])==null?void 0:_e.customerName)||"",customerEmployeeName:((Te=K[0])==null?void 0:Te.customerEmployeeName)||"",customerEmail:((We=K[0])==null?void 0:We.customerEmail)||"",customerMobile:((Ze=K[0])==null?void 0:Ze.customerMobile)||"",customerDesignation:((nt=K[0])==null?void 0:nt.customerDesignation)||"",customerDepartment:((Et=K[0])==null?void 0:Et.customerDepartment)||""}}),console.log("EndMeetingModal: Removed customer from list, remaining:",K.length)},ue=async $=>{try{const ae={_id:`temp_${Date.now()}`,CustomerEmpName:$.customerEmployeeName,Designation:$.designation,Department:$.department,Mobile:$.mobile,Email:$.email},_e={_id:`temp_customer_${Date.now()}`,CustomerCompanyName:$.customerName,Employees:[ae],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:$.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};return console.log("Creating new customer employee:",$),console.log("Generated employee object:",ae),console.log("Generated customer object:",_e),await new Promise(Te=>setTimeout(Te,1e3)),Y.current?(console.log("Adding temp employee to selector..."),Y.current.addTempEmployee(ae,$.customerName,_e._id),console.log("Temp employee added to selector")):console.error("customerSelectorRef.current is null!"),setTimeout(()=>{var Te;xe(ae,_e),(Te=V.current)==null||Te.blur()},100),console.log("Customer employee added successfully!"),{employee:ae,customer:_e}}catch(K){throw console.error("Error adding customer employee:",K),K}},oe=async $=>{var ae,_e,Te;$.preventDefault(),console.log(" EndMeetingModal: Form submit triggered"),console.log("EndMeetingModal: Form data before validation:",p),console.log("EndMeetingModal: Selected customers:",j),console.log("EndMeetingModal: Discussion:",p.discussion),console.log("EndMeetingModal: Attached files:",te.length);const K=Be();if(console.log("EndMeetingModal: Validation result:",K),!K){console.log("EndMeetingModal: Form validation failed with errors:",w);const We=document.querySelector(".border-destructive");We&&We.scrollIntoView({behavior:"smooth",block:"center"});return}console.log(" EndMeetingModal: Validation passed, processing files..."),S(!0);try{const We=te.map(ye=>new Promise((Ge,q)=>{const me=new FileReader;me.onload=()=>Ge(me.result),me.onerror=q,me.readAsDataURL(ye)}));console.log(" Converting files to base64...");const Ze=await Promise.all(We);console.log(` Converted ${Ze.length} files to base64`);const nt={...p,attachments:Ze.length>0?Ze:void 0},Et={...nt,outLocation:typeof nt.outLocation=="object"?((ae=nt.outLocation)==null?void 0:ae.address)||`${(_e=nt.outLocation)==null?void 0:_e.lat}, ${(Te=nt.outLocation)==null?void 0:Te.lng}`:nt.outLocation};console.log("EndMeetingModal: Final payload:",Et),await r(Et),console.log(" Meeting ended successfully, clearing temp employees"),Y.current&&Y.current.clearTempEmployees(),ke()}catch(We){console.error(" Error ending meeting:",We),he({title:"Error",description:"Failed to end meeting. Please try again.",variant:"destructive"})}finally{S(!1)}},z=async()=>{if(console.log(" Creating lead from meeting data"),j.length===0){he({title:"No Customer Selected",description:"Please select at least one customer to create a lead.",variant:"destructive"});return}const $=j[0],K=localStorage.getItem("idToken");if(!K){he({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"});return}const ae=localStorage.getItem("userId")||"67daa55d9c4abb36045d5bfe";P(!0);try{const _e={CompanyName:$.customerName,Name:$.customerEmployeeName,Email:$.customerEmail||"",Mobile:$.customerMobile||"",Designation:$.customerDesignation||"",Department:$.customerDepartment||"purchase",CreatedBy:ae,Id:`JBDSL-${Date.now().toString().slice(-4)}`};console.log(" Sending lead creation request:",_e);const Te=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${K}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_e)});if(Te.ok){const We=await Te.json();console.log(" Lead created successfully:",We),he({title:"Lead Created",description:`Lead created successfully for ${$.customerEmployeeName} at ${$.customerName}`})}else{const We=await Te.text();console.error(" Failed to create lead:",Te.status,We),he({title:"Failed to Create Lead",description:`Error: ${Te.status} - ${We.substring(0,100)}`,variant:"destructive"})}}catch(_e){console.error(" Error creating lead:",_e),he({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"})}finally{P(!1)}},J=$=>{const K=$.target.files;if(K&&K.length>0){const ae=Array.from(K),_e=5*1024*1024,Te=ae.filter(Ze=>Ze.size>_e),We=ae.filter(Ze=>Ze.size<=_e);if(Te.length>0){const Ze=Te.map(nt=>`${nt.name} (${(nt.size/1024/1024).toFixed(2)} MB)`).join(", ");he({title:"File Size Limit Exceeded",description:`The following file(s) exceed 5MB limit: ${Ze}`,variant:"destructive"}),console.warn(" Oversized files rejected:",Te.map(nt=>({name:nt.name,size:nt.size})))}if(We.length>0){const Ze=te.reduce((Ge,q)=>Ge+q.size,0),nt=We.reduce((Ge,q)=>Ge+q.size,0),Et=Ze+nt,ye=10*1024*1024;Et>ye?(he({title:"Total Size Limit Exceeded",description:`Total file size cannot exceed 10MB. Current: ${(Ze/1024/1024).toFixed(2)} MB, Adding: ${(nt/1024/1024).toFixed(2)} MB`,variant:"destructive"}),console.warn(" Total size limit exceeded:",{currentTotalSize:Ze,newTotalSize:nt,totalSize:Et})):(fe(Ge=>[...Ge,...We]),console.log(" Files attached:",We.map(Ge=>({name:Ge.name,size:`${(Ge.size/1024).toFixed(2)} KB`}))),he({title:"Files Attached",description:`${We.length} file(s) attached successfully`}))}}Ie.current&&(Ie.current.value="")},Ne=$=>{fe(K=>K.filter((ae,_e)=>_e!==$)),console.log(" File removed at index:",$)},ke=()=>{if(b||c){console.log(" Cannot close: Form is submitting or loading");return}console.log(" EndMeetingModal: Closing and resetting all state"),v({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),_({}),E([]),D(null),O(null),Z(!1),fe([]),Y.current&&Y.current.resetSelection(),t()},Se=b||c||k;return o.jsx(br,{open:e,onOpenChange:ke,children:o.jsxs(cr,{className:"sm:max-w-md  max-h-[90vh] overflow-y-auto",children:[o.jsxs(ur,{children:[o.jsxs(dr,{className:"flex items-center space-x-2",children:[o.jsx(Fn,{className:"h-5 w-5 text-destructive"}),o.jsx("span",{children:"End Meeting"})]}),o.jsxs(Nr,{children:["Complete the meeting for"," ",o.jsx("span",{className:"font-medium",children:a})," by providing customer details and discussion summary."]})]}),o.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 py-2 border-b",children:[o.jsx(mf,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Select Customer Employee"})]}),o.jsxs("div",{className:"space-y-4",children:[(d==null?void 0:d.clientName)&&o.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"font-medium",children:["Meeting with: ",d.clientName]})}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Showing employees for this company only"})]}),o.jsx(Rb,{ref:Y,onEmployeeSelect:xe,selectedEmployeeId:T==null?void 0:T._id,disabled:Se,onAddNewEmployee:()=>Z(!0),filterByCompany:d==null?void 0:d.clientName}),H&&o.jsxs("div",{className:"relative mt-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsx("span",{children:"Email & mobile number are required. Please add or update customer contact."})]}),o.jsx("div",{className:"absolute right-2 animate-bounce text-destructive",style:{top:"-3.9rem"},children:o.jsx("div",{className:"relative",children:o.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 32 32",fill:"none",className:"text-destructive",children:[o.jsx("line",{x1:"16",y1:"28",x2:"16",y2:"8",stroke:"currentColor",strokeWidth:"2"}),o.jsx("path",{d:"M10 14L16 8L22 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})})]}),w.customers&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:w.customers})]}),j.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hf,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium text-sm",children:["Selected Customer Contacts (",j.length,")"]})]}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:j.map(($,K)=>o.jsxs("div",{className:"p-3 border rounded-lg bg-muted/20 relative",children:[o.jsx(Ce,{type:"button",variant:"outline",size:"sm",onClick:()=>U(K),className:"absolute top-2 right-2 h-6 w-6 p-0 text-destructive hover:text-destructive",disabled:Se,children:""}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm pr-8",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Company:"}),o.jsx("div",{className:"font-medium",children:$.customerName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("div",{className:"font-medium",children:$.customerEmployeeName})]}),$.customerDesignation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Position:"}),o.jsx("div",{children:$.customerDesignation})]}),$.customerDepartment&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("div",{children:$.customerDepartment})]}),$.customerEmail&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("div",{className:"text-xs",children:$.customerEmail})]}),$.customerMobile&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),o.jsx("div",{className:"text-xs",children:$.customerMobile})]})]})]},K))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{htmlFor:"discussion",className:"text-sm",children:["Discussion Details",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(_i,{id:"discussion",placeholder:"Describe what was discussed in the meeting, key points, outcomes, and next steps...",value:p.discussion,onChange:$=>ee("discussion",$.target.value),disabled:Se,rows:4,className:w.discussion?"border-destructive":""}),w.discussion&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:w.discussion})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"This field is required and will be included in the meeting record."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ft,{className:"text-sm flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vm,{className:"h-4 w-4"}),o.jsx("span",{children:"Attach Files (Optional)"})]}),o.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"Max 5MB per file"})]}),o.jsx("input",{ref:Ie,type:"file",multiple:!0,onChange:J,disabled:Se,className:"hidden",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx"}),o.jsxs(Ce,{type:"button",variant:"outline",onClick:()=>{var $;return($=Ie.current)==null?void 0:$.click()},disabled:Se,className:"w-full",children:[o.jsx(vm,{className:"h-4 w-4 mr-2"}),"Choose Files"]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Supported: Images, PDF, DOC, DOCX, XLS, XLSX  Max 5MB per file  Max 10MB total"}),te.length>0&&o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center justify-between",children:[o.jsxs("span",{children:[te.length," file(s) attached"]}),o.jsxs("span",{children:["Total: ",(te.reduce(($,K)=>$+K.size,0)/1024/1024).toFixed(2)," MB"]})]}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:te.map(($,K)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded bg-muted/20",children:[o.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[o.jsx(vm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-xs truncate",title:$.name,children:$.name}),o.jsxs("span",{className:"text-xs text-muted-foreground flex-shrink-0",children:["(",($.size/1024).toFixed(1)," KB)"]})]}),o.jsx(Ce,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ne(K),disabled:Se,className:"h-6 w-6 p-0 ml-2 flex-shrink-0",children:o.jsx(ou,{className:"h-3 w-3"})})]},K))})]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-4",children:[o.jsx(Ce,{type:"button",variant:"outline",onClick:z,disabled:Se||j.length===0,className:"min-w-[120px]",children:k?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),o.jsx("span",{children:"Creating..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gw,{className:"h-4 w-4"}),o.jsx("span",{children:"Create Lead"})]})}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(Ce,{type:"button",variant:"outline",onClick:ke,disabled:Se,children:"Cancel"}),o.jsx(Ce,{type:"submit",variant:"destructive",disabled:Se,className:"min-w-[120px]",children:b||c?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Ending..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ns,{className:"h-4 w-4"}),o.jsx("span",{children:"End Meeting"})]})})]})]})]}),o.jsx(HM,{isOpen:I,onClose:()=>Z(!1),onAddEmployee:ue,isLoading:c,defaultCustomerName:d==null?void 0:d.clientName})]})})}function VM({employee:e,trackingSession:t,meetings:r,isOpen:a,onClose:c,onSnapshotCreated:d}){const[f,p]=g.useState(""),[v,w]=g.useState(""),[_,b]=g.useState(!1),{toast:S}=_o();g.useEffect(()=>{if(a&&!f){const D=new Date,M=D.toLocaleDateString(),O=D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});p(`${e.name} Route - ${M} ${O}`)}},[a,e.name,f]);const k=()=>{const D=[];if(t!=null&&t.route&&D.push(...t.route),r.forEach(Z=>{D.push(Z.location)}),D.push(e.location),D.length===0)return{north:e.location.lat+.01,south:e.location.lat-.01,east:e.location.lng+.01,west:e.location.lng-.01};const M=D.map(Z=>Z.lat),O=D.map(Z=>Z.lng),I=.005;return{north:Math.max(...M)+I,south:Math.min(...M)-I,east:Math.max(...O)+I,west:Math.min(...O)-I}},P=()=>r.map(D=>({id:D.id,location:D.location,clientName:D.clientName,startTime:D.startTime,endTime:D.endTime,status:D.status})),j=async()=>{if(!f.trim()){S({title:"Title Required",description:"Please enter a title for the snapshot",variant:"destructive"});return}b(!0);try{const D={employeeId:e.id,employeeName:e.name,trackingSessionId:t==null?void 0:t.id,title:f.trim(),description:v.trim()||void 0,startLocation:(t==null?void 0:t.startLocation)||e.location,endLocation:t==null?void 0:t.endLocation,route:(t==null?void 0:t.route)||[e.location],meetings:P(),totalDistance:(t==null?void 0:t.totalDistance)||0,duration:t==null?void 0:t.duration,status:(t==null?void 0:t.status)||"active",mapBounds:k()},M=await pt.post("/api/route-snapshots",D);if(M.ok){const O=await M.json();S({title:"Snapshot Created",description:"Route snapshot has been saved successfully"}),d==null||d(O),c(),p(""),w("")}else throw new Error("Failed to create snapshot")}catch(D){console.error("Error creating snapshot:",D),S({title:"Error",description:"Failed to create route snapshot. Please try again.",variant:"destructive"})}finally{b(!1)}},T=(()=>{var Z;const D=((Z=t==null?void 0:t.route)==null?void 0:Z.length)||1,M=(t==null?void 0:t.totalDistance)||0,O=r.length,I=t==null?void 0:t.duration;return{routePoints:D,totalDistance:M,meetingCount:O,duration:I}})();return o.jsx(br,{open:a,onOpenChange:c,children:o.jsxs(cr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(ur,{children:[o.jsxs(dr,{className:"flex items-center gap-2",children:[o.jsx(Um,{className:"h-5 w-5"}),"Create Manual Route Snapshot"]}),o.jsxs(Nr,{children:["Manually capture and save ",e.name,"'s current route and meeting locations for historical reference. Note: Routes are also automatically captured when tracking stops."]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{htmlFor:"title",children:"Route Title *"}),o.jsx(vn,{id:"title",value:f,onChange:D=>p(D.target.value),placeholder:"Enter a descriptive title for this snapshot",className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ft,{htmlFor:"description",children:"Description (Optional)"}),o.jsx(_i,{id:"description",value:v,onChange:D=>w(D.target.value),placeholder:"Add any additional notes about this route snapshot",className:"w-full",rows:3})]})]}),o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsx(At,{className:"text-lg",children:"Route Summary"})}),o.jsxs(vt,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(oa,{className:"h-4 w-4"}),"Route Points"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.routePoints})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(lr,{className:"h-4 w-4"}),"Total Distance"]}),o.jsxs("div",{className:"text-2xl font-bold",children:[(T.totalDistance/1e3).toFixed(1)," km"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(os,{className:"h-4 w-4"}),"Meetings"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.meetingCount})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Fn,{className:"h-4 w-4"}),"Duration"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.duration?`${Math.floor(T.duration/60)}m`:"Active"})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Current Location"}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(lr,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",children:e.location.address}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.location.lat.toFixed(6),", ",e.location.lng.toFixed(6)]})]})]})]})}),t&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Tracking Session"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Tt,{variant:"secondary",className:t.status==="active"?"bg-success text-success-foreground":"bg-muted text-muted-foreground",children:t.status}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(t.startTime).toLocaleString()]})]})]})}),r.length>0&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Meetings in Snapshot"}),o.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[r.slice(0,3).map(D=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:D.clientName||"Unknown Client"}),o.jsx(Tt,{variant:"outline",className:"text-xs",children:D.status})]},D.id)),r.length>3&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.length-3," more meetings"]})]})]})})]})]})]}),o.jsxs(fa,{children:[o.jsx(Ce,{variant:"outline",onClick:c,disabled:_,children:"Cancel"}),o.jsx(Ce,{onClick:j,disabled:_,children:_?o.jsxs(o.Fragment,{children:[o.jsx(Pl,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Snapshot..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hm,{className:"h-4 w-4 mr-2"}),"Save Route"]})})]})]})})}function $b(e,t){return function(){return e.apply(t,arguments)}}const{toString:ZM}=Object.prototype,{getPrototypeOf:og}=Object,{iterator:Lf,toStringTag:zb}=Symbol,Af=(e=>t=>{const r=ZM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),js=e=>(e=e.toLowerCase(),t=>Af(t)===e),Df=e=>t=>typeof t===e,{isArray:Fl}=Array,Jc=Df("undefined");function uu(e){return e!==null&&!Jc(e)&&e.constructor!==null&&!Jc(e.constructor)&&wr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Bb=js("ArrayBuffer");function qM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Bb(e.buffer),t}const GM=Df("string"),wr=Df("function"),Ub=Df("number"),du=e=>e!==null&&typeof e=="object",YM=e=>e===!0||e===!1,Vd=e=>{if(Af(e)!=="object")return!1;const t=og(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zb in e)&&!(Lf in e)},KM=e=>{if(!du(e)||uu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},XM=js("Date"),QM=js("File"),JM=js("Blob"),eR=js("FileList"),tR=e=>du(e)&&wr(e.pipe),nR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||wr(e.append)&&((t=Af(e))==="formdata"||t==="object"&&wr(e.toString)&&e.toString()==="[object FormData]"))},rR=js("URLSearchParams"),[sR,oR,iR,aR]=["ReadableStream","Request","Response","Headers"].map(js),lR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),Fl(e))for(a=0,c=e.length;a<c;a++)t.call(null,e[a],a,e);else{if(uu(e))return;const d=r?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let p;for(a=0;a<f;a++)p=d[a],t.call(null,e[p],p,e)}}function Hb(e,t){if(uu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,c;for(;a-- >0;)if(c=r[a],t===c.toLowerCase())return c;return null}const ea=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wb=e=>!Jc(e)&&e!==ea;function mp(){const{caseless:e}=Wb(this)&&this||{},t={},r=(a,c)=>{const d=e&&Hb(t,c)||c;Vd(t[d])&&Vd(a)?t[d]=mp(t[d],a):Vd(a)?t[d]=mp({},a):Fl(a)?t[d]=a.slice():t[d]=a};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&fu(arguments[a],r);return t}const cR=(e,t,r,{allOwnKeys:a}={})=>(fu(t,(c,d)=>{r&&wr(c)?e[d]=$b(c,r):e[d]=c},{allOwnKeys:a}),e),uR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dR=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},fR=(e,t,r,a)=>{let c,d,f;const p={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)f=c[d],(!a||a(f,e,t))&&!p[f]&&(t[f]=e[f],p[f]=!0);e=r!==!1&&og(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},hR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},mR=e=>{if(!e)return null;if(Fl(e))return e;let t=e.length;if(!Ub(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},pR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&og(Uint8Array)),gR=(e,t)=>{const a=(e&&e[Lf]).call(e);let c;for(;(c=a.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},vR=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},xR=js("HTMLFormElement"),yR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,c){return a.toUpperCase()+c}),ly=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),wR=js("RegExp"),Vb=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};fu(r,(c,d)=>{let f;(f=t(c,d,e))!==!1&&(a[d]=f||c)}),Object.defineProperties(e,a)},_R=e=>{Vb(e,(t,r)=>{if(wr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(wr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bR=(e,t)=>{const r={},a=c=>{c.forEach(d=>{r[d]=!0})};return Fl(e)?a(e):a(String(e).split(t)),r},NR=()=>{},SR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jR(e){return!!(e&&wr(e.append)&&e[zb]==="FormData"&&e[Lf])}const CR=e=>{const t=new Array(10),r=(a,c)=>{if(du(a)){if(t.indexOf(a)>=0)return;if(uu(a))return a;if(!("toJSON"in a)){t[c]=a;const d=Fl(a)?[]:{};return fu(a,(f,p)=>{const v=r(f,c+1);!Jc(v)&&(d[p]=v)}),t[c]=void 0,d}}return a};return r(e,0)},ER=js("AsyncFunction"),PR=e=>e&&(du(e)||wr(e))&&wr(e.then)&&wr(e.catch),Zb=((e,t)=>e?setImmediate:t?((r,a)=>(ea.addEventListener("message",({source:c,data:d})=>{c===ea&&d===r&&a.length&&a.shift()()},!1),c=>{a.push(c),ea.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",wr(ea.postMessage)),TR=typeof queueMicrotask<"u"?queueMicrotask.bind(ea):typeof process<"u"&&process.nextTick||Zb,kR=e=>e!=null&&wr(e[Lf]),pe={isArray:Fl,isArrayBuffer:Bb,isBuffer:uu,isFormData:nR,isArrayBufferView:qM,isString:GM,isNumber:Ub,isBoolean:YM,isObject:du,isPlainObject:Vd,isEmptyObject:KM,isReadableStream:sR,isRequest:oR,isResponse:iR,isHeaders:aR,isUndefined:Jc,isDate:XM,isFile:QM,isBlob:JM,isRegExp:wR,isFunction:wr,isStream:tR,isURLSearchParams:rR,isTypedArray:pR,isFileList:eR,forEach:fu,merge:mp,extend:cR,trim:lR,stripBOM:uR,inherits:dR,toFlatObject:fR,kindOf:Af,kindOfTest:js,endsWith:hR,toArray:mR,forEachEntry:gR,matchAll:vR,isHTMLForm:xR,hasOwnProperty:ly,hasOwnProp:ly,reduceDescriptors:Vb,freezeMethods:_R,toObjectSet:bR,toCamelCase:yR,noop:NR,toFiniteNumber:SR,findKey:Hb,global:ea,isContextDefined:Wb,isSpecCompliantForm:jR,toJSONObject:CR,isAsyncFn:ER,isThenable:PR,setImmediate:Zb,asap:TR,isIterable:kR};function Mt(e,t,r,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),c&&(this.response=c,this.status=c.status?c.status:null)}pe.inherits(Mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const qb=Mt.prototype,Gb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Gb[e]={value:e}});Object.defineProperties(Mt,Gb);Object.defineProperty(qb,"isAxiosError",{value:!0});Mt.from=(e,t,r,a,c,d)=>{const f=Object.create(qb);return pe.toFlatObject(e,f,function(v){return v!==Error.prototype},p=>p!=="isAxiosError"),Mt.call(f,e.message,t,r,a,c),f.cause=e,f.name=e.name,d&&Object.assign(f,d),f};const MR=null;function pp(e){return pe.isPlainObject(e)||pe.isArray(e)}function Yb(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function cy(e,t,r){return e?e.concat(t).map(function(c,d){return c=Yb(c),!r&&d?"["+c+"]":c}).join(r?".":""):t}function RR(e){return pe.isArray(e)&&!e.some(pp)}const LR=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function Of(e,t,r){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,E){return!pe.isUndefined(E[j])});const a=r.metaTokens,c=r.visitor||_,d=r.dots,f=r.indexes,v=(r.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(c))throw new TypeError("visitor must be a function");function w(P){if(P===null)return"";if(pe.isDate(P))return P.toISOString();if(pe.isBoolean(P))return P.toString();if(!v&&pe.isBlob(P))throw new Mt("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(P)||pe.isTypedArray(P)?v&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function _(P,j,E){let T=P;if(P&&!E&&typeof P=="object"){if(pe.endsWith(j,"{}"))j=a?j:j.slice(0,-2),P=JSON.stringify(P);else if(pe.isArray(P)&&RR(P)||(pe.isFileList(P)||pe.endsWith(j,"[]"))&&(T=pe.toArray(P)))return j=Yb(j),T.forEach(function(M,O){!(pe.isUndefined(M)||M===null)&&t.append(f===!0?cy([j],O,d):f===null?j:j+"[]",w(M))}),!1}return pp(P)?!0:(t.append(cy(E,j,d),w(P)),!1)}const b=[],S=Object.assign(LR,{defaultVisitor:_,convertValue:w,isVisitable:pp});function k(P,j){if(!pe.isUndefined(P)){if(b.indexOf(P)!==-1)throw Error("Circular reference detected in "+j.join("."));b.push(P),pe.forEach(P,function(T,D){(!(pe.isUndefined(T)||T===null)&&c.call(t,T,pe.isString(D)?D.trim():D,j,S))===!0&&k(T,j?j.concat(D):[D])}),b.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return k(e),t}function uy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function ig(e,t){this._pairs=[],e&&Of(e,this,t)}const Kb=ig.prototype;Kb.append=function(t,r){this._pairs.push([t,r])};Kb.toString=function(t){const r=t?function(a){return t.call(this,a,uy)}:uy;return this._pairs.map(function(c){return r(c[0])+"="+r(c[1])},"").join("&")};function AR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xb(e,t,r){if(!t)return e;const a=r&&r.encode||AR;pe.isFunction(r)&&(r={serialize:r});const c=r&&r.serialize;let d;if(c?d=c(t,r):d=pe.isURLSearchParams(t)?t.toString():new ig(t,r).toString(a),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class dy{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Qb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DR=typeof URLSearchParams<"u"?URLSearchParams:ig,OR=typeof FormData<"u"?FormData:null,IR=typeof Blob<"u"?Blob:null,FR={isBrowser:!0,classes:{URLSearchParams:DR,FormData:OR,Blob:IR},protocols:["http","https","file","blob","url","data"]},ag=typeof window<"u"&&typeof document<"u",gp=typeof navigator=="object"&&navigator||void 0,$R=ag&&(!gp||["ReactNative","NativeScript","NS"].indexOf(gp.product)<0),zR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BR=ag&&window.location.href||"http://localhost",UR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ag,hasStandardBrowserEnv:$R,hasStandardBrowserWebWorkerEnv:zR,navigator:gp,origin:BR},Symbol.toStringTag,{value:"Module"})),er={...UR,...FR};function HR(e,t){return Of(e,new er.classes.URLSearchParams,{visitor:function(r,a,c,d){return er.isNode&&pe.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function WR(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VR(e){const t={},r=Object.keys(e);let a;const c=r.length;let d;for(a=0;a<c;a++)d=r[a],t[d]=e[d];return t}function Jb(e){function t(r,a,c,d){let f=r[d++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),v=d>=r.length;return f=!f&&pe.isArray(c)?c.length:f,v?(pe.hasOwnProp(c,f)?c[f]=[c[f],a]:c[f]=a,!p):((!c[f]||!pe.isObject(c[f]))&&(c[f]=[]),t(r,a,c[f],d)&&pe.isArray(c[f])&&(c[f]=VR(c[f])),!p)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const r={};return pe.forEachEntry(e,(a,c)=>{t(WR(a),c,r,0)}),r}return null}function ZR(e,t,r){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const hu={transitional:Qb,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",c=a.indexOf("application/json")>-1,d=pe.isObject(t);if(d&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return c?JSON.stringify(Jb(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return HR(t,this.formSerializer).toString();if((p=pe.isFileList(t))||a.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Of(p?{"files[]":t}:t,v&&new v,this.formSerializer)}}return d||c?(r.setContentType("application/json",!1),ZR(t)):t}],transformResponse:[function(t){const r=this.transitional||hu.transitional,a=r&&r.forcedJSONParsing,c=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(a&&!this.responseType||c)){const f=!(r&&r.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(p){if(f)throw p.name==="SyntaxError"?Mt.from(p,Mt.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{hu.headers[e]={}});const qR=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GR=e=>{const t={};let r,a,c;return e&&e.split(`
`).forEach(function(f){c=f.indexOf(":"),r=f.substring(0,c).trim().toLowerCase(),a=f.substring(c+1).trim(),!(!r||t[r]&&qR[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},fy=Symbol("internals");function Dc(e){return e&&String(e).trim().toLowerCase()}function Zd(e){return e===!1||e==null?e:pe.isArray(e)?e.map(Zd):String(e)}function YR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const KR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Am(e,t,r,a,c){if(pe.isFunction(a))return a.call(this,t,r);if(c&&(t=r),!!pe.isString(t)){if(pe.isString(a))return t.indexOf(a)!==-1;if(pe.isRegExp(a))return a.test(t)}}function XR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function QR(e,t){const r=pe.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(c,d,f){return this[a].call(this,t,c,d,f)},configurable:!0})})}let _r=class{constructor(t){t&&this.set(t)}set(t,r,a){const c=this;function d(p,v,w){const _=Dc(v);if(!_)throw new Error("header name must be a non-empty string");const b=pe.findKey(c,_);(!b||c[b]===void 0||w===!0||w===void 0&&c[b]!==!1)&&(c[b||v]=Zd(p))}const f=(p,v)=>pe.forEach(p,(w,_)=>d(w,_,v));if(pe.isPlainObject(t)||t instanceof this.constructor)f(t,r);else if(pe.isString(t)&&(t=t.trim())&&!KR(t))f(GR(t),r);else if(pe.isObject(t)&&pe.isIterable(t)){let p={},v,w;for(const _ of t){if(!pe.isArray(_))throw TypeError("Object iterator must return a key-value pair");p[w=_[0]]=(v=p[w])?pe.isArray(v)?[...v,_[1]]:[v,_[1]]:_[1]}f(p,r)}else t!=null&&d(r,t,a);return this}get(t,r){if(t=Dc(t),t){const a=pe.findKey(this,t);if(a){const c=this[a];if(!r)return c;if(r===!0)return YR(c);if(pe.isFunction(r))return r.call(this,c,a);if(pe.isRegExp(r))return r.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Dc(t),t){const a=pe.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Am(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let c=!1;function d(f){if(f=Dc(f),f){const p=pe.findKey(a,f);p&&(!r||Am(a,a[p],p,r))&&(delete a[p],c=!0)}}return pe.isArray(t)?t.forEach(d):d(t),c}clear(t){const r=Object.keys(this);let a=r.length,c=!1;for(;a--;){const d=r[a];(!t||Am(this,this[d],d,t,!0))&&(delete this[d],c=!0)}return c}normalize(t){const r=this,a={};return pe.forEach(this,(c,d)=>{const f=pe.findKey(a,d);if(f){r[f]=Zd(c),delete r[d];return}const p=t?XR(d):String(d).trim();p!==d&&delete r[d],r[p]=Zd(c),a[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return pe.forEach(this,(a,c)=>{a!=null&&a!==!1&&(r[c]=t&&pe.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(c=>a.set(c)),a}static accessor(t){const a=(this[fy]=this[fy]={accessors:{}}).accessors,c=this.prototype;function d(f){const p=Dc(f);a[p]||(QR(c,f),a[p]=!0)}return pe.isArray(t)?t.forEach(d):d(t),this}};_r.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(_r.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});pe.freezeMethods(_r);function Dm(e,t){const r=this||hu,a=t||r,c=_r.from(a.headers);let d=a.data;return pe.forEach(e,function(p){d=p.call(r,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function e1(e){return!!(e&&e.__CANCEL__)}function $l(e,t,r){Mt.call(this,e??"canceled",Mt.ERR_CANCELED,t,r),this.name="CanceledError"}pe.inherits($l,Mt,{__CANCEL__:!0});function t1(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new Mt("Request failed with status code "+r.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function JR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eL(e,t){e=e||10;const r=new Array(e),a=new Array(e);let c=0,d=0,f;return t=t!==void 0?t:1e3,function(v){const w=Date.now(),_=a[d];f||(f=w),r[c]=v,a[c]=w;let b=d,S=0;for(;b!==c;)S+=r[b++],b=b%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),w-f<t)return;const k=_&&w-_;return k?Math.round(S*1e3/k):void 0}}function tL(e,t){let r=0,a=1e3/t,c,d;const f=(w,_=Date.now())=>{r=_,c=null,d&&(clearTimeout(d),d=null),e(...w)};return[(...w)=>{const _=Date.now(),b=_-r;b>=a?f(w,_):(c=w,d||(d=setTimeout(()=>{d=null,f(c)},a-b)))},()=>c&&f(c)]}const of=(e,t,r=3)=>{let a=0;const c=eL(50,250);return tL(d=>{const f=d.loaded,p=d.lengthComputable?d.total:void 0,v=f-a,w=c(v),_=f<=p;a=f;const b={loaded:f,total:p,progress:p?f/p:void 0,bytes:v,rate:w||void 0,estimated:w&&p&&_?(p-f)/w:void 0,event:d,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(b)},r)},hy=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},my=e=>(...t)=>pe.asap(()=>e(...t)),nL=er.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,er.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,rL=er.hasStandardBrowserEnv?{write(e,t,r,a,c,d){const f=[e+"="+encodeURIComponent(t)];pe.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),pe.isString(a)&&f.push("path="+a),pe.isString(c)&&f.push("domain="+c),d===!0&&f.push("secure"),document.cookie=f.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oL(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function n1(e,t,r){let a=!sL(t);return e&&(a||r==!1)?oL(e,t):t}const py=e=>e instanceof _r?{...e}:e;function ma(e,t){t=t||{};const r={};function a(w,_,b,S){return pe.isPlainObject(w)&&pe.isPlainObject(_)?pe.merge.call({caseless:S},w,_):pe.isPlainObject(_)?pe.merge({},_):pe.isArray(_)?_.slice():_}function c(w,_,b,S){if(pe.isUndefined(_)){if(!pe.isUndefined(w))return a(void 0,w,b,S)}else return a(w,_,b,S)}function d(w,_){if(!pe.isUndefined(_))return a(void 0,_)}function f(w,_){if(pe.isUndefined(_)){if(!pe.isUndefined(w))return a(void 0,w)}else return a(void 0,_)}function p(w,_,b){if(b in t)return a(w,_);if(b in e)return a(void 0,w)}const v={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(w,_,b)=>c(py(w),py(_),b,!0)};return pe.forEach(Object.keys({...e,...t}),function(_){const b=v[_]||c,S=b(e[_],t[_],_);pe.isUndefined(S)&&b!==p||(r[_]=S)}),r}const r1=e=>{const t=ma({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:p}=t;t.headers=f=_r.from(f),t.url=Xb(n1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let v;if(pe.isFormData(r)){if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((v=f.getContentType())!==!1){const[w,..._]=v?v.split(";").map(b=>b.trim()).filter(Boolean):[];f.setContentType([w||"multipart/form-data",..._].join("; "))}}if(er.hasStandardBrowserEnv&&(a&&pe.isFunction(a)&&(a=a(t)),a||a!==!1&&nL(t.url))){const w=c&&d&&rL.read(d);w&&f.set(c,w)}return t},iL=typeof XMLHttpRequest<"u",aL=iL&&function(e){return new Promise(function(r,a){const c=r1(e);let d=c.data;const f=_r.from(c.headers).normalize();let{responseType:p,onUploadProgress:v,onDownloadProgress:w}=c,_,b,S,k,P;function j(){k&&k(),P&&P(),c.cancelToken&&c.cancelToken.unsubscribe(_),c.signal&&c.signal.removeEventListener("abort",_)}let E=new XMLHttpRequest;E.open(c.method.toUpperCase(),c.url,!0),E.timeout=c.timeout;function T(){if(!E)return;const M=_r.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),I={data:!p||p==="text"||p==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:M,config:e,request:E};t1(function(H){r(H),j()},function(H){a(H),j()},I),E=null}"onloadend"in E?E.onloadend=T:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(T)},E.onabort=function(){E&&(a(new Mt("Request aborted",Mt.ECONNABORTED,e,E)),E=null)},E.onerror=function(){a(new Mt("Network Error",Mt.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let O=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const I=c.transitional||Qb;c.timeoutErrorMessage&&(O=c.timeoutErrorMessage),a(new Mt(O,I.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,e,E)),E=null},d===void 0&&f.setContentType(null),"setRequestHeader"in E&&pe.forEach(f.toJSON(),function(O,I){E.setRequestHeader(I,O)}),pe.isUndefined(c.withCredentials)||(E.withCredentials=!!c.withCredentials),p&&p!=="json"&&(E.responseType=c.responseType),w&&([S,P]=of(w,!0),E.addEventListener("progress",S)),v&&E.upload&&([b,k]=of(v),E.upload.addEventListener("progress",b),E.upload.addEventListener("loadend",k)),(c.cancelToken||c.signal)&&(_=M=>{E&&(a(!M||M.type?new $l(null,e,E):M),E.abort(),E=null)},c.cancelToken&&c.cancelToken.subscribe(_),c.signal&&(c.signal.aborted?_():c.signal.addEventListener("abort",_)));const D=JR(c.url);if(D&&er.protocols.indexOf(D)===-1){a(new Mt("Unsupported protocol "+D+":",Mt.ERR_BAD_REQUEST,e));return}E.send(d||null)})},lL=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,c;const d=function(w){if(!c){c=!0,p();const _=w instanceof Error?w:this.reason;a.abort(_ instanceof Mt?_:new $l(_ instanceof Error?_.message:_))}};let f=t&&setTimeout(()=>{f=null,d(new Mt(`timeout ${t} of ms exceeded`,Mt.ETIMEDOUT))},t);const p=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(w=>{w.unsubscribe?w.unsubscribe(d):w.removeEventListener("abort",d)}),e=null)};e.forEach(w=>w.addEventListener("abort",d));const{signal:v}=a;return v.unsubscribe=()=>pe.asap(p),v}},cL=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,c;for(;a<r;)c=a+t,yield e.slice(a,c),a=c},uL=async function*(e,t){for await(const r of dL(e))yield*cL(r,t)},dL=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},gy=(e,t,r,a)=>{const c=uL(e,t);let d=0,f,p=v=>{f||(f=!0,a&&a(v))};return new ReadableStream({async pull(v){try{const{done:w,value:_}=await c.next();if(w){p(),v.close();return}let b=_.byteLength;if(r){let S=d+=b;r(S)}v.enqueue(new Uint8Array(_))}catch(w){throw p(w),w}},cancel(v){return p(v),c.return()}},{highWaterMark:2})},If=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",s1=If&&typeof ReadableStream=="function",fL=If&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),o1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},hL=s1&&o1(()=>{let e=!1;const t=new Request(er.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),vy=64*1024,vp=s1&&o1(()=>pe.isReadableStream(new Response("").body)),af={stream:vp&&(e=>e.body)};If&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!af[t]&&(af[t]=pe.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new Mt(`Response type '${t}' is not supported`,Mt.ERR_NOT_SUPPORT,a)})})})(new Response);const mL=async e=>{if(e==null)return 0;if(pe.isBlob(e))return e.size;if(pe.isSpecCompliantForm(e))return(await new Request(er.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(e)||pe.isArrayBuffer(e))return e.byteLength;if(pe.isURLSearchParams(e)&&(e=e+""),pe.isString(e))return(await fL(e)).byteLength},pL=async(e,t)=>{const r=pe.toFiniteNumber(e.getContentLength());return r??mL(t)},gL=If&&(async e=>{let{url:t,method:r,data:a,signal:c,cancelToken:d,timeout:f,onDownloadProgress:p,onUploadProgress:v,responseType:w,headers:_,withCredentials:b="same-origin",fetchOptions:S}=r1(e);w=w?(w+"").toLowerCase():"text";let k=lL([c,d&&d.toAbortSignal()],f),P;const j=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let E;try{if(v&&hL&&r!=="get"&&r!=="head"&&(E=await pL(_,a))!==0){let I=new Request(t,{method:"POST",body:a,duplex:"half"}),Z;if(pe.isFormData(a)&&(Z=I.headers.get("content-type"))&&_.setContentType(Z),I.body){const[H,ne]=hy(E,of(my(v)));a=gy(I.body,vy,H,ne)}}pe.isString(b)||(b=b?"include":"omit");const T="credentials"in Request.prototype;P=new Request(t,{...S,signal:k,method:r.toUpperCase(),headers:_.normalize().toJSON(),body:a,duplex:"half",credentials:T?b:void 0});let D=await fetch(P,S);const M=vp&&(w==="stream"||w==="response");if(vp&&(p||M&&j)){const I={};["status","statusText","headers"].forEach(V=>{I[V]=D[V]});const Z=pe.toFiniteNumber(D.headers.get("content-length")),[H,ne]=p&&hy(Z,of(my(p),!0))||[];D=new Response(gy(D.body,vy,H,()=>{ne&&ne(),j&&j()}),I)}w=w||"text";let O=await af[pe.findKey(af,w)||"text"](D,e);return!M&&j&&j(),await new Promise((I,Z)=>{t1(I,Z,{data:O,headers:_r.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:P})})}catch(T){throw j&&j(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,e,P),{cause:T.cause||T}):Mt.from(T,T&&T.code,e,P)}}),xp={http:MR,xhr:aL,fetch:gL};pe.forEach(xp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xy=e=>`- ${e}`,vL=e=>pe.isFunction(e)||e===null||e===!1,i1={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let r,a;const c={};for(let d=0;d<t;d++){r=e[d];let f;if(a=r,!vL(r)&&(a=xp[(f=String(r)).toLowerCase()],a===void 0))throw new Mt(`Unknown adapter '${f}'`);if(a)break;c[f||"#"+d]=a}if(!a){const d=Object.entries(c).map(([p,v])=>`adapter ${p} `+(v===!1?"is not supported by the environment":"is not available in the build"));let f=t?d.length>1?`since :
`+d.map(xy).join(`
`):" "+xy(d[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a},adapters:xp};function Om(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $l(null,e)}function yy(e){return Om(e),e.headers=_r.from(e.headers),e.data=Dm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),i1.getAdapter(e.adapter||hu.adapter)(e).then(function(a){return Om(e),a.data=Dm.call(e,e.transformResponse,a),a.headers=_r.from(a.headers),a},function(a){return e1(a)||(Om(e),a&&a.response&&(a.response.data=Dm.call(e,e.transformResponse,a.response),a.response.headers=_r.from(a.response.headers))),Promise.reject(a)})}const a1="1.11.0",Ff={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ff[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const wy={};Ff.transitional=function(t,r,a){function c(d,f){return"[Axios v"+a1+"] Transitional option '"+d+"'"+f+(a?". "+a:"")}return(d,f,p)=>{if(t===!1)throw new Mt(c(f," has been removed"+(r?" in "+r:"")),Mt.ERR_DEPRECATED);return r&&!wy[f]&&(wy[f]=!0,console.warn(c(f," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(d,f,p):!0}};Ff.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function xL(e,t,r){if(typeof e!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const d=a[c],f=t[d];if(f){const p=e[d],v=p===void 0||f(p,d,e);if(v!==!0)throw new Mt("option "+d+" must be "+v,Mt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Mt("Unknown option "+d,Mt.ERR_BAD_OPTION)}}const qd={assertOptions:xL,validators:Ff},$s=qd.validators;let la=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dy,response:new dy}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ma(this.defaults,r);const{transitional:a,paramsSerializer:c,headers:d}=r;a!==void 0&&qd.assertOptions(a,{silentJSONParsing:$s.transitional($s.boolean),forcedJSONParsing:$s.transitional($s.boolean),clarifyTimeoutError:$s.transitional($s.boolean)},!1),c!=null&&(pe.isFunction(c)?r.paramsSerializer={serialize:c}:qd.assertOptions(c,{encode:$s.function,serialize:$s.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),qd.assertOptions(r,{baseUrl:$s.spelling("baseURL"),withXsrfToken:$s.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=d&&pe.merge(d.common,d[r.method]);d&&pe.forEach(["delete","get","head","post","put","patch","common"],P=>{delete d[P]}),r.headers=_r.concat(f,d);const p=[];let v=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(v=v&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const w=[];this.interceptors.response.forEach(function(j){w.push(j.fulfilled,j.rejected)});let _,b=0,S;if(!v){const P=[yy.bind(this),void 0];for(P.unshift(...p),P.push(...w),S=P.length,_=Promise.resolve(r);b<S;)_=_.then(P[b++],P[b++]);return _}S=p.length;let k=r;for(b=0;b<S;){const P=p[b++],j=p[b++];try{k=P(k)}catch(E){j.call(this,E);break}}try{_=yy.call(this,k)}catch(P){return Promise.reject(P)}for(b=0,S=w.length;b<S;)_=_.then(w[b++],w[b++]);return _}getUri(t){t=ma(this.defaults,t);const r=n1(t.baseURL,t.url,t.allowAbsoluteUrls);return Xb(r,t.params,t.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(t){la.prototype[t]=function(r,a){return this.request(ma(a||{},{method:t,url:r,data:(a||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function r(a){return function(d,f,p){return this.request(ma(p||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}la.prototype[t]=r(),la.prototype[t+"Form"]=r(!0)});let yL=class l1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(c=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](c);a._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(p=>{a.subscribe(p),d=p}).then(c);return f.cancel=function(){a.unsubscribe(d)},f},t(function(d,f,p){a.reason||(a.reason=new $l(d,f,p),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new l1(function(c){t=c}),cancel:t}}};function wL(e){return function(r){return e.apply(null,r)}}function _L(e){return pe.isObject(e)&&e.isAxiosError===!0}const yp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yp).forEach(([e,t])=>{yp[t]=e});function c1(e){const t=new la(e),r=$b(la.prototype.request,t);return pe.extend(r,la.prototype,t,{allOwnKeys:!0}),pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(c){return c1(ma(e,c))},r}const Pn=c1(hu);Pn.Axios=la;Pn.CanceledError=$l;Pn.CancelToken=yL;Pn.isCancel=e1;Pn.VERSION=a1;Pn.toFormData=Of;Pn.AxiosError=Mt;Pn.Cancel=Pn.CanceledError;Pn.all=function(t){return Promise.all(t)};Pn.spread=wL;Pn.isAxiosError=_L;Pn.mergeConfig=ma;Pn.AxiosHeaders=_r;Pn.formToJSON=e=>Jb(pe.isHTMLForm(e)?new FormData(e):e);Pn.getAdapter=i1.getAdapter;Pn.HttpStatusCode=yp;Pn.default=Pn;const{Axios:XL,AxiosError:QL,CanceledError:JL,isCancel:eA,CancelToken:tA,VERSION:nA,all:rA,Cancel:sA,isAxiosError:oA,spread:iA,toFormData:aA,AxiosHeaders:lA,HttpStatusCode:cA,formToJSON:uA,getAdapter:dA,mergeConfig:fA}=Pn;function bL(){g.useEffect(()=>{console.log(" Device Detection:",{isMobile:Ne(),userAgent:navigator.userAgent,platform:navigator.platform})},[]);const e=N0(),{employeeId:t}=JE(),{toast:r}=_o(),[a,c]=g.useState(null),[d,f]=g.useState([]),[p,v]=g.useState([]),[w,_]=g.useState(!0),[b,S]=g.useState(!0),[k,P]=g.useState(!1),[j,E]=g.useState(!1),[T,D]=g.useState(!1),[M,O]=g.useState(null),[I,Z]=g.useState(null),[H,ne]=g.useState(!1),[V,Y]=g.useState(!1),[te,fe]=g.useState(!1),[Ie,he]=g.useState({}),[Be,ee]=g.useState(!1),[xe,U]=g.useState([]),[ue,oe]=g.useState(!1),[z,J]=g.useState(null),Ne=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),ke=(F=0)=>{const Q=Ne(),de=(Q?15e3:1e4)+F*(Q?5e3:3e3);return{enableHighAccuracy:Q,maximumAge:Q?0:3e4,timeout:de}},Se=async(F,Q)=>{if(!Ne())return`${F.toFixed(6)}, ${Q.toFixed(6)}`;try{const de=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${F}&lon=${Q}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});if(de.ok)return(await de.json()).display_name||`${F.toFixed(6)}, ${Q.toFixed(6)}`}catch(de){console.warn("Address lookup failed:",de)}return`${F.toFixed(6)}, ${Q.toFixed(6)}`},$=async()=>{console.log(" Opening Duty Completed modal"),ee(!0),oe(!0);try{const F=new Date;F.setHours(0,0,0,0);const Q=new Date(F);Q.setDate(Q.getDate()+1),console.log(" Fetching meetings for date range:",{start:F.toISOString(),end:Q.toISOString()});let ve;try{if(ve=await pt.get(`/api/meetings/today?employeeId=${t}`),ve.ok){const de=await ve.json();console.log(" Today's meetings data from dedicated endpoint:",de);const Re=de.meetings.map((Me,$e)=>{const st=Me.startTime&&Me.endTime?Math.floor((new Date(Me.endTime).getTime()-new Date(Me.startTime).getTime())/36e5*10)/10:0;return{serialNumber:$e+1,companyName:Me.clientName||"Unknown",attendanceStatus:"",totalDutyHours:st}});U(Re),r({title:"Today's Summary Loaded",description:`${de.summary.totalMeetings} meetings, ${de.summary.totalDutyHours} hours total`});return}}catch(de){console.warn(" Dedicated endpoint failed, falling back to existing API:",de)}if(console.log(" Using existing meetings API with date filtering..."),ve=await pt.get(`/api/meetings?employeeId=${t}&startDate=${F.toISOString()}&endDate=${Q.toISOString()}&limit=50`),ve.ok){const de=await ve.json();console.log(" Meetings data from existing API:",de);const Re=de.meetings.filter(Ve=>{const He=new Date(Ve.startTime);return He>=F&&He<Q}),Me=Re.map((Ve,He)=>{const at=Ve.startTime&&Ve.endTime?Math.floor((new Date(Ve.endTime).getTime()-new Date(Ve.startTime).getTime())/36e5*10)/10:0;return{serialNumber:He+1,companyName:Ve.clientName||"Unknown",attendanceStatus:"",totalDutyHours:at}});U(Me);const $e=Re.filter(Ve=>Ve.status==="completed"&&Ve.endTime),st=Me.reduce((Ve,He)=>Ve+(He.totalDutyHours||0),0);r({title:"Today's Summary Loaded",description:`${Re.length} meetings, ${st.toFixed(1)} hours total`})}else throw console.error("Failed to fetch meetings from existing API:",ve.status),new Error(`API returned ${ve.status}`)}catch(F){console.error("Error fetching today's meetings:",F),r({title:"Error Loading Data",description:"Failed to load today's meeting data. Using cached data.",variant:"destructive"});const Q=new Date;Q.setHours(0,0,0,0);const ve=new Date(Q);ve.setDate(ve.getDate()+1);const Re=d.filter(Me=>{const $e=new Date(Me.startTime);return $e>=Q&&$e<ve}).map((Me,$e)=>({serialNumber:$e+1,companyName:Me.clientName||"Unknown",attendanceStatus:"",totalDutyHours:Me.startTime&&Me.endTime?Math.floor((new Date(Me.endTime).getTime()-new Date(Me.startTime).getTime())/(1e3*60*60)*10)/10:0}));U(Re)}finally{oe(!1)}};g.useEffect(()=>{console.log(" startedMeetingMap updated:",Ie)},[Ie]);const[K,ae]=g.useState(null),[_e,Te]=g.useState({}),[We,Ze]=g.useState(new Set),[nt,Et]=g.useState(0);g.useEffect(()=>{console.log(" Meetings state changed:",{count:d.length,meetings:d.map(F=>({id:F.id,status:F.status,client:F.clientName})),hasActive:d.some(F=>F.status==="in-progress"||F.status==="started")})},[d]),g.useEffect(()=>{if(!t){console.error(" No employee ID in URL - access denied"),r({title:"Access Denied",description:"Please access the tracking page with a valid employee ID",variant:"destructive"});return}console.log(" Loading tracking page for employee:",t),(async()=>{try{await Promise.all([ye(),Ge()])}catch(Q){console.error("Failed to initialize tracking data:",Q)}})()},[t,e]);const ye=async(F=0)=>{try{console.log("Fetching employee:",{employeeId:t,retryCount:F});const Q=await pt.get(`/api/employees/${t}`);if(Q.ok)try{const ve=Q.headers.get("content-type");if(ve&&ve.includes("application/json")){const de=await Q.json();c(de),console.log("Employee data fetched successfully:",de)}else{const de=await Q.text();console.error("Server returned non-JSON response:",de.substring(0,200)),c(null)}}catch(ve){console.error("Error parsing employee response:",ve),c(null)}else console.error(`Failed to fetch employee: ${Q.status} ${Q.statusText}`),c(null)}catch(Q){if(console.error("Error fetching employee:",Q),F<1&&Q instanceof TypeError&&(Q.message.includes("fetch")||Q.message.includes("body stream"))){console.log("Retrying employee fetch after network error..."),setTimeout(()=>ye(F+1),2e3);return}c(null)}},Ge=async(F=0)=>{try{console.log(" Fetching meetings:",{employeeId:t,retryCount:F});const Q=await pt.get(`/api/meetings?employeeId=${t}&limit=5`);if(Q.ok)try{const ve=Q.headers.get("content-type");if(ve&&ve.includes("application/json")){const Re=(await Q.json()).meetings||[];f(Re),console.log(" Meetings data fetched successfully:",{count:Re.length,meetings:Re.map($e=>({id:$e.id,status:$e.status,followUpId:$e.followUpId,client:$e.clientName}))});const Me=Re.filter($e=>$e.status==="in-progress"||$e.status==="started");if(Me.length>0){console.log(" Found active meetings after refresh:",Me.map(st=>({id:st.id,followUpId:st.followUpId})));const $e={};Me.forEach(st=>{st.followUpId&&(console.log(" Restoring startedMeetingMap for follow-up meeting:",st.followUpId,"->",st.id),$e[st.followUpId]=st.id)}),Object.keys($e).length>0&&he(st=>({...st,...$e})),O(Me[0].id)}else console.log(" No active meetings found"),O(null)}else{const de=await Q.text();console.error("Server returned non-JSON response for meetings:",de.substring(0,200)),f([])}}catch(ve){console.error("Error parsing meetings response:",ve),f([])}else console.error(`Failed to fetch meetings: ${Q.status} ${Q.statusText}`),f([])}catch(Q){if(console.error("Error fetching meetings:",Q),F<1&&Q instanceof TypeError&&(Q.message.includes("fetch")||Q.message.includes("body stream"))){console.log("Retrying meetings fetch after network error..."),setTimeout(()=>Ge(F+1),2e3);return}f([])}finally{_(!1)}},q=F=>{console.log("Today's follow-up meetings fetched:",F.length),v(F)},me=F=>{console.log(" Attempting to start meeting from follow-up:",F.companyName),console.log(" Current meetings:",d.map(de=>({id:de.id,status:de.status,client:de.clientName}))),console.log(" Total meetings:",d.length);const Q=d.find(de=>de.status==="in-progress"||de.status==="started");if(console.log(" Active meeting check result:",Q?`Found: ${Q.id}`:"None"),Q){console.log(" BLOCKED: Active meeting exists:",Q.id),r({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting found, proceeding to start...");const ve={clientName:F.companyName,reason:`Follow-up meeting - ${F.type}`,notes:F.remark||`Meeting with ${F.customerName} from ${F.companyName}`,leadId:F.leadId,leadInfo:{id:F.leadId,companyName:F.companyName,contactName:F.customerName}};Je(ve,F._id)},be=(F,Q,ve)=>{console.log("Location updated:",{lat:F,lng:Q,accuracy:ve}),ye()},we=(F,Q,ve)=>{const de=`https://www.google.com/maps?q=${F},${Q}`,Re=`https://maps.apple.com/?q=${F},${Q}`;/iPad|iPhone|iPod/.test(navigator.userAgent)?window.open(Re,"_blank"):window.open(de,"_blank")},Ye=F=>{window.location.href=`tel:${F}`},ot=(F,Q)=>{const ve=encodeURIComponent(`Regarding Field Operations - ${Q}`),de=encodeURIComponent(`Hi ${Q.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${F}?subject=${ve}&body=${de}`},it=(F,Q)=>{const ve=encodeURIComponent(`Hi ${Q.split(" ")[0]}, checking in on your current location and status.`);window.location.href=`sms:${F}?body=${ve}`},[Vt,wt]=g.useState(null),_t=F=>{console.log("handleEndMeetingClick called with meetingId:",F),O(F),D(!0)},Bt=async(F,Q)=>{console.log(" handleEndMeetingFromFollowUp called with:",{followUpId:F,meetingId:Q}),console.log(" Fetching active meeting from local database AND external API..."),r({title:"Loading Meeting Data",description:"Searching for active meeting..."});let ve=Q,de=null;try{if(!ve||ve===""){if(console.log(" Step 1: Checking local database..."),F)try{console.log(" Querying local database by followUpId:",F);const Me=await pt.get(`/api/meetings/active?followUpId=${F}`);Me.ok?(de=await Me.json(),ve=de.id,console.log(" Found active meeting in LOCAL DATABASE:",ve)):console.warn(" Not found in local database by followUpId (404)")}catch(Me){console.warn(" Error querying local database by followUpId:",Me)}if(!ve&&t)try{console.log(" Querying local database by employeeId:",t);const Me=await pt.get(`/api/meetings/active?employeeId=${t}`);Me.ok?(de=await Me.json(),ve=de.id,console.log(" Found active meeting in LOCAL DATABASE:",ve)):console.warn(" Not found in local database by employeeId (404)")}catch(Me){console.warn(" Error querying local database by employeeId:",Me)}console.log(" Step 1 complete. finalMeetingId:",ve||"not found")}if((!ve||ve==="")&&(console.log(" Step 2: Not found in local database, checking external API..."),t))try{const st=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${t}`;console.log(" Querying external API:",st);const Ve=await fetch(st);if(Ve.ok){const He=await Ve.json();console.log(" External API returned",He.length,"follow-ups");const at=He.find(rt=>rt.meetingStatus==="meeting on-going"||rt.meetingStatus==="In Progress"||rt.meetingStatus==="IN_PROGRESS"||rt.meetingStatus==="Started");if(at){console.log(" Found ongoing meeting in EXTERNAL API:",at._id),console.log(" External meeting data:",{id:at._id,status:at.meetingStatus,company:at.companyName,customer:at.customerName});let rt=!1;try{const Ht=await pt.get(`/api/meetings/active?followUpId=${at._id}`);Ht.ok&&(de=await Ht.json(),ve=de.id,rt=!0,console.log(" Found corresponding meeting in local database:",ve))}catch(Ht){console.warn(" Error searching local database (404 expected):",Ht.message)}if(!rt&&!ve){console.warn(" External API shows ongoing meeting, but not found in local database"),console.warn(" Creating meeting in local database from external API data...");try{if(!a)console.error(" Cannot create meeting: No employee data");else{const Ht=await pt.post("/api/meetings",{employeeId:a.id,location:{lat:a.location.lat,lng:a.location.lng,address:a.location.address},clientName:at.companyName,notes:`Recovered meeting from external API - ${at.type}: ${at.remark}`,followUpId:at._id,leadId:at.leadId||void 0,externalMeetingStatus:at.meetingStatus});Ht.ok?(de=await Ht.json(),ve=de.id,console.log(" Successfully created meeting in local database:",ve),console.log(" Meeting recovered from external API")):console.error(" Failed to create meeting in local database")}}catch(Ht){console.error(" Error creating meeting in local database:",Ht)}}}else console.warn(" No ongoing meetings found in external API"),console.log("Available meetings:",He.map(rt=>({id:rt._id,status:rt.meetingStatus,company:rt.companyName})))}else console.error(" External API request failed:",Ve.status)}catch(Me){console.error(" Error querying external API:",Me)}if(!ve||ve===""){console.error(" No active meeting found in LOCAL DATABASE or EXTERNAL API!"),console.error("Searched with:",{followUpId:F,employeeId:t}),r({title:"No Active Meeting",description:"No active meeting found. The meeting may not have been saved properly when started.",variant:"destructive"});return}console.log(" Final meeting ID:",ve),de&&(console.log(" Updating local state with meeting data..."),f(Me=>Me.find(st=>st.id===de.id)?(console.log(" Meeting already in local state"),Me):(console.log(" Adding meeting to local state"),[de,...Me])),de.followUpId&&(console.log(" Restoring startedMeetingMap:",{[de.followUpId]:de.id}),he(Me=>({...Me,[de.followUpId]:de.id}))));let Re=_e[ve];!Re&&F&&(Re=p.find(Me=>Me._id===F),console.log(" Found follow-up data from todaysFollowUpMeetings:",!!Re)),!Re&&(de!=null&&de.followUpId)&&(Re=p.find(Me=>Me._id===de.followUpId),console.log(" Found follow-up data by activeMeetingData.followUpId:",!!Re)),Re?(console.log(" Setting follow-up data for modal:",{company:Re.companyName,customer:Re.customerName}),ae(Re)):(console.warn(" No follow-up data found for meeting:",ve),console.warn("Modal will open without pre-filled customer data")),console.log(" Opening End Meeting modal with meeting ID:",ve),O(ve),D(!0)}catch(Re){console.error(" Error in handleEndMeetingFromFollowUp:",Re),r({title:"Error",description:"Failed to load meeting data from database. Please try again.",variant:"destructive"})}},qt=()=>{console.log("End meeting attempt. Employee status:",a==null?void 0:a.status,"Available meetings:",d);const F=d.find(Q=>Q.status==="in-progress"||Q.status==="started");F?_t(F.id):(console.error("No active meeting found to end. Available meetings:",d),r({title:"No Active Meeting",description:"No active meeting found for this employee. Please start a meeting first.",variant:"destructive"}))},Xt=async F=>{var st;console.log(" handleEndMeetingWithDetails called with:",{activeMeetingId:M,meetingDetails:F,hasCustomers:((st=F.customers)==null?void 0:st.length)>0,hasDiscussion:!!F.discussion});const Q=new Date().toISOString();if(console.log(" Meeting end time captured:",Q),!Q||Q.length===0){console.error(" CRITICAL ERROR: Failed to capture end time!"),r({title:"Error",description:"Failed to capture end time. Please try again.",variant:"destructive"});return}let ve=M;if(!ve){console.error(" Cannot end meeting: No activeMeetingId set!"),r({title:"Error",description:"No active meeting found. Please try again.",variant:"destructive"});return}const de=d.find(Ve=>Ve.id===ve);if(!de){console.error(" Cannot find current meeting in local state:",ve),r({title:"Error",description:"Meeting data not found. Please refresh and try again.",variant:"destructive"});return}const Re=new Date(de.startTime).getTime(),$e=new Date(Q).getTime()-Re;if(console.log(" TIME VALIDATION:",{startTime:de.startTime,endTime:Q,durationMs:$e,durationMinutes:Math.round($e/(1e3*60))}),$e<3e4&&(console.warn(" WARNING: Meeting duration is very short:",$e,"ms"),$e<=0)){console.error(" CRITICAL ERROR: End time is not after start time!");const Ve=new Date(Re+6e4).toISOString();console.log(" FIXED: Using buffered end time:",Ve)}wt(ve);try{console.log("Ending meeting with details:",M,F);let Ve=null;const He=3;let at=0;for(;at<He&&!Ve;)try{if(console.log(` Attempt ${at+1}/${He}: Fetching location for meeting end...`),at===0){const Ct=Ne();r({title:Ct?"Getting GPS Location...":"Approximating Location...",description:Ct?"Using GPS for precise location":"Using network-based location (faster)"})}if(!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const Ct=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",Ct.state),Ct.state==="denied"){r({title:"Location Permission Denied",description:"Please enable location access in your browser settings and try again.",variant:"destructive"}),wt(null);return}Ct.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}const De=await new Promise((Ct,Yt)=>{const xa=15e3+at*5e3;navigator.geolocation.getCurrentPosition(Ct,Yt,{enableHighAccuracy:!0,maximumAge:0,timeout:xa})});let ft=`${De.coords.latitude.toFixed(6)}, ${De.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address..."),ft=await Se(De.coords.latitude,De.coords.longitude),console.log(" Address resolved:",ft)}catch(Ct){console.warn(" Failed to get address, using coordinates:",Ct),ft=`${De.coords.latitude.toFixed(6)}, ${De.coords.longitude.toFixed(6)}`}Ve={lat:De.coords.latitude,lng:De.coords.longitude,address:ft,timestamp:Q},console.log(" Fresh end location obtained:",Ve),r({title:"Location Obtained",description:"Ending meeting..."})}catch(De){at++,console.error(` Location fetch attempt ${at} failed:`,De);const ft=Ne(),Ct=ft?3:1;if(at<Ct)r({title:"Retrying Location",description:`Attempt ${at+1}/${Ct}. ${ft?"Ensure GPS is enabled":"Checking network location..."}`}),await new Promise(Yt=>setTimeout(Yt,ft?1e3:500));else{const Yt=De instanceof GeolocationPositionError?De.code===1?"Location permission denied. Please enable location in your browser settings.":De.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";r({title:"Location Required",description:Yt,variant:"destructive"}),wt(null);return}}if(!Ve){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),wt(null);return}console.log(" Sending PUT request to:",`/api/meetings/${ve}`);const rt=d.find(De=>De.id===ve);if(!rt){console.error(" Cannot find current meeting in local state:",ve),r({title:"Error",description:"Meeting data not found. Please refresh and try again.",variant:"destructive"}),wt(null);return}console.log(" Current meeting data:",{id:rt.id,startTime:rt.startTime,clientName:rt.clientName,status:rt.status});const Ht={status:"completed",endTime:Q,meetingDetails:F,location:{...rt.location,endLocation:{lat:Ve.lat,lng:Ve.lng,address:Ve.address,timestamp:Ve.timestamp}}};console.log(" Update payload (preserving original startTime):",Ht);const on=await pt.put(`/api/meetings/${ve}`,Ht);if(on.ok){console.log("Meeting ended successfully");const De=Object.keys(Ie).find(ft=>Ie[ft]===ve);if(De&&(console.log(" Optimistically updating local meeting status to complete for:",De),v(ft=>{const Ct=ft.map(Yt=>Yt._id===De?{...Yt,meetingStatus:"complete"}:Yt);return console.log(" Optimistic update applied. Meeting should now show as Complete"),console.log(" Updated meetings:",Ct.map(Yt=>({id:Yt._id,company:Yt.companyName,status:Yt.meetingStatus}))),Ct})),De&&(console.log(" Clearing startedMeetingMap for instant UI update:",De),he(ft=>{const Ct={...ft};return delete Ct[De],console.log(" StartedMeetingMap cleared. Button should now show Complete"),Ct})),De)try{console.log("Updating follow-up status for:",De);const ft=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${De}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"complete"})});ft.ok?console.log(" Follow-up meeting status updated to 'complete' in external API"):(console.error(" Failed to update follow-up status:",ft.status),console.log(" Rolling back optimistic update due to API failure"),v(Ct=>Ct.map(Yt=>Yt._id===De?{...Yt,meetingStatus:"In Progress"}:Yt)),he(Ct=>({...Ct,[De]:ve})))}catch(ft){console.error(" Error updating follow-up status:",ft),console.log(" Rolling back optimistic update due to API error"),v(Ct=>Ct.map(Yt=>Yt._id===De?{...Yt,meetingStatus:"In Progress"}:Yt)),he(Ct=>({...Ct,[De]:ve}))}try{const ft=d.find(Yt=>Yt.id===ve);console.log("Attempting to add meeting to history with details:",{sessionId:(I==null?void 0:I.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:F,leadId:ft==null?void 0:ft.leadId,leadInfo:ft==null?void 0:ft.leadInfo});const Ct=await pt.post("/api/meeting-history",{sessionId:(I==null?void 0:I.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:F,leadId:ft==null?void 0:ft.leadId,leadInfo:ft==null?void 0:ft.leadInfo});if(Ct.ok){const Yt=await Ct.json();console.log("Meeting added to history successfully:",Yt)}else{const Yt=await Ct.text();console.error("Failed to add meeting to history:",Ct.status,Yt)}}catch(ft){console.error("Error adding meeting to history:",ft)}Te(ft=>{const Ct={...ft};return delete Ct[ve],Ct}),Ze(ft=>{const Ct=new Set(ft);return Ct.delete(ve),Ct}),setTimeout(()=>{Et(ft=>ft+1)},500),await pt.put(`/api/employees/${t}/status`,{status:"active"}),await Promise.all([Ge(),ye()])}else{const De=await on.text();throw console.error("Failed to end meeting:",on.status,De),new Error(`Failed to end meeting: ${De}`)}}catch(Ve){throw console.error("Error ending meeting:",Ve),Ve}finally{wt(null),O(null)}},Gt=async F=>{if(!a)return;const Q=new Date().toISOString();console.log(" Meeting start time captured:",Q),E(!0);try{let ve=null;const de=3;let Re=0;for(;Re<de&&!ve;)try{if(console.log(` Attempt ${Re+1}/${de}: Fetching location for meeting start...`),Re===0){const He=Ne();r({title:He?"Getting GPS Location...":"Approximating Location...",description:He?"Using GPS for precise location":"Using network-based location (faster)"})}if(!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const He=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",He.state),He.state==="denied"){r({title:"Location Permission Denied",description:"Please enable location access in your browser settings and try again.",variant:"destructive"}),E(!1);return}He.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}let $e;!Ne()&&z?Date.now()-z.timestamp<12e4?(console.log(" Using cached location for desktop start meeting"),$e=z,r({title:"Using Recent Location",description:"Using location from 2 minutes ago (desktop optimization)"})):($e=await new Promise((at,rt)=>{const Ht=ke(Re);console.log("Desktop location settings:",Ht),navigator.geolocation.getCurrentPosition(at,rt,Ht)}),J($e)):$e=await new Promise((He,at)=>{const rt=ke(Re);console.log("Mobile location settings:",rt),navigator.geolocation.getCurrentPosition(He,at,rt)});let Ve=`${$e.coords.latitude.toFixed(6)}, ${$e.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address..."),Ve=await Se($e.coords.latitude,$e.coords.longitude),console.log(" Address resolved:",Ve)}catch(He){console.warn(" Failed to get address, using coordinates:",He),Ve=`${$e.coords.latitude.toFixed(6)}, ${$e.coords.longitude.toFixed(6)}`}ve={lat:$e.coords.latitude,lng:$e.coords.longitude,address:Ve},console.log(" Fresh start location obtained:",ve),r({title:"Location Obtained",description:"Starting meeting..."})}catch($e){Re++,console.error(` Location fetch attempt ${Re} failed:`,$e);const st=Ne(),Ve=st?3:1;if(Re<Ve)r({title:"Retrying Location",description:`Attempt ${Re+1}/${Ve}. ${st?"Ensure GPS is enabled":"Checking network location..."}`}),await new Promise(He=>setTimeout(He,st?1e3:500));else{const He=$e instanceof GeolocationPositionError?$e.code===1?"Location permission denied. Please enable location in your browser settings.":$e.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";r({title:"Location Required",description:He,variant:"destructive"}),E(!1);return}}if(!ve){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),E(!1);return}const Me=await pt.post("/api/meetings",{employeeId:a.id,location:ve,clientName:F.clientName,notes:`${F.reason}${F.notes?` - ${F.notes}`:""}`,leadId:F.leadId,leadInfo:F.leadInfo,startTime:Q});if(Me.ok){const $e=await Me.json();console.log(" Meeting created successfully:",{id:$e.id,clientName:$e.clientName,status:$e.status,startTime:$e.startTime,location:$e.location}),f(st=>{console.log(" Adding meeting to state:",{id:$e.id,clientName:$e.clientName,status:$e.status}),console.log(" Previous meetings count:",st.length);const Ve=[$e,...st];return console.log(" New meetings count:",Ve.length),Ve}),await Pn.put(`/api/employees/${t}/status`,{status:"meeting"}),ye(),P(!1),r({title:"Meeting Started",description:`Meeting with ${F.clientName} has been started`}),console.log(" Meeting started successfully - UI should now show End Meeting button")}else{const $e=await Me.json().catch(()=>({error:"Failed to start meeting"}));r({title:"Cannot Start Meeting",description:$e.error||"Failed to start meeting",variant:"destructive"})}}catch(ve){console.error("Error starting meeting:",ve),r({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{E(!1)}},Je=async(F,Q)=>{if(!a)return;const ve=new Date().toISOString();console.log(" Follow-up meeting start time captured:",ve),E(!0);try{const de=p.find(He=>He._id===Q);console.log(" Storing follow-up data for meeting:",de);let Re=null;const Me=Ne(),$e=Me?3:1;let st=0;for(;st<$e&&!Re;)try{if(console.log(` Attempt ${st+1}/${$e}: Fetching location for meeting start...`),st===0&&r({title:Me?"Getting GPS Location...":"Approximating Location...",description:Me?"Using GPS for precise location":"Using network-based location (faster)"}),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const rt=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",rt.state),rt.state==="denied"){r({title:"Location Permission Denied",description:"Please enable location access in your browser settings and try again.",variant:"destructive"}),E(!1);return}rt.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}let He;!Me&&z?Date.now()-z.timestamp<12e4?(console.log(" Using cached location for desktop follow-up meeting"),He=z,r({title:"Using Recent Location",description:"Using location from 2 minutes ago (desktop optimization)"})):(He=await new Promise((Ht,on)=>{const De=ke(st);console.log("Desktop follow-up location settings:",De),navigator.geolocation.getCurrentPosition(Ht,on,De)}),J(He)):He=await new Promise((rt,Ht)=>{const on=ke(st);console.log("Mobile follow-up location settings:",on),navigator.geolocation.getCurrentPosition(rt,Ht,on)});let at=await Se(He.coords.latitude,He.coords.longitude);Re={lat:He.coords.latitude,lng:He.coords.longitude,address:at},console.log(" Fresh start location obtained:",Re),r({title:"Location Obtained",description:"Starting meeting..."})}catch(He){if(st++,console.error(` Location fetch attempt ${st} failed:`,He),st<$e)r({title:"Retrying Location",description:`Attempt ${st+1}/${$e}. ${Me?"Ensure GPS is enabled":"Checking network location..."}`}),await new Promise(at=>setTimeout(at,Me?1e3:500));else{const at=He instanceof GeolocationPositionError?He.code===1?"Location permission denied. Please enable location in your browser settings.":He.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";r({title:"Location Required",description:at,variant:"destructive"}),E(!1);return}}if(!Re){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),E(!1);return}console.log(" Creating follow-up meeting with payload:",{employeeId:a.id,location:Re,clientName:F.clientName,notes:`${F.reason}${F.notes?` - ${F.notes}`:""}`,leadId:F.leadId,leadInfo:F.leadInfo,followUpId:Q,externalMeetingStatus:"meeting on-going"});const Ve=await pt.post("/api/meetings",{employeeId:a.id,location:Re,clientName:F.clientName,notes:`${F.reason}${F.notes?` - ${F.notes}`:""}`,leadId:F.leadId,leadInfo:F.leadInfo,followUpId:Q,externalMeetingStatus:"meeting on-going",startTime:ve});if(Ve.ok){const He=await Ve.json();console.log(" Follow-up meeting created successfully:",{id:He.id,clientName:He.clientName,status:He.status,startTime:He.startTime,location:He.location,followUpId:He.followUpId});const at={...He,status:"in-progress",startTime:He.startTime||new Date().toISOString(),location:{...He.location,address:He.location.address||Re.address}};f(rt=>(console.log(" Adding follow-up meeting to state:",at.id),console.log(" Meeting details for state:",{id:at.id,clientName:at.clientName,status:at.status,startTime:at.startTime,location:at.location}),[at,...rt])),he(rt=>{const Ht={...rt,[Q]:He.id};return console.log(" Updated startedMeetingMap:",Ht),Ht}),de&&(Te(rt=>({...rt,[He.id]:de})),console.log(" Stored follow-up data for meeting ID:",He.id));try{const rt=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${Q}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"meeting on-going"})});rt.ok?console.log(" Updated follow-up meetingStatus to 'meeting on-going' for:",Q):console.warn(" Failed to update follow-up meetingStatus:",rt.status)}catch(rt){console.error(" Failed to update follow-up meetingStatus to meeting on-going:",rt)}try{await Pn.put(`/api/employees/${t}/status`,{status:"meeting"}),console.log(" Employee status updated to 'meeting'")}catch(rt){console.error(" Failed to update employee status:",rt)}ye(),r({title:"Meeting Started",description:`Meeting with ${F.clientName} has been started`}),console.log(" Follow-up meeting started successfully - should now appear in Recent Meetings")}else{const He=await Ve.json().catch(()=>({error:"Failed to start meeting"}));console.error(" Failed to create follow-up meeting:",He),r({title:"Cannot Start Meeting",description:He.error||"Failed to start meeting",variant:"destructive"})}}catch(de){console.error(" Error starting follow-up meeting:",de),r({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{E(!1)}},nn=()=>{const F=d.find(Q=>Q.status==="in-progress"||Q.status==="started");if(F){console.log("Blocked: Active meeting exists:",{id:F.id,clientName:F.clientName,status:F.status,startTime:F.startTime}),r({title:"Cannot Start Meeting",description:`You already have an active meeting with ${F.clientName}. Please complete it before starting a new one.`,variant:"destructive"});return}console.log(" No active meeting found, opening start meeting modal"),P(!0)},dn=async F=>{Z(F),console.log(" Tracking session started:",F);try{const Q=await pt.post("/api/tracking-sessions",{id:F.id,employeeId:F.employeeId,startTime:F.startTime,startLocation:F.startLocation,route:F.route||[],totalDistance:F.totalDistance||0,status:F.status});if(Q.ok){const ve=await Q.json();console.log(" Tracking session saved to server:",ve)}else console.error(" Failed to save tracking session:",Q.status)}catch(Q){console.error(" Error saving tracking session:",Q)}},Ot=async F=>{Z(F),console.log(" Tracking session ended:",F);try{const Q=await pt.put(`/api/tracking-sessions/${F.id}`,{endTime:F.endTime,endLocation:F.endLocation,route:F.route||[],totalDistance:F.totalDistance||0,duration:F.duration,status:F.status});if(Q.ok){const ve=await Q.json();console.log(" Tracking session updated on server:",ve)}else console.error(" Failed to update tracking session:",Q.status)}catch(Q){console.error(" Error updating tracking session:",Q)}if(console.log("Auto-snapshot conditions:",{hasEmployee:!!a,sessionStatus:F.status,shouldCreateSnapshot:a&&F.status==="completed"}),a&&F.status==="completed")try{console.log("Auto-creating route snapshot for completed tracking session"),await Qt(F)}catch(Q){console.error("Error auto-creating route snapshot:",Q)}else console.log("Skipping auto-snapshot:",{reason:a?F.status!=="completed"?`Session status is ${F.status}`:"Unknown":"No employee data"})},Qt=async F=>{if(!a)return;const Q=()=>{const Ve=[];if(F.route&&Ve.push(...F.route),d.forEach(Ht=>{Ve.push(Ht.location)}),Ve.push(a.location),Ve.length===0)return{north:a.location.lat+.01,south:a.location.lat-.01,east:a.location.lng+.01,west:a.location.lng-.01};const He=Ve.map(Ht=>Ht.lat),at=Ve.map(Ht=>Ht.lng),rt=.005;return{north:Math.max(...He)+rt,south:Math.min(...He)-rt,east:Math.max(...at)+rt,west:Math.min(...at)-rt}},ve=()=>d.map(Ve=>({id:Ve.id,location:Ve.location,clientName:Ve.clientName,startTime:Ve.startTime,endTime:Ve.endTime,status:Ve.status})),de=new Date,Re=de.toLocaleDateString(),Me=de.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),$e=`${a.name} Route - ${Re} ${Me}`,st={employeeId:a.id,employeeName:a.name,trackingSessionId:F.id,title:$e,description:`Auto-captured route snapshot when tracking stopped. Duration: ${Math.round((F.duration||0)/60)} minutes.`,startLocation:F.startLocation,endLocation:F.endLocation,route:F.route||[a.location],meetings:ve(),totalDistance:F.totalDistance||0,duration:F.duration,status:F.status,mapBounds:Q()};try{const Ve=await pt.post("/api/route-snapshots",st);if(Ve.ok){const He=await Ve.json();console.log("Auto-created route snapshot:",He),r({title:"Route Auto-Captured",description:`${He.title} saved successfully`})}else throw new Error("Failed to auto-create route snapshot")}catch(Ve){console.error("Error auto-creating route snapshot:",Ve),r({title:"Auto-capture Failed",description:"Use 'Manual Capture' button to save route",variant:"destructive"})}},Ut=F=>{switch(F){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},Jt=F=>{switch(F){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}};if(w)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading tracking data..."})]})});if(!a)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Employee not found"}),o.jsx(Ce,{asChild:!0,children:o.jsx(Hs,{to:"/",children:"Return to Dashboard"})})]})});const ge=JSON.parse(localStorage.getItem("user")||"{}"),Fe=(ge==null?void 0:ge._id)==="67daa55d9c4abb36045d5bfe";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[Fe&&o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Hs,{to:"/",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:a.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time Tracking"})]}),o.jsx(Ce,{variant:"outline",onClick:$,className:"ml-4",children:"Duty Completed"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>Y(!0),className:"text-primary",children:[o.jsx(Um,{className:"h-4 w-4 mr-1"}),"Manual Capture"]}),o.jsx(Tt,{variant:"secondary",className:`${Ut(a.status)}`,children:Jt(a.status)})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(x_,{userId:t,onStartMeeting:me,startedMeetingMap:Ie,onEndMeetingFromFollowUp:Bt,onMeetingsFetched:q,refreshTrigger:nt,hasActiveMeeting:d.some(F=>F.status==="in-progress"||F.status==="started"),todaysFollowUpMeetings:p}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(DM,{employeeId:a.id,employeeName:a.name,onLocationUpdate:be,trackingEnabled:a.status==="active",onTrackingSessionStart:dn,onTrackingSessionEnd:Ot,todaysMeetings:p}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsxs(At,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Current Location"}),d.find(Q=>Q.status==="in-progress"||Q.status==="started")||a.status==="meeting"?o.jsxs(Ce,{variant:"destructive",size:"sm",onClick:qt,disabled:Vt!==null,children:[o.jsx(Fn,{className:"h-4 w-4 mr-2"}),Vt?"Ending...":"End Meeting"]}):o.jsxs(Ce,{variant:"outline",size:"sm",onClick:nn,children:[o.jsx(Vc,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})}),o.jsxs(vt,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(lr,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:a.location.address}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.location.lat.toFixed(6),","," ",a.location.lng.toFixed(6)]}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[o.jsx(Fn,{className:"h-3 w-3 mr-1"}),"Last updated ",a.lastUpdate]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{variant:"outline",className:"w-full",onClick:()=>S(!b),children:[o.jsx(xo,{className:"h-4 w-4 mr-2"}),b?"Hide Map":"View on Map"]}),o.jsxs(Ce,{variant:"outline",className:"w-full",onClick:()=>we(a.location.lat,a.location.lng,a.location.address),children:[o.jsx(lr,{className:"h-4 w-4 mr-2"}),"Open in Maps App"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>Y(!0),className:"text-primary",children:[o.jsx(Um,{className:"h-4 w-4 mr-2"}),"Manual Capture"]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>fe(!0),children:[o.jsx(hl,{className:"h-4 w-4 mr-2"}),"View History"]})]})]}),b&&a&&o.jsx("div",{className:"mt-4",children:o.jsx(Vp,{employees:[a],height:"300px",trackingSession:I,showRoute:I!==null})})]})]}),o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsxs(At,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Recent Meetings"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Tt,{variant:"secondary",children:d.length}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>ne(!0),children:[o.jsx(os,{className:"h-4 w-4 mr-2"}),"History"]})]})]})}),o.jsx(vt,{children:d.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent meetings"}):o.jsx("div",{className:"space-y-4",children:d.sort((F,Q)=>new Date(Q.startTime).getTime()-new Date(F.startTime).getTime()).map(F=>{var Q;return console.log(" Rendering meeting:",{id:F.id,clientName:F.clientName,status:F.status,startTime:F.startTime,location:F.location,followUpId:F.followUpId}),o.jsxs("div",{className:`border rounded-lg p-3 space-y-2 ${F.status==="in-progress"?"border-warning bg-warning/5":"border-border"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"font-medium",children:[F.clientName||"Unknown Client",F.followUpId&&o.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Follow-up"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Tt,{variant:"secondary",className:F.status==="completed"?"bg-success text-success-foreground":F.status==="in-progress"?"bg-warning text-warning-foreground":"bg-info text-info-foreground",children:F.status}),F.status==="in-progress"&&o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>_t(F.id),disabled:Vt===F.id,children:Vt===F.id?"Ending...":"End Meeting"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(lr,{className:"h-3 w-3 mr-1"}),((Q=F.location)==null?void 0:Q.address)||"Location not available"]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(os,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Started:"}),o.jsx("span",{className:"ml-1",children:F.startTime?op(F.startTime):"Time not available"})]}),F.endTime&&o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(Fn,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Ended:"}),o.jsx("span",{className:"ml-1",children:op(F.endTime)})]}),F.status==="in-progress"&&o.jsxs("p",{className:"text-sm text-success flex items-center",children:[o.jsx(Fn,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Duration:"}),o.jsx("span",{className:"ml-1",children:(()=>{const ve=Date.now()-new Date(F.startTime).getTime(),de=Math.floor(ve/(1e3*60)),Re=Math.floor(de/60),Me=de%60;return Re>0?`${Re}h:${Me.toString().padStart(2,"0")}m`:`${Me}m`})()})]}),F.endTime&&F.status==="completed"&&o.jsxs("p",{className:"text-sm text-info flex items-center",children:[o.jsx(Fn,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Duration:"}),o.jsx("span",{className:"ml-1",children:(()=>{const ve=new Date(F.endTime).getTime()-new Date(F.startTime).getTime(),de=Math.floor(ve/(1e3*60)),Re=Math.floor(de/60),Me=de%60;return Re>0?`${Re}h:${Me.toString().padStart(2,"0")}m`:`${Me}m`})()})]})]}),F.notes&&o.jsx("p",{className:"text-sm",children:F.notes})]},F.id)})})})]}),o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsx(At,{children:"Employee Information"})}),o.jsxs(vt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Name"}),o.jsx("span",{className:"font-medium",children:a.name})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("span",{className:"font-medium",children:a.email})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("span",{className:"font-medium",children:a.phone})]}),a.designation&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Designation"}),o.jsx("span",{className:"font-medium",children:a.designation})]}),a.department&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Department"}),o.jsx("span",{className:"font-medium",children:a.department})]}),a.companyName&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Company"}),o.jsx("span",{className:"font-medium text-right max-w-xs",children:a.companyName})]}),a.reportTo&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Reports To"}),o.jsx("span",{className:"font-medium",children:a.reportTo})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),o.jsx(Tt,{variant:"secondary",className:`${Ut(a.status)}`,children:Jt(a.status)})]}),a.currentTask&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Task"}),o.jsx("span",{className:"font-medium text-right max-w-xs",children:a.currentTask})]})]}),d.find(Q=>Q.status==="in-progress"||Q.status==="started")||a.status==="meeting"?o.jsx("div",{className:"pt-4 pb-2",children:o.jsxs(Ce,{variant:"destructive",size:"sm",className:"w-full",onClick:qt,disabled:Vt!==null,children:[o.jsx(Fn,{className:"h-4 w-4 mr-2"}),Vt?"Ending Meeting...":"End Current Meeting"]})}):null,o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-4",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>Ye(a.phone),children:[o.jsx(pi,{className:"h-4 w-4 mr-2"}),"Call"]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>ot(a.email,a.name),children:[o.jsx(mi,{className:"h-4 w-4 mr-2"}),"Email"]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>it(a.phone,a.name),className:"col-span-2",children:[o.jsx(Tp,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]})]})]})]})]})}),a&&o.jsx(pb,{isOpen:k,onClose:()=>P(!1),onStartMeeting:Gt,employeeName:a.name,location:a.location.address,isLoading:j}),a&&o.jsx(WM,{isOpen:T,onClose:()=>{D(!1),O(null),ae(null)},onEndMeeting:Xt,employeeName:a.name,isLoading:Vt!==null,currentMeeting:M?d.find(F=>F.id===M):null,followUpMeetingData:K}),o.jsx(u_,{employeeId:t,isOpen:H,onClose:()=>ne(!1)}),a&&o.jsx(VM,{employee:a,trackingSession:I,meetings:d,isOpen:V,onClose:()=>Y(!1),onSnapshotCreated:F=>{console.log("Snapshot created:",F)}}),o.jsx(Mb,{employeeId:t,isOpen:te,onClose:()=>fe(!1)}),o.jsx(br,{open:Be,onOpenChange:ee,children:o.jsxs(cr,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[o.jsx(ur,{children:o.jsx(dr,{className:"text-2xl font-bold text-center",children:"Today's Meetings & Duty Summary"})}),o.jsx("div",{className:"space-y-6 py-4",children:ue?o.jsxs("div",{className:"flex flex-col justify-center items-center py-12",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading today's meeting details..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border rounded-lg",children:o.jsxs(ul,{children:[o.jsx(dl,{children:o.jsxs(Fr,{children:[o.jsx(xt,{className:"w-[80px] text-center font-bold",children:"Sr. No."}),o.jsx(xt,{className:"font-bold",children:"Company Name"}),o.jsx(xt,{className:"text-right font-bold",children:"Meeting Duration"})]})}),o.jsx(fl,{children:xe.length>0?o.jsxs(o.Fragment,{children:[xe.map(F=>o.jsxs(Fr,{children:[o.jsx(dt,{className:"text-center font-medium",children:F.serialNumber}),o.jsx(dt,{className:"font-medium",children:F.companyName}),o.jsx(dt,{className:"text-right font-medium",children:F.totalDutyHours?`${F.totalDutyHours} hours`:"In Progress"})]},F.serialNumber)),(()=>{const F=xe.reduce((de,Re)=>de+(Re.totalDutyHours||0),0);let Q="Pending Verification",ve="bg-gray-500 hover:bg-gray-600";return F>=7.5?(Q="Full Day",ve="bg-green-500 hover:bg-green-600"):F>=3.5&&F<=7.5?(Q="Half Day",ve="bg-yellow-500 hover:bg-yellow-600"):(Q="Absent",ve="bg-blue-500 hover:bg-red-600"),o.jsxs(Fr,{className:"bg-muted/30 border-t-2 border-primary",children:[o.jsx(dt,{colSpan:2,className:"text-right font-bold pr-4",children:o.jsxs("div",{className:"flex items-center justify-start",children:[o.jsx("span",{className:"mr-4",children:"Total Duty Hours:"}),o.jsx(Tt,{variant:"default",className:ve,children:Q})]})}),o.jsxs(dt,{className:"text-right font-bold text-lg",children:[F.toFixed(1)," hours"]})]})})()]}):o.jsx(Fr,{children:o.jsx(dt,{colSpan:3,className:"text-center py-8 text-muted-foreground",children:"No meetings recorded for today"})})})]})}),o.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border",children:[o.jsx("h3",{className:"font-bold text-lg mb-2",children:" Summary Information:"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Total Meetings:"})," ",xe.length]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Completed Meetings:"})," ",xe.filter(F=>F.totalDutyHours>0).length]}),o.jsxs("p",{className:"text-muted-foreground mt-3",children:[o.jsx("strong",{children:"Note:"})," The attendance shown above is auto-generated based on today's completed meetings. Final attendance (Full Day / Half Day) will be confirmed after HR verification."]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx(Ce,{variant:"outline",onClick:()=>ee(!1),children:"Close"}),o.jsx(Ce,{onClick:()=>{const F=xe.reduce((Q,ve)=>Q+(ve.totalDutyHours||0),0);r({title:"Summary Submitted",description:`Today's duty summary (${F.toFixed(1)} hours) has been submitted for HR verification.`}),ee(!1)},children:"Submit to HR"})]})]})})]})})]})}function NL(){const[e,t]=g.useState([]),[r,a]=g.useState(!0),[c,d]=g.useState(""),[f,p]=g.useState("all"),[v,w]=g.useState(!1),[_,b]=g.useState(!1),[S,k]=g.useState(null),[P,j]=g.useState({name:"",email:"",phone:"",status:"active"});g.useEffect(()=>{E()},[]);const E=async()=>{var Y;try{console.log("TeamManagement: Fetching employees...");const te=await pt.get("/api/employees");if(te.ok){const fe=await te.json();console.log("TeamManagement: Successfully fetched employees:",((Y=fe.employees)==null?void 0:Y.length)||0),t(fe.employees||[])}else console.error("TeamManagement: Failed to fetch employees - Status:",te.status),t([])}catch(te){console.error("TeamManagement: Error fetching employees:",te),t([])}finally{a(!1)}},T=async()=>{try{const Y=await pt.post("/api/employees",{...P,location:{lat:40.7128,lng:-74.006,address:"New York, NY",timestamp:new Date().toISOString()},lastUpdate:"Just now",deviceId:`device_${Date.now()}`});Y.ok?(console.log("TeamManagement: Employee added successfully"),E(),w(!1),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to add employee - Status:",Y.status)}catch(Y){console.error("TeamManagement: Error adding employee:",Y)}},D=async()=>{if(S)try{const Y=await pt.put(`/api/employees/${S.id}`,P);Y.ok?(console.log("TeamManagement: Employee updated successfully"),E(),b(!1),k(null),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to update employee - Status:",Y.status)}catch(Y){console.error("TeamManagement: Error updating employee:",Y)}},M=async Y=>{if(confirm("Are you sure you want to delete this employee?"))try{const te=await pt.delete(`/api/employees/${Y}`);te.ok?(console.log("TeamManagement: Employee deleted successfully"),E()):console.error("TeamManagement: Failed to delete employee - Status:",te.status)}catch(te){console.error("TeamManagement: Error deleting employee:",te)}},O=Y=>{window.location.href=`tel:${Y}`},I=(Y,te)=>{const fe=encodeURIComponent(`Regarding Field Operations - ${te}`),Ie=encodeURIComponent(`Hi ${te.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${Y}?subject=${fe}&body=${Ie}`},Z=Y=>{k(Y),j({name:Y.name,email:Y.email,phone:Y.phone,status:Y.status}),b(!0)},H=Y=>{switch(Y){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},ne=Y=>{switch(Y){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},V=e.filter(Y=>{const te=Y.name.toLowerCase().includes(c.toLowerCase())||Y.email.toLowerCase().includes(c.toLowerCase()),fe=f==="all"||Y.status===f;return te&&fe});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Hs,{to:"/",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Team Management"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your field team employees"})]})]}),o.jsxs(br,{open:v,onOpenChange:w,children:[o.jsx($T,{asChild:!0,children:o.jsxs(Ce,{children:[o.jsx(Vc,{className:"h-4 w-4 mr-2"}),"Add Employee"]})}),o.jsxs(cr,{children:[o.jsxs(ur,{children:[o.jsx(dr,{children:"Add New Employee"}),o.jsx(Nr,{children:"Add a new field employee to your team."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ft,{htmlFor:"name",children:"Name"}),o.jsx(vn,{id:"name",value:P.name,onChange:Y=>j({...P,name:Y.target.value}),placeholder:"Enter full name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ft,{htmlFor:"email",children:"Email"}),o.jsx(vn,{id:"email",type:"email",value:P.email,onChange:Y=>j({...P,email:Y.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ft,{htmlFor:"phone",children:"Phone"}),o.jsx(vn,{id:"phone",type:"tel",value:P.phone,onChange:Y=>j({...P,phone:Y.target.value}),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ft,{htmlFor:"status",children:"Status"}),o.jsxs(ws,{value:P.status,onValueChange:Y=>j({...P,status:Y}),children:[o.jsx(rs,{children:o.jsx(_s,{placeholder:"Select status"})}),o.jsxs(ss,{children:[o.jsx(sn,{value:"active",children:"Active"}),o.jsx(sn,{value:"inactive",children:"Inactive"}),o.jsx(sn,{value:"meeting",children:"In Meeting"})]})]})]})]}),o.jsxs(fa,{children:[o.jsx(Ce,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),o.jsx(Ce,{onClick:T,children:"Add Employee"})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(vn,{placeholder:"Search employees...",value:c,onChange:Y=>d(Y.target.value),className:"pl-10"})]}),o.jsxs(ws,{value:f,onValueChange:p,children:[o.jsx(rs,{className:"w-full sm:w-[180px]",children:o.jsx(_s,{placeholder:"Filter by status"})}),o.jsxs(ss,{children:[o.jsx(sn,{value:"all",children:"All Statuses"}),o.jsx(sn,{value:"active",children:"Active"}),o.jsx(sn,{value:"meeting",children:"In Meeting"}),o.jsx(sn,{value:"inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Total Employees"}),o.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(vt,{children:o.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Active"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-success"})]}),o.jsx(vt,{children:o.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter(Y=>Y.status==="active").length})})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"In Meetings"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"})]}),o.jsx(vt,{children:o.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter(Y=>Y.status==="meeting").length})})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Offline"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"})]}),o.jsx(vt,{children:o.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:e.filter(Y=>Y.status==="inactive").length})})]})]}),o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsxs(At,{children:["Team Members (",V.length,")"]})}),o.jsx(vt,{children:r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employees..."})]}):V.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ia,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),o.jsx("p",{className:"text-muted-foreground",children:c||f!=="all"?"Try adjusting your search or filters.":"Add your first employee to get started."})]}):o.jsx("div",{className:"space-y-4",children:V.map(Y=>o.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"font-semibold text-lg",children:Y.name}),o.jsx(Tt,{variant:"secondary",className:`text-xs ${H(Y.status)}`,children:ne(Y.status)})]}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(mi,{className:"h-3 w-3 mr-2"}),Y.email]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(pi,{className:"h-3 w-3 mr-2"}),Y.phone]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(lr,{className:"h-3 w-3 mr-2"}),Y.location.address]}),Y.currentTask&&o.jsxs("p",{className:"text-primary font-medium",children:["Current Task: ",Y.currentTask]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>O(Y.phone),children:[o.jsx(pi,{className:"h-3 w-3 mr-1"}),"Call"]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>I(Y.email,Y.name),children:[o.jsx(mi,{className:"h-3 w-3 mr-1"}),"Email"]}),o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Hs,{to:`/tracking/${Y.id}`,children:[o.jsx(xo,{className:"h-3 w-3 mr-1"}),"Track"]})}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>Z(Y),children:[o.jsx(Wm,{className:"h-3 w-3 mr-1"}),"Edit"]}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>M(Y.id),className:"text-destructive hover:text-destructive",children:o.jsx(pw,{className:"h-3 w-3"})})]})]})},Y.id))})})]})]}),o.jsx(br,{open:_,onOpenChange:b,children:o.jsxs(cr,{children:[o.jsxs(ur,{children:[o.jsx(dr,{children:"Edit Employee"}),o.jsx(Nr,{children:"Update employee information."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ft,{htmlFor:"edit-name",children:"Name"}),o.jsx(vn,{id:"edit-name",value:P.name,onChange:Y=>j({...P,name:Y.target.value}),placeholder:"Enter full name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ft,{htmlFor:"edit-email",children:"Email"}),o.jsx(vn,{id:"edit-email",type:"email",value:P.email,onChange:Y=>j({...P,email:Y.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ft,{htmlFor:"edit-phone",children:"Phone"}),o.jsx(vn,{id:"edit-phone",type:"tel",value:P.phone,onChange:Y=>j({...P,phone:Y.target.value}),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ft,{htmlFor:"edit-status",children:"Status"}),o.jsxs(ws,{value:P.status,onValueChange:Y=>j({...P,status:Y}),children:[o.jsx(rs,{children:o.jsx(_s,{placeholder:"Select status"})}),o.jsxs(ss,{children:[o.jsx(sn,{value:"active",children:"Active"}),o.jsx(sn,{value:"inactive",children:"Inactive"}),o.jsx(sn,{value:"meeting",children:"In Meeting"})]})]})]})]}),o.jsxs(fa,{children:[o.jsx(Ce,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),o.jsx(Ce,{onClick:D,children:"Save Changes"})]})]})})]})}const SL=ru("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Xi=g.forwardRef(({className:e,variant:t,...r},a)=>o.jsx("div",{ref:a,role:"alert",className:yt(SL({variant:t}),e),...r}));Xi.displayName="Alert";const jL=g.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:yt("mb-1 font-medium leading-none tracking-tight",e),...t}));jL.displayName="AlertTitle";const Qi=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:yt("text-sm [&_p]:leading-relaxed",e),...t}));Qi.displayName="AlertDescription";function CL(){const[e,t]=g.useState(null),[r,a]=g.useState(!0),[c,d]=g.useState(!1),[f,p]=g.useState(null),[v,w]=g.useState(null),[_,b]=g.useState(!1),[S,k]=g.useState(!1);g.useEffect(()=>{P()},[]);const P=async()=>{try{a(!0),w(null);const M=await pt.get("/api/data-status");if(M.ok){const O=await M.json();t(O),console.log("Data status:",O)}else throw new Error(`Failed to fetch data status: ${M.status}`)}catch(M){console.error("Error fetching data status:",M),w(M.message)}finally{a(!1)}},j=async()=>{try{d(!0),p(null),w(null);const M=await pt.post("/api/data-sync",{});if(M.ok){const O=await M.json();p(O),console.log("Sync result:",O),await P()}else throw new Error(`Sync failed: ${M.status} ${M.statusText}`)}catch(M){console.error("Error syncing data:",M),w(M.message)}finally{d(!1)}},E=async()=>{try{b(!0),w(null),k(!1);const M=await pt.post("/api/employees/clear-cache",{});if(M.ok){const O=await M.json();k(!0),console.log("Location cache cleared:",O.message)}else throw new Error(`Cache clear failed: ${M.status} ${M.statusText}`)}catch(M){w(M instanceof Error?M.message:"Failed to clear location cache")}finally{b(!1)}},T=(M,O)=>M===0&&O>0?"text-yellow-600":M>0?"text-green-600":"text-gray-600",D=(M,O)=>M===0&&O>0?o.jsx(Ic,{className:"h-4 w-4 text-yellow-600"}):M>0?o.jsx(ns,{className:"h-4 w-4 text-green-600"}):o.jsx(nx,{className:"h-4 w-4 text-gray-600"});return r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ml,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading data status..."})]})})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Data Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Monitor and synchronize MongoDB data storage"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(Ce,{onClick:P,variant:"outline",disabled:r,children:[o.jsx(ml,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(Ce,{onClick:j,disabled:c,className:"bg-primary hover:bg-primary/90",children:[o.jsx(nx,{className:"h-4 w-4 mr-2"}),c?"Syncing...":"Sync Data"]}),o.jsxs(Ce,{onClick:E,disabled:_,variant:"outline",className:"border-orange-500 text-orange-600 hover:bg-orange-50",children:[o.jsx(ml,{className:"h-4 w-4 mr-2"}),_?"Clearing...":"Clear Location Cache"]})]})]}),v&&o.jsxs(Xi,{variant:"destructive",children:[o.jsx(Ic,{className:"h-4 w-4"}),o.jsx(Qi,{children:v})]}),f&&o.jsxs(Xi,{className:"border-green-200 bg-green-50",children:[o.jsx(ns,{className:"h-4 w-4 text-green-600"}),o.jsxs(Qi,{className:"text-green-800",children:[o.jsx("strong",{children:f.message}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsxs("p",{children:[" Meetings in MongoDB: ",f.stats.totalMeetingsInMongoDB]}),o.jsxs("p",{children:[" History in MongoDB: ",f.stats.totalHistoryInMongoDB]}),o.jsxs("p",{children:[" Meetings synced: ",f.stats.meetingsSynced]}),o.jsxs("p",{children:[" History synced: ",f.stats.historySynced]})]})]})]}),S&&o.jsxs(Xi,{className:"border-orange-200 bg-orange-50",children:[o.jsx(ns,{className:"h-4 w-4 text-orange-600"}),o.jsxs(Qi,{className:"text-orange-800",children:[o.jsx("strong",{children:"Location cache cleared successfully!"}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsx("p",{children:" All employees will now use real GPS location data"}),o.jsx("p",{children:" No more hardcoded cities (Delhi, Mumbai, etc.)"}),o.jsx("p",{children:" Refresh the employee list to see updated locations"})]})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"MongoDB Meetings"}),D(e.mongoDB.meetings,e.inMemory.meetings)]}),o.jsxs(vt,{children:[o.jsx("div",{className:`text-2xl font-bold ${T(e.mongoDB.meetings,e.inMemory.meetings)}`,children:e.mongoDB.meetings}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["In-memory: ",e.inMemory.meetings]})]})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Meeting History"}),o.jsx(os,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.mongoDB.history}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Historical records"})]})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Employees"}),o.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.mongoDB.employees}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Employee records"})]})]}),o.jsxs(gt,{children:[o.jsxs(Lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(At,{className:"text-sm font-medium",children:"Tracking Sessions"}),o.jsx(Cp,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.mongoDB.trackingSessions}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Location sessions"})]})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsx(At,{className:"text-lg",children:"Sample Meeting Data"})}),o.jsx(vt,{children:e.mongoDB.sampleMeeting?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleMeeting.id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),o.jsxs("span",{children:[e.mongoDB.sampleMeeting.employeeId.substring(0,8),"..."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Status:"}),o.jsx(Tt,{variant:"outline",children:e.mongoDB.sampleMeeting.status})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Lead ID:"}),o.jsx("span",{children:e.mongoDB.sampleMeeting.leadId||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Has Details:"}),o.jsx(Tt,{variant:e.mongoDB.sampleMeeting.hasDetails?"default":"secondary",children:e.mongoDB.sampleMeeting.hasDetails?"Yes":"No"})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No meeting data found"})})]}),o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsx(At,{className:"text-lg",children:"Sample History Data"})}),o.jsx(vt,{children:e.mongoDB.sampleHistory?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleHistory.id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),o.jsxs("span",{children:[e.mongoDB.sampleHistory.employeeId.substring(0,8),"..."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Customers:"}),o.jsx(Tt,{variant:"outline",children:e.mongoDB.sampleHistory.hasCustomers?"Yes":"No"})]}),o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Discussion:"}),o.jsx("span",{className:"text-xs bg-muted p-2 rounded",children:e.mongoDB.sampleHistory.discussion||"No discussion"})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No history data found"})})]})]}),e&&o.jsxs(gt,{children:[o.jsx(Lt,{children:o.jsx(At,{className:"text-lg",children:"Recommendations"})}),o.jsx(vt,{children:o.jsxs("div",{className:"space-y-3",children:[e.mongoDB.meetings===0&&e.inMemory.meetings>0&&o.jsxs(Xi,{className:"border-yellow-200 bg-yellow-50",children:[o.jsx(Ic,{className:"h-4 w-4 text-yellow-600"}),o.jsxs(Qi,{className:"text-yellow-800",children:[o.jsx("strong",{children:"Data Sync Needed:"})," You have ",e.inMemory.meetings,' meetings in memory but none in MongoDB. Click "Sync Data" to fix this.']})]}),e.mongoDB.meetings>e.mongoDB.history&&o.jsxs(Xi,{className:"border-blue-200 bg-blue-50",children:[o.jsx(Ic,{className:"h-4 w-4 text-blue-600"}),o.jsxs(Qi,{className:"text-blue-800",children:[o.jsx("strong",{children:"Missing History:"})," You have more meetings (",e.mongoDB.meetings,") than history entries (",e.mongoDB.history,"). Some meetings might not have been completed with proper details."]})]}),e.mongoDB.meetings>0&&e.mongoDB.history>0&&o.jsxs(Xi,{className:"border-green-200 bg-green-50",children:[o.jsx(ns,{className:"h-4 w-4 text-green-600"}),o.jsxs(Qi,{className:"text-green-800",children:[o.jsx("strong",{children:"Data Looks Good:"})," Your MongoDB storage is working properly with ",e.mongoDB.meetings," meetings and ",e.mongoDB.history," history entries."]})]})]})})]})]})})}const po=[{lat:28.6139,lng:77.209,address:"Connaught Place, New Delhi",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"Karol Bagh",timestamp:"2024-01-15T09:15:00.000Z"},{lat:28.6511,lng:77.241,address:"Civil Lines",timestamp:"2024-01-15T09:30:00.000Z"},{lat:28.6785,lng:77.2654,address:"GTB Nagar",timestamp:"2024-01-15T09:45:00.000Z"},{lat:28.7041,lng:77.1025,address:"Rohini",timestamp:"2024-01-15T10:00:00.000Z"},{lat:28.7342,lng:77.0822,address:"Sector 3 Rohini",timestamp:"2024-01-15T10:10:00.000Z"},{lat:28.7503,lng:77.0689,address:"Client Office, Rohini",timestamp:"2024-01-15T10:20:00.000Z"}],Oc=[{lat:28.6139,lng:77.209,address:"Start",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"End",timestamp:"2024-01-15T09:15:00.000Z"}];class u1{constructor(){Fs(this,"results",[])}async runAllTests(){console.log(" Starting Route Tracking Comprehensive Tests"),console.log("=".repeat(60)),await this.testAPIConfiguration(),await this.testDistanceCalculations(),await this.testRouteProcessing(),await this.testRoutingAPIs(),await this.testGPSRouteCreation(),this.displayResults()}async testAPIConfiguration(){console.log(`
 Testing API Configuration...`);const t=Wp();P0(),console.log(`Current API: ${t.type} - ${t.description}`),console.log(`Has paid keys: ${t.hasKey}`),this.results.push({test:"API Configuration",status:" Pass",details:`Using ${t.type} API`,recommendation:t.hasKey?"Good to go!":"Consider upgrading to paid API for better reliability"})}async testDistanceCalculations(){console.log(`
 Testing Distance Calculations...`);const t=po[0],r=po[po.length-1],a=this.calculateStraightLineDistance(t,r);console.log(`Straight-line distance: ${(a/1e3).toFixed(2)} km`);const c=ts.createGPSRoute(po);console.log(`GPS route distance: ${(c.distance/1e3).toFixed(2)} km`),console.log(`GPS route confidence: ${c.confidence}`);const d=c.distance>a&&c.distance<a*2;this.results.push({test:"Distance Calculations",status:d?" Pass":" Warning",details:`GPS: ${(c.distance/1e3).toFixed(2)}km, Straight: ${(a/1e3).toFixed(2)}km`,recommendation:d?"Distance calculations look correct":"GPS distance seems unrealistic"})}async testRouteProcessing(){console.log(`
 Testing Route Processing...`);const t=await ts.getRouteForPoints(po);console.log(`Processed route coordinates: ${t.coordinates.length}`),console.log(`Total distance: ${(t.totalDistance/1e3).toFixed(2)} km`),console.log(`Route source: ${t.source}`),console.log(`Route confidence: ${t.confidence}`);const r=t.totalDistance>0,a=t.coordinates.length>=2;this.results.push({test:"Route Processing",status:r&&a?" Pass":" Fail",details:`${t.coordinates.length} coords, ${(t.totalDistance/1e3).toFixed(2)}km`,recommendation:r?"Route processing working correctly":"Route processing needs fixing"})}async testRoutingAPIs(){console.log(`
 Testing Routing APIs...`);const t=Oc[0],r=Oc[1];try{const a=await ts.getRoute(t,r);console.log(`API route source: ${a.source}`),console.log(`API route confidence: ${a.confidence}`),console.log(`API route distance: ${(a.distance/1e3).toFixed(2)} km`),console.log(`API route coordinates: ${a.coordinates.length}`);const c=a.coordinates.length>=2&&a.distance>0;this.results.push({test:"Routing APIs",status:c?" Pass":" Warning",details:`${a.source} source, ${a.confidence} confidence`,recommendation:a.source==="road-api"?"APIs working well":"APIs limited, consider paid service"})}catch(a){console.error("API routing failed:",a),this.results.push({test:"Routing APIs",status:" Fail",details:`Error: ${a.message}`,recommendation:"APIs not working, need paid service or fix"})}}async testGPSRouteCreation(){console.log(`
 Testing GPS Route Creation...`);const t=[{points:po.slice(0,1),name:"Single point"},{points:po.slice(0,2),name:"Two points"},{points:po.slice(0,4),name:"Four points"},{points:po,name:"Full route"}];for(const r of t){const a=ts.createGPSRoute(r.points);console.log(`${r.name}: ${(a.distance/1e3).toFixed(2)}km, ${a.confidence} confidence`)}this.results.push({test:"GPS Route Creation",status:" Pass",details:"All point counts handled correctly",recommendation:"GPS route creation working properly"})}calculateStraightLineDistance(t,r){const c=t.lat*Math.PI/180,d=r.lat*Math.PI/180,f=(r.lat-t.lat)*Math.PI/180,p=(t.lng-r.lng)*Math.PI/180,v=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))}displayResults(){console.log(`
`+"=".repeat(60)),console.log(" TEST RESULTS SUMMARY"),console.log("=".repeat(60)),this.results.forEach((c,d)=>{console.log(`
${d+1}. ${c.test}`),console.log(`   Status: ${c.status}`),console.log(`   Details: ${c.details}`),console.log(`    ${c.recommendation}`)});const t=this.results.filter(c=>c.status.includes("")).length,r=this.results.filter(c=>c.status.includes("")).length,a=this.results.filter(c=>c.status.includes("")).length;console.log(`
`+"=".repeat(60)),console.log(` OVERALL RESULTS: ${t} Pass, ${r} Warning, ${a} Fail`),a>0?(console.log(`
 CRITICAL ISSUES FOUND - Route tracking may not work properly`),console.log("   Recommend using a paid API service for reliable routing")):r>0?(console.log(`
 SOME LIMITATIONS DETECTED - Route tracking working but could be improved`),console.log("   Consider upgrading to a paid API for better accuracy")):console.log(`
 ALL TESTS PASSED - Route tracking should work well!`),console.log(`
 API UPGRADE OPTIONS:`),console.log("    OpenRouteService: 2.99/month for 2000 requests/day"),console.log("    MapBox: Free 50k/month then pay-per-use"),console.log("    Google Maps: Enterprise-grade accuracy (requires billing)"),console.log(`
 TO ENABLE PAID APIs:`),console.log("   Add to your .env file:"),console.log("   VITE_OPENROUTESERVICE_API_KEY=your_key_here"),console.log("   VITE_MAPBOX_API_KEY=your_key_here"),console.log("   VITE_GOOGLE_MAPS_API_KEY=your_key_here")}async quickTest(){console.log(" Running Quick Route Tracking Test...");try{const t=ts.createGPSRoute(Oc),r=t.distance>0,a=await ts.getRoute(Oc[0],Oc[1]),c=a.coordinates.length>=2,d=r&&c;return console.log(` Quick test ${d?"PASSED":"FAILED"}`),console.log(`   GPS distance: ${(t.distance/1e3).toFixed(2)}km`),console.log(`   API source: ${a.source}, confidence: ${a.confidence}`),d}catch(t){return console.error(" Quick test FAILED:",t.message),!1}}}const EL=new u1,PL=()=>EL.quickTest();function TL(){const[e,t]=g.useState(!1),[r,a]=g.useState(!1),[c,d]=g.useState(null),[f,p]=g.useState([]),v=Wp(),w=P0(),_=async()=>{t(!0),p([]);const S=console.log,k=[];console.log=(...P)=>{k.push(P.join(" ")),S(...P)};try{const P=await PL();d(P),p(k)}catch(P){d(!1),p([...k,`Error: ${P.message}`])}finally{console.log=S,t(!1)}},b=async()=>{a(!0),p([]);const S=console.log,k=[];console.log=(...P)=>{k.push(P.join(" ")),S(...P)};try{await new u1().runAllTests(),p(k)}catch(P){p([...k,`Error: ${P.message}`])}finally{console.log=S,a(!1)}};return o.jsxs(gt,{className:"w-full max-w-4xl mx-auto",children:[o.jsxs(Lt,{children:[o.jsxs(At,{className:"flex items-center gap-2",children:[o.jsx(mw,{className:"h-5 w-5"}),"Route Tracking Test Panel"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality after the fixes"})]}),o.jsxs(vt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(eS,{className:"h-4 w-4"}),"API Configuration"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Current API"}),o.jsx(Tt,{variant:v.hasKey?"default":"secondary",children:v.type.toUpperCase()})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"API Status"}),o.jsx(Tt,{variant:v.hasKey?"default":"destructive",children:v.hasKey?"Configured":"Free Tier"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:v.hasKey?"Using configured API key":"Using free public APIs (limited)"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(JN,{className:"h-4 w-4"}),"Run Tests"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{onClick:_,disabled:e,className:"w-full",variant:"outline",children:e?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Running..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(lr,{className:"h-4 w-4"}),"Quick Test"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tests basic distance calculation and API routing (~30 seconds)"}),c!==null&&o.jsx("div",{className:"flex items-center gap-2 mt-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx(ns,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"text-sm text-green-700",children:"Test Passed"})]}):o.jsxs(o.Fragment,{children:[o.jsx(YN,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"text-sm text-red-700",children:"Test Failed"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{onClick:b,disabled:r,className:"w-full",children:r?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Running..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(oa,{className:"h-4 w-4"}),"Full Test Suite"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive testing of all route tracking features (~2 minutes)"})]})]})]}),f.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Test Output"}),o.jsx("div",{className:"p-4 bg-muted rounded-lg max-h-96 overflow-y-auto",children:o.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap",children:f.join(`
`)})})]}),!v.hasKey&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Ic,{className:"h-4 w-4"}),"Recommendations"]}),o.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[o.jsx("p",{className:"text-sm mb-3",children:"You're using free APIs which may be limited. For better reliability:"}),o.jsx("div",{className:"space-y-2",children:w.recommendations.filter(S=>S.recommended).map((S,k)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("strong",{children:[S.service,":"]})," ",S.freeLimit," free, ",S.paidOptions,o.jsx("br",{}),o.jsx("code",{className:"text-xs bg-gray-100 px-1 rounded",children:S.setup})]},k))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(hw,{className:"h-4 w-4"}),"Issues Fixed"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Distance Calculation"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Fixed 0 distance showing for 40km routes"}),o.jsx("li",{children:" Improved GPS point filtering (5m instead of 8m)"}),o.jsx("li",{children:" Better distance accumulation logic"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Route Visualization"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:' Fixed "Not enough points" error'}),o.jsx("li",{children:" Simplified route display logic"}),o.jsx("li",{children:" Better fallback for single GPS points"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" API Reliability"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Added timeout handling"}),o.jsx("li",{children:" Improved error handling"}),o.jsx("li",{children:" Better fallback strategies"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Performance"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Reduced API calls for long routes"}),o.jsx("li",{children:" Better caching strategies"}),o.jsx("li",{children:" More efficient GPS processing"})]})]})]})]})]})]})}function kL(){return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Hs,{to:"/dashboard",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Route Tracking Test"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsx(TL,{})})]})}const ML=()=>{const e=lu();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};class zc extends Error{}zc.prototype.name="InvalidTokenError";function RL(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let a=r.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}function LL(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return RL(t)}catch{return atob(t)}}function AL(e,t){if(typeof e!="string")throw new zc("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,a=e.split(".")[r];if(typeof a!="string")throw new zc(`Invalid token specified: missing part #${r+1}`);let c;try{c=LL(a)}catch(d){throw new zc(`Invalid token specified: invalid base64 for part #${r+1} (${d.message})`)}try{return JSON.parse(c)}catch(d){throw new zc(`Invalid token specified: invalid json for part #${r+1} (${d.message})`)}}const DL=()=>{console.log(" Testing GPS routing functionality...");const e=[{lat:40.7128,lng:-74.006,address:"Start Location",timestamp:"2024-01-01T10:00:00Z"},{lat:40.713,lng:-74.0058,address:"Point 1",timestamp:"2024-01-01T10:01:00Z"},{lat:40.7135,lng:-74.0055,address:"Point 2",timestamp:"2024-01-01T10:02:00Z"},{lat:40.714,lng:-74.005,address:"Point 3",timestamp:"2024-01-01T10:03:00Z"},{lat:40.7145,lng:-74.0045,address:"End Location",timestamp:"2024-01-01T10:04:00Z"}],t=ts.createGPSRoute(e);console.log(" GPS Route Result:",{source:t.source,confidence:t.confidence,coordinateCount:t.coordinates.length,distance:`${(t.distance/1e3).toFixed(2)} km`,duration:`${Math.round(t.duration)} seconds`}),console.log(" Testing edge cases...");const r=ts.createGPSRoute([]);console.log("Empty route:",r);const a=ts.createGPSRoute([e[0]]);return console.log("Single point route:",a),t},OL=()=>{console.log(`
 ROUTING COMPARISON:

 GPS TRACKING (RECOMMENDED):
-  Shows EXACT path taken by employee
-  High accuracy with real GPS coordinates
-  No dependency on external APIs
-  Works offline
-  Captures actual employee behavior

 ROAD API ROUTING:
-  Shows theoretical road-based route
-  May not match actual employee path
-  Depends on external services (OSRM/ORS)
-  Can fail due to network/API issues
-  Limited accuracy for tracking purposes

 STRAIGHT LINE FALLBACK:
-  Shows direct line between points
-  Ignores roads, buildings, obstacles
-  Very poor accuracy for tracking
-  Only useful as last resort
-  Does not represent actual route
  `)};pt.init();window.addEventListener("unhandledrejection",e=>{var t;((t=e.reason)==null?void 0:t.name)==="AbortError"&&(console.warn("Caught unhandled AbortError:",e.reason.message),e.preventDefault()),e.reason instanceof TypeError&&(e.reason.message.includes("fetch")||e.reason.message.includes("Failed to fetch"))&&(console.warn("Caught FullStory fetch interference:",e.reason.message),pt.forceXHRMode(),e.preventDefault())});if(typeof window<"u"){const e=window.fetch.toString();(e.includes("eval")||e.includes("fullstory")||e.length<50||window.FS)&&console.warn("FullStory detected on page load - HttpClient will use XMLHttpRequest on fetch failures")}const IL=new _E({defaultOptions:{queries:{retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4)}}}),FL=()=>(g.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("token");if(t)try{const r=AL(t);localStorage.setItem("idToken",t),localStorage.setItem("user",JSON.stringify(r)),console.log("Authenticated user:",r),window.history.replaceState({},document.title,window.location.pathname)}catch(r){console.error("Invalid token:",r)}console.log(" Initializing GPS routing system..."),DL(),OL()},[]),o.jsx(NE,{client:IL,children:o.jsxs(JC,{children:[o.jsx(FS,{}),o.jsx(pj,{}),o.jsx(_P,{children:o.jsxs(mP,{children:[o.jsx(oi,{path:"/",element:o.jsx(TM,{})}),o.jsx(oi,{path:"/dashboard",element:o.jsx(LM,{})}),o.jsx(oi,{path:"/tracking/:employeeId",element:o.jsx(bL,{})}),o.jsx(oi,{path:"/team-management",element:o.jsx(NL,{})}),o.jsx(oi,{path:"/data-management",element:o.jsx(CL,{})}),o.jsx(oi,{path:"/route-test",element:o.jsx(kL,{})}),o.jsx(oi,{path:"*",element:o.jsx(ML,{})})]})})]})}));zS.createRoot(document.getElementById("root")).render(o.jsx(FL,{}));
