var L1=Object.defineProperty;var Ov=e=>{throw TypeError(e)};var A1=(e,t,s)=>t in e?L1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ms=(e,t,s)=>A1(e,typeof t!="symbol"?t+"":t,s),im=(e,t,s)=>t.has(e)||Ov("Cannot "+s);var xe=(e,t,s)=>(im(e,t,"read from private field"),s?s.call(e):t.get(e)),Zt=(e,t,s)=>t.has(e)?Ov("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Tt=(e,t,s,a)=>(im(e,t,"write to private field"),a?a.call(e,s):t.set(e,s),s),Un=(e,t,s)=>(im(e,t,"access private method"),s);var _d=(e,t,s,a)=>({set _(c){Tt(e,t,c,s)},get _(){return xe(e,t,a)}});function D1(e,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();function vp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var am={exports:{}},_c={},lm={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function O1(){if(Iv)return kt;Iv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function N(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function C(F,Q,ye){this.props=F,this.context=Q,this.refs=j,this.updater=ye||T}C.prototype.isReactComponent={},C.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function k(){}k.prototype=C.prototype;function D(F,Q,ye){this.props=F,this.context=Q,this.refs=j,this.updater=ye||T}var M=D.prototype=new k;M.constructor=D,P(M,C.prototype),M.isPureReactComponent=!0;var O=Array.isArray,I=Object.prototype.hasOwnProperty,Z={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function se(F,Q,ye){var Re,Pe={},Y=null,B=null;if(Q!=null)for(Re in Q.ref!==void 0&&(B=Q.ref),Q.key!==void 0&&(Y=""+Q.key),Q)I.call(Q,Re)&&!z.hasOwnProperty(Re)&&(Pe[Re]=Q[Re]);var ge=arguments.length-2;if(ge===1)Pe.children=ye;else if(1<ge){for(var Ee=Array(ge),Ve=0;Ve<ge;Ve++)Ee[Ve]=arguments[Ve+2];Pe.children=Ee}if(F&&F.defaultProps)for(Re in ge=F.defaultProps,ge)Pe[Re]===void 0&&(Pe[Re]=ge[Re]);return{$$typeof:e,type:F,key:Y,ref:B,props:Pe,_owner:Z.current}}function ae(F,Q){return{$$typeof:e,type:F.type,key:Q,ref:F.ref,props:F.props,_owner:F._owner}}function q(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function J(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ye){return Q[ye]})}var de=/\/+/g;function Ae(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?J(""+F.key):Q.toString(36)}function K(F,Q,ye,Re,Pe){var Y=typeof F;(Y==="undefined"||Y==="boolean")&&(F=null);var B=!1;if(F===null)B=!0;else switch(Y){case"string":case"number":B=!0;break;case"object":switch(F.$$typeof){case e:case t:B=!0}}if(B)return B=F,Pe=Pe(B),F=Re===""?"."+Ae(B,0):Re,O(Pe)?(ye="",F!=null&&(ye=F.replace(de,"$&/")+"/"),K(Pe,Q,ye,"",function(Ve){return Ve})):Pe!=null&&(q(Pe)&&(Pe=ae(Pe,ye+(!Pe.key||B&&B.key===Pe.key?"":(""+Pe.key).replace(de,"$&/")+"/")+F)),Q.push(Pe)),1;if(B=0,Re=Re===""?".":Re+":",O(F))for(var ge=0;ge<F.length;ge++){Y=F[ge];var Ee=Re+Ae(Y,ge);B+=K(Y,Q,ye,Ee,Pe)}else if(Ee=N(F),typeof Ee=="function")for(F=Ee.call(F),ge=0;!(Y=F.next()).done;)Y=Y.value,Ee=Re+Ae(Y,ge++),B+=K(Y,Q,ye,Ee,Pe);else if(Y==="object")throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return B}function ee(F,Q,ye){if(F==null)return F;var Re=[],Pe=0;return K(F,Re,"","",function(Y){return Q.call(ye,Y,Pe++)}),Re}function te(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(ye){(F._status===0||F._status===-1)&&(F._status=1,F._result=ye)},function(ye){(F._status===0||F._status===-1)&&(F._status=2,F._result=ye)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var me={current:null},U={transition:null},ue={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:U,ReactCurrentOwner:Z};function oe(){throw Error("act(...) is not supported in production builds of React.")}return kt.Children={map:ee,forEach:function(F,Q,ye){ee(F,function(){Q.apply(this,arguments)},ye)},count:function(F){var Q=0;return ee(F,function(){Q++}),Q},toArray:function(F){return ee(F,function(Q){return Q})||[]},only:function(F){if(!q(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},kt.Component=C,kt.Fragment=s,kt.Profiler=c,kt.PureComponent=D,kt.StrictMode=a,kt.Suspense=g,kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,kt.act=oe,kt.cloneElement=function(F,Q,ye){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Re=P({},F.props),Pe=F.key,Y=F.ref,B=F._owner;if(Q!=null){if(Q.ref!==void 0&&(Y=Q.ref,B=Z.current),Q.key!==void 0&&(Pe=""+Q.key),F.type&&F.type.defaultProps)var ge=F.type.defaultProps;for(Ee in Q)I.call(Q,Ee)&&!z.hasOwnProperty(Ee)&&(Re[Ee]=Q[Ee]===void 0&&ge!==void 0?ge[Ee]:Q[Ee])}var Ee=arguments.length-2;if(Ee===1)Re.children=ye;else if(1<Ee){ge=Array(Ee);for(var Ve=0;Ve<Ee;Ve++)ge[Ve]=arguments[Ve+2];Re.children=ge}return{$$typeof:e,type:F.type,key:Pe,ref:Y,props:Re,_owner:B}},kt.createContext=function(F){return F={$$typeof:f,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:d,_context:F},F.Consumer=F},kt.createElement=se,kt.createFactory=function(F){var Q=se.bind(null,F);return Q.type=F,Q},kt.createRef=function(){return{current:null}},kt.forwardRef=function(F){return{$$typeof:p,render:F}},kt.isValidElement=q,kt.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:te}},kt.memo=function(F,Q){return{$$typeof:w,type:F,compare:Q===void 0?null:Q}},kt.startTransition=function(F){var Q=U.transition;U.transition={};try{F()}finally{U.transition=Q}},kt.unstable_act=oe,kt.useCallback=function(F,Q){return me.current.useCallback(F,Q)},kt.useContext=function(F){return me.current.useContext(F)},kt.useDebugValue=function(){},kt.useDeferredValue=function(F){return me.current.useDeferredValue(F)},kt.useEffect=function(F,Q){return me.current.useEffect(F,Q)},kt.useId=function(){return me.current.useId()},kt.useImperativeHandle=function(F,Q,ye){return me.current.useImperativeHandle(F,Q,ye)},kt.useInsertionEffect=function(F,Q){return me.current.useInsertionEffect(F,Q)},kt.useLayoutEffect=function(F,Q){return me.current.useLayoutEffect(F,Q)},kt.useMemo=function(F,Q){return me.current.useMemo(F,Q)},kt.useReducer=function(F,Q,ye){return me.current.useReducer(F,Q,ye)},kt.useRef=function(F){return me.current.useRef(F)},kt.useState=function(F){return me.current.useState(F)},kt.useSyncExternalStore=function(F,Q,ye){return me.current.useSyncExternalStore(F,Q,ye)},kt.useTransition=function(){return me.current.useTransition()},kt.version="18.3.1",kt}var Fv;function yp(){return Fv||(Fv=1,lm.exports=O1()),lm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function I1(){if(zv)return _c;zv=1;var e=yp(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,w){var _,b={},N=null,T=null;w!==void 0&&(N=""+w),g.key!==void 0&&(N=""+g.key),g.ref!==void 0&&(T=g.ref);for(_ in g)a.call(g,_)&&!d.hasOwnProperty(_)&&(b[_]=g[_]);if(p&&p.defaultProps)for(_ in g=p.defaultProps,g)b[_]===void 0&&(b[_]=g[_]);return{$$typeof:t,type:p,key:N,ref:T,props:b,_owner:c.current}}return _c.Fragment=s,_c.jsx=f,_c.jsxs=f,_c}var $v;function F1(){return $v||($v=1,am.exports=I1()),am.exports}var o=F1(),v=yp();const ze=vp(v),Nx=D1({__proto__:null,default:ze},[v]),z1=1,$1=1e6;let cm=0;function B1(){return cm=(cm+1)%Number.MAX_SAFE_INTEGER,cm.toString()}const um=new Map,Bv=e=>{if(um.has(e))return;const t=setTimeout(()=>{um.delete(e),Oc({type:"REMOVE_TOAST",toastId:e})},$1);um.set(e,t)},U1=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,z1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case"DISMISS_TOAST":{const{toastId:s}=t;return s?Bv(s):e.toasts.forEach(a=>{Bv(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)}}},Id=[];let Fd={toasts:[]};function Oc(e){Fd=U1(Fd,e),Id.forEach(t=>{t(Fd)})}function Wr({...e}){const t=B1(),s=c=>Oc({type:"UPDATE_TOAST",toast:{...c,id:t}}),a=()=>Oc({type:"DISMISS_TOAST",toastId:t});return Oc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:c=>{c||a()}}}),{id:t,dismiss:a,update:s}}function Sl(){const[e,t]=v.useState(Fd);return v.useEffect(()=>(Id.push(t),()=>{const s=Id.indexOf(t);s>-1&&Id.splice(s,1)}),[e]),{...e,toast:Wr,dismiss:s=>Oc({type:"DISMISS_TOAST",toastId:s})}}var dm={exports:{}},lr={},fm={exports:{}},hm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function H1(){return Uv||(Uv=1,function(e){function t(U,ue){var oe=U.length;U.push(ue);e:for(;0<oe;){var F=oe-1>>>1,Q=U[F];if(0<c(Q,ue))U[F]=ue,U[oe]=Q,oe=F;else break e}}function s(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var ue=U[0],oe=U.pop();if(oe!==ue){U[0]=oe;e:for(var F=0,Q=U.length,ye=Q>>>1;F<ye;){var Re=2*(F+1)-1,Pe=U[Re],Y=Re+1,B=U[Y];if(0>c(Pe,oe))Y<Q&&0>c(B,Pe)?(U[F]=B,U[Y]=oe,F=Y):(U[F]=Pe,U[Re]=oe,F=Re);else if(Y<Q&&0>c(B,oe))U[F]=B,U[Y]=oe,F=Y;else break e}}return ue}function c(U,ue){var oe=U.sortIndex-ue.sortIndex;return oe!==0?oe:U.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var g=[],w=[],_=1,b=null,N=3,T=!1,P=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(U){for(var ue=s(w);ue!==null;){if(ue.callback===null)a(w);else if(ue.startTime<=U)a(w),ue.sortIndex=ue.expirationTime,t(g,ue);else break;ue=s(w)}}function O(U){if(j=!1,M(U),!P)if(s(g)!==null)P=!0,te(I);else{var ue=s(w);ue!==null&&me(O,ue.startTime-U)}}function I(U,ue){P=!1,j&&(j=!1,k(se),se=-1),T=!0;var oe=N;try{for(M(ue),b=s(g);b!==null&&(!(b.expirationTime>ue)||U&&!J());){var F=b.callback;if(typeof F=="function"){b.callback=null,N=b.priorityLevel;var Q=F(b.expirationTime<=ue);ue=e.unstable_now(),typeof Q=="function"?b.callback=Q:b===s(g)&&a(g),M(ue)}else a(g);b=s(g)}if(b!==null)var ye=!0;else{var Re=s(w);Re!==null&&me(O,Re.startTime-ue),ye=!1}return ye}finally{b=null,N=oe,T=!1}}var Z=!1,z=null,se=-1,ae=5,q=-1;function J(){return!(e.unstable_now()-q<ae)}function de(){if(z!==null){var U=e.unstable_now();q=U;var ue=!0;try{ue=z(!0,U)}finally{ue?Ae():(Z=!1,z=null)}}else Z=!1}var Ae;if(typeof D=="function")Ae=function(){D(de)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ee=K.port2;K.port1.onmessage=de,Ae=function(){ee.postMessage(null)}}else Ae=function(){C(de,0)};function te(U){z=U,Z||(Z=!0,Ae())}function me(U,ue){se=C(function(){U(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){P||T||(P=!0,te(I))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return s(g)},e.unstable_next=function(U){switch(N){case 1:case 2:case 3:var ue=3;break;default:ue=N}var oe=N;N=ue;try{return U()}finally{N=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,ue){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var oe=N;N=U;try{return ue()}finally{N=oe}},e.unstable_scheduleCallback=function(U,ue,oe){var F=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?F+oe:F):oe=F,U){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,U={id:_++,callback:ue,priorityLevel:U,startTime:oe,expirationTime:Q,sortIndex:-1},oe>F?(U.sortIndex=oe,t(w,U),s(g)===null&&U===s(w)&&(j?(k(se),se=-1):j=!0,me(O,oe-F))):(U.sortIndex=Q,t(g,U),P||T||(P=!0,te(I))),U},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(U){var ue=N;return function(){var oe=N;N=ue;try{return U.apply(this,arguments)}finally{N=oe}}}}(hm)),hm}var Hv;function W1(){return Hv||(Hv=1,fm.exports=H1()),fm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function V1(){if(Wv)return lr;Wv=1;var e=yp(),t=W1();function s(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(n,i){f(n,i),f(n+"Capture",i)}function f(n,i){for(c[n]=i,n=0;n<i.length;n++)a.add(i[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},b={};function N(n){return g.call(b,n)?!0:g.call(_,n)?!1:w.test(n)?b[n]=!0:(_[n]=!0,!1)}function T(n,i,u,m){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,i,u,m){if(i===null||typeof i>"u"||T(n,i,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(n,i,u,m,x,S,R){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=u,this.propertyName=n,this.type=i,this.sanitizeURL=S,this.removeEmptyString=R}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];C[i]=new j(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function D(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(k,D);C[i]=new j(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(k,D);C[i]=new j(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(k,D);C[i]=new j(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function M(n,i,u,m){var x=C.hasOwnProperty(i)?C[i]:null;(x!==null?x.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,u,x,m)&&(u=null),m||x===null?N(i)&&(u===null?n.removeAttribute(i):n.setAttribute(i,""+u)):x.mustUseProperty?n[x.propertyName]=u===null?x.type===3?!1:"":u:(i=x.attributeName,m=x.attributeNamespace,u===null?n.removeAttribute(i):(x=x.type,u=x===3||x===4&&u===!0?"":""+u,m?n.setAttributeNS(m,i,u):n.setAttribute(i,u))))}var O=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),Z=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),se=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),J=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),U=Symbol.iterator;function ue(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,F;function Q(n){if(F===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+n}var ye=!1;function Re(n,i){if(!n||ye)return"";ye=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ce){var m=ce}Reflect.construct(n,[],i)}else{try{i.call()}catch(ce){m=ce}n.call(i.prototype)}else{try{throw Error()}catch(ce){m=ce}n()}}catch(ce){if(ce&&m&&typeof ce.stack=="string"){for(var x=ce.stack.split(`
`),S=m.stack.split(`
`),R=x.length-1,$=S.length-1;1<=R&&0<=$&&x[R]!==S[$];)$--;for(;1<=R&&0<=$;R--,$--)if(x[R]!==S[$]){if(R!==1||$!==1)do if(R--,$--,0>$||x[R]!==S[$]){var V=`
`+x[R].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=R&&0<=$);break}}}finally{ye=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?Q(n):""}function Pe(n){switch(n.tag){case 5:return Q(n.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return n=Re(n.type,!1),n;case 11:return n=Re(n.type.render,!1),n;case 1:return n=Re(n.type,!0),n;default:return""}}function Y(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case z:return"Fragment";case Z:return"Portal";case ae:return"Profiler";case se:return"StrictMode";case Ae:return"Suspense";case K:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case J:return(n.displayName||"Context")+".Consumer";case q:return(n._context.displayName||"Context")+".Provider";case de:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ee:return i=n.displayName||null,i!==null?i:Y(n.type)||"Memo";case te:i=n._payload,n=n._init;try{return Y(n(i))}catch{}}return null}function B(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y(i);case 8:return i===se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ge(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ee(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ve(n){var i=Ee(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),m=""+n[i];if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,S=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return x.call(this)},set:function(R){m=""+R,S.call(this,R)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ut(n){n._valueTracker||(n._valueTracker=Ve(n))}function Je(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var u=i.getValue(),m="";return n&&(m=Ee(n)?n.checked?"true":"false":n.value),n=m,n!==u?(i.setValue(n),!0):!1}function Lt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Wt(n,i){var u=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function xn(n,i){var u=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;u=ge(i.value!=null?i.value:u),n._wrapperState={initialChecked:m,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function X(n,i){i=i.checked,i!=null&&M(n,"checked",i,!1)}function ve(n,i){X(n,i);var u=ge(i.value),m=i.type;if(u!=null)m==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Ne(n,i.type,u):i.hasOwnProperty("defaultValue")&&Ne(n,i.type,ge(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function Me(n,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,u||i===n.value||(n.value=i),n.defaultValue=i}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function Ne(n,i,u){(i!=="number"||Lt(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var $e=Array.isArray;function et(n,i,u,m){if(n=n.options,i){i={};for(var x=0;x<u.length;x++)i["$"+u[x]]=!0;for(u=0;u<n.length;u++)x=i.hasOwnProperty("$"+n[u].value),n[u].selected!==x&&(n[u].selected=x),x&&m&&(n[u].defaultSelected=!0)}else{for(u=""+ge(u),i=null,x=0;x<n.length;x++){if(n[x].value===u){n[x].selected=!0,m&&(n[x].defaultSelected=!0);return}i!==null||n[x].disabled||(i=n[x])}i!==null&&(i.selected=!0)}}function Qe(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(s(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ut(n,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(s(92));if($e(u)){if(1<u.length)throw Error(s(93));u=u[0]}i=u}i==null&&(i=""),u=i}n._wrapperState={initialValue:ge(u)}}function It(n,i){var u=ge(i.value),m=ge(i.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),i.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),m!=null&&(n.defaultValue=""+m)}function Ct(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Pt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $t(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Pt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ht,W=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,m,x){MSApp.execUnsafeLocalFunction(function(){return n(i,u,m,x)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(Ht=Ht||document.createElement("div"),Ht.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ht.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function we(n,i){if(i){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=i;return}}n.textContent=i}var Fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];Object.keys(Fe).forEach(function(n){be.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Fe[i]=Fe[n]})});function Ge(n,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Fe.hasOwnProperty(n)&&Fe[n]?(""+i).trim():i+"px"}function Se(n,i){n=n.style;for(var u in i)if(i.hasOwnProperty(u)){var m=u.indexOf("--")===0,x=Ge(u,i[u],m);u==="float"&&(u="cssFloat"),m?n.setProperty(u,x):n[u]=x}}var De=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Be(n,i){if(i){if(De[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(s(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(s(61))}if(i.style!=null&&typeof i.style!="object")throw Error(s(62))}}function nt(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var he=null;function pe(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var je=null,Oe=null,He=null;function Ft(n){if(n=Qs(n)){if(typeof je!="function")throw Error(s(280));var i=n.stateNode;i&&(i=Fa(i),je(n.stateNode,n.type,i))}}function tt(n){Oe?He?He.push(n):He=[n]:Oe=n}function bt(){if(Oe){var n=Oe,i=He;if(He=Oe=null,Ft(n),i)for(n=0;n<i.length;n++)Ft(i[n])}}function At(n,i){return n(i)}function Yt(){}var er=!1;function $s(n,i,u){if(er)return n(i,u);er=!0;try{return At(n,i,u)}finally{er=!1,(Oe!==null||He!==null)&&(Yt(),bt())}}function vs(n,i){var u=n.stateNode;if(u===null)return null;var m=Fa(u);if(m===null)return null;u=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(s(231,i,typeof u));return u}var vo=!1;if(p)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){vo=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{vo=!1}function fa(n,i,u,m,x,S,R,$,V){var ce=Array.prototype.slice.call(arguments,3);try{i.apply(u,ce)}catch(ke){this.onError(ke)}}var Nn=!1,qe=null,wi=!1,ha=null,lu={onError:function(n){Nn=!0,qe=n}};function cu(n,i,u,m,x,S,R,$,V){Nn=!1,qe=null,fa.apply(lu,arguments)}function Rl(n,i,u,m,x,S,R,$,V){if(cu.apply(this,arguments),Nn){if(Nn){var ce=qe;Nn=!1,qe=null}else throw Error(s(198));wi||(wi=!0,ha=ce)}}function xs(n){var i=n,u=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(u=i.return),n=i.return;while(n)}return i.tag===3?u:null}function Bs(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Ll(n){if(xs(n)!==n)throw Error(s(188))}function Ff(n){var i=n.alternate;if(!i){if(i=xs(n),i===null)throw Error(s(188));return i!==n?null:n}for(var u=n,m=i;;){var x=u.return;if(x===null)break;var S=x.alternate;if(S===null){if(m=x.return,m!==null){u=m;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===u)return Ll(x),n;if(S===m)return Ll(x),i;S=S.sibling}throw Error(s(188))}if(u.return!==m.return)u=x,m=S;else{for(var R=!1,$=x.child;$;){if($===u){R=!0,u=x,m=S;break}if($===m){R=!0,m=x,u=S;break}$=$.sibling}if(!R){for($=S.child;$;){if($===u){R=!0,u=S,m=x;break}if($===m){R=!0,m=S,u=x;break}$=$.sibling}if(!R)throw Error(s(189))}}if(u.alternate!==m)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?n:i}function uu(n){return n=Ff(n),n!==null?du(n):null}function du(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=du(n);if(i!==null)return i;n=n.sibling}return null}var fu=t.unstable_scheduleCallback,Al=t.unstable_cancelCallback,zf=t.unstable_shouldYield,ma=t.unstable_requestPaint,an=t.unstable_now,$f=t.unstable_getCurrentPriorityLevel,Dl=t.unstable_ImmediatePriority,hu=t.unstable_UserBlockingPriority,pa=t.unstable_NormalPriority,Ol=t.unstable_LowPriority,yo=t.unstable_IdlePriority,_i=null,gr=null;function bi(n){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(_i,n,void 0,(n.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:xo,en=Math.log,ga=Math.LN2;function xo(n){return n>>>=0,n===0?32:31-(en(n)/ga|0)|0}var Qr=64,wo=4194304;function pt(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Qt(n,i){var u=n.pendingLanes;if(u===0)return 0;var m=0,x=n.suspendedLanes,S=n.pingedLanes,R=u&268435455;if(R!==0){var $=R&~x;$!==0?m=pt($):(S&=R,S!==0&&(m=pt(S)))}else R=u&~x,R!==0?m=pt(R):S!==0&&(m=pt(S));if(m===0)return 0;if(i!==0&&i!==m&&(i&x)===0&&(x=m&-m,S=i&-i,x>=S||x===16&&(S&4194240)!==0))return i;if((m&4)!==0&&(m|=u&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=m;0<i;)u=31-yt(i),x=1<<u,m|=n[u],i&=~x;return m}function Il(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function va(n,i){for(var u=n.suspendedLanes,m=n.pingedLanes,x=n.expirationTimes,S=n.pendingLanes;0<S;){var R=31-yt(S),$=1<<R,V=x[R];V===-1?(($&u)===0||($&m)!==0)&&(x[R]=Il($,i)):V<=i&&(n.expiredLanes|=$),S&=~$}}function Dn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function mu(){var n=Qr;return Qr<<=1,(Qr&4194240)===0&&(Qr=64),n}function _o(n){for(var i=[],u=0;31>u;u++)i.push(n);return i}function vr(n,i,u){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-yt(i),n[i]=u}function hn(n,i){var u=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<u;){var x=31-yt(u),S=1<<x;i[x]=0,m[x]=-1,n[x]=-1,u&=~S}}function Jr(n,i){var u=n.entangledLanes|=i;for(n=n.entanglements;u;){var m=31-yt(u),x=1<<m;x&i|n[m]&i&&(n[m]|=i),u&=~x}}var Dt=0;function bo(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ya,Us,xa,wa,Si,Ni=!1,So=[],yr=null,es=null,Rr=null,ji=new Map,ft=new Map,jn=[],Kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fl(n,i){switch(n){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":ji.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(i.pointerId)}}function Hs(n,i,u,m,x,S){return n===null||n.nativeEvent!==S?(n={blockedOn:i,domEventName:u,eventSystemFlags:m,nativeEvent:S,targetContainers:[x]},i!==null&&(i=Qs(i),i!==null&&Us(i)),n):(n.eventSystemFlags|=m,i=n.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),n)}function zl(n,i,u,m,x){switch(i){case"focusin":return yr=Hs(yr,n,i,u,m,x),!0;case"dragenter":return es=Hs(es,n,i,u,m,x),!0;case"mouseover":return Rr=Hs(Rr,n,i,u,m,x),!0;case"pointerover":var S=x.pointerId;return ji.set(S,Hs(ji.get(S)||null,n,i,u,m,x)),!0;case"gotpointercapture":return S=x.pointerId,ft.set(S,Hs(ft.get(S)||null,n,i,u,m,x)),!0}return!1}function _a(n){var i=Xs(n.target);if(i!==null){var u=xs(i);if(u!==null){if(i=u.tag,i===13){if(i=Bs(u),i!==null){n.blockedOn=i,Si(n.priority,function(){xa(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Lr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var u=Na(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var m=new u.constructor(u.type,u);he=m,u.target.dispatchEvent(m),he=null}else return i=Qs(u),i!==null&&Us(i),n.blockedOn=u,!1;i.shift()}return!0}function ba(n,i,u){Lr(n)&&u.delete(i)}function Ei(){Ni=!1,yr!==null&&Lr(yr)&&(yr=null),es!==null&&Lr(es)&&(es=null),Rr!==null&&Lr(Rr)&&(Rr=null),ji.forEach(ba),ft.forEach(ba)}function ln(n,i){n.blockedOn===i&&(n.blockedOn=null,Ni||(Ni=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ei)))}function xr(n){function i(x){return ln(x,n)}if(0<So.length){ln(So[0],n);for(var u=1;u<So.length;u++){var m=So[u];m.blockedOn===n&&(m.blockedOn=null)}}for(yr!==null&&ln(yr,n),es!==null&&ln(es,n),Rr!==null&&ln(Rr,n),ji.forEach(i),ft.forEach(i),u=0;u<jn.length;u++)m=jn[u],m.blockedOn===n&&(m.blockedOn=null);for(;0<jn.length&&(u=jn[0],u.blockedOn===null);)_a(u),u.blockedOn===null&&jn.shift()}var Ws=O.ReactCurrentBatchConfig,Ci=!0;function Bf(n,i,u,m){var x=Dt,S=Ws.transition;Ws.transition=null;try{Dt=1,Pi(n,i,u,m)}finally{Dt=x,Ws.transition=S}}function pu(n,i,u,m){var x=Dt,S=Ws.transition;Ws.transition=null;try{Dt=4,Pi(n,i,u,m)}finally{Dt=x,Ws.transition=S}}function Pi(n,i,u,m){if(Ci){var x=Na(n,i,u,m);if(x===null)r(n,i,m,Sa,u),Fl(n,m);else if(zl(x,n,i,u,m))m.stopPropagation();else if(Fl(n,m),i&4&&-1<Kt.indexOf(n)){for(;x!==null;){var S=Qs(x);if(S!==null&&ya(S),S=Na(n,i,u,m),S===null&&r(n,i,m,Sa,u),S===x)break;x=S}x!==null&&m.stopPropagation()}else r(n,i,m,null,u)}}var Sa=null;function Na(n,i,u,m){if(Sa=null,n=pe(m),n=Xs(n),n!==null)if(i=xs(n),i===null)n=null;else if(u=i.tag,u===13){if(n=Bs(i),n!==null)return n;n=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Sa=n,null}function Mt(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($f()){case Dl:return 1;case hu:return 4;case pa:case Ol:return 16;case yo:return 536870912;default:return 16}default:return 16}}var ws=null,Zn=null,_s=null;function $l(){if(_s)return _s;var n,i=Zn,u=i.length,m,x="value"in ws?ws.value:ws.textContent,S=x.length;for(n=0;n<u&&i[n]===x[n];n++);var R=u-n;for(m=1;m<=R&&i[u-m]===x[S-m];m++);return _s=x.slice(n,1<m?1-m:void 0)}function ja(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function No(){return!0}function gu(){return!1}function On(n){function i(u,m,x,S,R){this._reactName=u,this._targetInst=x,this.type=m,this.nativeEvent=S,this.target=R,this.currentTarget=null;for(var $ in n)n.hasOwnProperty($)&&(u=n[$],this[$]=u?u(S):S[$]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?No:gu,this.isPropagationStopped=gu,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),i}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=On(jo),Vs=oe({},jo,{view:0,detail:0}),Uf=On(Vs),tr,Ul,Eo,wr=oe({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Eo&&(Eo&&n.type==="mousemove"?(tr=n.screenX-Eo.screenX,Ul=n.screenY-Eo.screenY):Ul=tr=0,Eo=n),tr)},movementY:function(n){return"movementY"in n?n.movementY:Ul}}),Hl=On(wr),vu=oe({},wr,{dataTransfer:0}),Wl=On(vu),Hf=oe({},Vs,{relatedTarget:0}),Ea=On(Hf),yu=oe({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),Wf=On(yu),Vf=oe({},jo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Vl=On(Vf),Zf=oe({},jo,{data:0}),Zl=On(Zf),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ca={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qf(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Zs[n])?!!i[n]:!1}function qs(){return qf}var nr=oe({},Vs,{key:function(n){if(n.key){var i=xu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ja(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Ca[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(n){return n.type==="keypress"?ja(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ja(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wu=On(nr),_u=oe({},wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bu=On(_u),ql=oe({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),Gl=On(ql),Gf=oe({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yf=On(Gf),Su=oe({},wr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Kf=On(Su),_r=[9,13,27,32],bs=p&&"CompositionEvent"in window,Ti=null;p&&"documentMode"in document&&(Ti=document.documentMode);var ts=p&&"TextEvent"in window&&!Ti,Nu=p&&(!bs||Ti&&8<Ti&&11>=Ti),Gs=" ",ju=!1;function Co(n,i){switch(n){case"keyup":return _r.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yl(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ns=!1;function Xf(n,i){switch(n){case"compositionend":return Yl(i);case"keypress":return i.which!==32?null:(ju=!0,Gs);case"textInput":return n=i.data,n===Gs&&ju?null:n;default:return null}}function Ss(n,i){if(ns)return n==="compositionend"||!bs&&Co(n,i)?(n=$l(),_s=Zn=ws=null,ns=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Nu&&i.locale!=="ko"?null:i.data;default:return null}}var Pa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Pa[n.type]:i==="textarea"}function Ta(n,i,u,m){tt(m),i=h(i,"onChange"),0<i.length&&(u=new Bl("onChange","change",null,u,m),n.push({event:u,listeners:i}))}var ki=null,qn=null;function Qf(n){sc(n,0)}function rs(n){var i=Js(n);if(Je(i))return n}function Jf(n,i){if(n==="change")return i}var Ar=!1;if(p){var Po;if(p){var ka="oninput"in document;if(!ka){var Ma=document.createElement("div");Ma.setAttribute("oninput","return;"),ka=typeof Ma.oninput=="function"}Po=ka}else Po=!1;Ar=Po&&(!document.documentMode||9<document.documentMode)}function Mi(){ki&&(ki.detachEvent("onpropertychange",Ra),qn=ki=null)}function Ra(n){if(n.propertyName==="value"&&rs(qn)){var i=[];Ta(i,qn,n,pe(n)),$s(Qf,i)}}function La(n,i,u){n==="focusin"?(Mi(),ki=i,qn=u,ki.attachEvent("onpropertychange",Ra)):n==="focusout"&&Mi()}function To(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rs(qn)}function Aa(n,i){if(n==="click")return rs(i)}function Kl(n,i){if(n==="input"||n==="change")return rs(i)}function Cu(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var br=typeof Object.is=="function"?Object.is:Cu;function Ns(n,i){if(br(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var u=Object.keys(n),m=Object.keys(i);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var x=u[m];if(!g.call(i,x)||!br(n[x],i[x]))return!1}return!0}function Pu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Xl(n,i){var u=Pu(n);n=0;for(var m;u;){if(u.nodeType===3){if(m=n+u.textContent.length,n<=i&&m>=i)return{node:u,offset:i-n};n=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Pu(u)}}function Tu(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Tu(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ql(){for(var n=window,i=Lt();i instanceof n.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)n=i.contentWindow;else break;i=Lt(n.document)}return i}function Jl(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Dr(n){var i=Ql(),u=n.focusedElem,m=n.selectionRange;if(i!==u&&u&&u.ownerDocument&&Tu(u.ownerDocument.documentElement,u)){if(m!==null&&Jl(u)){if(i=m.start,n=m.end,n===void 0&&(n=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(n,u.value.length);else if(n=(i=u.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var x=u.textContent.length,S=Math.min(m.start,x);m=m.end===void 0?S:Math.min(m.end,x),!n.extend&&S>m&&(x=m,m=S,S=x),x=Xl(u,S);var R=Xl(u,m);x&&R&&(n.rangeCount!==1||n.anchorNode!==x.node||n.anchorOffset!==x.offset||n.focusNode!==R.node||n.focusOffset!==R.offset)&&(i=i.createRange(),i.setStart(x.node,x.offset),n.removeAllRanges(),S>m?(n.addRange(i),n.extend(R.node,R.offset)):(i.setEnd(R.node,R.offset),n.addRange(i)))}}for(i=[],n=u;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)n=i[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Da=p&&"documentMode"in document&&11>=document.documentMode,ko=null,Mo=null,Ri=null,Oa=!1;function ku(n,i,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Oa||ko==null||ko!==Lt(m)||(m=ko,"selectionStart"in m&&Jl(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Ri&&Ns(Ri,m)||(Ri=m,m=h(Mo,"onSelect"),0<m.length&&(i=new Bl("onSelect","select",null,i,u),n.push({event:i,listeners:m}),i.target=ko)))}function js(n,i){var u={};return u[n.toLowerCase()]=i.toLowerCase(),u["Webkit"+n]="webkit"+i,u["Moz"+n]="moz"+i,u}var Ro={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},Es={},ec={};p&&(ec=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Li(n){if(Es[n])return Es[n];if(!Ro[n])return n;var i=Ro[n],u;for(u in i)if(i.hasOwnProperty(u)&&u in ec)return Es[n]=i[u];return n}var Mu=Li("animationend"),Or=Li("animationiteration"),tc=Li("animationstart"),nc=Li("transitionend"),Lo=new Map,Ru="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(n,i){Lo.set(n,i),d(i,[n])}for(var Ys=0;Ys<Ru.length;Ys++){var Ia=Ru[Ys],Lu=Ia.toLowerCase(),eh=Ia[0].toUpperCase()+Ia.slice(1);Sr(Lu,"on"+eh)}Sr(Mu,"onAnimationEnd"),Sr(Or,"onAnimationIteration"),Sr(tc,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(nc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Au=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function rc(n,i,u){var m=n.type||"unknown-event";n.currentTarget=u,Rl(m,i,void 0,n),n.currentTarget=null}function sc(n,i){i=(i&4)!==0;for(var u=0;u<n.length;u++){var m=n[u],x=m.event;m=m.listeners;e:{var S=void 0;if(i)for(var R=m.length-1;0<=R;R--){var $=m[R],V=$.instance,ce=$.currentTarget;if($=$.listener,V!==S&&x.isPropagationStopped())break e;rc(x,$,ce),S=V}else for(R=0;R<m.length;R++){if($=m[R],V=$.instance,ce=$.currentTarget,$=$.listener,V!==S&&x.isPropagationStopped())break e;rc(x,$,ce),S=V}}}if(wi)throw n=ha,wi=!1,ha=null,n}function Xt(n,i){var u=i[Fo];u===void 0&&(u=i[Fo]=new Set);var m=n+"__bubble";u.has(m)||(Du(i,n,2,!1),u.add(m))}function oc(n,i,u){var m=0;i&&(m|=4),Du(u,n,m,i)}var Ai="_reactListening"+Math.random().toString(36).slice(2);function Do(n){if(!n[Ai]){n[Ai]=!0,a.forEach(function(u){u!=="selectionchange"&&(Au.has(u)||oc(u,!1,n),oc(u,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ai]||(i[Ai]=!0,oc("selectionchange",!1,i))}}function Du(n,i,u,m){switch(Mt(i)){case 1:var x=Bf;break;case 4:x=pu;break;default:x=Pi}u=x.bind(null,i,u,n),x=void 0,!vo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),m?x!==void 0?n.addEventListener(i,u,{capture:!0,passive:x}):n.addEventListener(i,u,!0):x!==void 0?n.addEventListener(i,u,{passive:x}):n.addEventListener(i,u,!1)}function r(n,i,u,m,x){var S=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var $=m.stateNode.containerInfo;if($===x||$.nodeType===8&&$.parentNode===x)break;if(R===4)for(R=m.return;R!==null;){var V=R.tag;if((V===3||V===4)&&(V=R.stateNode.containerInfo,V===x||V.nodeType===8&&V.parentNode===x))return;R=R.return}for(;$!==null;){if(R=Xs($),R===null)return;if(V=R.tag,V===5||V===6){m=S=R;continue e}$=$.parentNode}}m=m.return}$s(function(){var ce=S,ke=pe(u),Le=[];e:{var Te=Lo.get(n);if(Te!==void 0){var We=Bl,Ye=n;switch(n){case"keypress":if(ja(u)===0)break e;case"keydown":case"keyup":We=wu;break;case"focusin":Ye="focus",We=Ea;break;case"focusout":Ye="blur",We=Ea;break;case"beforeblur":case"afterblur":We=Ea;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Gl;break;case Mu:case Or:case tc:We=Wf;break;case nc:We=Yf;break;case"scroll":We=Uf;break;case"wheel":We=Kf;break;case"copy":case"cut":case"paste":We=Vl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=bu}var Ke=(i&4)!==0,yn=!Ke&&n==="scroll",re=Ke?Te!==null?Te+"Capture":null:Te;Ke=[];for(var G=ce,ie;G!==null;){ie=G;var Ie=ie.stateNode;if(ie.tag===5&&Ie!==null&&(ie=Ie,re!==null&&(Ie=vs(G,re),Ie!=null&&Ke.push(l(G,Ie,ie)))),yn)break;G=G.return}0<Ke.length&&(Te=new We(Te,Ye,null,u,ke),Le.push({event:Te,listeners:Ke}))}}if((i&7)===0){e:{if(Te=n==="mouseover"||n==="pointerover",We=n==="mouseout"||n==="pointerout",Te&&u!==he&&(Ye=u.relatedTarget||u.fromElement)&&(Xs(Ye)||Ye[Vt]))break e;if((We||Te)&&(Te=ke.window===ke?ke:(Te=ke.ownerDocument)?Te.defaultView||Te.parentWindow:window,We?(Ye=u.relatedTarget||u.toElement,We=ce,Ye=Ye?Xs(Ye):null,Ye!==null&&(yn=xs(Ye),Ye!==yn||Ye.tag!==5&&Ye.tag!==6)&&(Ye=null)):(We=null,Ye=ce),We!==Ye)){if(Ke=Hl,Ie="onMouseLeave",re="onMouseEnter",G="mouse",(n==="pointerout"||n==="pointerover")&&(Ke=bu,Ie="onPointerLeave",re="onPointerEnter",G="pointer"),yn=We==null?Te:Js(We),ie=Ye==null?Te:Js(Ye),Te=new Ke(Ie,G+"leave",We,u,ke),Te.target=yn,Te.relatedTarget=ie,Ie=null,Xs(ke)===ce&&(Ke=new Ke(re,G+"enter",Ye,u,ke),Ke.target=ie,Ke.relatedTarget=yn,Ie=Ke),yn=Ie,We&&Ye)t:{for(Ke=We,re=Ye,G=0,ie=Ke;ie;ie=y(ie))G++;for(ie=0,Ie=re;Ie;Ie=y(Ie))ie++;for(;0<G-ie;)Ke=y(Ke),G--;for(;0<ie-G;)re=y(re),ie--;for(;G--;){if(Ke===re||re!==null&&Ke===re.alternate)break t;Ke=y(Ke),re=y(re)}Ke=null}else Ke=null;We!==null&&E(Le,Te,We,Ke,!1),Ye!==null&&yn!==null&&E(Le,yn,Ye,Ke,!0)}}e:{if(Te=ce?Js(ce):window,We=Te.nodeName&&Te.nodeName.toLowerCase(),We==="select"||We==="input"&&Te.type==="file")var Xe=Jf;else if(Eu(Te))if(Ar)Xe=Kl;else{Xe=To;var ot=La}else(We=Te.nodeName)&&We.toLowerCase()==="input"&&(Te.type==="checkbox"||Te.type==="radio")&&(Xe=Aa);if(Xe&&(Xe=Xe(n,ce))){Ta(Le,Xe,u,ke);break e}ot&&ot(n,Te,ce),n==="focusout"&&(ot=Te._wrapperState)&&ot.controlled&&Te.type==="number"&&Ne(Te,"number",Te.value)}switch(ot=ce?Js(ce):window,n){case"focusin":(Eu(ot)||ot.contentEditable==="true")&&(ko=ot,Mo=ce,Ri=null);break;case"focusout":Ri=Mo=ko=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,ku(Le,u,ke);break;case"selectionchange":if(Da)break;case"keydown":case"keyup":ku(Le,u,ke)}var it;if(bs)e:{switch(n){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else ns?Co(n,u)&&(mt="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(mt="onCompositionStart");mt&&(Nu&&u.locale!=="ko"&&(ns||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&ns&&(it=$l()):(ws=ke,Zn="value"in ws?ws.value:ws.textContent,ns=!0)),ot=h(ce,mt),0<ot.length&&(mt=new Zl(mt,n,null,u,ke),Le.push({event:mt,listeners:ot}),it?mt.data=it:(it=Yl(u),it!==null&&(mt.data=it)))),(it=ts?Xf(n,u):Ss(n,u))&&(ce=h(ce,"onBeforeInput"),0<ce.length&&(ke=new Zl("onBeforeInput","beforeinput",null,u,ke),Le.push({event:ke,listeners:ce}),ke.data=it))}sc(Le,i)})}function l(n,i,u){return{instance:n,listener:i,currentTarget:u}}function h(n,i){for(var u=i+"Capture",m=[];n!==null;){var x=n,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=vs(n,u),S!=null&&m.unshift(l(n,S,x)),S=vs(n,i),S!=null&&m.push(l(n,S,x))),n=n.return}return m}function y(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function E(n,i,u,m,x){for(var S=i._reactName,R=[];u!==null&&u!==m;){var $=u,V=$.alternate,ce=$.stateNode;if(V!==null&&V===m)break;$.tag===5&&ce!==null&&($=ce,x?(V=vs(u,S),V!=null&&R.unshift(l(u,V,$))):x||(V=vs(u,S),V!=null&&R.push(l(u,V,$)))),u=u.return}R.length!==0&&n.push({event:i,listeners:R})}var A=/\r\n?/g,H=/\u0000|\uFFFD/g;function ne(n){return(typeof n=="string"?n:""+n).replace(A,`
`).replace(H,"")}function le(n,i,u){if(i=ne(i),ne(n)!==i&&u)throw Error(s(425))}function _e(){}var Ue=null,rt=null;function wt(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var En=typeof setTimeout=="function"?setTimeout:void 0,wn=typeof clearTimeout=="function"?clearTimeout:void 0,Gn=typeof Promise=="function"?Promise:void 0,In=typeof queueMicrotask=="function"?queueMicrotask:typeof Gn<"u"?function(n){return Gn.resolve(null).then(n).catch(Oo)}:En;function Oo(n){setTimeout(function(){throw n})}function ic(n,i){var u=i,m=0;do{var x=u.nextSibling;if(n.removeChild(u),x&&x.nodeType===8)if(u=x.data,u==="/$"){if(m===0){n.removeChild(x),xr(i);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=x}while(u);xr(i)}function Cs(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Ou(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return n;i--}else u==="/$"&&i++}n=n.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Ir="__reactFiber$"+Ks,Io="__reactProps$"+Ks,Vt="__reactContainer$"+Ks,Fo="__reactEvents$"+Ks,th="__reactListeners$"+Ks,nh="__reactHandles$"+Ks;function Xs(n){var i=n[Ir];if(i)return i;for(var u=n.parentNode;u;){if(i=u[Vt]||u[Ir]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(n=Ou(n);n!==null;){if(u=n[Ir])return u;n=Ou(n)}return i}n=u,u=n.parentNode}return null}function Qs(n){return n=n[Ir]||n[Vt],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Js(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function Fa(n){return n[Io]||null}var rh=[],za=-1;function zo(n){return{current:n}}function tn(n){0>za||(n.current=rh[za],rh[za]=null,za--)}function Jt(n,i){za++,rh[za]=n.current,n.current=i}var $o={},Fn=zo($o),rr=zo(!1),Di=$o;function $a(n,i){var u=n.type.contextTypes;if(!u)return $o;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in u)x[S]=i[S];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=x),x}function sr(n){return n=n.childContextTypes,n!=null}function Iu(){tn(rr),tn(Fn)}function sg(n,i,u){if(Fn.current!==$o)throw Error(s(168));Jt(Fn,i),Jt(rr,u)}function og(n,i,u){var m=n.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var x in m)if(!(x in i))throw Error(s(108,B(n)||"Unknown",x));return oe({},u,m)}function Fu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||$o,Di=Fn.current,Jt(Fn,n),Jt(rr,rr.current),!0}function ig(n,i,u){var m=n.stateNode;if(!m)throw Error(s(169));u?(n=og(n,i,Di),m.__reactInternalMemoizedMergedChildContext=n,tn(rr),tn(Fn),Jt(Fn,n)):tn(rr),Jt(rr,u)}var eo=null,zu=!1,sh=!1;function ag(n){eo===null?eo=[n]:eo.push(n)}function Qb(n){zu=!0,ag(n)}function Bo(){if(!sh&&eo!==null){sh=!0;var n=0,i=Dt;try{var u=eo;for(Dt=1;n<u.length;n++){var m=u[n];do m=m(!0);while(m!==null)}eo=null,zu=!1}catch(x){throw eo!==null&&(eo=eo.slice(n+1)),fu(Dl,Bo),x}finally{Dt=i,sh=!1}}return null}var Ba=[],Ua=0,$u=null,Bu=0,Fr=[],zr=0,Oi=null,to=1,no="";function Ii(n,i){Ba[Ua++]=Bu,Ba[Ua++]=$u,$u=n,Bu=i}function lg(n,i,u){Fr[zr++]=to,Fr[zr++]=no,Fr[zr++]=Oi,Oi=n;var m=to;n=no;var x=32-yt(m)-1;m&=~(1<<x),u+=1;var S=32-yt(i)+x;if(30<S){var R=x-x%5;S=(m&(1<<R)-1).toString(32),m>>=R,x-=R,to=1<<32-yt(i)+x|u<<x|m,no=S+n}else to=1<<S|u<<x|m,no=n}function oh(n){n.return!==null&&(Ii(n,1),lg(n,1,0))}function ih(n){for(;n===$u;)$u=Ba[--Ua],Ba[Ua]=null,Bu=Ba[--Ua],Ba[Ua]=null;for(;n===Oi;)Oi=Fr[--zr],Fr[zr]=null,no=Fr[--zr],Fr[zr]=null,to=Fr[--zr],Fr[zr]=null}var Nr=null,jr=null,sn=!1,ss=null;function cg(n,i){var u=Hr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=n,i=n.deletions,i===null?(n.deletions=[u],n.flags|=16):i.push(u)}function ug(n,i){switch(n.tag){case 5:var u=n.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Nr=n,jr=Cs(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Nr=n,jr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=Oi!==null?{id:to,overflow:no}:null,n.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Hr(18,null,null,0),u.stateNode=i,u.return=n,n.child=u,Nr=n,jr=null,!0):!1;default:return!1}}function ah(n){return(n.mode&1)!==0&&(n.flags&128)===0}function lh(n){if(sn){var i=jr;if(i){var u=i;if(!ug(n,i)){if(ah(n))throw Error(s(418));i=Cs(u.nextSibling);var m=Nr;i&&ug(n,i)?cg(m,u):(n.flags=n.flags&-4097|2,sn=!1,Nr=n)}}else{if(ah(n))throw Error(s(418));n.flags=n.flags&-4097|2,sn=!1,Nr=n}}}function dg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Nr=n}function Uu(n){if(n!==Nr)return!1;if(!sn)return dg(n),sn=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!wt(n.type,n.memoizedProps)),i&&(i=jr)){if(ah(n))throw fg(),Error(s(418));for(;i;)cg(n,i),i=Cs(i.nextSibling)}if(dg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(i===0){jr=Cs(n.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}n=n.nextSibling}jr=null}}else jr=Nr?Cs(n.stateNode.nextSibling):null;return!0}function fg(){for(var n=jr;n;)n=Cs(n.nextSibling)}function Ha(){jr=Nr=null,sn=!1}function ch(n){ss===null?ss=[n]:ss.push(n)}var Jb=O.ReactCurrentBatchConfig;function ac(n,i,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(s(309));var m=u.stateNode}if(!m)throw Error(s(147,n));var x=m,S=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===S?i.ref:(i=function(R){var $=x.refs;R===null?delete $[S]:$[S]=R},i._stringRef=S,i)}if(typeof n!="string")throw Error(s(284));if(!u._owner)throw Error(s(290,n))}return n}function Hu(n,i){throw n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function hg(n){var i=n._init;return i(n._payload)}function mg(n){function i(re,G){if(n){var ie=re.deletions;ie===null?(re.deletions=[G],re.flags|=16):ie.push(G)}}function u(re,G){if(!n)return null;for(;G!==null;)i(re,G),G=G.sibling;return null}function m(re,G){for(re=new Map;G!==null;)G.key!==null?re.set(G.key,G):re.set(G.index,G),G=G.sibling;return re}function x(re,G){return re=Yo(re,G),re.index=0,re.sibling=null,re}function S(re,G,ie){return re.index=ie,n?(ie=re.alternate,ie!==null?(ie=ie.index,ie<G?(re.flags|=2,G):ie):(re.flags|=2,G)):(re.flags|=1048576,G)}function R(re){return n&&re.alternate===null&&(re.flags|=2),re}function $(re,G,ie,Ie){return G===null||G.tag!==6?(G=em(ie,re.mode,Ie),G.return=re,G):(G=x(G,ie),G.return=re,G)}function V(re,G,ie,Ie){var Xe=ie.type;return Xe===z?ke(re,G,ie.props.children,Ie,ie.key):G!==null&&(G.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===te&&hg(Xe)===G.type)?(Ie=x(G,ie.props),Ie.ref=ac(re,G,ie),Ie.return=re,Ie):(Ie=hd(ie.type,ie.key,ie.props,null,re.mode,Ie),Ie.ref=ac(re,G,ie),Ie.return=re,Ie)}function ce(re,G,ie,Ie){return G===null||G.tag!==4||G.stateNode.containerInfo!==ie.containerInfo||G.stateNode.implementation!==ie.implementation?(G=tm(ie,re.mode,Ie),G.return=re,G):(G=x(G,ie.children||[]),G.return=re,G)}function ke(re,G,ie,Ie,Xe){return G===null||G.tag!==7?(G=Vi(ie,re.mode,Ie,Xe),G.return=re,G):(G=x(G,ie),G.return=re,G)}function Le(re,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number")return G=em(""+G,re.mode,ie),G.return=re,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case I:return ie=hd(G.type,G.key,G.props,null,re.mode,ie),ie.ref=ac(re,null,G),ie.return=re,ie;case Z:return G=tm(G,re.mode,ie),G.return=re,G;case te:var Ie=G._init;return Le(re,Ie(G._payload),ie)}if($e(G)||ue(G))return G=Vi(G,re.mode,ie,null),G.return=re,G;Hu(re,G)}return null}function Te(re,G,ie,Ie){var Xe=G!==null?G.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Xe!==null?null:$(re,G,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:return ie.key===Xe?V(re,G,ie,Ie):null;case Z:return ie.key===Xe?ce(re,G,ie,Ie):null;case te:return Xe=ie._init,Te(re,G,Xe(ie._payload),Ie)}if($e(ie)||ue(ie))return Xe!==null?null:ke(re,G,ie,Ie,null);Hu(re,ie)}return null}function We(re,G,ie,Ie,Xe){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return re=re.get(ie)||null,$(G,re,""+Ie,Xe);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case I:return re=re.get(Ie.key===null?ie:Ie.key)||null,V(G,re,Ie,Xe);case Z:return re=re.get(Ie.key===null?ie:Ie.key)||null,ce(G,re,Ie,Xe);case te:var ot=Ie._init;return We(re,G,ie,ot(Ie._payload),Xe)}if($e(Ie)||ue(Ie))return re=re.get(ie)||null,ke(G,re,Ie,Xe,null);Hu(G,Ie)}return null}function Ye(re,G,ie,Ie){for(var Xe=null,ot=null,it=G,mt=G=0,Rn=null;it!==null&&mt<ie.length;mt++){it.index>mt?(Rn=it,it=null):Rn=it.sibling;var Bt=Te(re,it,ie[mt],Ie);if(Bt===null){it===null&&(it=Rn);break}n&&it&&Bt.alternate===null&&i(re,it),G=S(Bt,G,mt),ot===null?Xe=Bt:ot.sibling=Bt,ot=Bt,it=Rn}if(mt===ie.length)return u(re,it),sn&&Ii(re,mt),Xe;if(it===null){for(;mt<ie.length;mt++)it=Le(re,ie[mt],Ie),it!==null&&(G=S(it,G,mt),ot===null?Xe=it:ot.sibling=it,ot=it);return sn&&Ii(re,mt),Xe}for(it=m(re,it);mt<ie.length;mt++)Rn=We(it,re,mt,ie[mt],Ie),Rn!==null&&(n&&Rn.alternate!==null&&it.delete(Rn.key===null?mt:Rn.key),G=S(Rn,G,mt),ot===null?Xe=Rn:ot.sibling=Rn,ot=Rn);return n&&it.forEach(function(Ko){return i(re,Ko)}),sn&&Ii(re,mt),Xe}function Ke(re,G,ie,Ie){var Xe=ue(ie);if(typeof Xe!="function")throw Error(s(150));if(ie=Xe.call(ie),ie==null)throw Error(s(151));for(var ot=Xe=null,it=G,mt=G=0,Rn=null,Bt=ie.next();it!==null&&!Bt.done;mt++,Bt=ie.next()){it.index>mt?(Rn=it,it=null):Rn=it.sibling;var Ko=Te(re,it,Bt.value,Ie);if(Ko===null){it===null&&(it=Rn);break}n&&it&&Ko.alternate===null&&i(re,it),G=S(Ko,G,mt),ot===null?Xe=Ko:ot.sibling=Ko,ot=Ko,it=Rn}if(Bt.done)return u(re,it),sn&&Ii(re,mt),Xe;if(it===null){for(;!Bt.done;mt++,Bt=ie.next())Bt=Le(re,Bt.value,Ie),Bt!==null&&(G=S(Bt,G,mt),ot===null?Xe=Bt:ot.sibling=Bt,ot=Bt);return sn&&Ii(re,mt),Xe}for(it=m(re,it);!Bt.done;mt++,Bt=ie.next())Bt=We(it,re,mt,Bt.value,Ie),Bt!==null&&(n&&Bt.alternate!==null&&it.delete(Bt.key===null?mt:Bt.key),G=S(Bt,G,mt),ot===null?Xe=Bt:ot.sibling=Bt,ot=Bt);return n&&it.forEach(function(R1){return i(re,R1)}),sn&&Ii(re,mt),Xe}function yn(re,G,ie,Ie){if(typeof ie=="object"&&ie!==null&&ie.type===z&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:e:{for(var Xe=ie.key,ot=G;ot!==null;){if(ot.key===Xe){if(Xe=ie.type,Xe===z){if(ot.tag===7){u(re,ot.sibling),G=x(ot,ie.props.children),G.return=re,re=G;break e}}else if(ot.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===te&&hg(Xe)===ot.type){u(re,ot.sibling),G=x(ot,ie.props),G.ref=ac(re,ot,ie),G.return=re,re=G;break e}u(re,ot);break}else i(re,ot);ot=ot.sibling}ie.type===z?(G=Vi(ie.props.children,re.mode,Ie,ie.key),G.return=re,re=G):(Ie=hd(ie.type,ie.key,ie.props,null,re.mode,Ie),Ie.ref=ac(re,G,ie),Ie.return=re,re=Ie)}return R(re);case Z:e:{for(ot=ie.key;G!==null;){if(G.key===ot)if(G.tag===4&&G.stateNode.containerInfo===ie.containerInfo&&G.stateNode.implementation===ie.implementation){u(re,G.sibling),G=x(G,ie.children||[]),G.return=re,re=G;break e}else{u(re,G);break}else i(re,G);G=G.sibling}G=tm(ie,re.mode,Ie),G.return=re,re=G}return R(re);case te:return ot=ie._init,yn(re,G,ot(ie._payload),Ie)}if($e(ie))return Ye(re,G,ie,Ie);if(ue(ie))return Ke(re,G,ie,Ie);Hu(re,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,G!==null&&G.tag===6?(u(re,G.sibling),G=x(G,ie),G.return=re,re=G):(u(re,G),G=em(ie,re.mode,Ie),G.return=re,re=G),R(re)):u(re,G)}return yn}var Wa=mg(!0),pg=mg(!1),Wu=zo(null),Vu=null,Va=null,uh=null;function dh(){uh=Va=Vu=null}function fh(n){var i=Wu.current;tn(Wu),n._currentValue=i}function hh(n,i,u){for(;n!==null;){var m=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),n===u)break;n=n.return}}function Za(n,i){Vu=n,uh=Va=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(or=!0),n.firstContext=null)}function $r(n){var i=n._currentValue;if(uh!==n)if(n={context:n,memoizedValue:i,next:null},Va===null){if(Vu===null)throw Error(s(308));Va=n,Vu.dependencies={lanes:0,firstContext:n}}else Va=Va.next=n;return i}var Fi=null;function mh(n){Fi===null?Fi=[n]:Fi.push(n)}function gg(n,i,u,m){var x=i.interleaved;return x===null?(u.next=u,mh(i)):(u.next=x.next,x.next=u),i.interleaved=u,ro(n,m)}function ro(n,i){n.lanes|=i;var u=n.alternate;for(u!==null&&(u.lanes|=i),u=n,n=n.return;n!==null;)n.childLanes|=i,u=n.alternate,u!==null&&(u.childLanes|=i),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Uo=!1;function ph(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function so(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Ho(n,i,u){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(zt&2)!==0){var x=m.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),m.pending=i,ro(n,u)}return x=m.interleaved,x===null?(i.next=i,mh(m)):(i.next=x.next,x.next=i),m.interleaved=i,ro(n,u)}function Zu(n,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var m=i.lanes;m&=n.pendingLanes,u|=m,i.lanes=u,Jr(n,u)}}function yg(n,i){var u=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var x=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};S===null?x=S=R:S=S.next=R,u=u.next}while(u!==null);S===null?x=S=i:S=S.next=i}else x=S=i;u={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:m.shared,effects:m.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=i:n.next=i,u.lastBaseUpdate=i}function qu(n,i,u,m){var x=n.updateQueue;Uo=!1;var S=x.firstBaseUpdate,R=x.lastBaseUpdate,$=x.shared.pending;if($!==null){x.shared.pending=null;var V=$,ce=V.next;V.next=null,R===null?S=ce:R.next=ce,R=V;var ke=n.alternate;ke!==null&&(ke=ke.updateQueue,$=ke.lastBaseUpdate,$!==R&&($===null?ke.firstBaseUpdate=ce:$.next=ce,ke.lastBaseUpdate=V))}if(S!==null){var Le=x.baseState;R=0,ke=ce=V=null,$=S;do{var Te=$.lane,We=$.eventTime;if((m&Te)===Te){ke!==null&&(ke=ke.next={eventTime:We,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ye=n,Ke=$;switch(Te=i,We=u,Ke.tag){case 1:if(Ye=Ke.payload,typeof Ye=="function"){Le=Ye.call(We,Le,Te);break e}Le=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Ke.payload,Te=typeof Ye=="function"?Ye.call(We,Le,Te):Ye,Te==null)break e;Le=oe({},Le,Te);break e;case 2:Uo=!0}}$.callback!==null&&$.lane!==0&&(n.flags|=64,Te=x.effects,Te===null?x.effects=[$]:Te.push($))}else We={eventTime:We,lane:Te,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ke===null?(ce=ke=We,V=Le):ke=ke.next=We,R|=Te;if($=$.next,$===null){if($=x.shared.pending,$===null)break;Te=$,$=Te.next,Te.next=null,x.lastBaseUpdate=Te,x.shared.pending=null}}while(!0);if(ke===null&&(V=Le),x.baseState=V,x.firstBaseUpdate=ce,x.lastBaseUpdate=ke,i=x.shared.interleaved,i!==null){x=i;do R|=x.lane,x=x.next;while(x!==i)}else S===null&&(x.shared.lanes=0);Bi|=R,n.lanes=R,n.memoizedState=Le}}function xg(n,i,u){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var m=n[i],x=m.callback;if(x!==null){if(m.callback=null,m=u,typeof x!="function")throw Error(s(191,x));x.call(m)}}}var lc={},Ps=zo(lc),cc=zo(lc),uc=zo(lc);function zi(n){if(n===lc)throw Error(s(174));return n}function gh(n,i){switch(Jt(uc,i),Jt(cc,n),Jt(Ps,lc),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:$t(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=$t(i,n)}tn(Ps),Jt(Ps,i)}function qa(){tn(Ps),tn(cc),tn(uc)}function wg(n){zi(uc.current);var i=zi(Ps.current),u=$t(i,n.type);i!==u&&(Jt(cc,n),Jt(Ps,u))}function vh(n){cc.current===n&&(tn(Ps),tn(cc))}var cn=zo(0);function Gu(n){for(var i=n;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yh=[];function xh(){for(var n=0;n<yh.length;n++)yh[n]._workInProgressVersionPrimary=null;yh.length=0}var Yu=O.ReactCurrentDispatcher,wh=O.ReactCurrentBatchConfig,$i=0,un=null,Cn=null,kn=null,Ku=!1,dc=!1,fc=0,e1=0;function zn(){throw Error(s(321))}function _h(n,i){if(i===null)return!1;for(var u=0;u<i.length&&u<n.length;u++)if(!br(n[u],i[u]))return!1;return!0}function bh(n,i,u,m,x,S){if($i=S,un=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Yu.current=n===null||n.memoizedState===null?s1:o1,n=u(m,x),dc){S=0;do{if(dc=!1,fc=0,25<=S)throw Error(s(301));S+=1,kn=Cn=null,i.updateQueue=null,Yu.current=i1,n=u(m,x)}while(dc)}if(Yu.current=Ju,i=Cn!==null&&Cn.next!==null,$i=0,kn=Cn=un=null,Ku=!1,i)throw Error(s(300));return n}function Sh(){var n=fc!==0;return fc=0,n}function Ts(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?un.memoizedState=kn=n:kn=kn.next=n,kn}function Br(){if(Cn===null){var n=un.alternate;n=n!==null?n.memoizedState:null}else n=Cn.next;var i=kn===null?un.memoizedState:kn.next;if(i!==null)kn=i,Cn=n;else{if(n===null)throw Error(s(310));Cn=n,n={memoizedState:Cn.memoizedState,baseState:Cn.baseState,baseQueue:Cn.baseQueue,queue:Cn.queue,next:null},kn===null?un.memoizedState=kn=n:kn=kn.next=n}return kn}function hc(n,i){return typeof i=="function"?i(n):i}function Nh(n){var i=Br(),u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=n;var m=Cn,x=m.baseQueue,S=u.pending;if(S!==null){if(x!==null){var R=x.next;x.next=S.next,S.next=R}m.baseQueue=x=S,u.pending=null}if(x!==null){S=x.next,m=m.baseState;var $=R=null,V=null,ce=S;do{var ke=ce.lane;if(($i&ke)===ke)V!==null&&(V=V.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),m=ce.hasEagerState?ce.eagerState:n(m,ce.action);else{var Le={lane:ke,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};V===null?($=V=Le,R=m):V=V.next=Le,un.lanes|=ke,Bi|=ke}ce=ce.next}while(ce!==null&&ce!==S);V===null?R=m:V.next=$,br(m,i.memoizedState)||(or=!0),i.memoizedState=m,i.baseState=R,i.baseQueue=V,u.lastRenderedState=m}if(n=u.interleaved,n!==null){x=n;do S=x.lane,un.lanes|=S,Bi|=S,x=x.next;while(x!==n)}else x===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function jh(n){var i=Br(),u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=n;var m=u.dispatch,x=u.pending,S=i.memoizedState;if(x!==null){u.pending=null;var R=x=x.next;do S=n(S,R.action),R=R.next;while(R!==x);br(S,i.memoizedState)||(or=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),u.lastRenderedState=S}return[S,m]}function _g(){}function bg(n,i){var u=un,m=Br(),x=i(),S=!br(m.memoizedState,x);if(S&&(m.memoizedState=x,or=!0),m=m.queue,Eh(jg.bind(null,u,m,n),[n]),m.getSnapshot!==i||S||kn!==null&&kn.memoizedState.tag&1){if(u.flags|=2048,mc(9,Ng.bind(null,u,m,x,i),void 0,null),Mn===null)throw Error(s(349));($i&30)!==0||Sg(u,i,x)}return x}function Sg(n,i,u){n.flags|=16384,n={getSnapshot:i,value:u},i=un.updateQueue,i===null?(i={lastEffect:null,stores:null},un.updateQueue=i,i.stores=[n]):(u=i.stores,u===null?i.stores=[n]:u.push(n))}function Ng(n,i,u,m){i.value=u,i.getSnapshot=m,Eg(i)&&Cg(n)}function jg(n,i,u){return u(function(){Eg(i)&&Cg(n)})}function Eg(n){var i=n.getSnapshot;n=n.value;try{var u=i();return!br(n,u)}catch{return!0}}function Cg(n){var i=ro(n,1);i!==null&&ls(i,n,1,-1)}function Pg(n){var i=Ts();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:n},i.queue=n,n=n.dispatch=r1.bind(null,un,n),[i.memoizedState,n]}function mc(n,i,u,m){return n={tag:n,create:i,destroy:u,deps:m,next:null},i=un.updateQueue,i===null?(i={lastEffect:null,stores:null},un.updateQueue=i,i.lastEffect=n.next=n):(u=i.lastEffect,u===null?i.lastEffect=n.next=n:(m=u.next,u.next=n,n.next=m,i.lastEffect=n)),n}function Tg(){return Br().memoizedState}function Xu(n,i,u,m){var x=Ts();un.flags|=n,x.memoizedState=mc(1|i,u,void 0,m===void 0?null:m)}function Qu(n,i,u,m){var x=Br();m=m===void 0?null:m;var S=void 0;if(Cn!==null){var R=Cn.memoizedState;if(S=R.destroy,m!==null&&_h(m,R.deps)){x.memoizedState=mc(i,u,S,m);return}}un.flags|=n,x.memoizedState=mc(1|i,u,S,m)}function kg(n,i){return Xu(8390656,8,n,i)}function Eh(n,i){return Qu(2048,8,n,i)}function Mg(n,i){return Qu(4,2,n,i)}function Rg(n,i){return Qu(4,4,n,i)}function Lg(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Ag(n,i,u){return u=u!=null?u.concat([n]):null,Qu(4,4,Lg.bind(null,i,n),u)}function Ch(){}function Dg(n,i){var u=Br();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&_h(i,m[1])?m[0]:(u.memoizedState=[n,i],n)}function Og(n,i){var u=Br();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&_h(i,m[1])?m[0]:(n=n(),u.memoizedState=[n,i],n)}function Ig(n,i,u){return($i&21)===0?(n.baseState&&(n.baseState=!1,or=!0),n.memoizedState=u):(br(u,i)||(u=mu(),un.lanes|=u,Bi|=u,n.baseState=!0),i)}function t1(n,i){var u=Dt;Dt=u!==0&&4>u?u:4,n(!0);var m=wh.transition;wh.transition={};try{n(!1),i()}finally{Dt=u,wh.transition=m}}function Fg(){return Br().memoizedState}function n1(n,i,u){var m=qo(n);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},zg(n))$g(i,u);else if(u=gg(n,i,u,m),u!==null){var x=Kn();ls(u,n,m,x),Bg(u,i,m)}}function r1(n,i,u){var m=qo(n),x={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(zg(n))$g(i,x);else{var S=n.alternate;if(n.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var R=i.lastRenderedState,$=S(R,u);if(x.hasEagerState=!0,x.eagerState=$,br($,R)){var V=i.interleaved;V===null?(x.next=x,mh(i)):(x.next=V.next,V.next=x),i.interleaved=x;return}}catch{}finally{}u=gg(n,i,x,m),u!==null&&(x=Kn(),ls(u,n,m,x),Bg(u,i,m))}}function zg(n){var i=n.alternate;return n===un||i!==null&&i===un}function $g(n,i){dc=Ku=!0;var u=n.pending;u===null?i.next=i:(i.next=u.next,u.next=i),n.pending=i}function Bg(n,i,u){if((u&4194240)!==0){var m=i.lanes;m&=n.pendingLanes,u|=m,i.lanes=u,Jr(n,u)}}var Ju={readContext:$r,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useInsertionEffect:zn,useLayoutEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useMutableSource:zn,useSyncExternalStore:zn,useId:zn,unstable_isNewReconciler:!1},s1={readContext:$r,useCallback:function(n,i){return Ts().memoizedState=[n,i===void 0?null:i],n},useContext:$r,useEffect:kg,useImperativeHandle:function(n,i,u){return u=u!=null?u.concat([n]):null,Xu(4194308,4,Lg.bind(null,i,n),u)},useLayoutEffect:function(n,i){return Xu(4194308,4,n,i)},useInsertionEffect:function(n,i){return Xu(4,2,n,i)},useMemo:function(n,i){var u=Ts();return i=i===void 0?null:i,n=n(),u.memoizedState=[n,i],n},useReducer:function(n,i,u){var m=Ts();return i=u!==void 0?u(i):i,m.memoizedState=m.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},m.queue=n,n=n.dispatch=n1.bind(null,un,n),[m.memoizedState,n]},useRef:function(n){var i=Ts();return n={current:n},i.memoizedState=n},useState:Pg,useDebugValue:Ch,useDeferredValue:function(n){return Ts().memoizedState=n},useTransition:function(){var n=Pg(!1),i=n[0];return n=t1.bind(null,n[1]),Ts().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,u){var m=un,x=Ts();if(sn){if(u===void 0)throw Error(s(407));u=u()}else{if(u=i(),Mn===null)throw Error(s(349));($i&30)!==0||Sg(m,i,u)}x.memoizedState=u;var S={value:u,getSnapshot:i};return x.queue=S,kg(jg.bind(null,m,S,n),[n]),m.flags|=2048,mc(9,Ng.bind(null,m,S,u,i),void 0,null),u},useId:function(){var n=Ts(),i=Mn.identifierPrefix;if(sn){var u=no,m=to;u=(m&~(1<<32-yt(m)-1)).toString(32)+u,i=":"+i+"R"+u,u=fc++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=e1++,i=":"+i+"r"+u.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},o1={readContext:$r,useCallback:Dg,useContext:$r,useEffect:Eh,useImperativeHandle:Ag,useInsertionEffect:Mg,useLayoutEffect:Rg,useMemo:Og,useReducer:Nh,useRef:Tg,useState:function(){return Nh(hc)},useDebugValue:Ch,useDeferredValue:function(n){var i=Br();return Ig(i,Cn.memoizedState,n)},useTransition:function(){var n=Nh(hc)[0],i=Br().memoizedState;return[n,i]},useMutableSource:_g,useSyncExternalStore:bg,useId:Fg,unstable_isNewReconciler:!1},i1={readContext:$r,useCallback:Dg,useContext:$r,useEffect:Eh,useImperativeHandle:Ag,useInsertionEffect:Mg,useLayoutEffect:Rg,useMemo:Og,useReducer:jh,useRef:Tg,useState:function(){return jh(hc)},useDebugValue:Ch,useDeferredValue:function(n){var i=Br();return Cn===null?i.memoizedState=n:Ig(i,Cn.memoizedState,n)},useTransition:function(){var n=jh(hc)[0],i=Br().memoizedState;return[n,i]},useMutableSource:_g,useSyncExternalStore:bg,useId:Fg,unstable_isNewReconciler:!1};function os(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var u in n)i[u]===void 0&&(i[u]=n[u]);return i}return i}function Ph(n,i,u,m){i=n.memoizedState,u=u(m,i),u=u==null?i:oe({},i,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var ed={isMounted:function(n){return(n=n._reactInternals)?xs(n)===n:!1},enqueueSetState:function(n,i,u){n=n._reactInternals;var m=Kn(),x=qo(n),S=so(m,x);S.payload=i,u!=null&&(S.callback=u),i=Ho(n,S,x),i!==null&&(ls(i,n,x,m),Zu(i,n,x))},enqueueReplaceState:function(n,i,u){n=n._reactInternals;var m=Kn(),x=qo(n),S=so(m,x);S.tag=1,S.payload=i,u!=null&&(S.callback=u),i=Ho(n,S,x),i!==null&&(ls(i,n,x,m),Zu(i,n,x))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var u=Kn(),m=qo(n),x=so(u,m);x.tag=2,i!=null&&(x.callback=i),i=Ho(n,x,m),i!==null&&(ls(i,n,m,u),Zu(i,n,m))}};function Ug(n,i,u,m,x,S,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,S,R):i.prototype&&i.prototype.isPureReactComponent?!Ns(u,m)||!Ns(x,S):!0}function Hg(n,i,u){var m=!1,x=$o,S=i.contextType;return typeof S=="object"&&S!==null?S=$r(S):(x=sr(i)?Di:Fn.current,m=i.contextTypes,S=(m=m!=null)?$a(n,x):$o),i=new i(u,S),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ed,n.stateNode=i,i._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=x,n.__reactInternalMemoizedMaskedChildContext=S),i}function Wg(n,i,u,m){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,m),i.state!==n&&ed.enqueueReplaceState(i,i.state,null)}function Th(n,i,u,m){var x=n.stateNode;x.props=u,x.state=n.memoizedState,x.refs={},ph(n);var S=i.contextType;typeof S=="object"&&S!==null?x.context=$r(S):(S=sr(i)?Di:Fn.current,x.context=$a(n,S)),x.state=n.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(Ph(n,i,S,u),x.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(i=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),i!==x.state&&ed.enqueueReplaceState(x,x.state,null),qu(n,u,x,m),x.state=n.memoizedState),typeof x.componentDidMount=="function"&&(n.flags|=4194308)}function Ga(n,i){try{var u="",m=i;do u+=Pe(m),m=m.return;while(m);var x=u}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:n,source:i,stack:x,digest:null}}function kh(n,i,u){return{value:n,source:null,stack:u??null,digest:i??null}}function Mh(n,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var a1=typeof WeakMap=="function"?WeakMap:Map;function Vg(n,i,u){u=so(-1,u),u.tag=3,u.payload={element:null};var m=i.value;return u.callback=function(){ad||(ad=!0,Zh=m),Mh(n,i)},u}function Zg(n,i,u){u=so(-1,u),u.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var x=i.value;u.payload=function(){return m(x)},u.callback=function(){Mh(n,i)}}var S=n.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(u.callback=function(){Mh(n,i),typeof m!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this));var R=i.stack;this.componentDidCatch(i.value,{componentStack:R!==null?R:""})}),u}function qg(n,i,u){var m=n.pingCache;if(m===null){m=n.pingCache=new a1;var x=new Set;m.set(i,x)}else x=m.get(i),x===void 0&&(x=new Set,m.set(i,x));x.has(u)||(x.add(u),n=_1.bind(null,n,i,u),i.then(n,n))}function Gg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Yg(n,i,u,m,x){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=so(-1,1),i.tag=2,Ho(u,i,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=x,n)}var l1=O.ReactCurrentOwner,or=!1;function Yn(n,i,u,m){i.child=n===null?pg(i,null,u,m):Wa(i,n.child,u,m)}function Kg(n,i,u,m,x){u=u.render;var S=i.ref;return Za(i,x),m=bh(n,i,u,m,S,x),u=Sh(),n!==null&&!or?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~x,oo(n,i,x)):(sn&&u&&oh(i),i.flags|=1,Yn(n,i,m,x),i.child)}function Xg(n,i,u,m,x){if(n===null){var S=u.type;return typeof S=="function"&&!Jh(S)&&S.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=S,Qg(n,i,S,m,x)):(n=hd(u.type,null,m,i,i.mode,x),n.ref=i.ref,n.return=i,i.child=n)}if(S=n.child,(n.lanes&x)===0){var R=S.memoizedProps;if(u=u.compare,u=u!==null?u:Ns,u(R,m)&&n.ref===i.ref)return oo(n,i,x)}return i.flags|=1,n=Yo(S,m),n.ref=i.ref,n.return=i,i.child=n}function Qg(n,i,u,m,x){if(n!==null){var S=n.memoizedProps;if(Ns(S,m)&&n.ref===i.ref)if(or=!1,i.pendingProps=m=S,(n.lanes&x)!==0)(n.flags&131072)!==0&&(or=!0);else return i.lanes=n.lanes,oo(n,i,x)}return Rh(n,i,u,m,x)}function Jg(n,i,u){var m=i.pendingProps,x=m.children,S=n!==null?n.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(Ka,Er),Er|=u;else{if((u&1073741824)===0)return n=S!==null?S.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Jt(Ka,Er),Er|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:u,Jt(Ka,Er),Er|=m}else S!==null?(m=S.baseLanes|u,i.memoizedState=null):m=u,Jt(Ka,Er),Er|=m;return Yn(n,i,x,u),i.child}function ev(n,i){var u=i.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Rh(n,i,u,m,x){var S=sr(u)?Di:Fn.current;return S=$a(i,S),Za(i,x),u=bh(n,i,u,m,S,x),m=Sh(),n!==null&&!or?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~x,oo(n,i,x)):(sn&&m&&oh(i),i.flags|=1,Yn(n,i,u,x),i.child)}function tv(n,i,u,m,x){if(sr(u)){var S=!0;Fu(i)}else S=!1;if(Za(i,x),i.stateNode===null)nd(n,i),Hg(i,u,m),Th(i,u,m,x),m=!0;else if(n===null){var R=i.stateNode,$=i.memoizedProps;R.props=$;var V=R.context,ce=u.contextType;typeof ce=="object"&&ce!==null?ce=$r(ce):(ce=sr(u)?Di:Fn.current,ce=$a(i,ce));var ke=u.getDerivedStateFromProps,Le=typeof ke=="function"||typeof R.getSnapshotBeforeUpdate=="function";Le||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==m||V!==ce)&&Wg(i,R,m,ce),Uo=!1;var Te=i.memoizedState;R.state=Te,qu(i,m,R,x),V=i.memoizedState,$!==m||Te!==V||rr.current||Uo?(typeof ke=="function"&&(Ph(i,u,ke,m),V=i.memoizedState),($=Uo||Ug(i,u,$,m,Te,V,ce))?(Le||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(i.flags|=4194308)):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=V),R.props=m,R.state=V,R.context=ce,m=$):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{R=i.stateNode,vg(n,i),$=i.memoizedProps,ce=i.type===i.elementType?$:os(i.type,$),R.props=ce,Le=i.pendingProps,Te=R.context,V=u.contextType,typeof V=="object"&&V!==null?V=$r(V):(V=sr(u)?Di:Fn.current,V=$a(i,V));var We=u.getDerivedStateFromProps;(ke=typeof We=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==Le||Te!==V)&&Wg(i,R,m,V),Uo=!1,Te=i.memoizedState,R.state=Te,qu(i,m,R,x);var Ye=i.memoizedState;$!==Le||Te!==Ye||rr.current||Uo?(typeof We=="function"&&(Ph(i,u,We,m),Ye=i.memoizedState),(ce=Uo||Ug(i,u,ce,m,Te,Ye,V)||!1)?(ke||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,Ye,V),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,Ye,V)),typeof R.componentDidUpdate=="function"&&(i.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof R.componentDidUpdate!="function"||$===n.memoizedProps&&Te===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===n.memoizedProps&&Te===n.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=Ye),R.props=m,R.state=Ye,R.context=V,m=ce):(typeof R.componentDidUpdate!="function"||$===n.memoizedProps&&Te===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===n.memoizedProps&&Te===n.memoizedState||(i.flags|=1024),m=!1)}return Lh(n,i,u,m,S,x)}function Lh(n,i,u,m,x,S){ev(n,i);var R=(i.flags&128)!==0;if(!m&&!R)return x&&ig(i,u,!1),oo(n,i,S);m=i.stateNode,l1.current=i;var $=R&&typeof u.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,n!==null&&R?(i.child=Wa(i,n.child,null,S),i.child=Wa(i,null,$,S)):Yn(n,i,$,S),i.memoizedState=m.state,x&&ig(i,u,!0),i.child}function nv(n){var i=n.stateNode;i.pendingContext?sg(n,i.pendingContext,i.pendingContext!==i.context):i.context&&sg(n,i.context,!1),gh(n,i.containerInfo)}function rv(n,i,u,m,x){return Ha(),ch(x),i.flags|=256,Yn(n,i,u,m),i.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Dh(n){return{baseLanes:n,cachePool:null,transitions:null}}function sv(n,i,u){var m=i.pendingProps,x=cn.current,S=!1,R=(i.flags&128)!==0,$;if(($=R)||($=n!==null&&n.memoizedState===null?!1:(x&2)!==0),$?(S=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(x|=1),Jt(cn,x&1),n===null)return lh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(R=m.children,n=m.fallback,S?(m=i.mode,S=i.child,R={mode:"hidden",children:R},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=R):S=md(R,m,0,null),n=Vi(n,m,u,null),S.return=i,n.return=i,S.sibling=n,i.child=S,i.child.memoizedState=Dh(u),i.memoizedState=Ah,n):Oh(i,R));if(x=n.memoizedState,x!==null&&($=x.dehydrated,$!==null))return c1(n,i,R,m,$,x,u);if(S){S=m.fallback,R=i.mode,x=n.child,$=x.sibling;var V={mode:"hidden",children:m.children};return(R&1)===0&&i.child!==x?(m=i.child,m.childLanes=0,m.pendingProps=V,i.deletions=null):(m=Yo(x,V),m.subtreeFlags=x.subtreeFlags&14680064),$!==null?S=Yo($,S):(S=Vi(S,R,u,null),S.flags|=2),S.return=i,m.return=i,m.sibling=S,i.child=m,m=S,S=i.child,R=n.child.memoizedState,R=R===null?Dh(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},S.memoizedState=R,S.childLanes=n.childLanes&~u,i.memoizedState=Ah,m}return S=n.child,n=S.sibling,m=Yo(S,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=u),m.return=i,m.sibling=null,n!==null&&(u=i.deletions,u===null?(i.deletions=[n],i.flags|=16):u.push(n)),i.child=m,i.memoizedState=null,m}function Oh(n,i){return i=md({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function td(n,i,u,m){return m!==null&&ch(m),Wa(i,n.child,null,u),n=Oh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function c1(n,i,u,m,x,S,R){if(u)return i.flags&256?(i.flags&=-257,m=kh(Error(s(422))),td(n,i,R,m)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(S=m.fallback,x=i.mode,m=md({mode:"visible",children:m.children},x,0,null),S=Vi(S,x,R,null),S.flags|=2,m.return=i,S.return=i,m.sibling=S,i.child=m,(i.mode&1)!==0&&Wa(i,n.child,null,R),i.child.memoizedState=Dh(R),i.memoizedState=Ah,S);if((i.mode&1)===0)return td(n,i,R,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var $=m.dgst;return m=$,S=Error(s(419)),m=kh(S,m,void 0),td(n,i,R,m)}if($=(R&n.childLanes)!==0,or||$){if(m=Mn,m!==null){switch(R&-R){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|R))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,ro(n,x),ls(m,n,x,-1))}return Qh(),m=kh(Error(s(421))),td(n,i,R,m)}return x.data==="$?"?(i.flags|=128,i.child=n.child,i=b1.bind(null,n),x._reactRetry=i,null):(n=S.treeContext,jr=Cs(x.nextSibling),Nr=i,sn=!0,ss=null,n!==null&&(Fr[zr++]=to,Fr[zr++]=no,Fr[zr++]=Oi,to=n.id,no=n.overflow,Oi=i),i=Oh(i,m.children),i.flags|=4096,i)}function ov(n,i,u){n.lanes|=i;var m=n.alternate;m!==null&&(m.lanes|=i),hh(n.return,i,u)}function Ih(n,i,u,m,x){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:x}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=u,S.tailMode=x)}function iv(n,i,u){var m=i.pendingProps,x=m.revealOrder,S=m.tail;if(Yn(n,i,m.children,u),m=cn.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ov(n,u,i);else if(n.tag===19)ov(n,u,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(Jt(cn,m),(i.mode&1)===0)i.memoizedState=null;else switch(x){case"forwards":for(u=i.child,x=null;u!==null;)n=u.alternate,n!==null&&Gu(n)===null&&(x=u),u=u.sibling;u=x,u===null?(x=i.child,i.child=null):(x=u.sibling,u.sibling=null),Ih(i,!1,x,u,S);break;case"backwards":for(u=null,x=i.child,i.child=null;x!==null;){if(n=x.alternate,n!==null&&Gu(n)===null){i.child=x;break}n=x.sibling,x.sibling=u,u=x,x=n}Ih(i,!0,u,null,S);break;case"together":Ih(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function nd(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function oo(n,i,u){if(n!==null&&(i.dependencies=n.dependencies),Bi|=i.lanes,(u&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,u=Yo(n,n.pendingProps),i.child=u,u.return=i;n.sibling!==null;)n=n.sibling,u=u.sibling=Yo(n,n.pendingProps),u.return=i;u.sibling=null}return i.child}function u1(n,i,u){switch(i.tag){case 3:nv(i),Ha();break;case 5:wg(i);break;case 1:sr(i.type)&&Fu(i);break;case 4:gh(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,x=i.memoizedProps.value;Jt(Wu,m._currentValue),m._currentValue=x;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(Jt(cn,cn.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?sv(n,i,u):(Jt(cn,cn.current&1),n=oo(n,i,u),n!==null?n.sibling:null);Jt(cn,cn.current&1);break;case 19:if(m=(u&i.childLanes)!==0,(n.flags&128)!==0){if(m)return iv(n,i,u);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Jt(cn,cn.current),m)break;return null;case 22:case 23:return i.lanes=0,Jg(n,i,u)}return oo(n,i,u)}var av,Fh,lv,cv;av=function(n,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Fh=function(){},lv=function(n,i,u,m){var x=n.memoizedProps;if(x!==m){n=i.stateNode,zi(Ps.current);var S=null;switch(u){case"input":x=Wt(n,x),m=Wt(n,m),S=[];break;case"select":x=oe({},x,{value:void 0}),m=oe({},m,{value:void 0}),S=[];break;case"textarea":x=Qe(n,x),m=Qe(n,m),S=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=_e)}Be(u,m);var R;u=null;for(ce in x)if(!m.hasOwnProperty(ce)&&x.hasOwnProperty(ce)&&x[ce]!=null)if(ce==="style"){var $=x[ce];for(R in $)$.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(c.hasOwnProperty(ce)?S||(S=[]):(S=S||[]).push(ce,null));for(ce in m){var V=m[ce];if($=x!=null?x[ce]:void 0,m.hasOwnProperty(ce)&&V!==$&&(V!=null||$!=null))if(ce==="style")if($){for(R in $)!$.hasOwnProperty(R)||V&&V.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in V)V.hasOwnProperty(R)&&$[R]!==V[R]&&(u||(u={}),u[R]=V[R])}else u||(S||(S=[]),S.push(ce,u)),u=V;else ce==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,$=$?$.__html:void 0,V!=null&&$!==V&&(S=S||[]).push(ce,V)):ce==="children"?typeof V!="string"&&typeof V!="number"||(S=S||[]).push(ce,""+V):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(c.hasOwnProperty(ce)?(V!=null&&ce==="onScroll"&&Xt("scroll",n),S||$===V||(S=[])):(S=S||[]).push(ce,V))}u&&(S=S||[]).push("style",u);var ce=S;(i.updateQueue=ce)&&(i.flags|=4)}},cv=function(n,i,u,m){u!==m&&(i.flags|=4)};function pc(n,i){if(!sn)switch(n.tailMode){case"hidden":i=n.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function $n(n){var i=n.alternate!==null&&n.alternate.child===n.child,u=0,m=0;if(i)for(var x=n.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=n,x=x.sibling;else for(x=n.child;x!==null;)u|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=n,x=x.sibling;return n.subtreeFlags|=m,n.childLanes=u,i}function d1(n,i,u){var m=i.pendingProps;switch(ih(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(i),null;case 1:return sr(i.type)&&Iu(),$n(i),null;case 3:return m=i.stateNode,qa(),tn(rr),tn(Fn),xh(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(Uu(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ss!==null&&(Yh(ss),ss=null))),Fh(n,i),$n(i),null;case 5:vh(i);var x=zi(uc.current);if(u=i.type,n!==null&&i.stateNode!=null)lv(n,i,u,m,x),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(s(166));return $n(i),null}if(n=zi(Ps.current),Uu(i)){m=i.stateNode,u=i.type;var S=i.memoizedProps;switch(m[Ir]=i,m[Io]=S,n=(i.mode&1)!==0,u){case"dialog":Xt("cancel",m),Xt("close",m);break;case"iframe":case"object":case"embed":Xt("load",m);break;case"video":case"audio":for(x=0;x<Ao.length;x++)Xt(Ao[x],m);break;case"source":Xt("error",m);break;case"img":case"image":case"link":Xt("error",m),Xt("load",m);break;case"details":Xt("toggle",m);break;case"input":xn(m,S),Xt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},Xt("invalid",m);break;case"textarea":Ut(m,S),Xt("invalid",m)}Be(u,S),x=null;for(var R in S)if(S.hasOwnProperty(R)){var $=S[R];R==="children"?typeof $=="string"?m.textContent!==$&&(S.suppressHydrationWarning!==!0&&le(m.textContent,$,n),x=["children",$]):typeof $=="number"&&m.textContent!==""+$&&(S.suppressHydrationWarning!==!0&&le(m.textContent,$,n),x=["children",""+$]):c.hasOwnProperty(R)&&$!=null&&R==="onScroll"&&Xt("scroll",m)}switch(u){case"input":ut(m),Me(m,S,!0);break;case"textarea":ut(m),Ct(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=_e)}m=x,i.updateQueue=m,m!==null&&(i.flags|=4)}else{R=x.nodeType===9?x:x.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Pt(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=R.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=R.createElement(u,{is:m.is}):(n=R.createElement(u),u==="select"&&(R=n,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):n=R.createElementNS(n,u),n[Ir]=i,n[Io]=m,av(n,i,!1,!1),i.stateNode=n;e:{switch(R=nt(u,m),u){case"dialog":Xt("cancel",n),Xt("close",n),x=m;break;case"iframe":case"object":case"embed":Xt("load",n),x=m;break;case"video":case"audio":for(x=0;x<Ao.length;x++)Xt(Ao[x],n);x=m;break;case"source":Xt("error",n),x=m;break;case"img":case"image":case"link":Xt("error",n),Xt("load",n),x=m;break;case"details":Xt("toggle",n),x=m;break;case"input":xn(n,m),x=Wt(n,m),Xt("invalid",n);break;case"option":x=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},x=oe({},m,{value:void 0}),Xt("invalid",n);break;case"textarea":Ut(n,m),x=Qe(n,m),Xt("invalid",n);break;default:x=m}Be(u,x),$=x;for(S in $)if($.hasOwnProperty(S)){var V=$[S];S==="style"?Se(n,V):S==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&W(n,V)):S==="children"?typeof V=="string"?(u!=="textarea"||V!=="")&&we(n,V):typeof V=="number"&&we(n,""+V):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(c.hasOwnProperty(S)?V!=null&&S==="onScroll"&&Xt("scroll",n):V!=null&&M(n,S,V,R))}switch(u){case"input":ut(n),Me(n,m,!1);break;case"textarea":ut(n),Ct(n);break;case"option":m.value!=null&&n.setAttribute("value",""+ge(m.value));break;case"select":n.multiple=!!m.multiple,S=m.value,S!=null?et(n,!!m.multiple,S,!1):m.defaultValue!=null&&et(n,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(n.onclick=_e)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return $n(i),null;case 6:if(n&&i.stateNode!=null)cv(n,i,n.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(s(166));if(u=zi(uc.current),zi(Ps.current),Uu(i)){if(m=i.stateNode,u=i.memoizedProps,m[Ir]=i,(S=m.nodeValue!==u)&&(n=Nr,n!==null))switch(n.tag){case 3:le(m.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&le(m.nodeValue,u,(n.mode&1)!==0)}S&&(i.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Ir]=i,i.stateNode=m}return $n(i),null;case 13:if(tn(cn),m=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(sn&&jr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)fg(),Ha(),i.flags|=98560,S=!1;else if(S=Uu(i),m!==null&&m.dehydrated!==null){if(n===null){if(!S)throw Error(s(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));S[Ir]=i}else Ha(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$n(i),S=!1}else ss!==null&&(Yh(ss),ss=null),S=!0;if(!S)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(cn.current&1)!==0?Pn===0&&(Pn=3):Qh())),i.updateQueue!==null&&(i.flags|=4),$n(i),null);case 4:return qa(),Fh(n,i),n===null&&Do(i.stateNode.containerInfo),$n(i),null;case 10:return fh(i.type._context),$n(i),null;case 17:return sr(i.type)&&Iu(),$n(i),null;case 19:if(tn(cn),S=i.memoizedState,S===null)return $n(i),null;if(m=(i.flags&128)!==0,R=S.rendering,R===null)if(m)pc(S,!1);else{if(Pn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(R=Gu(n),R!==null){for(i.flags|=128,pc(S,!1),m=R.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=u,u=i.child;u!==null;)S=u,n=m,S.flags&=14680066,R=S.alternate,R===null?(S.childLanes=0,S.lanes=n,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=R.childLanes,S.lanes=R.lanes,S.child=R.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=R.memoizedProps,S.memoizedState=R.memoizedState,S.updateQueue=R.updateQueue,S.type=R.type,n=R.dependencies,S.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return Jt(cn,cn.current&1|2),i.child}n=n.sibling}S.tail!==null&&an()>Xa&&(i.flags|=128,m=!0,pc(S,!1),i.lanes=4194304)}else{if(!m)if(n=Gu(R),n!==null){if(i.flags|=128,m=!0,u=n.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),pc(S,!0),S.tail===null&&S.tailMode==="hidden"&&!R.alternate&&!sn)return $n(i),null}else 2*an()-S.renderingStartTime>Xa&&u!==1073741824&&(i.flags|=128,m=!0,pc(S,!1),i.lanes=4194304);S.isBackwards?(R.sibling=i.child,i.child=R):(u=S.last,u!==null?u.sibling=R:i.child=R,S.last=R)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=an(),i.sibling=null,u=cn.current,Jt(cn,m?u&1|2:u&1),i):($n(i),null);case 22:case 23:return Xh(),m=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(Er&1073741824)!==0&&($n(i),i.subtreeFlags&6&&(i.flags|=8192)):$n(i),null;case 24:return null;case 25:return null}throw Error(s(156,i.tag))}function f1(n,i){switch(ih(i),i.tag){case 1:return sr(i.type)&&Iu(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return qa(),tn(rr),tn(Fn),xh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return vh(i),null;case 13:if(tn(cn),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ha()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return tn(cn),null;case 4:return qa(),null;case 10:return fh(i.type._context),null;case 22:case 23:return Xh(),null;case 24:return null;default:return null}}var rd=!1,Bn=!1,h1=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function Ya(n,i){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){mn(n,i,m)}else u.current=null}function zh(n,i,u){try{u()}catch(m){mn(n,i,m)}}var uv=!1;function m1(n,i){if(Ue=Ci,n=Ql(),Jl(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var x=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var R=0,$=-1,V=-1,ce=0,ke=0,Le=n,Te=null;t:for(;;){for(var We;Le!==u||x!==0&&Le.nodeType!==3||($=R+x),Le!==S||m!==0&&Le.nodeType!==3||(V=R+m),Le.nodeType===3&&(R+=Le.nodeValue.length),(We=Le.firstChild)!==null;)Te=Le,Le=We;for(;;){if(Le===n)break t;if(Te===u&&++ce===x&&($=R),Te===S&&++ke===m&&(V=R),(We=Le.nextSibling)!==null)break;Le=Te,Te=Le.parentNode}Le=We}u=$===-1||V===-1?null:{start:$,end:V}}else u=null}u=u||{start:0,end:0}}else u=null;for(rt={focusedElem:n,selectionRange:u},Ci=!1,Ze=i;Ze!==null;)if(i=Ze,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ze=n;else for(;Ze!==null;){i=Ze;try{var Ye=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ye!==null){var Ke=Ye.memoizedProps,yn=Ye.memoizedState,re=i.stateNode,G=re.getSnapshotBeforeUpdate(i.elementType===i.type?Ke:os(i.type,Ke),yn);re.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ie=i.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ie){mn(i,i.return,Ie)}if(n=i.sibling,n!==null){n.return=i.return,Ze=n;break}Ze=i.return}return Ye=uv,uv=!1,Ye}function gc(n,i,u){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&n)===n){var S=x.destroy;x.destroy=void 0,S!==void 0&&zh(i,u,S)}x=x.next}while(x!==m)}}function sd(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&n)===n){var m=u.create;u.destroy=m()}u=u.next}while(u!==i)}}function $h(n){var i=n.ref;if(i!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof i=="function"?i(n):i.current=n}}function dv(n){var i=n.alternate;i!==null&&(n.alternate=null,dv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Ir],delete i[Io],delete i[Fo],delete i[th],delete i[nh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function fv(n){return n.tag===5||n.tag===3||n.tag===4}function hv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||fv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bh(n,i,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(n,i):u.insertBefore(n,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(n,u)):(i=u,i.appendChild(n)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=_e));else if(m!==4&&(n=n.child,n!==null))for(Bh(n,i,u),n=n.sibling;n!==null;)Bh(n,i,u),n=n.sibling}function Uh(n,i,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?u.insertBefore(n,i):u.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(Uh(n,i,u),n=n.sibling;n!==null;)Uh(n,i,u),n=n.sibling}var Ln=null,is=!1;function Wo(n,i,u){for(u=u.child;u!==null;)mv(n,i,u),u=u.sibling}function mv(n,i,u){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(_i,u)}catch{}switch(u.tag){case 5:Bn||Ya(u,i);case 6:var m=Ln,x=is;Ln=null,Wo(n,i,u),Ln=m,is=x,Ln!==null&&(is?(n=Ln,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Ln.removeChild(u.stateNode));break;case 18:Ln!==null&&(is?(n=Ln,u=u.stateNode,n.nodeType===8?ic(n.parentNode,u):n.nodeType===1&&ic(n,u),xr(n)):ic(Ln,u.stateNode));break;case 4:m=Ln,x=is,Ln=u.stateNode.containerInfo,is=!0,Wo(n,i,u),Ln=m,is=x;break;case 0:case 11:case 14:case 15:if(!Bn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var S=x,R=S.destroy;S=S.tag,R!==void 0&&((S&2)!==0||(S&4)!==0)&&zh(u,i,R),x=x.next}while(x!==m)}Wo(n,i,u);break;case 1:if(!Bn&&(Ya(u,i),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch($){mn(u,i,$)}Wo(n,i,u);break;case 21:Wo(n,i,u);break;case 22:u.mode&1?(Bn=(m=Bn)||u.memoizedState!==null,Wo(n,i,u),Bn=m):Wo(n,i,u);break;default:Wo(n,i,u)}}function pv(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new h1),i.forEach(function(m){var x=S1.bind(null,n,m);u.has(m)||(u.add(m),m.then(x,x))})}}function as(n,i){var u=i.deletions;if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];try{var S=n,R=i,$=R;e:for(;$!==null;){switch($.tag){case 5:Ln=$.stateNode,is=!1;break e;case 3:Ln=$.stateNode.containerInfo,is=!0;break e;case 4:Ln=$.stateNode.containerInfo,is=!0;break e}$=$.return}if(Ln===null)throw Error(s(160));mv(S,R,x),Ln=null,is=!1;var V=x.alternate;V!==null&&(V.return=null),x.return=null}catch(ce){mn(x,i,ce)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)gv(i,n),i=i.sibling}function gv(n,i){var u=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(as(i,n),ks(n),m&4){try{gc(3,n,n.return),sd(3,n)}catch(Ke){mn(n,n.return,Ke)}try{gc(5,n,n.return)}catch(Ke){mn(n,n.return,Ke)}}break;case 1:as(i,n),ks(n),m&512&&u!==null&&Ya(u,u.return);break;case 5:if(as(i,n),ks(n),m&512&&u!==null&&Ya(u,u.return),n.flags&32){var x=n.stateNode;try{we(x,"")}catch(Ke){mn(n,n.return,Ke)}}if(m&4&&(x=n.stateNode,x!=null)){var S=n.memoizedProps,R=u!==null?u.memoizedProps:S,$=n.type,V=n.updateQueue;if(n.updateQueue=null,V!==null)try{$==="input"&&S.type==="radio"&&S.name!=null&&X(x,S),nt($,R);var ce=nt($,S);for(R=0;R<V.length;R+=2){var ke=V[R],Le=V[R+1];ke==="style"?Se(x,Le):ke==="dangerouslySetInnerHTML"?W(x,Le):ke==="children"?we(x,Le):M(x,ke,Le,ce)}switch($){case"input":ve(x,S);break;case"textarea":It(x,S);break;case"select":var Te=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var We=S.value;We!=null?et(x,!!S.multiple,We,!1):Te!==!!S.multiple&&(S.defaultValue!=null?et(x,!!S.multiple,S.defaultValue,!0):et(x,!!S.multiple,S.multiple?[]:"",!1))}x[Io]=S}catch(Ke){mn(n,n.return,Ke)}}break;case 6:if(as(i,n),ks(n),m&4){if(n.stateNode===null)throw Error(s(162));x=n.stateNode,S=n.memoizedProps;try{x.nodeValue=S}catch(Ke){mn(n,n.return,Ke)}}break;case 3:if(as(i,n),ks(n),m&4&&u!==null&&u.memoizedState.isDehydrated)try{xr(i.containerInfo)}catch(Ke){mn(n,n.return,Ke)}break;case 4:as(i,n),ks(n);break;case 13:as(i,n),ks(n),x=n.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(Vh=an())),m&4&&pv(n);break;case 22:if(ke=u!==null&&u.memoizedState!==null,n.mode&1?(Bn=(ce=Bn)||ke,as(i,n),Bn=ce):as(i,n),ks(n),m&8192){if(ce=n.memoizedState!==null,(n.stateNode.isHidden=ce)&&!ke&&(n.mode&1)!==0)for(Ze=n,ke=n.child;ke!==null;){for(Le=Ze=ke;Ze!==null;){switch(Te=Ze,We=Te.child,Te.tag){case 0:case 11:case 14:case 15:gc(4,Te,Te.return);break;case 1:Ya(Te,Te.return);var Ye=Te.stateNode;if(typeof Ye.componentWillUnmount=="function"){m=Te,u=Te.return;try{i=m,Ye.props=i.memoizedProps,Ye.state=i.memoizedState,Ye.componentWillUnmount()}catch(Ke){mn(m,u,Ke)}}break;case 5:Ya(Te,Te.return);break;case 22:if(Te.memoizedState!==null){xv(Le);continue}}We!==null?(We.return=Te,Ze=We):xv(Le)}ke=ke.sibling}e:for(ke=null,Le=n;;){if(Le.tag===5){if(ke===null){ke=Le;try{x=Le.stateNode,ce?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):($=Le.stateNode,V=Le.memoizedProps.style,R=V!=null&&V.hasOwnProperty("display")?V.display:null,$.style.display=Ge("display",R))}catch(Ke){mn(n,n.return,Ke)}}}else if(Le.tag===6){if(ke===null)try{Le.stateNode.nodeValue=ce?"":Le.memoizedProps}catch(Ke){mn(n,n.return,Ke)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===n)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===n)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===n)break e;ke===Le&&(ke=null),Le=Le.return}ke===Le&&(ke=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:as(i,n),ks(n),m&4&&pv(n);break;case 21:break;default:as(i,n),ks(n)}}function ks(n){var i=n.flags;if(i&2){try{e:{for(var u=n.return;u!==null;){if(fv(u)){var m=u;break e}u=u.return}throw Error(s(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(we(x,""),m.flags&=-33);var S=hv(n);Uh(n,S,x);break;case 3:case 4:var R=m.stateNode.containerInfo,$=hv(n);Bh(n,$,R);break;default:throw Error(s(161))}}catch(V){mn(n,n.return,V)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function p1(n,i,u){Ze=n,vv(n)}function vv(n,i,u){for(var m=(n.mode&1)!==0;Ze!==null;){var x=Ze,S=x.child;if(x.tag===22&&m){var R=x.memoizedState!==null||rd;if(!R){var $=x.alternate,V=$!==null&&$.memoizedState!==null||Bn;$=rd;var ce=Bn;if(rd=R,(Bn=V)&&!ce)for(Ze=x;Ze!==null;)R=Ze,V=R.child,R.tag===22&&R.memoizedState!==null?wv(x):V!==null?(V.return=R,Ze=V):wv(x);for(;S!==null;)Ze=S,vv(S),S=S.sibling;Ze=x,rd=$,Bn=ce}yv(n)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,Ze=S):yv(n)}}function yv(n){for(;Ze!==null;){var i=Ze;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Bn||sd(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!Bn)if(u===null)m.componentDidMount();else{var x=i.elementType===i.type?u.memoizedProps:os(i.type,u.memoizedProps);m.componentDidUpdate(x,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=i.updateQueue;S!==null&&xg(i,S,m);break;case 3:var R=i.updateQueue;if(R!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}xg(i,R,u)}break;case 5:var $=i.stateNode;if(u===null&&i.flags&4){u=$;var V=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&u.focus();break;case"img":V.src&&(u.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ce=i.alternate;if(ce!==null){var ke=ce.memoizedState;if(ke!==null){var Le=ke.dehydrated;Le!==null&&xr(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Bn||i.flags&512&&$h(i)}catch(Te){mn(i,i.return,Te)}}if(i===n){Ze=null;break}if(u=i.sibling,u!==null){u.return=i.return,Ze=u;break}Ze=i.return}}function xv(n){for(;Ze!==null;){var i=Ze;if(i===n){Ze=null;break}var u=i.sibling;if(u!==null){u.return=i.return,Ze=u;break}Ze=i.return}}function wv(n){for(;Ze!==null;){var i=Ze;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{sd(4,i)}catch(V){mn(i,u,V)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var x=i.return;try{m.componentDidMount()}catch(V){mn(i,x,V)}}var S=i.return;try{$h(i)}catch(V){mn(i,S,V)}break;case 5:var R=i.return;try{$h(i)}catch(V){mn(i,R,V)}}}catch(V){mn(i,i.return,V)}if(i===n){Ze=null;break}var $=i.sibling;if($!==null){$.return=i.return,Ze=$;break}Ze=i.return}}var g1=Math.ceil,od=O.ReactCurrentDispatcher,Hh=O.ReactCurrentOwner,Ur=O.ReactCurrentBatchConfig,zt=0,Mn=null,_n=null,An=0,Er=0,Ka=zo(0),Pn=0,vc=null,Bi=0,id=0,Wh=0,yc=null,ir=null,Vh=0,Xa=1/0,io=null,ad=!1,Zh=null,Vo=null,ld=!1,Zo=null,cd=0,xc=0,qh=null,ud=-1,dd=0;function Kn(){return(zt&6)!==0?an():ud!==-1?ud:ud=an()}function qo(n){return(n.mode&1)===0?1:(zt&2)!==0&&An!==0?An&-An:Jb.transition!==null?(dd===0&&(dd=mu()),dd):(n=Dt,n!==0||(n=window.event,n=n===void 0?16:Mt(n.type)),n)}function ls(n,i,u,m){if(50<xc)throw xc=0,qh=null,Error(s(185));vr(n,u,m),((zt&2)===0||n!==Mn)&&(n===Mn&&((zt&2)===0&&(id|=u),Pn===4&&Go(n,An)),ar(n,m),u===1&&zt===0&&(i.mode&1)===0&&(Xa=an()+500,zu&&Bo()))}function ar(n,i){var u=n.callbackNode;va(n,i);var m=Qt(n,n===Mn?An:0);if(m===0)u!==null&&Al(u),n.callbackNode=null,n.callbackPriority=0;else if(i=m&-m,n.callbackPriority!==i){if(u!=null&&Al(u),i===1)n.tag===0?Qb(bv.bind(null,n)):ag(bv.bind(null,n)),In(function(){(zt&6)===0&&Bo()}),u=null;else{switch(bo(m)){case 1:u=Dl;break;case 4:u=hu;break;case 16:u=pa;break;case 536870912:u=yo;break;default:u=pa}u=kv(u,_v.bind(null,n))}n.callbackPriority=i,n.callbackNode=u}}function _v(n,i){if(ud=-1,dd=0,(zt&6)!==0)throw Error(s(327));var u=n.callbackNode;if(Qa()&&n.callbackNode!==u)return null;var m=Qt(n,n===Mn?An:0);if(m===0)return null;if((m&30)!==0||(m&n.expiredLanes)!==0||i)i=fd(n,m);else{i=m;var x=zt;zt|=2;var S=Nv();(Mn!==n||An!==i)&&(io=null,Xa=an()+500,Hi(n,i));do try{x1();break}catch($){Sv(n,$)}while(!0);dh(),od.current=S,zt=x,_n!==null?i=0:(Mn=null,An=0,i=Pn)}if(i!==0){if(i===2&&(x=Dn(n),x!==0&&(m=x,i=Gh(n,x))),i===1)throw u=vc,Hi(n,0),Go(n,m),ar(n,an()),u;if(i===6)Go(n,m);else{if(x=n.current.alternate,(m&30)===0&&!v1(x)&&(i=fd(n,m),i===2&&(S=Dn(n),S!==0&&(m=S,i=Gh(n,S))),i===1))throw u=vc,Hi(n,0),Go(n,m),ar(n,an()),u;switch(n.finishedWork=x,n.finishedLanes=m,i){case 0:case 1:throw Error(s(345));case 2:Wi(n,ir,io);break;case 3:if(Go(n,m),(m&130023424)===m&&(i=Vh+500-an(),10<i)){if(Qt(n,0)!==0)break;if(x=n.suspendedLanes,(x&m)!==m){Kn(),n.pingedLanes|=n.suspendedLanes&x;break}n.timeoutHandle=En(Wi.bind(null,n,ir,io),i);break}Wi(n,ir,io);break;case 4:if(Go(n,m),(m&4194240)===m)break;for(i=n.eventTimes,x=-1;0<m;){var R=31-yt(m);S=1<<R,R=i[R],R>x&&(x=R),m&=~S}if(m=x,m=an()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*g1(m/1960))-m,10<m){n.timeoutHandle=En(Wi.bind(null,n,ir,io),m);break}Wi(n,ir,io);break;case 5:Wi(n,ir,io);break;default:throw Error(s(329))}}}return ar(n,an()),n.callbackNode===u?_v.bind(null,n):null}function Gh(n,i){var u=yc;return n.current.memoizedState.isDehydrated&&(Hi(n,i).flags|=256),n=fd(n,i),n!==2&&(i=ir,ir=u,i!==null&&Yh(i)),n}function Yh(n){ir===null?ir=n:ir.push.apply(ir,n)}function v1(n){for(var i=n;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var x=u[m],S=x.getSnapshot;x=x.value;try{if(!br(S(),x))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Go(n,i){for(i&=~Wh,i&=~id,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var u=31-yt(i),m=1<<u;n[u]=-1,i&=~m}}function bv(n){if((zt&6)!==0)throw Error(s(327));Qa();var i=Qt(n,0);if((i&1)===0)return ar(n,an()),null;var u=fd(n,i);if(n.tag!==0&&u===2){var m=Dn(n);m!==0&&(i=m,u=Gh(n,m))}if(u===1)throw u=vc,Hi(n,0),Go(n,i),ar(n,an()),u;if(u===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Wi(n,ir,io),ar(n,an()),null}function Kh(n,i){var u=zt;zt|=1;try{return n(i)}finally{zt=u,zt===0&&(Xa=an()+500,zu&&Bo())}}function Ui(n){Zo!==null&&Zo.tag===0&&(zt&6)===0&&Qa();var i=zt;zt|=1;var u=Ur.transition,m=Dt;try{if(Ur.transition=null,Dt=1,n)return n()}finally{Dt=m,Ur.transition=u,zt=i,(zt&6)===0&&Bo()}}function Xh(){Er=Ka.current,tn(Ka)}function Hi(n,i){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,wn(u)),_n!==null)for(u=_n.return;u!==null;){var m=u;switch(ih(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Iu();break;case 3:qa(),tn(rr),tn(Fn),xh();break;case 5:vh(m);break;case 4:qa();break;case 13:tn(cn);break;case 19:tn(cn);break;case 10:fh(m.type._context);break;case 22:case 23:Xh()}u=u.return}if(Mn=n,_n=n=Yo(n.current,null),An=Er=i,Pn=0,vc=null,Wh=id=Bi=0,ir=yc=null,Fi!==null){for(i=0;i<Fi.length;i++)if(u=Fi[i],m=u.interleaved,m!==null){u.interleaved=null;var x=m.next,S=u.pending;if(S!==null){var R=S.next;S.next=x,m.next=R}u.pending=m}Fi=null}return n}function Sv(n,i){do{var u=_n;try{if(dh(),Yu.current=Ju,Ku){for(var m=un.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}Ku=!1}if($i=0,kn=Cn=un=null,dc=!1,fc=0,Hh.current=null,u===null||u.return===null){Pn=1,vc=i,_n=null;break}e:{var S=n,R=u.return,$=u,V=i;if(i=An,$.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var ce=V,ke=$,Le=ke.tag;if((ke.mode&1)===0&&(Le===0||Le===11||Le===15)){var Te=ke.alternate;Te?(ke.updateQueue=Te.updateQueue,ke.memoizedState=Te.memoizedState,ke.lanes=Te.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var We=Gg(R);if(We!==null){We.flags&=-257,Yg(We,R,$,S,i),We.mode&1&&qg(S,ce,i),i=We,V=ce;var Ye=i.updateQueue;if(Ye===null){var Ke=new Set;Ke.add(V),i.updateQueue=Ke}else Ye.add(V);break e}else{if((i&1)===0){qg(S,ce,i),Qh();break e}V=Error(s(426))}}else if(sn&&$.mode&1){var yn=Gg(R);if(yn!==null){(yn.flags&65536)===0&&(yn.flags|=256),Yg(yn,R,$,S,i),ch(Ga(V,$));break e}}S=V=Ga(V,$),Pn!==4&&(Pn=2),yc===null?yc=[S]:yc.push(S),S=R;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var re=Vg(S,V,i);yg(S,re);break e;case 1:$=V;var G=S.type,ie=S.stateNode;if((S.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Vo===null||!Vo.has(ie)))){S.flags|=65536,i&=-i,S.lanes|=i;var Ie=Zg(S,$,i);yg(S,Ie);break e}}S=S.return}while(S!==null)}Ev(u)}catch(Xe){i=Xe,_n===u&&u!==null&&(_n=u=u.return);continue}break}while(!0)}function Nv(){var n=od.current;return od.current=Ju,n===null?Ju:n}function Qh(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Mn===null||(Bi&268435455)===0&&(id&268435455)===0||Go(Mn,An)}function fd(n,i){var u=zt;zt|=2;var m=Nv();(Mn!==n||An!==i)&&(io=null,Hi(n,i));do try{y1();break}catch(x){Sv(n,x)}while(!0);if(dh(),zt=u,od.current=m,_n!==null)throw Error(s(261));return Mn=null,An=0,Pn}function y1(){for(;_n!==null;)jv(_n)}function x1(){for(;_n!==null&&!zf();)jv(_n)}function jv(n){var i=Tv(n.alternate,n,Er);n.memoizedProps=n.pendingProps,i===null?Ev(n):_n=i,Hh.current=null}function Ev(n){var i=n;do{var u=i.alternate;if(n=i.return,(i.flags&32768)===0){if(u=d1(u,i,Er),u!==null){_n=u;return}}else{if(u=f1(u,i),u!==null){u.flags&=32767,_n=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Pn=6,_n=null;return}}if(i=i.sibling,i!==null){_n=i;return}_n=i=n}while(i!==null);Pn===0&&(Pn=5)}function Wi(n,i,u){var m=Dt,x=Ur.transition;try{Ur.transition=null,Dt=1,w1(n,i,u,m)}finally{Ur.transition=x,Dt=m}return null}function w1(n,i,u,m){do Qa();while(Zo!==null);if((zt&6)!==0)throw Error(s(327));u=n.finishedWork;var x=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var S=u.lanes|u.childLanes;if(hn(n,S),n===Mn&&(_n=Mn=null,An=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ld||(ld=!0,kv(pa,function(){return Qa(),null})),S=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||S){S=Ur.transition,Ur.transition=null;var R=Dt;Dt=1;var $=zt;zt|=4,Hh.current=null,m1(n,u),gv(u,n),Dr(rt),Ci=!!Ue,rt=Ue=null,n.current=u,p1(u),ma(),zt=$,Dt=R,Ur.transition=S}else n.current=u;if(ld&&(ld=!1,Zo=n,cd=x),S=n.pendingLanes,S===0&&(Vo=null),bi(u.stateNode),ar(n,an()),i!==null)for(m=n.onRecoverableError,u=0;u<i.length;u++)x=i[u],m(x.value,{componentStack:x.stack,digest:x.digest});if(ad)throw ad=!1,n=Zh,Zh=null,n;return(cd&1)!==0&&n.tag!==0&&Qa(),S=n.pendingLanes,(S&1)!==0?n===qh?xc++:(xc=0,qh=n):xc=0,Bo(),null}function Qa(){if(Zo!==null){var n=bo(cd),i=Ur.transition,u=Dt;try{if(Ur.transition=null,Dt=16>n?16:n,Zo===null)var m=!1;else{if(n=Zo,Zo=null,cd=0,(zt&6)!==0)throw Error(s(331));var x=zt;for(zt|=4,Ze=n.current;Ze!==null;){var S=Ze,R=S.child;if((Ze.flags&16)!==0){var $=S.deletions;if($!==null){for(var V=0;V<$.length;V++){var ce=$[V];for(Ze=ce;Ze!==null;){var ke=Ze;switch(ke.tag){case 0:case 11:case 15:gc(8,ke,S)}var Le=ke.child;if(Le!==null)Le.return=ke,Ze=Le;else for(;Ze!==null;){ke=Ze;var Te=ke.sibling,We=ke.return;if(dv(ke),ke===ce){Ze=null;break}if(Te!==null){Te.return=We,Ze=Te;break}Ze=We}}}var Ye=S.alternate;if(Ye!==null){var Ke=Ye.child;if(Ke!==null){Ye.child=null;do{var yn=Ke.sibling;Ke.sibling=null,Ke=yn}while(Ke!==null)}}Ze=S}}if((S.subtreeFlags&2064)!==0&&R!==null)R.return=S,Ze=R;else e:for(;Ze!==null;){if(S=Ze,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:gc(9,S,S.return)}var re=S.sibling;if(re!==null){re.return=S.return,Ze=re;break e}Ze=S.return}}var G=n.current;for(Ze=G;Ze!==null;){R=Ze;var ie=R.child;if((R.subtreeFlags&2064)!==0&&ie!==null)ie.return=R,Ze=ie;else e:for(R=G;Ze!==null;){if($=Ze,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:sd(9,$)}}catch(Xe){mn($,$.return,Xe)}if($===R){Ze=null;break e}var Ie=$.sibling;if(Ie!==null){Ie.return=$.return,Ze=Ie;break e}Ze=$.return}}if(zt=x,Bo(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(_i,n)}catch{}m=!0}return m}finally{Dt=u,Ur.transition=i}}return!1}function Cv(n,i,u){i=Ga(u,i),i=Vg(n,i,1),n=Ho(n,i,1),i=Kn(),n!==null&&(vr(n,1,i),ar(n,i))}function mn(n,i,u){if(n.tag===3)Cv(n,n,u);else for(;i!==null;){if(i.tag===3){Cv(i,n,u);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Vo===null||!Vo.has(m))){n=Ga(u,n),n=Zg(i,n,1),i=Ho(i,n,1),n=Kn(),i!==null&&(vr(i,1,n),ar(i,n));break}}i=i.return}}function _1(n,i,u){var m=n.pingCache;m!==null&&m.delete(i),i=Kn(),n.pingedLanes|=n.suspendedLanes&u,Mn===n&&(An&u)===u&&(Pn===4||Pn===3&&(An&130023424)===An&&500>an()-Vh?Hi(n,0):Wh|=u),ar(n,i)}function Pv(n,i){i===0&&((n.mode&1)===0?i=1:(i=wo,wo<<=1,(wo&130023424)===0&&(wo=4194304)));var u=Kn();n=ro(n,i),n!==null&&(vr(n,i,u),ar(n,u))}function b1(n){var i=n.memoizedState,u=0;i!==null&&(u=i.retryLane),Pv(n,u)}function S1(n,i){var u=0;switch(n.tag){case 13:var m=n.stateNode,x=n.memoizedState;x!==null&&(u=x.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(s(314))}m!==null&&m.delete(i),Pv(n,u)}var Tv;Tv=function(n,i,u){if(n!==null)if(n.memoizedProps!==i.pendingProps||rr.current)or=!0;else{if((n.lanes&u)===0&&(i.flags&128)===0)return or=!1,u1(n,i,u);or=(n.flags&131072)!==0}else or=!1,sn&&(i.flags&1048576)!==0&&lg(i,Bu,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;nd(n,i),n=i.pendingProps;var x=$a(i,Fn.current);Za(i,u),x=bh(null,i,m,n,x,u);var S=Sh();return i.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,sr(m)?(S=!0,Fu(i)):S=!1,i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,ph(i),x.updater=ed,i.stateNode=x,x._reactInternals=i,Th(i,m,n,u),i=Lh(null,i,m,!0,S,u)):(i.tag=0,sn&&S&&oh(i),Yn(null,i,x,u),i=i.child),i;case 16:m=i.elementType;e:{switch(nd(n,i),n=i.pendingProps,x=m._init,m=x(m._payload),i.type=m,x=i.tag=j1(m),n=os(m,n),x){case 0:i=Rh(null,i,m,n,u);break e;case 1:i=tv(null,i,m,n,u);break e;case 11:i=Kg(null,i,m,n,u);break e;case 14:i=Xg(null,i,m,os(m.type,n),u);break e}throw Error(s(306,m,""))}return i;case 0:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:os(m,x),Rh(n,i,m,x,u);case 1:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:os(m,x),tv(n,i,m,x,u);case 3:e:{if(nv(i),n===null)throw Error(s(387));m=i.pendingProps,S=i.memoizedState,x=S.element,vg(n,i),qu(i,m,null,u);var R=i.memoizedState;if(m=R.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){x=Ga(Error(s(423)),i),i=rv(n,i,m,u,x);break e}else if(m!==x){x=Ga(Error(s(424)),i),i=rv(n,i,m,u,x);break e}else for(jr=Cs(i.stateNode.containerInfo.firstChild),Nr=i,sn=!0,ss=null,u=pg(i,null,m,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ha(),m===x){i=oo(n,i,u);break e}Yn(n,i,m,u)}i=i.child}return i;case 5:return wg(i),n===null&&lh(i),m=i.type,x=i.pendingProps,S=n!==null?n.memoizedProps:null,R=x.children,wt(m,x)?R=null:S!==null&&wt(m,S)&&(i.flags|=32),ev(n,i),Yn(n,i,R,u),i.child;case 6:return n===null&&lh(i),null;case 13:return sv(n,i,u);case 4:return gh(i,i.stateNode.containerInfo),m=i.pendingProps,n===null?i.child=Wa(i,null,m,u):Yn(n,i,m,u),i.child;case 11:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:os(m,x),Kg(n,i,m,x,u);case 7:return Yn(n,i,i.pendingProps,u),i.child;case 8:return Yn(n,i,i.pendingProps.children,u),i.child;case 12:return Yn(n,i,i.pendingProps.children,u),i.child;case 10:e:{if(m=i.type._context,x=i.pendingProps,S=i.memoizedProps,R=x.value,Jt(Wu,m._currentValue),m._currentValue=R,S!==null)if(br(S.value,R)){if(S.children===x.children&&!rr.current){i=oo(n,i,u);break e}}else for(S=i.child,S!==null&&(S.return=i);S!==null;){var $=S.dependencies;if($!==null){R=S.child;for(var V=$.firstContext;V!==null;){if(V.context===m){if(S.tag===1){V=so(-1,u&-u),V.tag=2;var ce=S.updateQueue;if(ce!==null){ce=ce.shared;var ke=ce.pending;ke===null?V.next=V:(V.next=ke.next,ke.next=V),ce.pending=V}}S.lanes|=u,V=S.alternate,V!==null&&(V.lanes|=u),hh(S.return,u,i),$.lanes|=u;break}V=V.next}}else if(S.tag===10)R=S.type===i.type?null:S.child;else if(S.tag===18){if(R=S.return,R===null)throw Error(s(341));R.lanes|=u,$=R.alternate,$!==null&&($.lanes|=u),hh(R,u,i),R=S.sibling}else R=S.child;if(R!==null)R.return=S;else for(R=S;R!==null;){if(R===i){R=null;break}if(S=R.sibling,S!==null){S.return=R.return,R=S;break}R=R.return}S=R}Yn(n,i,x.children,u),i=i.child}return i;case 9:return x=i.type,m=i.pendingProps.children,Za(i,u),x=$r(x),m=m(x),i.flags|=1,Yn(n,i,m,u),i.child;case 14:return m=i.type,x=os(m,i.pendingProps),x=os(m.type,x),Xg(n,i,m,x,u);case 15:return Qg(n,i,i.type,i.pendingProps,u);case 17:return m=i.type,x=i.pendingProps,x=i.elementType===m?x:os(m,x),nd(n,i),i.tag=1,sr(m)?(n=!0,Fu(i)):n=!1,Za(i,u),Hg(i,m,x),Th(i,m,x,u),Lh(null,i,m,!0,n,u);case 19:return iv(n,i,u);case 22:return Jg(n,i,u)}throw Error(s(156,i.tag))};function kv(n,i){return fu(n,i)}function N1(n,i,u,m){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(n,i,u,m){return new N1(n,i,u,m)}function Jh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function j1(n){if(typeof n=="function")return Jh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===de)return 11;if(n===ee)return 14}return 2}function Yo(n,i){var u=n.alternate;return u===null?(u=Hr(n.tag,i,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=i,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,i=n.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function hd(n,i,u,m,x,S){var R=2;if(m=n,typeof n=="function")Jh(n)&&(R=1);else if(typeof n=="string")R=5;else e:switch(n){case z:return Vi(u.children,x,S,i);case se:R=8,x|=8;break;case ae:return n=Hr(12,u,i,x|2),n.elementType=ae,n.lanes=S,n;case Ae:return n=Hr(13,u,i,x),n.elementType=Ae,n.lanes=S,n;case K:return n=Hr(19,u,i,x),n.elementType=K,n.lanes=S,n;case me:return md(u,x,S,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:R=10;break e;case J:R=9;break e;case de:R=11;break e;case ee:R=14;break e;case te:R=16,m=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return i=Hr(R,u,i,x),i.elementType=n,i.type=m,i.lanes=S,i}function Vi(n,i,u,m){return n=Hr(7,n,m,i),n.lanes=u,n}function md(n,i,u,m){return n=Hr(22,n,m,i),n.elementType=me,n.lanes=u,n.stateNode={isHidden:!1},n}function em(n,i,u){return n=Hr(6,n,null,i),n.lanes=u,n}function tm(n,i,u){return i=Hr(4,n.children!==null?n.children:[],n.key,i),i.lanes=u,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function E1(n,i,u,m,x){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function nm(n,i,u,m,x,S,R,$,V){return n=new E1(n,i,u,$,V),i===1?(i=1,S===!0&&(i|=8)):i=0,S=Hr(3,null,null,i),n.current=S,S.stateNode=n,S.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(S),n}function C1(n,i,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:m==null?null:""+m,children:n,containerInfo:i,implementation:u}}function Mv(n){if(!n)return $o;n=n._reactInternals;e:{if(xs(n)!==n||n.tag!==1)throw Error(s(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(sr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(s(171))}if(n.tag===1){var u=n.type;if(sr(u))return og(n,u,i)}return i}function Rv(n,i,u,m,x,S,R,$,V){return n=nm(u,m,!0,n,x,S,R,$,V),n.context=Mv(null),u=n.current,m=Kn(),x=qo(u),S=so(m,x),S.callback=i??null,Ho(u,S,x),n.current.lanes=x,vr(n,x,m),ar(n,m),n}function pd(n,i,u,m){var x=i.current,S=Kn(),R=qo(x);return u=Mv(u),i.context===null?i.context=u:i.pendingContext=u,i=so(S,R),i.payload={element:n},m=m===void 0?null:m,m!==null&&(i.callback=m),n=Ho(x,i,R),n!==null&&(ls(n,x,R,S),Zu(n,x,R)),R}function gd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Lv(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<i?u:i}}function rm(n,i){Lv(n,i),(n=n.alternate)&&Lv(n,i)}function P1(){return null}var Av=typeof reportError=="function"?reportError:function(n){console.error(n)};function sm(n){this._internalRoot=n}vd.prototype.render=sm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));pd(n,i,null,null)},vd.prototype.unmount=sm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Ui(function(){pd(null,n,null,null)}),i[Vt]=null}};function vd(n){this._internalRoot=n}vd.prototype.unstable_scheduleHydration=function(n){if(n){var i=wa();n={blockedOn:null,target:n,priority:i};for(var u=0;u<jn.length&&i!==0&&i<jn[u].priority;u++);jn.splice(u,0,n),u===0&&_a(n)}};function om(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Dv(){}function T1(n,i,u,m,x){if(x){if(typeof m=="function"){var S=m;m=function(){var ce=gd(R);S.call(ce)}}var R=Rv(i,m,n,0,null,!1,!1,"",Dv);return n._reactRootContainer=R,n[Vt]=R.current,Do(n.nodeType===8?n.parentNode:n),Ui(),R}for(;x=n.lastChild;)n.removeChild(x);if(typeof m=="function"){var $=m;m=function(){var ce=gd(V);$.call(ce)}}var V=nm(n,0,!1,null,null,!1,!1,"",Dv);return n._reactRootContainer=V,n[Vt]=V.current,Do(n.nodeType===8?n.parentNode:n),Ui(function(){pd(i,V,u,m)}),V}function xd(n,i,u,m,x){var S=u._reactRootContainer;if(S){var R=S;if(typeof x=="function"){var $=x;x=function(){var V=gd(R);$.call(V)}}pd(i,R,n,x)}else R=T1(u,i,n,x,m);return gd(R)}ya=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var u=pt(i.pendingLanes);u!==0&&(Jr(i,u|1),ar(i,an()),(zt&6)===0&&(Xa=an()+500,Bo()))}break;case 13:Ui(function(){var m=ro(n,1);if(m!==null){var x=Kn();ls(m,n,1,x)}}),rm(n,1)}},Us=function(n){if(n.tag===13){var i=ro(n,134217728);if(i!==null){var u=Kn();ls(i,n,134217728,u)}rm(n,134217728)}},xa=function(n){if(n.tag===13){var i=qo(n),u=ro(n,i);if(u!==null){var m=Kn();ls(u,n,i,m)}rm(n,i)}},wa=function(){return Dt},Si=function(n,i){var u=Dt;try{return Dt=n,i()}finally{Dt=u}},je=function(n,i,u){switch(i){case"input":if(ve(n,u),i=u.name,u.type==="radio"&&i!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var m=u[i];if(m!==n&&m.form===n.form){var x=Fa(m);if(!x)throw Error(s(90));Je(m),ve(m,x)}}}break;case"textarea":It(n,u);break;case"select":i=u.value,i!=null&&et(n,!!u.multiple,i,!1)}},At=Kh,Yt=Ui;var k1={usingClientEntryPoint:!1,Events:[Qs,Js,Fa,tt,bt,Kh]},wc={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M1={bundleType:wc.bundleType,version:wc.version,rendererPackageName:wc.rendererPackageName,rendererConfig:wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=uu(n),n===null?null:n.stateNode},findFiberByHostInstance:wc.findFiberByHostInstance||P1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{_i=wd.inject(M1),gr=wd}catch{}}return lr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k1,lr.createPortal=function(n,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!om(i))throw Error(s(200));return C1(n,i,null,u)},lr.createRoot=function(n,i){if(!om(n))throw Error(s(299));var u=!1,m="",x=Av;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=nm(n,1,!1,null,null,u,!1,m,x),n[Vt]=i.current,Do(n.nodeType===8?n.parentNode:n),new sm(i)},lr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=uu(i),n=n===null?null:n.stateNode,n},lr.flushSync=function(n){return Ui(n)},lr.hydrate=function(n,i,u){if(!yd(i))throw Error(s(200));return xd(null,n,i,!0,u)},lr.hydrateRoot=function(n,i,u){if(!om(n))throw Error(s(405));var m=u!=null&&u.hydratedSources||null,x=!1,S="",R=Av;if(u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(S=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),i=Rv(i,null,n,1,u??null,x,!1,S,R),n[Vt]=i.current,Do(n),m)for(n=0;n<m.length;n++)u=m[n],x=u._getVersion,x=x(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,x]:i.mutableSourceEagerHydrationData.push(u,x);return new vd(i)},lr.render=function(n,i,u){if(!yd(i))throw Error(s(200));return xd(null,n,i,!1,u)},lr.unmountComponentAtNode=function(n){if(!yd(n))throw Error(s(40));return n._reactRootContainer?(Ui(function(){xd(null,null,n,!1,function(){n._reactRootContainer=null,n[Vt]=null})}),!0):!1},lr.unstable_batchedUpdates=Kh,lr.unstable_renderSubtreeIntoContainer=function(n,i,u,m){if(!yd(u))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return xd(n,i,u,!1,m)},lr.version="18.3.1-next-f1338f8080-20240426",lr}var Vv;function jx(){if(Vv)return dm.exports;Vv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dm.exports=V1(),dm.exports}var ua=jx();const af=vp(ua);function ct(e,t,{checkForDefaultPrevented:s=!0}={}){return function(c){if(e==null||e(c),s===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function Z1(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ex(...e){return t=>e.forEach(s=>Z1(s,t))}function Rt(...e){return v.useCallback(Ex(...e),e)}function Kc(e,t=[]){let s=[];function a(d,f){const p=v.createContext(f),g=s.length;s=[...s,f];function w(b){const{scope:N,children:T,...P}=b,j=(N==null?void 0:N[e][g])||p,C=v.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:T})}function _(b,N){const T=(N==null?void 0:N[e][g])||p,P=v.useContext(T);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return w.displayName=d+"Provider",[w,_]}const c=()=>{const d=s.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,q1(c,...t)]}function q1(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return s.scopeName=t.scopeName,s}var sa=v.forwardRef((e,t)=>{const{children:s,...a}=e,c=v.Children.toArray(s),d=c.find(G1);if(d){const f=d.props.children,p=c.map(g=>g===d?v.Children.count(f)>1?v.Children.only(null):v.isValidElement(f)?f.props.children:null:g);return o.jsx(Dm,{...a,ref:t,children:v.isValidElement(f)?v.cloneElement(f,void 0,p):null})}return o.jsx(Dm,{...a,ref:t,children:s})});sa.displayName="Slot";var Dm=v.forwardRef((e,t)=>{const{children:s,...a}=e;if(v.isValidElement(s)){const c=K1(s);return v.cloneElement(s,{...Y1(a,s.props),ref:t?Ex(t,c):c})}return v.Children.count(s)>1?v.Children.only(null):null});Dm.displayName="SlotClone";var Cx=({children:e})=>o.jsx(o.Fragment,{children:e});function G1(e){return v.isValidElement(e)&&e.type===Cx}function Y1(e,t){const s={...t};for(const a in t){const c=e[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?s[a]=(...p)=>{d(...p),c(...p)}:c&&(s[a]=c):a==="style"?s[a]={...c,...d}:a==="className"&&(s[a]=[c,d].filter(Boolean).join(" "))}return{...e,...s}}function K1(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Px(e){const t=e+"CollectionProvider",[s,a]=Kc(t),[c,d]=s(t,{collectionRef:{current:null},itemMap:new Map}),f=T=>{const{scope:P,children:j}=T,C=ze.useRef(null),k=ze.useRef(new Map).current;return o.jsx(c,{scope:P,itemMap:k,collectionRef:C,children:j})};f.displayName=t;const p=e+"CollectionSlot",g=ze.forwardRef((T,P)=>{const{scope:j,children:C}=T,k=d(p,j),D=Rt(P,k.collectionRef);return o.jsx(sa,{ref:D,children:C})});g.displayName=p;const w=e+"CollectionItemSlot",_="data-radix-collection-item",b=ze.forwardRef((T,P)=>{const{scope:j,children:C,...k}=T,D=ze.useRef(null),M=Rt(P,D),O=d(w,j);return ze.useEffect(()=>(O.itemMap.set(D,{ref:D,...k}),()=>void O.itemMap.delete(D))),o.jsx(sa,{[_]:"",ref:M,children:C})});b.displayName=w;function N(T){const P=d(e+"CollectionConsumer",T);return ze.useCallback(()=>{const C=P.collectionRef.current;if(!C)return[];const k=Array.from(C.querySelectorAll(`[${_}]`));return Array.from(P.itemMap.values()).sort((O,I)=>k.indexOf(O.ref.current)-k.indexOf(I.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:f,Slot:g,ItemSlot:b},N,a]}var X1=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xt=X1.reduce((e,t)=>{const s=v.forwardRef((a,c)=>{const{asChild:d,...f}=a,p=d?sa:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(p,{...f,ref:c})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function lf(e,t){e&&ua.flushSync(()=>e.dispatchEvent(t))}function on(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...s)=>{var a;return(a=t.current)==null?void 0:a.call(t,...s)},[])}function xp(e,t=globalThis==null?void 0:globalThis.document){const s=on(e);v.useEffect(()=>{const a=c=>{c.key==="Escape"&&s(c)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[s,t])}var Q1="DismissableLayer",Om="dismissableLayer.update",J1="dismissableLayer.pointerDownOutside",eS="dismissableLayer.focusOutside",Zv,Tx=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kx=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(Tx),[_,b]=v.useState(null),N=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=v.useState({}),P=Rt(t,z=>b(z)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),k=j.indexOf(C),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=k,I=nS(z=>{const se=z.target,ae=[...w.branches].some(q=>q.contains(se));!O||ae||(c==null||c(z),f==null||f(z),z.defaultPrevented||p==null||p())},N),Z=rS(z=>{const se=z.target;[...w.branches].some(q=>q.contains(se))||(d==null||d(z),f==null||f(z),z.defaultPrevented||p==null||p())},N);return xp(z=>{D===w.layers.size-1&&(a==null||a(z),!z.defaultPrevented&&p&&(z.preventDefault(),p()))},N),v.useEffect(()=>{if(_)return s&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(Zv=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),qv(),()=>{s&&w.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=Zv)}},[_,N,s,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),qv())},[_,w]),v.useEffect(()=>{const z=()=>T({});return document.addEventListener(Om,z),()=>document.removeEventListener(Om,z)},[]),o.jsx(xt.div,{...g,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:ct(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:ct(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:ct(e.onPointerDownCapture,I.onPointerDownCapture)})});kx.displayName=Q1;var tS="DismissableLayerBranch",Mx=v.forwardRef((e,t)=>{const s=v.useContext(Tx),a=v.useRef(null),c=Rt(t,a);return v.useEffect(()=>{const d=a.current;if(d)return s.branches.add(d),()=>{s.branches.delete(d)}},[s.branches]),o.jsx(xt.div,{...e,ref:c})});Mx.displayName=tS;function nS(e,t=globalThis==null?void 0:globalThis.document){const s=on(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){Rx(J1,s,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,s]),{onPointerDownCapture:()=>a.current=!0}}function rS(e,t=globalThis==null?void 0:globalThis.document){const s=on(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&Rx(eS,s,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function qv(){const e=new CustomEvent(Om);document.dispatchEvent(e)}function Rx(e,t,s,{discrete:a}){const c=s.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&c.addEventListener(e,t,{once:!0}),a?lf(c,d):c.dispatchEvent(d)}var sS=kx,oS=Mx,fn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},iS="Portal",Lx=v.forwardRef((e,t)=>{var p;const{container:s,...a}=e,[c,d]=v.useState(!1);fn(()=>d(!0),[]);const f=s||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?af.createPortal(o.jsx(xt.div,{...a,ref:t}),f):null});Lx.displayName=iS;function aS(e,t){return v.useReducer((s,a)=>t[s][a]??s,e)}var Nl=e=>{const{present:t,children:s}=e,a=lS(t),c=typeof s=="function"?s({present:a.isPresent}):v.Children.only(s),d=Rt(a.ref,cS(c));return typeof s=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};Nl.displayName="Presence";function lS(e){const[t,s]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=aS(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=bd(a.current);d.current=p==="mounted"?w:"none"},[p]),fn(()=>{const w=a.current,_=c.current;if(_!==e){const N=d.current,T=bd(w);e?g("MOUNT"):T==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&N!==T?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),fn(()=>{if(t){const w=b=>{const T=bd(a.current).includes(b.animationName);b.target===t&&T&&ua.flushSync(()=>g("ANIMATION_END"))},_=b=>{b.target===t&&(d.current=bd(a.current))};return t.addEventListener("animationstart",_),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{t.removeEventListener("animationstart",_),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),s(w)},[])}}function bd(e){return(e==null?void 0:e.animationName)||"none"}function cS(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}function Wd({prop:e,defaultProp:t,onChange:s=()=>{}}){const[a,c]=uS({defaultProp:t,onChange:s}),d=e!==void 0,f=d?e:a,p=on(s),g=v.useCallback(w=>{if(d){const b=typeof w=="function"?w(e):w;b!==e&&p(b)}else c(w)},[d,e,c,p]);return[f,g]}function uS({defaultProp:e,onChange:t}){const s=v.useState(e),[a]=s,c=v.useRef(a),d=on(t);return v.useEffect(()=>{c.current!==a&&(d(a),c.current=a)},[a,c,d]),s}var dS="VisuallyHidden",Xc=v.forwardRef((e,t)=>o.jsx(xt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Xc.displayName=dS;var fS=Xc,wp="ToastProvider",[_p,hS,mS]=Px("Toast"),[Ax,jL]=Kc("Toast",[mS]),[pS,cf]=Ax(wp),Dx=e=>{const{__scopeToast:t,label:s="Notification",duration:a=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:f}=e,[p,g]=v.useState(null),[w,_]=v.useState(0),b=v.useRef(!1),N=v.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${wp}\`. Expected non-empty \`string\`.`),o.jsx(_p.Provider,{scope:t,children:o.jsx(pS,{scope:t,label:s,duration:a,swipeDirection:c,swipeThreshold:d,toastCount:w,viewport:p,onViewportChange:g,onToastAdd:v.useCallback(()=>_(T=>T+1),[]),onToastRemove:v.useCallback(()=>_(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:N,children:f})})};Dx.displayName=wp;var Ox="ToastViewport",gS=["F8"],Im="toast.viewportPause",Fm="toast.viewportResume",Ix=v.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:a=gS,label:c="Notifications ({hotkey})",...d}=e,f=cf(Ox,s),p=hS(s),g=v.useRef(null),w=v.useRef(null),_=v.useRef(null),b=v.useRef(null),N=Rt(t,b,f.onViewportChange),T=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=f.toastCount>0;v.useEffect(()=>{const C=k=>{var M;a.every(O=>k[O]||k.code===O)&&((M=b.current)==null||M.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[a]),v.useEffect(()=>{const C=g.current,k=b.current;if(P&&C&&k){const D=()=>{if(!f.isClosePausedRef.current){const Z=new CustomEvent(Im);k.dispatchEvent(Z),f.isClosePausedRef.current=!0}},M=()=>{if(f.isClosePausedRef.current){const Z=new CustomEvent(Fm);k.dispatchEvent(Z),f.isClosePausedRef.current=!1}},O=Z=>{!C.contains(Z.relatedTarget)&&M()},I=()=>{C.contains(document.activeElement)||M()};return C.addEventListener("focusin",D),C.addEventListener("focusout",O),C.addEventListener("pointermove",D),C.addEventListener("pointerleave",I),window.addEventListener("blur",D),window.addEventListener("focus",M),()=>{C.removeEventListener("focusin",D),C.removeEventListener("focusout",O),C.removeEventListener("pointermove",D),C.removeEventListener("pointerleave",I),window.removeEventListener("blur",D),window.removeEventListener("focus",M)}}},[P,f.isClosePausedRef]);const j=v.useCallback(({tabbingDirection:C})=>{const D=p().map(M=>{const O=M.ref.current,I=[O,...TS(O)];return C==="forwards"?I:I.reverse()});return(C==="forwards"?D.reverse():D).flat()},[p]);return v.useEffect(()=>{const C=b.current;if(C){const k=D=>{var I,Z,z;const M=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!M){const se=document.activeElement,ae=D.shiftKey;if(D.target===C&&ae){(I=w.current)==null||I.focus();return}const de=j({tabbingDirection:ae?"backwards":"forwards"}),Ae=de.findIndex(K=>K===se);mm(de.slice(Ae+1))?D.preventDefault():ae?(Z=w.current)==null||Z.focus():(z=_.current)==null||z.focus()}};return C.addEventListener("keydown",k),()=>C.removeEventListener("keydown",k)}},[p,j]),o.jsxs(oS,{ref:g,role:"region","aria-label":c.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&o.jsx(zm,{ref:w,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"forwards"});mm(C)}}),o.jsx(_p.Slot,{scope:s,children:o.jsx(xt.ol,{tabIndex:-1,...d,ref:N})}),P&&o.jsx(zm,{ref:_,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"backwards"});mm(C)}})]})});Ix.displayName=Ox;var Fx="ToastFocusProxy",zm=v.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:a,...c}=e,d=cf(Fx,s);return o.jsx(Xc,{"aria-hidden":!0,tabIndex:0,...c,ref:t,style:{position:"fixed"},onFocus:f=>{var w;const p=f.relatedTarget;!((w=d.viewport)!=null&&w.contains(p))&&a()}})});zm.displayName=Fx;var uf="Toast",vS="toast.swipeStart",yS="toast.swipeMove",xS="toast.swipeCancel",wS="toast.swipeEnd",zx=v.forwardRef((e,t)=>{const{forceMount:s,open:a,defaultOpen:c,onOpenChange:d,...f}=e,[p=!0,g]=Wd({prop:a,defaultProp:c,onChange:d});return o.jsx(Nl,{present:s||p,children:o.jsx(SS,{open:p,...f,ref:t,onClose:()=>g(!1),onPause:on(e.onPause),onResume:on(e.onResume),onSwipeStart:ct(e.onSwipeStart,w=>{w.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ct(e.onSwipeMove,w=>{const{x:_,y:b}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","move"),w.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:ct(e.onSwipeCancel,w=>{w.currentTarget.setAttribute("data-swipe","cancel"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ct(e.onSwipeEnd,w=>{const{x:_,y:b}=w.detail.delta;w.currentTarget.setAttribute("data-swipe","end"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),w.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),w.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),w.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),g(!1)})})})});zx.displayName=uf;var[_S,bS]=Ax(uf,{onClose(){}}),SS=v.forwardRef((e,t)=>{const{__scopeToast:s,type:a="foreground",duration:c,open:d,onClose:f,onEscapeKeyDown:p,onPause:g,onResume:w,onSwipeStart:_,onSwipeMove:b,onSwipeCancel:N,onSwipeEnd:T,...P}=e,j=cf(uf,s),[C,k]=v.useState(null),D=Rt(t,K=>k(K)),M=v.useRef(null),O=v.useRef(null),I=c||j.duration,Z=v.useRef(0),z=v.useRef(I),se=v.useRef(0),{onToastAdd:ae,onToastRemove:q}=j,J=on(()=>{var ee;(C==null?void 0:C.contains(document.activeElement))&&((ee=j.viewport)==null||ee.focus()),f()}),de=v.useCallback(K=>{!K||K===1/0||(window.clearTimeout(se.current),Z.current=new Date().getTime(),se.current=window.setTimeout(J,K))},[J]);v.useEffect(()=>{const K=j.viewport;if(K){const ee=()=>{de(z.current),w==null||w()},te=()=>{const me=new Date().getTime()-Z.current;z.current=z.current-me,window.clearTimeout(se.current),g==null||g()};return K.addEventListener(Im,te),K.addEventListener(Fm,ee),()=>{K.removeEventListener(Im,te),K.removeEventListener(Fm,ee)}}},[j.viewport,I,g,w,de]),v.useEffect(()=>{d&&!j.isClosePausedRef.current&&de(I)},[d,I,j.isClosePausedRef,de]),v.useEffect(()=>(ae(),()=>q()),[ae,q]);const Ae=v.useMemo(()=>C?Zx(C):null,[C]);return j.viewport?o.jsxs(o.Fragment,{children:[Ae&&o.jsx(NS,{__scopeToast:s,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:Ae}),o.jsx(_S,{scope:s,onClose:J,children:ua.createPortal(o.jsx(_p.ItemSlot,{scope:s,children:o.jsx(sS,{asChild:!0,onEscapeKeyDown:ct(p,()=>{j.isFocusedToastEscapeKeyDownRef.current||J(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(xt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":j.swipeDirection,...P,ref:D,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ct(e.onKeyDown,K=>{K.key==="Escape"&&(p==null||p(K.nativeEvent),K.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,J()))}),onPointerDown:ct(e.onPointerDown,K=>{K.button===0&&(M.current={x:K.clientX,y:K.clientY})}),onPointerMove:ct(e.onPointerMove,K=>{if(!M.current)return;const ee=K.clientX-M.current.x,te=K.clientY-M.current.y,me=!!O.current,U=["left","right"].includes(j.swipeDirection),ue=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,oe=U?ue(0,ee):0,F=U?0:ue(0,te),Q=K.pointerType==="touch"?10:2,ye={x:oe,y:F},Re={originalEvent:K,delta:ye};me?(O.current=ye,Sd(yS,b,Re,{discrete:!1})):Gv(ye,j.swipeDirection,Q)?(O.current=ye,Sd(vS,_,Re,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(ee)>Q||Math.abs(te)>Q)&&(M.current=null)}),onPointerUp:ct(e.onPointerUp,K=>{const ee=O.current,te=K.target;if(te.hasPointerCapture(K.pointerId)&&te.releasePointerCapture(K.pointerId),O.current=null,M.current=null,ee){const me=K.currentTarget,U={originalEvent:K,delta:ee};Gv(ee,j.swipeDirection,j.swipeThreshold)?Sd(wS,T,U,{discrete:!0}):Sd(xS,N,U,{discrete:!0}),me.addEventListener("click",ue=>ue.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),NS=e=>{const{__scopeToast:t,children:s,...a}=e,c=cf(uf,t),[d,f]=v.useState(!1),[p,g]=v.useState(!1);return CS(()=>f(!0)),v.useEffect(()=>{const w=window.setTimeout(()=>g(!0),1e3);return()=>window.clearTimeout(w)},[]),p?null:o.jsx(Lx,{asChild:!0,children:o.jsx(Xc,{...a,children:d&&o.jsxs(o.Fragment,{children:[c.label," ",s]})})})},jS="ToastTitle",$x=v.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return o.jsx(xt.div,{...a,ref:t})});$x.displayName=jS;var ES="ToastDescription",Bx=v.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e;return o.jsx(xt.div,{...a,ref:t})});Bx.displayName=ES;var Ux="ToastAction",Hx=v.forwardRef((e,t)=>{const{altText:s,...a}=e;return s.trim()?o.jsx(Vx,{altText:s,asChild:!0,children:o.jsx(bp,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ux}\`. Expected non-empty \`string\`.`),null)});Hx.displayName=Ux;var Wx="ToastClose",bp=v.forwardRef((e,t)=>{const{__scopeToast:s,...a}=e,c=bS(Wx,s);return o.jsx(Vx,{asChild:!0,children:o.jsx(xt.button,{type:"button",...a,ref:t,onClick:ct(e.onClick,c.onClose)})})});bp.displayName=Wx;var Vx=v.forwardRef((e,t)=>{const{__scopeToast:s,altText:a,...c}=e;return o.jsx(xt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...c,ref:t})});function Zx(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),PS(a)){const c=a.ariaHidden||a.hidden||a.style.display==="none",d=a.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const f=a.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...Zx(a))}}),t}function Sd(e,t,s,{discrete:a}){const c=s.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&c.addEventListener(e,t,{once:!0}),a?lf(c,d):c.dispatchEvent(d)}var Gv=(e,t,s=0)=>{const a=Math.abs(e.x),c=Math.abs(e.y),d=a>c;return t==="left"||t==="right"?d&&a>s:!d&&c>s};function CS(e=()=>{}){const t=on(e);fn(()=>{let s=0,a=0;return s=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(a)}},[t])}function PS(e){return e.nodeType===e.ELEMENT_NODE}function TS(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function mm(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var kS=Dx,qx=Ix,Gx=zx,Yx=$x,Kx=Bx,Xx=Hx,Qx=bp;function Jx(e){var t,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(s=Jx(e[t]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function ew(){for(var e,t,s=0,a="",c=arguments.length;s<c;s++)(e=arguments[s])&&(t=Jx(e))&&(a&&(a+=" "),a+=t);return a}const Yv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Kv=ew,Qc=(e,t)=>s=>{var a;if((t==null?void 0:t.variants)==null)return Kv(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:c,defaultVariants:d}=t,f=Object.keys(c).map(w=>{const _=s==null?void 0:s[w],b=d==null?void 0:d[w];if(_===null)return null;const N=Yv(_)||Yv(b);return c[w][N]}),p=s&&Object.entries(s).reduce((w,_)=>{let[b,N]=_;return N===void 0||(w[b]=N),w},{}),g=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((w,_)=>{let{class:b,className:N,...T}=_;return Object.entries(T).every(P=>{let[j,C]=P;return Array.isArray(C)?C.includes({...d,...p}[j]):{...d,...p}[j]===C})?[...w,b,N]:w},[]);return Kv(e,f,g,s==null?void 0:s.class,s==null?void 0:s.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tw=(...e)=>e.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:f,...p},g)=>v.createElement("svg",{ref:g,...RS,width:t,height:t,stroke:e,strokeWidth:a?Number(s)*24/Number(t):s,className:tw("lucide",c),...p},[...f.map(([w,_])=>v.createElement(w,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(e,t)=>{const s=v.forwardRef(({className:a,...c},d)=>v.createElement(LS,{ref:d,iconNode:t,className:tw(`lucide-${MS(e)}`,a),...c}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=st("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=st("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=st("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=st("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=st("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=st("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=st("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=st("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=st("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=st("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=st("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=st("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=st("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=st("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=st("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=st("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=st("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=st("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=st("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=st("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=st("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=st("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=st("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=st("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=st("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=st("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=st("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=st("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=st("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=st("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=st("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=st("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=st("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=st("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=st("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=st("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=st("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=st("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=st("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=st("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=st("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=st("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=st("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=st("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=st("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=st("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=st("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cp="-",VS=e=>{const t=qS(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:f=>{const p=f.split(Cp);return p[0]===""&&p.length!==1&&p.shift(),fw(p,t)||ZS(f)},getConflictingClassGroupIds:(f,p)=>{const g=s[f]||[];return p&&a[f]?[...g,...a[f]]:g}}},fw=(e,t)=>{var f;if(e.length===0)return t.classGroupId;const s=e[0],a=t.nextPart.get(s),c=a?fw(e.slice(1),a):void 0;if(c)return c;if(t.validators.length===0)return;const d=e.join(Cp);return(f=t.validators.find(({validator:p})=>p(d)))==null?void 0:f.classGroupId},ty=/^\[(.+)\]$/,ZS=e=>{if(ty.test(e)){const t=ty.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},qS=e=>{const{theme:t,prefix:s}=e,a={nextPart:new Map,validators:[]};return YS(Object.entries(e.classGroups),s).forEach(([d,f])=>{Hm(f,a,d,t)}),a},Hm=(e,t,s,a)=>{e.forEach(c=>{if(typeof c=="string"){const d=c===""?t:ny(t,c);d.classGroupId=s;return}if(typeof c=="function"){if(GS(c)){Hm(c(a),t,s,a);return}t.validators.push({validator:c,classGroupId:s});return}Object.entries(c).forEach(([d,f])=>{Hm(f,ny(t,d),s,a)})})},ny=(e,t)=>{let s=e;return t.split(Cp).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},GS=e=>e.isThemeGetter,YS=(e,t)=>t?e.map(([s,a])=>{const c=a.map(d=>typeof d=="string"?t+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([f,p])=>[t+f,p])):d);return[s,c]}):e,KS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const c=(d,f)=>{s.set(d,f),t++,t>e&&(t=0,a=s,s=new Map)};return{get(d){let f=s.get(d);if(f!==void 0)return f;if((f=a.get(d))!==void 0)return c(d,f),f},set(d,f){s.has(d)?s.set(d,f):c(d,f)}}},hw="!",XS=e=>{const{separator:t,experimentalParseClassName:s}=e,a=t.length===1,c=t[0],d=t.length,f=p=>{const g=[];let w=0,_=0,b;for(let C=0;C<p.length;C++){let k=p[C];if(w===0){if(k===c&&(a||p.slice(C,C+d)===t)){g.push(p.slice(_,C)),_=C+d;continue}if(k==="/"){b=C;continue}}k==="["?w++:k==="]"&&w--}const N=g.length===0?p:p.substring(_),T=N.startsWith(hw),P=T?N.substring(1):N,j=b&&b>_?b-_:void 0;return{modifiers:g,hasImportantModifier:T,baseClassName:P,maybePostfixModifierPosition:j}};return s?p=>s({className:p,parseClassName:f}):f},QS=e=>{if(e.length<=1)return e;const t=[];let s=[];return e.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},JS=e=>({cache:KS(e.cacheSize),parseClassName:XS(e),...VS(e)}),eN=/\s+/,tN=(e,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:c}=t,d=[],f=e.trim().split(eN);let p="";for(let g=f.length-1;g>=0;g-=1){const w=f[g],{modifiers:_,hasImportantModifier:b,baseClassName:N,maybePostfixModifierPosition:T}=s(w);let P=!!T,j=a(P?N.substring(0,T):N);if(!j){if(!P){p=w+(p.length>0?" "+p:p);continue}if(j=a(N),!j){p=w+(p.length>0?" "+p:p);continue}P=!1}const C=QS(_).join(":"),k=b?C+hw:C,D=k+j;if(d.includes(D))continue;d.push(D);const M=c(j,P);for(let O=0;O<M.length;++O){const I=M[O];d.push(k+I)}p=w+(p.length>0?" "+p:p)}return p};function nN(){let e=0,t,s,a="";for(;e<arguments.length;)(t=arguments[e++])&&(s=mw(t))&&(a&&(a+=" "),a+=s);return a}const mw=e=>{if(typeof e=="string")return e;let t,s="";for(let a=0;a<e.length;a++)e[a]&&(t=mw(e[a]))&&(s&&(s+=" "),s+=t);return s};function rN(e,...t){let s,a,c,d=f;function f(g){const w=t.reduce((_,b)=>b(_),e());return s=JS(w),a=s.cache.get,c=s.cache.set,d=p,p(g)}function p(g){const w=a(g);if(w)return w;const _=tN(g,s);return c(g,_),_}return function(){return d(nN.apply(null,arguments))}}const nn=e=>{const t=s=>s[e]||[];return t.isThemeGetter=!0,t},pw=/^\[(?:([a-z-]+):)?(.+)\]$/i,sN=/^\d+\/\d+$/,oN=new Set(["px","full","screen"]),iN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ao=e=>al(e)||oN.has(e)||sN.test(e),Xo=e=>jl(e,"length",yN),al=e=>!!e&&!Number.isNaN(Number(e)),gm=e=>jl(e,"number",al),bc=e=>!!e&&Number.isInteger(Number(e)),dN=e=>e.endsWith("%")&&al(e.slice(0,-1)),St=e=>pw.test(e),Qo=e=>iN.test(e),fN=new Set(["length","size","percentage"]),hN=e=>jl(e,fN,gw),mN=e=>jl(e,"position",gw),pN=new Set(["image","url"]),gN=e=>jl(e,pN,wN),vN=e=>jl(e,"",xN),Sc=()=>!0,jl=(e,t,s)=>{const a=pw.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},yN=e=>aN.test(e)&&!lN.test(e),gw=()=>!1,xN=e=>cN.test(e),wN=e=>uN.test(e),_N=()=>{const e=nn("colors"),t=nn("spacing"),s=nn("blur"),a=nn("brightness"),c=nn("borderColor"),d=nn("borderRadius"),f=nn("borderSpacing"),p=nn("borderWidth"),g=nn("contrast"),w=nn("grayscale"),_=nn("hueRotate"),b=nn("invert"),N=nn("gap"),T=nn("gradientColorStops"),P=nn("gradientColorStopPositions"),j=nn("inset"),C=nn("margin"),k=nn("opacity"),D=nn("padding"),M=nn("saturate"),O=nn("scale"),I=nn("sepia"),Z=nn("skew"),z=nn("space"),se=nn("translate"),ae=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],J=()=>["auto",St,t],de=()=>[St,t],Ae=()=>["",ao,Xo],K=()=>["auto",al,St],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],ue=()=>["","0",St],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[al,St];return{cacheSize:500,separator:":",theme:{colors:[Sc],spacing:[ao,Xo],blur:["none","",Qo,St],brightness:F(),borderColor:[e],borderRadius:["none","","full",Qo,St],borderSpacing:de(),borderWidth:Ae(),contrast:F(),grayscale:ue(),hueRotate:F(),invert:ue(),gap:de(),gradientColorStops:[e],gradientColorStopPositions:[dN,Xo],inset:J(),margin:J(),opacity:F(),padding:de(),saturate:F(),scale:F(),sepia:ue(),skew:F(),space:de(),translate:de()},classGroups:{aspect:[{aspect:["auto","square","video",St]}],container:["container"],columns:[{columns:[Qo]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),St]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:ae()}],"overscroll-x":[{"overscroll-x":ae()}],"overscroll-y":[{"overscroll-y":ae()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",bc,St]}],basis:[{basis:J()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",St]}],grow:[{grow:ue()}],shrink:[{shrink:ue()}],order:[{order:["first","last","none",bc,St]}],"grid-cols":[{"grid-cols":[Sc]}],"col-start-end":[{col:["auto",{span:["full",bc,St]},St]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Sc]}],"row-start-end":[{row:["auto",{span:[bc,St]},St]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",St]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",St]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",St,t]}],"min-w":[{"min-w":[St,t,"min","max","fit"]}],"max-w":[{"max-w":[St,t,"none","full","min","max","fit","prose",{screen:[Qo]},Qo]}],h:[{h:[St,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[St,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[St,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[St,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Qo,Xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gm]}],"font-family":[{font:[Sc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",St]}],"line-clamp":[{"line-clamp":["none",al,gm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ao,St]}],"list-image":[{"list-image":["none",St]}],"list-style-type":[{list:["none","disc","decimal",St]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ao,Xo]}],"underline-offset":[{"underline-offset":["auto",ao,St]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:de()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",St]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",St]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),mN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:te()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[ao,St]}],"outline-w":[{outline:[ao,Xo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[ao,Xo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Qo,vN]}],"shadow-color":[{shadow:[Sc]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":[...me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",Qo,St]}],grayscale:[{grayscale:[w]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[b]}],saturate:[{saturate:[M]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",St]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",St]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",St]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[bc,St]}],"translate-x":[{"translate-x":[se]}],"translate-y":[{"translate-y":[se]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",St]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",St]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":de()}],"scroll-mx":[{"scroll-mx":de()}],"scroll-my":[{"scroll-my":de()}],"scroll-ms":[{"scroll-ms":de()}],"scroll-me":[{"scroll-me":de()}],"scroll-mt":[{"scroll-mt":de()}],"scroll-mr":[{"scroll-mr":de()}],"scroll-mb":[{"scroll-mb":de()}],"scroll-ml":[{"scroll-ml":de()}],"scroll-p":[{"scroll-p":de()}],"scroll-px":[{"scroll-px":de()}],"scroll-py":[{"scroll-py":de()}],"scroll-ps":[{"scroll-ps":de()}],"scroll-pe":[{"scroll-pe":de()}],"scroll-pt":[{"scroll-pt":de()}],"scroll-pr":[{"scroll-pr":de()}],"scroll-pb":[{"scroll-pb":de()}],"scroll-pl":[{"scroll-pl":de()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",St]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ao,Xo,gm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bN=rN(_N);function ht(...e){return bN(ew(e))}const SN=kS,vw=v.forwardRef(({className:e,...t},s)=>o.jsx(qx,{ref:s,className:ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));vw.displayName=qx.displayName;const NN=Qc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),yw=v.forwardRef(({className:e,variant:t,...s},a)=>o.jsx(Gx,{ref:a,className:ht(NN({variant:t}),e),...s}));yw.displayName=Gx.displayName;const jN=v.forwardRef(({className:e,...t},s)=>o.jsx(Xx,{ref:s,className:ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jN.displayName=Xx.displayName;const xw=v.forwardRef(({className:e,...t},s)=>o.jsx(Qx,{ref:s,className:ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(hf,{className:"h-4 w-4"})}));xw.displayName=Qx.displayName;const ww=v.forwardRef(({className:e,...t},s)=>o.jsx(Yx,{ref:s,className:ht("text-sm font-semibold",e),...t}));ww.displayName=Yx.displayName;const _w=v.forwardRef(({className:e,...t},s)=>o.jsx(Kx,{ref:s,className:ht("text-sm opacity-90",e),...t}));_w.displayName=Kx.displayName;function EN(){const{toasts:e}=Sl();return o.jsxs(SN,{children:[e.map(function({id:t,title:s,description:a,action:c,...d}){return o.jsxs(yw,{...d,children:[o.jsxs("div",{className:"grid gap-1",children:[s&&o.jsx(ww,{children:s}),a&&o.jsx(_w,{children:a})]}),c,o.jsx(xw,{})]},t)}),o.jsx(vw,{})]})}var Nd={},ry;function CN(){if(ry)return Nd;ry=1;var e=jx();return Nd.createRoot=e.createRoot,Nd.hydrateRoot=e.hydrateRoot,Nd}var PN=CN(),sy=["light","dark"],TN="(prefers-color-scheme: dark)",kN=v.createContext(void 0),MN={setTheme:e=>{},themes:[]},RN=()=>{var e;return(e=v.useContext(kN))!=null?e:MN};v.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:a,enableColorScheme:c,defaultTheme:d,value:f,attrs:p,nonce:g})=>{let w=d==="system",_=s==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${p.map(P=>`'${P}'`).join(",")})`};`:`var d=document.documentElement,n='${s}',s='setAttribute';`,b=c?sy.includes(d)&&d?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${d}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",N=(P,j=!1,C=!0)=>{let k=f?f[P]:P,D=j?P+"|| ''":`'${k}'`,M="";return c&&C&&!j&&sy.includes(P)&&(M+=`d.style.colorScheme = '${P}';`),s==="class"?j||k?M+=`c.add(${D})`:M+="null":k&&(M+=`d[s](n,${D})`),M},T=e?`!function(){${_}${N(e)}}()`:a?`!function(){try{${_}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${w})){var t='${TN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${N("dark")}}else{${N("light")}}}else if(e){${f?`var x=${JSON.stringify(f)};`:""}${N(f?"x[e]":"e",!0)}}${w?"":"else{"+N(d,!1,!1)+"}"}${b}}catch(e){}}()`:`!function(){try{${_}var e=localStorage.getItem('${t}');if(e){${f?`var x=${JSON.stringify(f)};`:""}${N(f?"x[e]":"e",!0)}}else{${N(d,!1,!1)};}${b}}catch(t){}}();`;return v.createElement("script",{nonce:g,dangerouslySetInnerHTML:{__html:T}})});var LN=e=>{switch(e){case"success":return ON;case"info":return FN;case"warning":return IN;case"error":return zN;default:return null}},AN=Array(12).fill(0),DN=({visible:e})=>ze.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},ze.createElement("div",{className:"sonner-spinner"},AN.map((t,s)=>ze.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),ON=ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ze.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),IN=ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ze.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),FN=ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zN=ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ze.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$N=()=>{let[e,t]=ze.useState(document.hidden);return ze.useEffect(()=>{let s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e},Wm=1,BN=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:s,...a}=e,c=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Wm++,d=this.toasts.find(p=>p.id===c),f=e.dismissible===void 0?!0:e.dismissible;return d?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...e,id:c,title:s}),{...p,...e,id:c,dismissible:f,title:s}):p):this.addToast({title:s,...a,dismissible:f,id:c}),c},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(s=>s({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let s;t.loading!==void 0&&(s=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=e instanceof Promise?e:e(),c=s!==void 0;return a.then(async d=>{if(HN(d)&&!d.ok){c=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:s,type:"error",message:f,description:p})}else if(t.success!==void 0){c=!1;let f=typeof t.success=="function"?await t.success(d):t.success,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:s,type:"success",message:f,description:p})}}).catch(async d=>{if(t.error!==void 0){c=!1;let f=typeof t.error=="function"?await t.error(d):t.error,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:s,type:"error",message:f,description:p})}}).finally(()=>{var d;c&&(this.dismiss(s),s=void 0),(d=t.finally)==null||d.call(t)}),s},this.custom=(e,t)=>{let s=(t==null?void 0:t.id)||Wm++;return this.create({jsx:e(s),id:s,...t}),s},this.subscribers=[],this.toasts=[]}},Pr=new BN,UN=(e,t)=>{let s=(t==null?void 0:t.id)||Wm++;return Pr.addToast({title:e,...t,id:s}),s},HN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",WN=UN,VN=()=>Pr.toasts;Object.assign(WN,{success:Pr.success,info:Pr.info,warning:Pr.warning,error:Pr.error,custom:Pr.custom,message:Pr.message,promise:Pr.promise,dismiss:Pr.dismiss,loading:Pr.loading},{getHistory:VN});function ZN(e,{insertAt:t}={}){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}ZN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function jd(e){return e.label!==void 0}var qN=3,GN="32px",YN=4e3,KN=356,XN=14,QN=20,JN=200;function ej(...e){return e.filter(Boolean).join(" ")}var tj=e=>{var t,s,a,c,d,f,p,g,w,_;let{invert:b,toast:N,unstyled:T,interacting:P,setHeights:j,visibleToasts:C,heights:k,index:D,toasts:M,expanded:O,removeToast:I,defaultRichColors:Z,closeButton:z,style:se,cancelButtonStyle:ae,actionButtonStyle:q,className:J="",descriptionClassName:de="",duration:Ae,position:K,gap:ee,loadingIcon:te,expandByDefault:me,classNames:U,icons:ue,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:F,cn:Q}=e,[ye,Re]=ze.useState(!1),[Pe,Y]=ze.useState(!1),[B,ge]=ze.useState(!1),[Ee,Ve]=ze.useState(!1),[ut,Je]=ze.useState(0),[Lt,Wt]=ze.useState(0),xn=ze.useRef(null),X=ze.useRef(null),ve=D===0,Me=D+1<=C,Ne=N.type,$e=N.dismissible!==!1,et=N.className||"",Qe=N.descriptionClassName||"",Ut=ze.useMemo(()=>k.findIndex(he=>he.toastId===N.id)||0,[k,N.id]),It=ze.useMemo(()=>{var he;return(he=N.closeButton)!=null?he:z},[N.closeButton,z]),Ct=ze.useMemo(()=>N.duration||Ae||YN,[N.duration,Ae]),Pt=ze.useRef(0),$t=ze.useRef(0),Ht=ze.useRef(0),W=ze.useRef(null),[we,Fe]=K.split("-"),be=ze.useMemo(()=>k.reduce((he,pe,je)=>je>=Ut?he:he+pe.height,0),[k,Ut]),Ge=$N(),Se=N.invert||b,De=Ne==="loading";$t.current=ze.useMemo(()=>Ut*ee+be,[Ut,be]),ze.useEffect(()=>{Re(!0)},[]),ze.useLayoutEffect(()=>{if(!ye)return;let he=X.current,pe=he.style.height;he.style.height="auto";let je=he.getBoundingClientRect().height;he.style.height=pe,Wt(je),j(Oe=>Oe.find(He=>He.toastId===N.id)?Oe.map(He=>He.toastId===N.id?{...He,height:je}:He):[{toastId:N.id,height:je,position:N.position},...Oe])},[ye,N.title,N.description,j,N.id]);let Be=ze.useCallback(()=>{Y(!0),Je($t.current),j(he=>he.filter(pe=>pe.toastId!==N.id)),setTimeout(()=>{I(N)},JN)},[N,I,j,$t]);ze.useEffect(()=>{if(N.promise&&Ne==="loading"||N.duration===1/0||N.type==="loading")return;let he,pe=Ct;return O||P||F&&Ge?(()=>{if(Ht.current<Pt.current){let je=new Date().getTime()-Pt.current;pe=pe-je}Ht.current=new Date().getTime()})():pe!==1/0&&(Pt.current=new Date().getTime(),he=setTimeout(()=>{var je;(je=N.onAutoClose)==null||je.call(N,N),Be()},pe)),()=>clearTimeout(he)},[O,P,me,N,Ct,Be,N.promise,Ne,F,Ge]),ze.useEffect(()=>{let he=X.current;if(he){let pe=he.getBoundingClientRect().height;return Wt(pe),j(je=>[{toastId:N.id,height:pe,position:N.position},...je]),()=>j(je=>je.filter(Oe=>Oe.toastId!==N.id))}},[j,N.id]),ze.useEffect(()=>{N.delete&&Be()},[Be,N.delete]);function nt(){return ue!=null&&ue.loading?ze.createElement("div",{className:"sonner-loader","data-visible":Ne==="loading"},ue.loading):te?ze.createElement("div",{className:"sonner-loader","data-visible":Ne==="loading"},te):ze.createElement(DN,{visible:Ne==="loading"})}return ze.createElement("li",{"aria-live":N.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:X,className:Q(J,et,U==null?void 0:U.toast,(t=N==null?void 0:N.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[Ne],(s=N==null?void 0:N.classNames)==null?void 0:s[Ne]),"data-sonner-toast":"","data-rich-colors":(a=N.richColors)!=null?a:Z,"data-styled":!(N.jsx||N.unstyled||T),"data-mounted":ye,"data-promise":!!N.promise,"data-removed":Pe,"data-visible":Me,"data-y-position":we,"data-x-position":Fe,"data-index":D,"data-front":ve,"data-swiping":B,"data-dismissible":$e,"data-type":Ne,"data-invert":Se,"data-swipe-out":Ee,"data-expanded":!!(O||me&&ye),style:{"--index":D,"--toasts-before":D,"--z-index":M.length-D,"--offset":`${Pe?ut:$t.current}px`,"--initial-height":me?"auto":`${Lt}px`,...se,...N.style},onPointerDown:he=>{De||!$e||(xn.current=new Date,Je($t.current),he.target.setPointerCapture(he.pointerId),he.target.tagName!=="BUTTON"&&(ge(!0),W.current={x:he.clientX,y:he.clientY}))},onPointerUp:()=>{var he,pe,je,Oe;if(Ee||!$e)return;W.current=null;let He=Number(((he=X.current)==null?void 0:he.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ft=new Date().getTime()-((pe=xn.current)==null?void 0:pe.getTime()),tt=Math.abs(He)/Ft;if(Math.abs(He)>=QN||tt>.11){Je($t.current),(je=N.onDismiss)==null||je.call(N,N),Be(),Ve(!0);return}(Oe=X.current)==null||Oe.style.setProperty("--swipe-amount","0px"),ge(!1)},onPointerMove:he=>{var pe;if(!W.current||!$e)return;let je=he.clientY-W.current.y,Oe=he.clientX-W.current.x,He=(we==="top"?Math.min:Math.max)(0,je),Ft=he.pointerType==="touch"?10:2;Math.abs(He)>Ft?(pe=X.current)==null||pe.style.setProperty("--swipe-amount",`${je}px`):Math.abs(Oe)>Ft&&(W.current=null)}},It&&!N.jsx?ze.createElement("button",{"aria-label":oe,"data-disabled":De,"data-close-button":!0,onClick:De||!$e?()=>{}:()=>{var he;Be(),(he=N.onDismiss)==null||he.call(N,N)},className:Q(U==null?void 0:U.closeButton,(c=N==null?void 0:N.classNames)==null?void 0:c.closeButton)},ze.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ze.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ze.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,N.jsx||ze.isValidElement(N.title)?N.jsx||N.title:ze.createElement(ze.Fragment,null,Ne||N.icon||N.promise?ze.createElement("div",{"data-icon":"",className:Q(U==null?void 0:U.icon,(d=N==null?void 0:N.classNames)==null?void 0:d.icon)},N.promise||N.type==="loading"&&!N.icon?N.icon||nt():null,N.type!=="loading"?N.icon||(ue==null?void 0:ue[Ne])||LN(Ne):null):null,ze.createElement("div",{"data-content":"",className:Q(U==null?void 0:U.content,(f=N==null?void 0:N.classNames)==null?void 0:f.content)},ze.createElement("div",{"data-title":"",className:Q(U==null?void 0:U.title,(p=N==null?void 0:N.classNames)==null?void 0:p.title)},N.title),N.description?ze.createElement("div",{"data-description":"",className:Q(de,Qe,U==null?void 0:U.description,(g=N==null?void 0:N.classNames)==null?void 0:g.description)},N.description):null),ze.isValidElement(N.cancel)?N.cancel:N.cancel&&jd(N.cancel)?ze.createElement("button",{"data-button":!0,"data-cancel":!0,style:N.cancelButtonStyle||ae,onClick:he=>{var pe,je;jd(N.cancel)&&$e&&((je=(pe=N.cancel).onClick)==null||je.call(pe,he),Be())},className:Q(U==null?void 0:U.cancelButton,(w=N==null?void 0:N.classNames)==null?void 0:w.cancelButton)},N.cancel.label):null,ze.isValidElement(N.action)?N.action:N.action&&jd(N.action)?ze.createElement("button",{"data-button":!0,"data-action":!0,style:N.actionButtonStyle||q,onClick:he=>{var pe,je;jd(N.action)&&(he.defaultPrevented||((je=(pe=N.action).onClick)==null||je.call(pe,he),Be()))},className:Q(U==null?void 0:U.actionButton,(_=N==null?void 0:N.classNames)==null?void 0:_.actionButton)},N.action.label):null))};function oy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var nj=e=>{let{invert:t,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,theme:g="light",richColors:w,duration:_,style:b,visibleToasts:N=qN,toastOptions:T,dir:P=oy(),gap:j=XN,loadingIcon:C,icons:k,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:M,cn:O=ej}=e,[I,Z]=ze.useState([]),z=ze.useMemo(()=>Array.from(new Set([s].concat(I.filter(F=>F.position).map(F=>F.position)))),[I,s]),[se,ae]=ze.useState([]),[q,J]=ze.useState(!1),[de,Ae]=ze.useState(!1),[K,ee]=ze.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=ze.useRef(null),me=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=ze.useRef(null),ue=ze.useRef(!1),oe=ze.useCallback(F=>{var Q;(Q=I.find(ye=>ye.id===F.id))!=null&&Q.delete||Pr.dismiss(F.id),Z(ye=>ye.filter(({id:Re})=>Re!==F.id))},[I]);return ze.useEffect(()=>Pr.subscribe(F=>{if(F.dismiss){Z(Q=>Q.map(ye=>ye.id===F.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{af.flushSync(()=>{Z(Q=>{let ye=Q.findIndex(Re=>Re.id===F.id);return ye!==-1?[...Q.slice(0,ye),{...Q[ye],...F},...Q.slice(ye+1)]:[F,...Q]})})})}),[]),ze.useEffect(()=>{if(g!=="system"){ee(g);return}g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:F})=>{ee(F?"dark":"light")})},[g]),ze.useEffect(()=>{I.length<=1&&J(!1)},[I]),ze.useEffect(()=>{let F=Q=>{var ye,Re;a.every(Pe=>Q[Pe]||Q.code===Pe)&&(J(!0),(ye=te.current)==null||ye.focus()),Q.code==="Escape"&&(document.activeElement===te.current||(Re=te.current)!=null&&Re.contains(document.activeElement))&&J(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[a]),ze.useEffect(()=>{if(te.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,ue.current=!1)}},[te.current]),I.length?ze.createElement("section",{"aria-label":`${D} ${me}`,tabIndex:-1},z.map((F,Q)=>{var ye;let[Re,Pe]=F.split("-");return ze.createElement("ol",{key:F,dir:P==="auto"?oy():P,tabIndex:-1,ref:te,className:f,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":Re,"data-x-position":Pe,style:{"--front-toast-height":`${((ye=se[0])==null?void 0:ye.height)||0}px`,"--offset":typeof p=="number"?`${p}px`:p||GN,"--width":`${KN}px`,"--gap":`${j}px`,...b},onBlur:Y=>{ue.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(ue.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,U.current=Y.relatedTarget)},onMouseEnter:()=>J(!0),onMouseMove:()=>J(!0),onMouseLeave:()=>{de||J(!1)},onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||Ae(!0)},onPointerUp:()=>Ae(!1)},I.filter(Y=>!Y.position&&Q===0||Y.position===F).map((Y,B)=>{var ge,Ee;return ze.createElement(tj,{key:Y.id,icons:k,index:B,toast:Y,defaultRichColors:w,duration:(ge=T==null?void 0:T.duration)!=null?ge:_,className:T==null?void 0:T.className,descriptionClassName:T==null?void 0:T.descriptionClassName,invert:t,visibleToasts:N,closeButton:(Ee=T==null?void 0:T.closeButton)!=null?Ee:d,interacting:de,position:F,style:T==null?void 0:T.style,unstyled:T==null?void 0:T.unstyled,classNames:T==null?void 0:T.classNames,cancelButtonStyle:T==null?void 0:T.cancelButtonStyle,actionButtonStyle:T==null?void 0:T.actionButtonStyle,removeToast:oe,toasts:I.filter(Ve=>Ve.position==Y.position),heights:se.filter(Ve=>Ve.position==Y.position),setHeights:ae,expandByDefault:c,gap:j,loadingIcon:C,expanded:q,pauseWhenPageIsHidden:M,cn:O})}))})):null};const rj=({...e})=>{const{theme:t="system"}=RN();return o.jsx(nj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function sj(e,t=[]){let s=[];function a(d,f){const p=v.createContext(f),g=s.length;s=[...s,f];const w=b=>{var k;const{scope:N,children:T,...P}=b,j=((k=N==null?void 0:N[e])==null?void 0:k[g])||p,C=v.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:T})};w.displayName=d+"Provider";function _(b,N){var j;const T=((j=N==null?void 0:N[e])==null?void 0:j[g])||p,P=v.useContext(T);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[w,_]}const c=()=>{const d=s.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,oj(c,...t)]}function oj(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return s.scopeName=t.scopeName,s}var ij="DismissableLayer",Vm="dismissableLayer.update",aj="dismissableLayer.pointerDownOutside",lj="dismissableLayer.focusOutside",iy,bw=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pp=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(bw),[_,b]=v.useState(null),N=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=v.useState({}),P=Rt(t,z=>b(z)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),k=j.indexOf(C),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=k,I=dj(z=>{const se=z.target,ae=[...w.branches].some(q=>q.contains(se));!O||ae||(c==null||c(z),f==null||f(z),z.defaultPrevented||p==null||p())},N),Z=fj(z=>{const se=z.target;[...w.branches].some(q=>q.contains(se))||(d==null||d(z),f==null||f(z),z.defaultPrevented||p==null||p())},N);return xp(z=>{D===w.layers.size-1&&(a==null||a(z),!z.defaultPrevented&&p&&(z.preventDefault(),p()))},N),v.useEffect(()=>{if(_)return s&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(iy=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),ay(),()=>{s&&w.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=iy)}},[_,N,s,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),ay())},[_,w]),v.useEffect(()=>{const z=()=>T({});return document.addEventListener(Vm,z),()=>document.removeEventListener(Vm,z)},[]),o.jsx(xt.div,{...g,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:ct(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:ct(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:ct(e.onPointerDownCapture,I.onPointerDownCapture)})});Pp.displayName=ij;var cj="DismissableLayerBranch",uj=v.forwardRef((e,t)=>{const s=v.useContext(bw),a=v.useRef(null),c=Rt(t,a);return v.useEffect(()=>{const d=a.current;if(d)return s.branches.add(d),()=>{s.branches.delete(d)}},[s.branches]),o.jsx(xt.div,{...e,ref:c})});uj.displayName=cj;function dj(e,t=globalThis==null?void 0:globalThis.document){const s=on(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){Sw(aj,s,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,s]),{onPointerDownCapture:()=>a.current=!0}}function fj(e,t=globalThis==null?void 0:globalThis.document){const s=on(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&Sw(lj,s,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ay(){const e=new CustomEvent(Vm);document.dispatchEvent(e)}function Sw(e,t,s,{discrete:a}){const c=s.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&c.addEventListener(e,t,{once:!0}),a?lf(c,d):c.dispatchEvent(d)}var hj=Nx.useId||(()=>{}),mj=0;function ll(e){const[t,s]=v.useState(hj());return fn(()=>{s(a=>a??String(mj++))},[e]),t?`radix-${t}`:""}const pj=["top","right","bottom","left"],fi=Math.min,Tr=Math.max,Zd=Math.round,Ed=Math.floor,hi=e=>({x:e,y:e}),gj={left:"right",right:"left",bottom:"top",top:"bottom"},vj={start:"end",end:"start"};function Zm(e,t,s){return Tr(e,fi(t,s))}function mo(e,t){return typeof e=="function"?e(t):e}function po(e){return e.split("-")[0]}function El(e){return e.split("-")[1]}function Tp(e){return e==="x"?"y":"x"}function kp(e){return e==="y"?"height":"width"}function mi(e){return["top","bottom"].includes(po(e))?"y":"x"}function Mp(e){return Tp(mi(e))}function yj(e,t,s){s===void 0&&(s=!1);const a=El(e),c=Mp(e),d=kp(c);let f=c==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[d]>t.floating[d]&&(f=qd(f)),[f,qd(f)]}function xj(e){const t=qd(e);return[qm(e),t,qm(t)]}function qm(e){return e.replace(/start|end/g,t=>vj[t])}function wj(e,t,s){const a=["left","right"],c=["right","left"],d=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return s?t?c:a:t?a:c;case"left":case"right":return t?d:f;default:return[]}}function _j(e,t,s,a){const c=El(e);let d=wj(po(e),s==="start",a);return c&&(d=d.map(f=>f+"-"+c),t&&(d=d.concat(d.map(qm)))),d}function qd(e){return e.replace(/left|right|bottom|top/g,t=>gj[t])}function bj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Nw(e){return typeof e!="number"?bj(e):{top:e,right:e,bottom:e,left:e}}function Gd(e){const{x:t,y:s,width:a,height:c}=e;return{width:a,height:c,top:s,left:t,right:t+a,bottom:s+c,x:t,y:s}}function ly(e,t,s){let{reference:a,floating:c}=e;const d=mi(t),f=Mp(t),p=kp(f),g=po(t),w=d==="y",_=a.x+a.width/2-c.width/2,b=a.y+a.height/2-c.height/2,N=a[p]/2-c[p]/2;let T;switch(g){case"top":T={x:_,y:a.y-c.height};break;case"bottom":T={x:_,y:a.y+a.height};break;case"right":T={x:a.x+a.width,y:b};break;case"left":T={x:a.x-c.width,y:b};break;default:T={x:a.x,y:a.y}}switch(El(t)){case"start":T[f]-=N*(s&&w?-1:1);break;case"end":T[f]+=N*(s&&w?-1:1);break}return T}const Sj=async(e,t,s)=>{const{placement:a="bottom",strategy:c="absolute",middleware:d=[],platform:f}=s,p=d.filter(Boolean),g=await(f.isRTL==null?void 0:f.isRTL(t));let w=await f.getElementRects({reference:e,floating:t,strategy:c}),{x:_,y:b}=ly(w,a,g),N=a,T={},P=0;for(let j=0;j<p.length;j++){const{name:C,fn:k}=p[j],{x:D,y:M,data:O,reset:I}=await k({x:_,y:b,initialPlacement:a,placement:N,strategy:c,middlewareData:T,rects:w,platform:f,elements:{reference:e,floating:t}});_=D??_,b=M??b,T={...T,[C]:{...T[C],...O}},I&&P<=50&&(P++,typeof I=="object"&&(I.placement&&(N=I.placement),I.rects&&(w=I.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:c}):I.rects),{x:_,y:b}=ly(w,N,g)),j=-1)}return{x:_,y:b,placement:N,strategy:c,middlewareData:T}};async function $c(e,t){var s;t===void 0&&(t={});const{x:a,y:c,platform:d,rects:f,elements:p,strategy:g}=e,{boundary:w="clippingAncestors",rootBoundary:_="viewport",elementContext:b="floating",altBoundary:N=!1,padding:T=0}=mo(t,e),P=Nw(T),C=p[N?b==="floating"?"reference":"floating":b],k=Gd(await d.getClippingRect({element:(s=await(d.isElement==null?void 0:d.isElement(C)))==null||s?C:C.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(p.floating)),boundary:w,rootBoundary:_,strategy:g})),D=b==="floating"?{x:a,y:c,width:f.floating.width,height:f.floating.height}:f.reference,M=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p.floating)),O=await(d.isElement==null?void 0:d.isElement(M))?await(d.getScale==null?void 0:d.getScale(M))||{x:1,y:1}:{x:1,y:1},I=Gd(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:D,offsetParent:M,strategy:g}):D);return{top:(k.top-I.top+P.top)/O.y,bottom:(I.bottom-k.bottom+P.bottom)/O.y,left:(k.left-I.left+P.left)/O.x,right:(I.right-k.right+P.right)/O.x}}const Nj=e=>({name:"arrow",options:e,async fn(t){const{x:s,y:a,placement:c,rects:d,platform:f,elements:p,middlewareData:g}=t,{element:w,padding:_=0}=mo(e,t)||{};if(w==null)return{};const b=Nw(_),N={x:s,y:a},T=Mp(c),P=kp(T),j=await f.getDimensions(w),C=T==="y",k=C?"top":"left",D=C?"bottom":"right",M=C?"clientHeight":"clientWidth",O=d.reference[P]+d.reference[T]-N[T]-d.floating[P],I=N[T]-d.reference[T],Z=await(f.getOffsetParent==null?void 0:f.getOffsetParent(w));let z=Z?Z[M]:0;(!z||!await(f.isElement==null?void 0:f.isElement(Z)))&&(z=p.floating[M]||d.floating[P]);const se=O/2-I/2,ae=z/2-j[P]/2-1,q=fi(b[k],ae),J=fi(b[D],ae),de=q,Ae=z-j[P]-J,K=z/2-j[P]/2+se,ee=Zm(de,K,Ae),te=!g.arrow&&El(c)!=null&&K!==ee&&d.reference[P]/2-(K<de?q:J)-j[P]/2<0,me=te?K<de?K-de:K-Ae:0;return{[T]:N[T]+me,data:{[T]:ee,centerOffset:K-ee-me,...te&&{alignmentOffset:me}},reset:te}}}),jj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var s,a;const{placement:c,middlewareData:d,rects:f,initialPlacement:p,platform:g,elements:w}=t,{mainAxis:_=!0,crossAxis:b=!0,fallbackPlacements:N,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:j=!0,...C}=mo(e,t);if((s=d.arrow)!=null&&s.alignmentOffset)return{};const k=po(c),D=mi(p),M=po(p)===p,O=await(g.isRTL==null?void 0:g.isRTL(w.floating)),I=N||(M||!j?[qd(p)]:xj(p)),Z=P!=="none";!N&&Z&&I.push(..._j(p,j,P,O));const z=[p,...I],se=await $c(t,C),ae=[];let q=((a=d.flip)==null?void 0:a.overflows)||[];if(_&&ae.push(se[k]),b){const K=yj(c,f,O);ae.push(se[K[0]],se[K[1]])}if(q=[...q,{placement:c,overflows:ae}],!ae.every(K=>K<=0)){var J,de;const K=(((J=d.flip)==null?void 0:J.index)||0)+1,ee=z[K];if(ee)return{data:{index:K,overflows:q},reset:{placement:ee}};let te=(de=q.filter(me=>me.overflows[0]<=0).sort((me,U)=>me.overflows[1]-U.overflows[1])[0])==null?void 0:de.placement;if(!te)switch(T){case"bestFit":{var Ae;const me=(Ae=q.filter(U=>{if(Z){const ue=mi(U.placement);return ue===D||ue==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(ue=>ue>0).reduce((ue,oe)=>ue+oe,0)]).sort((U,ue)=>U[1]-ue[1])[0])==null?void 0:Ae[0];me&&(te=me);break}case"initialPlacement":te=p;break}if(c!==te)return{reset:{placement:te}}}return{}}}};function cy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uy(e){return pj.some(t=>e[t]>=0)}const Ej=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:s}=t,{strategy:a="referenceHidden",...c}=mo(e,t);switch(a){case"referenceHidden":{const d=await $c(t,{...c,elementContext:"reference"}),f=cy(d,s.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:uy(f)}}}case"escaped":{const d=await $c(t,{...c,altBoundary:!0}),f=cy(d,s.floating);return{data:{escapedOffsets:f,escaped:uy(f)}}}default:return{}}}}};async function Cj(e,t){const{placement:s,platform:a,elements:c}=e,d=await(a.isRTL==null?void 0:a.isRTL(c.floating)),f=po(s),p=El(s),g=mi(s)==="y",w=["left","top"].includes(f)?-1:1,_=d&&g?-1:1,b=mo(t,e);let{mainAxis:N,crossAxis:T,alignmentAxis:P}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return p&&typeof P=="number"&&(T=p==="end"?P*-1:P),g?{x:T*_,y:N*w}:{x:N*w,y:T*_}}const Pj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var s,a;const{x:c,y:d,placement:f,middlewareData:p}=t,g=await Cj(t,e);return f===((s=p.offset)==null?void 0:s.placement)&&(a=p.arrow)!=null&&a.alignmentOffset?{}:{x:c+g.x,y:d+g.y,data:{...g,placement:f}}}}},Tj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:s,y:a,placement:c}=t,{mainAxis:d=!0,crossAxis:f=!1,limiter:p={fn:C=>{let{x:k,y:D}=C;return{x:k,y:D}}},...g}=mo(e,t),w={x:s,y:a},_=await $c(t,g),b=mi(po(c)),N=Tp(b);let T=w[N],P=w[b];if(d){const C=N==="y"?"top":"left",k=N==="y"?"bottom":"right",D=T+_[C],M=T-_[k];T=Zm(D,T,M)}if(f){const C=b==="y"?"top":"left",k=b==="y"?"bottom":"right",D=P+_[C],M=P-_[k];P=Zm(D,P,M)}const j=p.fn({...t,[N]:T,[b]:P});return{...j,data:{x:j.x-s,y:j.y-a,enabled:{[N]:d,[b]:f}}}}}},kj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:s,y:a,placement:c,rects:d,middlewareData:f}=t,{offset:p=0,mainAxis:g=!0,crossAxis:w=!0}=mo(e,t),_={x:s,y:a},b=mi(c),N=Tp(b);let T=_[N],P=_[b];const j=mo(p,t),C=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(g){const M=N==="y"?"height":"width",O=d.reference[N]-d.floating[M]+C.mainAxis,I=d.reference[N]+d.reference[M]-C.mainAxis;T<O?T=O:T>I&&(T=I)}if(w){var k,D;const M=N==="y"?"width":"height",O=["top","left"].includes(po(c)),I=d.reference[b]-d.floating[M]+(O&&((k=f.offset)==null?void 0:k[b])||0)+(O?0:C.crossAxis),Z=d.reference[b]+d.reference[M]+(O?0:((D=f.offset)==null?void 0:D[b])||0)-(O?C.crossAxis:0);P<I?P=I:P>Z&&(P=Z)}return{[N]:T,[b]:P}}}},Mj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var s,a;const{placement:c,rects:d,platform:f,elements:p}=t,{apply:g=()=>{},...w}=mo(e,t),_=await $c(t,w),b=po(c),N=El(c),T=mi(c)==="y",{width:P,height:j}=d.floating;let C,k;b==="top"||b==="bottom"?(C=b,k=N===(await(f.isRTL==null?void 0:f.isRTL(p.floating))?"start":"end")?"left":"right"):(k=b,C=N==="end"?"top":"bottom");const D=j-_.top-_.bottom,M=P-_.left-_.right,O=fi(j-_[C],D),I=fi(P-_[k],M),Z=!t.middlewareData.shift;let z=O,se=I;if((s=t.middlewareData.shift)!=null&&s.enabled.x&&(se=M),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(z=D),Z&&!N){const q=Tr(_.left,0),J=Tr(_.right,0),de=Tr(_.top,0),Ae=Tr(_.bottom,0);T?se=P-2*(q!==0||J!==0?q+J:Tr(_.left,_.right)):z=j-2*(de!==0||Ae!==0?de+Ae:Tr(_.top,_.bottom))}await g({...t,availableWidth:se,availableHeight:z});const ae=await f.getDimensions(p.floating);return P!==ae.width||j!==ae.height?{reset:{rects:!0}}:{}}}};function mf(){return typeof window<"u"}function Cl(e){return jw(e)?(e.nodeName||"").toLowerCase():"#document"}function kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Fs(e){var t;return(t=(jw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jw(e){return mf()?e instanceof Node||e instanceof kr(e).Node:!1}function hs(e){return mf()?e instanceof Element||e instanceof kr(e).Element:!1}function Is(e){return mf()?e instanceof HTMLElement||e instanceof kr(e).HTMLElement:!1}function dy(e){return!mf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kr(e).ShadowRoot}function eu(e){const{overflow:t,overflowX:s,overflowY:a,display:c}=ms(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+s)&&!["inline","contents"].includes(c)}function Rj(e){return["table","td","th"].includes(Cl(e))}function pf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Rp(e){const t=Lp(),s=hs(e)?ms(e):e;return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!t&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!t&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(s.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(s.contain||"").includes(a))}function Lj(e){let t=pi(e);for(;Is(t)&&!wl(t);){if(Rp(t))return t;if(pf(t))return null;t=pi(t)}return null}function Lp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wl(e){return["html","body","#document"].includes(Cl(e))}function ms(e){return kr(e).getComputedStyle(e)}function gf(e){return hs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pi(e){if(Cl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dy(e)&&e.host||Fs(e);return dy(t)?t.host:t}function Ew(e){const t=pi(e);return wl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Is(t)&&eu(t)?t:Ew(t)}function Bc(e,t,s){var a;t===void 0&&(t=[]),s===void 0&&(s=!0);const c=Ew(e),d=c===((a=e.ownerDocument)==null?void 0:a.body),f=kr(c);if(d){const p=Gm(f);return t.concat(f,f.visualViewport||[],eu(c)?c:[],p&&s?Bc(p):[])}return t.concat(c,Bc(c,[],s))}function Gm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Cw(e){const t=ms(e);let s=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const c=Is(e),d=c?e.offsetWidth:s,f=c?e.offsetHeight:a,p=Zd(s)!==d||Zd(a)!==f;return p&&(s=d,a=f),{width:s,height:a,$:p}}function Ap(e){return hs(e)?e:e.contextElement}function cl(e){const t=Ap(e);if(!Is(t))return hi(1);const s=t.getBoundingClientRect(),{width:a,height:c,$:d}=Cw(t);let f=(d?Zd(s.width):s.width)/a,p=(d?Zd(s.height):s.height)/c;return(!f||!Number.isFinite(f))&&(f=1),(!p||!Number.isFinite(p))&&(p=1),{x:f,y:p}}const Aj=hi(0);function Pw(e){const t=kr(e);return!Lp()||!t.visualViewport?Aj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Dj(e,t,s){return t===void 0&&(t=!1),!s||t&&s!==kr(e)?!1:t}function oa(e,t,s,a){t===void 0&&(t=!1),s===void 0&&(s=!1);const c=e.getBoundingClientRect(),d=Ap(e);let f=hi(1);t&&(a?hs(a)&&(f=cl(a)):f=cl(e));const p=Dj(d,s,a)?Pw(d):hi(0);let g=(c.left+p.x)/f.x,w=(c.top+p.y)/f.y,_=c.width/f.x,b=c.height/f.y;if(d){const N=kr(d),T=a&&hs(a)?kr(a):a;let P=N,j=Gm(P);for(;j&&a&&T!==P;){const C=cl(j),k=j.getBoundingClientRect(),D=ms(j),M=k.left+(j.clientLeft+parseFloat(D.paddingLeft))*C.x,O=k.top+(j.clientTop+parseFloat(D.paddingTop))*C.y;g*=C.x,w*=C.y,_*=C.x,b*=C.y,g+=M,w+=O,P=kr(j),j=Gm(P)}}return Gd({width:_,height:b,x:g,y:w})}function Oj(e){let{elements:t,rect:s,offsetParent:a,strategy:c}=e;const d=c==="fixed",f=Fs(a),p=t?pf(t.floating):!1;if(a===f||p&&d)return s;let g={scrollLeft:0,scrollTop:0},w=hi(1);const _=hi(0),b=Is(a);if((b||!b&&!d)&&((Cl(a)!=="body"||eu(f))&&(g=gf(a)),Is(a))){const N=oa(a);w=cl(a),_.x=N.x+a.clientLeft,_.y=N.y+a.clientTop}return{width:s.width*w.x,height:s.height*w.y,x:s.x*w.x-g.scrollLeft*w.x+_.x,y:s.y*w.y-g.scrollTop*w.y+_.y}}function Ij(e){return Array.from(e.getClientRects())}function Ym(e,t){const s=gf(e).scrollLeft;return t?t.left+s:oa(Fs(e)).left+s}function Fj(e){const t=Fs(e),s=gf(e),a=e.ownerDocument.body,c=Tr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),d=Tr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let f=-s.scrollLeft+Ym(e);const p=-s.scrollTop;return ms(a).direction==="rtl"&&(f+=Tr(t.clientWidth,a.clientWidth)-c),{width:c,height:d,x:f,y:p}}function zj(e,t){const s=kr(e),a=Fs(e),c=s.visualViewport;let d=a.clientWidth,f=a.clientHeight,p=0,g=0;if(c){d=c.width,f=c.height;const w=Lp();(!w||w&&t==="fixed")&&(p=c.offsetLeft,g=c.offsetTop)}return{width:d,height:f,x:p,y:g}}function $j(e,t){const s=oa(e,!0,t==="fixed"),a=s.top+e.clientTop,c=s.left+e.clientLeft,d=Is(e)?cl(e):hi(1),f=e.clientWidth*d.x,p=e.clientHeight*d.y,g=c*d.x,w=a*d.y;return{width:f,height:p,x:g,y:w}}function fy(e,t,s){let a;if(t==="viewport")a=zj(e,s);else if(t==="document")a=Fj(Fs(e));else if(hs(t))a=$j(t,s);else{const c=Pw(e);a={...t,x:t.x-c.x,y:t.y-c.y}}return Gd(a)}function Tw(e,t){const s=pi(e);return s===t||!hs(s)||wl(s)?!1:ms(s).position==="fixed"||Tw(s,t)}function Bj(e,t){const s=t.get(e);if(s)return s;let a=Bc(e,[],!1).filter(p=>hs(p)&&Cl(p)!=="body"),c=null;const d=ms(e).position==="fixed";let f=d?pi(e):e;for(;hs(f)&&!wl(f);){const p=ms(f),g=Rp(f);!g&&p.position==="fixed"&&(c=null),(d?!g&&!c:!g&&p.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||eu(f)&&!g&&Tw(e,f))?a=a.filter(_=>_!==f):c=p,f=pi(f)}return t.set(e,a),a}function Uj(e){let{element:t,boundary:s,rootBoundary:a,strategy:c}=e;const f=[...s==="clippingAncestors"?pf(t)?[]:Bj(t,this._c):[].concat(s),a],p=f[0],g=f.reduce((w,_)=>{const b=fy(t,_,c);return w.top=Tr(b.top,w.top),w.right=fi(b.right,w.right),w.bottom=fi(b.bottom,w.bottom),w.left=Tr(b.left,w.left),w},fy(t,p,c));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function Hj(e){const{width:t,height:s}=Cw(e);return{width:t,height:s}}function Wj(e,t,s){const a=Is(t),c=Fs(t),d=s==="fixed",f=oa(e,!0,d,t);let p={scrollLeft:0,scrollTop:0};const g=hi(0);if(a||!a&&!d)if((Cl(t)!=="body"||eu(c))&&(p=gf(t)),a){const T=oa(t,!0,d,t);g.x=T.x+t.clientLeft,g.y=T.y+t.clientTop}else c&&(g.x=Ym(c));let w=0,_=0;if(c&&!a&&!d){const T=c.getBoundingClientRect();_=T.top+p.scrollTop,w=T.left+p.scrollLeft-Ym(c,T)}const b=f.left+p.scrollLeft-g.x-w,N=f.top+p.scrollTop-g.y-_;return{x:b,y:N,width:f.width,height:f.height}}function vm(e){return ms(e).position==="static"}function hy(e,t){if(!Is(e)||ms(e).position==="fixed")return null;if(t)return t(e);let s=e.offsetParent;return Fs(e)===s&&(s=s.ownerDocument.body),s}function kw(e,t){const s=kr(e);if(pf(e))return s;if(!Is(e)){let c=pi(e);for(;c&&!wl(c);){if(hs(c)&&!vm(c))return c;c=pi(c)}return s}let a=hy(e,t);for(;a&&Rj(a)&&vm(a);)a=hy(a,t);return a&&wl(a)&&vm(a)&&!Rp(a)?s:a||Lj(e)||s}const Vj=async function(e){const t=this.getOffsetParent||kw,s=this.getDimensions,a=await s(e.floating);return{reference:Wj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Zj(e){return ms(e).direction==="rtl"}const qj={convertOffsetParentRelativeRectToViewportRelativeRect:Oj,getDocumentElement:Fs,getClippingRect:Uj,getOffsetParent:kw,getElementRects:Vj,getClientRects:Ij,getDimensions:Hj,getScale:cl,isElement:hs,isRTL:Zj};function Gj(e,t){let s=null,a;const c=Fs(e);function d(){var p;clearTimeout(a),(p=s)==null||p.disconnect(),s=null}function f(p,g){p===void 0&&(p=!1),g===void 0&&(g=1),d();const{left:w,top:_,width:b,height:N}=e.getBoundingClientRect();if(p||t(),!b||!N)return;const T=Ed(_),P=Ed(c.clientWidth-(w+b)),j=Ed(c.clientHeight-(_+N)),C=Ed(w),D={rootMargin:-T+"px "+-P+"px "+-j+"px "+-C+"px",threshold:Tr(0,fi(1,g))||1};let M=!0;function O(I){const Z=I[0].intersectionRatio;if(Z!==g){if(!M)return f();Z?f(!1,Z):a=setTimeout(()=>{f(!1,1e-7)},1e3)}M=!1}try{s=new IntersectionObserver(O,{...D,root:c.ownerDocument})}catch{s=new IntersectionObserver(O,D)}s.observe(e)}return f(!0),d}function Yj(e,t,s,a){a===void 0&&(a={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:g=!1}=a,w=Ap(e),_=c||d?[...w?Bc(w):[],...Bc(t)]:[];_.forEach(k=>{c&&k.addEventListener("scroll",s,{passive:!0}),d&&k.addEventListener("resize",s)});const b=w&&p?Gj(w,s):null;let N=-1,T=null;f&&(T=new ResizeObserver(k=>{let[D]=k;D&&D.target===w&&T&&(T.unobserve(t),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var M;(M=T)==null||M.observe(t)})),s()}),w&&!g&&T.observe(w),T.observe(t));let P,j=g?oa(e):null;g&&C();function C(){const k=oa(e);j&&(k.x!==j.x||k.y!==j.y||k.width!==j.width||k.height!==j.height)&&s(),j=k,P=requestAnimationFrame(C)}return s(),()=>{var k;_.forEach(D=>{c&&D.removeEventListener("scroll",s),d&&D.removeEventListener("resize",s)}),b==null||b(),(k=T)==null||k.disconnect(),T=null,g&&cancelAnimationFrame(P)}}const Kj=Pj,Xj=Tj,Qj=jj,Jj=Mj,eE=Ej,my=Nj,tE=kj,nE=(e,t,s)=>{const a=new Map,c={platform:qj,...s},d={...c.platform,_c:a};return Sj(e,t,{...c,platform:d})};var $d=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Yd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let s,a,c;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(s=e.length,s!==t.length)return!1;for(a=s;a--!==0;)if(!Yd(e[a],t[a]))return!1;return!0}if(c=Object.keys(e),s=c.length,s!==Object.keys(t).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(t,c[a]))return!1;for(a=s;a--!==0;){const d=c[a];if(!(d==="_owner"&&e.$$typeof)&&!Yd(e[d],t[d]))return!1}return!0}return e!==e&&t!==t}function Mw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function py(e,t){const s=Mw(e);return Math.round(t*s)/s}function ym(e){const t=v.useRef(e);return $d(()=>{t.current=e}),t}function rE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:s="absolute",middleware:a=[],platform:c,elements:{reference:d,floating:f}={},transform:p=!0,whileElementsMounted:g,open:w}=e,[_,b]=v.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[N,T]=v.useState(a);Yd(N,a)||T(a);const[P,j]=v.useState(null),[C,k]=v.useState(null),D=v.useCallback(U=>{U!==Z.current&&(Z.current=U,j(U))},[]),M=v.useCallback(U=>{U!==z.current&&(z.current=U,k(U))},[]),O=d||P,I=f||C,Z=v.useRef(null),z=v.useRef(null),se=v.useRef(_),ae=g!=null,q=ym(g),J=ym(c),de=ym(w),Ae=v.useCallback(()=>{if(!Z.current||!z.current)return;const U={placement:t,strategy:s,middleware:N};J.current&&(U.platform=J.current),nE(Z.current,z.current,U).then(ue=>{const oe={...ue,isPositioned:de.current!==!1};K.current&&!Yd(se.current,oe)&&(se.current=oe,ua.flushSync(()=>{b(oe)}))})},[N,t,s,J,de]);$d(()=>{w===!1&&se.current.isPositioned&&(se.current.isPositioned=!1,b(U=>({...U,isPositioned:!1})))},[w]);const K=v.useRef(!1);$d(()=>(K.current=!0,()=>{K.current=!1}),[]),$d(()=>{if(O&&(Z.current=O),I&&(z.current=I),O&&I){if(q.current)return q.current(O,I,Ae);Ae()}},[O,I,Ae,q,ae]);const ee=v.useMemo(()=>({reference:Z,floating:z,setReference:D,setFloating:M}),[D,M]),te=v.useMemo(()=>({reference:O,floating:I}),[O,I]),me=v.useMemo(()=>{const U={position:s,left:0,top:0};if(!te.floating)return U;const ue=py(te.floating,_.x),oe=py(te.floating,_.y);return p?{...U,transform:"translate("+ue+"px, "+oe+"px)",...Mw(te.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:ue,top:oe}},[s,p,te.floating,_.x,_.y]);return v.useMemo(()=>({..._,update:Ae,refs:ee,elements:te,floatingStyles:me}),[_,Ae,ee,te,me])}const sE=e=>{function t(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:e,fn(s){const{element:a,padding:c}=typeof e=="function"?e(s):e;return a&&t(a)?a.current!=null?my({element:a.current,padding:c}).fn(s):{}:a?my({element:a,padding:c}).fn(s):{}}}},oE=(e,t)=>({...Kj(e),options:[e,t]}),iE=(e,t)=>({...Xj(e),options:[e,t]}),aE=(e,t)=>({...tE(e),options:[e,t]}),lE=(e,t)=>({...Qj(e),options:[e,t]}),cE=(e,t)=>({...Jj(e),options:[e,t]}),uE=(e,t)=>({...eE(e),options:[e,t]}),dE=(e,t)=>({...sE(e),options:[e,t]});var fE="Arrow",Rw=v.forwardRef((e,t)=>{const{children:s,width:a=10,height:c=5,...d}=e;return o.jsx(xt.svg,{...d,ref:t,width:a,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rw.displayName=fE;var hE=Rw;function mE(e){const[t,s]=v.useState(void 0);return fn(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let f,p;if("borderBoxSize"in d){const g=d.borderBoxSize,w=Array.isArray(g)?g[0]:g;f=w.inlineSize,p=w.blockSize}else f=e.offsetWidth,p=e.offsetHeight;s({width:f,height:p})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else s(void 0)},[e]),t}var Dp="Popper",[Lw,vf]=Kc(Dp),[pE,Aw]=Lw(Dp),Dw=e=>{const{__scopePopper:t,children:s}=e,[a,c]=v.useState(null);return o.jsx(pE,{scope:t,anchor:a,onAnchorChange:c,children:s})};Dw.displayName=Dp;var Ow="PopperAnchor",Iw=v.forwardRef((e,t)=>{const{__scopePopper:s,virtualRef:a,...c}=e,d=Aw(Ow,s),f=v.useRef(null),p=Rt(t,f);return v.useEffect(()=>{d.onAnchorChange((a==null?void 0:a.current)||f.current)}),a?null:o.jsx(xt.div,{...c,ref:p})});Iw.displayName=Ow;var Op="PopperContent",[gE,vE]=Lw(Op),Fw=v.forwardRef((e,t)=>{var B,ge,Ee,Ve,ut,Je;const{__scopePopper:s,side:a="bottom",sideOffset:c=0,align:d="center",alignOffset:f=0,arrowPadding:p=0,avoidCollisions:g=!0,collisionBoundary:w=[],collisionPadding:_=0,sticky:b="partial",hideWhenDetached:N=!1,updatePositionStrategy:T="optimized",onPlaced:P,...j}=e,C=Aw(Op,s),[k,D]=v.useState(null),M=Rt(t,Lt=>D(Lt)),[O,I]=v.useState(null),Z=mE(O),z=(Z==null?void 0:Z.width)??0,se=(Z==null?void 0:Z.height)??0,ae=a+(d!=="center"?"-"+d:""),q=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},J=Array.isArray(w)?w:[w],de=J.length>0,Ae={padding:q,boundary:J.filter(xE),altBoundary:de},{refs:K,floatingStyles:ee,placement:te,isPositioned:me,middlewareData:U}=rE({strategy:"fixed",placement:ae,whileElementsMounted:(...Lt)=>Yj(...Lt,{animationFrame:T==="always"}),elements:{reference:C.anchor},middleware:[oE({mainAxis:c+se,alignmentAxis:f}),g&&iE({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?aE():void 0,...Ae}),g&&lE({...Ae}),cE({...Ae,apply:({elements:Lt,rects:Wt,availableWidth:xn,availableHeight:X})=>{const{width:ve,height:Me}=Wt.reference,Ne=Lt.floating.style;Ne.setProperty("--radix-popper-available-width",`${xn}px`),Ne.setProperty("--radix-popper-available-height",`${X}px`),Ne.setProperty("--radix-popper-anchor-width",`${ve}px`),Ne.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),O&&dE({element:O,padding:p}),wE({arrowWidth:z,arrowHeight:se}),N&&uE({strategy:"referenceHidden",...Ae})]}),[ue,oe]=Bw(te),F=on(P);fn(()=>{me&&(F==null||F())},[me,F]);const Q=(B=U.arrow)==null?void 0:B.x,ye=(ge=U.arrow)==null?void 0:ge.y,Re=((Ee=U.arrow)==null?void 0:Ee.centerOffset)!==0,[Pe,Y]=v.useState();return fn(()=>{k&&Y(window.getComputedStyle(k).zIndex)},[k]),o.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:me?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[(Ve=U.transformOrigin)==null?void 0:Ve.x,(ut=U.transformOrigin)==null?void 0:ut.y].join(" "),...((Je=U.hide)==null?void 0:Je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(gE,{scope:s,placedSide:ue,onArrowChange:I,arrowX:Q,arrowY:ye,shouldHideArrow:Re,children:o.jsx(xt.div,{"data-side":ue,"data-align":oe,...j,ref:M,style:{...j.style,animation:me?void 0:"none"}})})})});Fw.displayName=Op;var zw="PopperArrow",yE={top:"bottom",right:"left",bottom:"top",left:"right"},$w=v.forwardRef(function(t,s){const{__scopePopper:a,...c}=t,d=vE(zw,a),f=yE[d.placedSide];return o.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:o.jsx(hE,{...c,ref:s,style:{...c.style,display:"block"}})})});$w.displayName=zw;function xE(e){return e!==null}var wE=e=>({name:"transformOrigin",options:e,fn(t){var C,k,D;const{placement:s,rects:a,middlewareData:c}=t,f=((C=c.arrow)==null?void 0:C.centerOffset)!==0,p=f?0:e.arrowWidth,g=f?0:e.arrowHeight,[w,_]=Bw(s),b={start:"0%",center:"50%",end:"100%"}[_],N=(((k=c.arrow)==null?void 0:k.x)??0)+p/2,T=(((D=c.arrow)==null?void 0:D.y)??0)+g/2;let P="",j="";return w==="bottom"?(P=f?b:`${N}px`,j=`${-g}px`):w==="top"?(P=f?b:`${N}px`,j=`${a.floating.height+g}px`):w==="right"?(P=`${-g}px`,j=f?b:`${T}px`):w==="left"&&(P=`${a.floating.width+g}px`,j=f?b:`${T}px`),{data:{x:P,y:j}}}});function Bw(e){const[t,s="center"]=e.split("-");return[t,s]}var _E=Dw,Uw=Iw,Hw=Fw,Ww=$w,bE="Portal",Vw=v.forwardRef((e,t)=>{var p;const{container:s,...a}=e,[c,d]=v.useState(!1);fn(()=>d(!0),[]);const f=s||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?af.createPortal(o.jsx(xt.div,{...a,ref:t}),f):null});Vw.displayName=bE;function SE(e,t){return v.useReducer((s,a)=>t[s][a]??s,e)}var Zw=e=>{const{present:t,children:s}=e,a=NE(t),c=typeof s=="function"?s({present:a.isPresent}):v.Children.only(s),d=Rt(a.ref,jE(c));return typeof s=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};Zw.displayName="Presence";function NE(e){const[t,s]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=SE(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=Cd(a.current);d.current=p==="mounted"?w:"none"},[p]),fn(()=>{const w=a.current,_=c.current;if(_!==e){const N=d.current,T=Cd(w);e?g("MOUNT"):T==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&N!==T?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),fn(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,b=T=>{const j=Cd(a.current).includes(T.animationName);if(T.target===t&&j&&(g("ANIMATION_END"),!c.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},N=T=>{T.target===t&&(d.current=Cd(a.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),s(w)},[])}}function Cd(e){return(e==null?void 0:e.animationName)||"none"}function jE(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var[yf,EL]=sj("Tooltip",[vf]),Ip=vf(),qw="TooltipProvider",EE=700,gy="tooltip.open",[CE,Gw]=yf(qw),Yw=e=>{const{__scopeTooltip:t,delayDuration:s=EE,skipDelayDuration:a=300,disableHoverableContent:c=!1,children:d}=e,[f,p]=v.useState(!0),g=v.useRef(!1),w=v.useRef(0);return v.useEffect(()=>{const _=w.current;return()=>window.clearTimeout(_)},[]),o.jsx(CE,{scope:t,isOpenDelayed:f,delayDuration:s,onOpen:v.useCallback(()=>{window.clearTimeout(w.current),p(!1)},[]),onClose:v.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>p(!0),a)},[a]),isPointerInTransitRef:g,onPointerInTransitChange:v.useCallback(_=>{g.current=_},[]),disableHoverableContent:c,children:d})};Yw.displayName=qw;var Kw="Tooltip",[CL,xf]=yf(Kw),Km="TooltipTrigger",PE=v.forwardRef((e,t)=>{const{__scopeTooltip:s,...a}=e,c=xf(Km,s),d=Gw(Km,s),f=Ip(s),p=v.useRef(null),g=Rt(t,p,c.onTriggerChange),w=v.useRef(!1),_=v.useRef(!1),b=v.useCallback(()=>w.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),o.jsx(Uw,{asChild:!0,...f,children:o.jsx(xt.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:g,onPointerMove:ct(e.onPointerMove,N=>{N.pointerType!=="touch"&&!_.current&&!d.isPointerInTransitRef.current&&(c.onTriggerEnter(),_.current=!0)}),onPointerLeave:ct(e.onPointerLeave,()=>{c.onTriggerLeave(),_.current=!1}),onPointerDown:ct(e.onPointerDown,()=>{w.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:ct(e.onFocus,()=>{w.current||c.onOpen()}),onBlur:ct(e.onBlur,c.onClose),onClick:ct(e.onClick,c.onClose)})})});PE.displayName=Km;var TE="TooltipPortal",[PL,kE]=yf(TE,{forceMount:void 0}),_l="TooltipContent",Xw=v.forwardRef((e,t)=>{const s=kE(_l,e.__scopeTooltip),{forceMount:a=s.forceMount,side:c="top",...d}=e,f=xf(_l,e.__scopeTooltip);return o.jsx(Zw,{present:a||f.open,children:f.disableHoverableContent?o.jsx(Qw,{side:c,...d,ref:t}):o.jsx(ME,{side:c,...d,ref:t})})}),ME=v.forwardRef((e,t)=>{const s=xf(_l,e.__scopeTooltip),a=Gw(_l,e.__scopeTooltip),c=v.useRef(null),d=Rt(t,c),[f,p]=v.useState(null),{trigger:g,onClose:w}=s,_=c.current,{onPointerInTransitChange:b}=a,N=v.useCallback(()=>{p(null),b(!1)},[b]),T=v.useCallback((P,j)=>{const C=P.currentTarget,k={x:P.clientX,y:P.clientY},D=DE(k,C.getBoundingClientRect()),M=OE(k,D),O=IE(j.getBoundingClientRect()),I=zE([...M,...O]);p(I),b(!0)},[b]);return v.useEffect(()=>()=>N(),[N]),v.useEffect(()=>{if(g&&_){const P=C=>T(C,_),j=C=>T(C,g);return g.addEventListener("pointerleave",P),_.addEventListener("pointerleave",j),()=>{g.removeEventListener("pointerleave",P),_.removeEventListener("pointerleave",j)}}},[g,_,T,N]),v.useEffect(()=>{if(f){const P=j=>{const C=j.target,k={x:j.clientX,y:j.clientY},D=(g==null?void 0:g.contains(C))||(_==null?void 0:_.contains(C)),M=!FE(k,f);D?N():M&&(N(),w())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[g,_,f,w,N]),o.jsx(Qw,{...e,ref:d})}),[RE,LE]=yf(Kw,{isInside:!1}),Qw=v.forwardRef((e,t)=>{const{__scopeTooltip:s,children:a,"aria-label":c,onEscapeKeyDown:d,onPointerDownOutside:f,...p}=e,g=xf(_l,s),w=Ip(s),{onClose:_}=g;return v.useEffect(()=>(document.addEventListener(gy,_),()=>document.removeEventListener(gy,_)),[_]),v.useEffect(()=>{if(g.trigger){const b=N=>{const T=N.target;T!=null&&T.contains(g.trigger)&&_()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[g.trigger,_]),o.jsx(Pp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:b=>b.preventDefault(),onDismiss:_,children:o.jsxs(Hw,{"data-state":g.stateAttribute,...w,...p,ref:t,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Cx,{children:a}),o.jsx(RE,{scope:s,isInside:!0,children:o.jsx(fS,{id:g.contentId,role:"tooltip",children:c||a})})]})})});Xw.displayName=_l;var Jw="TooltipArrow",AE=v.forwardRef((e,t)=>{const{__scopeTooltip:s,...a}=e,c=Ip(s);return LE(Jw,s).isInside?null:o.jsx(Ww,{...c,...a,ref:t})});AE.displayName=Jw;function DE(e,t){const s=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),c=Math.abs(t.right-e.x),d=Math.abs(t.left-e.x);switch(Math.min(s,a,c,d)){case d:return"left";case c:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function OE(e,t,s=5){const a=[];switch(t){case"top":a.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":a.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":a.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":a.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return a}function IE(e){const{top:t,right:s,bottom:a,left:c}=e;return[{x:c,y:t},{x:s,y:t},{x:s,y:a},{x:c,y:a}]}function FE(e,t){const{x:s,y:a}=e;let c=!1;for(let d=0,f=t.length-1;d<t.length;f=d++){const p=t[d].x,g=t[d].y,w=t[f].x,_=t[f].y;g>a!=_>a&&s<(w-p)*(a-g)/(_-g)+p&&(c=!c)}return c}function zE(e){const t=e.slice();return t.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),$E(t)}function $E(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const c=e[a];for(;t.length>=2;){const d=t[t.length-1],f=t[t.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))t.pop();else break}t.push(c)}t.pop();const s=[];for(let a=e.length-1;a>=0;a--){const c=e[a];for(;s.length>=2;){const d=s[s.length-1],f=s[s.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))s.pop();else break}s.push(c)}return s.pop(),t.length===1&&s.length===1&&t[0].x===s[0].x&&t[0].y===s[0].y?t:t.concat(s)}var BE=Yw,e0=Xw;const UE=BE,HE=v.forwardRef(({className:e,sideOffset:t=4,...s},a)=>o.jsx(e0,{ref:a,sideOffset:t,className:ht("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));HE.displayName=e0.displayName;var wf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_f=typeof window>"u"||"Deno"in globalThis;function cs(){}function WE(e,t){return typeof e=="function"?e(t):e}function VE(e){return typeof e=="number"&&e>=0&&e!==1/0}function ZE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vy(e,t){return typeof e=="function"?e(t):e}function qE(e,t){return typeof e=="function"?e(t):e}function yy(e,t){const{type:s="all",exact:a,fetchStatus:c,predicate:d,queryKey:f,stale:p}=e;if(f){if(a){if(t.queryHash!==Fp(f,t.options))return!1}else if(!Hc(t.queryKey,f))return!1}if(s!=="all"){const g=t.isActive();if(s==="active"&&!g||s==="inactive"&&g)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||c&&c!==t.state.fetchStatus||d&&!d(t))}function xy(e,t){const{exact:s,status:a,predicate:c,mutationKey:d}=e;if(d){if(!t.options.mutationKey)return!1;if(s){if(Uc(t.options.mutationKey)!==Uc(d))return!1}else if(!Hc(t.options.mutationKey,d))return!1}return!(a&&t.state.status!==a||c&&!c(t))}function Fp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Uc)(e)}function Uc(e){return JSON.stringify(e,(t,s)=>Xm(s)?Object.keys(s).sort().reduce((a,c)=>(a[c]=s[c],a),{}):s)}function Hc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(s=>!Hc(e[s],t[s])):!1}function t0(e,t){if(e===t)return e;const s=wy(e)&&wy(t);if(s||Xm(e)&&Xm(t)){const a=s?e:Object.keys(e),c=a.length,d=s?t:Object.keys(t),f=d.length,p=s?[]:{};let g=0;for(let w=0;w<f;w++){const _=s?w:d[w];(!s&&a.includes(_)||s)&&e[_]===void 0&&t[_]===void 0?(p[_]=void 0,g++):(p[_]=t0(e[_],t[_]),p[_]===e[_]&&e[_]!==void 0&&g++)}return c===f&&g===c?e:p}return t}function wy(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xm(e){if(!_y(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!_y(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _y(e){return Object.prototype.toString.call(e)==="[object Object]"}function GE(e){return new Promise(t=>{setTimeout(t,e)})}function YE(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?t0(e,t):t}function KE(e,t,s=0){const a=[...e,t];return s&&a.length>s?a.slice(1):a}function XE(e,t,s=0){const a=[t,...e];return s&&a.length>s?a.slice(0,-1):a}var n0=Symbol();function r0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===n0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Xi,ri,dl,gx,QE=(gx=class extends wf{constructor(){super();Zt(this,Xi);Zt(this,ri);Zt(this,dl);Tt(this,dl,t=>{if(!_f&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){xe(this,ri)||this.setEventListener(xe(this,dl))}onUnsubscribe(){var t;this.hasListeners()||((t=xe(this,ri))==null||t.call(this),Tt(this,ri,void 0))}setEventListener(t){var s;Tt(this,dl,t),(s=xe(this,ri))==null||s.call(this),Tt(this,ri,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){xe(this,Xi)!==t&&(Tt(this,Xi,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof xe(this,Xi)=="boolean"?xe(this,Xi):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Xi=new WeakMap,ri=new WeakMap,dl=new WeakMap,gx),s0=new QE,fl,si,hl,vx,JE=(vx=class extends wf{constructor(){super();Zt(this,fl,!0);Zt(this,si);Zt(this,hl);Tt(this,hl,t=>{if(!_f&&window.addEventListener){const s=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",a)}}})}onSubscribe(){xe(this,si)||this.setEventListener(xe(this,hl))}onUnsubscribe(){var t;this.hasListeners()||((t=xe(this,si))==null||t.call(this),Tt(this,si,void 0))}setEventListener(t){var s;Tt(this,hl,t),(s=xe(this,si))==null||s.call(this),Tt(this,si,t(this.setOnline.bind(this)))}setOnline(t){xe(this,fl)!==t&&(Tt(this,fl,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return xe(this,fl)}},fl=new WeakMap,si=new WeakMap,hl=new WeakMap,vx),Kd=new JE;function eC(e){return Math.min(1e3*2**e,3e4)}function o0(e){return(e??"online")==="online"?Kd.isOnline():!0}var i0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function xm(e){return e instanceof i0}function a0(e){let t=!1,s=0,a=!1,c,d,f;const p=new Promise((k,D)=>{d=k,f=D}),g=k=>{var D;a||(P(new i0(k)),(D=e.abort)==null||D.call(e))},w=()=>{t=!0},_=()=>{t=!1},b=()=>s0.isFocused()&&(e.networkMode==="always"||Kd.isOnline())&&e.canRun(),N=()=>o0(e.networkMode)&&e.canRun(),T=k=>{var D;a||(a=!0,(D=e.onSuccess)==null||D.call(e,k),c==null||c(),d(k))},P=k=>{var D;a||(a=!0,(D=e.onError)==null||D.call(e,k),c==null||c(),f(k))},j=()=>new Promise(k=>{var D;c=M=>{(a||b())&&k(M)},(D=e.onPause)==null||D.call(e)}).then(()=>{var k;c=void 0,a||(k=e.onContinue)==null||k.call(e)}),C=()=>{if(a)return;let k;const D=s===0?e.initialPromise:void 0;try{k=D??e.fn()}catch(M){k=Promise.reject(M)}Promise.resolve(k).then(T).catch(M=>{var se;if(a)return;const O=e.retry??(_f?0:3),I=e.retryDelay??eC,Z=typeof I=="function"?I(s,M):I,z=O===!0||typeof O=="number"&&s<O||typeof O=="function"&&O(s,M);if(t||!z){P(M);return}s++,(se=e.onFail)==null||se.call(e,s,M),GE(Z).then(()=>b()?void 0:j()).then(()=>{t?P(M):C()})})};return{promise:p,cancel:g,continue:()=>(c==null||c(),p),cancelRetry:w,continueRetry:_,canStart:N,start:()=>(N()?C():j().then(C),p)}}function tC(){let e=[],t=0,s=p=>{p()},a=p=>{p()},c=p=>setTimeout(p,0);const d=p=>{t?e.push(p):c(()=>{s(p)})},f=()=>{const p=e;e=[],p.length&&c(()=>{a(()=>{p.forEach(g=>{s(g)})})})};return{batch:p=>{let g;t++;try{g=p()}finally{t--,t||f()}return g},batchCalls:p=>(...g)=>{d(()=>{p(...g)})},schedule:d,setNotifyFunction:p=>{s=p},setBatchNotifyFunction:p=>{a=p},setScheduler:p=>{c=p}}}var Qn=tC(),Qi,yx,l0=(yx=class{constructor(){Zt(this,Qi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VE(this.gcTime)&&Tt(this,Qi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(_f?1/0:5*60*1e3))}clearGcTimeout(){xe(this,Qi)&&(clearTimeout(xe(this,Qi)),Tt(this,Qi,void 0))}},Qi=new WeakMap,yx),ml,pl,Vr,Hn,Gc,Ji,us,co,xx,nC=(xx=class extends l0{constructor(t){super();Zt(this,us);Zt(this,ml);Zt(this,pl);Zt(this,Vr);Zt(this,Hn);Zt(this,Gc);Zt(this,Ji);Tt(this,Ji,!1),Tt(this,Gc,t.defaultOptions),this.setOptions(t.options),this.observers=[],Tt(this,Vr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Tt(this,ml,sC(this.options)),this.state=t.state??xe(this,ml),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=xe(this,Hn))==null?void 0:t.promise}setOptions(t){this.options={...xe(this,Gc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&xe(this,Vr).remove(this)}setData(t,s){const a=YE(this.state.data,t,this.options);return Un(this,us,co).call(this,{data:a,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),a}setState(t,s){Un(this,us,co).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var a,c;const s=(a=xe(this,Hn))==null?void 0:a.promise;return(c=xe(this,Hn))==null||c.cancel(t),s?s.then(cs).catch(cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(xe(this,ml))}isActive(){return this.observers.some(t=>qE(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!ZE(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=xe(this,Hn))==null||s.continue()}onOnline(){var s;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=xe(this,Hn))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),xe(this,Vr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(xe(this,Hn)&&(xe(this,Ji)?xe(this,Hn).cancel({revert:!0}):xe(this,Hn).cancelRetry()),this.scheduleGc()),xe(this,Vr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Un(this,us,co).call(this,{type:"invalidate"})}fetch(t,s){var g,w,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(xe(this,Hn))return xe(this,Hn).continueRetry(),xe(this,Hn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(N=>N.options.queryFn);b&&this.setOptions(b.options)}const a=new AbortController,c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Tt(this,Ji,!0),a.signal)})},d=()=>{const b=r0(this.options,s),N={queryKey:this.queryKey,meta:this.meta};return c(N),Tt(this,Ji,!1),this.options.persister?this.options.persister(b,N,this):b(N)},f={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};c(f),(g=this.options.behavior)==null||g.onFetch(f,this),Tt(this,pl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((w=f.fetchOptions)==null?void 0:w.meta))&&Un(this,us,co).call(this,{type:"fetch",meta:(_=f.fetchOptions)==null?void 0:_.meta});const p=b=>{var N,T,P,j;xm(b)&&b.silent||Un(this,us,co).call(this,{type:"error",error:b}),xm(b)||((T=(N=xe(this,Vr).config).onError)==null||T.call(N,b,this),(j=(P=xe(this,Vr).config).onSettled)==null||j.call(P,this.state.data,b,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Tt(this,Hn,a0({initialPromise:s==null?void 0:s.initialPromise,fn:f.fetchFn,abort:a.abort.bind(a),onSuccess:b=>{var N,T,P,j;if(b===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(C){p(C);return}(T=(N=xe(this,Vr).config).onSuccess)==null||T.call(N,b,this),(j=(P=xe(this,Vr).config).onSettled)==null||j.call(P,b,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(b,N)=>{Un(this,us,co).call(this,{type:"failed",failureCount:b,error:N})},onPause:()=>{Un(this,us,co).call(this,{type:"pause"})},onContinue:()=>{Un(this,us,co).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),xe(this,Hn).start()}},ml=new WeakMap,pl=new WeakMap,Vr=new WeakMap,Hn=new WeakMap,Gc=new WeakMap,Ji=new WeakMap,us=new WeakSet,co=function(t){const s=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...rC(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=t.error;return xm(c)&&c.revert&&xe(this,pl)?{...xe(this,pl),fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=s(this.state),Qn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),xe(this,Vr).notify({query:this,type:"updated",action:t})})},xx);function rC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,a=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Ls,wx,oC=(wx=class extends wf{constructor(t={}){super();Zt(this,Ls);this.config=t,Tt(this,Ls,new Map)}build(t,s,a){const c=s.queryKey,d=s.queryHash??Fp(c,s);let f=this.get(d);return f||(f=new nC({cache:this,queryKey:c,queryHash:d,options:t.defaultQueryOptions(s),state:a,defaultOptions:t.getQueryDefaults(c)}),this.add(f)),f}add(t){xe(this,Ls).has(t.queryHash)||(xe(this,Ls).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=xe(this,Ls).get(t.queryHash);s&&(t.destroy(),s===t&&xe(this,Ls).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return xe(this,Ls).get(t)}getAll(){return[...xe(this,Ls).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(a=>yy(s,a))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(a=>yy(t,a)):s}notify(t){Qn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ls=new WeakMap,wx),As,Xn,ea,Ds,ei,_x,iC=(_x=class extends l0{constructor(t){super();Zt(this,Ds);Zt(this,As);Zt(this,Xn);Zt(this,ea);this.mutationId=t.mutationId,Tt(this,Xn,t.mutationCache),Tt(this,As,[]),this.state=t.state||aC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){xe(this,As).includes(t)||(xe(this,As).push(t),this.clearGcTimeout(),xe(this,Xn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Tt(this,As,xe(this,As).filter(s=>s!==t)),this.scheduleGc(),xe(this,Xn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){xe(this,As).length||(this.state.status==="pending"?this.scheduleGc():xe(this,Xn).remove(this))}continue(){var t;return((t=xe(this,ea))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,d,f,p,g,w,_,b,N,T,P,j,C,k,D,M,O,I,Z,z;Tt(this,ea,a0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(se,ae)=>{Un(this,Ds,ei).call(this,{type:"failed",failureCount:se,error:ae})},onPause:()=>{Un(this,Ds,ei).call(this,{type:"pause"})},onContinue:()=>{Un(this,Ds,ei).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>xe(this,Xn).canRun(this)}));const s=this.state.status==="pending",a=!xe(this,ea).canStart();try{if(!s){Un(this,Ds,ei).call(this,{type:"pending",variables:t,isPaused:a}),await((d=(c=xe(this,Xn).config).onMutate)==null?void 0:d.call(c,t,this));const ae=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,t));ae!==this.state.context&&Un(this,Ds,ei).call(this,{type:"pending",context:ae,variables:t,isPaused:a})}const se=await xe(this,ea).start();return await((w=(g=xe(this,Xn).config).onSuccess)==null?void 0:w.call(g,se,t,this.state.context,this)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,se,t,this.state.context)),await((T=(N=xe(this,Xn).config).onSettled)==null?void 0:T.call(N,se,null,this.state.variables,this.state.context,this)),await((j=(P=this.options).onSettled)==null?void 0:j.call(P,se,null,t,this.state.context)),Un(this,Ds,ei).call(this,{type:"success",data:se}),se}catch(se){try{throw await((k=(C=xe(this,Xn).config).onError)==null?void 0:k.call(C,se,t,this.state.context,this)),await((M=(D=this.options).onError)==null?void 0:M.call(D,se,t,this.state.context)),await((I=(O=xe(this,Xn).config).onSettled)==null?void 0:I.call(O,void 0,se,this.state.variables,this.state.context,this)),await((z=(Z=this.options).onSettled)==null?void 0:z.call(Z,void 0,se,t,this.state.context)),se}finally{Un(this,Ds,ei).call(this,{type:"error",error:se})}}finally{xe(this,Xn).runNext(this)}}},As=new WeakMap,Xn=new WeakMap,ea=new WeakMap,Ds=new WeakSet,ei=function(t){const s=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Qn.batch(()=>{xe(this,As).forEach(a=>{a.onMutationUpdate(t)}),xe(this,Xn).notify({mutation:this,type:"updated",action:t})})},_x);function aC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cr,Yc,bx,lC=(bx=class extends wf{constructor(t={}){super();Zt(this,Cr);Zt(this,Yc);this.config=t,Tt(this,Cr,new Map),Tt(this,Yc,Date.now())}build(t,s,a){const c=new iC({mutationCache:this,mutationId:++_d(this,Yc)._,options:t.defaultMutationOptions(s),state:a});return this.add(c),c}add(t){const s=Pd(t),a=xe(this,Cr).get(s)??[];a.push(t),xe(this,Cr).set(s,a),this.notify({type:"added",mutation:t})}remove(t){var a;const s=Pd(t);if(xe(this,Cr).has(s)){const c=(a=xe(this,Cr).get(s))==null?void 0:a.filter(d=>d!==t);c&&(c.length===0?xe(this,Cr).delete(s):xe(this,Cr).set(s,c))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const s=(a=xe(this,Cr).get(Pd(t)))==null?void 0:a.find(c=>c.state.status==="pending");return!s||s===t}runNext(t){var a;const s=(a=xe(this,Cr).get(Pd(t)))==null?void 0:a.find(c=>c!==t&&c.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...xe(this,Cr).values()].flat()}find(t){const s={exact:!0,...t};return this.getAll().find(a=>xy(s,a))}findAll(t={}){return this.getAll().filter(s=>xy(t,s))}notify(t){Qn.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return Qn.batch(()=>Promise.all(t.map(s=>s.continue().catch(cs))))}},Cr=new WeakMap,Yc=new WeakMap,bx);function Pd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function by(e){return{onFetch:(t,s)=>{var _,b,N,T,P;const a=t.options,c=(N=(b=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:N.direction,d=((T=t.state.data)==null?void 0:T.pages)||[],f=((P=t.state.data)==null?void 0:P.pageParams)||[];let p={pages:[],pageParams:[]},g=0;const w=async()=>{let j=!1;const C=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(t.signal.aborted?j=!0:t.signal.addEventListener("abort",()=>{j=!0}),t.signal)})},k=r0(t.options,t.fetchOptions),D=async(M,O,I)=>{if(j)return Promise.reject();if(O==null&&M.pages.length)return Promise.resolve(M);const Z={queryKey:t.queryKey,pageParam:O,direction:I?"backward":"forward",meta:t.options.meta};C(Z);const z=await k(Z),{maxPages:se}=t.options,ae=I?XE:KE;return{pages:ae(M.pages,z,se),pageParams:ae(M.pageParams,O,se)}};if(c&&d.length){const M=c==="backward",O=M?cC:Sy,I={pages:d,pageParams:f},Z=O(a,I);p=await D(I,Z,M)}else{const M=e??d.length;do{const O=g===0?f[0]??a.initialPageParam:Sy(a,p);if(g>0&&O==null)break;p=await D(p,O),g++}while(g<M)}return p};t.options.persister?t.fetchFn=()=>{var j,C;return(C=(j=t.options).persister)==null?void 0:C.call(j,w,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=w}}}function Sy(e,{pages:t,pageParams:s}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,s[a],s):void 0}function cC(e,{pages:t,pageParams:s}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,s[0],s):void 0}var pn,oi,ii,gl,vl,ai,yl,xl,Sx,uC=(Sx=class{constructor(e={}){Zt(this,pn);Zt(this,oi);Zt(this,ii);Zt(this,gl);Zt(this,vl);Zt(this,ai);Zt(this,yl);Zt(this,xl);Tt(this,pn,e.queryCache||new oC),Tt(this,oi,e.mutationCache||new lC),Tt(this,ii,e.defaultOptions||{}),Tt(this,gl,new Map),Tt(this,vl,new Map),Tt(this,ai,0)}mount(){_d(this,ai)._++,xe(this,ai)===1&&(Tt(this,yl,s0.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,pn).onFocus())})),Tt(this,xl,Kd.subscribe(async e=>{e&&(await this.resumePausedMutations(),xe(this,pn).onOnline())})))}unmount(){var e,t;_d(this,ai)._--,xe(this,ai)===0&&((e=xe(this,yl))==null||e.call(this),Tt(this,yl,void 0),(t=xe(this,xl))==null||t.call(this),Tt(this,xl,void 0))}isFetching(e){return xe(this,pn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return xe(this,oi).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=xe(this,pn).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const s=this.defaultQueryOptions(e),a=xe(this,pn).build(this,s);return e.revalidateIfStale&&a.isStaleByTime(vy(s.staleTime,a))&&this.prefetchQuery(s),Promise.resolve(t)}}getQueriesData(e){return xe(this,pn).findAll(e).map(({queryKey:t,state:s})=>{const a=s.data;return[t,a]})}setQueryData(e,t,s){const a=this.defaultQueryOptions({queryKey:e}),c=xe(this,pn).get(a.queryHash),d=c==null?void 0:c.state.data,f=WE(t,d);if(f!==void 0)return xe(this,pn).build(this,a).setData(f,{...s,manual:!0})}setQueriesData(e,t,s){return Qn.batch(()=>xe(this,pn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=xe(this,pn).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=xe(this,pn);Qn.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=xe(this,pn),a={type:"active",...e};return Qn.batch(()=>(s.findAll(e).forEach(c=>{c.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const s={revert:!0,...t},a=Qn.batch(()=>xe(this,pn).findAll(e).map(c=>c.cancel(s)));return Promise.all(a).then(cs).catch(cs)}invalidateQueries(e={},t={}){return Qn.batch(()=>{if(xe(this,pn).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const s={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(s,t)})}refetchQueries(e={},t){const s={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=Qn.batch(()=>xe(this,pn).findAll(e).filter(c=>!c.isDisabled()).map(c=>{let d=c.fetch(void 0,s);return s.throwOnError||(d=d.catch(cs)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(a).then(cs)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=xe(this,pn).build(this,t);return s.isStaleByTime(vy(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(cs).catch(cs)}fetchInfiniteQuery(e){return e.behavior=by(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(cs).catch(cs)}ensureInfiniteQueryData(e){return e.behavior=by(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Kd.isOnline()?xe(this,oi).resumePausedMutations():Promise.resolve()}getQueryCache(){return xe(this,pn)}getMutationCache(){return xe(this,oi)}getDefaultOptions(){return xe(this,ii)}setDefaultOptions(e){Tt(this,ii,e)}setQueryDefaults(e,t){xe(this,gl).set(Uc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...xe(this,gl).values()];let s={};return t.forEach(a=>{Hc(e,a.queryKey)&&(s={...s,...a.defaultOptions})}),s}setMutationDefaults(e,t){xe(this,vl).set(Uc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...xe(this,vl).values()];let s={};return t.forEach(a=>{Hc(e,a.mutationKey)&&(s={...s,...a.defaultOptions})}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...xe(this,ii).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===n0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...xe(this,ii).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){xe(this,pn).clear(),xe(this,oi).clear()}},pn=new WeakMap,oi=new WeakMap,ii=new WeakMap,gl=new WeakMap,vl=new WeakMap,ai=new WeakMap,yl=new WeakMap,xl=new WeakMap,Sx),dC=v.createContext(void 0),fC=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(dC.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Wc.apply(this,arguments)}var li;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(li||(li={}));const Ny="popstate";function hC(e){e===void 0&&(e={});function t(a,c){let{pathname:d,search:f,hash:p}=a.location;return Qm("",{pathname:d,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(a,c){return typeof c=="string"?c:Xd(c)}return pC(t,s,null,e)}function Sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function c0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mC(){return Math.random().toString(36).substr(2,8)}function jy(e,t){return{usr:e.state,key:e.key,idx:t}}function Qm(e,t,s,a){return s===void 0&&(s=null),Wc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pl(t):t,{state:s,key:t&&t.key||a||mC()})}function Xd(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Pl(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function pC(e,t,s,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,f=c.history,p=li.Pop,g=null,w=_();w==null&&(w=0,f.replaceState(Wc({},f.state,{idx:w}),""));function _(){return(f.state||{idx:null}).idx}function b(){p=li.Pop;let C=_(),k=C==null?null:C-w;w=C,g&&g({action:p,location:j.location,delta:k})}function N(C,k){p=li.Push;let D=Qm(j.location,C,k);w=_()+1;let M=jy(D,w),O=j.createHref(D);try{f.pushState(M,"",O)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;c.location.assign(O)}d&&g&&g({action:p,location:j.location,delta:1})}function T(C,k){p=li.Replace;let D=Qm(j.location,C,k);w=_();let M=jy(D,w),O=j.createHref(D);f.replaceState(M,"",O),d&&g&&g({action:p,location:j.location,delta:0})}function P(C){let k=c.location.origin!=="null"?c.location.origin:c.location.href,D=typeof C=="string"?C:Xd(C);return D=D.replace(/ $/,"%20"),Sn(k,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,k)}let j={get action(){return p},get location(){return e(c,f)},listen(C){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Ny,b),g=C,()=>{c.removeEventListener(Ny,b),g=null}},createHref(C){return t(c,C)},createURL:P,encodeLocation(C){let k=P(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:N,replace:T,go(C){return f.go(C)}};return j}var Ey;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ey||(Ey={}));function gC(e,t,s){return s===void 0&&(s="/"),vC(e,t,s)}function vC(e,t,s,a){let c=typeof t=="string"?Pl(t):t,d=zp(c.pathname||"/",s);if(d==null)return null;let f=u0(e);yC(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let w=kC(d);p=CC(f[g],w)}return p}function u0(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let c=(d,f,p)=>{let g={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};g.relativePath.startsWith("/")&&(Sn(g.relativePath.startsWith(a),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(a.length));let w=ci([a,g.relativePath]),_=s.concat(g);d.children&&d.children.length>0&&(Sn(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),u0(d.children,t,_,w)),!(d.path==null&&!d.index)&&t.push({path:w,score:jC(w,d.index),routesMeta:_})};return e.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))c(d,f);else for(let g of d0(d.path))c(d,f,g)}),t}function d0(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,c=s.endsWith("?"),d=s.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let f=d0(a.join("/")),p=[];return p.push(...f.map(g=>g===""?d:[d,g].join("/"))),c&&p.push(...f),p.map(g=>e.startsWith("/")&&g===""?"/":g)}function yC(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:EC(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const xC=/^:[\w-]+$/,wC=3,_C=2,bC=1,SC=10,NC=-2,Cy=e=>e==="*";function jC(e,t){let s=e.split("/"),a=s.length;return s.some(Cy)&&(a+=NC),t&&(a+=_C),s.filter(c=>!Cy(c)).reduce((c,d)=>c+(xC.test(d)?wC:d===""?bC:SC),a)}function EC(e,t){return e.length===t.length&&e.slice(0,-1).every((a,c)=>a===t[c])?e[e.length-1]-t[t.length-1]:0}function CC(e,t,s){let{routesMeta:a}=e,c={},d="/",f=[];for(let p=0;p<a.length;++p){let g=a[p],w=p===a.length-1,_=d==="/"?t:t.slice(d.length)||"/",b=PC({path:g.relativePath,caseSensitive:g.caseSensitive,end:w},_),N=g.route;if(!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:ci([d,b.pathname]),pathnameBase:AC(ci([d,b.pathnameBase])),route:N}),b.pathnameBase!=="/"&&(d=ci([d,b.pathnameBase]))}return f}function PC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=TC(e.path,e.caseSensitive,e.end),c=t.match(s);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:a.reduce((w,_,b)=>{let{paramName:N,isOptional:T}=_;if(N==="*"){let j=p[b]||"";f=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const P=p[b];return T&&!P?w[N]=void 0:w[N]=(P||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:f,pattern:e}}function TC(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),c0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),a]}function kC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return c0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function zp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function MC(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:c=""}=typeof e=="string"?Pl(e):e;return{pathname:s?s.startsWith("/")?s:RC(s,t):t,search:DC(a),hash:OC(c)}}function RC(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function wm(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LC(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function f0(e,t){let s=LC(e);return t?s.map((a,c)=>c===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function h0(e,t,s,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=Pl(e):(c=Wc({},e),Sn(!c.pathname||!c.pathname.includes("?"),wm("?","pathname","search",c)),Sn(!c.pathname||!c.pathname.includes("#"),wm("#","pathname","hash",c)),Sn(!c.search||!c.search.includes("#"),wm("#","search","hash",c)));let d=e===""||c.pathname==="",f=d?"/":c.pathname,p;if(f==null)p=s;else{let b=t.length-1;if(!a&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),b-=1;c.pathname=N.join("/")}p=b>=0?t[b]:"/"}let g=MC(c,p),w=f&&f!=="/"&&f.endsWith("/"),_=(d||f===".")&&s.endsWith("/");return!g.pathname.endsWith("/")&&(w||_)&&(g.pathname+="/"),g}const ci=e=>e.join("/").replace(/\/\/+/g,"/"),AC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m0=["post","put","patch","delete"];new Set(m0);const FC=["get",...m0];new Set(FC);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Vc.apply(this,arguments)}const $p=v.createContext(null),zC=v.createContext(null),da=v.createContext(null),bf=v.createContext(null),vi=v.createContext({outlet:null,matches:[],isDataRoute:!1}),p0=v.createContext(null);function $C(e,t){let{relative:s}=t===void 0?{}:t;tu()||Sn(!1);let{basename:a,navigator:c}=v.useContext(da),{hash:d,pathname:f,search:p}=y0(e,{relative:s}),g=f;return a!=="/"&&(g=f==="/"?a:ci([a,f])),c.createHref({pathname:g,search:p,hash:d})}function tu(){return v.useContext(bf)!=null}function nu(){return tu()||Sn(!1),v.useContext(bf).location}function g0(e){v.useContext(da).static||v.useLayoutEffect(e)}function v0(){let{isDataRoute:e}=v.useContext(vi);return e?eP():BC()}function BC(){tu()||Sn(!1);let e=v.useContext($p),{basename:t,future:s,navigator:a}=v.useContext(da),{matches:c}=v.useContext(vi),{pathname:d}=nu(),f=JSON.stringify(f0(c,s.v7_relativeSplatPath)),p=v.useRef(!1);return g0(()=>{p.current=!0}),v.useCallback(function(w,_){if(_===void 0&&(_={}),!p.current)return;if(typeof w=="number"){a.go(w);return}let b=h0(w,JSON.parse(f),d,_.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:ci([t,b.pathname])),(_.replace?a.replace:a.push)(b,_.state,_)},[t,a,f,d,e])}function UC(){let{matches:e}=v.useContext(vi),t=e[e.length-1];return t?t.params:{}}function y0(e,t){let{relative:s}=t===void 0?{}:t,{future:a}=v.useContext(da),{matches:c}=v.useContext(vi),{pathname:d}=nu(),f=JSON.stringify(f0(c,a.v7_relativeSplatPath));return v.useMemo(()=>h0(e,JSON.parse(f),d,s==="path"),[e,f,d,s])}function HC(e,t){return WC(e,t)}function WC(e,t,s,a){tu()||Sn(!1);let{navigator:c}=v.useContext(da),{matches:d}=v.useContext(vi),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let w=nu(),_;if(t){var b;let C=typeof t=="string"?Pl(t):t;g==="/"||(b=C.pathname)!=null&&b.startsWith(g)||Sn(!1),_=C}else _=w;let N=_.pathname||"/",T=N;if(g!=="/"){let C=g.replace(/^\//,"").split("/");T="/"+N.replace(/^\//,"").split("/").slice(C.length).join("/")}let P=gC(e,{pathname:T}),j=YC(P&&P.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:ci([g,c.encodeLocation?c.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?g:ci([g,c.encodeLocation?c.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),d,s,a);return t&&j?v.createElement(bf.Provider,{value:{location:Vc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:li.Pop}},j):j}function VC(){let e=JC(),t=IC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),s?v.createElement("pre",{style:c},s):null,null)}const ZC=v.createElement(VC,null);class qC extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?v.createElement(vi.Provider,{value:this.props.routeContext},v.createElement(p0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GC(e){let{routeContext:t,match:s,children:a}=e,c=v.useContext($p);return c&&c.static&&c.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=s.route.id),v.createElement(vi.Provider,{value:t},a)}function YC(e,t,s,a){var c;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var d;if(!s)return null;if(s.errors)e=s.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let f=e,p=(c=s)==null?void 0:c.errors;if(p!=null){let _=f.findIndex(b=>b.route.id&&(p==null?void 0:p[b.route.id])!==void 0);_>=0||Sn(!1),f=f.slice(0,Math.min(f.length,_+1))}let g=!1,w=-1;if(s&&a&&a.v7_partialHydration)for(let _=0;_<f.length;_++){let b=f[_];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(w=_),b.route.id){let{loaderData:N,errors:T}=s,P=b.route.loader&&N[b.route.id]===void 0&&(!T||T[b.route.id]===void 0);if(b.route.lazy||P){g=!0,w>=0?f=f.slice(0,w+1):f=[f[0]];break}}}return f.reduceRight((_,b,N)=>{let T,P=!1,j=null,C=null;s&&(T=p&&b.route.id?p[b.route.id]:void 0,j=b.route.errorElement||ZC,g&&(w<0&&N===0?(tP("route-fallback"),P=!0,C=null):w===N&&(P=!0,C=b.route.hydrateFallbackElement||null)));let k=t.concat(f.slice(0,N+1)),D=()=>{let M;return T?M=j:P?M=C:b.route.Component?M=v.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=_,v.createElement(GC,{match:b,routeContext:{outlet:_,matches:k,isDataRoute:s!=null},children:M})};return s&&(b.route.ErrorBoundary||b.route.errorElement||N===0)?v.createElement(qC,{location:s.location,revalidation:s.revalidation,component:j,error:T,children:D(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):D()},null)}var x0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(x0||{}),w0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(w0||{});function KC(e){let t=v.useContext($p);return t||Sn(!1),t}function XC(e){let t=v.useContext(zC);return t||Sn(!1),t}function QC(e){let t=v.useContext(vi);return t||Sn(!1),t}function _0(e){let t=QC(),s=t.matches[t.matches.length-1];return s.route.id||Sn(!1),s.route.id}function JC(){var e;let t=v.useContext(p0),s=XC(),a=_0();return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function eP(){let{router:e}=KC(x0.UseNavigateStable),t=_0(w0.UseNavigateStable),s=v.useRef(!1);return g0(()=>{s.current=!0}),v.useCallback(function(c,d){d===void 0&&(d={}),s.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Vc({fromRouteId:t},d)))},[e,t])}const Py={};function tP(e,t,s){Py[e]||(Py[e]=!0)}function ti(e){Sn(!1)}function nP(e){let{basename:t="/",children:s=null,location:a,navigationType:c=li.Pop,navigator:d,static:f=!1,future:p}=e;tu()&&Sn(!1);let g=t.replace(/^\/*/,"/"),w=v.useMemo(()=>({basename:g,navigator:d,static:f,future:Vc({v7_relativeSplatPath:!1},p)}),[g,p,d,f]);typeof a=="string"&&(a=Pl(a));let{pathname:_="/",search:b="",hash:N="",state:T=null,key:P="default"}=a,j=v.useMemo(()=>{let C=zp(_,g);return C==null?null:{location:{pathname:C,search:b,hash:N,state:T,key:P},navigationType:c}},[g,_,b,N,T,P,c]);return j==null?null:v.createElement(da.Provider,{value:w},v.createElement(bf.Provider,{children:s,value:j}))}function rP(e){let{children:t,location:s}=e;return HC(Jm(t),s)}new Promise(()=>{});function Jm(e,t){t===void 0&&(t=[]);let s=[];return v.Children.forEach(e,(a,c)=>{if(!v.isValidElement(a))return;let d=[...t,c];if(a.type===v.Fragment){s.push.apply(s,Jm(a.props.children,d));return}a.type!==ti&&Sn(!1),!a.props.index||!a.props.children||Sn(!1);let f={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Jm(a.props.children,d)),s.push(f)}),s}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ep(){return ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ep.apply(this,arguments)}function sP(e,t){if(e==null)return{};var s={},a=Object.keys(e),c,d;for(d=0;d<a.length;d++)c=a[d],!(t.indexOf(c)>=0)&&(s[c]=e[c]);return s}function oP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function iP(e,t){return e.button===0&&(!t||t==="_self")&&!oP(e)}const aP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],lP="6";try{window.__reactRouterVersion=lP}catch{}const cP="startTransition",Ty=Nx[cP];function uP(e){let{basename:t,children:s,future:a,window:c}=e,d=v.useRef();d.current==null&&(d.current=hC({window:c,v5Compat:!0}));let f=d.current,[p,g]=v.useState({action:f.action,location:f.location}),{v7_startTransition:w}=a||{},_=v.useCallback(b=>{w&&Ty?Ty(()=>g(b)):g(b)},[g,w]);return v.useLayoutEffect(()=>f.listen(_),[f,_]),v.createElement(nP,{basename:t,children:s,location:p.location,navigationType:p.action,navigator:f,future:a})}const dP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Os=v.forwardRef(function(t,s){let{onClick:a,relative:c,reloadDocument:d,replace:f,state:p,target:g,to:w,preventScrollReset:_,unstable_viewTransition:b}=t,N=sP(t,aP),{basename:T}=v.useContext(da),P,j=!1;if(typeof w=="string"&&fP.test(w)&&(P=w,dP))try{let M=new URL(window.location.href),O=w.startsWith("//")?new URL(M.protocol+w):new URL(w),I=zp(O.pathname,T);O.origin===M.origin&&I!=null?w=I+O.search+O.hash:j=!0}catch{}let C=$C(w,{relative:c}),k=hP(w,{replace:f,state:p,target:g,preventScrollReset:_,relative:c,unstable_viewTransition:b});function D(M){a&&a(M),M.defaultPrevented||k(M)}return v.createElement("a",ep({},N,{href:P||C,onClick:j||d?a:D,ref:s,target:g}))});var ky;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ky||(ky={}));var My;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(My||(My={}));function hP(e,t){let{target:s,replace:a,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p}=t===void 0?{}:t,g=v0(),w=nu(),_=y0(e,{relative:f});return v.useCallback(b=>{if(iP(b,s)){b.preventDefault();let N=a!==void 0?a:Xd(w)===Xd(_);g(e,{replace:N,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p})}},[w,g,_,a,c,s,e,d,f,p])}class dt{static init(){typeof window<"u"&&(this.baseUrl=window.location.origin,this.isInitialized=!0,console.log(`HttpClient: Initializing with baseUrl: ${this.baseUrl}`),console.log("HttpClient: Checking for fetch interference"),this.detectFetchInterference(),console.log(`HttpClient: Initialization complete. XHR mode: ${this.useXHROnly}`))}static ensureInitialized(){!this.isInitialized&&typeof window<"u"&&this.init(),!this.baseUrl&&typeof window<"u"&&(this.baseUrl=window.location.origin,console.log(`HttpClient: Fallback baseUrl set to: ${this.baseUrl}`))}static detectFetchInterference(){try{console.log("HttpClient: Checking for fetch interference...");const t={windowFS:!!window.FS,fullstoryScript:!!document.querySelector('script[src*="fullstory"]'),fsScript:!!document.querySelector('script[src*="fs.js"]'),userAgent:/fullstory/i.test(navigator.userAgent),fetchContainsFsJs:window.fetch.toString().includes("fs.js"),fetchTooShort:window.fetch.toString().length<50};if(console.log("HttpClient: FullStory detection checks:",t),Object.values(t).some(c=>c)){console.warn("FullStory detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}const a=window.fetch.toString();if(console.log("HttpClient: Fetch function length:",a.length),a.includes("eval")||a.includes("intercept")||a.includes("proxy")){console.warn("Fetch interception detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}console.log("HttpClient: No fetch interference detected, using native fetch")}catch{console.warn("Could not detect fetch interference, using XMLHttpRequest as fallback"),this.useXHROnly=!0}}static forceXHRMode(){console.log("HttpClient: Forced to use XMLHttpRequest mode"),this.useXHROnly=!0}static isUsingXHR(){return this.useXHROnly}static async testConnection(){try{console.log("HttpClient: Testing connection...");const t=await this.get("/api/employees",!1),s=t.ok;return console.log(`HttpClient: Connection test ${s?"passed":"failed"} - Status: ${t.status}`),s}catch(t){return console.error("HttpClient: Connection test failed:",t),!1}}static async fallbackFetch(t,s={}){return console.log(`HttpClient: XMLHttpRequest attempt to ${t}`),new Promise((a,c)=>{const d=new XMLHttpRequest,f=s.method||"GET";try{if(d.withCredentials=!1,d.open(f,t),s.headers){const p=s.headers;Object.keys(p).forEach(g=>{if(g.toLowerCase()!=="signal")try{d.setRequestHeader(g,p[g])}catch(w){console.warn(`HttpClient: Failed to set header ${g}:`,w)}})}d.timeout=25e3,d.onreadystatechange=()=>{console.log(`HttpClient: XHR readyState: ${d.readyState}, status: ${d.status}`)},d.onload=()=>{var p;console.log(`HttpClient: XHR onload - Status: ${d.status}, Response: ${(p=d.responseText)==null?void 0:p.substring(0,100)}...`);try{if(d.status>=200&&d.status<300){const g=new Response(d.responseText,{status:d.status,statusText:d.statusText,headers:new Headers({"Content-Type":d.getResponseHeader("Content-Type")||"application/json"})});a(g)}else c(new Error(`HTTP error ${d.status}: ${d.statusText||"No status text"}`))}catch(g){console.error("HttpClient: Error creating response:",g),c(new Error(`Failed to create response: ${g}`))}},d.onerror=p=>{console.error("HttpClient: XHR error event:",p),console.error("HttpClient: XHR error details:",{status:d.status,statusText:d.statusText,readyState:d.readyState,responseText:d.responseText,responseURL:d.responseURL,url:t,method:f});let g="XMLHttpRequest failed";d.readyState===0?g=`Request not initialized - possible CORS or network issue for ${t}`:d.readyState===1?g="Request opened but not sent":d.readyState===2?g="Headers received but request incomplete":d.readyState===3?g="Request in progress":d.readyState===4&&(d.status===0?g=`Network error or CORS policy blocked request to ${t}. Check if server is running and CORS is configured.`:g=`HTTP error ${d.status}: ${d.statusText||"Unknown error"} for ${t}`),c(new Error(g))},d.ontimeout=()=>{console.error("HttpClient: XHR timeout"),c(new Error("XMLHttpRequest timeout after 25 seconds"))},d.onabort=()=>{console.error("HttpClient: XHR aborted"),c(new Error("XMLHttpRequest was aborted"))},console.log(`HttpClient: Sending XHR ${f} request to ${t}`),s.body?(console.log("HttpClient: Request body:",s.body),d.send(s.body)):d.send()}catch(p){console.error("HttpClient: Error setting up XMLHttpRequest:",p),c(new Error(`Failed to setup XMLHttpRequest: ${p}`))}})}static async request(t,s={}){this.ensureInitialized();const a=t.startsWith("http")?t:`${this.baseUrl}${t}`,c=s.method||"GET",d=c==="GET"?`${c}:${a}`:null;if(d&&this.pendingRequests.has(d))return console.log(`HttpClient: Reusing pending request for ${a}`),this.pendingRequests.get(d);if(console.log(`HttpClient: Request to ${a} (baseUrl: ${this.baseUrl}, endpoint: ${t})`),!a||a==="undefined"||a.includes("undefined"))throw console.error("HttpClient: Invalid URL constructed:",{url:a,baseUrl:this.baseUrl,endpoint:t}),new Error(`Invalid URL: ${a}`);const p={...s,headers:{...{"Content-Type":"application/json"},...s.headers}},g=this.executeRequest(a,p);return d&&(this.pendingRequests.set(d,g),g.finally(()=>{this.pendingRequests.delete(d)})),g}static async executeRequest(t,s){var d,f;if(this.useXHROnly)return console.log(`HttpClient: Using XMLHttpRequest for ${t} (FullStory detected)`),this.fallbackFetch(t,s);let a=null,c=null;try{a=new AbortController,c=setTimeout(()=>{a&&!a.signal.aborted&&a.abort("Request timeout after 20 seconds")},2e4);const p={...s,signal:a.signal};console.log(`HttpClient: Attempting fetch to ${t}`);const g=await fetch(t,p);return c&&(clearTimeout(c),c=null),console.log(`HttpClient: Fetch successful to ${t}`,g.status),g}catch(p){c&&(clearTimeout(c),c=null),console.warn(`HttpClient: Fetch failed, trying fallback for ${t}:`,p),p instanceof TypeError&&(p.message.includes("fetch")||p.message.includes("Failed to fetch")||(d=p.stack)!=null&&d.includes("fullstory")||(f=p.stack)!=null&&f.includes("fs.js"))&&(console.log("HttpClient: Detected FullStory interference, switching to XMLHttpRequest mode permanently"),this.useXHROnly=!0),p instanceof Error&&p.name==="AbortError"&&console.log("HttpClient: Request was aborted, trying fallback without signal");try{const g=await this.fallbackFetch(t,s);return console.log(`HttpClient: Fallback successful to ${t}`,g.status),g}catch(g){throw console.error(`HttpClient: Both fetch and fallback failed for ${t}:`,g),g}}}static async requestWithRetry(t,s={},a=2){var d,f;let c=null;for(let p=0;p<=a;p++)try{return await this.request(t,s)}catch(g){if(c=g,console.warn(`HttpClient: Attempt ${p+1} failed for ${t}:`,g),g instanceof TypeError&&(g.message.includes("fetch")||g.message.includes("Failed to fetch")||(d=g.stack)!=null&&d.includes("fullstory")||(f=g.stack)!=null&&f.includes("fs.js"))){console.log("HttpClient: FullStory error detected in retry, switching to XMLHttpRequest mode"),this.useXHROnly=!0;try{const w=t.startsWith("http")?t:`${this.baseUrl}${t}`,b={...s,headers:{...{"Content-Type":"application/json"},...s.headers}};return await this.fallbackFetch(w,b)}catch(w){console.error("HttpClient: XHR fallback also failed:",w)}}p<a&&await new Promise(w=>setTimeout(w,Math.pow(2,p)*1e3))}throw c}static async get(t,s=!1){return s?this.requestWithRetry(t,{method:"GET"}):this.request(t,{method:"GET"})}static async post(t,s,a=!0){const c={method:"POST",body:s?JSON.stringify(s):void 0};return a?this.requestWithRetry(t,c):this.request(t,c)}static async put(t,s,a=!0){const c={method:"PUT",body:s?JSON.stringify(s):void 0};return a?this.requestWithRetry(t,c):this.request(t,c)}static async delete(t,s=!1){return s?this.requestWithRetry(t,{method:"DELETE"}):this.request(t,{method:"DELETE"})}}Ms(dt,"baseUrl",""),Ms(dt,"isInitialized",!1),Ms(dt,"useXHROnly",!1),Ms(dt,"pendingRequests",new Map);dt.init();const at=v.forwardRef(({className:e,...t},s)=>o.jsx("div",{ref:s,className:ht("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));at.displayName="Card";const jt=v.forwardRef(({className:e,...t},s)=>o.jsx("div",{ref:s,className:ht("flex flex-col space-y-1.5 p-6",e),...t}));jt.displayName="CardHeader";const Et=v.forwardRef(({className:e,...t},s)=>o.jsx("h3",{ref:s,className:ht("text-2xl font-semibold leading-none tracking-tight",e),...t}));Et.displayName="CardTitle";const mP=v.forwardRef(({className:e,...t},s)=>o.jsx("p",{ref:s,className:ht("text-sm text-muted-foreground",e),...t}));mP.displayName="CardDescription";const lt=v.forwardRef(({className:e,...t},s)=>o.jsx("div",{ref:s,className:ht("p-6 pt-0",e),...t}));lt.displayName="CardContent";const pP=v.forwardRef(({className:e,...t},s)=>o.jsx("div",{ref:s,className:ht("flex items-center p-6 pt-0",e),...t}));pP.displayName="CardFooter";const gP=Qc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ce=v.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...c},d)=>{const f=a?sa:"button";return o.jsx(f,{className:ht(gP({variant:t,size:s,className:e})),ref:d,...c})});Ce.displayName="Button";const vP=Qc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Nt({className:e,variant:t,...s}){return o.jsx("div",{className:ht(vP({variant:t}),e),...s})}var kc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var yP=kc.exports,Ry;function xP(){return Ry||(Ry=1,function(e,t){(function(s,a){a(t)})(yP,function(s){var a="1.9.4";function c(r){var l,h,y,E;for(h=1,y=arguments.length;h<y;h++){E=arguments[h];for(l in E)r[l]=E[l]}return r}var d=Object.create||function(){function r(){}return function(l){return r.prototype=l,new r}}();function f(r,l){var h=Array.prototype.slice;if(r.bind)return r.bind.apply(r,h.call(arguments,1));var y=h.call(arguments,2);return function(){return r.apply(l,y.length?y.concat(h.call(arguments)):arguments)}}var p=0;function g(r){return"_leaflet_id"in r||(r._leaflet_id=++p),r._leaflet_id}function w(r,l,h){var y,E,A,H;return H=function(){y=!1,E&&(A.apply(h,E),E=!1)},A=function(){y?E=arguments:(r.apply(h,arguments),setTimeout(H,l),y=!0)},A}function _(r,l,h){var y=l[1],E=l[0],A=y-E;return r===y&&h?r:((r-E)%A+A)%A+E}function b(){return!1}function N(r,l){if(l===!1)return r;var h=Math.pow(10,l===void 0?6:l);return Math.round(r*h)/h}function T(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function P(r){return T(r).split(/\s+/)}function j(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?d(r.options):{});for(var h in l)r.options[h]=l[h];return r.options}function C(r,l,h){var y=[];for(var E in r)y.push(encodeURIComponent(h?E.toUpperCase():E)+"="+encodeURIComponent(r[E]));return(!l||l.indexOf("?")===-1?"?":"&")+y.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function D(r,l){return r.replace(k,function(h,y){var E=l[y];if(E===void 0)throw new Error("No value provided for variable "+h);return typeof E=="function"&&(E=E(l)),E})}var M=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function O(r,l){for(var h=0;h<r.length;h++)if(r[h]===l)return h;return-1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Z(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var z=0;function se(r){var l=+new Date,h=Math.max(0,16-(l-z));return z=l+h,window.setTimeout(r,h)}var ae=window.requestAnimationFrame||Z("RequestAnimationFrame")||se,q=window.cancelAnimationFrame||Z("CancelAnimationFrame")||Z("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function J(r,l,h){if(h&&ae===se)r.call(l);else return ae.call(window,f(r,l))}function de(r){r&&q.call(window,r)}var Ae={__proto__:null,extend:c,create:d,bind:f,get lastId(){return p},stamp:g,throttle:w,wrapNum:_,falseFn:b,formatNum:N,trim:T,splitWords:P,setOptions:j,getParamString:C,template:D,isArray:M,indexOf:O,emptyImageUrl:I,requestFn:ae,cancelFn:q,requestAnimFrame:J,cancelAnimFrame:de};function K(){}K.extend=function(r){var l=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,y=d(h);y.constructor=l,l.prototype=y;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return r.statics&&c(l,r.statics),r.includes&&(ee(r.includes),c.apply(null,[y].concat(r.includes))),c(y,r),delete y.statics,delete y.includes,y.options&&(y.options=h.options?d(h.options):{},c(y.options,r.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,H=y._initHooks.length;A<H;A++)y._initHooks[A].call(this)}},l},K.include=function(r){var l=this.prototype.options;return c(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},K.mergeOptions=function(r){return c(this.prototype.options,r),this},K.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),h=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function ee(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=M(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(r,l,h){if(typeof r=="object")for(var y in r)this._on(y,r[y],l);else{r=P(r);for(var E=0,A=r.length;E<A;E++)this._on(r[E],l,h)}return this},off:function(r,l,h){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var y in r)this._off(y,r[y],l);else{r=P(r);for(var E=arguments.length===1,A=0,H=r.length;A<H;A++)E?this._off(r[A]):this._off(r[A],l,h)}return this},_on:function(r,l,h,y){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,h)===!1){h===this&&(h=void 0);var E={fn:l,ctx:h};y&&(E.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(E)}},_off:function(r,l,h){var y,E,A;if(this._events&&(y=this._events[r],!!y)){if(arguments.length===1){if(this._firingCount)for(E=0,A=y.length;E<A;E++)y[E].fn=b;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var H=this._listens(r,l,h);if(H!==!1){var ne=y[H];this._firingCount&&(ne.fn=b,this._events[r]=y=y.slice()),y.splice(H,1)}}},fire:function(r,l,h){if(!this.listens(r,h))return this;var y=c({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[r];if(E){this._firingCount=this._firingCount+1||1;for(var A=0,H=E.length;A<H;A++){var ne=E[A],le=ne.fn;ne.once&&this.off(r,le,ne.ctx),le.call(ne.ctx||this,y)}this._firingCount--}}return h&&this._propagateEvent(y),this},listens:function(r,l,h,y){typeof r!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(y=!!l,E=void 0,h=void 0);var A=this._events&&this._events[r];if(A&&A.length&&this._listens(r,E,h)!==!1)return!0;if(y){for(var H in this._eventParents)if(this._eventParents[H].listens(r,l,h,y))return!0}return!1},_listens:function(r,l,h){if(!this._events)return!1;var y=this._events[r]||[];if(!l)return!!y.length;h===this&&(h=void 0);for(var E=0,A=y.length;E<A;E++)if(y[E].fn===l&&y[E].ctx===h)return E;return!1},once:function(r,l,h){if(typeof r=="object")for(var y in r)this._on(y,r[y],l,!0);else{r=P(r);for(var E=0,A=r.length;E<A;E++)this._on(r[E],l,h,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[g(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[g(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,c({layer:r.target,propagatedFrom:r.target},r),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var me=K.extend(te);function U(r,l,h){this.x=h?Math.round(r):r,this.y=h?Math.round(l):l}var ue=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(r){return this.clone()._add(oe(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(oe(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new U(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new U(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(r){r=oe(r);var l=r.x-this.x,h=r.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(r){return r=oe(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=oe(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function oe(r,l,h){return r instanceof U?r:M(r)?new U(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new U(r.x,r.y):new U(r,l,h)}function F(r,l){if(r)for(var h=l?[r,l]:r,y=0,E=h.length;y<E;y++)this.extend(h[y])}F.prototype={extend:function(r){var l,h;if(!r)return this;if(r instanceof U||typeof r[0]=="number"||"x"in r)l=h=oe(r);else if(r=Q(r),l=r.min,h=r.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(r){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,h;return typeof r[0]=="number"||r instanceof U?r=oe(r):r=Q(r),r instanceof F?(l=r.min,h=r.max):l=h=r,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(r){r=Q(r);var l=this.min,h=this.max,y=r.min,E=r.max,A=E.x>=l.x&&y.x<=h.x,H=E.y>=l.y&&y.y<=h.y;return A&&H},overlaps:function(r){r=Q(r);var l=this.min,h=this.max,y=r.min,E=r.max,A=E.x>l.x&&y.x<h.x,H=E.y>l.y&&y.y<h.y;return A&&H},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,h=this.max,y=Math.abs(l.x-h.x)*r,E=Math.abs(l.y-h.y)*r;return Q(oe(l.x-y,l.y-E),oe(h.x+y,h.y+E))},equals:function(r){return r?(r=Q(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function Q(r,l){return!r||r instanceof F?r:new F(r,l)}function ye(r,l){if(r)for(var h=l?[r,l]:r,y=0,E=h.length;y<E;y++)this.extend(h[y])}ye.prototype={extend:function(r){var l=this._southWest,h=this._northEast,y,E;if(r instanceof Pe)y=r,E=r;else if(r instanceof ye){if(y=r._southWest,E=r._northEast,!y||!E)return this}else return r?this.extend(Y(r)||Re(r)):this;return!l&&!h?(this._southWest=new Pe(y.lat,y.lng),this._northEast=new Pe(E.lat,E.lng)):(l.lat=Math.min(y.lat,l.lat),l.lng=Math.min(y.lng,l.lng),h.lat=Math.max(E.lat,h.lat),h.lng=Math.max(E.lng,h.lng)),this},pad:function(r){var l=this._southWest,h=this._northEast,y=Math.abs(l.lat-h.lat)*r,E=Math.abs(l.lng-h.lng)*r;return new ye(new Pe(l.lat-y,l.lng-E),new Pe(h.lat+y,h.lng+E))},getCenter:function(){return new Pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Pe||"lat"in r?r=Y(r):r=Re(r);var l=this._southWest,h=this._northEast,y,E;return r instanceof ye?(y=r.getSouthWest(),E=r.getNorthEast()):y=E=r,y.lat>=l.lat&&E.lat<=h.lat&&y.lng>=l.lng&&E.lng<=h.lng},intersects:function(r){r=Re(r);var l=this._southWest,h=this._northEast,y=r.getSouthWest(),E=r.getNorthEast(),A=E.lat>=l.lat&&y.lat<=h.lat,H=E.lng>=l.lng&&y.lng<=h.lng;return A&&H},overlaps:function(r){r=Re(r);var l=this._southWest,h=this._northEast,y=r.getSouthWest(),E=r.getNorthEast(),A=E.lat>l.lat&&y.lat<h.lat,H=E.lng>l.lng&&y.lng<h.lng;return A&&H},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=Re(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Re(r,l){return r instanceof ye?r:new ye(r,l)}function Pe(r,l,h){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,h!==void 0&&(this.alt=+h)}Pe.prototype={equals:function(r,l){if(!r)return!1;r=Y(r);var h=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return h<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+N(this.lat,r)+", "+N(this.lng,r)+")"},distanceTo:function(r){return ge.distance(this,Y(r))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,h=l/Math.cos(Math.PI/180*this.lat);return Re([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new Pe(this.lat,this.lng,this.alt)}};function Y(r,l,h){return r instanceof Pe?r:M(r)&&typeof r[0]!="object"?r.length===3?new Pe(r[0],r[1],r[2]):r.length===2?new Pe(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Pe(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new Pe(r,l,h)}var B={latLngToPoint:function(r,l){var h=this.projection.project(r),y=this.scale(l);return this.transformation._transform(h,y)},pointToLatLng:function(r,l){var h=this.scale(l),y=this.transformation.untransform(r,h);return this.projection.unproject(y)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(r),y=this.transformation.transform(l.min,h),E=this.transformation.transform(l.max,h);return new F(y,E)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?_(r.lng,this.wrapLng,!0):r.lng,h=this.wrapLat?_(r.lat,this.wrapLat,!0):r.lat,y=r.alt;return new Pe(h,l,y)},wrapLatLngBounds:function(r){var l=r.getCenter(),h=this.wrapLatLng(l),y=l.lat-h.lat,E=l.lng-h.lng;if(y===0&&E===0)return r;var A=r.getSouthWest(),H=r.getNorthEast(),ne=new Pe(A.lat-y,A.lng-E),le=new Pe(H.lat-y,H.lng-E);return new ye(ne,le)}},ge=c({},B,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var h=Math.PI/180,y=r.lat*h,E=l.lat*h,A=Math.sin((l.lat-r.lat)*h/2),H=Math.sin((l.lng-r.lng)*h/2),ne=A*A+Math.cos(y)*Math.cos(E)*H*H,le=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*le}}),Ee=6378137,Ve={R:Ee,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,h=this.MAX_LATITUDE,y=Math.max(Math.min(h,r.lat),-h),E=Math.sin(y*l);return new U(this.R*r.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(r){var l=180/Math.PI;return new Pe((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:function(){var r=Ee*Math.PI;return new F([-r,-r],[r,r])}()};function ut(r,l,h,y){if(M(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=h,this._d=y}ut.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new U((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function Je(r,l,h,y){return new ut(r,l,h,y)}var Lt=c({},ge,{code:"EPSG:3857",projection:Ve,transformation:function(){var r=.5/(Math.PI*Ve.R);return Je(r,.5,-r,.5)}()}),Wt=c({},Lt,{code:"EPSG:900913"});function xn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function X(r,l){var h="",y,E,A,H,ne,le;for(y=0,A=r.length;y<A;y++){for(ne=r[y],E=0,H=ne.length;E<H;E++)le=ne[E],h+=(E?"L":"M")+le.x+" "+le.y;h+=l?qe.svg?"z":"x":""}return h||"M0 0"}var ve=document.documentElement.style,Me="ActiveXObject"in window,Ne=Me&&!document.addEventListener,$e="msLaunchUri"in navigator&&!("documentMode"in document),et=Nn("webkit"),Qe=Nn("android"),Ut=Nn("android 2")||Nn("android 3"),It=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ct=Qe&&Nn("Google")&&It<537&&!("AudioNode"in window),Pt=!!window.opera,$t=!$e&&Nn("chrome"),Ht=Nn("gecko")&&!et&&!Pt&&!Me,W=!$t&&Nn("safari"),we=Nn("phantom"),Fe="OTransition"in ve,be=navigator.platform.indexOf("Win")===0,Ge=Me&&"transition"in ve,Se="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ut,De="MozPerspective"in ve,Be=!window.L_DISABLE_3D&&(Ge||Se||De)&&!Fe&&!we,nt=typeof orientation<"u"||Nn("mobile"),he=nt&&et,pe=nt&&Se,je=!window.PointerEvent&&window.MSPointerEvent,Oe=!!(window.PointerEvent||je),He="ontouchstart"in window||!!window.TouchEvent,Ft=!window.L_NO_TOUCH&&(He||Oe),tt=nt&&Pt,bt=nt&&Ht,At=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yt=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",b,l),window.removeEventListener("testPassiveEventSupport",b,l)}catch{}return r}(),er=function(){return!!document.createElement("canvas").getContext}(),$s=!!(document.createElementNS&&xn("svg").createSVGRect),vs=!!$s&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),vo=!$s&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),ys=navigator.platform.indexOf("Mac")===0,fa=navigator.platform.indexOf("Linux")===0;function Nn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var qe={ie:Me,ielt9:Ne,edge:$e,webkit:et,android:Qe,android23:Ut,androidStock:Ct,opera:Pt,chrome:$t,gecko:Ht,safari:W,phantom:we,opera12:Fe,win:be,ie3d:Ge,webkit3d:Se,gecko3d:De,any3d:Be,mobile:nt,mobileWebkit:he,mobileWebkit3d:pe,msPointer:je,pointer:Oe,touch:Ft,touchNative:He,mobileOpera:tt,mobileGecko:bt,retina:At,passiveEvents:Yt,canvas:er,svg:$s,vml:vo,inlineSvg:vs,mac:ys,linux:fa},wi=qe.msPointer?"MSPointerDown":"pointerdown",ha=qe.msPointer?"MSPointerMove":"pointermove",lu=qe.msPointer?"MSPointerUp":"pointerup",cu=qe.msPointer?"MSPointerCancel":"pointercancel",Rl={touchstart:wi,touchmove:ha,touchend:lu,touchcancel:cu},xs={touchstart:an,touchmove:ma,touchend:ma,touchcancel:ma},Bs={},Ll=!1;function Ff(r,l,h){return l==="touchstart"&&zf(),xs[l]?(h=xs[l].bind(this,h),r.addEventListener(Rl[l],h,!1),h):(console.warn("wrong event specified:",l),b)}function uu(r,l,h){if(!Rl[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(Rl[l],h,!1)}function du(r){Bs[r.pointerId]=r}function fu(r){Bs[r.pointerId]&&(Bs[r.pointerId]=r)}function Al(r){delete Bs[r.pointerId]}function zf(){Ll||(document.addEventListener(wi,du,!0),document.addEventListener(ha,fu,!0),document.addEventListener(lu,Al,!0),document.addEventListener(cu,Al,!0),Ll=!0)}function ma(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Bs)l.touches.push(Bs[h]);l.changedTouches=[l],r(l)}}function an(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ln(l),ma(r,l)}function $f(r){var l={},h,y;for(y in r)h=r[y],l[y]=h&&h.bind?h.bind(r):h;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Dl=200;function hu(r,l){r.addEventListener("dblclick",l);var h=0,y;function E(A){if(A.detail!==1){y=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var H=Ws(A);if(!(H.some(function(le){return le instanceof HTMLLabelElement&&le.attributes.for})&&!H.some(function(le){return le instanceof HTMLInputElement||le instanceof HTMLSelectElement}))){var ne=Date.now();ne-h<=Dl?(y++,y===2&&l($f(A))):y=1,h=ne}}}return r.addEventListener("click",E),{dblclick:l,simDblclick:E}}function pa(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var Ol=_o(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yo=_o(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),_i=yo==="webkitTransition"||yo==="OTransition"?yo+"End":"transitionend";function gr(r){return typeof r=="string"?document.getElementById(r):r}function bi(r,l){var h=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(r,null);h=y?y[l]:null}return h==="auto"?null:h}function yt(r,l,h){var y=document.createElement(r);return y.className=l||"",h&&h.appendChild(y),y}function en(r){var l=r.parentNode;l&&l.removeChild(r)}function ga(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function xo(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function Qr(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function wo(r,l){if(r.classList!==void 0)return r.classList.contains(l);var h=va(r);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function pt(r,l){if(r.classList!==void 0)for(var h=P(l),y=0,E=h.length;y<E;y++)r.classList.add(h[y]);else if(!wo(r,l)){var A=va(r);Il(r,(A?A+" ":"")+l)}}function Qt(r,l){r.classList!==void 0?r.classList.remove(l):Il(r,T((" "+va(r)+" ").replace(" "+l+" "," ")))}function Il(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function va(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Dn(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&mu(r,l)}function mu(r,l){var h=!1,y="DXImageTransform.Microsoft.Alpha";try{h=r.filters.item(y)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):r.style.filter+=" progid:"+y+"(opacity="+l+")"}function _o(r){for(var l=document.documentElement.style,h=0;h<r.length;h++)if(r[h]in l)return r[h];return!1}function vr(r,l,h){var y=l||new U(0,0);r.style[Ol]=(qe.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(h?" scale("+h+")":"")}function hn(r,l){r._leaflet_pos=l,qe.any3d?vr(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function Jr(r){return r._leaflet_pos||new U(0,0)}var Dt,bo,ya;if("onselectstart"in document)Dt=function(){ft(window,"selectstart",ln)},bo=function(){Kt(window,"selectstart",ln)};else{var Us=_o(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dt=function(){if(Us){var r=document.documentElement.style;ya=r[Us],r[Us]="none"}},bo=function(){Us&&(document.documentElement.style[Us]=ya,ya=void 0)}}function xa(){ft(window,"dragstart",ln)}function wa(){Kt(window,"dragstart",ln)}var Si,Ni;function So(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(yr(),Si=r,Ni=r.style.outlineStyle,r.style.outlineStyle="none",ft(window,"keydown",yr))}function yr(){Si&&(Si.style.outlineStyle=Ni,Si=void 0,Ni=void 0,Kt(window,"keydown",yr))}function es(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Rr(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var ji={__proto__:null,TRANSFORM:Ol,TRANSITION:yo,TRANSITION_END:_i,get:gr,getStyle:bi,create:yt,remove:en,empty:ga,toFront:xo,toBack:Qr,hasClass:wo,addClass:pt,removeClass:Qt,setClass:Il,getClass:va,setOpacity:Dn,testProp:_o,setTransform:vr,setPosition:hn,getPosition:Jr,get disableTextSelection(){return Dt},get enableTextSelection(){return bo},disableImageDrag:xa,enableImageDrag:wa,preventOutline:So,restoreOutline:yr,getSizedParentNode:es,getScale:Rr};function ft(r,l,h,y){if(l&&typeof l=="object")for(var E in l)zl(r,E,l[E],h);else{l=P(l);for(var A=0,H=l.length;A<H;A++)zl(r,l[A],h,y)}return this}var jn="_leaflet_events";function Kt(r,l,h,y){if(arguments.length===1)Fl(r),delete r[jn];else if(l&&typeof l=="object")for(var E in l)_a(r,E,l[E],h);else if(l=P(l),arguments.length===2)Fl(r,function(ne){return O(l,ne)!==-1});else for(var A=0,H=l.length;A<H;A++)_a(r,l[A],h,y);return this}function Fl(r,l){for(var h in r[jn]){var y=h.split(/\d/)[0];(!l||l(y))&&_a(r,y,null,null,h)}}var Hs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zl(r,l,h,y){var E=l+g(h)+(y?"_"+g(y):"");if(r[jn]&&r[jn][E])return this;var A=function(ne){return h.call(y||r,ne||window.event)},H=A;!qe.touchNative&&qe.pointer&&l.indexOf("touch")===0?A=Ff(r,l,A):qe.touch&&l==="dblclick"?A=hu(r,A):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(Hs[l]||l,A,qe.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(A=function(ne){ne=ne||window.event,Pi(r,ne)&&H(ne)},r.addEventListener(Hs[l],A,!1)):r.addEventListener(l,H,!1):r.attachEvent("on"+l,A),r[jn]=r[jn]||{},r[jn][E]=A}function _a(r,l,h,y,E){E=E||l+g(h)+(y?"_"+g(y):"");var A=r[jn]&&r[jn][E];if(!A)return this;!qe.touchNative&&qe.pointer&&l.indexOf("touch")===0?uu(r,l,A):qe.touch&&l==="dblclick"?pa(r,A):"removeEventListener"in r?r.removeEventListener(Hs[l]||l,A,!1):r.detachEvent("on"+l,A),r[jn][E]=null}function Lr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ba(r){return zl(r,"wheel",Lr),this}function Ei(r){return ft(r,"mousedown touchstart dblclick contextmenu",Lr),r._leaflet_disable_click=!0,this}function ln(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function xr(r){return ln(r),Lr(r),this}function Ws(r){if(r.composedPath)return r.composedPath();for(var l=[],h=r.target;h;)l.push(h),h=h.parentNode;return l}function Ci(r,l){if(!l)return new U(r.clientX,r.clientY);var h=Rr(l),y=h.boundingClientRect;return new U((r.clientX-y.left)/h.x-l.clientLeft,(r.clientY-y.top)/h.y-l.clientTop)}var Bf=qe.linux&&qe.chrome?window.devicePixelRatio:qe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function pu(r){return qe.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Bf:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Pi(r,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==r;)h=h.parentNode}catch{return!1}return h!==r}var Sa={__proto__:null,on:ft,off:Kt,stopPropagation:Lr,disableScrollPropagation:ba,disableClickPropagation:Ei,preventDefault:ln,stop:xr,getPropagationPath:Ws,getMousePosition:Ci,getWheelDelta:pu,isExternalTarget:Pi,addListener:ft,removeListener:Kt},Na=me.extend({run:function(r,l,h,y){this.stop(),this._el=r,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Jr(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var h=this._startPos.add(this._offset.multiplyBy(r));l&&h._round(),hn(this._el,h),this.fire("step")},_complete:function(){de(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Mt=me.extend({options:{crs:Lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=j(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Y(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yo&&qe.any3d&&!qe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ft(this._proxy,_i,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(Y(r),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var y=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,h.zoom):this._tryAnimatedPan(r,h.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,h){var y=this.getZoomScale(l),E=this.getSize().divideBy(2),A=r instanceof U?r:this.latLngToContainerPoint(r),H=A.subtract(E).multiplyBy(1-1/y),ne=this.containerPointToLatLng(E.add(H));return this.setView(ne,l,{zoom:h})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():Re(r);var h=oe(l.paddingTopLeft||l.padding||[0,0]),y=oe(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(r,!1,h.add(y));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:r.getCenter(),zoom:E};var A=y.subtract(h).divideBy(2),H=this.project(r.getSouthWest(),E),ne=this.project(r.getNorthEast(),E),le=this.unproject(H.add(ne).divideBy(2).add(A),E);return{center:le,zoom:E}},fitBounds:function(r,l){if(r=Re(r),!r.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(r,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=oe(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Na,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){pt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,h){if(h=h||{},h.animate===!1||!qe.any3d)return this.setView(r,l,h);this._stop();var y=this.project(this.getCenter()),E=this.project(r),A=this.getSize(),H=this._zoom;r=Y(r),l=l===void 0?H:l;var ne=Math.max(A.x,A.y),le=ne*this.getZoomScale(H,l),_e=E.distanceTo(y)||1,Ue=1.42,rt=Ue*Ue;function wt(Vt){var Fo=Vt?-1:1,th=Vt?le:ne,nh=le*le-ne*ne+Fo*rt*rt*_e*_e,Xs=2*th*rt*_e,Qs=nh/Xs,Js=Math.sqrt(Qs*Qs+1)-Qs,Fa=Js<1e-9?-18:Math.log(Js);return Fa}function En(Vt){return(Math.exp(Vt)-Math.exp(-Vt))/2}function wn(Vt){return(Math.exp(Vt)+Math.exp(-Vt))/2}function Gn(Vt){return En(Vt)/wn(Vt)}var In=wt(0);function Oo(Vt){return ne*(wn(In)/wn(In+Ue*Vt))}function ic(Vt){return ne*(wn(In)*Gn(In+Ue*Vt)-En(In))/rt}function Cs(Vt){return 1-Math.pow(1-Vt,1.5)}var Ou=Date.now(),Ks=(wt(1)-In)/Ue,Ir=h.duration?1e3*h.duration:1e3*Ks*.8;function Io(){var Vt=(Date.now()-Ou)/Ir,Fo=Cs(Vt)*Ks;Vt<=1?(this._flyToFrame=J(Io,this),this._move(this.unproject(y.add(E.subtract(y).multiplyBy(ic(Fo)/_e)),H),this.getScaleZoom(ne/Oo(Fo),H),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Io.call(this),this},flyToBounds:function(r,l){var h=this._getBoundsCenterZoom(r,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(r){return r=Re(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var h=this.getCenter(),y=this._limitCenter(h,this._zoom,Re(r));return h.equals(y)||this.panTo(y,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var h=oe(l.paddingTopLeft||l.padding||[0,0]),y=oe(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),A=this.project(r),H=this.getPixelBounds(),ne=Q([H.min.add(h),H.max.subtract(y)]),le=ne.getSize();if(!ne.contains(A)){this._enforcingBounds=!0;var _e=A.subtract(ne.getCenter()),Ue=ne.extend(A).getSize().subtract(le);E.x+=_e.x<0?-Ue.x:Ue.x,E.y+=_e.y<0?-Ue.y:Ue.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=c({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),y=l.divideBy(2).round(),E=h.divideBy(2).round(),A=y.subtract(E);return!A.x&&!A.y?this:(r.animate&&r.pan?this.panBy(A):(r.pan&&this._rawPanBy(A),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=c({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,r):navigator.geolocation.getCurrentPosition(l,h,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,h=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,h=r.coords.longitude,y=new Pe(l,h),E=y.toBounds(r.coords.accuracy*2),A=this._locateOptions;if(A.setView){var H=this.getBoundsZoom(E);this.setView(y,A.maxZoom?Math.min(H,A.maxZoom):H)}var ne={latlng:y,bounds:E,timestamp:r.timestamp};for(var le in r.coords)typeof r.coords[le]=="number"&&(ne[le]=r.coords[le]);this.fire("locationfound",ne)}},addHandler:function(r,l){if(!l)return this;var h=this[r]=new l(this);return this._handlers.push(h),this.options[r]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),en(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(de(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)en(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var h="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),y=yt("div",h,l||this._mapPane);return r&&(this._panes[r]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),h=this.unproject(r.getTopRight());return new ye(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,h){r=Re(r),h=oe(h||[0,0]);var y=this.getZoom()||0,E=this.getMinZoom(),A=this.getMaxZoom(),H=r.getNorthWest(),ne=r.getSouthEast(),le=this.getSize().subtract(h),_e=Q(this.project(ne,y),this.project(H,y)).getSize(),Ue=qe.any3d?this.options.zoomSnap:1,rt=le.x/_e.x,wt=le.y/_e.y,En=l?Math.max(rt,wt):Math.min(rt,wt);return y=this.getScaleZoom(En,y),Ue&&(y=Math.round(y/(Ue/100))*(Ue/100),y=l?Math.ceil(y/Ue)*Ue:Math.floor(y/Ue)*Ue),Math.max(E,Math.min(A,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var h=this._getTopLeftPoint(r,l);return new F(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(r)/h.scale(l)},getScaleZoom:function(r,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var y=h.zoom(r*h.scale(l));return isNaN(y)?1/0:y},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Y(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(oe(r),l)},layerPointToLatLng:function(r){var l=oe(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(Y(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Y(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Re(r))},distance:function(r,l){return this.options.crs.distance(Y(r),Y(l))},containerPointToLayerPoint:function(r){return oe(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return oe(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(oe(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(r)))},mouseEventToContainerPoint:function(r){return Ci(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=gr(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ft(l,"scroll",this._onScroll,this),this._containerId=g(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&qe.any3d,pt(r,"leaflet-container"+(qe.touch?" leaflet-touch":"")+(qe.retina?" leaflet-retina":"")+(qe.ielt9?" leaflet-oldie":"")+(qe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=bi(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),hn(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(pt(r.markerPane,"leaflet-zoom-hide"),pt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,h){hn(this._mapPane,new U(0,0));var y=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,h)._move(r,l)._moveEnd(E),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,h,y){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),y?h&&h.pinch&&this.fire("zoom",h):((E||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return de(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){hn(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[g(this._container)]=this;var l=r?Kt:ft;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),qe.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){de(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var h=[],y,E=l==="mouseout"||l==="mouseover",A=r.target||r.srcElement,H=!1;A;){if(y=this._targets[g(A)],y&&(l==="click"||l==="preclick")&&this._draggableMoved(y)){H=!0;break}if(y&&y.listens(l,!0)&&(E&&!Pi(A,r)||(h.push(y),E))||A===this._container)break;A=A.parentNode}return!h.length&&!H&&!E&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var h=r.type;h==="mousedown"&&So(l),this._fireDOMEvent(r,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,h){if(r.type==="click"){var y=c({},r);y.type="preclick",this._fireDOMEvent(y,y.type,h)}var E=this._findEventTargets(r,l);if(h){for(var A=[],H=0;H<h.length;H++)h[H].listens(l,!0)&&A.push(h[H]);E=A.concat(E)}if(E.length){l==="contextmenu"&&ln(r);var ne=E[0],le={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var _e=ne.getLatLng&&(!ne._radius||ne._radius<=10);le.containerPoint=_e?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(r),le.layerPoint=this.containerPointToLayerPoint(le.containerPoint),le.latlng=_e?ne.getLatLng():this.layerPointToLatLng(le.layerPoint)}for(H=0;H<E.length;H++)if(E[H].fire(l,le,!0),le.originalEvent._stopped||E[H].options.bubblingMouseEvents===!1&&O(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return Jr(this._mapPane)||new U(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var h=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var h=this.getSize()._divideBy(2);return this.project(r,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,h){var y=this._getNewPixelOrigin(h,l);return this.project(r,l)._subtract(y)},_latLngBoundsToNewLayerBounds:function(r,l,h){var y=this._getNewPixelOrigin(h,l);return Q([this.project(r.getSouthWest(),l)._subtract(y),this.project(r.getNorthWest(),l)._subtract(y),this.project(r.getSouthEast(),l)._subtract(y),this.project(r.getNorthEast(),l)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,h){if(!h)return r;var y=this.project(r,l),E=this.getSize().divideBy(2),A=new F(y.subtract(E),y.add(E)),H=this._getBoundsOffset(A,h,l);return Math.abs(H.x)<=1&&Math.abs(H.y)<=1?r:this.unproject(y.add(H),l)},_limitOffset:function(r,l){if(!l)return r;var h=this.getPixelBounds(),y=new F(h.min.add(r),h.max.add(r));return r.add(this._getBoundsOffset(y,l))},_getBoundsOffset:function(r,l,h){var y=Q(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),E=y.min.subtract(r.min),A=y.max.subtract(r.max),H=this._rebound(E.x,-A.x),ne=this._rebound(E.y,-A.y);return new U(H,ne)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),h=this.getMaxZoom(),y=qe.any3d?this.options.zoomSnap:1;return y&&(r=Math.round(r/y)*y),Math.max(l,Math.min(h,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Qt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var h=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var r=this._proxy=yt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var h=Ol,y=this._proxy.style[h];vr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),y===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){en(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();vr(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(l),E=this._getCenterOffset(r)._divideBy(1-1/y);return h.animate!==!0&&!this.getSize().contains(E)?!1:(J(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,h,y){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Qt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ws(r,l){return new Mt(r,l)}var Zn=K.extend({options:{position:"topright"},initialize:function(r){j(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),h=this.getPosition(),y=r._controlCorners[h];return pt(l,"leaflet-control"),h.indexOf("bottom")!==-1?y.insertBefore(l,y.firstChild):y.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(en(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),_s=function(r){return new Zn(r)};Mt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",h=this._controlContainer=yt("div",l+"control-container",this._container);function y(E,A){var H=l+E+" "+l+A;r[E+A]=yt("div",H,h)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)en(this._controlCorners[r]);en(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $l=Zn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,h,y){return h<y?-1:y<h?1:0}},initialize:function(r,l,h){j(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in r)this._addLayer(r[y],y);for(y in l)this._addLayer(l[y],y,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Zn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(g(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Qt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Qt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=yt("div",r),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ei(l),ba(l);var y=this._section=yt("section",r+"-list");h&&(this._map.on("click",this.collapse,this),ft(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=yt("a",r+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),ft(E,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){ln(A),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=yt("div",r+"-base",y),this._separator=yt("div",r+"-separator",y),this._overlaysList=yt("div",r+"-overlays",y),l.appendChild(y)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&g(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,h){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(y,E){return this.options.sortFunction(y.layer,E.layer,y.name,E.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ga(this._baseLayersList),ga(this._overlaysList),this._layerControlInputs=[];var r,l,h,y,E=0;for(h=0;h<this._layers.length;h++)y=this._layers[h],this._addItem(y),l=l||y.overlay,r=r||!y.overlay,E+=y.overlay?0:1;return this.options.hideSingleBase&&(r=r&&E>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(g(r.target)),h=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(r,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=h,y.firstChild},_addItem:function(r){var l=document.createElement("label"),h=this._map.hasLayer(r.layer),y;r.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=h):y=this._createRadioElement("leaflet-base-layers_"+g(this),h),this._layerControlInputs.push(y),y.layerId=g(r.layer),ft(y,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+r.name;var A=document.createElement("span");l.appendChild(A),A.appendChild(y),A.appendChild(E);var H=r.overlay?this._overlaysList:this._baseLayersList;return H.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,h,y=[],E=[];this._handlingClick=!0;for(var A=r.length-1;A>=0;A--)l=r[A],h=this._getLayer(l.layerId).layer,l.checked?y.push(h):l.checked||E.push(h);for(A=0;A<E.length;A++)this._map.hasLayer(E[A])&&this._map.removeLayer(E[A]);for(A=0;A<y.length;A++)this._map.hasLayer(y[A])||this._map.addLayer(y[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,h,y=this._map.getZoom(),E=r.length-1;E>=0;E--)l=r[E],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&y<h.options.minZoom||h.options.maxZoom!==void 0&&y>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ft(r,"click",ln),this.expand();var l=this;setTimeout(function(){Kt(r,"click",ln),l._preventClick=!1})}}),ja=function(r,l,h){return new $l(r,l,h)},No=Zn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",h=yt("div",l+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,h,y,E){var A=yt("a",h,y);return A.innerHTML=r,A.href="#",A.title=l,A.setAttribute("role","button"),A.setAttribute("aria-label",l),Ei(A),ft(A,"click",xr),ft(A,"click",E,this),ft(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";Qt(this._zoomInButton,l),Qt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(pt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(pt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Mt.mergeOptions({zoomControl:!0}),Mt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new No,this.addControl(this.zoomControl))});var gu=function(r){return new No(r)},On=Zn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",h=yt("div",l),y=this.options;return this._addScales(y,l+"-line",h),r.on(y.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),h},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,h){r.metric&&(this._mScale=yt("div",l,h)),r.imperial&&(this._iScale=yt("div",l,h))},_update:function(){var r=this._map,l=r.getSize().y/2,h=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/r)},_updateImperial:function(r){var l=r*3.2808399,h,y,E;l>5280?(h=l/5280,y=this._getRoundNum(h),this._updateScale(this._iScale,y+" mi",y/h)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(r,l,h){r.style.width=Math.round(this.options.maxWidth*h)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),h=r/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),jo=function(r){return new On(r)},Bl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vs=Zn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(qe.inlineSvg?Bl+" ":"")+"Leaflet</a>"},initialize:function(r){j(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=yt("div","leaflet-control-attribution"),Ei(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),r.length&&h.push(r.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});Mt.mergeOptions({attributionControl:!0}),Mt.addInitHook(function(){this.options.attributionControl&&new Vs().addTo(this)});var Uf=function(r){return new Vs(r)};Zn.Layers=$l,Zn.Zoom=No,Zn.Scale=On,Zn.Attribution=Vs,_s.layers=ja,_s.zoom=gu,_s.scale=jo,_s.attribution=Uf;var tr=K.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});tr.addTo=function(r,l){return r.addHandler(l,this),this};var Ul={Events:te},Eo=qe.touch?"touchstart mousedown":"mousedown",wr=me.extend({options:{clickTolerance:3},initialize:function(r,l,h,y){j(this,y),this._element=r,this._dragStartTarget=l||r,this._preventOutline=h},enable:function(){this._enabled||(ft(this._dragStartTarget,Eo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wr._dragging===this&&this.finishDrag(!0),Kt(this._dragStartTarget,Eo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!wo(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){wr._dragging===this&&this.finishDrag();return}if(!(wr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(wr._dragging=this,this._preventOutline&&So(this._element),xa(),Dt(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,h=es(this._element);this._startPoint=new U(l.clientX,l.clientY),this._startPos=Jr(this._element),this._parentScale=Rr(h);var y=r.type==="mousedown";ft(document,y?"mousemove":"touchmove",this._onMove,this),ft(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,h=new U(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,ln(r),this._moved||(this.fire("dragstart"),this._moved=!0,pt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),hn(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Qt(document.body,"leaflet-dragging"),this._lastTarget&&(Qt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Kt(document,"mousemove touchmove",this._onMove,this),Kt(document,"mouseup touchend touchcancel",this._onUp,this),wa(),bo();var l=this._moved&&this._moving;this._moving=!1,wr._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Hl(r,l,h){var y,E=[1,4,2,8],A,H,ne,le,_e,Ue,rt,wt;for(A=0,Ue=r.length;A<Ue;A++)r[A]._code=Zs(r[A],l);for(ne=0;ne<4;ne++){for(rt=E[ne],y=[],A=0,Ue=r.length,H=Ue-1;A<Ue;H=A++)le=r[A],_e=r[H],le._code&rt?_e._code&rt||(wt=Ca(_e,le,rt,l,h),wt._code=Zs(wt,l),y.push(wt)):(_e._code&rt&&(wt=Ca(_e,le,rt,l,h),wt._code=Zs(wt,l),y.push(wt)),y.push(le));r=y}return r}function vu(r,l){var h,y,E,A,H,ne,le,_e,Ue;if(!r||r.length===0)throw new Error("latlngs not passed");nr(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var rt=Y([0,0]),wt=Re(r),En=wt.getNorthWest().distanceTo(wt.getSouthWest())*wt.getNorthEast().distanceTo(wt.getNorthWest());En<1700&&(rt=Wl(r));var wn=r.length,Gn=[];for(h=0;h<wn;h++){var In=Y(r[h]);Gn.push(l.project(Y([In.lat-rt.lat,In.lng-rt.lng])))}for(ne=le=_e=0,h=0,y=wn-1;h<wn;y=h++)E=Gn[h],A=Gn[y],H=E.y*A.x-A.y*E.x,le+=(E.x+A.x)*H,_e+=(E.y+A.y)*H,ne+=H*3;ne===0?Ue=Gn[0]:Ue=[le/ne,_e/ne];var Oo=l.unproject(oe(Ue));return Y([Oo.lat+rt.lat,Oo.lng+rt.lng])}function Wl(r){for(var l=0,h=0,y=0,E=0;E<r.length;E++){var A=Y(r[E]);l+=A.lat,h+=A.lng,y++}return Y([l/y,h/y])}var Hf={__proto__:null,clipPolygon:Hl,polygonCenter:vu,centroid:Wl};function Ea(r,l){if(!l||!r.length)return r.slice();var h=l*l;return r=Zf(r,h),r=Vf(r,h),r}function yu(r,l,h){return Math.sqrt(qs(r,l,h,!0))}function Wf(r,l,h){return qs(r,l,h)}function Vf(r,l){var h=r.length,y=typeof Uint8Array<"u"?Uint8Array:Array,E=new y(h);E[0]=E[h-1]=1,Vl(r,E,l,0,h-1);var A,H=[];for(A=0;A<h;A++)E[A]&&H.push(r[A]);return H}function Vl(r,l,h,y,E){var A=0,H,ne,le;for(ne=y+1;ne<=E-1;ne++)le=qs(r[ne],r[y],r[E],!0),le>A&&(H=ne,A=le);A>h&&(l[H]=1,Vl(r,l,h,y,H),Vl(r,l,h,H,E))}function Zf(r,l){for(var h=[r[0]],y=1,E=0,A=r.length;y<A;y++)qf(r[y],r[E])>l&&(h.push(r[y]),E=y);return E<A-1&&h.push(r[A-1]),h}var Zl;function xu(r,l,h,y,E){var A=y?Zl:Zs(r,h),H=Zs(l,h),ne,le,_e;for(Zl=H;;){if(!(A|H))return[r,l];if(A&H)return!1;ne=A||H,le=Ca(r,l,ne,h,E),_e=Zs(le,h),ne===A?(r=le,A=_e):(l=le,H=_e)}}function Ca(r,l,h,y,E){var A=l.x-r.x,H=l.y-r.y,ne=y.min,le=y.max,_e,Ue;return h&8?(_e=r.x+A*(le.y-r.y)/H,Ue=le.y):h&4?(_e=r.x+A*(ne.y-r.y)/H,Ue=ne.y):h&2?(_e=le.x,Ue=r.y+H*(le.x-r.x)/A):h&1&&(_e=ne.x,Ue=r.y+H*(ne.x-r.x)/A),new U(_e,Ue,E)}function Zs(r,l){var h=0;return r.x<l.min.x?h|=1:r.x>l.max.x&&(h|=2),r.y<l.min.y?h|=4:r.y>l.max.y&&(h|=8),h}function qf(r,l){var h=l.x-r.x,y=l.y-r.y;return h*h+y*y}function qs(r,l,h,y){var E=l.x,A=l.y,H=h.x-E,ne=h.y-A,le=H*H+ne*ne,_e;return le>0&&(_e=((r.x-E)*H+(r.y-A)*ne)/le,_e>1?(E=h.x,A=h.y):_e>0&&(E+=H*_e,A+=ne*_e)),H=r.x-E,ne=r.y-A,y?H*H+ne*ne:new U(E,A)}function nr(r){return!M(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function wu(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nr(r)}function _u(r,l){var h,y,E,A,H,ne,le,_e;if(!r||r.length===0)throw new Error("latlngs not passed");nr(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ue=Y([0,0]),rt=Re(r),wt=rt.getNorthWest().distanceTo(rt.getSouthWest())*rt.getNorthEast().distanceTo(rt.getNorthWest());wt<1700&&(Ue=Wl(r));var En=r.length,wn=[];for(h=0;h<En;h++){var Gn=Y(r[h]);wn.push(l.project(Y([Gn.lat-Ue.lat,Gn.lng-Ue.lng])))}for(h=0,y=0;h<En-1;h++)y+=wn[h].distanceTo(wn[h+1])/2;if(y===0)_e=wn[0];else for(h=0,A=0;h<En-1;h++)if(H=wn[h],ne=wn[h+1],E=H.distanceTo(ne),A+=E,A>y){le=(A-y)/E,_e=[ne.x-le*(ne.x-H.x),ne.y-le*(ne.y-H.y)];break}var In=l.unproject(oe(_e));return Y([In.lat+Ue.lat,In.lng+Ue.lng])}var bu={__proto__:null,simplify:Ea,pointToSegmentDistance:yu,closestPointOnSegment:Wf,clipSegment:xu,_getEdgeIntersection:Ca,_getBitCode:Zs,_sqClosestPointOnSegment:qs,isFlat:nr,_flat:wu,polylineCenter:_u},ql={project:function(r){return new U(r.lng,r.lat)},unproject:function(r){return new Pe(r.y,r.x)},bounds:new F([-180,-90],[180,90])},Gl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new F([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,h=this.R,y=r.lat*l,E=this.R_MINOR/h,A=Math.sqrt(1-E*E),H=A*Math.sin(y),ne=Math.tan(Math.PI/4-y/2)/Math.pow((1-H)/(1+H),A/2);return y=-h*Math.log(Math.max(ne,1e-10)),new U(r.lng*l*h,y)},unproject:function(r){for(var l=180/Math.PI,h=this.R,y=this.R_MINOR/h,E=Math.sqrt(1-y*y),A=Math.exp(-r.y/h),H=Math.PI/2-2*Math.atan(A),ne=0,le=.1,_e;ne<15&&Math.abs(le)>1e-7;ne++)_e=E*Math.sin(H),_e=Math.pow((1-_e)/(1+_e),E/2),le=Math.PI/2-2*Math.atan(A*_e)-H,H+=le;return new Pe(H*l,r.x*l/h)}},Gf={__proto__:null,LonLat:ql,Mercator:Gl,SphericalMercator:Ve},Yf=c({},ge,{code:"EPSG:3395",projection:Gl,transformation:function(){var r=.5/(Math.PI*Gl.R);return Je(r,.5,-r,.5)}()}),Su=c({},ge,{code:"EPSG:4326",projection:ql,transformation:Je(1/180,1,-1/180,.5)}),Kf=c({},B,{projection:ql,transformation:Je(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var h=l.lng-r.lng,y=l.lat-r.lat;return Math.sqrt(h*h+y*y)},infinite:!0});B.Earth=ge,B.EPSG3395=Yf,B.EPSG3857=Lt,B.EPSG900913=Wt,B.EPSG4326=Su,B.Simple=Kf;var _r=me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[g(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[g(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Mt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=g(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=g(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return g(r)in this._layers},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},_addLayers:function(r){r=r?M(r)?r:[r]:[];for(var l=0,h=r.length;l<h;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[g(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=g(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,h=this._getZoomSpan();for(var y in this._zoomBoundLayers){var E=this._zoomBoundLayers[y].options;r=E.minZoom===void 0?r:Math.min(r,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bs=_r.extend({initialize:function(r,l){j(this,l),this._layers={};var h,y;if(r)for(h=0,y=r.length;h<y;h++)this.addLayer(r[h])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),h,y;for(h in this._layers)y=this._layers[h],y[r]&&y[r].apply(y,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var h in this._layers)r.call(l,this._layers[h]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return g(r)}}),Ti=function(r,l){return new bs(r,l)},ts=bs.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),bs.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),bs.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ye;for(var l in this._layers){var h=this._layers[l];r.extend(h.getBounds?h.getBounds():h.getLatLng())}return r}}),Nu=function(r,l){return new ts(r,l)},Gs=K.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){j(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var h=this._getIconUrl(r);if(!h){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(y,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(r,l){var h=this.options,y=h[l+"Size"];typeof y=="number"&&(y=[y,y]);var E=oe(y),A=oe(l==="shadow"&&h.shadowAnchor||h.iconAnchor||E&&E.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(h.className||""),A&&(r.style.marginLeft=-A.x+"px",r.style.marginTop=-A.y+"px"),E&&(r.style.width=E.x+"px",r.style.height=E.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return qe.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function ju(r){return new Gs(r)}var Co=Gs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Co.imagePath!="string"&&(Co.imagePath=this._detectIconPath()),(this.options.imagePath||Co.imagePath)+Gs.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(h,y,E){var A=y.exec(h);return A&&A[E]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=yt("div","leaflet-default-icon-path",document.body),l=bi(r,"background-image")||bi(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),Yl=tr.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new wr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),pt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Qt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,h=l._map,y=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,A=Jr(l._icon),H=h.getPixelBounds(),ne=h.getPixelOrigin(),le=Q(H.min._subtract(ne).add(E),H.max._subtract(ne).subtract(E));if(!le.contains(A)){var _e=oe((Math.max(le.max.x,A.x)-le.max.x)/(H.max.x-le.max.x)-(Math.min(le.min.x,A.x)-le.min.x)/(H.min.x-le.min.x),(Math.max(le.max.y,A.y)-le.max.y)/(H.max.y-le.max.y)-(Math.min(le.min.y,A.y)-le.min.y)/(H.min.y-le.min.y)).multiplyBy(y);h.panBy(_e,{animate:!1}),this._draggable._newPos._add(_e),this._draggable._startPos._add(_e),hn(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=J(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(de(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,h=l._shadow,y=Jr(l._icon),E=l._map.layerPointToLatLng(y);h&&hn(h,y),l._latlng=E,r.latlng=E,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){de(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),ns=_r.extend({options:{icon:new Co,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){j(this,l),this._latlng=Y(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=Y(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=r.icon.createIcon(this._icon),y=!1;h!==this._icon&&(this._icon&&this._removeIcon(),y=!0,r.title&&(h.title=r.title),h.tagName==="IMG"&&(h.alt=r.alt||"")),pt(h,l),r.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ft(h,"focus",this._panOnFocus,this);var E=r.icon.createShadow(this._shadow),A=!1;E!==this._shadow&&(this._removeShadow(),A=!0),E&&(pt(E,l),E.alt=""),this._shadow=E,r.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&A&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(this._icon,"focus",this._panOnFocus,this),en(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&en(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&hn(this._icon,r),this._shadow&&hn(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Yl)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Yl(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Dn(this._icon,r),this._shadow&&Dn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,h=l.iconSize?oe(l.iconSize):oe(0,0),y=l.iconAnchor?oe(l.iconAnchor):oe(0,0);r.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:h.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xf(r,l){return new ns(r,l)}var Ss=_r.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return j(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Pa=Ss.extend({options:{fill:!0,radius:10},initialize:function(r,l){j(this,l),this._latlng=Y(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=Y(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return Ss.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,h=this._clickTolerance(),y=[r+h,l+h];this._pxBounds=new F(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Eu(r,l){return new Pa(r,l)}var Ta=Pa.extend({initialize:function(r,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),j(this,l),this._latlng=Y(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Ss.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,h=this._map,y=h.options.crs;if(y.distance===ge.distance){var E=Math.PI/180,A=this._mRadius/ge.R/E,H=h.project([l+A,r]),ne=h.project([l-A,r]),le=H.add(ne).divideBy(2),_e=h.unproject(le).lat,Ue=Math.acos((Math.cos(A*E)-Math.sin(l*E)*Math.sin(_e*E))/(Math.cos(l*E)*Math.cos(_e*E)))/E;(isNaN(Ue)||Ue===0)&&(Ue=A/Math.cos(Math.PI/180*l)),this._point=le.subtract(h.getPixelOrigin()),this._radius=isNaN(Ue)?0:le.x-h.project([_e,r-Ue]).x,this._radiusY=le.y-H.y}else{var rt=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(rt).x}this._updateBounds()}});function ki(r,l,h){return new Ta(r,l,h)}var qn=Ss.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){j(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,h=null,y=qs,E,A,H=0,ne=this._parts.length;H<ne;H++)for(var le=this._parts[H],_e=1,Ue=le.length;_e<Ue;_e++){E=le[_e-1],A=le[_e];var rt=y(r,E,A,!0);rt<l&&(l=rt,h=y(r,E,A))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _u(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=Y(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ye,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return nr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],h=nr(r),y=0,E=r.length;y<E;y++)h?(l[y]=Y(r[y]),this._bounds.extend(l[y])):l[y]=this._convertLatLngs(r[y]);return l},_project:function(){var r=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new U(r,r);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,h){var y=r[0]instanceof Pe,E=r.length,A,H;if(y){for(H=[],A=0;A<E;A++)H[A]=this._map.latLngToLayerPoint(r[A]),h.extend(H[A]);l.push(H)}else for(A=0;A<E;A++)this._projectLatlngs(r[A],l,h)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,y,E,A,H,ne,le;for(h=0,E=0,A=this._rings.length;h<A;h++)for(le=this._rings[h],y=0,H=le.length;y<H-1;y++)ne=xu(le[y],le[y+1],r,y,!0),ne&&(l[E]=l[E]||[],l[E].push(ne[0]),(ne[1]!==le[y+1]||y===H-2)&&(l[E].push(ne[1]),E++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,h=0,y=r.length;h<y;h++)r[h]=Ea(r[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var h,y,E,A,H,ne,le=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(h=0,A=this._parts.length;h<A;h++)for(ne=this._parts[h],y=0,H=ne.length,E=H-1;y<H;E=y++)if(!(!l&&y===0)&&yu(r,ne[E],ne[y])<=le)return!0;return!1}});function Qf(r,l){return new qn(r,l)}qn._flat=wu;var rs=qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vu(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=qn.prototype._convertLatLngs.call(this,r),h=l.length;return h>=2&&l[0]instanceof Pe&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(r){qn.prototype._setLatLngs.call(this,r),nr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,h=new U(l,l);if(r=new F(r.min.subtract(h),r.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,E=this._rings.length,A;y<E;y++)A=Hl(this._rings[y],r,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,h,y,E,A,H,ne,le,_e;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(A=0,le=this._parts.length;A<le;A++)for(h=this._parts[A],H=0,_e=h.length,ne=_e-1;H<_e;ne=H++)y=h[H],E=h[ne],y.y>r.y!=E.y>r.y&&r.x<(E.x-y.x)*(r.y-y.y)/(E.y-y.y)+y.x&&(l=!l);return l||qn.prototype._containsPoint.call(this,r,!0)}});function Jf(r,l){return new rs(r,l)}var Ar=ts.extend({initialize:function(r,l){j(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=M(r)?r:r.features,h,y,E;if(l){for(h=0,y=l.length;h<y;h++)E=l[h],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var A=this.options;if(A.filter&&!A.filter(r))return this;var H=Po(r,A);return H?(H.feature=Aa(r),H.defaultOptions=H.options,this.resetStyle(H),A.onEachFeature&&A.onEachFeature(r,H),this.addLayer(H)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=c({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function Po(r,l){var h=r.type==="Feature"?r.geometry:r,y=h?h.coordinates:null,E=[],A=l&&l.pointToLayer,H=l&&l.coordsToLatLng||Ma,ne,le,_e,Ue;if(!y&&!h)return null;switch(h.type){case"Point":return ne=H(y),ka(A,r,ne,l);case"MultiPoint":for(_e=0,Ue=y.length;_e<Ue;_e++)ne=H(y[_e]),E.push(ka(A,r,ne,l));return new ts(E);case"LineString":case"MultiLineString":return le=Mi(y,h.type==="LineString"?0:1,H),new qn(le,l);case"Polygon":case"MultiPolygon":return le=Mi(y,h.type==="Polygon"?1:2,H),new rs(le,l);case"GeometryCollection":for(_e=0,Ue=h.geometries.length;_e<Ue;_e++){var rt=Po({geometry:h.geometries[_e],type:"Feature",properties:r.properties},l);rt&&E.push(rt)}return new ts(E);case"FeatureCollection":for(_e=0,Ue=h.features.length;_e<Ue;_e++){var wt=Po(h.features[_e],l);wt&&E.push(wt)}return new ts(E);default:throw new Error("Invalid GeoJSON object.")}}function ka(r,l,h,y){return r?r(l,h):new ns(h,y&&y.markersInheritOptions&&y)}function Ma(r){return new Pe(r[1],r[0],r[2])}function Mi(r,l,h){for(var y=[],E=0,A=r.length,H;E<A;E++)H=l?Mi(r[E],l-1,h):(h||Ma)(r[E]),y.push(H);return y}function Ra(r,l){return r=Y(r),r.alt!==void 0?[N(r.lng,l),N(r.lat,l),N(r.alt,l)]:[N(r.lng,l),N(r.lat,l)]}function La(r,l,h,y){for(var E=[],A=0,H=r.length;A<H;A++)E.push(l?La(r[A],nr(r[A])?0:l-1,h,y):Ra(r[A],y));return!l&&h&&E.length>0&&E.push(E[0].slice()),E}function To(r,l){return r.feature?c({},r.feature,{geometry:l}):Aa(l)}function Aa(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Kl={toGeoJSON:function(r){return To(this,{type:"Point",coordinates:Ra(this.getLatLng(),r)})}};ns.include(Kl),Ta.include(Kl),Pa.include(Kl),qn.include({toGeoJSON:function(r){var l=!nr(this._latlngs),h=La(this._latlngs,l?1:0,!1,r);return To(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),rs.include({toGeoJSON:function(r){var l=!nr(this._latlngs),h=l&&!nr(this._latlngs[0]),y=La(this._latlngs,h?2:l?1:0,!0,r);return l||(y=[y]),To(this,{type:(h?"Multi":"")+"Polygon",coordinates:y})}}),bs.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(r).geometry.coordinates)}),To(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var h=l==="GeometryCollection",y=[];return this.eachLayer(function(E){if(E.toGeoJSON){var A=E.toGeoJSON(r);if(h)y.push(A.geometry);else{var H=Aa(A);H.type==="FeatureCollection"?y.push.apply(y,H.features):y.push(H)}}}),h?To(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Cu(r,l){return new Ar(r,l)}var br=Cu,Ns=_r.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,h){this._url=r,this._bounds=Re(l),j(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){en(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&xo(this._image),this},bringToBack:function(){return this._map&&Qr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Re(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:yt("img");if(pt(l,"leaflet-image-layer"),this._zoomAnimated&&pt(l,"leaflet-zoom-animated"),this.options.className&&pt(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;vr(this._image,h,l)},_reset:function(){var r=this._image,l=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();hn(r,l.min),r.style.width=h.x+"px",r.style.height=h.y+"px"},_updateOpacity:function(){Dn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),Pu=function(r,l,h){return new Ns(r,l,h)},Xl=Ns.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:yt("video");if(pt(l,"leaflet-image-layer"),this._zoomAnimated&&pt(l,"leaflet-zoom-animated"),this.options.className&&pt(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onloadeddata=f(this.fire,this,"load"),r){for(var h=l.getElementsByTagName("source"),y=[],E=0;E<h.length;E++)y.push(h[E].src);this._url=h.length>0?y:[l.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var H=yt("source");H.src=this._url[A],l.appendChild(H)}}});function Tu(r,l,h){return new Xl(r,l,h)}var Ql=Ns.extend({_initImage:function(){var r=this._image=this._url;pt(r,"leaflet-image-layer"),this._zoomAnimated&&pt(r,"leaflet-zoom-animated"),this.options.className&&pt(r,this.options.className),r.onselectstart=b,r.onmousemove=b}});function Jl(r,l,h){return new Ql(r,l,h)}var Dr=_r.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof Pe||M(r))?(this._latlng=Y(r),j(this,l)):(j(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Dn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Dn(this._container,1),this.bringToFront(),this.options.interactive&&(pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Dn(this._container,0),this._removeTimeout=setTimeout(f(en,void 0,this._container),200)):en(this._container),this.options.interactive&&(Qt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Y(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xo(this._container),this},bringToBack:function(){return this._map&&Qr(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof ts){l=null;var h=this._source._layers;for(var y in h)if(h[y]._map){l=h[y];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=oe(this.options.offset),h=this._getAnchor();this._zoomAnimated?hn(this._container,r.add(h)):l=l.add(r).add(h);var y=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=y+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});Mt.include({_initOverlay:function(r,l,h,y){var E=l;return E instanceof r||(E=new r(y).setContent(l)),h&&E.setLatLng(h),E}}),_r.include({_initOverlay:function(r,l,h,y){var E=h;return E instanceof r?(j(E,y),E._source=this):(E=l&&!y?l:new r(y,this),E.setContent(h)),E}});var Da=Dr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Dr.prototype.openOn.call(this,r)},onAdd:function(r){Dr.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ss||this._source.on("preclick",Lr))},onRemove:function(r){Dr.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ss||this._source.off("preclick",Lr))},getEvents:function(){var r=Dr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=yt("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=yt("div",r+"-content-wrapper",l);if(this._contentNode=yt("div",r+"-content",h),Ei(l),ba(this._contentNode),ft(l,"contextmenu",Lr),this._tipContainer=yt("div",r+"-tip-container",l),this._tip=yt("div",r+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=yt("a",r+"-close-button",l);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',ft(y,"click",function(E){ln(E),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var h=r.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var y=r.offsetHeight,E=this.options.maxHeight,A="leaflet-popup-scrolled";E&&y>E?(l.height=E+"px",pt(r,A)):Qt(r,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),h=this._getAnchor();hn(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(bi(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,y=this._containerWidth,E=new U(this._containerLeft,-h-this._containerBottom);E._add(Jr(this._container));var A=r.layerPointToContainerPoint(E),H=oe(this.options.autoPanPadding),ne=oe(this.options.autoPanPaddingTopLeft||H),le=oe(this.options.autoPanPaddingBottomRight||H),_e=r.getSize(),Ue=0,rt=0;A.x+y+le.x>_e.x&&(Ue=A.x+y-_e.x+le.x),A.x-Ue-ne.x<0&&(Ue=A.x-ne.x),A.y+h+le.y>_e.y&&(rt=A.y+h-_e.y+le.y),A.y-rt-ne.y<0&&(rt=A.y-ne.y),(Ue||rt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Ue,rt]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ko=function(r,l){return new Da(r,l)};Mt.mergeOptions({closePopupOnClick:!0}),Mt.include({openPopup:function(r,l,h){return this._initOverlay(Da,r,l,h).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),_r.include({bindPopup:function(r,l){return this._popup=this._initOverlay(Da,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof ts||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){xr(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof Ss)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Mo=Dr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Dr.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Dr.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Dr.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=yt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,h,y=this._map,E=this._container,A=y.latLngToContainerPoint(y.getCenter()),H=y.layerPointToContainerPoint(r),ne=this.options.direction,le=E.offsetWidth,_e=E.offsetHeight,Ue=oe(this.options.offset),rt=this._getAnchor();ne==="top"?(l=le/2,h=_e):ne==="bottom"?(l=le/2,h=0):ne==="center"?(l=le/2,h=_e/2):ne==="right"?(l=0,h=_e/2):ne==="left"?(l=le,h=_e/2):H.x<A.x?(ne="right",l=0,h=_e/2):(ne="left",l=le+(Ue.x+rt.x)*2,h=_e/2),r=r.subtract(oe(l,h,!0)).add(Ue).add(rt),Qt(E,"leaflet-tooltip-right"),Qt(E,"leaflet-tooltip-left"),Qt(E,"leaflet-tooltip-top"),Qt(E,"leaflet-tooltip-bottom"),pt(E,"leaflet-tooltip-"+ne),hn(E,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Dn(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ri=function(r,l){return new Mo(r,l)};Mt.include({openTooltip:function(r,l,h){return this._initOverlay(Mo,r,l,h).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),_r.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Mo,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof ts||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(ft(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ft(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,h,y;this._tooltip.options.sticky&&r.originalEvent&&(h=this._map.mouseEventToContainerPoint(r.originalEvent),y=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(l)}});var Oa=Gs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ga(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var y=oe(h.bgPos);l.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function ku(r){return new Oa(r)}Gs.Default=Co;var js=_r.extend({options:{tileSize:256,opacity:1,updateWhenIdle:qe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){j(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),en(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Qr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof U?r:new U(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,h=-r(-1/0,1/0),y=0,E=l.length,A;y<E;y++)A=l[y].style.zIndex,l[y]!==this._container&&A&&(h=r(h,+A));isFinite(h)&&(this.options.zIndex=h+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!qe.ielt9){Dn(this._container,this.options.opacity);var r=+new Date,l=!1,h=!1;for(var y in this._tiles){var E=this._tiles[y];if(!(!E.current||!E.loaded)){var A=Math.min(1,(r-E.loaded)/200);Dn(E.el,A),A<1?l=!0:(E.active?h=!0:this._onOpaqueTile(E),E.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(de(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=yt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===r?(this._levels[h].el.style.zIndex=l-Math.abs(r-h),this._onUpdateLevel(h)):(en(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var y=this._levels[r],E=this._map;return y||(y=this._levels[r]={},y.el=yt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=l,y.origin=E.project(E.unproject(E.getPixelOrigin()),r).round(),y.zoom=r,this._setZoomTransform(y,E.getCenter(),E.getZoom()),b(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var r,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var y=l.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)en(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,h,y){var E=Math.floor(r/2),A=Math.floor(l/2),H=h-1,ne=new U(+E,+A);ne.z=+H;var le=this._tileCoordsToKey(ne),_e=this._tiles[le];return _e&&_e.active?(_e.retain=!0,!0):(_e&&_e.loaded&&(_e.retain=!0),H>y?this._retainParent(E,A,H,y):!1)},_retainChildren:function(r,l,h,y){for(var E=2*r;E<2*r+2;E++)for(var A=2*l;A<2*l+2;A++){var H=new U(E,A);H.z=h+1;var ne=this._tileCoordsToKey(H),le=this._tiles[ne];if(le&&le.active){le.retain=!0;continue}else le&&le.loaded&&(le.retain=!0);h+1<y&&this._retainChildren(E,A,h+1,y)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,h,y){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var A=this.options.updateWhenZooming&&E!==this._tileZoom;(!y||A)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(r),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],r,l)},_setZoomTransform:function(r,l,h){var y=this._map.getZoomScale(h,r.zoom),E=r.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(l,h)).round();qe.any3d?vr(r.el,E,y):hn(r.el,E)},_resetGrid:function(){var r=this._map,l=r.options.crs,h=this._tileSize=this.getTileSize(),y=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],y).x/h.x),Math.ceil(r.project([0,l.wrapLng[1]],y).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],y).y/h.x),Math.ceil(r.project([l.wrapLat[1],0],y).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),y=l.getZoomScale(h,this._tileZoom),E=l.project(r,this._tileZoom).floor(),A=l.getSize().divideBy(y*2);return new F(E.subtract(A),E.add(A))},_update:function(r){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(r),E=this._pxBoundsToTileRange(y),A=E.getCenter(),H=[],ne=this.options.keepBuffer,le=new F(E.getBottomLeft().subtract([ne,-ne]),E.getTopRight().add([ne,-ne]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var _e in this._tiles){var Ue=this._tiles[_e].coords;(Ue.z!==this._tileZoom||!le.contains(new U(Ue.x,Ue.y)))&&(this._tiles[_e].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(r,h);return}for(var rt=E.min.y;rt<=E.max.y;rt++)for(var wt=E.min.x;wt<=E.max.x;wt++){var En=new U(wt,rt);if(En.z=this._tileZoom,!!this._isValidTile(En)){var wn=this._tiles[this._tileCoordsToKey(En)];wn?wn.current=!0:H.push(En)}}if(H.sort(function(In,Oo){return In.distanceTo(A)-Oo.distanceTo(A)}),H.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Gn=document.createDocumentFragment();for(wt=0;wt<H.length;wt++)this._addTile(H[wt],Gn);this._level.el.appendChild(Gn)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(r.x<h.min.x||r.x>h.max.x)||!l.wrapLat&&(r.y<h.min.y||r.y>h.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(r);return Re(this.options.bounds).overlaps(y)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,h=this.getTileSize(),y=r.scaleBy(h),E=y.add(h),A=l.unproject(y,r.z),H=l.unproject(E,r.z);return[A,H]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),h=new ye(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),h=new U(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(r){var l=this._tiles[r];l&&(en(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){pt(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=b,r.onmousemove=b,qe.ielt9&&this.options.opacity<1&&Dn(r,this.options.opacity)},_addTile:function(r,l){var h=this._getTilePos(r),y=this._tileCoordsToKey(r),E=this.createTile(this._wrapCoords(r),f(this._tileReady,this,r));this._initTile(E),this.createTile.length<2&&J(f(this._tileReady,this,r,null,E)),hn(E,h),this._tiles[y]={el:E,coords:r,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:r})},_tileReady:function(r,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:r});var y=this._tileCoordsToKey(r);h=this._tiles[y],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Dn(h.el,0),de(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(pt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),qe.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new U(this._wrapX?_(r.x,this._wrapX):r.x,this._wrapY?_(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new F(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Ro(r){return new js(r)}var Es=js.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=j(this,l),l.detectRetina&&qe.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var h=document.createElement("img");return ft(h,"load",f(this._tileOnLoad,this,l,h)),ft(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(r),h},getTileUrl:function(r){var l={r:qe.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=h),l["-y"]=h}return D(this._url,c(l,this.options))},_tileOnLoad:function(r,l){qe.ielt9?setTimeout(f(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,h){var y=this.options.errorTileUrl;y&&l.getAttribute("src")!==y&&(l.src=y),r(h,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,y=this.options.zoomOffset;return h&&(r=l-r),r+y},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=b,l.onerror=b,!l.complete)){l.src=I;var h=this._tiles[r].coords;en(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",I),js.prototype._removeTile.call(this,r)},_tileReady:function(r,l,h){if(!(!this._map||h&&h.getAttribute("src")===I))return js.prototype._tileReady.call(this,r,l,h)}});function ec(r,l){return new Es(r,l)}var Li=Es.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var h=c({},this.defaultWmsParams);for(var y in l)y in this.options||(h[y]=l[y]);l=j(this,l);var E=l.detectRetina&&qe.retina?2:1,A=this.getTileSize();h.width=A.x*E,h.height=A.y*E,this.wmsParams=h},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Es.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),h=this._crs,y=Q(h.project(l[0]),h.project(l[1])),E=y.min,A=y.max,H=(this._wmsVersion>=1.3&&this._crs===Su?[E.y,E.x,A.y,A.x]:[E.x,E.y,A.x,A.y]).join(","),ne=Es.prototype.getTileUrl.call(this,r);return ne+C(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+H},setParams:function(r,l){return c(this.wmsParams,r),l||this.redraw(),this}});function Mu(r,l){return new Li(r,l)}Es.WMS=Li,ec.wms=Mu;var Or=_r.extend({options:{padding:.1},initialize:function(r){j(this,r),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var h=this._map.getZoomScale(l,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),A=y.multiplyBy(-h).add(E).subtract(this._map._getNewPixelOrigin(r,l));qe.any3d?vr(this._container,A,h):hn(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new F(h,h.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),tc=Or.extend({options:{tolerance:0},getEvents:function(){var r=Or.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Or.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ft(r,"mousemove",this._onMouseMove,this),ft(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ft(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){de(this._redrawRequest),delete this._ctx,en(this._container),Kt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Or.prototype._update.call(this);var r=this._bounds,l=this._container,h=r.getSize(),y=qe.retina?2:1;hn(l,r.min),l.width=y*h.x,l.height=y*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",qe.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Or.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[g(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,h=l.next,y=l.prev;h?h.prev=y:this._drawLast=y,y?y.next=h:this._drawFirst=h,delete r._order,delete this._layers[g(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),h=[],y,E;for(E=0;E<l.length;E++){if(y=Number(l[E]),isNaN(y))return;h.push(y)}r.options._dashArray=h}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)r=y.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var h,y,E,A,H=r._parts,ne=H.length,le=this._ctx;if(ne){for(le.beginPath(),h=0;h<ne;h++){for(y=0,E=H[h].length;y<E;y++)A=H[h][y],le[y?"lineTo":"moveTo"](A.x,A.y);l&&le.closePath()}this._fillStroke(le,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,h=this._ctx,y=Math.max(Math.round(r._radius),1),E=(Math.max(Math.round(r._radiusY),1)||y)/y;E!==1&&(h.save(),h.scale(1,E)),h.beginPath(),h.arc(l.x,l.y/E,y,0,Math.PI*2,!1),E!==1&&h.restore(),this._fillStroke(h,r)}},_fillStroke:function(r,l){var h=l.options;h.fill&&(r.globalAlpha=h.fillOpacity,r.fillStyle=h.fillColor||h.color,r.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=h.opacity,r.lineWidth=h.weight,r.strokeStyle=h.color,r.lineCap=h.lineCap,r.lineJoin=h.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),h,y,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(h))&&(y=h);this._fireEvent(y?[y]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(Qt(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var h,y,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(y=h);y!==this._hoveredLayer&&(this._handleMouseOut(r),y&&(pt(this._container,"leaflet-interactive"),this._fireEvent([y],r,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,h){this._map._fireDOMEvent(l,h||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var h=l.next,y=l.prev;if(h)h.prev=y;else return;y?y.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var h=l.next,y=l.prev;if(y)y.next=h;else return;h?h.prev=y:y&&(this._drawLast=y),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function nc(r){return qe.canvas?new tc(r):null}var Lo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ru={_initContainer:function(){this._container=yt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Or.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=Lo("shape");pt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=Lo("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[g(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;en(l),r.removeInteractiveTarget(l),delete this._layers[g(r)]},_updateStyle:function(r){var l=r._stroke,h=r._fill,y=r.options,E=r._container;E.stroked=!!y.stroke,E.filled=!!y.fill,y.stroke?(l||(l=r._stroke=Lo("stroke")),E.appendChild(l),l.weight=y.weight+"px",l.color=y.color,l.opacity=y.opacity,y.dashArray?l.dashStyle=M(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=y.lineCap.replace("butt","flat"),l.joinstyle=y.lineJoin):l&&(E.removeChild(l),r._stroke=null),y.fill?(h||(h=r._fill=Lo("fill")),E.appendChild(h),h.color=y.fillColor||y.color,h.opacity=y.fillOpacity):h&&(E.removeChild(h),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),h=Math.round(r._radius),y=Math.round(r._radiusY||h);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+y+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){xo(r._container)},_bringToBack:function(r){Qr(r._container)}},Sr=qe.vml?Lo:xn,Ys=Or.extend({_initContainer:function(){this._container=Sr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Sr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){en(this._container),Kt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Or.prototype._update.call(this);var r=this._bounds,l=r.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),hn(h,r.min),h.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=Sr("path");r.options.className&&pt(l,r.options.className),r.options.interactive&&pt(l,"leaflet-interactive"),this._updateStyle(r),this._layers[g(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){en(r._path),r.removeInteractiveTarget(r._path),delete this._layers[g(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,h=r.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,X(r._parts,l))},_updateCircle:function(r){var l=r._point,h=Math.max(Math.round(r._radius),1),y=Math.max(Math.round(r._radiusY),1)||h,E="a"+h+","+y+" 0 1,0 ",A=r._empty()?"M0 0":"M"+(l.x-h)+","+l.y+E+h*2+",0 "+E+-h*2+",0 ";this._setPath(r,A)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){xo(r._path)},_bringToBack:function(r){Qr(r._path)}});qe.vml&&Ys.include(Ru);function Ia(r){return qe.svg||qe.vml?new Ys(r):null}Mt.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&nc(r)||Ia(r)}});var Lu=rs.extend({initialize:function(r,l){rs.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Re(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function eh(r,l){return new Lu(r,l)}Ys.create=Sr,Ys.pointsToPath=X,Ar.geometryToLayer=Po,Ar.coordsToLatLng=Ma,Ar.coordsToLatLngs=Mi,Ar.latLngToCoords=Ra,Ar.latLngsToCoords=La,Ar.getFeature=To,Ar.asFeature=Aa,Mt.mergeOptions({boxZoom:!0});var Ao=tr.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ft(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){en(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dt(),xa(),this._startPoint=this._map.mouseEventToContainerPoint(r),ft(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=yt("div","leaflet-zoom-box",this._container),pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new F(this._point,this._startPoint),h=l.getSize();hn(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(en(this._box),Qt(this._container,"leaflet-crosshair")),bo(),wa(),Kt(document,{contextmenu:xr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Mt.addInitHook("addHandler","boxZoom",Ao),Mt.mergeOptions({doubleClickZoom:!0});var Au=tr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,h=l.getZoom(),y=l.options.zoomDelta,E=r.originalEvent.shiftKey?h-y:h+y;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(r.containerPoint,E)}});Mt.addInitHook("addHandler","doubleClickZoom",Au),Mt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rc=tr.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new wr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Qt(this._map._container,"leaflet-grab"),Qt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Re(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),h=this._initialWorldOffset,y=this._draggable._newPos.x,E=(y-l+h)%r+l-h,A=(y+l+h)%r-l-h,H=Math.abs(E+h)<Math.abs(A+h)?E:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=H},_onDragEnd:function(r){var l=this._map,h=l.options,y=!h.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),y)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,H=h.easeLinearity,ne=E.multiplyBy(H/A),le=ne.distanceTo([0,0]),_e=Math.min(h.inertiaMaxSpeed,le),Ue=ne.multiplyBy(_e/le),rt=_e/(h.inertiaDeceleration*H),wt=Ue.multiplyBy(-rt/2).round();!wt.x&&!wt.y?l.fire("moveend"):(wt=l._limitOffset(wt,l.options.maxBounds),J(function(){l.panBy(wt,{duration:rt,easeLinearity:H,noMoveStart:!0,animate:!0})}))}}});Mt.addInitHook("addHandler","dragging",rc),Mt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sc=tr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ft(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Kt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,h=r.scrollTop||l.scrollTop,y=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(y,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},h=this.keyCodes,y,E;for(y=0,E=h.left.length;y<E;y++)l[h.left[y]]=[-1*r,0];for(y=0,E=h.right.length;y<E;y++)l[h.right[y]]=[r,0];for(y=0,E=h.down.length;y<E;y++)l[h.down[y]]=[0,r];for(y=0,E=h.up.length;y<E;y++)l[h.up[y]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},h=this.keyCodes,y,E;for(y=0,E=h.zoomIn.length;y<E;y++)l[h.zoomIn[y]]=r;for(y=0,E=h.zoomOut.length;y<E;y++)l[h.zoomOut[y]]=-r},_addHooks:function(){ft(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,h=this._map,y;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(y=this._panKeys[l],r.shiftKey&&(y=oe(y).multiplyBy(3)),h.options.maxBounds&&(y=h._limitOffset(oe(y),h.options.maxBounds)),h.options.worldCopyJump){var E=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(y)));h.panTo(E)}else h.panBy(y)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;xr(r)}}});Mt.addInitHook("addHandler","keyboard",sc),Mt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xt=tr.extend({addHooks:function(){ft(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=pu(r),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var y=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),y),xr(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),h=this._map.options.zoomSnap||0;r._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,A=h?Math.ceil(E/h)*h:E,H=r._limitZoom(l+(this._delta>0?A:-A))-l;this._delta=0,this._startTime=null,H&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+H):r.setZoomAround(this._lastMousePos,l+H))}});Mt.addInitHook("addHandler","scrollWheelZoom",Xt);var oc=600;Mt.mergeOptions({tapHold:qe.touchNative&&qe.safari&&qe.mobile,tapTolerance:15});var Ai=tr.extend({addHooks:function(){ft(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new U(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(ft(document,"touchend",ln),ft(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),oc),ft(document,"touchend touchcancel contextmenu",this._cancel,this),ft(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Kt(document,"touchend",ln),Kt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new U(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var h=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});Mt.addInitHook("addHandler","tapHold",Ai),Mt.mergeOptions({touchZoom:qe.touch,bounceAtZoomLimits:!0});var Do=tr.extend({addHooks:function(){pt(this._map._container,"leaflet-touch-zoom"),ft(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Qt(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(r.touches[0]),y=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(y)._divideBy(2))),this._startDist=h.distanceTo(y),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ft(document,"touchmove",this._onTouchMove,this),ft(document,"touchend touchcancel",this._onTouchEnd,this),ln(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(r.touches[0]),y=l.mouseEventToContainerPoint(r.touches[1]),E=h.distanceTo(y)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var A=h._add(y)._divideBy(2)._subtract(this._centerPoint);if(E===1&&A.x===0&&A.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),de(this._animRequest);var H=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(H,this,!0),ln(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,de(this._animRequest),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Mt.addInitHook("addHandler","touchZoom",Do),Mt.BoxZoom=Ao,Mt.DoubleClickZoom=Au,Mt.Drag=rc,Mt.Keyboard=sc,Mt.ScrollWheelZoom=Xt,Mt.TapHold=Ai,Mt.TouchZoom=Do,s.Bounds=F,s.Browser=qe,s.CRS=B,s.Canvas=tc,s.Circle=Ta,s.CircleMarker=Pa,s.Class=K,s.Control=Zn,s.DivIcon=Oa,s.DivOverlay=Dr,s.DomEvent=Sa,s.DomUtil=ji,s.Draggable=wr,s.Evented=me,s.FeatureGroup=ts,s.GeoJSON=Ar,s.GridLayer=js,s.Handler=tr,s.Icon=Gs,s.ImageOverlay=Ns,s.LatLng=Pe,s.LatLngBounds=ye,s.Layer=_r,s.LayerGroup=bs,s.LineUtil=bu,s.Map=Mt,s.Marker=ns,s.Mixin=Ul,s.Path=Ss,s.Point=U,s.PolyUtil=Hf,s.Polygon=rs,s.Polyline=qn,s.Popup=Da,s.PosAnimation=Na,s.Projection=Gf,s.Rectangle=Lu,s.Renderer=Or,s.SVG=Ys,s.SVGOverlay=Ql,s.TileLayer=Es,s.Tooltip=Mo,s.Transformation=ut,s.Util=Ae,s.VideoOverlay=Xl,s.bind=f,s.bounds=Q,s.canvas=nc,s.circle=ki,s.circleMarker=Eu,s.control=_s,s.divIcon=ku,s.extend=c,s.featureGroup=Nu,s.geoJSON=Cu,s.geoJson=br,s.gridLayer=Ro,s.icon=ju,s.imageOverlay=Pu,s.latLng=Y,s.latLngBounds=Re,s.layerGroup=Ti,s.map=ws,s.marker=Xf,s.point=oe,s.polygon=Jf,s.polyline=Qf,s.popup=ko,s.rectangle=eh,s.setOptions=j,s.stamp=g,s.svg=Ia,s.svgOverlay=Jl,s.tileLayer=ec,s.tooltip=Ri,s.transformation=Je,s.version=a,s.videoOverlay=Tu;var Du=window.L;s.noConflict=function(){return window.L=Du,this},window.L=s})}(kc,kc.exports)),kc.exports}var wP=xP();const bn=vp(wP),_P=()=>({openRouteServiceKey:"your_production_api_key_here",mapboxKey:void 0,googleMapsKey:void 0}),Bp=()=>({type:"openroute",hasKey:!0,description:"OpenRouteService - Good accuracy, limited free tier"}),b0=()=>{const e=Bp(),t=[{service:"OpenRouteService",url:"https://openrouteservice.org/",freeLimit:"2,000 requests/day",paidOptions:"Available from 2.99/month",setup:"Set VITE_OPENROUTESERVICE_API_KEY in your .env file",recommended:!e.hasKey},{service:"MapBox",url:"https://www.mapbox.com/",freeLimit:"50,000 requests/month",paidOptions:"Pay-per-use beyond free tier",setup:"Set VITE_MAPBOX_API_KEY in your .env file",recommended:e.type==="free"},{service:"Google Maps",url:"https://developers.google.com/maps",freeLimit:"Paid service (requires billing)",paidOptions:"Most accurate, enterprise-grade",setup:"Set VITE_GOOGLE_MAPS_API_KEY in your .env file",recommended:!1}];return{current:e,recommendations:t}},Yi=class Yi{constructor(){Ms(this,"cache",new Map);Ms(this,"maxCacheSize",200);Ms(this,"cacheTimeout",60*60*1e3)}static getInstance(){return Yi.instance||(Yi.instance=new Yi),Yi.instance}getCacheKey(t,s){return`${t.lat.toFixed(5)},${t.lng.toFixed(5)}_${s.lat.toFixed(5)},${s.lng.toFixed(5)}`}isValidCache(t){return Date.now()-t.timestamp<this.cacheTimeout}async getRouteFromORS(t,s){var a,c;try{const p=await fetch("https://api.openrouteservice.org/v2/directions/driving-car",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"your_production_api_key_here"},body:JSON.stringify({coordinates:[[t.lng,t.lat],[s.lng,s.lat]],format:"geojson"})});if(!p.ok)return console.warn(`ORS API failed: ${p.status} ${p.statusText}`),null;const g=await p.json();if(g.features&&g.features.length>0){const w=g.features[0];return{coordinates:w.geometry.coordinates.map(b=>[b[1],b[0]]),distance:((a=w.properties.segments[0])==null?void 0:a.distance)||0,duration:((c=w.properties.segments[0])==null?void 0:c.duration)||0,source:"road-api",confidence:"high"}}}catch(d){console.warn("ORS routing failed:",d.message)}return null}async getRouteFromMapbox(t,s){try{const a=_P();if(!a.mapboxKey)return null;const c=`https://api.mapbox.com/directions/v5/mapbox/driving/${t.lng},${t.lat};${s.lng},${s.lat}?geometries=geojson&access_token=${a.mapboxKey}`,d=new AbortController,f=setTimeout(()=>d.abort(),1e4),p=await fetch(c,{signal:d.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(f),!p.ok)return console.warn(`MapBox API failed: ${p.status} ${p.statusText}`),null;const g=await p.json();if(g.routes&&g.routes.length>0){const w=g.routes[0];return!w.geometry||!w.geometry.coordinates||w.geometry.coordinates.length<2?(console.warn("MapBox returned invalid geometry"),null):{coordinates:w.geometry.coordinates.map(b=>[b[1],b[0]]),distance:w.distance||0,duration:w.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("MapBox routing timed out"):console.warn("MapBox routing failed:",a.message)}return null}async getRouteFromOSRM(t,s){try{const a=`https://router.project-osrm.org/route/v1/driving/${t.lng},${t.lat};${s.lng},${s.lat}?overview=full&geometries=geojson`,c=new AbortController,d=setTimeout(()=>c.abort(),1e4),f=await fetch(a,{signal:c.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(d),!f.ok)return console.warn(`OSRM API failed: ${f.status} ${f.statusText}`),null;const p=await f.json();if(p.routes&&p.routes.length>0){const g=p.routes[0];return!g.geometry||!g.geometry.coordinates||g.geometry.coordinates.length<2?(console.warn("OSRM returned invalid geometry"),null):{coordinates:g.geometry.coordinates.map(_=>[_[1],_[0]]),distance:g.distance||0,duration:g.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("OSRM routing timed out"):console.warn("OSRM routing failed:",a.message)}return null}calculateStraightLineDistance(t,s){const c=t.lat*Math.PI/180,d=s.lat*Math.PI/180,f=(s.lat-t.lat)*Math.PI/180,p=(t.lng-s.lng)*Math.PI/180,g=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))}createStraightLineRoute(t,s){const a=this.calculateStraightLineDistance(t,s),c=[];if(a>500){const d=Math.min(5,Math.floor(a/200));for(let f=0;f<=d;f++){const p=f/d,g=t.lat+(s.lat-t.lat)*p,w=t.lng+(s.lng-t.lng)*p;c.push([g,w])}}else c.push([t.lat,t.lng],[s.lat,s.lng]);return{coordinates:c,distance:a,duration:a/13.89,source:"straight-line",confidence:a<100?"medium":"low"}}async getRoute(t,s){const a=this.getCacheKey(t,s),c=this.cache.get(a);if(c&&this.isValidCache(c))return console.log(`Using cached route for ${this.calculateStraightLineDistance(t,s).toFixed(0)}m distance`),c.route;const d=this.calculateStraightLineDistance(t,s);if(d<30){console.log(`Short distance (${Math.round(d)}m), using direct line`);const p=this.createStraightLineRoute(t,s);return p.confidence="high",this.cache.set(a,{route:p,timestamp:Date.now()}),p}let f=null;if(d<1e4&&(f=await this.getRouteFromMapbox(t,s),!f&&d>50&&(f=await this.getRouteFromORS(t,s)),!f&&d>30&&(f=await this.getRouteFromOSRM(t,s))),!f){const p=d>=5e3?"Long distance":"API services unavailable";console.log(`${p} - using straight line for ${Math.round(d)}m distance`),f=this.createStraightLineRoute(t,s),d<200?f.confidence="medium":d>1e3&&(f.confidence="low")}if(this.cache.size>=this.maxCacheSize){const p=this.cache.keys().next().value;this.cache.delete(p)}return this.cache.set(a,{route:f,timestamp:Date.now()}),f}createGPSRoute(t){if(t.length<2)return{coordinates:[],distance:0,duration:0,source:"gps",confidence:"high"};const s=this.cleanGPSPoints(t),a=s.map(p=>[p.lat,p.lng]);let c=0;for(let p=1;p<s.length;p++){const g=s[p-1],w=s[p];c+=this.calculateStraightLineDistance(g,w)}let d=0;if(s[0].timestamp&&s[s.length-1].timestamp){const p=new Date(s[0].timestamp).getTime();d=(new Date(s[s.length-1].timestamp).getTime()-p)/1e3}else d=c/13.89;const f=this.assessGPSQuality(s,t.length);return console.log(` GPS route: ${s.length}/${t.length} points, ${(c/1e3).toFixed(2)}km, ${f} confidence`),{coordinates:a,distance:c,duration:d,source:"gps",confidence:f}}cleanGPSPoints(t){if(t.length<=2)return t;const s=[t[0]];for(let a=1;a<t.length;a++){const c=t[a],d=s[s.length-1],f=this.calculateStraightLineDistance(d,c);if(!(f<3)){if(c.timestamp&&d.timestamp){const p=(new Date(c.timestamp).getTime()-new Date(d.timestamp).getTime())/1e3;if(p>0&&p<5&&f>300){console.warn(`Skipping GPS outlier: ${Math.round(f)}m in ${p}s (${Math.round(f/p*3.6)}km/h)`);continue}}s.push(c)}}return s.length<2?(console.warn(`GPS cleaning removed too many points (${s.length}/${t.length}), using original`),t):s.length<t.length*.5?(console.warn(`GPS cleaning removed over 50% of points (${s.length}/${t.length}), using original`),t):(console.log(`GPS cleaning: kept ${s.length}/${t.length} points`),s)}assessGPSQuality(t,s){const a=t.length/s;return t.length>=10&&a>.7?"high":t.length>=5&&a>.5?"medium":"low"}async getRouteForPoints(t){if(t.length<2)return{coordinates:[],totalDistance:0,segments:[]};const s=[];let a=[],c=0,d=0;const f=15,p=t.length>f+1?this.selectKeyPoints(t,f):t;console.log(`Processing route with ${p.length} key points (from ${t.length} total GPS points)`);for(let b=0;b<p.length-1;b++)try{const N=await this.getRoute(p[b],p[b+1]);s.push(N),N.source==="road-api"&&d++,b===0?a.push(...N.coordinates):a.push(...N.coordinates.slice(1)),c+=N.distance}catch(N){console.warn(`Failed to get route for segment ${b}-${b+1}:`,N);const T=p[b],P=p[b+1],j=[[T.lat,T.lng],[P.lat,P.lng]];b===0?a.push(...j):a.push(j[1]);const C=this.calculateStraightLineDistance(T,P);c+=C}const g=s.length>0?d/s.length:0;let w="mixed",_="medium";return g>=.8?(w="road-api",_="high"):g>=.5?(w="road-mixed",_="medium"):(w="gps-fallback",_="low"),console.log(`Route complete: ${a.length} coordinates, ${Math.round(c/1e3*100)/100}km, ${d}/${s.length} road segments`),{coordinates:a,totalDistance:c,segments:s,source:w,confidence:_}}selectKeyPoints(t,s){if(t.length<=s)return t;const a=[t[0]],c=Math.floor(t.length/(s-2));for(let d=c;d<t.length-1;d+=c)a.push(t[d]);return a.push(t[t.length-1]),a}clearCache(){this.cache.clear()}};Ms(Yi,"instance");let tp=Yi;const Zr=tp.getInstance();delete bn.Icon.Default.prototype._getIconUrl;bn.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function Up({employees:e,selectedEmployee:t,height:s="400px",onEmployeeClick:a,trackingSession:c,showRoute:d=!1}){const f=v.useRef(null),p=v.useRef(null),g=v.useRef({}),w=v.useRef(null),_=v.useRef([]),[b,N]=v.useState(!1),[T,P]=v.useState(null),[j,C]=v.useState(null);return v.useEffect(()=>{if(!p.current)return;f.current=bn.map(p.current).setView([40.7128,-74.006],12),bn.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(f.current);const k=document.createElement("link");return k.rel="stylesheet",k.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",document.head.appendChild(k),()=>{f.current&&(f.current.remove(),f.current=null),document.head.removeChild(k)}},[]),v.useEffect(()=>{if(!f.current||!e.length)return;Object.values(g.current).forEach(M=>{var O;(O=f.current)==null||O.removeLayer(M)}),g.current={};const k=M=>{var I;const O=M==="active"?"#22c55e":M==="meeting"?"#f59e0b":"#6b7280";return bn.divIcon({html:`
          <div style="
            background-color: ${O};
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            ${t&&t===((I=e.find(Z=>Z.location.lat===parseFloat(M)&&Z.location.lng===parseFloat(M)))==null?void 0:I.id)?"transform: scale(1.3);":""}
          "></div>
        `,className:"custom-div-icon",iconSize:[20,20],iconAnchor:[10,10]})},D=bn.latLngBounds([]);e.forEach(M=>{if(M.location.lat&&M.location.lng){const O=bn.marker([M.location.lat,M.location.lng],{icon:k(M.status)}).addTo(f.current);O.bindPopup(`
          <div style="min-width: 200px;">
            <h3 style="margin: 0 0 8px 0; font-weight: bold;">${M.name}</h3>
            <p style="margin: 0 0 4px 0; color: #666;">
              <span style="
                display: inline-block;
                padding: 2px 6px;
                border-radius: 4px;
                font-size: 12px;
                background-color: ${M.status==="active"?"#22c55e":M.status==="meeting"?"#f59e0b":"#6b7280"};
                color: white;
              ">${M.status==="active"?"On Route":M.status==="meeting"?"In Meeting":"Offline"}</span>
            </p>
            <p style="margin: 0 0 4px 0; font-size: 14px;">${M.location.address}</p>
            ${M.currentTask?`<p style="margin: 0 0 4px 0; font-size: 12px; font-style: italic;">${M.currentTask}</p>`:""}
            <p style="margin: 0; font-size: 12px; color: #888;">Updated ${M.lastUpdate}</p>
          </div>
        `),a&&O.on("click",()=>a(M.id)),g.current[M.id]=O,D.extend([M.location.lat,M.location.lng])}}),e.length>0&&D.isValid()&&f.current.fitBounds(D,{padding:[20,20]})},[e,t,a]),v.useEffect(()=>{if(!f.current)return;if(w.current&&(f.current.removeLayer(w.current),w.current=null),_.current.forEach(M=>{var O;(O=f.current)==null||O.removeLayer(M)}),_.current=[],!d||!c||!c.route.length){P(null),C(null);return}const k=c.route;if((async()=>{if(k.length<1){P("No GPS points available for route visualization"),C(null);return}N(!0),P(null);try{if(!f.current)return;let M=[],O="gps",I="medium";if(console.log(`Displaying route with ${k.length} GPS points`),k.length===1)M=[[k[0].lat,k[0].lng]],O="single-point",I="high";else if(M=k.map(ae=>[ae.lat,ae.lng]),O="gps-points",I=k.length>=5?"medium":"basic",k.length>=2&&k.length<=10)try{if(console.log("Attempting road-based route enhancement..."),k.length<=3){const ae=await Zr.getRoute(k[0],k[k.length-1]);ae.source==="road-api"&&ae.coordinates.length>0&&(M=ae.coordinates,O="road-direct",I="high",console.log("Successfully enhanced route with direct road routing"))}else{const ae=await Zr.createGPSRoute(k);ae.coordinates.length>0&&(M=ae.coordinates,O="gps-processed",I=ae.confidence||"medium",console.log(`Successfully processed GPS route: ${ae.confidence} confidence`))}}catch(ae){console.warn("Route enhancement failed, using basic GPS points:",ae.message)}const z=(()=>{switch(O){case"road-direct":case"road-api":return{color:"#2563eb",weight:5,opacity:.8,dashArray:void 0};case"gps-processed":return{color:"#16a34a",weight:4,opacity:.7,dashArray:void 0};case"single-point":return{color:"#dc2626",weight:6,opacity:.9,dashArray:void 0};default:return{color:"#ea580c",weight:3,opacity:.6,dashArray:"8, 4"}}})();if(O==="single-point"&&M.length===1){const ae=M[0];w.current=bn.circle(ae,{radius:50,color:z.color,weight:z.weight,opacity:z.opacity,fillColor:z.color,fillOpacity:.3}).addTo(f.current)}else M.length>=2&&(w.current=bn.polyline(M,{...z,smoothFactor:O.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current),bn.polyline(M,{color:"#000000",weight:z.weight+2,opacity:.2,smoothFactor:O.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current).bringToBack());if(C((()=>{switch(O){case"road-direct":case"road-api":return{type:"Road Network",confidence:"High Accuracy",points:M.length};case"gps-processed":return{type:"Enhanced GPS",confidence:I==="high"?"High Accuracy":"Medium Accuracy",points:k.length};case"single-point":return{type:"Current Location",confidence:"High Accuracy",points:1};default:return{type:"GPS Points",confidence:"Basic Accuracy",points:k.length}}})()),console.log(` Displayed ${O} route: ${M.length} coordinates, ${I} confidence`),M.length>0)if(M.length===1)f.current.setView(M[0],16);else{const ae=bn.latLngBounds(M);f.current.fitBounds(ae,{padding:[30,30]})}}catch(M){console.error("Error displaying route:",M),P(`Failed to display route: ${M.message}`),C(null);try{if(k.length>=1){const O=k.map(I=>[I.lat,I.lng]);if(O.length===1?w.current=bn.circle(O[0],{radius:30,color:"#dc2626",weight:2,opacity:.7,fillColor:"#dc2626",fillOpacity:.2}).addTo(f.current):w.current=bn.polyline(O,{color:"#dc2626",weight:3,opacity:.6,dashArray:"5, 5",smoothFactor:.1}).addTo(f.current),C({type:"Fallback GPS",confidence:"Limited",points:k.length}),P(null),O.length===1)f.current.setView(O[0],16);else{const I=bn.latLngBounds(O);f.current.fitBounds(I,{padding:[20,20]})}}}catch(O){console.error("Even fallback route failed:",O),P("Unable to display any route visualization")}}finally{N(!1)}})(),c.startLocation){const M=bn.divIcon({html:`
          <div style="
            background-color: #22c55e;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">S</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),O=bn.marker([c.startLocation.lat,c.startLocation.lng],{icon:M}).addTo(f.current);O.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #22c55e;">Route Start</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${new Date(c.startTime).toLocaleString()}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            ${c.startLocation.address}
          </p>
        </div>
      `),_.current.push(O)}if(c.endLocation&&c.status==="completed"){const M=bn.divIcon({html:`
          <div style="
            background-color: #ef4444;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">E</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),O=bn.marker([c.endLocation.lat,c.endLocation.lng],{icon:M}).addTo(f.current);O.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #ef4444;">Route End</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${c.endTime?new Date(c.endTime).toLocaleString():"In progress"}
          </p>
          <p style="margin: 0 0 4px 0; font-size: 12px; color: #666;">
            ${c.endLocation.address}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            Distance: ${(c.totalDistance/1e3).toFixed(2)} km
          </p>
        </div>
      `),_.current.push(O)}if(k.length>2){const M=Math.max(1,Math.floor(k.length/5));k.forEach((O,I)=>{if(I>0&&I<k.length-1&&I%M===0){const Z=bn.divIcon({html:`
              <div style="
                background-color: #3b82f6;
                width: 8px;
                height: 8px;
                border-radius: 50%;
                border: 2px solid white;
                box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                opacity: 0.9;
              "></div>
            `,className:"custom-div-icon",iconSize:[8,8],iconAnchor:[4,4]}),z=bn.marker([O.lat,O.lng],{icon:Z}).addTo(f.current);z.bindPopup(`
            <div style="min-width: 160px;">
              <h4 style="margin: 0 0 8px 0; color: #3b82f6;">Route Point</h4>
              <p style="margin: 0 0 4px 0; font-size: 12px;">
                <strong>Time:</strong> ${new Date(O.timestamp).toLocaleTimeString()}
              </p>
              <p style="margin: 0 0 4px 0; font-size: 11px; color: #666;">
                Position: ${O.lat.toFixed(6)}, ${O.lng.toFixed(6)}
              </p>
              <p style="margin: 0; font-size: 11px; color: #666;">
                Point ${I+1} of ${k.length}
              </p>
            </div>
          `),_.current.push(z)}})}},[d,c]),v.useEffect(()=>{if(!f.current||!t)return;const k=e.find(D=>D.id===t);k&&k.location.lat&&k.location.lng&&f.current.setView([k.location.lat,k.location.lng],15)},[t,e]),o.jsxs("div",{className:"relative",children:[o.jsx("div",{ref:p,style:{height:s,width:"100%",borderRadius:"8px"},className:"relative z-0"}),b&&o.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm border border-border rounded-md px-3 py-2 text-sm flex items-center space-x-2 z-10",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Generating route..."})]}),d&&j&&o.jsxs("div",{className:`absolute top-2 right-2 backdrop-blur-sm border rounded-md px-3 py-2 text-sm z-10 ${j.confidence==="High Accuracy"?"bg-blue-500/90 border-blue-500 text-white":j.confidence==="Medium Accuracy"?"bg-green-500/90 border-green-500 text-white":j.confidence==="Basic Accuracy"?"bg-orange-500/90 border-orange-500 text-white":"bg-red-500/90 border-red-500 text-white"}`,children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{children:[j.type.includes("Road")?"":j.type.includes("GPS + Road")?"":""," ",j.type]})}),o.jsxs("div",{className:"text-xs mt-1 opacity-90",children:[j.confidence,"  ",j.points," ",j.points===1?"point":"points"]}),j.type.includes("Road")&&o.jsx("div",{className:"text-xs mt-1 opacity-75",children:" Road-optimized route"})]}),T&&o.jsxs("div",{className:"absolute top-2 left-2 bg-destructive/90 backdrop-blur-sm border border-destructive rounded-md px-3 py-2 text-sm text-destructive-foreground z-10",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{children:" Route Display Issue"})}),o.jsx("div",{className:"text-xs mt-1",children:T}),o.jsx("div",{className:"text-xs mt-1 opacity-80",children:" Route will improve with more GPS points"})]})]})}const dn=v.forwardRef(({className:e,type:t,...s},a)=>o.jsx("input",{type:t,className:ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));dn.displayName="Input";function bP(e,t){const s=v.createContext(t),a=d=>{const{children:f,...p}=d,g=v.useMemo(()=>p,Object.values(p));return o.jsx(s.Provider,{value:g,children:f})};a.displayName=e+"Provider";function c(d){const f=v.useContext(s);if(f)return f;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[a,c]}function SP(e,t=[]){let s=[];function a(d,f){const p=v.createContext(f),g=s.length;s=[...s,f];const w=b=>{var k;const{scope:N,children:T,...P}=b,j=((k=N==null?void 0:N[e])==null?void 0:k[g])||p,C=v.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:T})};w.displayName=d+"Provider";function _(b,N){var j;const T=((j=N==null?void 0:N[e])==null?void 0:j[g])||p,P=v.useContext(T);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[w,_]}const c=()=>{const d=s.map(f=>v.createContext(f));return function(p){const g=(p==null?void 0:p[e])||d;return v.useMemo(()=>({[`__scope${e}`]:{...p,[e]:g}}),[p,g])}};return c.scopeName=e,[a,NP(c,...t)]}function NP(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:g,scopeName:w})=>{const b=g(d)[`__scope${w}`];return{...p,...b}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return s.scopeName=t.scopeName,s}var _m="focusScope.autoFocusOnMount",bm="focusScope.autoFocusOnUnmount",Ly={bubbles:!1,cancelable:!0},jP="FocusScope",Hp=v.forwardRef((e,t)=>{const{loop:s=!1,trapped:a=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...f}=e,[p,g]=v.useState(null),w=on(c),_=on(d),b=v.useRef(null),N=Rt(t,j=>g(j)),T=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(a){let j=function(M){if(T.paused||!p)return;const O=M.target;p.contains(O)?b.current=O:ni(b.current,{select:!0})},C=function(M){if(T.paused||!p)return;const O=M.relatedTarget;O!==null&&(p.contains(O)||ni(b.current,{select:!0}))},k=function(M){if(document.activeElement===document.body)for(const I of M)I.removedNodes.length>0&&ni(p)};document.addEventListener("focusin",j),document.addEventListener("focusout",C);const D=new MutationObserver(k);return p&&D.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",C),D.disconnect()}}},[a,p,T.paused]),v.useEffect(()=>{if(p){Dy.add(T);const j=document.activeElement;if(!p.contains(j)){const k=new CustomEvent(_m,Ly);p.addEventListener(_m,w),p.dispatchEvent(k),k.defaultPrevented||(EP(MP(S0(p)),{select:!0}),document.activeElement===j&&ni(p))}return()=>{p.removeEventListener(_m,w),setTimeout(()=>{const k=new CustomEvent(bm,Ly);p.addEventListener(bm,_),p.dispatchEvent(k),k.defaultPrevented||ni(j??document.body,{select:!0}),p.removeEventListener(bm,_),Dy.remove(T)},0)}}},[p,w,_,T]);const P=v.useCallback(j=>{if(!s&&!a||T.paused)return;const C=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,k=document.activeElement;if(C&&k){const D=j.currentTarget,[M,O]=CP(D);M&&O?!j.shiftKey&&k===O?(j.preventDefault(),s&&ni(M,{select:!0})):j.shiftKey&&k===M&&(j.preventDefault(),s&&ni(O,{select:!0})):k===D&&j.preventDefault()}},[s,a,T.paused]);return o.jsx(xt.div,{tabIndex:-1,...f,ref:N,onKeyDown:P})});Hp.displayName=jP;function EP(e,{select:t=!1}={}){const s=document.activeElement;for(const a of e)if(ni(a,{select:t}),document.activeElement!==s)return}function CP(e){const t=S0(e),s=Ay(t,e),a=Ay(t.reverse(),e);return[s,a]}function S0(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function Ay(e,t){for(const s of e)if(!PP(s,{upTo:t}))return s}function PP(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TP(e){return e instanceof HTMLInputElement&&"select"in e}function ni(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&TP(e)&&t&&e.select()}}var Dy=kP();function kP(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=Oy(e,t),e.unshift(t)},remove(t){var s;e=Oy(e,t),(s=e[0])==null||s.resume()}}}function Oy(e,t){const s=[...e],a=s.indexOf(t);return a!==-1&&s.splice(a,1),s}function MP(e){return e.filter(t=>t.tagName!=="A")}function RP(e,t){return v.useReducer((s,a)=>t[s][a]??s,e)}var Sf=e=>{const{present:t,children:s}=e,a=LP(t),c=typeof s=="function"?s({present:a.isPresent}):v.Children.only(s),d=Rt(a.ref,AP(c));return typeof s=="function"||a.isPresent?v.cloneElement(c,{ref:d}):null};Sf.displayName="Presence";function LP(e){const[t,s]=v.useState(),a=v.useRef({}),c=v.useRef(e),d=v.useRef("none"),f=e?"mounted":"unmounted",[p,g]=RP(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const w=Td(a.current);d.current=p==="mounted"?w:"none"},[p]),fn(()=>{const w=a.current,_=c.current;if(_!==e){const N=d.current,T=Td(w);e?g("MOUNT"):T==="none"||(w==null?void 0:w.display)==="none"?g("UNMOUNT"):g(_&&N!==T?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,g]),fn(()=>{if(t){let w;const _=t.ownerDocument.defaultView??window,b=T=>{const j=Td(a.current).includes(T.animationName);if(T.target===t&&j&&(g("ANIMATION_END"),!c.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",w=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},N=T=>{T.target===t&&(d.current=Td(a.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(w),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else g("ANIMATION_END")},[t,g]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:v.useCallback(w=>{w&&(a.current=getComputedStyle(w)),s(w)},[])}}function Td(e){return(e==null?void 0:e.animationName)||"none"}function AP(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Sm=0;function DP(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Iy()),document.body.insertAdjacentElement("beforeend",e[1]??Iy()),Sm++,()=>{Sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sm--}},[])}function Iy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wn=function(){return Wn=Object.assign||function(t){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(t[d]=s[d])}return t},Wn.apply(this,arguments)};function Wp(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(s[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(s[a[c]]=e[a[c]]);return s}function N0(e,t,s){if(s||arguments.length===2)for(var a=0,c=t.length,d;a<c;a++)(d||!(a in t))&&(d||(d=Array.prototype.slice.call(t,0,a)),d[a]=t[a]);return e.concat(d||Array.prototype.slice.call(t))}var Ic="right-scroll-bar-position",Fc="width-before-scroll-bar",OP="with-scroll-bars-hidden",IP="--removed-body-scroll-bar-size";function Nm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FP(e,t){var s=v.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(a){var c=s.value;c!==a&&(s.value=a,s.callback(a,c))}}}})[0];return s.callback=t,s.facade}var zP=typeof window<"u"?v.useLayoutEffect:v.useEffect,Fy=new WeakMap;function j0(e,t){var s=FP(null,function(a){return e.forEach(function(c){return Nm(c,a)})});return zP(function(){var a=Fy.get(s);if(a){var c=new Set(a),d=new Set(e),f=s.current;c.forEach(function(p){d.has(p)||Nm(p,null)}),d.forEach(function(p){c.has(p)||Nm(p,f)})}Fy.set(s,e)},[e]),s}function $P(e){return e}function BP(e,t){t===void 0&&(t=$P);var s=[],a=!1,c={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(d){var f=t(d,a);return s.push(f),function(){s=s.filter(function(p){return p!==f})}},assignSyncMedium:function(d){for(a=!0;s.length;){var f=s;s=[],f.forEach(d)}s={push:function(p){return d(p)},filter:function(){return s}}},assignMedium:function(d){a=!0;var f=[];if(s.length){var p=s;s=[],p.forEach(d),f=s}var g=function(){var _=f;f=[],_.forEach(d)},w=function(){return Promise.resolve().then(g)};w(),s={push:function(_){f.push(_),w()},filter:function(_){return f=f.filter(_),s}}}};return c}function E0(e){e===void 0&&(e={});var t=BP(null);return t.options=Wn({async:!0,ssr:!1},e),t}var C0=function(e){var t=e.sideCar,s=Wp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return v.createElement(a,Wn({},s))};C0.isSideCarExport=!0;function P0(e,t){return e.useMedium(t),C0}var T0=E0(),jm=function(){},Nf=v.forwardRef(function(e,t){var s=v.useRef(null),a=v.useState({onScrollCapture:jm,onWheelCapture:jm,onTouchMoveCapture:jm}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,g=e.className,w=e.removeScrollBar,_=e.enabled,b=e.shards,N=e.sideCar,T=e.noIsolation,P=e.inert,j=e.allowPinchZoom,C=e.as,k=C===void 0?"div":C,D=e.gapMode,M=Wp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=N,I=j0([s,t]),Z=Wn(Wn({},M),c);return v.createElement(v.Fragment,null,_&&v.createElement(O,{sideCar:T0,removeScrollBar:w,shards:b,noIsolation:T,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:s,gapMode:D}),f?v.cloneElement(v.Children.only(p),Wn(Wn({},Z),{ref:I})):v.createElement(k,Wn({},Z,{className:g,ref:I}),p))});Nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Nf.classNames={fullWidth:Fc,zeroRight:Ic};var UP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HP(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UP();return t&&e.setAttribute("nonce",t),e}function WP(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function VP(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var ZP=function(){var e=0,t=null;return{add:function(s){e==0&&(t=HP())&&(WP(t,s),VP(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qP=function(){var e=ZP();return function(t,s){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},Vp=function(){var e=qP(),t=function(s){var a=s.styles,c=s.dynamic;return e(a,c),null};return t},GP={left:0,top:0,right:0,gap:0},Em=function(e){return parseInt(e||"",10)||0},YP=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],c=t[e==="padding"?"paddingRight":"marginRight"];return[Em(s),Em(a),Em(c)]},KP=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GP;var t=YP(e),s=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-s+t[2]-t[0])}},XP=Vp(),ul="data-scroll-locked",QP=function(e,t,s,a){var c=e.left,d=e.top,f=e.right,p=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(OP,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(p,"px ").concat(a,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),s==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(a,`;
    `),s==="padding"&&"padding-right: ".concat(p,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ic,` {
    right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(Fc,` {
    margin-right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(IP,": ").concat(p,`px;
  }
`)},zy=function(){var e=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(e)?e:0},JP=function(){v.useEffect(function(){return document.body.setAttribute(ul,(zy()+1).toString()),function(){var e=zy()-1;e<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,e.toString())}},[])},k0=function(e){var t=e.noRelative,s=e.noImportant,a=e.gapMode,c=a===void 0?"margin":a;JP();var d=v.useMemo(function(){return KP(c)},[c]);return v.createElement(XP,{styles:QP(d,!t,c,s?"":"!important")})},np=!1;if(typeof window<"u")try{var kd=Object.defineProperty({},"passive",{get:function(){return np=!0,!0}});window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{np=!1}var Ja=np?{passive:!1}:!1,eT=function(e){return e.tagName==="TEXTAREA"},M0=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!eT(e)&&s[t]==="visible")},tT=function(e){return M0(e,"overflowY")},nT=function(e){return M0(e,"overflowX")},$y=function(e,t){var s=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=R0(e,a);if(c){var d=L0(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},rT=function(e){var t=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[t,s,a]},sT=function(e){var t=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[t,s,a]},R0=function(e,t){return e==="v"?tT(t):nT(t)},L0=function(e,t){return e==="v"?rT(t):sT(t)},oT=function(e,t){return e==="h"&&t==="rtl"?-1:1},iT=function(e,t,s,a,c){var d=oT(e,window.getComputedStyle(t).direction),f=d*a,p=s.target,g=t.contains(p),w=!1,_=f>0,b=0,N=0;do{var T=L0(e,p),P=T[0],j=T[1],C=T[2],k=j-C-d*P;(P||k)&&R0(e,p)&&(b+=k,N+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!g&&p!==document.body||g&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(N)<1)&&(w=!0),w},Md=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},By=function(e){return[e.deltaX,e.deltaY]},Uy=function(e){return e&&"current"in e?e.current:e},aT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cT=0,el=[];function uT(e){var t=v.useRef([]),s=v.useRef([0,0]),a=v.useRef(),c=v.useState(cT++)[0],d=v.useState(Vp)[0],f=v.useRef(e);v.useEffect(function(){f.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=N0([e.lockRef.current],(e.shards||[]).map(Uy),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=v.useCallback(function(j,C){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!f.current.allowPinchZoom;var k=Md(j),D=s.current,M="deltaX"in j?j.deltaX:D[0]-k[0],O="deltaY"in j?j.deltaY:D[1]-k[1],I,Z=j.target,z=Math.abs(M)>Math.abs(O)?"h":"v";if("touches"in j&&z==="h"&&Z.type==="range")return!1;var se=$y(z,Z);if(!se)return!0;if(se?I=z:(I=z==="v"?"h":"v",se=$y(z,Z)),!se)return!1;if(!a.current&&"changedTouches"in j&&(M||O)&&(a.current=I),!I)return!0;var ae=a.current||I;return iT(ae,C,j,ae==="h"?M:O)},[]),g=v.useCallback(function(j){var C=j;if(!(!el.length||el[el.length-1]!==d)){var k="deltaY"in C?By(C):Md(C),D=t.current.filter(function(I){return I.name===C.type&&(I.target===C.target||C.target===I.shadowParent)&&aT(I.delta,k)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var M=(f.current.shards||[]).map(Uy).filter(Boolean).filter(function(I){return I.contains(C.target)}),O=M.length>0?p(C,M[0]):!f.current.noIsolation;O&&C.cancelable&&C.preventDefault()}}},[]),w=v.useCallback(function(j,C,k,D){var M={name:j,delta:C,target:k,should:D,shadowParent:dT(k)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(O){return O!==M})},1)},[]),_=v.useCallback(function(j){s.current=Md(j),a.current=void 0},[]),b=v.useCallback(function(j){w(j.type,By(j),j.target,p(j,e.lockRef.current))},[]),N=v.useCallback(function(j){w(j.type,Md(j),j.target,p(j,e.lockRef.current))},[]);v.useEffect(function(){return el.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:N}),document.addEventListener("wheel",g,Ja),document.addEventListener("touchmove",g,Ja),document.addEventListener("touchstart",_,Ja),function(){el=el.filter(function(j){return j!==d}),document.removeEventListener("wheel",g,Ja),document.removeEventListener("touchmove",g,Ja),document.removeEventListener("touchstart",_,Ja)}},[]);var T=e.removeScrollBar,P=e.inert;return v.createElement(v.Fragment,null,P?v.createElement(d,{styles:lT(c)}):null,T?v.createElement(k0,{gapMode:e.gapMode}):null)}function dT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fT=P0(T0,uT);var A0=v.forwardRef(function(e,t){return v.createElement(Nf,Wn({},e,{ref:t,sideCar:fT}))});A0.classNames=Nf.classNames;var hT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},tl=new WeakMap,Rd=new WeakMap,Ld={},Cm=0,D0=function(e){return e&&(e.host||D0(e.parentNode))},mT=function(e,t){return t.map(function(s){if(e.contains(s))return s;var a=D0(s);return a&&e.contains(a)?a:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},pT=function(e,t,s,a){var c=mT(t,Array.isArray(e)?e:[e]);Ld[s]||(Ld[s]=new WeakMap);var d=Ld[s],f=[],p=new Set,g=new Set(c),w=function(b){!b||p.has(b)||(p.add(b),w(b.parentNode))};c.forEach(w);var _=function(b){!b||g.has(b)||Array.prototype.forEach.call(b.children,function(N){if(p.has(N))_(N);else try{var T=N.getAttribute(a),P=T!==null&&T!=="false",j=(tl.get(N)||0)+1,C=(d.get(N)||0)+1;tl.set(N,j),d.set(N,C),f.push(N),j===1&&P&&Rd.set(N,!0),C===1&&N.setAttribute(s,"true"),P||N.setAttribute(a,"true")}catch(k){console.error("aria-hidden: cannot operate on ",N,k)}})};return _(t),p.clear(),Cm++,function(){f.forEach(function(b){var N=tl.get(b)-1,T=d.get(b)-1;tl.set(b,N),d.set(b,T),N||(Rd.has(b)||b.removeAttribute(a),Rd.delete(b)),T||b.removeAttribute(s)}),Cm--,Cm||(tl=new WeakMap,tl=new WeakMap,Rd=new WeakMap,Ld={})}},O0=function(e,t,s){s===void 0&&(s="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),c=hT(e);return c?(a.push.apply(a,Array.from(c.querySelectorAll("[aria-live]"))),pT(a,c,s,"aria-hidden")):function(){return null}},Zp="Dialog",[I0,TL]=SP(Zp),[gT,ps]=I0(Zp),F0=e=>{const{__scopeDialog:t,children:s,open:a,defaultOpen:c,onOpenChange:d,modal:f=!0}=e,p=v.useRef(null),g=v.useRef(null),[w=!1,_]=Wd({prop:a,defaultProp:c,onChange:d});return o.jsx(gT,{scope:t,triggerRef:p,contentRef:g,contentId:ll(),titleId:ll(),descriptionId:ll(),open:w,onOpenChange:_,onOpenToggle:v.useCallback(()=>_(b=>!b),[_]),modal:f,children:s})};F0.displayName=Zp;var z0="DialogTrigger",$0=v.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,c=ps(z0,s),d=Rt(t,c.triggerRef);return o.jsx(xt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Yp(c.open),...a,ref:d,onClick:ct(e.onClick,c.onOpenToggle)})});$0.displayName=z0;var qp="DialogPortal",[vT,B0]=I0(qp,{forceMount:void 0}),U0=e=>{const{__scopeDialog:t,forceMount:s,children:a,container:c}=e,d=ps(qp,t);return o.jsx(vT,{scope:t,forceMount:s,children:v.Children.map(a,f=>o.jsx(Sf,{present:s||d.open,children:o.jsx(Vw,{asChild:!0,container:c,children:f})}))})};U0.displayName=qp;var Qd="DialogOverlay",H0=v.forwardRef((e,t)=>{const s=B0(Qd,e.__scopeDialog),{forceMount:a=s.forceMount,...c}=e,d=ps(Qd,e.__scopeDialog);return d.modal?o.jsx(Sf,{present:a||d.open,children:o.jsx(yT,{...c,ref:t})}):null});H0.displayName=Qd;var yT=v.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,c=ps(Qd,s);return o.jsx(A0,{as:sa,allowPinchZoom:!0,shards:[c.contentRef],children:o.jsx(xt.div,{"data-state":Yp(c.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),ia="DialogContent",W0=v.forwardRef((e,t)=>{const s=B0(ia,e.__scopeDialog),{forceMount:a=s.forceMount,...c}=e,d=ps(ia,e.__scopeDialog);return o.jsx(Sf,{present:a||d.open,children:d.modal?o.jsx(xT,{...c,ref:t}):o.jsx(wT,{...c,ref:t})})});W0.displayName=ia;var xT=v.forwardRef((e,t)=>{const s=ps(ia,e.__scopeDialog),a=v.useRef(null),c=Rt(t,s.contentRef,a);return v.useEffect(()=>{const d=a.current;if(d)return O0(d)},[]),o.jsx(V0,{...e,ref:c,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ct(e.onCloseAutoFocus,d=>{var f;d.preventDefault(),(f=s.triggerRef.current)==null||f.focus()}),onPointerDownOutside:ct(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0;(f.button===2||p)&&d.preventDefault()}),onFocusOutside:ct(e.onFocusOutside,d=>d.preventDefault())})}),wT=v.forwardRef((e,t)=>{const s=ps(ia,e.__scopeDialog),a=v.useRef(!1),c=v.useRef(!1);return o.jsx(V0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var f,p;(f=e.onCloseAutoFocus)==null||f.call(e,d),d.defaultPrevented||(a.current||(p=s.triggerRef.current)==null||p.focus(),d.preventDefault()),a.current=!1,c.current=!1},onInteractOutside:d=>{var g,w;(g=e.onInteractOutside)==null||g.call(e,d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const f=d.target;((w=s.triggerRef.current)==null?void 0:w.contains(f))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),V0=v.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:d,...f}=e,p=ps(ia,s),g=v.useRef(null),w=Rt(t,g);return DP(),o.jsxs(o.Fragment,{children:[o.jsx(Hp,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:c,onUnmountAutoFocus:d,children:o.jsx(Pp,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Yp(p.open),...f,ref:w,onDismiss:()=>p.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(_T,{titleId:p.titleId}),o.jsx(ST,{contentRef:g,descriptionId:p.descriptionId})]})]})}),Gp="DialogTitle",Z0=v.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,c=ps(Gp,s);return o.jsx(xt.h2,{id:c.titleId,...a,ref:t})});Z0.displayName=Gp;var q0="DialogDescription",G0=v.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,c=ps(q0,s);return o.jsx(xt.p,{id:c.descriptionId,...a,ref:t})});G0.displayName=q0;var Y0="DialogClose",K0=v.forwardRef((e,t)=>{const{__scopeDialog:s,...a}=e,c=ps(Y0,s);return o.jsx(xt.button,{type:"button",...a,ref:t,onClick:ct(e.onClick,()=>c.onOpenChange(!1))})});K0.displayName=Y0;function Yp(e){return e?"open":"closed"}var X0="DialogTitleWarning",[kL,Q0]=bP(X0,{contentName:ia,titleName:Gp,docsSlug:"dialog"}),_T=({titleId:e})=>{const t=Q0(X0),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},bT="DialogDescriptionWarning",ST=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Q0(bT).contentName}}.`;return v.useEffect(()=>{var d;const c=(d=e.current)==null?void 0:d.getAttribute("aria-describedby");t&&c&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},NT=F0,jT=$0,ET=U0,J0=H0,e_=W0,t_=Z0,n_=G0,CT=K0;const Mr=NT,PT=jT,TT=ET,r_=v.forwardRef(({className:e,...t},s)=>o.jsx(J0,{ref:s,className:ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));r_.displayName=J0.displayName;const dr=v.forwardRef(({className:e,children:t,...s},a)=>o.jsxs(TT,{children:[o.jsx(r_,{}),o.jsxs(e_,{ref:a,className:ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,o.jsxs(CT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(hf,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dr.displayName=e_.displayName;const fr=({className:e,...t})=>o.jsx("div",{className:ht("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fr.displayName="DialogHeader";const aa=({className:e,...t})=>o.jsx("div",{className:ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});aa.displayName="DialogFooter";const hr=v.forwardRef(({className:e,...t},s)=>o.jsx(t_,{ref:s,className:ht("text-lg font-semibold leading-none tracking-tight",e),...t}));hr.displayName=t_.displayName;const mr=v.forwardRef(({className:e,...t},s)=>o.jsx(n_,{ref:s,className:ht("text-sm text-muted-foreground",e),...t}));mr.displayName=n_.displayName;function s_({employeeId:e,isOpen:t,onClose:s}){const[a,c]=v.useState([]),[d,f]=v.useState([]),[p,g]=v.useState(!1),[w,_]=v.useState(""),[b,N]=v.useState(1),[T,P]=v.useState(1),[j,C]=v.useState(0),[k,D]=v.useState(null),[M,O]=v.useState(!1),[I,Z]=v.useState("all"),z=10;v.useEffect(()=>{t&&(se(),e&&ae())},[t,e,b]);const se=async()=>{var ee,te,me,U;g(!0);try{const ue=new URLSearchParams({page:b.toString(),limit:z.toString()});e&&ue.append("employeeId",e),console.log("Fetching meeting history for employee:",e);const oe=await dt.get(`/api/meeting-history?${ue.toString()}`);if(oe.ok){const F=await oe.json();console.log("Meeting history data received:",F),console.log("Number of meetings:",((ee=F.meetings)==null?void 0:ee.length)||0),((te=F.meetings)==null?void 0:te.length)>0&&(console.log("First meeting details:",F.meetings[0]),console.log("First meeting's meetingDetails:",F.meetings[0].meetingDetails),console.log("Customer name:",(me=F.meetings[0].meetingDetails)==null?void 0:me.customerName),console.log("Customer employee name:",(U=F.meetings[0].meetingDetails)==null?void 0:U.customerEmployeeName)),c(F.meetings||[]),C(F.total||0),P(F.totalPages||1)}else console.error("Failed to fetch meeting history:",oe.status,oe.statusText)}catch(ue){console.error("Error fetching meeting history:",ue),c([]),C(0),P(1)}finally{g(!1)}},ae=async()=>{try{if(!e)return;console.log("Fetching incomplete meeting remarks for employee:",e);const ee=await dt.get(`/api/incomplete-meeting-remarks?employeeId=${e}`);if(ee.ok){const te=await ee.json();console.log("Incomplete meeting remarks data received:",te),f(te.meetings||[])}else console.error("Failed to fetch incomplete meeting remarks:",ee.status,ee.statusText),f([])}catch(ee){console.error("Error fetching incomplete meeting remarks:",ee),f([])}},q=a.filter(ee=>{var U,ue,oe,F,Q;if(!w)return!0;const te=w.toLowerCase(),me=ee.meetingDetails;return((U=me.customerName)==null?void 0:U.toLowerCase().includes(te))||((ue=me.customerEmployeeName)==null?void 0:ue.toLowerCase().includes(te))||((oe=me.customerEmail)==null?void 0:oe.toLowerCase().includes(te))||((F=me.customerDepartment)==null?void 0:F.toLowerCase().includes(te))||((Q=me.customerDesignation)==null?void 0:Q.toLowerCase().includes(te))||me.discussion.toLowerCase().includes(te)}),J=ee=>{D(ee),O(!0)},de=ee=>new Date(ee).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ae=()=>{b>1&&N(b-1)},K=()=>{b<T&&N(b+1)};return o.jsxs(o.Fragment,{children:[o.jsx(Mr,{open:t,onOpenChange:s,children:o.jsxs(dr,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx(aw,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Meeting History"}),I==="all"&&j>0&&o.jsxs(Nt,{variant:"secondary",className:"ml-2",children:[j," meetings"]}),I==="incomplete"&&d.length>0&&o.jsxs(Nt,{variant:"destructive",className:"ml-2",children:[d.length," incomplete"]})]}),o.jsx(mr,{children:I==="all"?"View completed meetings with customer details and discussion notes.":"View incomplete meeting remarks from your logout sessions."})]}),o.jsxs("div",{className:"flex space-x-2 border-b",children:[o.jsxs(Ce,{variant:I==="all"?"default":"ghost",size:"sm",onClick:()=>Z("all"),className:"px-4",children:["All Meetings (",j,")"]}),o.jsxs(Ce,{variant:I==="incomplete"?"default":"ghost",size:"sm",onClick:()=>Z("incomplete"),className:"px-4",children:["Incomplete Remarks (",d.length,")"]})]}),o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col space-y-4",children:[I==="all"&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Jc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(dn,{placeholder:"Search meetings by customer, discussion...",value:w,onChange:ee=>_(ee.target.value),className:"pl-10"})]}),o.jsxs(Ce,{variant:"outline",size:"sm",children:[o.jsx(lw,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:I==="all"?o.jsx(o.Fragment,{children:p?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):q.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:w?"No meetings found matching your search.":"No meeting history available."}):o.jsx("div",{className:"space-y-3",children:q.map(ee=>o.jsx(at,{className:"border-l-4 border-l-primary cursor-pointer hover:shadow-md transition-shadow",onClick:()=>J(ee),children:o.jsx(lt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:de(ee.timestamp)})]}),ee.leadInfo&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Jv,{className:"h-4 w-4 text-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Lead: ",ee.leadInfo.id]})]}),ee.meetingDetails.customers&&ee.meetingDetails.customers.length>0?o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(pm,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm font-medium",children:["Customers (",ee.meetingDetails.customers.length,")"]})]}),ee.meetingDetails.customers.map((te,me)=>o.jsxs("div",{className:"ml-6 text-sm",children:[o.jsx("div",{className:"font-medium",children:te.customerName}),o.jsxs("div",{className:"text-muted-foreground",children:["Contact: ",te.customerEmployeeName,te.customerDesignation&&o.jsxs("span",{children:[" (",te.customerDesignation,")"]})]})]},me))]}):o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(pm,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:ee.meetingDetails.customerName||"Unknown Company"})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[o.jsx(ff,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm",children:[ee.meetingDetails.customerEmployeeName||"No contact person",ee.meetingDetails.customerDesignation&&o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",ee.meetingDetails.customerDesignation,")"]})]})]})]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Ep,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ee.meetingDetails.discussion})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ee.meetingDetails.customers&&ee.meetingDetails.customers.length>0?ee.meetingDetails.customers.map((te,me)=>o.jsxs("div",{className:"flex flex-wrap gap-1",children:[te.customerEmail&&o.jsxs(Nt,{variant:"outline",className:"text-xs",children:[o.jsx(ui,{className:"h-3 w-3 mr-1"}),te.customerEmail]}),te.customerMobile&&o.jsxs(Nt,{variant:"outline",className:"text-xs",children:[o.jsx(di,{className:"h-3 w-3 mr-1"}),te.customerMobile]}),te.customerDepartment&&o.jsx(Nt,{variant:"secondary",className:"text-xs",children:te.customerDepartment})]},me)):o.jsxs(o.Fragment,{children:[ee.meetingDetails.customerEmail&&o.jsxs(Nt,{variant:"outline",className:"text-xs",children:[o.jsx(ui,{className:"h-3 w-3 mr-1"}),ee.meetingDetails.customerEmail]}),ee.meetingDetails.customerMobile&&o.jsxs(Nt,{variant:"outline",className:"text-xs",children:[o.jsx(di,{className:"h-3 w-3 mr-1"}),ee.meetingDetails.customerMobile]}),ee.meetingDetails.customerDepartment&&o.jsx(Nt,{variant:"secondary",className:"text-xs",children:ee.meetingDetails.customerDepartment})]})})]}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>J(ee),children:"View Details"})]})})},ee.id))})}):o.jsx(o.Fragment,{children:d.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No incomplete meeting remarks available."}):o.jsx("div",{className:"space-y-3",children:d.map(ee=>o.jsx(at,{className:"border-l-4 border-l-destructive cursor-pointer hover:shadow-md transition-shadow",onClick:()=>J(ee),children:o.jsx(lt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Kr,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm font-medium text-destructive",children:de(ee.timestamp)})]}),ee.meetingDetails.customers&&ee.meetingDetails.customers.length>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(pm,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:ee.meetingDetails.customers[0].customerName})]}),ee.meetingDetails.customers[0].customerEmployeeName&&o.jsxs("div",{className:"text-sm text-muted-foreground ml-6",children:["Contact: ",ee.meetingDetails.customers[0].customerEmployeeName]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(gn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Reason:"}),o.jsx("p",{className:"text-sm line-clamp-2",children:ee.meetingDetails.incompleteReason||ee.meetingDetails.discussion})]})]})]}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>J(ee),children:"View"})]})})},ee.id))})})}),I==="all"&&T>1&&o.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(b-1)*z+1," to"," ",Math.min(b*z,j)," of ",j," ","meetings"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:Ae,disabled:b<=1,children:[o.jsx(rw,{className:"h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm",children:["Page ",b," of ",T]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:K,disabled:b>=T,children:["Next",o.jsx(sw,{className:"h-4 w-4"})]})]})]})]})]})}),k&&o.jsx(Mr,{open:M,onOpenChange:O,children:o.jsxs(dr,{className:"sm:max-w-md",children:[o.jsxs(fr,{children:[o.jsx(hr,{children:"Meeting Details"}),o.jsx(mr,{children:de(k.timestamp)})]}),o.jsxs("div",{className:"space-y-4",children:[k.meetingDetails.customers&&k.meetingDetails.customers.length>0?o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-muted-foreground",children:["Customer Contacts (",k.meetingDetails.customers.length,")"]}),o.jsx("div",{className:"space-y-3 mt-2",children:k.meetingDetails.customers.map((ee,te)=>o.jsxs("div",{className:"p-3 bg-muted/20 rounded-md space-y-2",children:[o.jsx("div",{children:o.jsx("span",{className:"text-sm font-medium",children:ee.customerName})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("p",{children:ee.customerEmployeeName})]}),ee.customerDesignation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Position:"}),o.jsx("p",{children:ee.customerDesignation})]}),ee.customerDepartment&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("p",{children:ee.customerDepartment})]}),ee.customerEmail&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("p",{children:ee.customerEmail})]}),ee.customerMobile&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),o.jsx("p",{children:ee.customerMobile})]})]})]},te))})]}):o.jsxs(o.Fragment,{children:[k.meetingDetails.customerName&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer Name"}),o.jsx("p",{className:"text-sm",children:k.meetingDetails.customerName})]}),k.meetingDetails.customerEmployeeName&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Person"}),o.jsx("p",{className:"text-sm",children:k.meetingDetails.customerEmployeeName})]}),k.meetingDetails.customerEmail&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"text-sm",children:k.meetingDetails.customerEmail})]}),k.meetingDetails.customerMobile&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mobile"}),o.jsx("p",{className:"text-sm",children:k.meetingDetails.customerMobile})]}),k.meetingDetails.customerDesignation&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Designation"}),o.jsx("p",{className:"text-sm",children:k.meetingDetails.customerDesignation})]}),k.meetingDetails.customerDepartment&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),o.jsx("p",{className:"text-sm",children:k.meetingDetails.customerDepartment})]})]}),k.leadInfo&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Associated Lead"}),o.jsxs("div",{className:"p-3 bg-blue-50 rounded-md mt-2 space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Jv,{className:"h-4 w-4 text-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Lead ID: ",k.leadInfo.id]})]}),o.jsxs("div",{className:"text-sm text-blue-600",children:["Company: ",k.leadInfo.companyName]}),o.jsxs("div",{className:"text-sm text-blue-600",children:["Contact: ",k.leadInfo.contactName]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Discussion"}),o.jsx("p",{className:"text-sm bg-muted/50 p-3 rounded-md mt-1",children:k.meetingDetails.discussion})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(Ce,{variant:"outline",onClick:()=>O(!1),children:"Close"})})]})})]})}function kT({onInstall:e,onDismiss:t}){const[s,a]=v.useState(null),[c,d]=v.useState(!1),[f,p]=v.useState(!1),[g,w]=v.useState(!1),[_,b]=v.useState(!1);v.useEffect(()=>{const P=window.matchMedia("(display-mode: standalone)").matches,j=/iPad|iPhone|iPod/.test(navigator.userAgent);b(P),w(j),p(P);const C=D=>{console.log("PWA install prompt available"),D.preventDefault(),a(D),d(!0)},k=()=>{console.log("PWA was installed"),p(!0),d(!1),a(null),e==null||e()};if(window.addEventListener("beforeinstallprompt",C),window.addEventListener("appinstalled",k),j&&!P){const D=setTimeout(()=>{d(!0)},2e3);return()=>clearTimeout(D)}return()=>{window.removeEventListener("beforeinstallprompt",C),window.removeEventListener("appinstalled",k)}},[e]);const N=async()=>{!s&&!g||s&&(s.prompt(),(await s.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),a(null),d(!1))},T=()=>{d(!1),t==null||t()};return f||!c?null:o.jsxs(at,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-accent/5",children:[o.jsx(jt,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Et,{className:"flex items-center space-x-2 text-lg",children:[o.jsx(US,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Install Fusion Tracker"}),o.jsx(Nt,{variant:"secondary",className:"bg-primary text-primary-foreground",children:"Recommended"})]}),o.jsx(Ce,{variant:"ghost",size:"sm",onClick:T,children:o.jsx(hf,{className:"h-4 w-4"})})]})}),o.jsxs(lt,{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Install this app on your device for enhanced location tracking capabilities"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(zd,{className:"h-4 w-4 text-success"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Better Background Tracking"})," - Works when phone is in pocket"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(ho,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Improved GPS Accuracy"})," - More precise location updates"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(qr,{className:"h-4 w-4 text-info"}),o.jsxs("span",{children:[o.jsx("strong",{children:"App-like Experience"})," - Faster loading and better performance"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(IS,{className:"h-4 w-4 text-accent"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Offline Support"})," - Basic functionality without internet"]})]})]}),g?o.jsxs("div",{className:"bg-info/10 border border-info/20 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm font-medium text-info mb-2",children:"iOS Installation:"}),o.jsxs("ol",{className:"text-xs text-muted-foreground space-y-1 list-decimal list-inside",children:[o.jsxs("li",{children:["Tap the ",o.jsx("strong",{children:"Share"})," button (square with arrow) in Safari"]}),o.jsxs("li",{children:["Scroll down and tap ",o.jsx("strong",{children:'"Add to Home Screen"'})]}),o.jsxs("li",{children:["Tap ",o.jsx("strong",{children:'"Add"'})," to install the app"]}),o.jsx("li",{children:"Find the app on your home screen and open it"})]})]}):o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Ce,{onClick:N,className:"flex-1",disabled:!s,children:[o.jsx(ow,{className:"h-4 w-4 mr-2"}),"Install App"]}),o.jsx(Ce,{variant:"outline",onClick:T,children:"Not Now"})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx("strong",{children:"Note:"})," Installing as a PWA provides native app-like capabilities while maintaining all web features. No app store required."]})]})]})}function MT(){const[e,t]=v.useState(!1),[s,a]=v.useState(!1);return v.useEffect(()=>{const c=window.matchMedia("(display-mode: standalone)").matches,d=/iPad|iPhone|iPod/.test(navigator.userAgent);a(c);const f=g=>{t(!0)},p=()=>{a(!0),t(!1)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",p),d&&!c&&t(!0),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",p)}},[]),{canInstall:e,isInstalled:s}}function pr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function go(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function RT(e,t){const s=pr(e);return isNaN(t)?go(e,NaN):(t&&s.setDate(s.getDate()+t),s)}const o_=6048e5,LT=864e5,i_=6e4,a_=36e5;let AT={};function jf(){return AT}function Zc(e,t){var p,g,w,_;const s=jf(),a=(t==null?void 0:t.weekStartsOn)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((_=(w=s.locale)==null?void 0:w.options)==null?void 0:_.weekStartsOn)??0,c=pr(e),d=c.getDay(),f=(d<a?7:0)+d-a;return c.setDate(c.getDate()-f),c.setHours(0,0,0,0),c}function Jd(e){return Zc(e,{weekStartsOn:1})}function l_(e){const t=pr(e),s=t.getFullYear(),a=go(e,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const c=Jd(a),d=go(e,0);d.setFullYear(s,0,4),d.setHours(0,0,0,0);const f=Jd(d);return t.getTime()>=c.getTime()?s+1:t.getTime()>=f.getTime()?s:s-1}function ef(e){const t=pr(e);return t.setHours(0,0,0,0),t}function Hy(e){const t=pr(e),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+e-+s}function DT(e,t){const s=ef(e),a=ef(t),c=+s-Hy(s),d=+a-Hy(a);return Math.round((c-d)/LT)}function OT(e){const t=l_(e),s=go(e,0);return s.setFullYear(t,0,4),s.setHours(0,0,0,0),Jd(s)}function IT(e){return go(e,Date.now())}function FT(e,t){const s=ef(e),a=ef(t);return+s==+a}function zT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $T(e){if(!zT(e)&&typeof e!="number")return!1;const t=pr(e);return!isNaN(Number(t))}function BT(e){const t=pr(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function UT(e){const t=pr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function HT(e){const t=pr(e),s=go(e,0);return s.setFullYear(t.getFullYear(),0,1),s.setHours(0,0,0,0),s}const WT={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},VT=(e,t,s)=>{let a;const c=WT[e];return typeof c=="string"?a=c:t===1?a=c.one:a=c.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function Pm(e){return(t={})=>{const s=t.width?String(t.width):e.defaultWidth;return e.formats[s]||e.formats[e.defaultWidth]}}const ZT={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qT={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GT={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YT={date:Pm({formats:ZT,defaultWidth:"full"}),time:Pm({formats:qT,defaultWidth:"full"}),dateTime:Pm({formats:GT,defaultWidth:"full"})},KT={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XT=(e,t,s,a)=>KT[e];function Nc(e){return(t,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let c;if(a==="formatting"&&e.formattingValues){const f=e.defaultFormattingWidth||e.defaultWidth,p=s!=null&&s.width?String(s.width):f;c=e.formattingValues[p]||e.formattingValues[f]}else{const f=e.defaultWidth,p=s!=null&&s.width?String(s.width):e.defaultWidth;c=e.values[p]||e.values[f]}const d=e.argumentCallback?e.argumentCallback(t):t;return c[d]}}const QT={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JT={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},e2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},t2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},r2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},s2=(e,t)=>{const s=Number(e),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},o2={ordinalNumber:s2,era:Nc({values:QT,defaultWidth:"wide"}),quarter:Nc({values:JT,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nc({values:e2,defaultWidth:"wide"}),day:Nc({values:t2,defaultWidth:"wide"}),dayPeriod:Nc({values:n2,defaultWidth:"wide",formattingValues:r2,defaultFormattingWidth:"wide"})};function jc(e){return(t,s={})=>{const a=s.width,c=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],d=t.match(c);if(!d)return null;const f=d[0],p=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(p)?a2(p,b=>b.test(f)):i2(p,b=>b.test(f));let w;w=e.valueCallback?e.valueCallback(g):g,w=s.valueCallback?s.valueCallback(w):w;const _=t.slice(f.length);return{value:w,rest:_}}}function i2(e,t){for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t(e[s]))return s}function a2(e,t){for(let s=0;s<e.length;s++)if(t(e[s]))return s}function l2(e){return(t,s={})=>{const a=t.match(e.matchPattern);if(!a)return null;const c=a[0],d=t.match(e.parsePattern);if(!d)return null;let f=e.valueCallback?e.valueCallback(d[0]):d[0];f=s.valueCallback?s.valueCallback(f):f;const p=t.slice(c.length);return{value:f,rest:p}}}const c2=/^(\d+)(th|st|nd|rd)?/i,u2=/\d+/i,d2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},f2={any:[/^b/i,/^(a|c)/i]},h2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m2={any:[/1/i,/2/i,/3/i,/4/i]},p2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},g2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},y2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},x2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},w2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_2={ordinalNumber:l2({matchPattern:c2,parsePattern:u2,valueCallback:e=>parseInt(e,10)}),era:jc({matchPatterns:d2,defaultMatchWidth:"wide",parsePatterns:f2,defaultParseWidth:"any"}),quarter:jc({matchPatterns:h2,defaultMatchWidth:"wide",parsePatterns:m2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:jc({matchPatterns:p2,defaultMatchWidth:"wide",parsePatterns:g2,defaultParseWidth:"any"}),day:jc({matchPatterns:v2,defaultMatchWidth:"wide",parsePatterns:y2,defaultParseWidth:"any"}),dayPeriod:jc({matchPatterns:x2,defaultMatchWidth:"any",parsePatterns:w2,defaultParseWidth:"any"})},b2={code:"en-US",formatDistance:VT,formatLong:YT,formatRelative:XT,localize:o2,match:_2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function S2(e){const t=pr(e);return DT(t,HT(t))+1}function N2(e){const t=pr(e),s=+Jd(t)-+OT(t);return Math.round(s/o_)+1}function c_(e,t){var _,b,N,T;const s=pr(e),a=s.getFullYear(),c=jf(),d=(t==null?void 0:t.firstWeekContainsDate)??((b=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??c.firstWeekContainsDate??((T=(N=c.locale)==null?void 0:N.options)==null?void 0:T.firstWeekContainsDate)??1,f=go(e,0);f.setFullYear(a+1,0,d),f.setHours(0,0,0,0);const p=Zc(f,t),g=go(e,0);g.setFullYear(a,0,d),g.setHours(0,0,0,0);const w=Zc(g,t);return s.getTime()>=p.getTime()?a+1:s.getTime()>=w.getTime()?a:a-1}function j2(e,t){var p,g,w,_;const s=jf(),a=(t==null?void 0:t.firstWeekContainsDate)??((g=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(w=s.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??1,c=c_(e,t),d=go(e,0);return d.setFullYear(c,0,a),d.setHours(0,0,0,0),Zc(d,t)}function E2(e,t){const s=pr(e),a=+Zc(s,t)-+j2(s,t);return Math.round(a/o_)+1}function qt(e,t){const s=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return s+a}const Jo={y(e,t){const s=e.getFullYear(),a=s>0?s:1-s;return qt(t==="yy"?a%100:a,t.length)},M(e,t){const s=e.getMonth();return t==="M"?String(s+1):qt(s+1,2)},d(e,t){return qt(e.getDate(),t.length)},a(e,t){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(e,t){return qt(e.getHours()%12||12,t.length)},H(e,t){return qt(e.getHours(),t.length)},m(e,t){return qt(e.getMinutes(),t.length)},s(e,t){return qt(e.getSeconds(),t.length)},S(e,t){const s=t.length,a=e.getMilliseconds(),c=Math.trunc(a*Math.pow(10,s-3));return qt(c,t.length)}},nl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wy={G:function(e,t,s){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(e,t,s){if(t==="yo"){const a=e.getFullYear(),c=a>0?a:1-a;return s.ordinalNumber(c,{unit:"year"})}return Jo.y(e,t)},Y:function(e,t,s,a){const c=c_(e,a),d=c>0?c:1-c;if(t==="YY"){const f=d%100;return qt(f,2)}return t==="Yo"?s.ordinalNumber(d,{unit:"year"}):qt(d,t.length)},R:function(e,t){const s=l_(e);return qt(s,t.length)},u:function(e,t){const s=e.getFullYear();return qt(s,t.length)},Q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return qt(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,s){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return qt(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,s){const a=e.getMonth();switch(t){case"M":case"MM":return Jo.M(e,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,s){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return qt(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,s,a){const c=E2(e,a);return t==="wo"?s.ordinalNumber(c,{unit:"week"}):qt(c,t.length)},I:function(e,t,s){const a=N2(e);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):qt(a,t.length)},d:function(e,t,s){return t==="do"?s.ordinalNumber(e.getDate(),{unit:"date"}):Jo.d(e,t)},D:function(e,t,s){const a=S2(e);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):qt(a,t.length)},E:function(e,t,s){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,s,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(d);case"ee":return qt(d,2);case"eo":return s.ordinalNumber(d,{unit:"day"});case"eee":return s.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(c,{width:"short",context:"formatting"});case"eeee":default:return s.day(c,{width:"wide",context:"formatting"})}},c:function(e,t,s,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(d);case"cc":return qt(d,t.length);case"co":return s.ordinalNumber(d,{unit:"day"});case"ccc":return s.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(c,{width:"narrow",context:"standalone"});case"cccccc":return s.day(c,{width:"short",context:"standalone"});case"cccc":default:return s.day(c,{width:"wide",context:"standalone"})}},i:function(e,t,s){const a=e.getDay(),c=a===0?7:a;switch(t){case"i":return String(c);case"ii":return qt(c,t.length);case"io":return s.ordinalNumber(c,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,s){const c=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(e,t,s){const a=e.getHours();let c;switch(a===12?c=nl.noon:a===0?c=nl.midnight:c=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(e,t,s){const a=e.getHours();let c;switch(a>=17?c=nl.evening:a>=12?c=nl.afternoon:a>=4?c=nl.morning:c=nl.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(e,t,s){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return Jo.h(e,t)},H:function(e,t,s){return t==="Ho"?s.ordinalNumber(e.getHours(),{unit:"hour"}):Jo.H(e,t)},K:function(e,t,s){const a=e.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):qt(a,t.length)},k:function(e,t,s){let a=e.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):qt(a,t.length)},m:function(e,t,s){return t==="mo"?s.ordinalNumber(e.getMinutes(),{unit:"minute"}):Jo.m(e,t)},s:function(e,t,s){return t==="so"?s.ordinalNumber(e.getSeconds(),{unit:"second"}):Jo.s(e,t)},S:function(e,t){return Jo.S(e,t)},X:function(e,t,s){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Zy(a);case"XXXX":case"XX":return Zi(a);case"XXXXX":case"XXX":default:return Zi(a,":")}},x:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"x":return Zy(a);case"xxxx":case"xx":return Zi(a);case"xxxxx":case"xxx":default:return Zi(a,":")}},O:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vy(a,":");case"OOOO":default:return"GMT"+Zi(a,":")}},z:function(e,t,s){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vy(a,":");case"zzzz":default:return"GMT"+Zi(a,":")}},t:function(e,t,s){const a=Math.trunc(e.getTime()/1e3);return qt(a,t.length)},T:function(e,t,s){const a=e.getTime();return qt(a,t.length)}};function Vy(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),c=Math.trunc(a/60),d=a%60;return d===0?s+String(c):s+String(c)+t+qt(d,2)}function Zy(e,t){return e%60===0?(e>0?"-":"+")+qt(Math.abs(e)/60,2):Zi(e,t)}function Zi(e,t=""){const s=e>0?"-":"+",a=Math.abs(e),c=qt(Math.trunc(a/60),2),d=qt(a%60,2);return s+c+t+d}const qy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},u_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},C2=(e,t)=>{const s=e.match(/(P+)(p+)?/)||[],a=s[1],c=s[2];if(!c)return qy(e,t);let d;switch(a){case"P":d=t.dateTime({width:"short"});break;case"PP":d=t.dateTime({width:"medium"});break;case"PPP":d=t.dateTime({width:"long"});break;case"PPPP":default:d=t.dateTime({width:"full"});break}return d.replace("{{date}}",qy(a,t)).replace("{{time}}",u_(c,t))},P2={p:u_,P:C2},T2=/^D+$/,k2=/^Y+$/,M2=["D","DD","YY","YYYY"];function R2(e){return T2.test(e)}function L2(e){return k2.test(e)}function A2(e,t,s){const a=D2(e,t,s);if(console.warn(a),M2.includes(e))throw new RangeError(a)}function D2(e,t,s){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const O2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,I2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,F2=/^'([^]*?)'?$/,z2=/''/g,$2=/[a-zA-Z]/;function rn(e,t,s){var _,b,N,T;const a=jf(),c=a.locale??b2,d=a.firstWeekContainsDate??((b=(_=a.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,f=a.weekStartsOn??((T=(N=a.locale)==null?void 0:N.options)==null?void 0:T.weekStartsOn)??0,p=pr(e);if(!$T(p))throw new RangeError("Invalid time value");let g=t.match(I2).map(P=>{const j=P[0];if(j==="p"||j==="P"){const C=P2[j];return C(P,c.formatLong)}return P}).join("").match(O2).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const j=P[0];if(j==="'")return{isToken:!1,value:B2(P)};if(Wy[j])return{isToken:!0,value:P};if(j.match($2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:P}});c.localize.preprocessor&&(g=c.localize.preprocessor(p,g));const w={firstWeekContainsDate:d,weekStartsOn:f,locale:c};return g.map(P=>{if(!P.isToken)return P.value;const j=P.value;(L2(j)||R2(j))&&A2(j,t,String(e));const C=Wy[j[0]];return C(p,j,c.localize,w)}).join("")}function B2(e){const t=e.match(F2);return t?t[1].replace(z2,"'"):e}function U2(e){return FT(e,IT(e))}function Gy(e,t){return RT(e,-t)}function H2(e,t){const a=q2(e);let c;if(a.date){const g=G2(a.date,2);c=Y2(g.restDateString,g.year)}if(!c||isNaN(c.getTime()))return new Date(NaN);const d=c.getTime();let f=0,p;if(a.time&&(f=K2(a.time),isNaN(f)))return new Date(NaN);if(a.timezone){if(p=X2(a.timezone),isNaN(p))return new Date(NaN)}else{const g=new Date(d+f),w=new Date(0);return w.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),w.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),w}return new Date(d+f+p)}const Ad={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},W2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,V2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Z2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function q2(e){const t={},s=e.split(Ad.dateTimeDelimiter);let a;if(s.length>2)return t;if(/:/.test(s[0])?a=s[0]:(t.date=s[0],a=s[1],Ad.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ad.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const c=Ad.timezone.exec(a);c?(t.time=a.replace(c[1],""),t.timezone=c[1]):t.time=a}return t}function G2(e,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(s);if(!a)return{year:NaN,restDateString:""};const c=a[1]?parseInt(a[1]):null,d=a[2]?parseInt(a[2]):null;return{year:d===null?c:d*100,restDateString:e.slice((a[1]||a[2]).length)}}function Y2(e,t){if(t===null)return new Date(NaN);const s=e.match(W2);if(!s)return new Date(NaN);const a=!!s[4],c=Ec(s[1]),d=Ec(s[2])-1,f=Ec(s[3]),p=Ec(s[4]),g=Ec(s[5])-1;if(a)return nk(t,p,g)?Q2(t,p,g):new Date(NaN);{const w=new Date(0);return!ek(t,d,f)||!tk(t,c)?new Date(NaN):(w.setUTCFullYear(t,d,Math.max(c,f)),w)}}function Ec(e){return e?parseInt(e):1}function K2(e){const t=e.match(V2);if(!t)return NaN;const s=Tm(t[1]),a=Tm(t[2]),c=Tm(t[3]);return rk(s,a,c)?s*a_+a*i_+c*1e3:NaN}function Tm(e){return e&&parseFloat(e.replace(",","."))||0}function X2(e){if(e==="Z")return 0;const t=e.match(Z2);if(!t)return 0;const s=t[1]==="+"?-1:1,a=parseInt(t[2]),c=t[3]&&parseInt(t[3])||0;return sk(a,c)?s*(a*a_+c*i_):NaN}function Q2(e,t,s){const a=new Date(0);a.setUTCFullYear(e,0,4);const c=a.getUTCDay()||7,d=(t-1)*7+s+1-c;return a.setUTCDate(a.getUTCDate()+d),a}const J2=[31,null,31,30,31,30,31,31,30,31,30,31];function d_(e){return e%400===0||e%4===0&&e%100!==0}function ek(e,t,s){return t>=0&&t<=11&&s>=1&&s<=(J2[t]||(d_(e)?29:28))}function tk(e,t){return t>=1&&t<=(d_(e)?366:365)}function nk(e,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function rk(e,t,s){return e===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&e>=0&&e<25}function sk(e,t){return t>=0&&t<=59}function f_({userId:e,onStartMeeting:t,startedMeetingMap:s,onEndMeetingFromFollowUp:a,onMeetingsFetched:c,refreshTrigger:d,hasActiveMeeting:f=!1}){const[p,g]=v.useState([]),[w,_]=v.useState(!0),[b,N]=v.useState(null),[T,P]=v.useState(null),{toast:j}=Sl();v.useEffect(()=>{if(s&&Object.keys(s).length>0){const[z]=Object.keys(s);P(z||null)}else f||P(null)},[s,f]),v.useEffect(()=>{C();const z=setInterval(C,6e4);return()=>clearInterval(z)},[e]),v.useEffect(()=>{d!==void 0&&d>0&&(console.log(" Refresh trigger changed, fetching meetings and clearing local state"),C(),P(null))},[d]);const C=async()=>{if(!e){N("User ID is required"),_(!1);return}try{N(null),console.log("Fetching meetings for user:",e);const ae=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${e}`,q=await fetch(ae);if(!q.ok)throw new Error(`Failed to fetch meetings: ${q.status}`);const J=await q.json();console.log("All meetings fetched:",J.length);const de=J.filter(K=>{const ee=K.followupDate||K.date;if(!ee)return!1;try{const te=H2(ee);return U2(te)&&K.status==="Approved"}catch{return console.warn("Invalid date format for meeting:",K._id),!1}});console.log("Today's approved meetings:",de.length),de.forEach(K=>{console.log(` Meeting ${K.companyName}: status="${K.meetingStatus}"`)});const Ae=de.filter(K=>D(K));Ae.length>0?(console.log(" Found active meetings from API after refresh:",Ae.map(K=>({id:K._id,company:K.companyName,status:K.meetingStatus}))),P(Ae[0]._id)):console.log(" No active meetings found in API. Checking startedMeetingMap..."),g(de),c&&c(de)}catch(z){console.error("Error fetching meetings:",z),N(z instanceof Error?z.message:"Failed to fetch meetings")}finally{_(!1)}};console.log("Todays meeting");const k=z=>z.meetingStatus==="complete"||z.meetingStatus==="Completed"||z.meetingStatus==="COMPLETED",D=z=>z.meetingStatus==="In Progress"||z.meetingStatus==="IN_PROGRESS"||z.meetingStatus==="Started"||z.meetingStatus==="meeting on-going",M=f||!!T||s&&Object.keys(s).length>0||p.some(z=>D(z)),O=z=>{if(console.log(" Today's Meeting: Attempting to start meeting:",z.companyName),console.log(" Has active meeting?",f),console.log(" Local active followUpId:",T),M){console.log(" BLOCKED: Cannot start - active meeting exists"),j({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting, starting and marking as local active..."),P(z._id),t(z)},I=z=>{switch(z){case"Approved":return"bg-success text-success-foreground";case"Pending":return"bg-warning text-warning-foreground";case"Rejected":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},Z=z=>{switch(z){case"Call":return o.jsx(di,{className:"h-4 w-4"});case"Email":return o.jsx(ui,{className:"h-4 w-4"});case"Meeting":return o.jsx(Kr,{className:"h-4 w-4"});default:return o.jsx(gn,{className:"h-4 w-4"})}};return w?o.jsxs(at,{children:[o.jsx(jt,{children:o.jsxs(Et,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsxs(Nt,{variant:"secondary",children:[o.jsx(zc,{className:"h-3 w-3 animate-spin mr-1"}),"Loading..."]})]})}),o.jsx(lt,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(zc,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Fetching today's approved meetings..."})]})})]}):b?o.jsxs(at,{children:[o.jsx(jt,{children:o.jsxs(Et,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsx(Nt,{variant:"destructive",children:"Error"})]})}),o.jsx(lt,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(gn,{className:"h-8 w-8 mx-auto text-destructive mb-2"}),o.jsx("p",{className:"text-sm text-destructive",children:b}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:C,className:"mt-4",children:"Retry"})]})})]}):o.jsxs(at,{children:[o.jsx(jt,{children:o.jsxs(Et,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsxs(Nt,{variant:"secondary",children:[p.length," ",p.length===1?"meeting":"meetings"]})]})}),o.jsx(lt,{className:"p-0",children:p.length===0?o.jsxs("div",{className:"text-center py-8 px-4",children:[o.jsx(Kr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),o.jsx("h4",{className:"font-medium mb-1",children:"No approved meetings for today"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Only approved meetings are shown here."})]}):o.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:p.map(z=>{s&&s[z._id];const se=T===z._id,q=D(z)||se;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[Z(z.type),o.jsx("span",{className:"font-medium",children:z.type})]}),o.jsx(Nt,{className:I(z.status),variant:"secondary",children:z.status}),z.meetingTime&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx(Tn,{className:"h-3 w-3"}),z.meetingTime]})]}),o.jsxs("div",{className:"space-y-1",children:[z.companyName&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Sp,{className:"h-3 w-3"}),o.jsx("span",{className:"font-medium",children:z.companyName})]}),z.customerName&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ff,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:z.customerName}),z.customerDesignation&&o.jsxs("span",{className:"text-muted-foreground",children:[" ",z.customerDesignation]})]}),z.customerMobile&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(di,{className:"h-3 w-3"}),z.customerMobile]}),z.customerEmail&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ui,{className:"h-3 w-3"}),z.customerEmail]}),z.remark&&o.jsxs("div",{className:"text-sm text-muted-foreground mt-2 p-2 bg-muted/50 rounded",children:[o.jsx("span",{className:"font-medium",children:"Note: "}),z.remark]})]})]}),z.meetingStatus==="Incomplete"||!1?o.jsxs(Ce,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 border-orange-500 text-orange-600",title:"Meeting marked as incomplete",children:[o.jsx(gn,{className:"h-4 w-4 mr-2"}),"Incomplete"]}):k(z)?o.jsxs(Ce,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0",children:[o.jsx(qr,{className:"h-4 w-4 mr-2"}),"Complete"]}):q?o.jsxs(Ce,{size:"sm",variant:"destructive",onClick:()=>{console.log(" End Meeting clicked for:",z._id),console.log(" startedMeetingMap:",s);const de=s==null?void 0:s[z._id];a&&de?(console.log(" Calling onEndMeetingFromFollowUp with:",z._id,de),a(z._id,de)):(console.warn(" Cannot end meeting - missing handler or meetingId:",{hasHandler:!!a,meetingId:de,followUpId:z._id}),a&&a(z._id,""))},className:"flex-shrink-0",children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),"End Meeting"]}):M?o.jsxs(Ce,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 opacity-50 cursor-not-allowed",title:"Complete your current meeting first",children:[o.jsx(Xv,{className:"h-4 w-4 mr-2"}),"Meeting Active"]}):o.jsxs(Ce,{size:"sm",onClick:()=>O(z),className:"flex-shrink-0",children:[o.jsx(Xv,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})},z._id)})})})]})}var ok="Label",h_=v.forwardRef((e,t)=>o.jsx(xt.label,{...e,ref:t,onMouseDown:s=>{var c;s.target.closest("button, input, select, textarea")||((c=e.onMouseDown)==null||c.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));h_.displayName=ok;var m_=h_;const ik=Qc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ot=v.forwardRef(({className:e,...t},s)=>o.jsx(m_,{ref:s,className:ht(ik(),e),...t}));Ot.displayName=m_.displayName;const gi=v.forwardRef(({className:e,...t},s)=>o.jsx("textarea",{className:ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));gi.displayName="Textarea";function rp(e,[t,s]){return Math.min(s,Math.max(t,e))}var ak=v.createContext(void 0);function p_(e){const t=v.useContext(ak);return e||t||"ltr"}var lk="DismissableLayer",sp="dismissableLayer.update",ck="dismissableLayer.pointerDownOutside",uk="dismissableLayer.focusOutside",Yy,g_=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),v_=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...g}=e,w=v.useContext(g_),[_,b]=v.useState(null),N=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=v.useState({}),P=Rt(t,z=>b(z)),j=Array.from(w.layers),[C]=[...w.layersWithOutsidePointerEventsDisabled].slice(-1),k=j.indexOf(C),D=_?j.indexOf(_):-1,M=w.layersWithOutsidePointerEventsDisabled.size>0,O=D>=k,I=hk(z=>{const se=z.target,ae=[...w.branches].some(q=>q.contains(se));!O||ae||(c==null||c(z),f==null||f(z),z.defaultPrevented||p==null||p())},N),Z=mk(z=>{const se=z.target;[...w.branches].some(q=>q.contains(se))||(d==null||d(z),f==null||f(z),z.defaultPrevented||p==null||p())},N);return xp(z=>{D===w.layers.size-1&&(a==null||a(z),!z.defaultPrevented&&p&&(z.preventDefault(),p()))},N),v.useEffect(()=>{if(_)return s&&(w.layersWithOutsidePointerEventsDisabled.size===0&&(Yy=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),w.layersWithOutsidePointerEventsDisabled.add(_)),w.layers.add(_),Ky(),()=>{s&&w.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=Yy)}},[_,N,s,w]),v.useEffect(()=>()=>{_&&(w.layers.delete(_),w.layersWithOutsidePointerEventsDisabled.delete(_),Ky())},[_,w]),v.useEffect(()=>{const z=()=>T({});return document.addEventListener(sp,z),()=>document.removeEventListener(sp,z)},[]),o.jsx(xt.div,{...g,ref:P,style:{pointerEvents:M?O?"auto":"none":void 0,...e.style},onFocusCapture:ct(e.onFocusCapture,Z.onFocusCapture),onBlurCapture:ct(e.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:ct(e.onPointerDownCapture,I.onPointerDownCapture)})});v_.displayName=lk;var dk="DismissableLayerBranch",fk=v.forwardRef((e,t)=>{const s=v.useContext(g_),a=v.useRef(null),c=Rt(t,a);return v.useEffect(()=>{const d=a.current;if(d)return s.branches.add(d),()=>{s.branches.delete(d)}},[s.branches]),o.jsx(xt.div,{...e,ref:c})});fk.displayName=dk;function hk(e,t=globalThis==null?void 0:globalThis.document){const s=on(e),a=v.useRef(!1),c=v.useRef(()=>{});return v.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let g=function(){y_(ck,s,w,{discrete:!0})};const w={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=g,t.addEventListener("click",c.current,{once:!0})):g()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,s]),{onPointerDownCapture:()=>a.current=!0}}function mk(e,t=globalThis==null?void 0:globalThis.document){const s=on(e),a=v.useRef(!1);return v.useEffect(()=>{const c=d=>{d.target&&!a.current&&y_(uk,s,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,s]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Ky(){const e=new CustomEvent(sp);document.dispatchEvent(e)}function y_(e,t,s,{discrete:a}){const c=s.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&c.addEventListener(e,t,{once:!0}),a?lf(c,d):c.dispatchEvent(d)}var km=0;function pk(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Xy()),document.body.insertAdjacentElement("beforeend",e[1]??Xy()),km++,()=>{km===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),km--}},[])}function Xy(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var gk="Portal",x_=v.forwardRef((e,t)=>{var p;const{container:s,...a}=e,[c,d]=v.useState(!1);fn(()=>d(!0),[]);const f=s||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?af.createPortal(o.jsx(xt.div,{...a,ref:t}),f):null});x_.displayName=gk;function vk(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var w_=E0(),Mm=function(){},Ef=v.forwardRef(function(e,t){var s=v.useRef(null),a=v.useState({onScrollCapture:Mm,onWheelCapture:Mm,onTouchMoveCapture:Mm}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,g=e.className,w=e.removeScrollBar,_=e.enabled,b=e.shards,N=e.sideCar,T=e.noIsolation,P=e.inert,j=e.allowPinchZoom,C=e.as,k=C===void 0?"div":C,D=e.gapMode,M=Wp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=N,I=j0([s,t]),Z=Wn(Wn({},M),c);return v.createElement(v.Fragment,null,_&&v.createElement(O,{sideCar:w_,removeScrollBar:w,shards:b,noIsolation:T,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:s,gapMode:D}),f?v.cloneElement(v.Children.only(p),Wn(Wn({},Z),{ref:I})):v.createElement(k,Wn({},Z,{className:g,ref:I}),p))});Ef.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ef.classNames={fullWidth:Fc,zeroRight:Ic};var op=!1;if(typeof window<"u")try{var Dd=Object.defineProperty({},"passive",{get:function(){return op=!0,!0}});window.addEventListener("test",Dd,Dd),window.removeEventListener("test",Dd,Dd)}catch{op=!1}var rl=op?{passive:!1}:!1,yk=function(e){return e.tagName==="TEXTAREA"},__=function(e,t){var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!yk(e)&&s[t]==="visible")},xk=function(e){return __(e,"overflowY")},wk=function(e){return __(e,"overflowX")},Qy=function(e,t){var s=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=b_(e,a);if(c){var d=S_(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==s.body);return!1},_k=function(e){var t=e.scrollTop,s=e.scrollHeight,a=e.clientHeight;return[t,s,a]},bk=function(e){var t=e.scrollLeft,s=e.scrollWidth,a=e.clientWidth;return[t,s,a]},b_=function(e,t){return e==="v"?xk(t):wk(t)},S_=function(e,t){return e==="v"?_k(t):bk(t)},Sk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Nk=function(e,t,s,a,c){var d=Sk(e,window.getComputedStyle(t).direction),f=d*a,p=s.target,g=t.contains(p),w=!1,_=f>0,b=0,N=0;do{var T=S_(e,p),P=T[0],j=T[1],C=T[2],k=j-C-d*P;(P||k)&&b_(e,p)&&(b+=k,N+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!g&&p!==document.body||g&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(N)<1)&&(w=!0),w},Od=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Jy=function(e){return[e.deltaX,e.deltaY]},ex=function(e){return e&&"current"in e?e.current:e},jk=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ek=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ck=0,sl=[];function Pk(e){var t=v.useRef([]),s=v.useRef([0,0]),a=v.useRef(),c=v.useState(Ck++)[0],d=v.useState(Vp)[0],f=v.useRef(e);v.useEffect(function(){f.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=N0([e.lockRef.current],(e.shards||[]).map(ex),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=v.useCallback(function(j,C){if("touches"in j&&j.touches.length===2)return!f.current.allowPinchZoom;var k=Od(j),D=s.current,M="deltaX"in j?j.deltaX:D[0]-k[0],O="deltaY"in j?j.deltaY:D[1]-k[1],I,Z=j.target,z=Math.abs(M)>Math.abs(O)?"h":"v";if("touches"in j&&z==="h"&&Z.type==="range")return!1;var se=Qy(z,Z);if(!se)return!0;if(se?I=z:(I=z==="v"?"h":"v",se=Qy(z,Z)),!se)return!1;if(!a.current&&"changedTouches"in j&&(M||O)&&(a.current=I),!I)return!0;var ae=a.current||I;return Nk(ae,C,j,ae==="h"?M:O)},[]),g=v.useCallback(function(j){var C=j;if(!(!sl.length||sl[sl.length-1]!==d)){var k="deltaY"in C?Jy(C):Od(C),D=t.current.filter(function(I){return I.name===C.type&&(I.target===C.target||C.target===I.shadowParent)&&jk(I.delta,k)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var M=(f.current.shards||[]).map(ex).filter(Boolean).filter(function(I){return I.contains(C.target)}),O=M.length>0?p(C,M[0]):!f.current.noIsolation;O&&C.cancelable&&C.preventDefault()}}},[]),w=v.useCallback(function(j,C,k,D){var M={name:j,delta:C,target:k,should:D,shadowParent:Tk(k)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(O){return O!==M})},1)},[]),_=v.useCallback(function(j){s.current=Od(j),a.current=void 0},[]),b=v.useCallback(function(j){w(j.type,Jy(j),j.target,p(j,e.lockRef.current))},[]),N=v.useCallback(function(j){w(j.type,Od(j),j.target,p(j,e.lockRef.current))},[]);v.useEffect(function(){return sl.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:N}),document.addEventListener("wheel",g,rl),document.addEventListener("touchmove",g,rl),document.addEventListener("touchstart",_,rl),function(){sl=sl.filter(function(j){return j!==d}),document.removeEventListener("wheel",g,rl),document.removeEventListener("touchmove",g,rl),document.removeEventListener("touchstart",_,rl)}},[]);var T=e.removeScrollBar,P=e.inert;return v.createElement(v.Fragment,null,P?v.createElement(d,{styles:Ek(c)}):null,T?v.createElement(k0,{gapMode:e.gapMode}):null)}function Tk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const kk=P0(w_,Pk);var N_=v.forwardRef(function(e,t){return v.createElement(Ef,Wn({},e,{ref:t,sideCar:kk}))});N_.classNames=Ef.classNames;var Mk=[" ","Enter","ArrowUp","ArrowDown"],Rk=[" ","Enter"],ru="Select",[Cf,Pf,Lk]=Px(ru),[Tl,ML]=Kc(ru,[Lk,vf]),Tf=vf(),[Ak,yi]=Tl(ru),[Dk,Ok]=Tl(ru),j_=e=>{const{__scopeSelect:t,children:s,open:a,defaultOpen:c,onOpenChange:d,value:f,defaultValue:p,onValueChange:g,dir:w,name:_,autoComplete:b,disabled:N,required:T}=e,P=Tf(t),[j,C]=v.useState(null),[k,D]=v.useState(null),[M,O]=v.useState(!1),I=p_(w),[Z=!1,z]=Wd({prop:a,defaultProp:c,onChange:d}),[se,ae]=Wd({prop:f,defaultProp:p,onChange:g}),q=v.useRef(null),J=j?!!j.closest("form"):!0,[de,Ae]=v.useState(new Set),K=Array.from(de).map(ee=>ee.props.value).join(";");return o.jsx(_E,{...P,children:o.jsxs(Ak,{required:T,scope:t,trigger:j,onTriggerChange:C,valueNode:k,onValueNodeChange:D,valueNodeHasChildren:M,onValueNodeHasChildrenChange:O,contentId:ll(),value:se,onValueChange:ae,open:Z,onOpenChange:z,dir:I,triggerPointerDownPosRef:q,disabled:N,children:[o.jsx(Cf.Provider,{scope:t,children:o.jsx(Dk,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(ee=>{Ae(te=>new Set(te).add(ee))},[]),onNativeOptionRemove:v.useCallback(ee=>{Ae(te=>{const me=new Set(te);return me.delete(ee),me})},[]),children:s})}),J?o.jsxs(K_,{"aria-hidden":!0,required:T,tabIndex:-1,name:_,autoComplete:b,value:se,onChange:ee=>ae(ee.target.value),disabled:N,children:[se===void 0?o.jsx("option",{value:""}):null,Array.from(de)]},K):null]})})};j_.displayName=ru;var E_="SelectTrigger",C_=v.forwardRef((e,t)=>{const{__scopeSelect:s,disabled:a=!1,...c}=e,d=Tf(s),f=yi(E_,s),p=f.disabled||a,g=Rt(t,f.onTriggerChange),w=Pf(s),[_,b,N]=X_(P=>{const j=w().filter(D=>!D.disabled),C=j.find(D=>D.value===f.value),k=Q_(j,P,C);k!==void 0&&f.onValueChange(k.value)}),T=()=>{p||(f.onOpenChange(!0),N())};return o.jsx(Uw,{asChild:!0,...d,children:o.jsx(xt.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":Y_(f.value)?"":void 0,...c,ref:g,onClick:ct(c.onClick,P=>{P.currentTarget.focus()}),onPointerDown:ct(c.onPointerDown,P=>{const j=P.target;j.hasPointerCapture(P.pointerId)&&j.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&(T(),f.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)},P.preventDefault())}),onKeyDown:ct(c.onKeyDown,P=>{const j=_.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&b(P.key),!(j&&P.key===" ")&&Mk.includes(P.key)&&(T(),P.preventDefault())})})})});C_.displayName=E_;var P_="SelectValue",T_=v.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:c,children:d,placeholder:f="",...p}=e,g=yi(P_,s),{onValueNodeHasChildrenChange:w}=g,_=d!==void 0,b=Rt(t,g.onValueNodeChange);return fn(()=>{w(_)},[w,_]),o.jsx(xt.span,{...p,ref:b,style:{pointerEvents:"none"},children:Y_(g.value)?o.jsx(o.Fragment,{children:f}):d})});T_.displayName=P_;var Ik="SelectIcon",k_=v.forwardRef((e,t)=>{const{__scopeSelect:s,children:a,...c}=e;return o.jsx(xt.span,{"aria-hidden":!0,...c,ref:t,children:a||""})});k_.displayName=Ik;var Fk="SelectPortal",M_=e=>o.jsx(x_,{asChild:!0,...e});M_.displayName=Fk;var la="SelectContent",R_=v.forwardRef((e,t)=>{const s=yi(la,e.__scopeSelect),[a,c]=v.useState();if(fn(()=>{c(new DocumentFragment)},[]),!s.open){const d=a;return d?ua.createPortal(o.jsx(L_,{scope:e.__scopeSelect,children:o.jsx(Cf.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),d):null}return o.jsx(A_,{...e,ref:t})});R_.displayName=la;var fo=10,[L_,xi]=Tl(la),zk="SelectContentImpl",A_=v.forwardRef((e,t)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,side:p,sideOffset:g,align:w,alignOffset:_,arrowPadding:b,collisionBoundary:N,collisionPadding:T,sticky:P,hideWhenDetached:j,avoidCollisions:C,...k}=e,D=yi(la,s),[M,O]=v.useState(null),[I,Z]=v.useState(null),z=Rt(t,B=>O(B)),[se,ae]=v.useState(null),[q,J]=v.useState(null),de=Pf(s),[Ae,K]=v.useState(!1),ee=v.useRef(!1);v.useEffect(()=>{if(M)return O0(M)},[M]),pk();const te=v.useCallback(B=>{const[ge,...Ee]=de().map(Je=>Je.ref.current),[Ve]=Ee.slice(-1),ut=document.activeElement;for(const Je of B)if(Je===ut||(Je==null||Je.scrollIntoView({block:"nearest"}),Je===ge&&I&&(I.scrollTop=0),Je===Ve&&I&&(I.scrollTop=I.scrollHeight),Je==null||Je.focus(),document.activeElement!==ut))return},[de,I]),me=v.useCallback(()=>te([se,M]),[te,se,M]);v.useEffect(()=>{Ae&&me()},[Ae,me]);const{onOpenChange:U,triggerPointerDownPosRef:ue}=D;v.useEffect(()=>{if(M){let B={x:0,y:0};const ge=Ve=>{var ut,Je;B={x:Math.abs(Math.round(Ve.pageX)-(((ut=ue.current)==null?void 0:ut.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((Je=ue.current)==null?void 0:Je.y)??0))}},Ee=Ve=>{B.x<=10&&B.y<=10?Ve.preventDefault():M.contains(Ve.target)||U(!1),document.removeEventListener("pointermove",ge),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[M,U,ue]),v.useEffect(()=>{const B=()=>U(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[U]);const[oe,F]=X_(B=>{const ge=de().filter(ut=>!ut.disabled),Ee=ge.find(ut=>ut.ref.current===document.activeElement),Ve=Q_(ge,B,Ee);Ve&&setTimeout(()=>Ve.ref.current.focus())}),Q=v.useCallback((B,ge,Ee)=>{const Ve=!ee.current&&!Ee;(D.value!==void 0&&D.value===ge||Ve)&&(ae(B),Ve&&(ee.current=!0))},[D.value]),ye=v.useCallback(()=>M==null?void 0:M.focus(),[M]),Re=v.useCallback((B,ge,Ee)=>{const Ve=!ee.current&&!Ee;(D.value!==void 0&&D.value===ge||Ve)&&J(B)},[D.value]),Pe=a==="popper"?ip:D_,Y=Pe===ip?{side:p,sideOffset:g,align:w,alignOffset:_,arrowPadding:b,collisionBoundary:N,collisionPadding:T,sticky:P,hideWhenDetached:j,avoidCollisions:C}:{};return o.jsx(L_,{scope:s,content:M,viewport:I,onViewportChange:Z,itemRefCallback:Q,selectedItem:se,onItemLeave:ye,itemTextRefCallback:Re,focusSelectedItem:me,selectedItemText:q,position:a,isPositioned:Ae,searchRef:oe,children:o.jsx(N_,{as:sa,allowPinchZoom:!0,children:o.jsx(Hp,{asChild:!0,trapped:D.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:ct(c,B=>{var ge;(ge=D.trigger)==null||ge.focus({preventScroll:!0}),B.preventDefault()}),children:o.jsx(v_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:o.jsx(Pe,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:B=>B.preventDefault(),...k,...Y,onPlaced:()=>K(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:ct(k.onKeyDown,B=>{const ge=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!ge&&B.key.length===1&&F(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let Ve=de().filter(ut=>!ut.disabled).map(ut=>ut.ref.current);if(["ArrowUp","End"].includes(B.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const ut=B.target,Je=Ve.indexOf(ut);Ve=Ve.slice(Je+1)}setTimeout(()=>te(Ve)),B.preventDefault()}})})})})})})});A_.displayName=zk;var $k="SelectItemAlignedPosition",D_=v.forwardRef((e,t)=>{const{__scopeSelect:s,onPlaced:a,...c}=e,d=yi(la,s),f=xi(la,s),[p,g]=v.useState(null),[w,_]=v.useState(null),b=Rt(t,z=>_(z)),N=Pf(s),T=v.useRef(!1),P=v.useRef(!0),{viewport:j,selectedItem:C,selectedItemText:k,focusSelectedItem:D}=f,M=v.useCallback(()=>{if(d.trigger&&d.valueNode&&p&&w&&j&&C&&k){const z=d.trigger.getBoundingClientRect(),se=w.getBoundingClientRect(),ae=d.valueNode.getBoundingClientRect(),q=k.getBoundingClientRect();if(d.dir!=="rtl"){const ut=q.left-se.left,Je=ae.left-ut,Lt=z.left-Je,Wt=z.width+Lt,xn=Math.max(Wt,se.width),X=window.innerWidth-fo,ve=rp(Je,[fo,X-xn]);p.style.minWidth=Wt+"px",p.style.left=ve+"px"}else{const ut=se.right-q.right,Je=window.innerWidth-ae.right-ut,Lt=window.innerWidth-z.right-Je,Wt=z.width+Lt,xn=Math.max(Wt,se.width),X=window.innerWidth-fo,ve=rp(Je,[fo,X-xn]);p.style.minWidth=Wt+"px",p.style.right=ve+"px"}const J=N(),de=window.innerHeight-fo*2,Ae=j.scrollHeight,K=window.getComputedStyle(w),ee=parseInt(K.borderTopWidth,10),te=parseInt(K.paddingTop,10),me=parseInt(K.borderBottomWidth,10),U=parseInt(K.paddingBottom,10),ue=ee+te+Ae+U+me,oe=Math.min(C.offsetHeight*5,ue),F=window.getComputedStyle(j),Q=parseInt(F.paddingTop,10),ye=parseInt(F.paddingBottom,10),Re=z.top+z.height/2-fo,Pe=de-Re,Y=C.offsetHeight/2,B=C.offsetTop+Y,ge=ee+te+B,Ee=ue-ge;if(ge<=Re){const ut=C===J[J.length-1].ref.current;p.style.bottom="0px";const Je=w.clientHeight-j.offsetTop-j.offsetHeight,Lt=Math.max(Pe,Y+(ut?ye:0)+Je+me),Wt=ge+Lt;p.style.height=Wt+"px"}else{const ut=C===J[0].ref.current;p.style.top="0px";const Lt=Math.max(Re,ee+j.offsetTop+(ut?Q:0)+Y)+Ee;p.style.height=Lt+"px",j.scrollTop=ge-Re+j.offsetTop}p.style.margin=`${fo}px 0`,p.style.minHeight=oe+"px",p.style.maxHeight=de+"px",a==null||a(),requestAnimationFrame(()=>T.current=!0)}},[N,d.trigger,d.valueNode,p,w,j,C,k,d.dir,a]);fn(()=>M(),[M]);const[O,I]=v.useState();fn(()=>{w&&I(window.getComputedStyle(w).zIndex)},[w]);const Z=v.useCallback(z=>{z&&P.current===!0&&(M(),D==null||D(),P.current=!1)},[M,D]);return o.jsx(Uk,{scope:s,contentWrapper:p,shouldExpandOnScrollRef:T,onScrollButtonChange:Z,children:o.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:o.jsx(xt.div,{...c,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});D_.displayName=$k;var Bk="SelectPopperPosition",ip=v.forwardRef((e,t)=>{const{__scopeSelect:s,align:a="start",collisionPadding:c=fo,...d}=e,f=Tf(s);return o.jsx(Hw,{...f,...d,ref:t,align:a,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ip.displayName=Bk;var[Uk,Kp]=Tl(la,{}),ap="SelectViewport",O_=v.forwardRef((e,t)=>{const{__scopeSelect:s,nonce:a,...c}=e,d=xi(ap,s),f=Kp(ap,s),p=Rt(t,d.onViewportChange),g=v.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Cf.Slot,{scope:s,children:o.jsx(xt.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:p,style:{position:"relative",flex:1,overflow:"auto",...c.style},onScroll:ct(c.onScroll,w=>{const _=w.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:N}=f;if(N!=null&&N.current&&b){const T=Math.abs(g.current-_.scrollTop);if(T>0){const P=window.innerHeight-fo*2,j=parseFloat(b.style.minHeight),C=parseFloat(b.style.height),k=Math.max(j,C);if(k<P){const D=k+T,M=Math.min(P,D),O=D-M;b.style.height=M+"px",b.style.bottom==="0px"&&(_.scrollTop=O>0?O:0,b.style.justifyContent="flex-end")}}}g.current=_.scrollTop})})})]})});O_.displayName=ap;var I_="SelectGroup",[Hk,Wk]=Tl(I_),Vk=v.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,c=ll();return o.jsx(Hk,{scope:s,id:c,children:o.jsx(xt.div,{role:"group","aria-labelledby":c,...a,ref:t})})});Vk.displayName=I_;var F_="SelectLabel",z_=v.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,c=Wk(F_,s);return o.jsx(xt.div,{id:c.id,...a,ref:t})});z_.displayName=F_;var tf="SelectItem",[Zk,$_]=Tl(tf),B_=v.forwardRef((e,t)=>{const{__scopeSelect:s,value:a,disabled:c=!1,textValue:d,...f}=e,p=yi(tf,s),g=xi(tf,s),w=p.value===a,[_,b]=v.useState(d??""),[N,T]=v.useState(!1),P=Rt(t,k=>{var D;return(D=g.itemRefCallback)==null?void 0:D.call(g,k,a,c)}),j=ll(),C=()=>{c||(p.onValueChange(a),p.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(Zk,{scope:s,value:a,disabled:c,textId:j,isSelected:w,onItemTextChange:v.useCallback(k=>{b(D=>D||((k==null?void 0:k.textContent)??"").trim())},[]),children:o.jsx(Cf.ItemSlot,{scope:s,value:a,disabled:c,textValue:_,children:o.jsx(xt.div,{role:"option","aria-labelledby":j,"data-highlighted":N?"":void 0,"aria-selected":w&&N,"data-state":w?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...f,ref:P,onFocus:ct(f.onFocus,()=>T(!0)),onBlur:ct(f.onBlur,()=>T(!1)),onPointerUp:ct(f.onPointerUp,C),onPointerMove:ct(f.onPointerMove,k=>{var D;c?(D=g.onItemLeave)==null||D.call(g):k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ct(f.onPointerLeave,k=>{var D;k.currentTarget===document.activeElement&&((D=g.onItemLeave)==null||D.call(g))}),onKeyDown:ct(f.onKeyDown,k=>{var M;((M=g.searchRef)==null?void 0:M.current)!==""&&k.key===" "||(Rk.includes(k.key)&&C(),k.key===" "&&k.preventDefault())})})})})});B_.displayName=tf;var Mc="SelectItemText",U_=v.forwardRef((e,t)=>{const{__scopeSelect:s,className:a,style:c,...d}=e,f=yi(Mc,s),p=xi(Mc,s),g=$_(Mc,s),w=Ok(Mc,s),[_,b]=v.useState(null),N=Rt(t,k=>b(k),g.onItemTextChange,k=>{var D;return(D=p.itemTextRefCallback)==null?void 0:D.call(p,k,g.value,g.disabled)}),T=_==null?void 0:_.textContent,P=v.useMemo(()=>o.jsx("option",{value:g.value,disabled:g.disabled,children:T},g.value),[g.disabled,g.value,T]),{onNativeOptionAdd:j,onNativeOptionRemove:C}=w;return fn(()=>(j(P),()=>C(P)),[j,C,P]),o.jsxs(o.Fragment,{children:[o.jsx(xt.span,{id:g.textId,...d,ref:N}),g.isSelected&&f.valueNode&&!f.valueNodeHasChildren?ua.createPortal(d.children,f.valueNode):null]})});U_.displayName=Mc;var H_="SelectItemIndicator",W_=v.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return $_(H_,s).isSelected?o.jsx(xt.span,{"aria-hidden":!0,...a,ref:t}):null});W_.displayName=H_;var lp="SelectScrollUpButton",V_=v.forwardRef((e,t)=>{const s=xi(lp,e.__scopeSelect),a=Kp(lp,e.__scopeSelect),[c,d]=v.useState(!1),f=Rt(t,a.onScrollButtonChange);return fn(()=>{if(s.viewport&&s.isPositioned){let p=function(){const w=g.scrollTop>0;d(w)};const g=s.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[s.viewport,s.isPositioned]),c?o.jsx(q_,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=s;p&&g&&(p.scrollTop=p.scrollTop-g.offsetHeight)}}):null});V_.displayName=lp;var cp="SelectScrollDownButton",Z_=v.forwardRef((e,t)=>{const s=xi(cp,e.__scopeSelect),a=Kp(cp,e.__scopeSelect),[c,d]=v.useState(!1),f=Rt(t,a.onScrollButtonChange);return fn(()=>{if(s.viewport&&s.isPositioned){let p=function(){const w=g.scrollHeight-g.clientHeight,_=Math.ceil(g.scrollTop)<w;d(_)};const g=s.viewport;return p(),g.addEventListener("scroll",p),()=>g.removeEventListener("scroll",p)}},[s.viewport,s.isPositioned]),c?o.jsx(q_,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:g}=s;p&&g&&(p.scrollTop=p.scrollTop+g.offsetHeight)}}):null});Z_.displayName=cp;var q_=v.forwardRef((e,t)=>{const{__scopeSelect:s,onAutoScroll:a,...c}=e,d=xi("SelectScrollButton",s),f=v.useRef(null),p=Pf(s),g=v.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return v.useEffect(()=>()=>g(),[g]),fn(()=>{var _;const w=p().find(b=>b.ref.current===document.activeElement);(_=w==null?void 0:w.ref.current)==null||_.scrollIntoView({block:"nearest"})},[p]),o.jsx(xt.div,{"aria-hidden":!0,...c,ref:t,style:{flexShrink:0,...c.style},onPointerDown:ct(c.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(a,50))}),onPointerMove:ct(c.onPointerMove,()=>{var w;(w=d.onItemLeave)==null||w.call(d),f.current===null&&(f.current=window.setInterval(a,50))}),onPointerLeave:ct(c.onPointerLeave,()=>{g()})})}),qk="SelectSeparator",G_=v.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e;return o.jsx(xt.div,{"aria-hidden":!0,...a,ref:t})});G_.displayName=qk;var up="SelectArrow",Gk=v.forwardRef((e,t)=>{const{__scopeSelect:s,...a}=e,c=Tf(s),d=yi(up,s),f=xi(up,s);return d.open&&f.position==="popper"?o.jsx(Ww,{...c,...a,ref:t}):null});Gk.displayName=up;function Y_(e){return e===""||e===void 0}var K_=v.forwardRef((e,t)=>{const{value:s,...a}=e,c=v.useRef(null),d=Rt(t,c),f=vk(s);return v.useEffect(()=>{const p=c.current,g=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(g,"value").set;if(f!==s&&_){const b=new Event("change",{bubbles:!0});_.call(p,s),p.dispatchEvent(b)}},[f,s]),o.jsx(Xc,{asChild:!0,children:o.jsx("select",{...a,ref:d,defaultValue:s})})});K_.displayName="BubbleSelect";function X_(e){const t=on(e),s=v.useRef(""),a=v.useRef(0),c=v.useCallback(f=>{const p=s.current+f;t(p),function g(w){s.current=w,window.clearTimeout(a.current),w!==""&&(a.current=window.setTimeout(()=>g(""),1e3))}(p)},[t]),d=v.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,c,d]}function Q_(e,t,s){const c=t.length>1&&Array.from(t).every(w=>w===t[0])?t[0]:t,d=s?e.indexOf(s):-1;let f=Yk(e,Math.max(d,0));c.length===1&&(f=f.filter(w=>w!==s));const g=f.find(w=>w.textValue.toLowerCase().startsWith(c.toLowerCase()));return g!==s?g:void 0}function Yk(e,t){return e.map((s,a)=>e[(t+a)%e.length])}var Kk=j_,J_=C_,Xk=T_,Qk=k_,Jk=M_,eb=R_,eM=O_,tb=z_,nb=B_,tM=U_,nM=W_,rb=V_,sb=Z_,ob=G_;const ds=Kk,fs=Xk,Gr=v.forwardRef(({className:e,children:t,...s},a)=>o.jsxs(J_,{ref:a,className:ht("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,o.jsx(Qk,{asChild:!0,children:o.jsx(jp,{className:"h-4 w-4 opacity-50"})})]}));Gr.displayName=J_.displayName;const ib=v.forwardRef(({className:e,...t},s)=>o.jsx(rb,{ref:s,className:ht("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(DS,{className:"h-4 w-4"})}));ib.displayName=rb.displayName;const ab=v.forwardRef(({className:e,...t},s)=>o.jsx(sb,{ref:s,className:ht("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(jp,{className:"h-4 w-4"})}));ab.displayName=sb.displayName;const Yr=v.forwardRef(({className:e,children:t,position:s="popper",...a},c)=>o.jsx(Jk,{children:o.jsxs(eb,{ref:c,className:ht("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[o.jsx(ib,{}),o.jsx(eM,{className:ht("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(ab,{})]})}));Yr.displayName=eb.displayName;const rM=v.forwardRef(({className:e,...t},s)=>o.jsx(tb,{ref:s,className:ht("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));rM.displayName=tb.displayName;const Gt=v.forwardRef(({className:e,children:t,...s},a)=>o.jsxs(nb,{ref:a,className:ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(nM,{children:o.jsx(nw,{className:"h-4 w-4"})})}),o.jsx(tM,{children:t})]}));Gt.displayName=nb.displayName;const sM=v.forwardRef(({className:e,...t},s)=>o.jsx(ob,{ref:s,className:ht("-mx-1 my-1 h-px bg-muted",e),...t}));sM.displayName=ob.displayName;function tx({value:e,onValueChange:t,options:s=[],placeholder:a="Select an option...",emptyMessage:c="No options found.",disabled:d=!1,className:f,searchPlaceholder:p="Search..."}){const[g,w]=v.useState(!1),[_,b]=v.useState(""),N=Array.isArray(s)?s:[],T=_?N.filter(k=>{var Z;if(!k||typeof k.value!="string"||typeof k.label!="string")return!1;const D=_.toLowerCase(),M=k.label.toLowerCase().includes(D),O=k.value.toLowerCase().includes(D),I=(Z=k.searchTerms)==null?void 0:Z.some(z=>z&&typeof z=="string"&&z.toLowerCase().includes(D));return M||O||I}):N,P=N.find(k=>(k==null?void 0:k.value)===e),j=k=>{t(k===e?"":k),w(!1),b("")},C=()=>{d||(w(!g),g||b(""))};return o.jsxs("div",{className:"relative",children:[o.jsxs(Ce,{variant:"outline",role:"combobox","aria-expanded":g,className:ht("w-full justify-between",f),disabled:d,onClick:C,type:"button",children:[P?P.label:a,o.jsx(jp,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),g&&o.jsxs("div",{className:"absolute top-full left-0 right-0 z-[1001] mt-1 bg-popover border rounded-md shadow-lg",children:[o.jsxs("div",{className:"flex items-center border-b px-3 py-2",children:[o.jsx(Jc,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(dn,{placeholder:p,value:_,onChange:k=>b(k.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-8",autoFocus:!0})]}),o.jsx("div",{className:"max-h-64 overflow-y-auto",children:T.length>0?T.map((k,D)=>k&&k.value&&k.label?o.jsxs("button",{type:"button",className:ht("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",e===k.value&&"bg-accent text-accent-foreground"),onClick:()=>j(k.value),children:[o.jsx(nw,{className:ht("mr-2 h-4 w-4",e===k.value?"opacity-100":"opacity-0")}),o.jsx("span",{className:"flex-1 text-left",children:k.label})]},`${k.value}-${D}`):null):o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:c})})]}),g&&o.jsx("div",{className:"fixed inset-0 z-[1000]",onClick:()=>w(!1)})]})}const oM=["Initial Client Meeting","Project Discussion","Equipment Installation","System Maintenance","Technical Support","Training Session","Progress Review","Problem Resolution","Contract Negotiation","Follow-up Meeting","Emergency Response","Consultation","Demo/Presentation","Site Survey","Other"];function lb({isOpen:e,onClose:t,onStartMeeting:s,employeeName:a,location:c,isLoading:d=!1,initialClientName:f="",initialCompanyName:p="",initialReason:g="",initialNotes:w=""}){var Y;const[_,b]=v.useState(""),[N,T]=v.useState(""),[P,j]=v.useState(""),[C,k]=v.useState(""),[D,M]=v.useState({}),[O,I]=v.useState([]),[Z,z]=v.useState(!1),[se,ae]=v.useState(null),[q,J]=v.useState([]),[de,Ae]=v.useState(!1),[K,ee]=v.useState(null),[te,me]=v.useState(""),[U,ue]=v.useState([]),oe=async()=>{z(!0),ae(null);try{console.log("Fetching companies from external API for start meeting...");const B=await dt.request("https://jbdspower.in/LeafNetServer/api/customer",{method:"GET"});if(!B.ok)throw new Error(`Failed to fetch customers: ${B.statusText}`);const ge=await B.json();console.log("Customer API raw response:",ge);const Ee=Array.isArray(ge)?ge:[];console.log(`Fetched ${Ee.length} companies for start meeting`,Ee.slice(0,3)),I(Ee)}catch(B){console.error("Error fetching customers for start meeting:",B),ae(B instanceof Error?B.message:"Failed to fetch customers")}finally{z(!1)}},F=async()=>{Ae(!0),ee(null);try{console.log("Fetching leads from external API for start meeting...");const B=await dt.request("https://jbdspower.in/LeafNetServer/api/getAllLead",{method:"GET"});if(!B.ok)throw new Error(`Failed to fetch leads: ${B.statusText}`);const ge=await B.json();console.log("Leads API raw response:",ge);const Ee=Array.isArray(ge)?ge:[];console.log(`Fetched ${Ee.length} leads for start meeting`,Ee.slice(0,3)),J(Ee)}catch(B){console.error("Error fetching leads for start meeting:",B),ee(B instanceof Error?B.message:"Failed to fetch leads")}finally{Ae(!1)}},Q=B=>{if(!B||B==="custom"||!Array.isArray(q)){ue([]);return}console.log("Filtering leads for company:",B);const ge=q.filter(Ee=>{if(!Ee||!Ee.CompanyName)return!1;const Ve=Ee.CompanyName.toLowerCase().trim()===B.toLowerCase().trim();return console.log(`Comparing "${Ee.CompanyName}" with "${B}": ${Ve}`),Ve});console.log(`Filtered ${ge.length} leads for company "${B}":`,ge),ue(ge)};console.log("filtered leads by compnay",Q),console.log("filtered leads",U);const ye=B=>{console.log("Client selection changed:",B),b(B),me(""),Q(B)};v.useEffect(()=>{e?(oe(),F(),(f||p)&&(T(f||""),b(p||"custom")),g&&j(g),w&&k(w)):(b(""),T(""),j(""),k(""),me(""),M({}))},[e,f,p,g,w]),v.useEffect(()=>{q.length>0&&_&&_!=="custom"?Q(_):ue([])},[q,_]);const Re=()=>{const B={},ge=_==="custom"?N:_;if(ge.trim()||(B.client="Client name is required"),P||(B.reason="Meeting reason is required"),Object.keys(B).length>0){M(B);return}const Ee=te&&Array.isArray(q)?q.find(Ve=>Ve&&Ve.Id===te):null;console.log("Starting meeting with data:",{clientName:ge,reason:P,notes:C.trim(),leadId:te||void 0,leadInfo:Ee}),M({}),s({clientName:ge,reason:P,notes:C.trim(),leadId:te||void 0,leadInfo:Ee?{id:Ee.Id,companyName:Ee.CompanyName,contactName:Ee.Name}:void 0})},Pe=()=>{b(""),T(""),j(""),k(""),M({}),ae(null),ee(null),me(""),ue([]),t()};return o.jsx(Mr,{open:e,onOpenChange:Pe,children:o.jsxs(dr,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx(Tn,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Start Meeting"})]}),o.jsxs(mr,{children:["Create a new meeting record for ",a]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground bg-muted/50 p-3 rounded-md",children:[o.jsx(Jn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Location: ",c]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"client",children:"Client / Company"}),se?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load companies"})]}),o.jsx("p",{className:"text-xs mt-1",children:se}),o.jsx("button",{type:"button",onClick:oe,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"customClientFallback",children:"Enter Client Name Manually"}),o.jsx(dn,{id:"customClientFallback",value:N,onChange:B=>{T(B.target.value),b("custom")},placeholder:"Enter client name",className:D.client?"border-destructive":""})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx(tx,{value:_,onValueChange:ye,options:[...Array.isArray(O)?Array.from(new Map(O.filter(B=>{const ge=B&&B.CustomerCompanyName&&typeof B.CustomerCompanyName=="string"&&B.CustomerCompanyName.trim().length>0;return!ge&&B&&console.warn("Invalid customer data:",B),ge}).map(B=>[B.CustomerCompanyName.trim(),B])).values()).map(B=>({value:B.CustomerCompanyName.trim(),label:B.CustomerCompanyName.trim(),searchTerms:[B.CustomerCompanyName.trim()]})):[],{value:"custom",label:"Custom Client...",searchTerms:["custom","manual","other"]}],placeholder:Z?"Loading companies...":"Select a company or choose custom",emptyMessage:"No companies found. Choose custom to enter manually.",disabled:Z,searchPlaceholder:"Search companies...",className:D.client?"border-destructive":""}),o.jsx("div",{className:"text-xs text-muted-foreground",children:`Can't find your company? Use "Custom Client..." option above`})]}),D.client&&o.jsx("p",{className:"text-sm text-destructive",children:D.client})]}),_==="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"customClient",children:"Custom Client Name"}),o.jsx(dn,{id:"customClient",value:N,onChange:B=>T(B.target.value),placeholder:"Enter client name",className:D.client?"border-destructive":""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"lead",children:["Lead Association (Optional)",_&&_!=="custom"&&U.length>0&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",U.length," leads for ",_,")"]})]}),K?o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load leads"})]}),o.jsx("p",{className:"text-xs mt-1",children:K}),o.jsx("button",{type:"button",onClick:F,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}):o.jsxs(o.Fragment,{children:[_&&_!=="custom"&&q.length>0&&U.length===0&&o.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted/50 rounded-md",children:['No leads found for "',_,'". You can still proceed without associating a lead.']}),(_&&_!=="custom"?U.length>0:q.length>0)?o.jsx(tx,{value:te,onValueChange:B=>{console.log("Lead selection changed:",B),me(B)},options:Array.isArray(_&&_!=="custom"?U:q)?Array.from(new Map((_&&_!=="custom"?U:q).filter(B=>{const ge=B&&B.Id&&B.CompanyName&&B.Name&&typeof B.Id=="string"&&typeof B.CompanyName=="string"&&typeof B.Name=="string"&&B.Id.trim().length>0&&B.CompanyName.trim().length>0&&B.Name.trim().length>0;return!ge&&B&&console.warn("Invalid lead data:",B),ge}).map(B=>[B.Id.trim(),B])).values()).map(B=>({value:B.Id.trim(),label:`${B.Id.trim()} - ${B.CompanyName.trim()} (${B.Name.trim()})`,searchTerms:[B.CompanyName.trim(),B.Name.trim(),B.Email||"",B.Subject||"",B.Stage||"",B.Id.trim()].filter(ge=>ge&&typeof ge=="string"&&ge.length>0)})):[],placeholder:de?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads",emptyMessage:_&&_!=="custom"?`No leads found for ${_}`:"No leads available",disabled:de,searchPlaceholder:"Search leads by ID, company, name..."}):o.jsxs(ds,{value:te,onValueChange:me,disabled:de,children:[o.jsx(Gr,{children:o.jsx(fs,{placeholder:de?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads"})}),o.jsx(Yr,{children:o.jsx(Gt,{value:"no-leads",disabled:!0,children:de?"Loading...":"No leads available"})})]})]}),te&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx(aw,{className:"h-3 w-3 inline mr-1"}),"Lead selected: ",(Y=(_&&_!=="custom"?U:q).find(B=>B.Id===te))==null?void 0:Y.Subject]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"reason",children:"Meeting Reason / Type"}),o.jsxs(ds,{value:P,onValueChange:j,children:[o.jsx(Gr,{className:D.reason?"border-destructive":"",children:o.jsx(fs,{placeholder:"Select meeting reason"})}),o.jsx(Yr,{children:oM.map(B=>o.jsx(Gt,{value:B,children:B},B))})]}),D.reason&&o.jsx("p",{className:"text-sm text-destructive",children:D.reason})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"notes",children:"Notes (Optional)"}),o.jsx(gi,{id:"notes",value:C,onChange:B=>k(B.target.value),placeholder:"Add any additional notes about this meeting...",rows:3})]}),o.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(ff,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium",children:["Employee: ",a]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Tn,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:["Start Time: ",new Date().toLocaleString()]})]})]})]}),o.jsxs(aa,{children:[o.jsx(Ce,{variant:"outline",onClick:Pe,disabled:d,children:"Cancel"}),o.jsx(Ce,{onClick:Re,disabled:d,children:d?"Starting...":"Start Meeting"})]})]})})}function iM(e,t){return v.useReducer((s,a)=>t[s][a]??s,e)}var Xp="ScrollArea",[cb,RL]=Kc(Xp),[aM,Xr]=cb(Xp),ub=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,type:a="hover",dir:c,scrollHideDelay:d=600,...f}=e,[p,g]=v.useState(null),[w,_]=v.useState(null),[b,N]=v.useState(null),[T,P]=v.useState(null),[j,C]=v.useState(null),[k,D]=v.useState(0),[M,O]=v.useState(0),[I,Z]=v.useState(!1),[z,se]=v.useState(!1),ae=Rt(t,J=>g(J)),q=p_(c);return o.jsx(aM,{scope:s,type:a,dir:q,scrollHideDelay:d,scrollArea:p,viewport:w,onViewportChange:_,content:b,onContentChange:N,scrollbarX:T,onScrollbarXChange:P,scrollbarXEnabled:I,onScrollbarXEnabledChange:Z,scrollbarY:j,onScrollbarYChange:C,scrollbarYEnabled:z,onScrollbarYEnabledChange:se,onCornerWidthChange:D,onCornerHeightChange:O,children:o.jsx(xt.div,{dir:q,...f,ref:ae,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":M+"px",...e.style}})})});ub.displayName=Xp;var db="ScrollAreaViewport",fb=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,children:a,nonce:c,...d}=e,f=Xr(db,s),p=v.useRef(null),g=Rt(t,p,f.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),o.jsx(xt.div,{"data-radix-scroll-area-viewport":"",...d,ref:g,style:{overflowX:f.scrollbarXEnabled?"scroll":"hidden",overflowY:f.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:f.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});fb.displayName=db;var zs="ScrollAreaScrollbar",Qp=v.forwardRef((e,t)=>{const{forceMount:s,...a}=e,c=Xr(zs,e.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:f}=c,p=e.orientation==="horizontal";return v.useEffect(()=>(p?d(!0):f(!0),()=>{p?d(!1):f(!1)}),[p,d,f]),c.type==="hover"?o.jsx(lM,{...a,ref:t,forceMount:s}):c.type==="scroll"?o.jsx(cM,{...a,ref:t,forceMount:s}):c.type==="auto"?o.jsx(hb,{...a,ref:t,forceMount:s}):c.type==="always"?o.jsx(Jp,{...a,ref:t}):null});Qp.displayName=zs;var lM=v.forwardRef((e,t)=>{const{forceMount:s,...a}=e,c=Xr(zs,e.__scopeScrollArea),[d,f]=v.useState(!1);return v.useEffect(()=>{const p=c.scrollArea;let g=0;if(p){const w=()=>{window.clearTimeout(g),f(!0)},_=()=>{g=window.setTimeout(()=>f(!1),c.scrollHideDelay)};return p.addEventListener("pointerenter",w),p.addEventListener("pointerleave",_),()=>{window.clearTimeout(g),p.removeEventListener("pointerenter",w),p.removeEventListener("pointerleave",_)}}},[c.scrollArea,c.scrollHideDelay]),o.jsx(Nl,{present:s||d,children:o.jsx(hb,{"data-state":d?"visible":"hidden",...a,ref:t})})}),cM=v.forwardRef((e,t)=>{const{forceMount:s,...a}=e,c=Xr(zs,e.__scopeScrollArea),d=e.orientation==="horizontal",f=Mf(()=>g("SCROLL_END"),100),[p,g]=iM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(p==="idle"){const w=window.setTimeout(()=>g("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(w)}},[p,c.scrollHideDelay,g]),v.useEffect(()=>{const w=c.viewport,_=d?"scrollLeft":"scrollTop";if(w){let b=w[_];const N=()=>{const T=w[_];b!==T&&(g("SCROLL"),f()),b=T};return w.addEventListener("scroll",N),()=>w.removeEventListener("scroll",N)}},[c.viewport,d,g,f]),o.jsx(Nl,{present:s||p!=="hidden",children:o.jsx(Jp,{"data-state":p==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:ct(e.onPointerEnter,()=>g("POINTER_ENTER")),onPointerLeave:ct(e.onPointerLeave,()=>g("POINTER_LEAVE"))})})}),hb=v.forwardRef((e,t)=>{const s=Xr(zs,e.__scopeScrollArea),{forceMount:a,...c}=e,[d,f]=v.useState(!1),p=e.orientation==="horizontal",g=Mf(()=>{if(s.viewport){const w=s.viewport.offsetWidth<s.viewport.scrollWidth,_=s.viewport.offsetHeight<s.viewport.scrollHeight;f(p?w:_)}},10);return bl(s.viewport,g),bl(s.content,g),o.jsx(Nl,{present:a||d,children:o.jsx(Jp,{"data-state":d?"visible":"hidden",...c,ref:t})})}),Jp=v.forwardRef((e,t)=>{const{orientation:s="vertical",...a}=e,c=Xr(zs,e.__scopeScrollArea),d=v.useRef(null),f=v.useRef(0),[p,g]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),w=yb(p.viewport,p.content),_={...a,sizes:p,onSizesChange:g,hasThumb:w>0&&w<1,onThumbChange:N=>d.current=N,onThumbPointerUp:()=>f.current=0,onThumbPointerDown:N=>f.current=N};function b(N,T){return pM(N,f.current,p,T)}return s==="horizontal"?o.jsx(uM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const N=c.viewport.scrollLeft,T=nx(N,p,c.dir);d.current.style.transform=`translate3d(${T}px, 0, 0)`}},onWheelScroll:N=>{c.viewport&&(c.viewport.scrollLeft=N)},onDragScroll:N=>{c.viewport&&(c.viewport.scrollLeft=b(N,c.dir))}}):s==="vertical"?o.jsx(dM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const N=c.viewport.scrollTop,T=nx(N,p);d.current.style.transform=`translate3d(0, ${T}px, 0)`}},onWheelScroll:N=>{c.viewport&&(c.viewport.scrollTop=N)},onDragScroll:N=>{c.viewport&&(c.viewport.scrollTop=b(N))}}):null}),uM=v.forwardRef((e,t)=>{const{sizes:s,onSizesChange:a,...c}=e,d=Xr(zs,e.__scopeScrollArea),[f,p]=v.useState(),g=v.useRef(null),w=Rt(t,g,d.onScrollbarXChange);return v.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),o.jsx(pb,{"data-orientation":"horizontal",...c,ref:w,sizes:s,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":kf(s)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.x),onDragScroll:_=>e.onDragScroll(_.x),onWheelScroll:(_,b)=>{if(d.viewport){const N=d.viewport.scrollLeft+_.deltaX;e.onWheelScroll(N),wb(N,b)&&_.preventDefault()}},onResize:()=>{g.current&&d.viewport&&f&&a({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:g.current.clientWidth,paddingStart:rf(f.paddingLeft),paddingEnd:rf(f.paddingRight)}})}})}),dM=v.forwardRef((e,t)=>{const{sizes:s,onSizesChange:a,...c}=e,d=Xr(zs,e.__scopeScrollArea),[f,p]=v.useState(),g=v.useRef(null),w=Rt(t,g,d.onScrollbarYChange);return v.useEffect(()=>{g.current&&p(getComputedStyle(g.current))},[g]),o.jsx(pb,{"data-orientation":"vertical",...c,ref:w,sizes:s,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":kf(s)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.y),onDragScroll:_=>e.onDragScroll(_.y),onWheelScroll:(_,b)=>{if(d.viewport){const N=d.viewport.scrollTop+_.deltaY;e.onWheelScroll(N),wb(N,b)&&_.preventDefault()}},onResize:()=>{g.current&&d.viewport&&f&&a({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:g.current.clientHeight,paddingStart:rf(f.paddingTop),paddingEnd:rf(f.paddingBottom)}})}})}),[fM,mb]=cb(zs),pb=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,sizes:a,hasThumb:c,onThumbChange:d,onThumbPointerUp:f,onThumbPointerDown:p,onThumbPositionChange:g,onDragScroll:w,onWheelScroll:_,onResize:b,...N}=e,T=Xr(zs,s),[P,j]=v.useState(null),C=Rt(t,ae=>j(ae)),k=v.useRef(null),D=v.useRef(""),M=T.viewport,O=a.content-a.viewport,I=on(_),Z=on(g),z=Mf(b,10);function se(ae){if(k.current){const q=ae.clientX-k.current.left,J=ae.clientY-k.current.top;w({x:q,y:J})}}return v.useEffect(()=>{const ae=q=>{const J=q.target;(P==null?void 0:P.contains(J))&&I(q,O)};return document.addEventListener("wheel",ae,{passive:!1}),()=>document.removeEventListener("wheel",ae,{passive:!1})},[M,P,O,I]),v.useEffect(Z,[a,Z]),bl(P,z),bl(T.content,z),o.jsx(fM,{scope:s,scrollbar:P,hasThumb:c,onThumbChange:on(d),onThumbPointerUp:on(f),onThumbPositionChange:Z,onThumbPointerDown:on(p),children:o.jsx(xt.div,{...N,ref:C,style:{position:"absolute",...N.style},onPointerDown:ct(e.onPointerDown,ae=>{ae.button===0&&(ae.target.setPointerCapture(ae.pointerId),k.current=P.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",T.viewport&&(T.viewport.style.scrollBehavior="auto"),se(ae))}),onPointerMove:ct(e.onPointerMove,se),onPointerUp:ct(e.onPointerUp,ae=>{const q=ae.target;q.hasPointerCapture(ae.pointerId)&&q.releasePointerCapture(ae.pointerId),document.body.style.webkitUserSelect=D.current,T.viewport&&(T.viewport.style.scrollBehavior=""),k.current=null})})})}),nf="ScrollAreaThumb",gb=v.forwardRef((e,t)=>{const{forceMount:s,...a}=e,c=mb(nf,e.__scopeScrollArea);return o.jsx(Nl,{present:s||c.hasThumb,children:o.jsx(hM,{ref:t,...a})})}),hM=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,style:a,...c}=e,d=Xr(nf,s),f=mb(nf,s),{onThumbPositionChange:p}=f,g=Rt(t,b=>f.onThumbChange(b)),w=v.useRef(),_=Mf(()=>{w.current&&(w.current(),w.current=void 0)},100);return v.useEffect(()=>{const b=d.viewport;if(b){const N=()=>{if(_(),!w.current){const T=gM(b,p);w.current=T,p()}};return p(),b.addEventListener("scroll",N),()=>b.removeEventListener("scroll",N)}},[d.viewport,_,p]),o.jsx(xt.div,{"data-state":f.hasThumb?"visible":"hidden",...c,ref:g,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ct(e.onPointerDownCapture,b=>{const T=b.target.getBoundingClientRect(),P=b.clientX-T.left,j=b.clientY-T.top;f.onThumbPointerDown({x:P,y:j})}),onPointerUp:ct(e.onPointerUp,f.onThumbPointerUp)})});gb.displayName=nf;var eg="ScrollAreaCorner",vb=v.forwardRef((e,t)=>{const s=Xr(eg,e.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&a?o.jsx(mM,{...e,ref:t}):null});vb.displayName=eg;var mM=v.forwardRef((e,t)=>{const{__scopeScrollArea:s,...a}=e,c=Xr(eg,s),[d,f]=v.useState(0),[p,g]=v.useState(0),w=!!(d&&p);return bl(c.scrollbarX,()=>{var b;const _=((b=c.scrollbarX)==null?void 0:b.offsetHeight)||0;c.onCornerHeightChange(_),g(_)}),bl(c.scrollbarY,()=>{var b;const _=((b=c.scrollbarY)==null?void 0:b.offsetWidth)||0;c.onCornerWidthChange(_),f(_)}),w?o.jsx(xt.div,{...a,ref:t,style:{width:d,height:p,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function rf(e){return e?parseInt(e,10):0}function yb(e,t){const s=e/t;return isNaN(s)?0:s}function kf(e){const t=yb(e.viewport,e.content),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-s)*t;return Math.max(a,18)}function pM(e,t,s,a="ltr"){const c=kf(s),d=c/2,f=t||d,p=c-f,g=s.scrollbar.paddingStart+f,w=s.scrollbar.size-s.scrollbar.paddingEnd-p,_=s.content-s.viewport,b=a==="ltr"?[0,_]:[_*-1,0];return xb([g,w],b)(e)}function nx(e,t,s="ltr"){const a=kf(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,d=t.scrollbar.size-c,f=t.content-t.viewport,p=d-a,g=s==="ltr"?[0,f]:[f*-1,0],w=rp(e,g);return xb([0,f],[0,p])(w)}function xb(e,t){return s=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(s-e[0])}}function wb(e,t){return e>0&&e<t}var gM=(e,t=()=>{})=>{let s={left:e.scrollLeft,top:e.scrollTop},a=0;return function c(){const d={left:e.scrollLeft,top:e.scrollTop},f=s.left!==d.left,p=s.top!==d.top;(f||p)&&t(),s=d,a=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(a)};function Mf(e,t){const s=on(e),a=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(a.current),[]),v.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,t)},[s,t])}function bl(e,t){const s=on(t);fn(()=>{let a=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(s)});return c.observe(e),()=>{window.cancelAnimationFrame(a),c.unobserve(e)}}},[e,s])}var _b=ub,vM=fb,yM=vb;const bb=v.forwardRef(({className:e,children:t,...s},a)=>o.jsxs(_b,{ref:a,className:ht("relative overflow-hidden",e),...s,children:[o.jsx(vM,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(Sb,{}),o.jsx(yM,{})]}));bb.displayName=_b.displayName;const Sb=v.forwardRef(({className:e,orientation:t="vertical",...s},a)=>o.jsx(Qp,{ref:a,orientation:t,className:ht("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:o.jsx(gb,{className:"relative flex-1 rounded-full bg-border"})}));Sb.displayName=Qp.displayName;function xM({isOpen:e,onClose:t,onSubmit:s,pendingMeetings:a}){const[c,d]=v.useState({}),[f,p]=v.useState({}),g=(b,N)=>{d(T=>({...T,[b]:N})),p(T=>{const P={...T};return delete P[b],P})},w=()=>{const b={};if(a.forEach(T=>{var P;(P=c[T._id])!=null&&P.trim()||(b[T._id]="Reason required")}),Object.keys(b).length>0){p(b);return}const N=a.map(T=>({meeting:T,reason:c[T._id].trim()}));s(N),d({}),p({})},_=()=>{d({}),p({}),t()};return o.jsx(Mr,{open:e,onOpenChange:_,children:o.jsxs(dr,{className:"sm:max-w-[600px] max-h-[90vh]",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center gap-2",children:[o.jsx(gn,{className:"h-5 w-5 text-warning"}),"Incomplete Today's Meetings"]}),o.jsxs(mr,{children:["You have ",a.length," incomplete meeting",a.length>1?"s":"",' scheduled for today. Please provide a reason for each meeting before logging out. These meetings will be marked as "Incomplete".']})]}),o.jsx(bb,{className:"max-h-[60vh] pr-4",children:o.jsx("div",{className:"space-y-6 py-4",children:a.map((b,N)=>o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(Sp,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-sm",children:b.companyName||"Unnamed Company"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.customerName,b.meetingTime&&`  ${b.meetingTime}`]}),b.remark&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:["Note: ",b.remark]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:`reason-${b._id}`,className:"text-sm",children:["Reason for not completing ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(gi,{id:`reason-${b._id}`,placeholder:"E.g., Client rescheduled, not available, technical issues...",value:c[b._id]||"",onChange:T=>g(b._id,T.target.value),rows:3,className:f[b._id]?"border-destructive":""}),f[b._id]&&o.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[o.jsx(gn,{className:"h-3 w-3"}),f[b._id]]})]})]},b._id))})}),o.jsxs(aa,{children:[o.jsx(Ce,{variant:"outline",onClick:_,children:"Cancel"}),o.jsx(Ce,{onClick:w,children:"Submit All & Logout"})]})]})})}function wM(){var Re,Pe;const[e,t]=v.useState([]),[s,a]=v.useState(null),[c,d]=v.useState(!0),[f,p]=v.useState(new Date),[g,w]=v.useState(!0),[_,b]=v.useState(!1),[N,T]=v.useState([]),[P,j]=v.useState(!1),[C,k]=v.useState(null),[D,M]=v.useState(!1),[O,I]=v.useState(!1),[Z,z]=v.useState(null),{canInstall:se,isInstalled:ae}=MT();v.useEffect(()=>{const Y=localStorage.getItem("user");if(Y)try{const B=JSON.parse(Y);z(B),!(B._id==="67daa55d9c4abb36045d5bfe")&&B._id&&(console.log(" Redirecting regular user to their tracking page"),Wr({title:"Access Denied",description:"Direct access to dashboard is not allowed. Redirecting to your tracking page...",variant:"destructive"}),setTimeout(()=>{window.location.href=`/tracking/${B._id}`},1500))}catch(B){console.error("Failed to parse user from localStorage:",B)}else console.error(" No user found in localStorage - access denied"),Wr({title:"Access Denied",description:"Please access the tracking page with a valid employee ID from the CRM system.",variant:"destructive"})},[]),v.useEffect(()=>{q();const Y=setInterval(q,6e4);return()=>clearInterval(Y)},[]);const q=async()=>{var Y;try{console.log("Fetching employees");const B=await dt.get("/api/employees");if(B.ok){const ge=await B.json();t(ge.employees||[]),p(new Date),console.log("Employees data fetched successfully:",((Y=ge.employees)==null?void 0:Y.length)||0)}else console.error(`Failed to fetch employees: ${B.status} ${B.statusText}`),t([])}catch(B){console.error("Error fetching employees:",B),t([])}finally{d(!1)}},J=()=>{d(!0),q()},de=async()=>{try{d(!0),console.log("Refreshing employee locations with Indian cities");const Y=await dt.post("/api/employees/refresh-locations");if(Y.ok){const B=await Y.json();console.log("Locations refreshed successfully:",B),await q(),w(!1)}else{const B=await Y.text().catch(()=>"Unknown error");console.error("Failed to refresh locations:",Y.status,B),alert("Failed to refresh locations. Please try again.")}}catch(Y){console.error("Error refreshing locations:",Y),alert("Error refreshing locations. Please check your connection and try again.")}finally{d(!1)}},Ae=Y=>{window.location.href=`tel:${Y}`},K=(Y,B)=>{const ge=encodeURIComponent(`Regarding Field Operations - ${B}`),Ee=encodeURIComponent(`Hi ${B.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${Y}?subject=${ge}&body=${Ee}`},ee=async Y=>{if(Z!=null&&Z._id)try{const B=await dt.get(`/api/meetings?employeeId=${Z._id}&status=in-progress&limit=1`);if(B.ok){const ge=await B.json();if(ge.meetings&&ge.meetings.length>0){Wr({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"}),console.log("Blocked: Active meeting exists:",ge.meetings[0].id);return}}}catch(B){console.error("Error checking for active meetings:",B)}k(Y),j(!0)},te=async Y=>{const B=e.find(ge=>ge.status==="active"||ge.status==="meeting")||e[0];if(!B){Wr({title:"Error",description:"No active employee found to start meeting",variant:"destructive"});return}I(!0);try{const ge=await dt.post("/api/meetings",{employeeId:B.id,location:{lat:B.location.lat,lng:B.location.lng,address:B.location.address},clientName:Y.clientName,notes:`${Y.reason}${Y.notes?` - ${Y.notes}`:""}`,leadId:Y.leadId,leadInfo:Y.leadInfo});if(ge.ok)await dt.put(`/api/employees/${B.id}/status`,{status:"meeting"}),q(),j(!1),k(null),Wr({title:"Meeting Started",description:`Meeting with ${Y.clientName} has been started successfully`});else{const Ee=await ge.json().catch(()=>({error:"Failed to start meeting"}));Wr({title:"Cannot Start Meeting",description:Ee.error||"Failed to start meeting",variant:"destructive"})}}catch(ge){console.error("Error starting meeting:",ge),Wr({title:"Error",description:"Failed to start meeting. Please try again.",variant:"destructive"})}finally{I(!1)}},me=()=>{if(!(Z!=null&&Z._id)){ue();return}const Y=N.filter(B=>!(B.meetingStatus==="complete"||B.meetingStatus==="Completed"||B.meetingStatus==="COMPLETED"));console.log("Incomplete today's meetings on logout:",Y),Y.length>0?M(!0):ue()},U=async Y=>{console.log("Submitting incomplete meetings with reasons:",Y);try{const B=Y.map(async({meeting:Ee,reason:Ve})=>{try{const Je="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),Lt=await fetch(`${Je}/updateFollowUp/${Ee._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});Lt.ok?console.log(` Updated meeting ${Ee.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${Ee.companyName} status:`,Lt.status)}catch(ut){console.error(`Error updating meeting ${Ee.companyName}:`,ut)}});await Promise.all(B),(await dt.post("/api/incomplete-meeting-remarks",{employeeId:Z._id,reason:"Multiple incomplete meetings",pendingMeetings:Y.map(({meeting:Ee,reason:Ve})=>({_id:Ee._id,leadId:Ee.leadId,companyName:Ee.companyName,customerName:Ee.customerName,customerEmail:Ee.customerEmail,customerMobile:Ee.customerMobile,customerDesignation:Ee.customerDesignation,meetingTime:Ee.meetingTime,incompleteReason:Ve}))})).ok?Wr({title:"Meetings Marked Incomplete",description:`${Y.length} meeting(s) marked as incomplete with reasons.`}):(console.error("Failed to save incomplete meeting remarks"),Wr({title:"Warning",description:"Failed to save some meeting reasons, but meetings are marked incomplete.",variant:"destructive"}))}catch(B){console.error("Error saving incomplete meeting remarks:",B),Wr({title:"Warning",description:"Failed to save meeting reasons, but you can still logout.",variant:"destructive"})}M(!1),ue()},ue=()=>{localStorage.removeItem("idToken"),localStorage.removeItem("user"),Wr({title:"Logged Out",description:"You have been logged out successfully."}),window.location.href="/"},oe=Y=>{switch(Y){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},F=Y=>{switch(Y){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},Q=e.filter(Y=>Y.status==="active"||Y.status==="meeting");console.log("employee list",Q);const ye=e.length;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between overflow-auto",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:o.jsx(Jn,{className:"h-5 w-5 text-primary-foreground"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"FieldTracker"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Employee Location Management"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:J,disabled:c,children:[o.jsx(il,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:"/dashboard",children:[o.jsx(Np,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:"/team-management",children:[o.jsx(na,{className:"h-4 w-4 mr-2"}),"Manage Team"]})}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>b(!0),children:[o.jsx(Kr,{className:"h-4 w-4 mr-2"}),"Meeting History"]}),o.jsx(Ce,{size:"sm",asChild:!0,disabled:e.length===0,children:o.jsxs(Os,{to:`/tracking/${s||(e.length>0?e[0].id:"1")}`,children:[o.jsx(ho,{className:"h-4 w-4 mr-2"}),s?"View Selected":"Live View"]})}),Z&&o.jsxs(Ce,{variant:"outline",size:"sm",onClick:me,children:[o.jsx(zS,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",f.toLocaleTimeString(),c&&"  Refreshing..."]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Active Employees"}),o.jsx(na,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:Q.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",ye," total employees"]})]})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"In Meetings"}),o.jsx(Ep,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter(Y=>Y.status==="meeting").length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently with clients"})]})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"On Route"}),o.jsx(ho,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter(Y=>Y.status==="active").length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Moving to locations"})]})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Last Update"}),o.jsx(Tn,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsx("div",{className:"text-2xl font-bold text-info",children:"1m"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg response time"})]})]})]}),c&&e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employee data..."})]}),se&&!ae&&o.jsx("div",{className:"mb-6",children:o.jsx(kT,{onInstall:()=>console.log("PWA installed"),onDismiss:()=>console.log("PWA install dismissed")})}),g&&e.length>0&&o.jsx(at,{className:"border-info bg-info/5",children:o.jsx(lt,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between overflow-auto",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(gn,{className:"h-5 w-5 text-info mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-info mb-1",children:"Update Your Real Location"}),o.jsx("p",{className:"text-sm text-info/80 mb-3",children:`We've detected your team is in India. Click on any employee's "Live View" and use the "Start Tracking" button to update their real location for accurate tracking.`}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Ce,{size:"sm",variant:"outline",className:"border-info text-info hover:bg-info hover:text-white",onClick:()=>{const Y=e[0];Y&&window.open(`/tracking/${Y.id}`,"_blank")},children:[o.jsx(ho,{className:"h-4 w-4 mr-2"}),"Enable Live Tracking"]}),o.jsxs(Ce,{size:"sm",className:"bg-info hover:bg-info/90 text-white",onClick:de,disabled:c,children:[o.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Update to Indian Cities"]})]})]})]}),o.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>w(!1),className:"text-info hover:text-info",children:o.jsx(hf,{className:"h-4 w-4"})})]})})}),!c&&e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(na,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),o.jsx("p",{className:"text-muted-foreground",children:"Add employees to start tracking their locations."})]}),!c&&(Z==null?void 0:Z._id)&&o.jsx("div",{className:"mb-8",children:o.jsx(f_,{userId:Z._id,onStartMeeting:ee,onMeetingsFetched:T})}),!c&&e.length>0&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(at,{children:[o.jsx(jt,{children:o.jsxs(Et,{className:"flex items-center justify-between ",children:[o.jsx("span",{children:"Field Team"}),o.jsxs(Nt,{variant:"secondary",children:[e.length," total"]})]})}),o.jsx(lt,{className:"p-0 sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:o.jsx("div",{className:"space-y-0",children:e.map(Y=>o.jsx("div",{className:`p-4 border-b last:border-b-0 cursor-pointer transition-colors hover:bg-muted/50 ${s===Y.id?"bg-primary/5 border-l-4 border-l-primary":""}`,onClick:()=>a(Y.id),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-foreground",children:Y.name}),o.jsx(Nt,{variant:"secondary",className:`text-xs ${oe(Y.status)}`,children:F(Y.status)})]}),Y.designation&&o.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[Y.designation,Y.department&&`  ${Y.department}`]}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[o.jsx(Jn,{className:"h-3 w-3 inline mr-1"}),Y.location.address]}),Y.currentTask&&o.jsx("p",{className:"text-xs text-primary font-medium mb-1",children:Y.currentTask}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx(Tn,{className:"h-3 w-3 inline mr-1"}),"Updated ",Y.lastUpdate]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:B=>{B.stopPropagation(),Ae(Y.phone)},title:"Call employee",children:o.jsx(di,{className:"h-3 w-3"})}),o.jsx(Ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:B=>{B.stopPropagation(),K(Y.email,Y.name)},title:"Send email",children:o.jsx(ui,{className:"h-3 w-3"})}),o.jsx(Ce,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",asChild:!0,title:"Track employee",children:o.jsx(Os,{to:`/tracking/${Y.id}`,onClick:B=>B.stopPropagation(),children:o.jsx(ho,{className:"h-3 w-3"})})})]})]})},Y.id))})})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(at,{className:"h-[600px]",children:[o.jsx(jt,{children:o.jsxs(Et,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Live Location Map"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>{s||a(null)},children:[o.jsx(ho,{className:"h-4 w-4 mr-2"}),s?"Center on Selected":"Fit All"]}),o.jsx("div",{className:"h-2 w-2 rounded-full bg-success animate-pulse"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Live"})]})]})}),o.jsxs(lt,{className:"p-4",children:[o.jsx(Up,{employees:e,selectedEmployee:s,height:"500px",onEmployeeClick:a}),o.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm mt-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-success"}),o.jsx("span",{children:"On Route"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"}),o.jsx("span",{children:"In Meeting"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"}),o.jsx("span",{children:"Offline"})]})]})]})]})})]}),!c&&e.length>0&&o.jsx("div",{className:"mt-8",children:o.jsxs(at,{children:[o.jsx(jt,{children:o.jsx(Et,{children:"Recent Activity"})}),o.jsx(lt,{children:o.jsx("div",{className:"space-y-4",children:e.filter(Y=>Y.status!=="inactive").slice(0,3).map((Y,B)=>o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`h-2 w-2 rounded-full mt-2 ${Y.status==="active"?"bg-success":Y.status==="meeting"?"bg-warning":"bg-info"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium",children:[Y.name," ",Y.status==="active"?"is on route":Y.status==="meeting"?"started meeting":"updated location"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[Y.location.address,"  ",Y.lastUpdate]})]})]},Y.id))})})]})})]}),o.jsx(s_,{isOpen:_,onClose:()=>b(!1)}),o.jsx(lb,{isOpen:P,onClose:()=>{j(!1),k(null)},onStartMeeting:te,employeeName:((Re=e[0])==null?void 0:Re.name)||"Employee",location:((Pe=e[0])==null?void 0:Pe.location.address)||"Unknown location",isLoading:O,initialClientName:(C==null?void 0:C.customerName)||"",initialCompanyName:(C==null?void 0:C.companyName)||"",initialReason:(C==null?void 0:C.type)||"",initialNotes:(C==null?void 0:C.remark)||""}),o.jsx(xM,{isOpen:D,onClose:()=>M(!1),onSubmit:U,pendingMeetings:N.filter(Y=>!(Y.meetingStatus==="complete"||Y.meetingStatus==="Completed"||Y.meetingStatus==="COMPLETED"))})]})}const Rc=v.forwardRef(({className:e,...t},s)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:s,className:ht("w-full caption-bottom text-sm",e),...t})}));Rc.displayName="Table";const Lc=v.forwardRef(({className:e,...t},s)=>o.jsx("thead",{ref:s,className:ht("[&_tr]:border-b",e),...t}));Lc.displayName="TableHeader";const Ac=v.forwardRef(({className:e,...t},s)=>o.jsx("tbody",{ref:s,className:ht("[&_tr:last-child]:border-0",e),...t}));Ac.displayName="TableBody";const _M=v.forwardRef(({className:e,...t},s)=>o.jsx("tfoot",{ref:s,className:ht("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));_M.displayName="TableFooter";const uo=v.forwardRef(({className:e,...t},s)=>o.jsx("tr",{ref:s,className:ht("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));uo.displayName="TableRow";const gt=v.forwardRef(({className:e,...t},s)=>o.jsx("th",{ref:s,className:ht("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));gt.displayName="TableHead";const vt=v.forwardRef(({className:e,...t},s)=>o.jsx("td",{ref:s,className:ht("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));vt.displayName="TableCell";const bM=v.forwardRef(({className:e,...t},s)=>o.jsx("caption",{ref:s,className:ht("mt-4 text-sm text-muted-foreground",e),...t}));bM.displayName="TableCaption";function Nb({employeeId:e,isOpen:t,onClose:s}){const[a,c]=v.useState([]),[d,f]=v.useState(!1),[p,g]=v.useState(null),[w,_]=v.useState(""),[b,N]=v.useState("all"),[T,P]=v.useState(1),[j,C]=v.useState(1),[k,D]=v.useState(0),{toast:M}=Sl(),O=async(J=1)=>{f(!0);try{const de=new URLSearchParams({page:J.toString(),limit:"10"});e&&de.append("employeeId",e),b!=="all"&&de.append("status",b);const Ae=await dt.get(`/api/route-snapshots?${de}`);if(Ae.ok){const K=await Ae.json();c(K.snapshots),C(K.totalPages),D(K.total),P(K.page)}else throw new Error("Failed to fetch snapshots")}catch(de){console.error("Error fetching snapshots:",de),M({title:"Error",description:"Failed to load route snapshots. Please try again.",variant:"destructive"})}finally{f(!1)}};v.useEffect(()=>{t&&O(1)},[t,e,b]);const I=async J=>{if(confirm("Are you sure you want to delete this snapshot?"))try{if((await dt.delete(`/api/route-snapshots/${J}`)).ok)M({title:"Snapshot Deleted",description:"Route snapshot has been deleted successfully"}),O(T);else throw new Error("Failed to delete snapshot")}catch(de){console.error("Error deleting snapshot:",de),M({title:"Error",description:"Failed to delete snapshot. Please try again.",variant:"destructive"})}},Z=a.filter(J=>J.title.toLowerCase().includes(w.toLowerCase())||J.employeeName.toLowerCase().includes(w.toLowerCase())||J.description&&J.description.toLowerCase().includes(w.toLowerCase())),z=J=>{if(!J)return"N/A";const de=Math.floor(J/3600),Ae=Math.floor(J%3600/60);return de>0?`${de}h ${Ae}m`:`${Ae}m`},se=J=>J>1e3?`${(J/1e3).toFixed(1)} km`:`${J.toFixed(0)} m`,ae=J=>({id:J.employeeId,name:J.employeeName,email:"",phone:"",status:"active",location:J.startLocation,lastUpdate:new Date(J.captureTime).toLocaleString()}),q=J=>({id:J.trackingSessionId||J.id,employeeId:J.employeeId,startTime:J.captureTime,endTime:J.endLocation?J.captureTime:void 0,startLocation:J.startLocation,endLocation:J.endLocation,route:J.route,totalDistance:J.totalDistance,duration:J.duration,status:J.status});return o.jsxs(o.Fragment,{children:[o.jsx(Mr,{open:t,onOpenChange:s,children:o.jsxs(dr,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center gap-2",children:[o.jsx(ol,{className:"h-5 w-5"}),"Route Snapshot History"]}),o.jsxs(mr,{children:["View and manage saved route snapshots",e&&" for this employee"]})]}),o.jsxs("div",{className:"flex flex-col h-[70vh]",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(Jc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(dn,{placeholder:"Search snapshots...",value:w,onChange:J=>_(J.target.value),className:"pl-10"})]})}),o.jsxs(ds,{value:b,onValueChange:N,children:[o.jsx(Gr,{className:"w-32",children:o.jsx(fs,{})}),o.jsxs(Yr,{children:[o.jsx(Gt,{value:"all",children:"All Status"}),o.jsx(Gt,{value:"active",children:"Active"}),o.jsx(Gt,{value:"completed",children:"Completed"})]})]}),o.jsx(Ce,{variant:"outline",size:"icon",onClick:()=>O(T),disabled:d,children:o.jsx(il,{className:`h-4 w-4 ${d?"animate-spin":""}`})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:d?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(il,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading snapshots..."})]})}):Z.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ol,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Snapshots Found"}),o.jsx("p",{className:"text-muted-foreground",children:w||b!=="all"?"Try adjusting your search criteria":"No route snapshots have been created yet"})]})}):o.jsx("div",{className:"overflow-y-auto h-full",children:o.jsx("div",{className:"grid gap-4",children:Z.map(J=>o.jsx(at,{className:"hover:shadow-md transition-shadow",children:o.jsx(lt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold",children:J.title}),o.jsx(Nt,{variant:"secondary",className:J.status==="completed"?"bg-success text-success-foreground":"bg-warning text-warning-foreground",children:J.status})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:new Date(J.captureTime).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(ta,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{children:[J.snapshotMetadata.routePointsCount," points"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Jn,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:se(J.totalDistance)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Tn,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:z(J.duration)})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:o.jsx("strong",{children:J.employeeName})}),J.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:J.description})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>g(J),children:[o.jsx(iw,{className:"h-4 w-4 mr-1"}),"View"]}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>I(J.id),className:"text-destructive hover:text-destructive",children:o.jsx(dw,{className:"h-4 w-4"})})]})]})})},J.id))})})}),j>1&&o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",Z.length," of ",k," snapshots"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>O(T-1),disabled:T===1||d,children:[o.jsx(rw,{className:"h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm",children:["Page ",T," of ",j]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>O(T+1),disabled:T===j||d,children:["Next",o.jsx(sw,{className:"h-4 w-4"})]})]})]})]})]})}),p&&o.jsx(Mr,{open:!!p,onOpenChange:()=>g(null),children:o.jsxs(dr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsx(hr,{children:p.title}),o.jsxs(mr,{children:["Route snapshot captured on ",new Date(p.captureTime).toLocaleString()]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(at,{children:o.jsxs(lt,{className:"p-4 text-center",children:[o.jsx(ta,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:p.snapshotMetadata.routePointsCount}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Route Points"})]})}),o.jsx(at,{children:o.jsxs(lt,{className:"p-4 text-center",children:[o.jsx(Jn,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:se(p.totalDistance)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Distance"})]})}),o.jsx(at,{children:o.jsxs(lt,{className:"p-4 text-center",children:[o.jsx(Kr,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:p.meetings.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Meetings"})]})}),o.jsx(at,{children:o.jsxs(lt,{className:"p-4 text-center",children:[o.jsx(Tn,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:z(p.duration)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]})})]}),o.jsxs(at,{children:[o.jsx(jt,{children:o.jsx(Et,{children:"Route Visualization"})}),o.jsx(lt,{children:o.jsx(Up,{employees:[ae(p)],height:"400px",trackingSession:q(p),showRoute:!0})})]}),p.description&&o.jsxs(at,{children:[o.jsx(jt,{children:o.jsx(Et,{children:"Description"})}),o.jsx(lt,{children:o.jsx("p",{className:"text-sm",children:p.description})})]}),p.meetings.length>0&&o.jsxs(at,{children:[o.jsx(jt,{children:o.jsx(Et,{children:"Meetings in Snapshot"})}),o.jsx(lt,{children:o.jsx("div",{className:"space-y-3",children:p.meetings.map(J=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:J.clientName||"Unknown Client"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:J.location.address}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(J.startTime).toLocaleString(),J.endTime&&` - ${new Date(J.endTime).toLocaleString()}`]})]}),o.jsx(Nt,{variant:"outline",children:J.status})]},J.id))})})]})]})]})})]})}function SM(){const[e,t]=v.useState([]),[s,a]=v.useState(!0),[c,d]=v.useState({employeeId:"all",dateRange:"all",searchTerm:""}),[f,p]=v.useState(null),[g,w]=v.useState([]),[_,b]=v.useState([]),[N,T]=v.useState(!1),[P,j]=v.useState({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1}),[C,k]=v.useState({isOpen:!1,employeeId:""}),[D,M]=v.useState({}),[O,I]=v.useState({}),[Z,z]=v.useState({totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0});v.useEffect(()=>{se()},[c]),v.useEffect(()=>{var X;f&&K(f,((X=e.find(ve=>ve.employeeId===f))==null?void 0:X.employeeName)||"Unknown")},[c.dateRange,c.startDate,c.endDate]);const se=async()=>{try{a(!0);const X=JSON.parse(localStorage.getItem("user")||"{}"),ve=(X==null?void 0:X.role)==="super_admin",Me=new URLSearchParams;ve?c.employeeId&&c.employeeId!=="all"&&Me.append("employeeId",c.employeeId):X!=null&&X._id&&Me.append("employeeId",X._id),Me.append("dateRange",c.dateRange),c.startDate&&Me.append("startDate",c.startDate),c.endDate&&Me.append("endDate",c.endDate),c.searchTerm&&Me.append("search",c.searchTerm);const Ne=await dt.get(`/api/analytics/employees?${Me}`);if(Ne.ok){const $e=await Ne.json();t($e.analytics||[]),z($e.summary||{totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0})}else console.error("Failed to fetch analytics"),t([])}catch(X){console.error("Error fetching analytics",X),t([])}finally{a(!1)}},ae=(X,ve)=>{d(Me=>{const Ne={...Me,[X]:ve};return X==="dateRange"&&ve!=="custom"&&(Ne.startDate=void 0,Ne.endDate=void 0),X==="startDate"&&ve&&!Me.endDate&&(Ne.endDate=rn(new Date,"yyyy-MM-dd")),Ne})},q=()=>{d(X=>({...X,startDate:void 0,endDate:void 0}))},J=X=>{const ve=new Date;let Me,Ne=rn(ve,"yyyy-MM-dd");switch(X){case"last7":Me=rn(Gy(ve,6),"yyyy-MM-dd");break;case"last30":Me=rn(Gy(ve,29),"yyyy-MM-dd");break;case"lastMonth":const $e=new Date(ve.getFullYear(),ve.getMonth()-1,1),et=new Date(ve.getFullYear(),ve.getMonth(),0);Me=rn($e,"yyyy-MM-dd"),Ne=rn(et,"yyyy-MM-dd");break;case"thisMonth":Me=rn(UT(ve),"yyyy-MM-dd"),Ne=rn(BT(ve),"yyyy-MM-dd");break;default:return}d($e=>({...$e,dateRange:"custom",startDate:Me,endDate:Ne}))},de=()=>{switch(c.dateRange){case"all":return"All Time";case"today":return"Today";case"yesterday":return"Yesterday";case"week":return"This Week";case"month":return"This Month";case"custom":if(c.startDate&&c.endDate){const X=new Date(c.startDate),ve=new Date(c.endDate),Me=X.getFullYear(),Ne=ve.getFullYear(),$e=new Date().getFullYear();return Me===Ne&&Me===$e?`${rn(X,"MMM dd")} - ${rn(ve,"MMM dd")}`:Me===Ne?`${rn(X,"MMM dd")} - ${rn(ve,"MMM dd, yyyy")}`:`${rn(X,"MMM dd, yyyy")} - ${rn(ve,"MMM dd, yyyy")}`}return"Custom Range";default:return"Today"}},Ae=()=>{const X=[["Employee Name","Total Meetings","Today's Meetings","Meeting Hours","Duty Hours"],...e.map($e=>[$e.employeeName,$e.totalMeetings.toString(),$e.todayMeetings.toString(),`${$e.totalMeetingHours.toFixed(1)}h`,`${$e.totalDutyHours.toFixed(1)}h`])].map($e=>$e.join(",")).join(`
`),ve=new Blob([X],{type:"text/csv"}),Me=window.URL.createObjectURL(ve),Ne=document.createElement("a");Ne.href=Me,Ne.download=`employee-analytics-${rn(new Date,"yyyy-MM-dd")}.csv`,Ne.click(),window.URL.revokeObjectURL(Me)},K=async(X,ve)=>{var Me,Ne;console.log(` Fetching details for employee: ${X} (${ve})`),p(X),T(!0);try{const $e=`/api/analytics/employee-details/${X}?${new URLSearchParams({dateRange:c.dateRange,...c.startDate&&{startDate:c.startDate},...c.endDate&&{endDate:c.endDate}})}`;console.log(` Fetching employee details from: ${$e}`);const et=await dt.get($e);if(et.ok){const Qe=await et.json();console.log(" Employee details received:",{dayRecords:((Me=Qe.dayRecords)==null?void 0:Me.length)||0,meetingRecords:((Ne=Qe.meetingRecords)==null?void 0:Ne.length)||0});const Ut=Qe.dayRecords||[],It=Qe.meetingRecords||[];It.length>0?(console.log(" First meeting record structure:",It[0]),console.log(" Meeting ID present?",!!It[0].meetingId),console.log(" All meeting IDs:",It.map(Ct=>({meetingId:Ct.meetingId,hasId:!!Ct.meetingId,company:Ct.companyName})))):console.warn(" No meeting records received from API");try{const Ct=new URLSearchParams({employeeId:X});c.startDate&&Ct.append("startDate",c.startDate),c.endDate&&Ct.append("endDate",c.endDate);const Pt=`/api/analytics/attendance?${Ct}`;console.log(` Fetching attendance from: ${Pt}`);const $t=await dt.get(Pt);if(console.log(` Attendance response status: ${$t.status}`),$t.ok){const Ht=await $t.json();if(console.log(" Attendance data received:",Ht),Ht.success&&Ht.data){console.log(` Processing ${Ht.data.length} attendance records`);const W=new Map(Ht.data.map(Fe=>[Fe.date,Fe]));let we=0;Ut.forEach(Fe=>{const be=W.get(Fe.date);be&&(Fe.attendanceStatus=be.attendanceStatus,Fe.attendanceReason=be.attendanceReason,we++,console.log(` Merged attendance for ${Fe.date}:`,{status:be.attendanceStatus,reason:be.attendanceReason}))}),console.log(` Merged ${we} attendance records with day records`)}else console.log(" No attendance data in response")}else console.warn(` Attendance API returned status: ${$t.status}`)}catch(Ct){console.error(" Failed to fetch attendance data:",Ct)}if(console.log(` Setting state with ${Ut.length} day records and ${It.length} meeting records`),It.length>0){console.log(" Sample meeting record:",It[0]);const Ct=It.filter(Pt=>!Pt.meetingId);Ct.length>0&&console.error(` ${Ct.length} meetings are missing IDs!`,Ct),console.log(" Meeting IDs:",It.map(Pt=>({id:Pt.meetingId,company:Pt.companyName,hasId:!!Pt.meetingId})))}w(Ut),b(It)}else console.error(` Failed to fetch employee details - Status: ${et.status}`),w([]),b([])}catch($e){console.error(" Error fetching employee details:",$e),w([]),b([])}finally{T(!1),console.log(" Employee details loading complete")}},ee=()=>{p(null),w([]),b([])},te=(X,ve)=>{const Me=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900","bg-indigo-50 border-indigo-200 text-indigo-900"];return Me[ve%Me.length]},me=async(X,ve)=>{var $e,et;if(!X){console.error("No employee ID provided for meeting history");return}console.log("meeting works perfectly");const Me=(($e=e.find(Qe=>Qe.employeeId===X))==null?void 0:$e.employeeName)||(f===X?"Selected Employee":"Unknown Employee"),Ne=ve?`employee: ${X} (${Me}), leadId: ${ve}`:`employee: ${X} (${Me})`;console.log(`Opening meeting history for ${Ne}`),j({isOpen:!0,employeeId:X,employeeName:ve?`${Me} - Lead ${ve}`:Me,meetingHistory:[],loading:!0});try{const Qe=new URLSearchParams;Qe.append("employeeId",X),Qe.append("limit","50"),Qe.append("_t",Date.now().toString()),ve&&Qe.append("leadId",ve),c.dateRange!=="all"?(Qe.append("dateRange",c.dateRange),c.startDate&&Qe.append("startDate",c.startDate),c.endDate&&Qe.append("endDate",c.endDate),console.log(`Applying date filter to meeting history for ${Me}:`,c.dateRange)):console.log(`Showing ALL meetings in history for ${Me} (All Time filter selected)`),console.log(`Fetching meeting history for ${Me} with filters: ${Qe.toString()}`);const It=await dt.get(`/api/meeting-history?${Qe.toString()}`);if(It.ok){const Ct=await It.json();console.log(`Meeting history response for ${Me}: ${((et=Ct.meetings)==null?void 0:et.length)||0} records`);const Pt=Ct.meetings||[],$t=Pt.filter(W=>W.employeeId!==X);$t.length>0&&console.error(`WARNING: Found ${$t.length} meetings that don't belong to employee ${X}:`,$t.map(W=>({meetingEmployeeId:W.employeeId,leadId:W.leadId})));const Ht=Pt.filter(W=>W.employeeId===X);console.log(`After filtering: ${Ht.length} meetings actually belong to ${Me}`),j(W=>({...W,meetingHistory:Ht,loading:!1}))}else console.error(`Failed to fetch meeting history for ${Me}`),j(Ct=>({...Ct,meetingHistory:[],loading:!1}))}catch(Qe){console.error(`Error fetching meeting history for ${Me}:`,Qe),j(Ut=>({...Ut,meetingHistory:[],loading:!1}))}},U=()=>{console.log("Closing meeting history modal"),j({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1})},ue=X=>{k({isOpen:!0,employeeId:X})},oe=()=>{k({isOpen:!1,employeeId:""})},F=[{value:"full_day",label:"Full Day"},{value:"half_day",label:"Half Day"},{value:"off",label:"Off"},{value:"short_leave",label:"Short Leave"},{value:"ot",label:"OT"}],Q=(X,ve,Me)=>{M(Ne=>({...Ne,[X]:{attendanceStatus:ve||"full_day",attendanceReason:Me||"",isEditing:!0,isSaving:!1}}))},ye=X=>{M(ve=>{const Me={...ve};return delete Me[X],Me})},Re=(X,ve)=>{M(Me=>({...Me,[X]:{...Me[X],attendanceStatus:ve}}))},Pe=(X,ve)=>{M(Me=>({...Me,[X]:{...Me[X],attendanceReason:ve}}))},Y=async X=>{var Me;const ve=D[X];if(!(!ve||!f)){console.log(` Saving attendance for ${X}:`,ve),M(Ne=>({...Ne,[X]:{...Ne[X],isSaving:!0}}));try{const Ne=JSON.parse(localStorage.getItem("user")||"{}"),$e=(Ne==null?void 0:Ne._id)||null;console.log(` Logged-in user ID: ${$e}`);const et=await dt.post("/api/analytics/save-attendance",{employeeId:f,date:X,attendanceStatus:ve.attendanceStatus,attendanceReason:ve.attendanceReason,attendenceCreated:$e});if(et.ok){const Qe=await et.json();console.log(" Attendance saved successfully:",Qe),console.log(" Refetching employee details to update attendanceAddedBy...");const Ut=((Me=e.find(It=>It.employeeId===f))==null?void 0:Me.employeeName)||"Employee";await K(f,Ut),ye(X),console.log(` Attendance updated in UI for ${X}`)}else{console.error(` Failed to save attendance - Status: ${et.status}`);const Qe=await et.text();console.error("Error response:",Qe),alert("Failed to save attendance. Please try again.")}}catch(Ne){console.error(" Error saving attendance:",Ne),alert("Error saving attendance. Please try again.")}finally{M(Ne=>({...Ne,[X]:{...Ne[X],isSaving:!1}}))}}},B=X=>{const ve=Math.floor(X),Me=Math.round((X-ve)*60);return`${ve}h ${Me}m`},ge=[{value:"ok",label:"OK"},{value:"not_ok",label:"Not OK"}],Ee=X=>X.meetingId?X.meetingId:`${X.date}_${X.companyName}_${X.meetingInTime}`.replace(/\s+/g,"_"),Ve=X=>{const ve=Ee(X);console.log(` Editing meeting approval for: ${ve}`,{meetingId:X.meetingId,company:X.companyName,date:X.date}),I(Me=>({...Me,[ve]:{approvalStatus:X.approvalStatus||"",approvalReason:X.approvalReason||"",isEditing:!0,isSaving:!1,meetingId:X.meetingId,meetingKey:ve}}))},ut=X=>{I(ve=>{const Me={...ve};return delete Me[X],Me})},Je=(X,ve)=>{I(Me=>({...Me,[X]:{...Me[X],approvalStatus:ve}}))},Lt=(X,ve)=>{I(Me=>({...Me,[X]:{...Me[X],approvalReason:ve}}))},Wt=async X=>{const ve=O[X];if(!ve||!ve.approvalStatus){alert("Please select an approval status");return}if(!ve.approvalReason.trim()){alert("Please provide a reason for your approval decision");return}const Me=_.find(Ne=>Ee(Ne)===X);if(!Me){console.error(" Cannot find meeting record for key:",X),alert("Error: Meeting record not found.");return}console.log(` Saving meeting approval for ${X}:`,{meetingId:ve.meetingId,employeeId:f,date:Me.date,company:Me.companyName,status:ve.approvalStatus,reason:ve.approvalReason}),I(Ne=>({...Ne,[X]:{...Ne[X],isSaving:!0}}));try{let Ne;if(ve.meetingId){const $e=`/api/meetings/${ve.meetingId}/approval`;console.log(` Sending PUT request to: ${$e}`),Ne=await dt.put($e,{approvalStatus:ve.approvalStatus,approvalReason:ve.approvalReason})}else{const $e="/api/meetings/approval-by-details";console.log(` Sending PUT request to: ${$e} (using composite key)`),Ne=await dt.put($e,{employeeId:f,date:Me.date,companyName:Me.companyName,meetingInTime:Me.meetingInTime,approvalStatus:ve.approvalStatus,approvalReason:ve.approvalReason})}if(console.log(` Response status: ${Ne.status}`),Ne.ok){const $e=await Ne.json();console.log(" Meeting approval saved successfully:",$e),b(et=>et.map(Qe=>Ee(Qe)===X?{...Qe,approvalStatus:ve.approvalStatus,approvalReason:ve.approvalReason}:Qe)),ut(X),console.log(` Meeting approval updated in UI for ${X}`)}else{console.error(` Failed to save meeting approval - Status: ${Ne.status}`);const $e=await Ne.text();console.error("Error response:",$e),alert("Failed to save meeting approval. Please try again.")}}catch(Ne){console.error(" Error saving meeting approval:",Ne),alert("Error saving meeting approval. Please try again.")}finally{I(Ne=>({...Ne,[X]:{...Ne[X],isSaving:!1}}))}},xn=X=>{switch(X){case"active":return o.jsx(Nt,{className:"bg-success text-success-foreground",children:"Active"});case"meeting":return o.jsx(Nt,{className:"bg-warning text-warning-foreground",children:"In Meeting"});case"inactive":return o.jsx(Nt,{variant:"secondary",children:"Offline"});default:return o.jsx(Nt,{variant:"secondary",children:"Unknown"})}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Analytics Dashboard"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Employee performance and meeting analytics for"," ",de()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ce,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(Os,{to:"/route-test",children:[o.jsx(uw,{className:"h-4 w-4 mr-2"}),"Test Route Tracking"]})}),o.jsxs(Ce,{onClick:Ae,variant:"outline",children:[o.jsx(ow,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Total Employees"}),o.jsx(na,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsx("div",{className:"text-2xl font-bold",children:Z.totalEmployees}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active in system"})]})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Active Meetings"}),o.jsx(Np,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:Z.activeMeetings}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently ongoing"})]})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsxs(Et,{className:"text-sm font-medium",children:["Meetings ",de()]}),o.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:Z.totalMeetingsToday}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed meetings"})]})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Avg Meeting Duration"}),o.jsx(HS,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsxs("div",{className:"text-2xl font-bold text-info",children:[Z.avgMeetingDuration.toFixed(1),"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Per meeting"})]})]})]}),o.jsxs(at,{className:"mb-6",children:[o.jsx(jt,{children:o.jsxs(Et,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(lw,{className:"h-4 w-4 mr-2"}),"Filters"]}),c.dateRange==="custom"&&c.startDate&&c.endDate&&o.jsxs(Nt,{variant:"secondary",className:"text-xs",children:["Custom: ",rn(new Date(c.startDate),"MMM dd")," -"," ",rn(new Date(c.endDate),"MMM dd")]})]})}),o.jsx(lt,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"search",children:"Search Employee"}),o.jsxs("div",{className:"relative",children:[o.jsx(Jc,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(dn,{id:"search",placeholder:"Search by name...",value:c.searchTerm,onChange:X=>ae("searchTerm",X.target.value),className:"pl-8"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{children:"Employee"}),o.jsxs(ds,{value:c.employeeId,onValueChange:X=>ae("employeeId",X),children:[o.jsx(Gr,{children:o.jsx(fs,{placeholder:"All Employees"})}),o.jsxs(Yr,{children:[o.jsx(Gt,{value:"all",children:"All Employees"}),e.map(X=>o.jsx(Gt,{value:X.employeeId,children:X.employeeName},X.employeeId))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{children:"Date Range"}),o.jsxs(ds,{value:c.dateRange,onValueChange:X=>ae("dateRange",X),children:[o.jsx(Gr,{children:o.jsx(fs,{})}),o.jsxs(Yr,{children:[o.jsx(Gt,{value:"all",children:"All Time"}),o.jsx(Gt,{value:"today",children:"Today"}),o.jsx(Gt,{value:"yesterday",children:"Yesterday"}),o.jsx(Gt,{value:"week",children:"This Week"}),o.jsx(Gt,{value:"month",children:"This Month"}),o.jsx(Gt,{value:"custom",children:"Custom Range"})]})]})]}),c.dateRange==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"startDate",children:"Start Date"}),o.jsx(dn,{id:"startDate",type:"date",value:c.startDate||"",onChange:X=>ae("startDate",X.target.value),max:c.endDate||rn(new Date,"yyyy-MM-dd")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"endDate",children:"End Date"}),o.jsx(dn,{id:"endDate",type:"date",value:c.endDate||"",onChange:X=>ae("endDate",X.target.value),min:c.startDate||"",max:rn(new Date,"yyyy-MM-dd")}),c.dateRange==="custom"&&(!c.startDate||!c.endDate)&&o.jsx("p",{className:"text-xs text-amber-600",children:"Please select both start and end dates"})]})]}),c.dateRange==="custom"&&o.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-2 xl:col-span-2",children:[o.jsx(Ot,{children:"Quick Select"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>J("last7"),className:"text-xs",children:"Last 7 Days"}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>J("last30"),className:"text-xs",children:"Last 30 Days"}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>J("thisMonth"),className:"text-xs",children:"This Month"}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>J("lastMonth"),className:"text-xs",children:"Last Month"})]})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-1 xl:col-span-1",children:[o.jsx(Ot,{children:""}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Ce,{onClick:se,className:"flex-1",disabled:s||c.dateRange==="custom"&&(!c.startDate||!c.endDate),children:[o.jsx(AS,{className:"h-4 w-4 mr-2"}),s?"Loading...":"Apply Filter"]}),c.dateRange==="custom"&&o.jsx(Ce,{variant:"outline",onClick:q,disabled:s,children:"Clear"})]})]})]})})]}),f?o.jsxs("div",{className:"space-y-6",children:[o.jsx(at,{children:o.jsx(lt,{className:"pt-6",children:o.jsxs(Ce,{onClick:ee,variant:"outline",children:[o.jsx(df,{className:"h-4 w-4 mr-2"}),"Back to Employee List"]})})}),N?o.jsx(at,{children:o.jsx(lt,{className:"py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employee details..."})]})})}):o.jsxs(o.Fragment,{children:[Array.from(new Set([...g.map(ve=>ve.date),..._.map(ve=>ve.date)])).sort((ve,Me)=>new Date(Me).getTime()-new Date(ve).getTime()).map((ve,Me)=>{var Qe,Ut,It,Ct,Pt,$t,Ht;const Ne=g.find(W=>W.date===ve),$e=_.filter(W=>W.date===ve),et=te(ve,Me);return o.jsxs("div",{className:`p-4 rounded-lg border-2 ${et}`,children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:rn(new Date(ve),"EEEE, MMMM dd, yyyy")}),Ne&&o.jsxs(at,{className:"mb-4",children:[o.jsx(jt,{children:o.jsx(Et,{className:"text-sm",children:"Daily Summary"})}),o.jsx(lt,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Rc,{children:[o.jsx(Lc,{children:o.jsxs(uo,{className:et,children:[o.jsx(gt,{children:"Date"}),o.jsx(gt,{children:"Total Meetings"}),o.jsx(gt,{children:"Start Location Time"}),o.jsx(gt,{children:"Start Location Address"}),o.jsx(gt,{children:"Out Location Time"}),o.jsx(gt,{children:"Out Location Address"}),o.jsx(gt,{children:"Total Duty Hours"}),o.jsx(gt,{children:"Meeting Time"}),o.jsx(gt,{children:"Travel & Lunch Time"}),o.jsx(gt,{children:"Attendance Status"}),o.jsx(gt,{children:"Reason"}),o.jsx(gt,{children:"Attendance Added By"}),o.jsx(gt,{children:"Actions"})]})}),o.jsx(Ac,{children:o.jsxs(uo,{className:`${et} opacity-80`,children:[o.jsx(vt,{children:rn(new Date(Ne.date),"MM/dd/yyyy")}),o.jsx(vt,{children:Ne.totalMeetings}),o.jsx(vt,{children:Ne.startLocationTime?rn(new Date(Ne.startLocationTime),"HH:mm"):"-"}),o.jsx(vt,{children:Ne.startLocationAddress||"-"}),o.jsx(vt,{children:Ne.outLocationTime?rn(new Date(Ne.outLocationTime),"HH:mm"):"-"}),o.jsx(vt,{children:Ne.outLocationAddress||"-"}),o.jsx(vt,{children:B(Ne.totalDutyHours)}),o.jsx(vt,{children:B(Ne.meetingTime)}),o.jsx(vt,{children:B(Ne.travelAndLunchTime)}),o.jsx(vt,{children:(Qe=D[ve])!=null&&Qe.isEditing?o.jsxs(ds,{value:D[ve].attendanceStatus,onValueChange:W=>Re(ve,W),children:[o.jsx(Gr,{className:"w-32",children:o.jsx(fs,{})}),o.jsx(Yr,{children:F.map(W=>o.jsx(Gt,{value:W.value,children:W.label},W.value))})]}):o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm",children:Ne.attendanceStatus?((Ut=F.find(W=>W.value===Ne.attendanceStatus))==null?void 0:Ut.label)||Ne.attendanceStatus:"Full Day"})})}),o.jsx(vt,{children:(It=D[ve])!=null&&It.isEditing?o.jsx(gi,{value:D[ve].attendanceReason,onChange:W=>Pe(ve,W.target.value),placeholder:"Enter reason...",className:"w-40 h-16 text-xs"}):o.jsx("div",{className:"max-w-40 text-xs",children:Ne.attendanceReason||"-"})}),o.jsx(vt,{children:o.jsx("div",{className:"text-xs text-muted-foreground",children:Ne.attendanceAddedBy||"-"})}),o.jsx(vt,{children:(Ct=D[ve])!=null&&Ct.isEditing?o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ce,{size:"sm",onClick:()=>Y(ve),disabled:(Pt=D[ve])==null?void 0:Pt.isSaving,className:"h-7 px-2",children:($t=D[ve])!=null&&$t.isSaving?o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):o.jsx(Bm,{className:"h-3 w-3"})}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>ye(ve),disabled:(Ht=D[ve])==null?void 0:Ht.isSaving,className:"h-7 px-2",children:""})]}):o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>Q(ve,Ne.attendanceStatus,Ne.attendanceReason),className:"h-7 px-2",children:o.jsx(Um,{className:"h-3 w-3"})})})]})})]})})})]}),$e.length>0&&o.jsxs(at,{children:[o.jsx(jt,{children:o.jsx(Et,{className:"text-sm",children:"Meeting Details"})}),o.jsx(lt,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Rc,{children:[o.jsx(Lc,{children:o.jsxs(uo,{className:et,children:[o.jsx(gt,{children:"Employee Name"}),o.jsx(gt,{children:"Company Name"}),o.jsx(gt,{children:"Date"}),o.jsx(gt,{children:"Lead ID"}),o.jsx(gt,{children:"Meeting In Time"}),o.jsx(gt,{children:"Meeting In Location"}),o.jsx(gt,{children:"Meeting Out Time"}),o.jsx(gt,{children:"Meeting Out Location"}),o.jsx(gt,{children:"Total Stay Time"}),o.jsx(gt,{children:"Discussion"}),o.jsx(gt,{children:"Meeting Person"}),o.jsx(gt,{children:"Approval Status"}),o.jsx(gt,{children:"Approval Reason"}),o.jsx(gt,{children:"Actions"}),o.jsx(gt,{children:"History"})]})}),o.jsx(Ac,{children:$e.map((W,we)=>{var Fe;return o.jsxs(uo,{className:`${et} opacity-80`,children:[o.jsx(vt,{children:((Fe=e.find(be=>be.employeeId===f))==null?void 0:Fe.employeeName)||W.employeeName}),o.jsx(vt,{children:W.companyName}),o.jsx(vt,{children:rn(new Date(W.date),"MM/dd/yyyy")}),o.jsx(vt,{children:W.leadId||"-"}),o.jsx(vt,{children:W.meetingInTime}),o.jsx(vt,{children:W.meetingInLocation}),o.jsx(vt,{children:W.meetingOutTime}),o.jsx(vt,{children:W.meetingOutLocation}),o.jsx(vt,{children:B(W.totalStayTime)}),o.jsx(vt,{className:"max-w-xs truncate",children:W.discussion||"-"}),o.jsx(vt,{children:W.meetingPerson}),o.jsx(vt,{children:(()=>{var Ge;const be=Ee(W);return(Ge=O[be])!=null&&Ge.isEditing?o.jsxs(ds,{value:O[be].approvalStatus,onValueChange:Se=>Je(be,Se),children:[o.jsx(Gr,{className:"w-28",children:o.jsx(fs,{placeholder:"Select..."})}),o.jsx(Yr,{children:ge.map(Se=>o.jsx(Gt,{value:Se.value,children:Se.label},Se.value))})]}):o.jsx("div",{className:"flex items-center space-x-2",children:W.approvalStatus?o.jsx(Nt,{variant:W.approvalStatus==="ok"?"default":"destructive",className:W.approvalStatus==="ok"?"bg-success text-success-foreground":"",children:W.approvalStatus==="ok"?"OK":"Not OK"}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Not reviewed"})})})()}),o.jsx(vt,{children:(()=>{var Ge;const be=Ee(W);return(Ge=O[be])!=null&&Ge.isEditing?o.jsx(gi,{value:O[be].approvalReason,onChange:Se=>Lt(be,Se.target.value),placeholder:"Enter reason (required)...",className:"w-48 h-16 text-xs"}):o.jsx("div",{className:"max-w-48 text-xs",children:W.approvalReason||"-"})})()}),o.jsx(vt,{children:(()=>{var Ge,Se,De,Be;const be=Ee(W);return(Ge=O[be])!=null&&Ge.isEditing?o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ce,{size:"sm",onClick:()=>Wt(be),disabled:(Se=O[be])==null?void 0:Se.isSaving,className:"h-7 px-2",children:(De=O[be])!=null&&De.isSaving?o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):o.jsx(Bm,{className:"h-3 w-3"})}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>ut(be),disabled:(Be=O[be])==null?void 0:Be.isSaving,className:"h-7 px-2",children:""})]}):o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>Ve(W),className:"h-7 px-2",title:"Edit approval",children:o.jsx(Um,{className:"h-3 w-3"})})})()}),o.jsx(vt,{children:o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>{const be=f,Ge=W.leadId;me(be,Ge)},children:[o.jsx(ol,{className:"h-4 w-4 mr-1"}),"History"]})})]},we)})})]})})})]})]},ve)}),g.length===0&&_.length===0&&o.jsx(at,{children:o.jsx(lt,{className:"py-12",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected employee and date range"})})})})]})]}):o.jsxs(at,{children:[o.jsxs(jt,{children:[o.jsx(Et,{children:"Employee Analytics"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed breakdown of employee performance and meeting statistics"})]}),o.jsx(lt,{children:s?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]}):e.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected filters"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Rc,{children:[o.jsx(Lc,{children:o.jsxs(uo,{children:[o.jsx(gt,{children:"Employee Name"}),o.jsx(gt,{children:"Status"}),o.jsx(gt,{className:"text-center",children:"Total Meetings"}),o.jsx(gt,{className:"text-center",children:"Today's Meetings"}),o.jsx(gt,{className:"text-center",children:"Meeting Hours"}),o.jsx(gt,{className:"text-center",children:"Duty Hours"}),o.jsx(gt,{className:"text-center",children:"Actions"})]})}),o.jsx(Ac,{children:e.map(X=>o.jsxs(uo,{children:[o.jsx(vt,{className:"font-medium",children:X.employeeName}),o.jsx(vt,{children:xn(X.status)}),o.jsx(vt,{className:"text-center",children:o.jsx(Nt,{variant:"outline",children:X.totalMeetings})}),o.jsx(vt,{className:"text-center",children:o.jsx(Nt,{variant:"outline",className:X.todayMeetings>0?"bg-success/10 text-success border-success":"",children:X.todayMeetings})}),o.jsx(vt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx(Tn,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{children:B(X.totalMeetingHours)})]})}),o.jsx(vt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx(Tn,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{children:B(X.totalDutyHours)})]})}),o.jsx(vt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>K(X.employeeId,X.employeeName),children:[o.jsx(iw,{className:"h-4 w-4 mr-1"}),"View Details"]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>ue(X.employeeId),children:[o.jsx(ol,{className:"h-4 w-4 mr-1"}),"Route History"]})]})})]},X.employeeId))})]})})})]})]}),o.jsx(Mr,{open:P.isOpen,onOpenChange:U,children:o.jsxs(dr,{className:"sm:max-w-[1200px] max-h-[80vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx(ol,{className:"h-5 w-5 text-primary"}),o.jsxs("span",{children:["Meeting History - ",P.employeeName," (ID:"," ",P.employeeId,")"]})]}),o.jsx(mr,{children:"Complete meeting history and interactions for this employee"})]}),o.jsx("div",{className:"space-y-4",children:P.loading?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading meeting history..."})]}):P.meetingHistory.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No meeting history found for this employee"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Rc,{children:[o.jsx(Lc,{children:o.jsxs(uo,{children:[o.jsx(gt,{children:"Date"}),o.jsx(gt,{children:"Employee"}),o.jsx(gt,{children:"Company"}),o.jsx(gt,{children:"Lead ID"}),o.jsx(gt,{children:"Customer Name"}),o.jsx(gt,{children:"Contact Person"}),o.jsx(gt,{children:"Contact Details"}),o.jsx(gt,{children:"Discussion"}),o.jsx(gt,{children:"Status"})]})}),o.jsx(Ac,{children:P.meetingHistory.map((X,ve)=>{var Me,Ne,$e,et,Qe,Ut,It,Ct,Pt,$t,Ht,W,we,Fe,be,Ge,Se,De,Be,nt,he,pe,je,Oe,He,Ft,tt,bt,At,Yt,er,$s,vs,vo,ys,fa,Nn;return o.jsxs(uo,{children:[o.jsx(vt,{children:rn(new Date(X.timestamp),"MMM dd, yyyy HH:mm")}),o.jsx(vt,{className:"font-medium",children:P.employeeName}),o.jsx(vt,{className:"font-medium",children:((Me=X.meetingDetails)==null?void 0:Me.customerName)||((et=($e=(Ne=X.meetingDetails)==null?void 0:Ne.customers)==null?void 0:$e[0])==null?void 0:et.customerName)||((Qe=X.leadInfo)==null?void 0:Qe.companyName)||"-"}),o.jsx(vt,{children:X.leadId?o.jsx(Nt,{variant:"outline",children:X.leadId}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx(vt,{children:((It=(Ut=X.meetingDetails)==null?void 0:Ut.customers)==null?void 0:It.map(qe=>qe.customerName).join(", "))||((Ct=X.meetingDetails)==null?void 0:Ct.customerName)||"-"}),o.jsx(vt,{children:(($t=(Pt=X.meetingDetails)==null?void 0:Pt.customers)==null?void 0:$t.map(qe=>qe.customerEmployeeName).join(", "))||((Ht=X.meetingDetails)==null?void 0:Ht.customerEmployeeName)||"-"}),o.jsx(vt,{children:o.jsxs("div",{className:"text-xs space-y-1",children:[(((Fe=(we=(W=X.meetingDetails)==null?void 0:W.customers)==null?void 0:we[0])==null?void 0:Fe.customerEmail)||((be=X.meetingDetails)==null?void 0:be.customerEmail))&&o.jsxs("div",{children:[""," ",((De=(Se=(Ge=X.meetingDetails)==null?void 0:Ge.customers)==null?void 0:Se[0])==null?void 0:De.customerEmail)||((Be=X.meetingDetails)==null?void 0:Be.customerEmail)]}),(((pe=(he=(nt=X.meetingDetails)==null?void 0:nt.customers)==null?void 0:he[0])==null?void 0:pe.customerMobile)||((je=X.meetingDetails)==null?void 0:je.customerMobile))&&o.jsxs("div",{children:[""," ",((Ft=(He=(Oe=X.meetingDetails)==null?void 0:Oe.customers)==null?void 0:He[0])==null?void 0:Ft.customerMobile)||((tt=X.meetingDetails)==null?void 0:tt.customerMobile)]}),(((Yt=(At=(bt=X.meetingDetails)==null?void 0:bt.customers)==null?void 0:At[0])==null?void 0:Yt.customerDesignation)||((er=X.meetingDetails)==null?void 0:er.customerDesignation))&&o.jsxs("div",{children:[""," ",((vo=(vs=($s=X.meetingDetails)==null?void 0:$s.customers)==null?void 0:vs[0])==null?void 0:vo.customerDesignation)||((ys=X.meetingDetails)==null?void 0:ys.customerDesignation)]})]})}),o.jsx(vt,{className:"max-w-xs",children:o.jsx("div",{className:"truncate",title:(fa=X.meetingDetails)==null?void 0:fa.discussion,children:((Nn=X.meetingDetails)==null?void 0:Nn.discussion)||"-"})}),o.jsx(vt,{children:o.jsx(Nt,{variant:"default",className:"bg-success text-success-foreground",children:"Completed"})})]},ve)})})]})})})]})}),o.jsx(Nb,{employeeId:C.employeeId,isOpen:C.isOpen,onClose:oe})]})}const NM=(e={})=>{const[t,s]=v.useState({latitude:null,longitude:null,accuracy:null,error:null,loading:!0}),{enableHighAccuracy:a=!0,maximumAge:c=0,timeout:d=1e4,watchPosition:f=!1}=e,p=v.useCallback(_=>(s({latitude:_.coords.latitude,longitude:_.coords.longitude,accuracy:_.coords.accuracy,error:null,loading:!1}),_),[]),g=v.useCallback(_=>{let b="An unknown error occurred";switch(_.code){case _.PERMISSION_DENIED:b="Location access denied by user";break;case _.POSITION_UNAVAILABLE:b="Location information unavailable";break;case _.TIMEOUT:b="Location request timed out";break}return s(N=>({...N,error:b,loading:!1})),null},[]),w=v.useCallback(()=>new Promise(_=>{if(!navigator.geolocation){s(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1})),_(null);return}s(b=>({...b,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(b=>_(p(b)),b=>_(g(b)),{enableHighAccuracy:a,maximumAge:c,timeout:d})}),[a,c,d,p,g]);return v.useEffect(()=>{if(!navigator.geolocation){s(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1}));return}let _=null;return f?_=navigator.geolocation.watchPosition(p,g,{enableHighAccuracy:a,maximumAge:c,timeout:d}):w(),()=>{_!==null&&navigator.geolocation.clearWatch(_)}},[f,w,p,g,a,c,d]),{...t,getCurrentPosition:w}};function jM({employeeId:e,employeeName:t,onLocationUpdate:s,trackingEnabled:a=!1,onTrackingSessionStart:c,onTrackingSessionEnd:d,todaysMeetings:f=[]}){const{toast:p}=Sl(),[g,w]=v.useState(!1),[_,b]=v.useState(""),[N,T]=v.useState(!1),[P,j]=v.useState([]),[C,k]=v.useState({}),D=()=>{try{const he=localStorage.getItem(`tracking_${e}`);if(he){const pe=JSON.parse(he);if(console.log(" Restored tracking state from localStorage:",pe),pe.isTracking===!0)return!0}}catch(he){console.warn("Error reading tracking state from localStorage:",he)}return!1},[M,O]=v.useState(D),[I,Z]=v.useState(null),[z,se]=v.useState(0),[ae,q]=v.useState(null),[J,de]=v.useState(0),[Ae,K]=v.useState(0),te=(()=>{try{const he=localStorage.getItem(`trackingData_${e}`);if(he){const pe=JSON.parse(he);return console.log(" Restored tracking data from localStorage:",pe),{currentSession:pe.currentSession,trackingStartTime:pe.trackingStartTime?new Date(pe.trackingStartTime):null,routeCoordinates:pe.routeCoordinates||[],totalDistance:pe.totalDistance||0}}}catch(he){console.warn("Error reading tracking data from localStorage:",he)}return{currentSession:null,trackingStartTime:null,routeCoordinates:[],totalDistance:0}})(),[me,U]=v.useState(te.currentSession),[ue,oe]=v.useState(te.trackingStartTime),[F,Q]=v.useState(null),[ye,Re]=v.useState(0),[Pe,Y]=v.useState(te.routeCoordinates),[B,ge]=v.useState(te.totalDistance),Ee=v.useRef(null),Ve=(he,pe,je,Oe,He)=>{try{const Ft={isTracking:he,timestamp:new Date().toISOString()},tt={currentSession:pe,trackingStartTime:je==null?void 0:je.toISOString(),routeCoordinates:Oe,totalDistance:He,lastSaved:new Date().toISOString()};localStorage.setItem(`tracking_${e}`,JSON.stringify(Ft)),localStorage.setItem(`trackingData_${e}`,JSON.stringify(tt)),console.log(" Tracking state saved to localStorage")}catch(Ft){console.warn("Error saving tracking state to localStorage:",Ft)}},ut=()=>{try{localStorage.removeItem(`tracking_${e}`),localStorage.removeItem(`trackingData_${e}`),console.log(" Tracking state cleared from localStorage")}catch(he){console.warn("Error clearing tracking state from localStorage:",he)}},[Je,Lt]=v.useState(!1),[Wt,xn]=v.useState(!1),[X,ve]=v.useState(!1),[Me,Ne]=v.useState(null),{latitude:$e,longitude:et,accuracy:Qe,error:Ut,loading:It,getCurrentPosition:Ct}=NM({enableHighAccuracy:!0,maximumAge:0,timeout:3e4,watchPosition:M});v.useEffect(()=>{var he;M&&ue&&me&&(console.log(" Restored active tracking session, resuming..."),Ct(),c==null||c(me),X&&Wt&&(console.log(" Restarting background tracking via Service Worker"),(he=navigator.serviceWorker.controller)==null||he.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}})))},[]),v.useEffect(()=>{const he=()=>{M&&me&&(Ve(M,me,ue,Pe,B),console.log(" Saved tracking state before page unload"))};return window.addEventListener("beforeunload",he),()=>{window.removeEventListener("beforeunload",he)}},[M,me,ue,Pe,B]),v.useEffect(()=>{const he=window.matchMedia("(display-mode: standalone)").matches,pe=window.matchMedia("(display-mode: standalone)").matches;Lt(he||pe);const je="serviceWorker"in navigator,Oe="Notification"in window;return xn(je&&Oe),je&&navigator.serviceWorker.ready.then(He=>{console.log("Service Worker ready for location tracking"),ve(!0),navigator.serviceWorker.addEventListener("message",$t)}),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",$t)}},[]);const Pt=v.useCallback((he,pe,je,Oe)=>{const Ft=he*Math.PI/180,tt=je*Math.PI/180,bt=(je-he)*Math.PI/180,At=(pe-Oe)*Math.PI/180,Yt=Math.sin(bt/2)*Math.sin(bt/2)+Math.cos(Ft)*Math.cos(tt)*Math.sin(At/2)*Math.sin(At/2);return 6371e3*(2*Math.atan2(Math.sqrt(Yt),Math.sqrt(1-Yt)))},[]),$t=v.useCallback(he=>{var pe,je;if(((pe=he.data)==null?void 0:pe.type)==="LOCATION_UPDATE"){const Oe=he.data.payload;if(console.log("Received background location update:",Oe),M){const He={lat:Oe.latitude,lng:Oe.longitude,address:`${Oe.latitude.toFixed(6)}, ${Oe.longitude.toFixed(6)}`,timestamp:Oe.timestamp};Y(Ft=>{const tt=[...Ft,He];if(Ft.length>0){const bt=Ft[Ft.length-1],At=Pt(bt.lat,bt.lng,Oe.latitude,Oe.longitude);ge(Yt=>Yt+At)}return tt})}}((je=he.data)==null?void 0:je.type)==="GET_EMPLOYEE_ID"&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"EMPLOYEE_ID_RESPONSE",payload:e})},[M,e,Pt]);v.useEffect(()=>(M&&ue?(Re(Date.now()-ue.getTime()),Ee.current=setInterval(()=>{Re(Date.now()-ue.getTime())},1e3)):Ee.current&&(clearInterval(Ee.current),Ee.current=null),()=>{Ee.current&&clearInterval(Ee.current)}),[M,ue]),v.useEffect(()=>{if($e&&et&&Qe&&M){const he=Date.now(),pe=he-Ae;if((()=>{if(Ae===0)return!0;if(pe<2e3)return!1;if(pe>=15e3)return!0;if(Pe.length>0){const Oe=Pe[Pe.length-1];if(Pt(Oe.lat,Oe.lng,$e,et)>2||Qe&&Qe<15)return!0}return!1})()){Ht($e,et,Qe);const Oe={lat:$e,lng:et,address:`${$e.toFixed(6)}, ${et.toFixed(6)}`,timestamp:new Date().toISOString()};Y(He=>{if(!(()=>{if(He.length===0)return!0;const bt=He[He.length-1];return!!(Pt(bt.lat,bt.lng,$e,et)>2||Qe&&Qe<15&&(!bt.accuracy||Qe<bt.accuracy*.8)||new Date().getTime()-new Date(bt.timestamp).getTime()>18e4)})()){const bt=Pt(He[He.length-1].lat,He[He.length-1].lng,$e,et);return bt>.5&&console.log(`Route point filtered: moved ${bt.toFixed(1)}m (threshold: 2m)`),He}const tt=[...He,{...Oe,accuracy:Qe}];if(He.length>0){const bt=He[He.length-1],At=Pt(bt.lat,bt.lng,$e,et);ge(Yt=>{const er=Yt+At;return Ve(!0,me,ue,tt,er),console.log(` Added route point: ${At.toFixed(1)}m from last, ${tt.length} total points, ${(er/1e3).toFixed(2)}km total`),er})}else Ve(!0,me,ue,tt,B),console.log(` Added first route point at ${$e.toFixed(6)}, ${et.toFixed(6)}`);return tt}),Z(new Date),se(He=>He+1),K(he),s==null||s($e,et,Qe)}else{const Oe=pe<2e3?`Rate limited: ${Math.ceil((2e3-pe)/1e3)}s remaining`:"No significant movement detected";console.log(Oe)}}},[$e,et,Qe,M,s,Ae,Pt]),console.log("testing location");const Ht=async(he,pe,je,Oe=0)=>{try{console.log("Attempting to update location:",{employeeId:e,lat:he,lng:pe,accuracy:je,retryCount:Oe});const He=await dt.put(`/api/employees/${e}/location`,{lat:he,lng:pe,accuracy:je});if(!He.ok){const tt=await He.text();throw new Error(`Failed to update location: ${He.status} ${He.statusText} - ${tt}`)}const Ft=await He.json();console.log("Location update successful:",Ft),q(null),de(0)}catch(He){if(console.error("Error updating location:",He),Oe<1&&He instanceof TypeError&&He.message.includes("fetch")){console.log("Retrying location update after network error..."),setTimeout(()=>Ht(he,pe,je,Oe+1),3e3);return}q(He instanceof Error?He.message:"Unknown error"),de(Ft=>Ft+1),J>=2&&(O(!1),console.warn("Disabling tracking due to repeated failures"))}},W=async()=>{var bt;const he=new Date;oe(he),Q(null),Re(0),Y([]),ge(0),O(!0);try{if("wakeLock"in navigator){const At=await navigator.wakeLock.request("screen");Ne(At),console.log("Wake lock acquired for better tracking")}}catch(At){console.warn("Wake lock failed:",At)}let pe=$e||0,je=et||0,Oe="Getting location...";try{console.log(" Fetching fresh location for start position...");const At=await Ct();if(At&&At.coords){pe=At.coords.latitude,je=At.coords.longitude,console.log(" Fresh start location obtained:",{lat:pe,lng:je});try{console.log(" Fetching address for start location...");const Yt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${pe}&lon=${je}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});Yt.ok?(Oe=(await Yt.json()).display_name||`${pe.toFixed(6)}, ${je.toFixed(6)}`,console.log(" Start address resolved:",Oe)):Oe=`${pe.toFixed(6)}, ${je.toFixed(6)}`}catch(Yt){console.warn(" Failed to get start address, using coordinates:",Yt),Oe=`${pe.toFixed(6)}, ${je.toFixed(6)}`}}}catch(At){console.warn(" Failed to get fresh start location:",At),Oe=pe&&je?`${pe.toFixed(6)}, ${je.toFixed(6)}`:"Getting location..."}X&&Wt&&(console.log("Starting background tracking via Service Worker"),(bt=navigator.serviceWorker.controller)==null||bt.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}}));const He=`session_${e}_${he.getTime()}`,Ft={lat:pe,lng:je,address:Oe,timestamp:he.toISOString()},tt={id:He,employeeId:e,startTime:he.toISOString(),startLocation:Ft,route:[],totalDistance:0,status:"active"};console.log("Starting tracking session with address:",tt),U(tt),Ve(!0,tt,he,[],0),c==null||c(tt)};console.log("testing ");const we=async()=>{const he=new Date;Q(he),O(!1);try{const pe=(f||[]).filter(je=>{var He;const Oe=(He=je.meetingStatus)==null?void 0:He.toLowerCase();return Oe!=="complete"&&Oe!=="completed"&&Oe!=="approved"});if(pe&&pe.length>0){console.log("Incomplete meetings detected:",pe),j(pe);const je={};pe.forEach(Oe=>{je[Oe._id]=""}),k(je),w(!0),O(!0),Q(null),p({title:"Incomplete Meetings",description:`You have ${pe.length} incomplete meeting(s). Please provide a reason before logging out.`,variant:"destructive"});return}}catch(pe){console.warn("Error checking for incomplete meetings:",pe)}await Fe(he)},Fe=async he=>{var Ft;console.log(" Starting performStopTracking - fetching fresh location...");let pe=$e,je=et,Oe=Qe,He=$e&&et?`${$e.toFixed(6)}, ${et.toFixed(6)}`:"Location unavailable";try{console.log(" Requesting fresh GPS location for end position...");const tt=await Ct();if(tt&&tt.coords){pe=tt.coords.latitude,je=tt.coords.longitude,Oe=tt.coords.accuracy,console.log(" Fresh end location obtained:",{lat:pe,lng:je,accuracy:Oe});try{console.log(" Fetching address for end location..."),await new Promise(At=>setTimeout(At,1e3));const bt=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${pe}&lon=${je}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"},signal:AbortSignal.timeout(5e3)});bt.ok?(He=(await bt.json()).display_name||`${pe.toFixed(6)}, ${je.toFixed(6)}`,console.log(" End address resolved:",He)):(console.warn(" Address API returned error:",bt.status),He=`${pe.toFixed(6)}, ${je.toFixed(6)}`)}catch(bt){console.warn(" Failed to get address, using coordinates:",bt),He=`${pe.toFixed(6)}, ${je.toFixed(6)}`}await Ht(pe,je,Oe)}else console.warn(" Fresh location not available, using last known location:",{lat:pe,lng:je})}catch(tt){console.warn(" Failed to get fresh location, using last known:",tt)}if(Me)try{await Me.release(),Ne(null),console.log("Wake lock released")}catch(tt){console.warn("Failed to release wake lock:",tt)}if(X&&(console.log("Stopping background tracking via Service Worker"),(Ft=navigator.serviceWorker.controller)==null||Ft.postMessage({type:"STOP_BACKGROUND_TRACKING"})),Ee.current&&(clearInterval(Ee.current),Ee.current=null),console.log("Stopping tracking - Debug info:",{hasCurrentSession:!!me,hasCoordinates:!!(pe&&je),endLat:pe,endLng:je,routePointsCount:Pe.length,totalDistance:B,elapsedTime:ye}),me){const tt={lat:pe||me.startLocation.lat,lng:je||me.startLocation.lng,address:He,timestamp:he.toISOString()};let bt=B;if(Pe.length>=2)try{console.log(`Calculating accurate distance for ${Pe.length} GPS points...`);const Yt=Zr.createGPSRoute(Pe);Yt.distance>0?(bt=Yt.distance,console.log(`Distance updated to GPS-calculated: ${(bt/1e3).toFixed(2)} km (was ${(B/1e3).toFixed(2)} km)`)):console.log(`Keeping original GPS distance: ${(B/1e3).toFixed(2)} km`)}catch(Yt){console.warn("Failed to calculate improved distance, using original GPS distance:",Yt.message)}else console.log(`Route has only ${Pe.length} points, keeping GPS distance: ${(B/1e3).toFixed(2)} km`);const At={...me,endTime:he.toISOString(),endLocation:tt,route:Pe.length>0?Pe:[me.startLocation],totalDistance:bt,duration:ye/1e3,status:"completed"};console.log("Calling onTrackingSessionEnd with session:",At),U(At),ut(),d==null||d(At)}else console.log("Cannot end tracking session - no current session"),ut()},be=async()=>{if(P.some(pe=>!C[pe._id]||!C[pe._id].trim())){p({title:"Error",description:"Please provide a reason for each incomplete meeting.",variant:"destructive"});return}T(!0);try{console.log("Saving incomplete meeting remarks for employee:",e),console.log("Incomplete meetings:",P),console.log("Meeting remarks:",C);const pe=P.map(async tt=>{try{const At="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),Yt=await fetch(`${At}/updateFollowUp/${tt._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});Yt.ok?console.log(` Updated meeting ${tt.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${tt.companyName} status:`,Yt.status)}catch(bt){console.error(`Error updating meeting ${tt.companyName}:`,bt)}});await Promise.all(pe);const je=P.map(tt=>({_id:tt._id,leadId:tt.leadId,companyName:tt.companyName,customerName:tt.customerName,customerEmail:tt.customerEmail||"",customerMobile:tt.customerMobile||"",customerDesignation:tt.customerDesignation||"",meetingTime:tt.meetingTime||"",incompleteReason:C[tt._id]})),Oe=await dt.post("/api/incomplete-meeting-remarks",{employeeId:e,reason:"Multiple incomplete meetings",pendingMeetings:je});if(!Oe.ok){const tt=await Oe.text().catch(()=>"Unknown error");throw new Error(`Failed to save remark: ${Oe.status} ${tt}`)}const He=await Oe.json();console.log("Incomplete meeting remarks saved:",He),p({title:"Meetings Marked Incomplete",description:`${P.length} meeting(s) marked as incomplete with reasons.`}),O(!1),w(!1),k({}),j([]),await Fe(new Date)}catch(pe){console.error("Error saving remark:",pe),p({title:"Error",description:pe instanceof Error?pe.message:"Failed to save remark",variant:"destructive"})}finally{T(!1)}},Ge=()=>{w(!1),b(""),j([])},Se=he=>he?he<=10?"bg-success":he<=50?"bg-warning":"bg-destructive":"bg-muted",De=he=>he?he<=10?"High":he<=50?"Medium":"Low":"Unknown",Be=he=>{const pe=Math.floor(he/1e3),je=Math.floor(pe/60),Oe=Math.floor(je/60);return Oe>0?`${Oe}h ${je%60}m ${pe%60}s`:je>0?`${je}m ${pe%60}s`:`${pe}s`},nt=he=>he>=1e3?`${(he/1e3).toFixed(2)} km`:`${Math.round(he)} m`;return o.jsxs(at,{className:"w-full",children:[o.jsx(jt,{children:o.jsxs(Et,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Jn,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Location Tracking"})]}),o.jsx(Nt,{variant:M?"default":"secondary",className:M?"bg-success":"",children:M?"Active":"Inactive"})]})}),o.jsxs(lt,{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Tracking for: ",o.jsx("span",{className:"font-medium",children:t})]}),Je&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm bg-primary/10 border border-primary/20 rounded-lg p-2",children:[o.jsx(zd,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-primary font-medium",children:"PWA Mode Active"}),o.jsx(Nt,{variant:"secondary",className:"text-xs",children:Wt?"Background Tracking Enabled":"Limited Background"})]}),!Je&&Wt&&o.jsxs("div",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(zd,{className:"h-3 w-3 text-amber-600"}),o.jsx("span",{className:"font-medium text-amber-700 dark:text-amber-400",children:"Better Tracking Available"})]}),o.jsx("p",{className:"mt-1",children:"Install this app to your home screen for improved background GPS tracking when phone is in pocket."})]}),M&&ue&&o.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(ey,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"font-medium",children:"Session Active"})]}),o.jsx("div",{className:"text-sm font-mono text-primary",children:Be(ye)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Started"}),o.jsx("div",{className:"font-medium",children:ue.toLocaleTimeString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Distance"}),o.jsx("div",{className:"font-medium",children:nt(B)})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[o.jsx(ta,{className:"h-3 w-3"}),o.jsxs("span",{children:["Route points: ",Pe.length]})]})]}),!M&&F&&ue&&o.jsxs("div",{className:"bg-success/5 border border-success/20 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(qr,{className:"h-4 w-4 text-success"}),o.jsx("span",{className:"font-medium",children:"Last Session"})]}),o.jsx("div",{className:"text-sm font-mono text-success",children:Be(F.getTime()-ue.getTime())})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Started"}),o.jsx("div",{className:"font-medium",children:ue.toLocaleTimeString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Ended"}),o.jsx("div",{className:"font-medium",children:F.toLocaleTimeString()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-muted-foreground flex items-center",children:[o.jsx(cw,{className:"h-3 w-3 mr-1"}),"Distance"]}),o.jsx("div",{className:"font-medium",children:nt(B)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-muted-foreground flex items-center",children:[o.jsx(ta,{className:"h-3 w-3 mr-1"}),"Points"]}),o.jsx("div",{className:"font-medium",children:Pe.length})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[It&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(zc,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Getting location..."})]}),Ut&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[o.jsx(gn,{className:"h-4 w-4"}),o.jsx("span",{children:Ut})]}),ae&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[o.jsx(gn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Update failed: ",ae," (Failures: ",J,")"]})]}),$e&&et&&!It&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-success",children:[o.jsx(qr,{className:"h-4 w-4"}),o.jsx("span",{children:"Location acquired"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Latitude"}),o.jsx("div",{className:"font-mono",children:$e.toFixed(6)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Longitude"}),o.jsx("div",{className:"font-mono",children:et.toFixed(6)})]})]}),Qe&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Accuracy"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`h-2 w-2 rounded-full ${Se(Qe)}`}),o.jsxs("span",{className:"text-sm",children:[De(Qe)," (",Math.round(Qe),"m)"]})]})]}),I&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx(Tn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Last update: ",I.toLocaleTimeString()," (",z," updates)"]})]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[M?o.jsx(Ce,{onClick:we,variant:"destructive",className:"flex-1",children:"LogOut"}):o.jsxs(Ce,{onClick:W,className:"flex-1",children:[o.jsx(ho,{className:"h-4 w-4 mr-2"}),"LogIn"]}),o.jsxs(Ce,{variant:"outline",onClick:Ct,children:[o.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Update Now"]})]}),!M&&o.jsxs("div",{className:"text-xs text-muted-foreground p-3 bg-muted/50 rounded-md",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Note:"})," Location tracking requires permission and works best outdoors or near windows. High accuracy mode uses GPS and may drain battery faster."]}),Je?o.jsxs("p",{className:"mt-2 text-success",children:[o.jsx("strong",{children:"PWA Mode:"})," Enhanced background tracking is active. Your route will be tracked even when the phone is in your pocket."]}):o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Tip:"})," Install this app to your home screen for better background tracking when phone is in pocket."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Auto-capture:"})," Route map will be automatically saved when you stop tracking."]})]}),M&&o.jsxs("div",{className:"text-xs text-info p-3 bg-info/10 border border-info/20 rounded-md",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(ta,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Route will be auto-captured when tracking stops"})]}),ue&&me&&o.jsxs("p",{className:"flex items-center mt-1 text-success",children:[o.jsx(qr,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Tracking restored from previous session"})]}),Je&&Wt&&o.jsxs("p",{className:"flex items-center mt-1 text-success",children:[o.jsx(zd,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Background tracking active - keep phone in pocket"})]}),Me&&o.jsxs("p",{className:"flex items-center mt-1 text-amber-600",children:[o.jsx(ey,{className:"h-3 w-3 mr-1"}),"Screen sleep disabled for better tracking"]})]}),o.jsx(Mr,{open:g,onOpenChange:Ge,children:o.jsxs(dr,{className:"sm:max-w-[600px]",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center gap-2",children:[o.jsx(gn,{className:"h-5 w-5 text-warning"}),"Incomplete Meetings"]}),o.jsxs(mr,{children:["You have ",P.length," incomplete meeting(s) today. Please provide a reason for each company before logging out."]})]}),o.jsxs("div",{className:"space-y-4 py-4 max-h-[380px] overflow-y-auto",children:[P.map(he=>o.jsxs("div",{className:"border border-muted-foreground/10 rounded-lg p-3 bg-muted/40 space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(gn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",children:he.companyName||"No Company Name"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[he.customerName&&o.jsxs(o.Fragment,{children:["Contact: ",he.customerName]}),he.meetingTime&&o.jsxs(o.Fragment,{children:[" "," Time: ",he.meetingTime]})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Ot,{className:"text-xs",htmlFor:`reason-${he._id}`,children:["Reason for not completing this meeting",o.jsx("span",{className:"text-destructive",children:" *"})]}),o.jsx(gi,{id:`reason-${he._id}`,placeholder:"E.g., client postponed, decision maker not available, visit rescheduled, etc...",value:C[he._id]||"",onChange:pe=>k(je=>({...je,[he._id]:pe.target.value})),rows:3,disabled:N})]})]},he._id)),P.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"No incomplete meetings found."})]}),o.jsxs(aa,{children:[o.jsx(Ce,{variant:"outline",onClick:Ge,disabled:N,children:"Cancel"}),o.jsx(Ce,{onClick:be,disabled:N,children:N?o.jsxs(o.Fragment,{children:[o.jsx(FS,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Submit & Logout"})]})]})})]})]})}const jb=v.forwardRef(({onEmployeeSelect:e,selectedEmployeeId:t,disabled:s=!1,onAddNewEmployee:a,filterByCompany:c},d)=>{const[f,p]=v.useState([]),[g,w]=v.useState([]),[_,b]=v.useState([]),[N,T]=v.useState(!1),[P,j]=v.useState(null),C=async()=>{T(!0),j(null);try{const I=await fetch("https://jbdspower.in/LeafNetServer/api/customer");if(!I.ok)throw new Error(`Failed to fetch customers: ${I.statusText}`);const Z=await I.json(),z=Array.isArray(Z)?Z:[];p(z);let se=z.flatMap(ae=>(ae.Employees||[]).map(q=>({...q,customerName:ae.CustomerCompanyName,customerId:ae._id})));c&&typeof c=="string"&&(se=se.filter(ae=>{var q;return((q=ae.customerName)==null?void 0:q.toLowerCase().trim())===c.toLowerCase().trim()}),console.log(`Filtered employees for company "${c}":`,se.length)),w(se)}catch(I){console.error("Error fetching customers:",I),j(I instanceof Error?I.message:"Failed to fetch customers")}finally{T(!1)}},k=(I,Z,z)=>{const se={...I,customerName:Z,customerId:z};console.log("Adding temporary employee:",se),b(ae=>{const q=[...ae,se];try{localStorage.setItem("tempCustomerEmployees",JSON.stringify(q))}catch(J){console.error("Error saving temporary employees:",J)}return console.log("Updated temp employees:",q),q})};v.useEffect(()=>{C()},[c]),v.useEffect(()=>{console.log("tempEmployees changed:",_)},[_]),v.useEffect(()=>{typeof window<"u"&&(window.debugCustomerSelector={getTempEmployees:()=>_,getEmployees:()=>g,addTestEmployee:()=>{const I={_id:`temp_test_${Date.now()}`,CustomerEmpName:"Test Employee",Designation:"Test Position",Department:"Test Dept",Mobile:"1234567890",Email:"test@test.com"};k(I,"Test Company",`temp_customer_${Date.now()}`)}})},[_,g,k]);const D=()=>{console.log("Clearing temporary employees"),b([]);try{localStorage.removeItem("tempCustomerEmployees")}catch(I){console.error("Error clearing temporary employees:",I)}},M=()=>{console.log("Resetting customer employee selection"),D()};v.useImperativeHandle(d,()=>({refreshCustomers:C,addTempEmployee:k,clearTempEmployees:D,resetSelection:M}));const O=I=>{const z=[...g,..._].find(se=>se._id===I);if(console.log("CustomerEmployeeSelector: Employee selected:",I),console.log("CustomerEmployeeSelector: Found employee:",z),z)if(z._id.startsWith("temp_")){const se={_id:z.customerId,CustomerCompanyName:z.customerName,Employees:[z],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:z.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for temp employee:",z.CustomerEmpName,se.CustomerCompanyName),e(z,se)}else{const se=f.find(ae=>ae._id===z.customerId);se?(console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for regular employee:",z.CustomerEmpName,se.CustomerCompanyName),e(z,se)):console.error("CustomerEmployeeSelector: Customer not found for employee:",z)}};return P?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ot,{className:"text-sm text-destructive",children:"Customer Employee"}),a&&o.jsxs(Ce,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:s,className:"flex items-center space-x-1",children:[o.jsx(Vd,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Add New"})]})]}),o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load customer employees"})]}),o.jsx("p",{className:"text-xs mt-1",children:P}),o.jsx(Ce,{type:"button",variant:"outline",size:"sm",onClick:C,className:"mt-2",children:"Try Again"})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Ot,{htmlFor:"customerEmployee",className:"text-sm",children:["Select Customer Employee",o.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&o.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[c," only"]}),_.length>0&&o.jsxs("span",{className:"ml-2 text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:["+",_.length," new"]})]}),a&&o.jsxs(Ce,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:s||N,className:"flex items-center space-x-1",children:[o.jsx(Vd,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Add New"})]})]}),o.jsxs(ds,{onValueChange:O,value:t||"",disabled:s||N,children:[o.jsx(Gr,{className:"w-full",children:o.jsx(fs,{placeholder:N?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zc,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Loading employees..."})]}):"Select a customer employee"})}),o.jsx(Yr,{children:(()=>{const I=g.length+_.length;return console.log("Rendering dropdown - Regular employees:",g.length,"Temp employees:",_.length),I===0?o.jsx(Gt,{value:"no-employees",disabled:!0,children:"No employees found"}):o.jsxs(o.Fragment,{children:[_.map(Z=>o.jsxs(Gt,{value:Z._id,children:[Z.CustomerEmpName," (",Z.customerName,") *"]},Z._id)),g.map(Z=>o.jsxs(Gt,{value:Z._id,children:[Z.CustomerEmpName," (",Z.customerName,")"]},Z._id))]})})()})]})]})});jb.displayName="CustomerEmployeeSelector";const EM="https://jbdspower.in/LeafNetServer/api",CM="68340889566d91e049668f07";function PM({isOpen:e,onClose:t,onAddEmployee:s,isLoading:a=!1,defaultCustomerName:c=""}){const[d,f]=v.useState({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),[p,g]=v.useState({}),[w,_]=v.useState(!1);v.useEffect(()=>{e&&c&&f(C=>({...C,customerName:c}))},[e,c]);const b=()=>{const C={};return d.customerName.trim()||(C.customerName="Customer name is required"),d.customerEmployeeName.trim()||(C.customerEmployeeName="Employee name is required"),d.designation.trim()||(C.designation="Designation is required"),d.department.trim()||(C.department="Department is required"),d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(C.email="Please enter a valid email address"):C.email="Email is required",d.mobile.trim()?/^[\+]?[1-9][\d]{9,15}$/.test(d.mobile.replace(/[\s\-\(\)]/g,""))||(C.mobile="Please enter a valid mobile number (10-16 digits)"):C.mobile="Mobile number is required",g(C),Object.keys(C).length===0},N=(C,k)=>{f(D=>({...D,[C]:k})),p[C]&&g(D=>{const M={...D};return delete M[C],M})},T=async C=>{if(C.preventDefault(),!!b()){_(!0);try{const k={CustomerEmpName:d.customerEmployeeName,Department:d.department,Designation:d.designation,Email:d.email,Mobile:d.mobile};console.log("Saving employee to CRM:",k);const D=await fetch(`${EM}/addcustomerEmployee/${CM}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!D.ok){const O=await D.text();throw console.error("CRM API error:",O),new Error(`Failed to save to CRM: ${D.status}`)}const M=await D.json();console.log("Employee saved to CRM successfully:",M),await s(d),P()}catch(k){throw console.error("Error adding customer employee:",k),k}finally{_(!1)}}},P=()=>{w||a||(f({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),g({}),t())},j=w||a;return o.jsx(Mr,{open:e,onOpenChange:P,children:o.jsxs(dr,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx(WS,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Add New Customer Employee"})]}),o.jsx(mr,{children:c?o.jsxs(o.Fragment,{children:["Create a new employee record for"," ",o.jsxs("span",{className:"font-medium",children:['"',c,'"']}),". The company name has been auto-filled from your current meeting."]}):o.jsx(o.Fragment,{children:"Create a new customer employee record. All fields marked with * are required."})})]}),o.jsxs("form",{onSubmit:T,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"customerName",className:"text-sm",children:["Customer/Company Name",o.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&o.jsx("span",{className:"text-muted-foreground ml-2 text-xs",children:"(Auto-filled from meeting)"})]}),o.jsx(dn,{id:"customerName",type:"text",placeholder:"Enter company/customer name",value:d.customerName,onChange:C=>N("customerName",C.target.value),disabled:j,className:p.customerName?"border-destructive":""}),p.customerName&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(gn,{className:"h-3 w-3"}),o.jsx("span",{children:p.customerName})]}),c&&d.customerName===c&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:['Customer name auto-filled from "',c,'" meeting. You can edit if needed.']})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"customerEmployeeName",className:"text-sm",children:["Employee Name",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"customerEmployeeName",type:"text",placeholder:"Enter employee full name",value:d.customerEmployeeName,onChange:C=>N("customerEmployeeName",C.target.value),disabled:j,className:p.customerEmployeeName?"border-destructive":""}),p.customerEmployeeName&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(gn,{className:"h-3 w-3"}),o.jsx("span",{children:p.customerEmployeeName})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"email",className:"text-sm",children:["Email Address",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"email",type:"email",placeholder:"employee@company.com",value:d.email,onChange:C=>N("email",C.target.value),disabled:j,className:p.email?"border-destructive":"",required:!0}),p.email&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(gn,{className:"h-3 w-3"}),o.jsx("span",{children:p.email})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"mobile",className:"text-sm",children:["Mobile Number",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"mobile",type:"tel",placeholder:"1234567890",value:d.mobile,onChange:C=>N("mobile",C.target.value),disabled:j,className:p.mobile?"border-destructive":"",required:!0}),p.mobile&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(gn,{className:"h-3 w-3"}),o.jsx("span",{children:p.mobile})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"designation",className:"text-sm",children:["Designation",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"designation",type:"text",placeholder:"e.g., Manager, Director, CEO",value:d.designation,onChange:C=>N("designation",C.target.value),disabled:j,className:p.designation?"border-destructive":""}),p.designation&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(gn,{className:"h-3 w-3"}),o.jsx("span",{children:p.designation})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"department",className:"text-sm",children:["Department",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(dn,{id:"department",type:"text",placeholder:"e.g., Sales, IT, HR, Operations",value:d.department,onChange:C=>N("department",C.target.value),disabled:j,className:p.department?"border-destructive":""}),p.department&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(gn,{className:"h-3 w-3"}),o.jsx("span",{children:p.department})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(Ce,{type:"button",variant:"outline",onClick:P,disabled:j,children:"Cancel"}),o.jsx(Ce,{type:"submit",disabled:j,className:"min-w-[120px]",children:w||a?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Adding..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qr,{className:"h-4 w-4"}),o.jsx("span",{children:"Add Employee"})]})})]})]})]})})}function TM({isOpen:e,onClose:t,onEndMeeting:s,employeeName:a,isLoading:c=!1,currentMeeting:d=null,followUpMeetingData:f=null}){const[p,g]=v.useState({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),[w,_]=v.useState({}),[b,N]=v.useState(!1),[T,P]=v.useState([]),[j,C]=v.useState(null),[k,D]=v.useState(null),[M,O]=v.useState(!1),I=v.useRef(null);v.useEffect(()=>{if(e&&f){console.log(" Prefilling form with follow-up meeting data:",f);const K={customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};console.log(" Created customer contact from follow-up:",K),P([K]),g(ee=>{const te={...ee,customers:[K],customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};return console.log(" Updated formData with customer:",te),te}),console.log(" Form prefilled with customer data")}else e&&!f&&console.log(" Modal opened but no followUpMeetingData provided")},[e,f]),v.useEffect(()=>{console.log(" selectedCustomers changed:",T.length,T)},[T]);const Z=()=>{var ee;const K={};if(console.log("Validating form with selectedCustomers:",T.length),console.log("Form data customers:",(ee=p.customers)==null?void 0:ee.length),T.length===0&&(K.customers="Please add at least one customer contact",console.log("Validation failed: No customers selected")),T.forEach((te,me)=>{if(te.customerEmail&&te.customerEmail.trim()!==""&&typeof te.customerEmail=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(te.customerEmail)&&(K[`customer_${me}_email`]=`Invalid email for ${te.customerEmployeeName}`,console.log(`Validation failed: Invalid email for customer ${me}`)),te.customerMobile&&te.customerMobile.trim()!==""&&typeof te.customerMobile=="string"&&te.customerMobile.length>0){const U=te.customerMobile.replace(/[\s\-\(\)]/g,"");/^\+?\d{7,15}$/.test(U)||(K[`customer_${me}_mobile`]=`Invalid mobile for ${te.customerEmployeeName}`,console.log(`Validation failed: Invalid mobile for customer ${me}:`,te.customerMobile))}}),p.discussion.trim()||(K.discussion="Discussion details are required",console.log("Validation failed: No discussion provided")),p.customerEmail&&p.customerEmail.trim()!==""&&typeof p.customerEmail=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.customerEmail)&&(K.customerEmail="Please enter a valid email address"),p.customerMobile&&p.customerMobile.trim()!==""&&typeof p.customerMobile=="string"){const te=p.customerMobile.replace(/[\s\-\(\)]/g,"");/^\+?\d{7,15}$/.test(te)||(K.customerMobile="Please enter a valid mobile number")}return console.log("Validation errors:",K),_(K),Object.keys(K).length===0},z=(K,ee)=>{g(te=>({...te,[K]:ee})),w[K]&&_(te=>{const me={...te};return delete me[K],me})},se=(K,ee)=>{console.log("EndMeetingModal: Customer employee selected:",K),console.log("EndMeetingModal: Customer selected:",ee),C(K),D(ee);const te={customerName:ee.CustomerCompanyName,customerEmployeeName:K.CustomerEmpName,customerEmail:String(K.Email||""),customerMobile:String(K.Mobile||""),customerDesignation:String(K.Designation||""),customerDepartment:String(K.Department||"")};if(T.some(U=>U.customerName===te.customerName&&U.customerEmployeeName===te.customerEmployeeName))console.log("EndMeetingModal: Customer already in list, skipping");else{const U=[...T,te];P(U),g(ue=>{var oe,F,Q,ye,Re,Pe;return{...ue,customers:U,customerName:((oe=U[0])==null?void 0:oe.customerName)||"",customerEmployeeName:((F=U[0])==null?void 0:F.customerEmployeeName)||"",customerEmail:((Q=U[0])==null?void 0:Q.customerEmail)||"",customerMobile:((ye=U[0])==null?void 0:ye.customerMobile)||"",customerDesignation:((Re=U[0])==null?void 0:Re.customerDesignation)||"",customerDepartment:((Pe=U[0])==null?void 0:Pe.customerDepartment)||""}}),console.log("EndMeetingModal: Added customer to list:",te),C(null),D(null)}},ae=K=>{const ee=T.filter((te,me)=>me!==K);P(ee),g(te=>{var me,U,ue,oe,F,Q;return{...te,customers:ee,customerName:((me=ee[0])==null?void 0:me.customerName)||"",customerEmployeeName:((U=ee[0])==null?void 0:U.customerEmployeeName)||"",customerEmail:((ue=ee[0])==null?void 0:ue.customerEmail)||"",customerMobile:((oe=ee[0])==null?void 0:oe.customerMobile)||"",customerDesignation:((F=ee[0])==null?void 0:F.customerDesignation)||"",customerDepartment:((Q=ee[0])==null?void 0:Q.customerDepartment)||""}}),console.log("EndMeetingModal: Removed customer from list, remaining:",ee.length)},q=async K=>{try{const te={_id:`temp_${Date.now()}`,CustomerEmpName:K.customerEmployeeName,Designation:K.designation,Department:K.department,Mobile:K.mobile,Email:K.email},me={_id:`temp_customer_${Date.now()}`,CustomerCompanyName:K.customerName,Employees:[te],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:K.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};return console.log("Creating new customer employee:",K),console.log("Generated employee object:",te),console.log("Generated customer object:",me),await new Promise(U=>setTimeout(U,1e3)),I.current?(console.log("Adding temp employee to selector..."),I.current.addTempEmployee(te,K.customerName,me._id),console.log("Temp employee added to selector")):console.error("customerSelectorRef.current is null!"),setTimeout(()=>{console.log("Auto-selecting newly created employee..."),se(te,me)},100),console.log("Customer employee added successfully!"),{employee:te,customer:me}}catch(ee){throw console.error("Error adding customer employee:",ee),ee}},J=async K=>{K.preventDefault(),console.log(" EndMeetingModal: Form submit triggered"),console.log("EndMeetingModal: Form data before validation:",p),console.log("EndMeetingModal: Selected customers:",T),console.log("EndMeetingModal: Discussion:",p.discussion);const ee=Z();if(console.log("EndMeetingModal: Validation result:",ee),!ee){console.log("EndMeetingModal: Form validation failed with errors:",w);const te=document.querySelector(".border-destructive");te&&te.scrollIntoView({behavior:"smooth",block:"center"});return}console.log(" EndMeetingModal: Validation passed, submitting..."),N(!0);try{console.log("EndMeetingModal: Calling onEndMeeting with form data:",p),await s(p),console.log(" Meeting ended successfully, clearing temp employees"),I.current&&I.current.clearTempEmployees(),de()}catch(te){console.error(" Error ending meeting:",te)}finally{N(!1)}},de=()=>{if(b||c){console.log(" Cannot close: Form is submitting or loading");return}console.log(" EndMeetingModal: Closing and resetting all state"),g({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),_({}),P([]),C(null),D(null),O(!1),I.current&&I.current.resetSelection(),t()},Ae=b||c;return o.jsx(Mr,{open:e,onOpenChange:de,children:o.jsxs(dr,{className:"sm:max-w-md  max-h-[90vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center space-x-2",children:[o.jsx(Tn,{className:"h-5 w-5 text-destructive"}),o.jsx("span",{children:"End Meeting"})]}),o.jsxs(mr,{children:["Complete the meeting for"," ",o.jsx("span",{className:"font-medium",children:a})," by providing customer details and discussion summary."]})]}),o.jsxs("form",{onSubmit:J,className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 py-2 border-b",children:[o.jsx(ff,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Select Customer Employee"})]}),o.jsxs("div",{className:"space-y-4",children:[(d==null?void 0:d.clientName)&&o.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"font-medium",children:["Meeting with: ",d.clientName]})}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Showing employees for this company only"})]}),o.jsx(jb,{ref:I,onEmployeeSelect:se,selectedEmployeeId:j==null?void 0:j._id,disabled:Ae,onAddNewEmployee:()=>O(!0),filterByCompany:d==null?void 0:d.clientName}),w.customers&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(gn,{className:"h-3 w-3"}),o.jsx("span",{children:w.customers})]}),T.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Sp,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium text-sm",children:["Selected Customer Contacts (",T.length,")"]})]}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:T.map((K,ee)=>o.jsxs("div",{className:"p-3 border rounded-lg bg-muted/20 relative",children:[o.jsx(Ce,{type:"button",variant:"outline",size:"sm",onClick:()=>ae(ee),className:"absolute top-2 right-2 h-6 w-6 p-0 text-destructive hover:text-destructive",disabled:Ae,children:""}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm pr-8",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Company:"}),o.jsx("div",{className:"font-medium",children:K.customerName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("div",{className:"font-medium",children:K.customerEmployeeName})]}),K.customerDesignation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Position:"}),o.jsx("div",{children:K.customerDesignation})]}),K.customerDepartment&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("div",{children:K.customerDepartment})]}),K.customerEmail&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("div",{className:"text-xs",children:K.customerEmail})]}),K.customerMobile&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),o.jsx("div",{className:"text-xs",children:K.customerMobile})]})]})]},ee))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ot,{htmlFor:"discussion",className:"text-sm",children:["Discussion Details",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(gi,{id:"discussion",placeholder:"Describe what was discussed in the meeting, key points, outcomes, and next steps...",value:p.discussion,onChange:K=>z("discussion",K.target.value),disabled:Ae,rows:4,className:w.discussion?"border-destructive":""}),w.discussion&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(gn,{className:"h-3 w-3"}),o.jsx("span",{children:w.discussion})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"This field is required and will be included in the meeting record."})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(Ce,{type:"button",variant:"outline",onClick:de,disabled:Ae,children:"Cancel"}),o.jsx(Ce,{type:"submit",variant:"destructive",disabled:Ae,className:"min-w-[120px]",children:b||c?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Ending..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(qr,{className:"h-4 w-4"}),o.jsx("span",{children:"End Meeting"})]})})]})]}),o.jsx(PM,{isOpen:M,onClose:()=>O(!1),onAddEmployee:q,isLoading:c,defaultCustomerName:d==null?void 0:d.clientName})]})})}function kM({employee:e,trackingSession:t,meetings:s,isOpen:a,onClose:c,onSnapshotCreated:d}){const[f,p]=v.useState(""),[g,w]=v.useState(""),[_,b]=v.useState(!1),{toast:N}=Sl();v.useEffect(()=>{if(a&&!f){const D=new Date,M=D.toLocaleDateString(),O=D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});p(`${e.name} Route - ${M} ${O}`)}},[a,e.name,f]);const T=()=>{const D=[];if(t!=null&&t.route&&D.push(...t.route),s.forEach(Z=>{D.push(Z.location)}),D.push(e.location),D.length===0)return{north:e.location.lat+.01,south:e.location.lat-.01,east:e.location.lng+.01,west:e.location.lng-.01};const M=D.map(Z=>Z.lat),O=D.map(Z=>Z.lng),I=.005;return{north:Math.max(...M)+I,south:Math.min(...M)-I,east:Math.max(...O)+I,west:Math.min(...O)-I}},P=()=>s.map(D=>({id:D.id,location:D.location,clientName:D.clientName,startTime:D.startTime,endTime:D.endTime,status:D.status})),j=async()=>{if(!f.trim()){N({title:"Title Required",description:"Please enter a title for the snapshot",variant:"destructive"});return}b(!0);try{const D={employeeId:e.id,employeeName:e.name,trackingSessionId:t==null?void 0:t.id,title:f.trim(),description:g.trim()||void 0,startLocation:(t==null?void 0:t.startLocation)||e.location,endLocation:t==null?void 0:t.endLocation,route:(t==null?void 0:t.route)||[e.location],meetings:P(),totalDistance:(t==null?void 0:t.totalDistance)||0,duration:t==null?void 0:t.duration,status:(t==null?void 0:t.status)||"active",mapBounds:T()},M=await dt.post("/api/route-snapshots",D);if(M.ok){const O=await M.json();N({title:"Snapshot Created",description:"Route snapshot has been saved successfully"}),d==null||d(O),c(),p(""),w("")}else throw new Error("Failed to create snapshot")}catch(D){console.error("Error creating snapshot:",D),N({title:"Error",description:"Failed to create route snapshot. Please try again.",variant:"destructive"})}finally{b(!1)}},k=(()=>{var Z;const D=((Z=t==null?void 0:t.route)==null?void 0:Z.length)||1,M=(t==null?void 0:t.totalDistance)||0,O=s.length,I=t==null?void 0:t.duration;return{routePoints:D,totalDistance:M,meetingCount:O,duration:I}})();return o.jsx(Mr,{open:a,onOpenChange:c,children:o.jsxs(dr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(fr,{children:[o.jsxs(hr,{className:"flex items-center gap-2",children:[o.jsx($m,{className:"h-5 w-5"}),"Create Manual Route Snapshot"]}),o.jsxs(mr,{children:["Manually capture and save ",e.name,"'s current route and meeting locations for historical reference. Note: Routes are also automatically captured when tracking stops."]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"title",children:"Route Title *"}),o.jsx(dn,{id:"title",value:f,onChange:D=>p(D.target.value),placeholder:"Enter a descriptive title for this snapshot",className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ot,{htmlFor:"description",children:"Description (Optional)"}),o.jsx(gi,{id:"description",value:g,onChange:D=>w(D.target.value),placeholder:"Add any additional notes about this route snapshot",className:"w-full",rows:3})]})]}),o.jsxs(at,{children:[o.jsx(jt,{children:o.jsx(Et,{className:"text-lg",children:"Route Summary"})}),o.jsxs(lt,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(ta,{className:"h-4 w-4"}),"Route Points"]}),o.jsx("div",{className:"text-2xl font-bold",children:k.routePoints})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Jn,{className:"h-4 w-4"}),"Total Distance"]}),o.jsxs("div",{className:"text-2xl font-bold",children:[(k.totalDistance/1e3).toFixed(1)," km"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Kr,{className:"h-4 w-4"}),"Meetings"]}),o.jsx("div",{className:"text-2xl font-bold",children:k.meetingCount})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(Tn,{className:"h-4 w-4"}),"Duration"]}),o.jsx("div",{className:"text-2xl font-bold",children:k.duration?`${Math.floor(k.duration/60)}m`:"Active"})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Current Location"}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Jn,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",children:e.location.address}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.location.lat.toFixed(6),", ",e.location.lng.toFixed(6)]})]})]})]})}),t&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Tracking Session"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Nt,{variant:"secondary",className:t.status==="active"?"bg-success text-success-foreground":"bg-muted text-muted-foreground",children:t.status}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(t.startTime).toLocaleString()]})]})]})}),s.length>0&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Meetings in Snapshot"}),o.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[s.slice(0,3).map(D=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:D.clientName||"Unknown Client"}),o.jsx(Nt,{variant:"outline",className:"text-xs",children:D.status})]},D.id)),s.length>3&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",s.length-3," more meetings"]})]})]})})]})]})]}),o.jsxs(aa,{children:[o.jsx(Ce,{variant:"outline",onClick:c,disabled:_,children:"Cancel"}),o.jsx(Ce,{onClick:j,disabled:_,children:_?o.jsxs(o.Fragment,{children:[o.jsx(zc,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Snapshot..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Bm,{className:"h-4 w-4 mr-2"}),"Save Route"]})})]})]})})}function Eb(e,t){return function(){return e.apply(t,arguments)}}const{toString:MM}=Object.prototype,{getPrototypeOf:tg}=Object,{iterator:Rf,toStringTag:Cb}=Symbol,Lf=(e=>t=>{const s=MM.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),gs=e=>(e=e.toLowerCase(),t=>Lf(t)===e),Af=e=>t=>typeof t===e,{isArray:kl}=Array,qc=Af("undefined");function su(e){return e!==null&&!qc(e)&&e.constructor!==null&&!qc(e.constructor)&&cr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Pb=gs("ArrayBuffer");function RM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Pb(e.buffer),t}const LM=Af("string"),cr=Af("function"),Tb=Af("number"),ou=e=>e!==null&&typeof e=="object",AM=e=>e===!0||e===!1,Bd=e=>{if(Lf(e)!=="object")return!1;const t=tg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Cb in e)&&!(Rf in e)},DM=e=>{if(!ou(e)||su(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},OM=gs("Date"),IM=gs("File"),FM=gs("Blob"),zM=gs("FileList"),$M=e=>ou(e)&&cr(e.pipe),BM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||cr(e.append)&&((t=Lf(e))==="formdata"||t==="object"&&cr(e.toString)&&e.toString()==="[object FormData]"))},UM=gs("URLSearchParams"),[HM,WM,VM,ZM]=["ReadableStream","Request","Response","Headers"].map(gs),qM=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iu(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),kl(e))for(a=0,c=e.length;a<c;a++)t.call(null,e[a],a,e);else{if(su(e))return;const d=s?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let p;for(a=0;a<f;a++)p=d[a],t.call(null,e[p],p,e)}}function kb(e,t){if(su(e))return null;t=t.toLowerCase();const s=Object.keys(e);let a=s.length,c;for(;a-- >0;)if(c=s[a],t===c.toLowerCase())return c;return null}const Ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Mb=e=>!qc(e)&&e!==Ki;function dp(){const{caseless:e}=Mb(this)&&this||{},t={},s=(a,c)=>{const d=e&&kb(t,c)||c;Bd(t[d])&&Bd(a)?t[d]=dp(t[d],a):Bd(a)?t[d]=dp({},a):kl(a)?t[d]=a.slice():t[d]=a};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&iu(arguments[a],s);return t}const GM=(e,t,s,{allOwnKeys:a}={})=>(iu(t,(c,d)=>{s&&cr(c)?e[d]=Eb(c,s):e[d]=c},{allOwnKeys:a}),e),YM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),KM=(e,t,s,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},XM=(e,t,s,a)=>{let c,d,f;const p={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)f=c[d],(!a||a(f,e,t))&&!p[f]&&(t[f]=e[f],p[f]=!0);e=s!==!1&&tg(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},QM=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const a=e.indexOf(t,s);return a!==-1&&a===s},JM=e=>{if(!e)return null;if(kl(e))return e;let t=e.length;if(!Tb(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},eR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&tg(Uint8Array)),tR=(e,t)=>{const a=(e&&e[Rf]).call(e);let c;for(;(c=a.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},nR=(e,t)=>{let s;const a=[];for(;(s=e.exec(t))!==null;)a.push(s);return a},rR=gs("HTMLFormElement"),sR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,c){return a.toUpperCase()+c}),rx=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),oR=gs("RegExp"),Rb=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),a={};iu(s,(c,d)=>{let f;(f=t(c,d,e))!==!1&&(a[d]=f||c)}),Object.defineProperties(e,a)},iR=e=>{Rb(e,(t,s)=>{if(cr(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=e[s];if(cr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},aR=(e,t)=>{const s={},a=c=>{c.forEach(d=>{s[d]=!0})};return kl(e)?a(e):a(String(e).split(t)),s},lR=()=>{},cR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function uR(e){return!!(e&&cr(e.append)&&e[Cb]==="FormData"&&e[Rf])}const dR=e=>{const t=new Array(10),s=(a,c)=>{if(ou(a)){if(t.indexOf(a)>=0)return;if(su(a))return a;if(!("toJSON"in a)){t[c]=a;const d=kl(a)?[]:{};return iu(a,(f,p)=>{const g=s(f,c+1);!qc(g)&&(d[p]=g)}),t[c]=void 0,d}}return a};return s(e,0)},fR=gs("AsyncFunction"),hR=e=>e&&(ou(e)||cr(e))&&cr(e.then)&&cr(e.catch),Lb=((e,t)=>e?setImmediate:t?((s,a)=>(Ki.addEventListener("message",({source:c,data:d})=>{c===Ki&&d===s&&a.length&&a.shift()()},!1),c=>{a.push(c),Ki.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",cr(Ki.postMessage)),mR=typeof queueMicrotask<"u"?queueMicrotask.bind(Ki):typeof process<"u"&&process.nextTick||Lb,pR=e=>e!=null&&cr(e[Rf]),fe={isArray:kl,isArrayBuffer:Pb,isBuffer:su,isFormData:BM,isArrayBufferView:RM,isString:LM,isNumber:Tb,isBoolean:AM,isObject:ou,isPlainObject:Bd,isEmptyObject:DM,isReadableStream:HM,isRequest:WM,isResponse:VM,isHeaders:ZM,isUndefined:qc,isDate:OM,isFile:IM,isBlob:FM,isRegExp:oR,isFunction:cr,isStream:$M,isURLSearchParams:UM,isTypedArray:eR,isFileList:zM,forEach:iu,merge:dp,extend:GM,trim:qM,stripBOM:YM,inherits:KM,toFlatObject:XM,kindOf:Lf,kindOfTest:gs,endsWith:QM,toArray:JM,forEachEntry:tR,matchAll:nR,isHTMLForm:rR,hasOwnProperty:rx,hasOwnProp:rx,reduceDescriptors:Rb,freezeMethods:iR,toObjectSet:aR,toCamelCase:sR,noop:lR,toFiniteNumber:cR,findKey:kb,global:Ki,isContextDefined:Mb,isSpecCompliantForm:uR,toJSONObject:dR,isAsyncFn:fR,isThenable:hR,setImmediate:Lb,asap:mR,isIterable:pR};function _t(e,t,s,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),a&&(this.request=a),c&&(this.response=c,this.status=c.status?c.status:null)}fe.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.status}}});const Ab=_t.prototype,Db={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Db[e]={value:e}});Object.defineProperties(_t,Db);Object.defineProperty(Ab,"isAxiosError",{value:!0});_t.from=(e,t,s,a,c,d)=>{const f=Object.create(Ab);return fe.toFlatObject(e,f,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),_t.call(f,e.message,t,s,a,c),f.cause=e,f.name=e.name,d&&Object.assign(f,d),f};const gR=null;function fp(e){return fe.isPlainObject(e)||fe.isArray(e)}function Ob(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function sx(e,t,s){return e?e.concat(t).map(function(c,d){return c=Ob(c),!s&&d?"["+c+"]":c}).join(s?".":""):t}function vR(e){return fe.isArray(e)&&!e.some(fp)}const yR=fe.toFlatObject(fe,{},null,function(t){return/^is[A-Z]/.test(t)});function Df(e,t,s){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=fe.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,C){return!fe.isUndefined(C[j])});const a=s.metaTokens,c=s.visitor||_,d=s.dots,f=s.indexes,g=(s.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(c))throw new TypeError("visitor must be a function");function w(P){if(P===null)return"";if(fe.isDate(P))return P.toISOString();if(fe.isBoolean(P))return P.toString();if(!g&&fe.isBlob(P))throw new _t("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(P)||fe.isTypedArray(P)?g&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function _(P,j,C){let k=P;if(P&&!C&&typeof P=="object"){if(fe.endsWith(j,"{}"))j=a?j:j.slice(0,-2),P=JSON.stringify(P);else if(fe.isArray(P)&&vR(P)||(fe.isFileList(P)||fe.endsWith(j,"[]"))&&(k=fe.toArray(P)))return j=Ob(j),k.forEach(function(M,O){!(fe.isUndefined(M)||M===null)&&t.append(f===!0?sx([j],O,d):f===null?j:j+"[]",w(M))}),!1}return fp(P)?!0:(t.append(sx(C,j,d),w(P)),!1)}const b=[],N=Object.assign(yR,{defaultVisitor:_,convertValue:w,isVisitable:fp});function T(P,j){if(!fe.isUndefined(P)){if(b.indexOf(P)!==-1)throw Error("Circular reference detected in "+j.join("."));b.push(P),fe.forEach(P,function(k,D){(!(fe.isUndefined(k)||k===null)&&c.call(t,k,fe.isString(D)?D.trim():D,j,N))===!0&&T(k,j?j.concat(D):[D])}),b.pop()}}if(!fe.isObject(e))throw new TypeError("data must be an object");return T(e),t}function ox(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function ng(e,t){this._pairs=[],e&&Df(e,this,t)}const Ib=ng.prototype;Ib.append=function(t,s){this._pairs.push([t,s])};Ib.toString=function(t){const s=t?function(a){return t.call(this,a,ox)}:ox;return this._pairs.map(function(c){return s(c[0])+"="+s(c[1])},"").join("&")};function xR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fb(e,t,s){if(!t)return e;const a=s&&s.encode||xR;fe.isFunction(s)&&(s={serialize:s});const c=s&&s.serialize;let d;if(c?d=c(t,s):d=fe.isURLSearchParams(t)?t.toString():new ng(t,s).toString(a),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class ix{constructor(){this.handlers=[]}use(t,s,a){return this.handlers.push({fulfilled:t,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fe.forEach(this.handlers,function(a){a!==null&&t(a)})}}const zb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wR=typeof URLSearchParams<"u"?URLSearchParams:ng,_R=typeof FormData<"u"?FormData:null,bR=typeof Blob<"u"?Blob:null,SR={isBrowser:!0,classes:{URLSearchParams:wR,FormData:_R,Blob:bR},protocols:["http","https","file","blob","url","data"]},rg=typeof window<"u"&&typeof document<"u",hp=typeof navigator=="object"&&navigator||void 0,NR=rg&&(!hp||["ReactNative","NativeScript","NS"].indexOf(hp.product)<0),jR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ER=rg&&window.location.href||"http://localhost",CR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rg,hasStandardBrowserEnv:NR,hasStandardBrowserWebWorkerEnv:jR,navigator:hp,origin:ER},Symbol.toStringTag,{value:"Module"})),Vn={...CR,...SR};function PR(e,t){return Df(e,new Vn.classes.URLSearchParams,{visitor:function(s,a,c,d){return Vn.isNode&&fe.isBuffer(s)?(this.append(a,s.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function TR(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function kR(e){const t={},s=Object.keys(e);let a;const c=s.length;let d;for(a=0;a<c;a++)d=s[a],t[d]=e[d];return t}function $b(e){function t(s,a,c,d){let f=s[d++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),g=d>=s.length;return f=!f&&fe.isArray(c)?c.length:f,g?(fe.hasOwnProp(c,f)?c[f]=[c[f],a]:c[f]=a,!p):((!c[f]||!fe.isObject(c[f]))&&(c[f]=[]),t(s,a,c[f],d)&&fe.isArray(c[f])&&(c[f]=kR(c[f])),!p)}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const s={};return fe.forEachEntry(e,(a,c)=>{t(TR(a),c,s,0)}),s}return null}function MR(e,t,s){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(e)}const au={transitional:zb,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const a=s.getContentType()||"",c=a.indexOf("application/json")>-1,d=fe.isObject(t);if(d&&fe.isHTMLForm(t)&&(t=new FormData(t)),fe.isFormData(t))return c?JSON.stringify($b(t)):t;if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t)||fe.isReadableStream(t))return t;if(fe.isArrayBufferView(t))return t.buffer;if(fe.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return PR(t,this.formSerializer).toString();if((p=fe.isFileList(t))||a.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Df(p?{"files[]":t}:t,g&&new g,this.formSerializer)}}return d||c?(s.setContentType("application/json",!1),MR(t)):t}],transformResponse:[function(t){const s=this.transitional||au.transitional,a=s&&s.forcedJSONParsing,c=this.responseType==="json";if(fe.isResponse(t)||fe.isReadableStream(t))return t;if(t&&fe.isString(t)&&(a&&!this.responseType||c)){const f=!(s&&s.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(p){if(f)throw p.name==="SyntaxError"?_t.from(p,_t.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vn.classes.FormData,Blob:Vn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],e=>{au.headers[e]={}});const RR=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LR=e=>{const t={};let s,a,c;return e&&e.split(`
`).forEach(function(f){c=f.indexOf(":"),s=f.substring(0,c).trim().toLowerCase(),a=f.substring(c+1).trim(),!(!s||t[s]&&RR[s])&&(s==="set-cookie"?t[s]?t[s].push(a):t[s]=[a]:t[s]=t[s]?t[s]+", "+a:a)}),t},ax=Symbol("internals");function Cc(e){return e&&String(e).trim().toLowerCase()}function Ud(e){return e===!1||e==null?e:fe.isArray(e)?e.map(Ud):String(e)}function AR(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(e);)t[a[1]]=a[2];return t}const DR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rm(e,t,s,a,c){if(fe.isFunction(a))return a.call(this,t,s);if(c&&(t=s),!!fe.isString(t)){if(fe.isString(a))return t.indexOf(a)!==-1;if(fe.isRegExp(a))return a.test(t)}}function OR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,a)=>s.toUpperCase()+a)}function IR(e,t){const s=fe.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+s,{value:function(c,d,f){return this[a].call(this,t,c,d,f)},configurable:!0})})}let ur=class{constructor(t){t&&this.set(t)}set(t,s,a){const c=this;function d(p,g,w){const _=Cc(g);if(!_)throw new Error("header name must be a non-empty string");const b=fe.findKey(c,_);(!b||c[b]===void 0||w===!0||w===void 0&&c[b]!==!1)&&(c[b||g]=Ud(p))}const f=(p,g)=>fe.forEach(p,(w,_)=>d(w,_,g));if(fe.isPlainObject(t)||t instanceof this.constructor)f(t,s);else if(fe.isString(t)&&(t=t.trim())&&!DR(t))f(LR(t),s);else if(fe.isObject(t)&&fe.isIterable(t)){let p={},g,w;for(const _ of t){if(!fe.isArray(_))throw TypeError("Object iterator must return a key-value pair");p[w=_[0]]=(g=p[w])?fe.isArray(g)?[...g,_[1]]:[g,_[1]]:_[1]}f(p,s)}else t!=null&&d(s,t,a);return this}get(t,s){if(t=Cc(t),t){const a=fe.findKey(this,t);if(a){const c=this[a];if(!s)return c;if(s===!0)return AR(c);if(fe.isFunction(s))return s.call(this,c,a);if(fe.isRegExp(s))return s.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Cc(t),t){const a=fe.findKey(this,t);return!!(a&&this[a]!==void 0&&(!s||Rm(this,this[a],a,s)))}return!1}delete(t,s){const a=this;let c=!1;function d(f){if(f=Cc(f),f){const p=fe.findKey(a,f);p&&(!s||Rm(a,a[p],p,s))&&(delete a[p],c=!0)}}return fe.isArray(t)?t.forEach(d):d(t),c}clear(t){const s=Object.keys(this);let a=s.length,c=!1;for(;a--;){const d=s[a];(!t||Rm(this,this[d],d,t,!0))&&(delete this[d],c=!0)}return c}normalize(t){const s=this,a={};return fe.forEach(this,(c,d)=>{const f=fe.findKey(a,d);if(f){s[f]=Ud(c),delete s[d];return}const p=t?OR(d):String(d).trim();p!==d&&delete s[d],s[p]=Ud(c),a[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return fe.forEach(this,(a,c)=>{a!=null&&a!==!1&&(s[c]=t&&fe.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const a=new this(t);return s.forEach(c=>a.set(c)),a}static accessor(t){const a=(this[ax]=this[ax]={accessors:{}}).accessors,c=this.prototype;function d(f){const p=Cc(f);a[p]||(IR(c,f),a[p]=!0)}return fe.isArray(t)?t.forEach(d):d(t),this}};ur.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(ur.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[s]=a}}});fe.freezeMethods(ur);function Lm(e,t){const s=this||au,a=t||s,c=ur.from(a.headers);let d=a.data;return fe.forEach(e,function(p){d=p.call(s,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function Bb(e){return!!(e&&e.__CANCEL__)}function Ml(e,t,s){_t.call(this,e??"canceled",_t.ERR_CANCELED,t,s),this.name="CanceledError"}fe.inherits(Ml,_t,{__CANCEL__:!0});function Ub(e,t,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?e(s):t(new _t("Request failed with status code "+s.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function FR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zR(e,t){e=e||10;const s=new Array(e),a=new Array(e);let c=0,d=0,f;return t=t!==void 0?t:1e3,function(g){const w=Date.now(),_=a[d];f||(f=w),s[c]=g,a[c]=w;let b=d,N=0;for(;b!==c;)N+=s[b++],b=b%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),w-f<t)return;const T=_&&w-_;return T?Math.round(N*1e3/T):void 0}}function $R(e,t){let s=0,a=1e3/t,c,d;const f=(w,_=Date.now())=>{s=_,c=null,d&&(clearTimeout(d),d=null),e(...w)};return[(...w)=>{const _=Date.now(),b=_-s;b>=a?f(w,_):(c=w,d||(d=setTimeout(()=>{d=null,f(c)},a-b)))},()=>c&&f(c)]}const sf=(e,t,s=3)=>{let a=0;const c=zR(50,250);return $R(d=>{const f=d.loaded,p=d.lengthComputable?d.total:void 0,g=f-a,w=c(g),_=f<=p;a=f;const b={loaded:f,total:p,progress:p?f/p:void 0,bytes:g,rate:w||void 0,estimated:w&&p&&_?(p-f)/w:void 0,event:d,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(b)},s)},lx=(e,t)=>{const s=e!=null;return[a=>t[0]({lengthComputable:s,total:e,loaded:a}),t[1]]},cx=e=>(...t)=>fe.asap(()=>e(...t)),BR=Vn.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,Vn.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(Vn.origin),Vn.navigator&&/(msie|trident)/i.test(Vn.navigator.userAgent)):()=>!0,UR=Vn.hasStandardBrowserEnv?{write(e,t,s,a,c,d){const f=[e+"="+encodeURIComponent(t)];fe.isNumber(s)&&f.push("expires="+new Date(s).toGMTString()),fe.isString(a)&&f.push("path="+a),fe.isString(c)&&f.push("domain="+c),d===!0&&f.push("secure"),document.cookie=f.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function HR(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function WR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Hb(e,t,s){let a=!HR(t);return e&&(a||s==!1)?WR(e,t):t}const ux=e=>e instanceof ur?{...e}:e;function ca(e,t){t=t||{};const s={};function a(w,_,b,N){return fe.isPlainObject(w)&&fe.isPlainObject(_)?fe.merge.call({caseless:N},w,_):fe.isPlainObject(_)?fe.merge({},_):fe.isArray(_)?_.slice():_}function c(w,_,b,N){if(fe.isUndefined(_)){if(!fe.isUndefined(w))return a(void 0,w,b,N)}else return a(w,_,b,N)}function d(w,_){if(!fe.isUndefined(_))return a(void 0,_)}function f(w,_){if(fe.isUndefined(_)){if(!fe.isUndefined(w))return a(void 0,w)}else return a(void 0,_)}function p(w,_,b){if(b in t)return a(w,_);if(b in e)return a(void 0,w)}const g={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(w,_,b)=>c(ux(w),ux(_),b,!0)};return fe.forEach(Object.keys({...e,...t}),function(_){const b=g[_]||c,N=b(e[_],t[_],_);fe.isUndefined(N)&&b!==p||(s[_]=N)}),s}const Wb=e=>{const t=ca({},e);let{data:s,withXSRFToken:a,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:p}=t;t.headers=f=ur.from(f),t.url=Fb(Hb(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let g;if(fe.isFormData(s)){if(Vn.hasStandardBrowserEnv||Vn.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((g=f.getContentType())!==!1){const[w,..._]=g?g.split(";").map(b=>b.trim()).filter(Boolean):[];f.setContentType([w||"multipart/form-data",..._].join("; "))}}if(Vn.hasStandardBrowserEnv&&(a&&fe.isFunction(a)&&(a=a(t)),a||a!==!1&&BR(t.url))){const w=c&&d&&UR.read(d);w&&f.set(c,w)}return t},VR=typeof XMLHttpRequest<"u",ZR=VR&&function(e){return new Promise(function(s,a){const c=Wb(e);let d=c.data;const f=ur.from(c.headers).normalize();let{responseType:p,onUploadProgress:g,onDownloadProgress:w}=c,_,b,N,T,P;function j(){T&&T(),P&&P(),c.cancelToken&&c.cancelToken.unsubscribe(_),c.signal&&c.signal.removeEventListener("abort",_)}let C=new XMLHttpRequest;C.open(c.method.toUpperCase(),c.url,!0),C.timeout=c.timeout;function k(){if(!C)return;const M=ur.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),I={data:!p||p==="text"||p==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:e,request:C};Ub(function(z){s(z),j()},function(z){a(z),j()},I),C=null}"onloadend"in C?C.onloadend=k:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(k)},C.onabort=function(){C&&(a(new _t("Request aborted",_t.ECONNABORTED,e,C)),C=null)},C.onerror=function(){a(new _t("Network Error",_t.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let O=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const I=c.transitional||zb;c.timeoutErrorMessage&&(O=c.timeoutErrorMessage),a(new _t(O,I.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,e,C)),C=null},d===void 0&&f.setContentType(null),"setRequestHeader"in C&&fe.forEach(f.toJSON(),function(O,I){C.setRequestHeader(I,O)}),fe.isUndefined(c.withCredentials)||(C.withCredentials=!!c.withCredentials),p&&p!=="json"&&(C.responseType=c.responseType),w&&([N,P]=sf(w,!0),C.addEventListener("progress",N)),g&&C.upload&&([b,T]=sf(g),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",T)),(c.cancelToken||c.signal)&&(_=M=>{C&&(a(!M||M.type?new Ml(null,e,C):M),C.abort(),C=null)},c.cancelToken&&c.cancelToken.subscribe(_),c.signal&&(c.signal.aborted?_():c.signal.addEventListener("abort",_)));const D=FR(c.url);if(D&&Vn.protocols.indexOf(D)===-1){a(new _t("Unsupported protocol "+D+":",_t.ERR_BAD_REQUEST,e));return}C.send(d||null)})},qR=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let a=new AbortController,c;const d=function(w){if(!c){c=!0,p();const _=w instanceof Error?w:this.reason;a.abort(_ instanceof _t?_:new Ml(_ instanceof Error?_.message:_))}};let f=t&&setTimeout(()=>{f=null,d(new _t(`timeout ${t} of ms exceeded`,_t.ETIMEDOUT))},t);const p=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(w=>{w.unsubscribe?w.unsubscribe(d):w.removeEventListener("abort",d)}),e=null)};e.forEach(w=>w.addEventListener("abort",d));const{signal:g}=a;return g.unsubscribe=()=>fe.asap(p),g}},GR=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let a=0,c;for(;a<s;)c=a+t,yield e.slice(a,c),a=c},YR=async function*(e,t){for await(const s of KR(e))yield*GR(s,t)},KR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:a}=await t.read();if(s)break;yield a}}finally{await t.cancel()}},dx=(e,t,s,a)=>{const c=YR(e,t);let d=0,f,p=g=>{f||(f=!0,a&&a(g))};return new ReadableStream({async pull(g){try{const{done:w,value:_}=await c.next();if(w){p(),g.close();return}let b=_.byteLength;if(s){let N=d+=b;s(N)}g.enqueue(new Uint8Array(_))}catch(w){throw p(w),w}},cancel(g){return p(g),c.return()}},{highWaterMark:2})},Of=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vb=Of&&typeof ReadableStream=="function",XR=Of&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Zb=(e,...t)=>{try{return!!e(...t)}catch{return!1}},QR=Vb&&Zb(()=>{let e=!1;const t=new Request(Vn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),fx=64*1024,mp=Vb&&Zb(()=>fe.isReadableStream(new Response("").body)),of={stream:mp&&(e=>e.body)};Of&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!of[t]&&(of[t]=fe.isFunction(e[t])?s=>s[t]():(s,a)=>{throw new _t(`Response type '${t}' is not supported`,_t.ERR_NOT_SUPPORT,a)})})})(new Response);const JR=async e=>{if(e==null)return 0;if(fe.isBlob(e))return e.size;if(fe.isSpecCompliantForm(e))return(await new Request(Vn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(fe.isArrayBufferView(e)||fe.isArrayBuffer(e))return e.byteLength;if(fe.isURLSearchParams(e)&&(e=e+""),fe.isString(e))return(await XR(e)).byteLength},eL=async(e,t)=>{const s=fe.toFiniteNumber(e.getContentLength());return s??JR(t)},tL=Of&&(async e=>{let{url:t,method:s,data:a,signal:c,cancelToken:d,timeout:f,onDownloadProgress:p,onUploadProgress:g,responseType:w,headers:_,withCredentials:b="same-origin",fetchOptions:N}=Wb(e);w=w?(w+"").toLowerCase():"text";let T=qR([c,d&&d.toAbortSignal()],f),P;const j=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let C;try{if(g&&QR&&s!=="get"&&s!=="head"&&(C=await eL(_,a))!==0){let I=new Request(t,{method:"POST",body:a,duplex:"half"}),Z;if(fe.isFormData(a)&&(Z=I.headers.get("content-type"))&&_.setContentType(Z),I.body){const[z,se]=lx(C,sf(cx(g)));a=dx(I.body,fx,z,se)}}fe.isString(b)||(b=b?"include":"omit");const k="credentials"in Request.prototype;P=new Request(t,{...N,signal:T,method:s.toUpperCase(),headers:_.normalize().toJSON(),body:a,duplex:"half",credentials:k?b:void 0});let D=await fetch(P,N);const M=mp&&(w==="stream"||w==="response");if(mp&&(p||M&&j)){const I={};["status","statusText","headers"].forEach(ae=>{I[ae]=D[ae]});const Z=fe.toFiniteNumber(D.headers.get("content-length")),[z,se]=p&&lx(Z,sf(cx(p),!0))||[];D=new Response(dx(D.body,fx,z,()=>{se&&se(),j&&j()}),I)}w=w||"text";let O=await of[fe.findKey(of,w)||"text"](D,e);return!M&&j&&j(),await new Promise((I,Z)=>{Ub(I,Z,{data:O,headers:ur.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:P})})}catch(k){throw j&&j(),k&&k.name==="TypeError"&&/Load failed|fetch/i.test(k.message)?Object.assign(new _t("Network Error",_t.ERR_NETWORK,e,P),{cause:k.cause||k}):_t.from(k,k&&k.code,e,P)}}),pp={http:gR,xhr:ZR,fetch:tL};fe.forEach(pp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const hx=e=>`- ${e}`,nL=e=>fe.isFunction(e)||e===null||e===!1,qb={getAdapter:e=>{e=fe.isArray(e)?e:[e];const{length:t}=e;let s,a;const c={};for(let d=0;d<t;d++){s=e[d];let f;if(a=s,!nL(s)&&(a=pp[(f=String(s)).toLowerCase()],a===void 0))throw new _t(`Unknown adapter '${f}'`);if(a)break;c[f||"#"+d]=a}if(!a){const d=Object.entries(c).map(([p,g])=>`adapter ${p} `+(g===!1?"is not supported by the environment":"is not available in the build"));let f=t?d.length>1?`since :
`+d.map(hx).join(`
`):" "+hx(d[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a},adapters:pp};function Am(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ml(null,e)}function mx(e){return Am(e),e.headers=ur.from(e.headers),e.data=Lm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),qb.getAdapter(e.adapter||au.adapter)(e).then(function(a){return Am(e),a.data=Lm.call(e,e.transformResponse,a),a.headers=ur.from(a.headers),a},function(a){return Bb(a)||(Am(e),a&&a.response&&(a.response.data=Lm.call(e,e.transformResponse,a.response),a.response.headers=ur.from(a.response.headers))),Promise.reject(a)})}const Gb="1.11.0",If={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{If[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const px={};If.transitional=function(t,s,a){function c(d,f){return"[Axios v"+Gb+"] Transitional option '"+d+"'"+f+(a?". "+a:"")}return(d,f,p)=>{if(t===!1)throw new _t(c(f," has been removed"+(s?" in "+s:"")),_t.ERR_DEPRECATED);return s&&!px[f]&&(px[f]=!0,console.warn(c(f," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(d,f,p):!0}};If.spelling=function(t){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function rL(e,t,s){if(typeof e!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const d=a[c],f=t[d];if(f){const p=e[d],g=p===void 0||f(p,d,e);if(g!==!0)throw new _t("option "+d+" must be "+g,_t.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new _t("Unknown option "+d,_t.ERR_BAD_OPTION)}}const Hd={assertOptions:rL,validators:If},Rs=Hd.validators;let ra=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ix,response:new ix}}async request(t,s){try{return await this._request(t,s)}catch(a){if(a instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ca(this.defaults,s);const{transitional:a,paramsSerializer:c,headers:d}=s;a!==void 0&&Hd.assertOptions(a,{silentJSONParsing:Rs.transitional(Rs.boolean),forcedJSONParsing:Rs.transitional(Rs.boolean),clarifyTimeoutError:Rs.transitional(Rs.boolean)},!1),c!=null&&(fe.isFunction(c)?s.paramsSerializer={serialize:c}:Hd.assertOptions(c,{encode:Rs.function,serialize:Rs.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Hd.assertOptions(s,{baseUrl:Rs.spelling("baseURL"),withXsrfToken:Rs.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let f=d&&fe.merge(d.common,d[s.method]);d&&fe.forEach(["delete","get","head","post","put","patch","common"],P=>{delete d[P]}),s.headers=ur.concat(f,d);const p=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(s)===!1||(g=g&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const w=[];this.interceptors.response.forEach(function(j){w.push(j.fulfilled,j.rejected)});let _,b=0,N;if(!g){const P=[mx.bind(this),void 0];for(P.unshift(...p),P.push(...w),N=P.length,_=Promise.resolve(s);b<N;)_=_.then(P[b++],P[b++]);return _}N=p.length;let T=s;for(b=0;b<N;){const P=p[b++],j=p[b++];try{T=P(T)}catch(C){j.call(this,C);break}}try{_=mx.call(this,T)}catch(P){return Promise.reject(P)}for(b=0,N=w.length;b<N;)_=_.then(w[b++],w[b++]);return _}getUri(t){t=ca(this.defaults,t);const s=Hb(t.baseURL,t.url,t.allowAbsoluteUrls);return Fb(s,t.params,t.paramsSerializer)}};fe.forEach(["delete","get","head","options"],function(t){ra.prototype[t]=function(s,a){return this.request(ca(a||{},{method:t,url:s,data:(a||{}).data}))}});fe.forEach(["post","put","patch"],function(t){function s(a){return function(d,f,p){return this.request(ca(p||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}ra.prototype[t]=s(),ra.prototype[t+"Form"]=s(!0)});let sL=class Yb{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(d){s=d});const a=this;this.promise.then(c=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](c);a._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(p=>{a.subscribe(p),d=p}).then(c);return f.cancel=function(){a.unsubscribe(d)},f},t(function(d,f,p){a.reason||(a.reason=new Ml(d,f,p),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=a=>{t.abort(a)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Yb(function(c){t=c}),cancel:t}}};function oL(e){return function(s){return e.apply(null,s)}}function iL(e){return fe.isObject(e)&&e.isAxiosError===!0}const gp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gp).forEach(([e,t])=>{gp[t]=e});function Kb(e){const t=new ra(e),s=Eb(ra.prototype.request,t);return fe.extend(s,ra.prototype,t,{allOwnKeys:!0}),fe.extend(s,t,null,{allOwnKeys:!0}),s.create=function(c){return Kb(ca(e,c))},s}const vn=Kb(au);vn.Axios=ra;vn.CanceledError=Ml;vn.CancelToken=sL;vn.isCancel=Bb;vn.VERSION=Gb;vn.toFormData=Df;vn.AxiosError=_t;vn.Cancel=vn.CanceledError;vn.all=function(t){return Promise.all(t)};vn.spread=oL;vn.isAxiosError=iL;vn.mergeConfig=ca;vn.AxiosHeaders=ur;vn.formToJSON=e=>$b(fe.isHTMLForm(e)?new FormData(e):e);vn.getAdapter=qb.getAdapter;vn.HttpStatusCode=gp;vn.default=vn;const{Axios:DL,AxiosError:OL,CanceledError:IL,isCancel:FL,CancelToken:zL,VERSION:$L,all:BL,Cancel:UL,isAxiosError:HL,spread:WL,toFormData:VL,AxiosHeaders:ZL,HttpStatusCode:qL,formToJSON:GL,getAdapter:YL,mergeConfig:KL}=vn;function aL(){const e=v0(),{employeeId:t}=UC(),{toast:s}=Sl(),[a,c]=v.useState(null),[d,f]=v.useState([]),[p,g]=v.useState([]),[w,_]=v.useState(!0),[b,N]=v.useState(!0),[T,P]=v.useState(!1),[j,C]=v.useState(!1),[k,D]=v.useState(!1),[M,O]=v.useState(null),[I,Z]=v.useState(null),[z,se]=v.useState(!1),[ae,q]=v.useState(!1),[J,de]=v.useState(!1),[Ae,K]=v.useState({});v.useEffect(()=>{console.log(" startedMeetingMap updated:",Ae)},[Ae]);const[ee,te]=v.useState(null),[me,U]=v.useState({}),[ue,oe]=v.useState(new Set),[F,Q]=v.useState(0);v.useEffect(()=>{console.log(" Meetings state changed:",{count:d.length,meetings:d.map(W=>({id:W.id,status:W.status,client:W.clientName})),hasActive:d.some(W=>W.status==="in-progress"||W.status==="started")})},[d]),v.useEffect(()=>{if(!t){console.error(" No employee ID in URL - access denied"),s({title:"Access Denied",description:"Please access the tracking page with a valid employee ID",variant:"destructive"});return}console.log(" Loading tracking page for employee:",t),(async()=>{try{await Promise.all([ye(),Re()])}catch(we){console.error("Failed to initialize tracking data:",we)}})()},[t,e]);const ye=async(W=0)=>{try{console.log("Fetching employee:",{employeeId:t,retryCount:W});const we=await dt.get(`/api/employees/${t}`);if(we.ok)try{const Fe=we.headers.get("content-type");if(Fe&&Fe.includes("application/json")){const be=await we.json();c(be),console.log("Employee data fetched successfully:",be)}else{const be=await we.text();console.error("Server returned non-JSON response:",be.substring(0,200)),c(null)}}catch(Fe){console.error("Error parsing employee response:",Fe),c(null)}else console.error(`Failed to fetch employee: ${we.status} ${we.statusText}`),c(null)}catch(we){if(console.error("Error fetching employee:",we),W<1&&we instanceof TypeError&&(we.message.includes("fetch")||we.message.includes("body stream"))){console.log("Retrying employee fetch after network error..."),setTimeout(()=>ye(W+1),2e3);return}c(null)}},Re=async(W=0)=>{try{console.log(" Fetching meetings:",{employeeId:t,retryCount:W});const we=await dt.get(`/api/meetings?employeeId=${t}&limit=5`);if(we.ok)try{const Fe=we.headers.get("content-type");if(Fe&&Fe.includes("application/json")){const Ge=(await we.json()).meetings||[];f(Ge),console.log(" Meetings data fetched successfully:",{count:Ge.length,meetings:Ge.map(De=>({id:De.id,status:De.status,followUpId:De.followUpId,client:De.clientName}))});const Se=Ge.filter(De=>De.status==="in-progress"||De.status==="started");if(Se.length>0){console.log(" Found active meetings after refresh:",Se.map(Be=>({id:Be.id,followUpId:Be.followUpId})));const De={};Se.forEach(Be=>{Be.followUpId&&(console.log(" Restoring startedMeetingMap for follow-up meeting:",Be.followUpId,"->",Be.id),De[Be.followUpId]=Be.id)}),Object.keys(De).length>0&&K(Be=>({...Be,...De})),O(Se[0].id)}else console.log(" No active meetings found"),O(null)}else{const be=await we.text();console.error("Server returned non-JSON response for meetings:",be.substring(0,200)),f([])}}catch(Fe){console.error("Error parsing meetings response:",Fe),f([])}else console.error(`Failed to fetch meetings: ${we.status} ${we.statusText}`),f([])}catch(we){if(console.error("Error fetching meetings:",we),W<1&&we instanceof TypeError&&(we.message.includes("fetch")||we.message.includes("body stream"))){console.log("Retrying meetings fetch after network error..."),setTimeout(()=>Re(W+1),2e3);return}f([])}finally{_(!1)}},Pe=W=>{console.log("Today's follow-up meetings fetched:",W.length),g(W)},Y=W=>{console.log(" Attempting to start meeting from follow-up:",W.companyName),console.log(" Current meetings:",d.map(be=>({id:be.id,status:be.status,client:be.clientName}))),console.log(" Total meetings:",d.length);const we=d.find(be=>be.status==="in-progress"||be.status==="started");if(console.log(" Active meeting check result:",we?`Found: ${we.id}`:"None"),we){console.log(" BLOCKED: Active meeting exists:",we.id),s({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting found, proceeding to start...");const Fe={clientName:W.customerName,reason:`Follow-up meeting - ${W.type}`,notes:W.remark||`Meeting with ${W.customerName} from ${W.companyName}`,leadId:W.leadId,leadInfo:{id:W.leadId,companyName:W.companyName,contactName:W.customerName}};Ne(Fe,W._id)},B=(W,we,Fe)=>{console.log("Location updated:",{lat:W,lng:we,accuracy:Fe}),ye()},ge=(W,we,Fe)=>{const be=`https://www.google.com/maps?q=${W},${we}`,Ge=`https://maps.apple.com/?q=${W},${we}`;/iPad|iPhone|iPod/.test(navigator.userAgent)?window.open(Ge,"_blank"):window.open(be,"_blank")},Ee=W=>{window.location.href=`tel:${W}`},Ve=(W,we)=>{const Fe=encodeURIComponent(`Regarding Field Operations - ${we}`),be=encodeURIComponent(`Hi ${we.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${W}?subject=${Fe}&body=${be}`},ut=(W,we)=>{const Fe=encodeURIComponent(`Hi ${we.split(" ")[0]}, checking in on your current location and status.`);window.location.href=`sms:${W}?body=${Fe}`},[Je,Lt]=v.useState(null),Wt=W=>{console.log("handleEndMeetingClick called with meetingId:",W),O(W),D(!0)},xn=async(W,we)=>{console.log(" handleEndMeetingFromFollowUp called with:",{followUpId:W,meetingId:we}),console.log(" Fetching active meeting from local database AND external API..."),s({title:"Loading Meeting Data",description:"Searching for active meeting..."});let Fe=we,be=null;try{if(!Fe||Fe===""){if(console.log(" Step 1: Checking local database..."),W)try{console.log(" Querying local database by followUpId:",W);const Se=await dt.get(`/api/meetings/active?followUpId=${W}`);Se.ok?(be=await Se.json(),Fe=be.id,console.log(" Found active meeting in LOCAL DATABASE:",Fe)):console.warn(" Not found in local database by followUpId (404)")}catch(Se){console.warn(" Error querying local database by followUpId:",Se)}if(!Fe&&t)try{console.log(" Querying local database by employeeId:",t);const Se=await dt.get(`/api/meetings/active?employeeId=${t}`);Se.ok?(be=await Se.json(),Fe=be.id,console.log(" Found active meeting in LOCAL DATABASE:",Fe)):console.warn(" Not found in local database by employeeId (404)")}catch(Se){console.warn(" Error querying local database by employeeId:",Se)}console.log(" Step 1 complete. finalMeetingId:",Fe||"not found")}if((!Fe||Fe==="")&&(console.log(" Step 2: Not found in local database, checking external API..."),t))try{const Be=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${t}`;console.log(" Querying external API:",Be);const nt=await fetch(Be);if(nt.ok){const he=await nt.json();console.log(" External API returned",he.length,"follow-ups");const pe=he.find(je=>je.meetingStatus==="meeting on-going"||je.meetingStatus==="In Progress"||je.meetingStatus==="IN_PROGRESS"||je.meetingStatus==="Started");if(pe){console.log(" Found ongoing meeting in EXTERNAL API:",pe._id),console.log(" External meeting data:",{id:pe._id,status:pe.meetingStatus,company:pe.companyName,customer:pe.customerName});let je=!1;try{const Oe=await dt.get(`/api/meetings/active?followUpId=${pe._id}`);Oe.ok&&(be=await Oe.json(),Fe=be.id,je=!0,console.log(" Found corresponding meeting in local database:",Fe))}catch(Oe){console.warn(" Error searching local database (404 expected):",Oe.message)}if(!je&&!Fe){console.warn(" External API shows ongoing meeting, but not found in local database"),console.warn(" Creating meeting in local database from external API data...");try{if(!a)console.error(" Cannot create meeting: No employee data");else{const Oe=await dt.post("/api/meetings",{employeeId:a.id,location:{lat:a.location.lat,lng:a.location.lng,address:a.location.address},clientName:pe.companyName,notes:`Recovered meeting from external API - ${pe.type}: ${pe.remark}`,followUpId:pe._id,leadId:pe.leadId||void 0,externalMeetingStatus:pe.meetingStatus});Oe.ok?(be=await Oe.json(),Fe=be.id,console.log(" Successfully created meeting in local database:",Fe),console.log(" Meeting recovered from external API")):console.error(" Failed to create meeting in local database")}}catch(Oe){console.error(" Error creating meeting in local database:",Oe)}}}else console.warn(" No ongoing meetings found in external API"),console.log("Available meetings:",he.map(je=>({id:je._id,status:je.meetingStatus,company:je.companyName})))}else console.error(" External API request failed:",nt.status)}catch(Se){console.error(" Error querying external API:",Se)}if(!Fe||Fe===""){console.error(" No active meeting found in LOCAL DATABASE or EXTERNAL API!"),console.error("Searched with:",{followUpId:W,employeeId:t}),s({title:"No Active Meeting",description:"No active meeting found. The meeting may not have been saved properly when started.",variant:"destructive"});return}console.log(" Final meeting ID:",Fe),be&&(console.log(" Updating local state with meeting data..."),f(Se=>Se.find(Be=>Be.id===be.id)?(console.log(" Meeting already in local state"),Se):(console.log(" Adding meeting to local state"),[be,...Se])),be.followUpId&&(console.log(" Restoring startedMeetingMap:",{[be.followUpId]:be.id}),K(Se=>({...Se,[be.followUpId]:be.id}))));let Ge=me[Fe];!Ge&&W&&(Ge=p.find(Se=>Se._id===W),console.log(" Found follow-up data from todaysFollowUpMeetings:",!!Ge)),!Ge&&(be!=null&&be.followUpId)&&(Ge=p.find(Se=>Se._id===be.followUpId),console.log(" Found follow-up data by activeMeetingData.followUpId:",!!Ge)),Ge?(console.log(" Setting follow-up data for modal:",{company:Ge.companyName,customer:Ge.customerName}),te(Ge)):(console.warn(" No follow-up data found for meeting:",Fe),console.warn("Modal will open without pre-filled customer data")),console.log(" Opening End Meeting modal with meeting ID:",Fe),O(Fe),D(!0)}catch(Ge){console.error(" Error in handleEndMeetingFromFollowUp:",Ge),s({title:"Error",description:"Failed to load meeting data from database. Please try again.",variant:"destructive"})}},X=()=>{console.log("End meeting attempt. Employee status:",a==null?void 0:a.status,"Available meetings:",d);const W=d.find(we=>we.status==="in-progress"||we.status==="started");W?Wt(W.id):(console.error("No active meeting found to end. Available meetings:",d),s({title:"No Active Meeting",description:"No active meeting found for this employee. Please start a meeting first.",variant:"destructive"}))},ve=async W=>{var Fe;console.log(" handleEndMeetingWithDetails called with:",{activeMeetingId:M,meetingDetails:W,hasCustomers:((Fe=W.customers)==null?void 0:Fe.length)>0,hasDiscussion:!!W.discussion});let we=M;if(!we){console.error(" Cannot end meeting: No activeMeetingId set!"),s({title:"Error",description:"No active meeting found. Please try again.",variant:"destructive"});return}Lt(we);try{console.log("Ending meeting with details:",M,W);let be=null;try{if(console.log(" Checking location permission for meeting end..."),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const Be=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",Be.state),Be.state==="denied"){s({title:"Location Permission Required",description:"Please allow location access in your browser settings to end the meeting.",variant:"destructive"}),Lt(null);return}}console.log(" Fetching fresh location for meeting end...");const Se=await new Promise((Be,nt)=>{navigator.geolocation.getCurrentPosition(Be,nt,{enableHighAccuracy:!0,maximumAge:0,timeout:1e4})});let De=`${Se.coords.latitude.toFixed(6)}, ${Se.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address for meeting end location...");const Be=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Se.coords.latitude}&lon=${Se.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});Be.ok&&(De=(await Be.json()).display_name||De,console.log(" Meeting end address resolved:",De))}catch(Be){console.warn(" Failed to get address, using coordinates:",Be)}be={lat:Se.coords.latitude,lng:Se.coords.longitude,address:De,timestamp:new Date().toISOString()},console.log(" Fresh end location obtained:",be)}catch(Se){console.error(" Location access error:",Se);const De=Se instanceof GeolocationPositionError?Se.code===1?"Location permission denied. Please allow location access to end the meeting.":Se.code===2?"Unable to determine your location. Please check your device settings.":"Location request timed out. Please try again.":"Failed to access location. Please allow location permission to end the meeting.";s({title:"Location Required",description:De,variant:"destructive"}),Lt(null);return}console.log(" Sending PUT request to:",`/api/meetings/${we}`);const Ge=await dt.put(`/api/meetings/${we}`,{status:"completed",endTime:new Date().toISOString(),meetingDetails:W,endLocation:be});if(Ge.ok){console.log("Meeting ended successfully");const Se=Object.keys(Ae).find(De=>Ae[De]===we);if(Se)try{console.log("Updating follow-up status for:",Se);const De=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${Se}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"complete"})});De.ok?console.log("Follow-up meeting status updated to 'complete'"):console.error("Failed to update follow-up status:",De.status)}catch(De){console.error("Error updating follow-up status:",De)}try{const De=d.find(nt=>nt.id===we);console.log("Attempting to add meeting to history with details:",{sessionId:(I==null?void 0:I.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:W,leadId:De==null?void 0:De.leadId,leadInfo:De==null?void 0:De.leadInfo});const Be=await dt.post("/api/meeting-history",{sessionId:(I==null?void 0:I.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:W,leadId:De==null?void 0:De.leadId,leadInfo:De==null?void 0:De.leadInfo});if(Be.ok){const nt=await Be.json();console.log("Meeting added to history successfully:",nt)}else{const nt=await Be.text();console.error("Failed to add meeting to history:",Be.status,nt)}}catch(De){console.error("Error adding meeting to history:",De)}K(De=>{const Be={...De};return Object.keys(Be).forEach(nt=>{Be[nt]===we&&delete Be[nt]}),Be}),U(De=>{const Be={...De};return delete Be[we],Be}),oe(De=>{const Be=new Set(De);return Be.delete(we),Be}),Q(De=>De+1),await dt.put(`/api/employees/${t}/status`,{status:"active"}),await Promise.all([Re(),ye()])}else{const Se=await Ge.text();throw console.error("Failed to end meeting:",Ge.status,Se),new Error(`Failed to end meeting: ${Se}`)}}catch(be){throw console.error("Error ending meeting:",be),be}finally{Lt(null),O(null)}},Me=async W=>{if(a){C(!0);try{let we={lat:a.location.lat,lng:a.location.lng,address:a.location.address};try{if(console.log(" Checking location permission for meeting start..."),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const Se=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",Se.state),Se.state==="denied"){s({title:"Location Permission Required",description:"Please allow location access in your browser settings to start a meeting.",variant:"destructive"}),C(!1);return}}console.log(" Fetching fresh location for meeting start...");const be=await new Promise((Se,De)=>{navigator.geolocation.getCurrentPosition(Se,De,{enableHighAccuracy:!0,maximumAge:0,timeout:1e4})});let Ge=`${be.coords.latitude.toFixed(6)}, ${be.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address for meeting start location...");const Se=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${be.coords.latitude}&lon=${be.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});Se.ok&&(Ge=(await Se.json()).display_name||Ge,console.log(" Meeting start address resolved:",Ge))}catch(Se){console.warn(" Failed to get address, using coordinates:",Se)}we={lat:be.coords.latitude,lng:be.coords.longitude,address:Ge},console.log(" Fresh start location obtained:",we)}catch(be){console.error(" Location access error:",be);const Ge=be instanceof GeolocationPositionError?be.code===1?"Location permission denied. Please allow location access to start a meeting.":be.code===2?"Unable to determine your location. Please check your device settings.":"Location request timed out. Please try again.":"Failed to access location. Please allow location permission to start a meeting.";s({title:"Location Required",description:Ge,variant:"destructive"}),C(!1);return}const Fe=await dt.post("/api/meetings",{employeeId:a.id,location:we,clientName:W.clientName,notes:`${W.reason}${W.notes?` - ${W.notes}`:""}`,leadId:W.leadId,leadInfo:W.leadInfo});if(Fe.ok){const be=await Fe.json();console.log(" Meeting created successfully:",be.id),f(Ge=>(console.log(" Adding meeting to state:",be.id),[...Ge,be])),await vn.put(`/api/employees/${t}/status`,{status:"meeting"}),ye(),P(!1),s({title:"Meeting Started",description:`Meeting with ${W.clientName} has been started`})}else{const be=await Fe.json().catch(()=>({error:"Failed to start meeting"}));s({title:"Cannot Start Meeting",description:be.error||"Failed to start meeting",variant:"destructive"})}}catch(we){console.error("Error starting meeting:",we),s({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{C(!1)}}},Ne=async(W,we)=>{if(a){C(!0);try{const Fe=p.find(Se=>Se._id===we);console.log(" Storing follow-up data for meeting:",Fe);let be={lat:a.location.lat,lng:a.location.lng,address:a.location.address};try{if(console.log(" Checking location permission for meeting start..."),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const Be=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",Be.state),Be.state==="denied"){s({title:"Location Permission Required",description:"Please allow location access in your browser settings to start a meeting.",variant:"destructive"}),C(!1);return}}console.log(" Fetching fresh location for meeting start...");const Se=await new Promise((Be,nt)=>{navigator.geolocation.getCurrentPosition(Be,nt,{enableHighAccuracy:!0,maximumAge:0,timeout:1e4})});let De=`${Se.coords.latitude.toFixed(6)}, ${Se.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address for meeting start location...");const Be=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Se.coords.latitude}&lon=${Se.coords.longitude}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});Be.ok&&(De=(await Be.json()).display_name||De,console.log(" Meeting start address resolved:",De))}catch(Be){console.warn(" Failed to get address, using coordinates:",Be)}be={lat:Se.coords.latitude,lng:Se.coords.longitude,address:De},console.log(" Fresh start location obtained:",be)}catch(Se){console.error(" Location access error:",Se);const De=Se instanceof GeolocationPositionError?Se.code===1?"Location permission denied. Please allow location access to start a meeting.":Se.code===2?"Unable to determine your location. Please check your device settings.":"Location request timed out. Please try again.":"Failed to access location. Please allow location permission to start a meeting.";s({title:"Location Required",description:De,variant:"destructive"}),C(!1);return}const Ge=await dt.post("/api/meetings",{employeeId:a.id,location:be,clientName:W.clientName,notes:`${W.reason}${W.notes?` - ${W.notes}`:""}`,leadId:W.leadId,leadInfo:W.leadInfo,followUpId:we,externalMeetingStatus:"meeting on-going"});if(Ge.ok){const Se=await Ge.json();console.log(" Meeting created successfully:",Se.id),f(De=>(console.log(" Adding meeting to state:",Se.id),[...De,Se])),K(De=>({...De,[we]:Se.id})),Fe&&(U(De=>({...De,[Se.id]:Fe})),console.log(" Stored follow-up data for meeting ID:",Se.id));try{const De=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${we}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"meeting on-going"})});De.ok?console.log("Updated follow-up meetingStatus to 'meeting on-going' for:",we):console.warn("Failed to update follow-up meetingStatus:",De.status)}catch(De){console.error("Failed to update follow-up meetingStatus to meeting on-going:",De)}oe(De=>new Set([...De,Se.id])),await vn.put(`/api/employees/${t}/status`,{status:"meeting"}),ye(),s({title:"Meeting Started",description:`Meeting with ${W.clientName} has been started`})}else{const Se=await Ge.json().catch(()=>({error:"Failed to start meeting"}));s({title:"Cannot Start Meeting",description:Se.error||"Failed to start meeting",variant:"destructive"})}}catch(Fe){console.error("Error starting meeting:",Fe),s({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{C(!1)}}},$e=()=>{const W=d.find(we=>we.status==="in-progress"||we.status==="started");if(W){s({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"}),console.log("Blocked: Active meeting exists:",W.id);return}P(!0)},et=async W=>{Z(W),console.log(" Tracking session started:",W);try{const we=await dt.post("/api/tracking-sessions",{id:W.id,employeeId:W.employeeId,startTime:W.startTime,startLocation:W.startLocation,route:W.route||[],totalDistance:W.totalDistance||0,status:W.status});if(we.ok){const Fe=await we.json();console.log(" Tracking session saved to server:",Fe)}else console.error(" Failed to save tracking session:",we.status)}catch(we){console.error(" Error saving tracking session:",we)}},Qe=async W=>{Z(W),console.log(" Tracking session ended:",W);try{const we=await dt.put(`/api/tracking-sessions/${W.id}`,{endTime:W.endTime,endLocation:W.endLocation,route:W.route||[],totalDistance:W.totalDistance||0,duration:W.duration,status:W.status});if(we.ok){const Fe=await we.json();console.log(" Tracking session updated on server:",Fe)}else console.error(" Failed to update tracking session:",we.status)}catch(we){console.error(" Error updating tracking session:",we)}if(console.log("Auto-snapshot conditions:",{hasEmployee:!!a,sessionStatus:W.status,shouldCreateSnapshot:a&&W.status==="completed"}),a&&W.status==="completed")try{console.log("Auto-creating route snapshot for completed tracking session"),await Ut(W)}catch(we){console.error("Error auto-creating route snapshot:",we)}else console.log("Skipping auto-snapshot:",{reason:a?W.status!=="completed"?`Session status is ${W.status}`:"Unknown":"No employee data"})},Ut=async W=>{if(!a)return;const we=()=>{const nt=[];if(W.route&&nt.push(...W.route),d.forEach(Oe=>{nt.push(Oe.location)}),nt.push(a.location),nt.length===0)return{north:a.location.lat+.01,south:a.location.lat-.01,east:a.location.lng+.01,west:a.location.lng-.01};const he=nt.map(Oe=>Oe.lat),pe=nt.map(Oe=>Oe.lng),je=.005;return{north:Math.max(...he)+je,south:Math.min(...he)-je,east:Math.max(...pe)+je,west:Math.min(...pe)-je}},Fe=()=>d.map(nt=>({id:nt.id,location:nt.location,clientName:nt.clientName,startTime:nt.startTime,endTime:nt.endTime,status:nt.status})),be=new Date,Ge=be.toLocaleDateString(),Se=be.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),De=`${a.name} Route - ${Ge} ${Se}`,Be={employeeId:a.id,employeeName:a.name,trackingSessionId:W.id,title:De,description:`Auto-captured route snapshot when tracking stopped. Duration: ${Math.round((W.duration||0)/60)} minutes.`,startLocation:W.startLocation,endLocation:W.endLocation,route:W.route||[a.location],meetings:Fe(),totalDistance:W.totalDistance||0,duration:W.duration,status:W.status,mapBounds:we()};try{const nt=await dt.post("/api/route-snapshots",Be);if(nt.ok){const he=await nt.json();console.log("Auto-created route snapshot:",he),s({title:"Route Auto-Captured",description:`${he.title} saved successfully`})}else throw new Error("Failed to auto-create route snapshot")}catch(nt){console.error("Error auto-creating route snapshot:",nt),s({title:"Auto-capture Failed",description:"Use 'Manual Capture' button to save route",variant:"destructive"})}},It=W=>{switch(W){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},Ct=W=>{switch(W){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}};if(w)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading tracking data..."})]})});if(!a)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Employee not found"}),o.jsx(Ce,{asChild:!0,children:o.jsx(Os,{to:"/",children:"Return to Dashboard"})})]})});const Pt=JSON.parse(localStorage.getItem("user")||"{}"),Ht=(Pt==null?void 0:Pt._id)==="67daa55d9c4abb36045d5bfe";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[Ht&&o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:"/",children:[o.jsx(df,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:a.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time Tracking"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>q(!0),className:"text-primary",children:[o.jsx($m,{className:"h-4 w-4 mr-1"}),"Manual Capture"]}),o.jsx(Nt,{variant:"secondary",className:`${It(a.status)}`,children:Ct(a.status)})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(at,{children:[o.jsx(jt,{children:o.jsx(Et,{children:"Employee Information"})}),o.jsxs(lt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Name"}),o.jsx("span",{className:"font-medium",children:a.name})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("span",{className:"font-medium",children:a.email})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("span",{className:"font-medium",children:a.phone})]}),a.designation&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Designation"}),o.jsx("span",{className:"font-medium",children:a.designation})]}),a.department&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Department"}),o.jsx("span",{className:"font-medium",children:a.department})]}),a.companyName&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Company"}),o.jsx("span",{className:"font-medium text-right max-w-xs",children:a.companyName})]}),a.reportTo&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Reports To"}),o.jsx("span",{className:"font-medium",children:a.reportTo})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),o.jsx(Nt,{variant:"secondary",className:`${It(a.status)}`,children:Ct(a.status)})]}),a.currentTask&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Task"}),o.jsx("span",{className:"font-medium text-right max-w-xs",children:a.currentTask})]})]}),a.status==="meeting"&&o.jsx("div",{className:"pt-4 pb-2",children:o.jsxs(Ce,{variant:"destructive",size:"sm",className:"w-full",onClick:X,disabled:Je!==null,children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),Je?"Ending Meeting...":"End Current Meeting"]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-4",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>Ee(a.phone),children:[o.jsx(di,{className:"h-4 w-4 mr-2"}),"Call"]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>Ve(a.email,a.name),children:[o.jsx(ui,{className:"h-4 w-4 mr-2"}),"Email"]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>ut(a.phone,a.name),className:"col-span-2",children:[o.jsx(Ep,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]})]}),o.jsxs(at,{children:[o.jsx(jt,{children:o.jsxs(Et,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Current Location"}),a.status==="meeting"?o.jsxs(Ce,{variant:"destructive",size:"sm",onClick:X,disabled:Je!==null,children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),Je?"Ending...":"End Meeting"]}):o.jsxs(Ce,{variant:"outline",size:"sm",onClick:$e,children:[o.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})}),o.jsxs(lt,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Jn,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:a.location.address}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.location.lat.toFixed(6),","," ",a.location.lng.toFixed(6)]}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[o.jsx(Tn,{className:"h-3 w-3 mr-1"}),"Last updated ",a.lastUpdate]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ce,{variant:"outline",className:"w-full",onClick:()=>N(!b),children:[o.jsx(ho,{className:"h-4 w-4 mr-2"}),b?"Hide Map":"View on Map"]}),o.jsxs(Ce,{variant:"outline",className:"w-full",onClick:()=>ge(a.location.lat,a.location.lng,a.location.address),children:[o.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Open in Maps App"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>q(!0),className:"text-primary",children:[o.jsx($m,{className:"h-4 w-4 mr-2"}),"Manual Capture"]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>de(!0),children:[o.jsx(ol,{className:"h-4 w-4 mr-2"}),"View History"]})]})]}),b&&a&&o.jsx("div",{className:"mt-4",children:o.jsx(Up,{employees:[a],height:"300px",trackingSession:I,showRoute:I!==null})})]})]}),o.jsxs(at,{children:[o.jsx(jt,{children:o.jsxs(Et,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Recent Meetings"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nt,{variant:"secondary",children:d.filter(W=>!ue.has(W.id)).length}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>se(!0),children:[o.jsx(Kr,{className:"h-4 w-4 mr-2"}),"History"]})]})]})}),o.jsx(lt,{children:d.filter(W=>!ue.has(W.id)).length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent meetings"}):o.jsx("div",{className:"space-y-4",children:d.filter(W=>!ue.has(W.id)).map(W=>o.jsxs("div",{className:`border rounded-lg p-3 space-y-2 ${W.status==="in-progress"?"border-warning bg-warning/5":"border-border"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-medium",children:W.clientName||"Unknown Client"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nt,{variant:"secondary",className:W.status==="completed"?"bg-success text-success-foreground":W.status==="in-progress"?"bg-warning text-warning-foreground":"bg-info text-info-foreground",children:W.status}),W.status==="in-progress"&&o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>Wt(W.id),disabled:Je===W.id,children:Je===W.id?"Ending...":"End Meeting"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(Jn,{className:"h-3 w-3 mr-1"}),W.location.address]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(Kr,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Started:"}),o.jsx("span",{className:"ml-1",children:new Date(W.startTime).toLocaleString()})]}),W.endTime&&o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(Tn,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Ended:"}),o.jsx("span",{className:"ml-1",children:new Date(W.endTime).toLocaleString()})]}),W.status==="in-progress"&&o.jsxs("p",{className:"text-sm text-success flex items-center",children:[o.jsx(Tn,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Duration:"}),o.jsxs("span",{className:"ml-1",children:[Math.round((Date.now()-new Date(W.startTime).getTime())/(1e3*60))," ","minutes"]})]}),W.endTime&&W.status==="completed"&&o.jsxs("p",{className:"text-sm text-info flex items-center",children:[o.jsx(Tn,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Duration:"}),o.jsxs("span",{className:"ml-1",children:[Math.round((new Date(W.endTime).getTime()-new Date(W.startTime).getTime())/(1e3*60))," ","minutes"]})]})]}),W.notes&&o.jsx("p",{className:"text-sm",children:W.notes})]},W.id))})})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(jM,{employeeId:a.id,employeeName:a.name,onLocationUpdate:B,trackingEnabled:a.status==="active",onTrackingSessionStart:et,onTrackingSessionEnd:Qe,todaysMeetings:p}),o.jsx(f_,{userId:t,onStartMeeting:Y,startedMeetingMap:Ae,onEndMeetingFromFollowUp:xn,onMeetingsFetched:Pe,refreshTrigger:F,hasActiveMeeting:d.some(W=>W.status==="in-progress"||W.status==="started")})]})]})}),a&&o.jsx(lb,{isOpen:T,onClose:()=>P(!1),onStartMeeting:Me,employeeName:a.name,location:a.location.address,isLoading:j}),a&&o.jsx(TM,{isOpen:k,onClose:()=>{D(!1),O(null),te(null)},onEndMeeting:ve,employeeName:a.name,isLoading:Je!==null,currentMeeting:M?d.find(W=>W.id===M):null,followUpMeetingData:ee}),o.jsx(s_,{employeeId:t,isOpen:z,onClose:()=>se(!1)}),a&&o.jsx(kM,{employee:a,trackingSession:I,meetings:d,isOpen:ae,onClose:()=>q(!1),onSnapshotCreated:W=>{console.log("Snapshot created:",W)}}),o.jsx(Nb,{employeeId:t,isOpen:J,onClose:()=>de(!1)})]})}function lL(){const[e,t]=v.useState([]),[s,a]=v.useState(!0),[c,d]=v.useState(""),[f,p]=v.useState("all"),[g,w]=v.useState(!1),[_,b]=v.useState(!1),[N,T]=v.useState(null),[P,j]=v.useState({name:"",email:"",phone:"",status:"active"});v.useEffect(()=>{C()},[]);const C=async()=>{var q;try{console.log("TeamManagement: Fetching employees...");const J=await dt.get("/api/employees");if(J.ok){const de=await J.json();console.log("TeamManagement: Successfully fetched employees:",((q=de.employees)==null?void 0:q.length)||0),t(de.employees||[])}else console.error("TeamManagement: Failed to fetch employees - Status:",J.status),t([])}catch(J){console.error("TeamManagement: Error fetching employees:",J),t([])}finally{a(!1)}},k=async()=>{try{const q=await dt.post("/api/employees",{...P,location:{lat:40.7128,lng:-74.006,address:"New York, NY",timestamp:new Date().toISOString()},lastUpdate:"Just now",deviceId:`device_${Date.now()}`});q.ok?(console.log("TeamManagement: Employee added successfully"),C(),w(!1),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to add employee - Status:",q.status)}catch(q){console.error("TeamManagement: Error adding employee:",q)}},D=async()=>{if(N)try{const q=await dt.put(`/api/employees/${N.id}`,P);q.ok?(console.log("TeamManagement: Employee updated successfully"),C(),b(!1),T(null),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to update employee - Status:",q.status)}catch(q){console.error("TeamManagement: Error updating employee:",q)}},M=async q=>{if(confirm("Are you sure you want to delete this employee?"))try{const J=await dt.delete(`/api/employees/${q}`);J.ok?(console.log("TeamManagement: Employee deleted successfully"),C()):console.error("TeamManagement: Failed to delete employee - Status:",J.status)}catch(J){console.error("TeamManagement: Error deleting employee:",J)}},O=q=>{window.location.href=`tel:${q}`},I=(q,J)=>{const de=encodeURIComponent(`Regarding Field Operations - ${J}`),Ae=encodeURIComponent(`Hi ${J.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${q}?subject=${de}&body=${Ae}`},Z=q=>{T(q),j({name:q.name,email:q.email,phone:q.phone,status:q.status}),b(!0)},z=q=>{switch(q){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},se=q=>{switch(q){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},ae=e.filter(q=>{const J=q.name.toLowerCase().includes(c.toLowerCase())||q.email.toLowerCase().includes(c.toLowerCase()),de=f==="all"||q.status===f;return J&&de});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:"/",children:[o.jsx(df,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Team Management"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your field team employees"})]})]}),o.jsxs(Mr,{open:g,onOpenChange:w,children:[o.jsx(PT,{asChild:!0,children:o.jsxs(Ce,{children:[o.jsx(Vd,{className:"h-4 w-4 mr-2"}),"Add Employee"]})}),o.jsxs(dr,{children:[o.jsxs(fr,{children:[o.jsx(hr,{children:"Add New Employee"}),o.jsx(mr,{children:"Add a new field employee to your team."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"name",children:"Name"}),o.jsx(dn,{id:"name",value:P.name,onChange:q=>j({...P,name:q.target.value}),placeholder:"Enter full name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"email",children:"Email"}),o.jsx(dn,{id:"email",type:"email",value:P.email,onChange:q=>j({...P,email:q.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"phone",children:"Phone"}),o.jsx(dn,{id:"phone",type:"tel",value:P.phone,onChange:q=>j({...P,phone:q.target.value}),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"status",children:"Status"}),o.jsxs(ds,{value:P.status,onValueChange:q=>j({...P,status:q}),children:[o.jsx(Gr,{children:o.jsx(fs,{placeholder:"Select status"})}),o.jsxs(Yr,{children:[o.jsx(Gt,{value:"active",children:"Active"}),o.jsx(Gt,{value:"inactive",children:"Inactive"}),o.jsx(Gt,{value:"meeting",children:"In Meeting"})]})]})]})]}),o.jsxs(aa,{children:[o.jsx(Ce,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),o.jsx(Ce,{onClick:k,children:"Add Employee"})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Jc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(dn,{placeholder:"Search employees...",value:c,onChange:q=>d(q.target.value),className:"pl-10"})]}),o.jsxs(ds,{value:f,onValueChange:p,children:[o.jsx(Gr,{className:"w-full sm:w-[180px]",children:o.jsx(fs,{placeholder:"Filter by status"})}),o.jsxs(Yr,{children:[o.jsx(Gt,{value:"all",children:"All Statuses"}),o.jsx(Gt,{value:"active",children:"Active"}),o.jsx(Gt,{value:"meeting",children:"In Meeting"}),o.jsx(Gt,{value:"inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Total Employees"}),o.jsx(na,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(lt,{children:o.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Active"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-success"})]}),o.jsx(lt,{children:o.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter(q=>q.status==="active").length})})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"In Meetings"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"})]}),o.jsx(lt,{children:o.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter(q=>q.status==="meeting").length})})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Offline"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"})]}),o.jsx(lt,{children:o.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:e.filter(q=>q.status==="inactive").length})})]})]}),o.jsxs(at,{children:[o.jsx(jt,{children:o.jsxs(Et,{children:["Team Members (",ae.length,")"]})}),o.jsx(lt,{children:s?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employees..."})]}):ae.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(na,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),o.jsx("p",{className:"text-muted-foreground",children:c||f!=="all"?"Try adjusting your search or filters.":"Add your first employee to get started."})]}):o.jsx("div",{className:"space-y-4",children:ae.map(q=>o.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"font-semibold text-lg",children:q.name}),o.jsx(Nt,{variant:"secondary",className:`text-xs ${z(q.status)}`,children:se(q.status)})]}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(ui,{className:"h-3 w-3 mr-2"}),q.email]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(di,{className:"h-3 w-3 mr-2"}),q.phone]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(Jn,{className:"h-3 w-3 mr-2"}),q.location.address]}),q.currentTask&&o.jsxs("p",{className:"text-primary font-medium",children:["Current Task: ",q.currentTask]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>O(q.phone),children:[o.jsx(di,{className:"h-3 w-3 mr-1"}),"Call"]}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>I(q.email,q.name),children:[o.jsx(ui,{className:"h-3 w-3 mr-1"}),"Email"]}),o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:`/tracking/${q.id}`,children:[o.jsx(ho,{className:"h-3 w-3 mr-1"}),"Track"]})}),o.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>Z(q),children:[o.jsx(Um,{className:"h-3 w-3 mr-1"}),"Edit"]}),o.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>M(q.id),className:"text-destructive hover:text-destructive",children:o.jsx(dw,{className:"h-3 w-3"})})]})]})},q.id))})})]})]}),o.jsx(Mr,{open:_,onOpenChange:b,children:o.jsxs(dr,{children:[o.jsxs(fr,{children:[o.jsx(hr,{children:"Edit Employee"}),o.jsx(mr,{children:"Update employee information."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"edit-name",children:"Name"}),o.jsx(dn,{id:"edit-name",value:P.name,onChange:q=>j({...P,name:q.target.value}),placeholder:"Enter full name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"edit-email",children:"Email"}),o.jsx(dn,{id:"edit-email",type:"email",value:P.email,onChange:q=>j({...P,email:q.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"edit-phone",children:"Phone"}),o.jsx(dn,{id:"edit-phone",type:"tel",value:P.phone,onChange:q=>j({...P,phone:q.target.value}),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Ot,{htmlFor:"edit-status",children:"Status"}),o.jsxs(ds,{value:P.status,onValueChange:q=>j({...P,status:q}),children:[o.jsx(Gr,{children:o.jsx(fs,{placeholder:"Select status"})}),o.jsxs(Yr,{children:[o.jsx(Gt,{value:"active",children:"Active"}),o.jsx(Gt,{value:"inactive",children:"Inactive"}),o.jsx(Gt,{value:"meeting",children:"In Meeting"})]})]})]})]}),o.jsxs(aa,{children:[o.jsx(Ce,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),o.jsx(Ce,{onClick:D,children:"Save Changes"})]})]})})]})}const cL=Qc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),qi=v.forwardRef(({className:e,variant:t,...s},a)=>o.jsx("div",{ref:a,role:"alert",className:ht(cL({variant:t}),e),...s}));qi.displayName="Alert";const uL=v.forwardRef(({className:e,...t},s)=>o.jsx("h5",{ref:s,className:ht("mb-1 font-medium leading-none tracking-tight",e),...t}));uL.displayName="AlertTitle";const Gi=v.forwardRef(({className:e,...t},s)=>o.jsx("div",{ref:s,className:ht("text-sm [&_p]:leading-relaxed",e),...t}));Gi.displayName="AlertDescription";function dL(){const[e,t]=v.useState(null),[s,a]=v.useState(!0),[c,d]=v.useState(!1),[f,p]=v.useState(null),[g,w]=v.useState(null),[_,b]=v.useState(!1),[N,T]=v.useState(!1);v.useEffect(()=>{P()},[]);const P=async()=>{try{a(!0),w(null);const M=await dt.get("/api/data-status");if(M.ok){const O=await M.json();t(O),console.log("Data status:",O)}else throw new Error(`Failed to fetch data status: ${M.status}`)}catch(M){console.error("Error fetching data status:",M),w(M.message)}finally{a(!1)}},j=async()=>{try{d(!0),p(null),w(null);const M=await dt.post("/api/data-sync",{});if(M.ok){const O=await M.json();p(O),console.log("Sync result:",O),await P()}else throw new Error(`Sync failed: ${M.status} ${M.statusText}`)}catch(M){console.error("Error syncing data:",M),w(M.message)}finally{d(!1)}},C=async()=>{try{b(!0),w(null),T(!1);const M=await dt.post("/api/employees/clear-cache",{});if(M.ok){const O=await M.json();T(!0),console.log("Location cache cleared:",O.message)}else throw new Error(`Cache clear failed: ${M.status} ${M.statusText}`)}catch(M){w(M instanceof Error?M.message:"Failed to clear location cache")}finally{b(!1)}},k=(M,O)=>M===0&&O>0?"text-yellow-600":M>0?"text-green-600":"text-gray-600",D=(M,O)=>M===0&&O>0?o.jsx(Tc,{className:"h-4 w-4 text-yellow-600"}):M>0?o.jsx(qr,{className:"h-4 w-4 text-green-600"}):o.jsx(Qv,{className:"h-4 w-4 text-gray-600"});return s?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(il,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading data status..."})]})})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Data Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Monitor and synchronize MongoDB data storage"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(Ce,{onClick:P,variant:"outline",disabled:s,children:[o.jsx(il,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(Ce,{onClick:j,disabled:c,className:"bg-primary hover:bg-primary/90",children:[o.jsx(Qv,{className:"h-4 w-4 mr-2"}),c?"Syncing...":"Sync Data"]}),o.jsxs(Ce,{onClick:C,disabled:_,variant:"outline",className:"border-orange-500 text-orange-600 hover:bg-orange-50",children:[o.jsx(il,{className:"h-4 w-4 mr-2"}),_?"Clearing...":"Clear Location Cache"]})]})]}),g&&o.jsxs(qi,{variant:"destructive",children:[o.jsx(Tc,{className:"h-4 w-4"}),o.jsx(Gi,{children:g})]}),f&&o.jsxs(qi,{className:"border-green-200 bg-green-50",children:[o.jsx(qr,{className:"h-4 w-4 text-green-600"}),o.jsxs(Gi,{className:"text-green-800",children:[o.jsx("strong",{children:f.message}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsxs("p",{children:[" Meetings in MongoDB: ",f.stats.totalMeetingsInMongoDB]}),o.jsxs("p",{children:[" History in MongoDB: ",f.stats.totalHistoryInMongoDB]}),o.jsxs("p",{children:[" Meetings synced: ",f.stats.meetingsSynced]}),o.jsxs("p",{children:[" History synced: ",f.stats.historySynced]})]})]})]}),N&&o.jsxs(qi,{className:"border-orange-200 bg-orange-50",children:[o.jsx(qr,{className:"h-4 w-4 text-orange-600"}),o.jsxs(Gi,{className:"text-orange-800",children:[o.jsx("strong",{children:"Location cache cleared successfully!"}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsx("p",{children:" All employees will now use real GPS location data"}),o.jsx("p",{children:" No more hardcoded cities (Delhi, Mumbai, etc.)"}),o.jsx("p",{children:" Refresh the employee list to see updated locations"})]})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"MongoDB Meetings"}),D(e.mongoDB.meetings,e.inMemory.meetings)]}),o.jsxs(lt,{children:[o.jsx("div",{className:`text-2xl font-bold ${k(e.mongoDB.meetings,e.inMemory.meetings)}`,children:e.mongoDB.meetings}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["In-memory: ",e.inMemory.meetings]})]})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Meeting History"}),o.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.mongoDB.history}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Historical records"})]})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Employees"}),o.jsx(na,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.mongoDB.employees}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Employee records"})]})]}),o.jsxs(at,{children:[o.jsxs(jt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium",children:"Tracking Sessions"}),o.jsx(Np,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(lt,{children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.mongoDB.trackingSessions}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Location sessions"})]})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(at,{children:[o.jsx(jt,{children:o.jsx(Et,{className:"text-lg",children:"Sample Meeting Data"})}),o.jsx(lt,{children:e.mongoDB.sampleMeeting?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleMeeting.id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),o.jsxs("span",{children:[e.mongoDB.sampleMeeting.employeeId.substring(0,8),"..."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Status:"}),o.jsx(Nt,{variant:"outline",children:e.mongoDB.sampleMeeting.status})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Lead ID:"}),o.jsx("span",{children:e.mongoDB.sampleMeeting.leadId||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Has Details:"}),o.jsx(Nt,{variant:e.mongoDB.sampleMeeting.hasDetails?"default":"secondary",children:e.mongoDB.sampleMeeting.hasDetails?"Yes":"No"})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No meeting data found"})})]}),o.jsxs(at,{children:[o.jsx(jt,{children:o.jsx(Et,{className:"text-lg",children:"Sample History Data"})}),o.jsx(lt,{children:e.mongoDB.sampleHistory?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleHistory.id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),o.jsxs("span",{children:[e.mongoDB.sampleHistory.employeeId.substring(0,8),"..."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Customers:"}),o.jsx(Nt,{variant:"outline",children:e.mongoDB.sampleHistory.hasCustomers?"Yes":"No"})]}),o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Discussion:"}),o.jsx("span",{className:"text-xs bg-muted p-2 rounded",children:e.mongoDB.sampleHistory.discussion||"No discussion"})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No history data found"})})]})]}),e&&o.jsxs(at,{children:[o.jsx(jt,{children:o.jsx(Et,{className:"text-lg",children:"Recommendations"})}),o.jsx(lt,{children:o.jsxs("div",{className:"space-y-3",children:[e.mongoDB.meetings===0&&e.inMemory.meetings>0&&o.jsxs(qi,{className:"border-yellow-200 bg-yellow-50",children:[o.jsx(Tc,{className:"h-4 w-4 text-yellow-600"}),o.jsxs(Gi,{className:"text-yellow-800",children:[o.jsx("strong",{children:"Data Sync Needed:"})," You have ",e.inMemory.meetings,' meetings in memory but none in MongoDB. Click "Sync Data" to fix this.']})]}),e.mongoDB.meetings>e.mongoDB.history&&o.jsxs(qi,{className:"border-blue-200 bg-blue-50",children:[o.jsx(Tc,{className:"h-4 w-4 text-blue-600"}),o.jsxs(Gi,{className:"text-blue-800",children:[o.jsx("strong",{children:"Missing History:"})," You have more meetings (",e.mongoDB.meetings,") than history entries (",e.mongoDB.history,"). Some meetings might not have been completed with proper details."]})]}),e.mongoDB.meetings>0&&e.mongoDB.history>0&&o.jsxs(qi,{className:"border-green-200 bg-green-50",children:[o.jsx(qr,{className:"h-4 w-4 text-green-600"}),o.jsxs(Gi,{className:"text-green-800",children:[o.jsx("strong",{children:"Data Looks Good:"})," Your MongoDB storage is working properly with ",e.mongoDB.meetings," meetings and ",e.mongoDB.history," history entries."]})]})]})})]})]})})}const lo=[{lat:28.6139,lng:77.209,address:"Connaught Place, New Delhi",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"Karol Bagh",timestamp:"2024-01-15T09:15:00.000Z"},{lat:28.6511,lng:77.241,address:"Civil Lines",timestamp:"2024-01-15T09:30:00.000Z"},{lat:28.6785,lng:77.2654,address:"GTB Nagar",timestamp:"2024-01-15T09:45:00.000Z"},{lat:28.7041,lng:77.1025,address:"Rohini",timestamp:"2024-01-15T10:00:00.000Z"},{lat:28.7342,lng:77.0822,address:"Sector 3 Rohini",timestamp:"2024-01-15T10:10:00.000Z"},{lat:28.7503,lng:77.0689,address:"Client Office, Rohini",timestamp:"2024-01-15T10:20:00.000Z"}],Pc=[{lat:28.6139,lng:77.209,address:"Start",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"End",timestamp:"2024-01-15T09:15:00.000Z"}];class Xb{constructor(){Ms(this,"results",[])}async runAllTests(){console.log(" Starting Route Tracking Comprehensive Tests"),console.log("=".repeat(60)),await this.testAPIConfiguration(),await this.testDistanceCalculations(),await this.testRouteProcessing(),await this.testRoutingAPIs(),await this.testGPSRouteCreation(),this.displayResults()}async testAPIConfiguration(){console.log(`
 Testing API Configuration...`);const t=Bp();b0(),console.log(`Current API: ${t.type} - ${t.description}`),console.log(`Has paid keys: ${t.hasKey}`),this.results.push({test:"API Configuration",status:" Pass",details:`Using ${t.type} API`,recommendation:t.hasKey?"Good to go!":"Consider upgrading to paid API for better reliability"})}async testDistanceCalculations(){console.log(`
 Testing Distance Calculations...`);const t=lo[0],s=lo[lo.length-1],a=this.calculateStraightLineDistance(t,s);console.log(`Straight-line distance: ${(a/1e3).toFixed(2)} km`);const c=Zr.createGPSRoute(lo);console.log(`GPS route distance: ${(c.distance/1e3).toFixed(2)} km`),console.log(`GPS route confidence: ${c.confidence}`);const d=c.distance>a&&c.distance<a*2;this.results.push({test:"Distance Calculations",status:d?" Pass":" Warning",details:`GPS: ${(c.distance/1e3).toFixed(2)}km, Straight: ${(a/1e3).toFixed(2)}km`,recommendation:d?"Distance calculations look correct":"GPS distance seems unrealistic"})}async testRouteProcessing(){console.log(`
 Testing Route Processing...`);const t=await Zr.getRouteForPoints(lo);console.log(`Processed route coordinates: ${t.coordinates.length}`),console.log(`Total distance: ${(t.totalDistance/1e3).toFixed(2)} km`),console.log(`Route source: ${t.source}`),console.log(`Route confidence: ${t.confidence}`);const s=t.totalDistance>0,a=t.coordinates.length>=2;this.results.push({test:"Route Processing",status:s&&a?" Pass":" Fail",details:`${t.coordinates.length} coords, ${(t.totalDistance/1e3).toFixed(2)}km`,recommendation:s?"Route processing working correctly":"Route processing needs fixing"})}async testRoutingAPIs(){console.log(`
 Testing Routing APIs...`);const t=Pc[0],s=Pc[1];try{const a=await Zr.getRoute(t,s);console.log(`API route source: ${a.source}`),console.log(`API route confidence: ${a.confidence}`),console.log(`API route distance: ${(a.distance/1e3).toFixed(2)} km`),console.log(`API route coordinates: ${a.coordinates.length}`);const c=a.coordinates.length>=2&&a.distance>0;this.results.push({test:"Routing APIs",status:c?" Pass":" Warning",details:`${a.source} source, ${a.confidence} confidence`,recommendation:a.source==="road-api"?"APIs working well":"APIs limited, consider paid service"})}catch(a){console.error("API routing failed:",a),this.results.push({test:"Routing APIs",status:" Fail",details:`Error: ${a.message}`,recommendation:"APIs not working, need paid service or fix"})}}async testGPSRouteCreation(){console.log(`
 Testing GPS Route Creation...`);const t=[{points:lo.slice(0,1),name:"Single point"},{points:lo.slice(0,2),name:"Two points"},{points:lo.slice(0,4),name:"Four points"},{points:lo,name:"Full route"}];for(const s of t){const a=Zr.createGPSRoute(s.points);console.log(`${s.name}: ${(a.distance/1e3).toFixed(2)}km, ${a.confidence} confidence`)}this.results.push({test:"GPS Route Creation",status:" Pass",details:"All point counts handled correctly",recommendation:"GPS route creation working properly"})}calculateStraightLineDistance(t,s){const c=t.lat*Math.PI/180,d=s.lat*Math.PI/180,f=(s.lat-t.lat)*Math.PI/180,p=(t.lng-s.lng)*Math.PI/180,g=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))}displayResults(){console.log(`
`+"=".repeat(60)),console.log(" TEST RESULTS SUMMARY"),console.log("=".repeat(60)),this.results.forEach((c,d)=>{console.log(`
${d+1}. ${c.test}`),console.log(`   Status: ${c.status}`),console.log(`   Details: ${c.details}`),console.log(`    ${c.recommendation}`)});const t=this.results.filter(c=>c.status.includes("")).length,s=this.results.filter(c=>c.status.includes("")).length,a=this.results.filter(c=>c.status.includes("")).length;console.log(`
`+"=".repeat(60)),console.log(` OVERALL RESULTS: ${t} Pass, ${s} Warning, ${a} Fail`),a>0?(console.log(`
 CRITICAL ISSUES FOUND - Route tracking may not work properly`),console.log("   Recommend using a paid API service for reliable routing")):s>0?(console.log(`
 SOME LIMITATIONS DETECTED - Route tracking working but could be improved`),console.log("   Consider upgrading to a paid API for better accuracy")):console.log(`
 ALL TESTS PASSED - Route tracking should work well!`),console.log(`
 API UPGRADE OPTIONS:`),console.log("    OpenRouteService: 2.99/month for 2000 requests/day"),console.log("    MapBox: Free 50k/month then pay-per-use"),console.log("    Google Maps: Enterprise-grade accuracy (requires billing)"),console.log(`
 TO ENABLE PAID APIs:`),console.log("   Add to your .env file:"),console.log("   VITE_OPENROUTESERVICE_API_KEY=your_key_here"),console.log("   VITE_MAPBOX_API_KEY=your_key_here"),console.log("   VITE_GOOGLE_MAPS_API_KEY=your_key_here")}async quickTest(){console.log(" Running Quick Route Tracking Test...");try{const t=Zr.createGPSRoute(Pc),s=t.distance>0,a=await Zr.getRoute(Pc[0],Pc[1]),c=a.coordinates.length>=2,d=s&&c;return console.log(` Quick test ${d?"PASSED":"FAILED"}`),console.log(`   GPS distance: ${(t.distance/1e3).toFixed(2)}km`),console.log(`   API source: ${a.source}, confidence: ${a.confidence}`),d}catch(t){return console.error(" Quick test FAILED:",t.message),!1}}}const fL=new Xb,hL=()=>fL.quickTest();function mL(){const[e,t]=v.useState(!1),[s,a]=v.useState(!1),[c,d]=v.useState(null),[f,p]=v.useState([]),g=Bp(),w=b0(),_=async()=>{t(!0),p([]);const N=console.log,T=[];console.log=(...P)=>{T.push(P.join(" ")),N(...P)};try{const P=await hL();d(P),p(T)}catch(P){d(!1),p([...T,`Error: ${P.message}`])}finally{console.log=N,t(!1)}},b=async()=>{a(!0),p([]);const N=console.log,T=[];console.log=(...P)=>{T.push(P.join(" ")),N(...P)};try{await new Xb().runAllTests(),p(T)}catch(P){p([...T,`Error: ${P.message}`])}finally{console.log=N,a(!1)}};return o.jsxs(at,{className:"w-full max-w-4xl mx-auto",children:[o.jsxs(jt,{children:[o.jsxs(Et,{className:"flex items-center gap-2",children:[o.jsx(uw,{className:"h-5 w-5"}),"Route Tracking Test Panel"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality after the fixes"})]}),o.jsxs(lt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(BS,{className:"h-4 w-4"}),"API Configuration"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Current API"}),o.jsx(Nt,{variant:g.hasKey?"default":"secondary",children:g.type.toUpperCase()})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"API Status"}),o.jsx(Nt,{variant:g.hasKey?"default":"destructive",children:g.hasKey?"Configured":"Free Tier"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:g.hasKey?"Using configured API key":"Using free public APIs (limited)"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx($S,{className:"h-4 w-4"}),"Run Tests"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{onClick:_,disabled:e,className:"w-full",variant:"outline",children:e?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Running..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jn,{className:"h-4 w-4"}),"Quick Test"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tests basic distance calculation and API routing (~30 seconds)"}),c!==null&&o.jsx("div",{className:"flex items-center gap-2 mt-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx(qr,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"text-sm text-green-700",children:"Test Passed"})]}):o.jsxs(o.Fragment,{children:[o.jsx(OS,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"text-sm text-red-700",children:"Test Failed"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ce,{onClick:b,disabled:s,className:"w-full",children:s?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Running..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ta,{className:"h-4 w-4"}),"Full Test Suite"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive testing of all route tracking features (~2 minutes)"})]})]})]}),f.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Test Output"}),o.jsx("div",{className:"p-4 bg-muted rounded-lg max-h-96 overflow-y-auto",children:o.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap",children:f.join(`
`)})})]}),!g.hasKey&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Tc,{className:"h-4 w-4"}),"Recommendations"]}),o.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[o.jsx("p",{className:"text-sm mb-3",children:"You're using free APIs which may be limited. For better reliability:"}),o.jsx("div",{className:"space-y-2",children:w.recommendations.filter(N=>N.recommended).map((N,T)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("strong",{children:[N.service,":"]})," ",N.freeLimit," free, ",N.paidOptions,o.jsx("br",{}),o.jsx("code",{className:"text-xs bg-gray-100 px-1 rounded",children:N.setup})]},T))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(cw,{className:"h-4 w-4"}),"Issues Fixed"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Distance Calculation"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Fixed 0 distance showing for 40km routes"}),o.jsx("li",{children:" Improved GPS point filtering (5m instead of 8m)"}),o.jsx("li",{children:" Better distance accumulation logic"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Route Visualization"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:' Fixed "Not enough points" error'}),o.jsx("li",{children:" Simplified route display logic"}),o.jsx("li",{children:" Better fallback for single GPS points"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" API Reliability"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Added timeout handling"}),o.jsx("li",{children:" Improved error handling"}),o.jsx("li",{children:" Better fallback strategies"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Performance"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Reduced API calls for long routes"}),o.jsx("li",{children:" Better caching strategies"}),o.jsx("li",{children:" More efficient GPS processing"})]})]})]})]})]})]})}function pL(){return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Os,{to:"/dashboard",children:[o.jsx(df,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Route Tracking Test"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsx(mL,{})})]})}const gL=()=>{const e=nu();return v.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};class Dc extends Error{}Dc.prototype.name="InvalidTokenError";function vL(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,s)=>{let a=s.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}function yL(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return vL(t)}catch{return atob(t)}}function xL(e,t){if(typeof e!="string")throw new Dc("Invalid token specified: must be a string");t||(t={});const s=t.header===!0?0:1,a=e.split(".")[s];if(typeof a!="string")throw new Dc(`Invalid token specified: missing part #${s+1}`);let c;try{c=yL(a)}catch(d){throw new Dc(`Invalid token specified: invalid base64 for part #${s+1} (${d.message})`)}try{return JSON.parse(c)}catch(d){throw new Dc(`Invalid token specified: invalid json for part #${s+1} (${d.message})`)}}const wL=()=>{console.log(" Testing GPS routing functionality...");const e=[{lat:40.7128,lng:-74.006,address:"Start Location",timestamp:"2024-01-01T10:00:00Z"},{lat:40.713,lng:-74.0058,address:"Point 1",timestamp:"2024-01-01T10:01:00Z"},{lat:40.7135,lng:-74.0055,address:"Point 2",timestamp:"2024-01-01T10:02:00Z"},{lat:40.714,lng:-74.005,address:"Point 3",timestamp:"2024-01-01T10:03:00Z"},{lat:40.7145,lng:-74.0045,address:"End Location",timestamp:"2024-01-01T10:04:00Z"}],t=Zr.createGPSRoute(e);console.log(" GPS Route Result:",{source:t.source,confidence:t.confidence,coordinateCount:t.coordinates.length,distance:`${(t.distance/1e3).toFixed(2)} km`,duration:`${Math.round(t.duration)} seconds`}),console.log(" Testing edge cases...");const s=Zr.createGPSRoute([]);console.log("Empty route:",s);const a=Zr.createGPSRoute([e[0]]);return console.log("Single point route:",a),t},_L=()=>{console.log(`
 ROUTING COMPARISON:

 GPS TRACKING (RECOMMENDED):
-  Shows EXACT path taken by employee
-  High accuracy with real GPS coordinates
-  No dependency on external APIs
-  Works offline
-  Captures actual employee behavior

 ROAD API ROUTING:
-  Shows theoretical road-based route
-  May not match actual employee path
-  Depends on external services (OSRM/ORS)
-  Can fail due to network/API issues
-  Limited accuracy for tracking purposes

 STRAIGHT LINE FALLBACK:
-  Shows direct line between points
-  Ignores roads, buildings, obstacles
-  Very poor accuracy for tracking
-  Only useful as last resort
-  Does not represent actual route
  `)};dt.init();window.addEventListener("unhandledrejection",e=>{var t;((t=e.reason)==null?void 0:t.name)==="AbortError"&&(console.warn("Caught unhandled AbortError:",e.reason.message),e.preventDefault()),e.reason instanceof TypeError&&(e.reason.message.includes("fetch")||e.reason.message.includes("Failed to fetch"))&&(console.warn("Caught FullStory fetch interference:",e.reason.message),dt.forceXHRMode(),e.preventDefault())});if(typeof window<"u"){const e=window.fetch.toString();(e.includes("eval")||e.includes("fullstory")||e.length<50||window.FS)&&console.warn("FullStory detected on page load - HttpClient will use XMLHttpRequest on fetch failures")}const bL=new uC({defaultOptions:{queries:{retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4)}}}),SL=()=>(v.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("token");if(t)try{const s=xL(t);localStorage.setItem("idToken",t),localStorage.setItem("user",JSON.stringify(s)),console.log("Authenticated user:",s),window.history.replaceState({},document.title,window.location.pathname)}catch(s){console.error("Invalid token:",s)}console.log(" Initializing GPS routing system..."),wL(),_L()},[]),o.jsx(fC,{client:bL,children:o.jsxs(UE,{children:[o.jsx(EN,{}),o.jsx(rj,{}),o.jsx(uP,{children:o.jsxs(rP,{children:[o.jsx(ti,{path:"/",element:o.jsx(wM,{})}),o.jsx(ti,{path:"/dashboard",element:o.jsx(SM,{})}),o.jsx(ti,{path:"/tracking/:employeeId",element:o.jsx(aL,{})}),o.jsx(ti,{path:"/team-management",element:o.jsx(lL,{})}),o.jsx(ti,{path:"/data-management",element:o.jsx(dL,{})}),o.jsx(ti,{path:"/route-test",element:o.jsx(pL,{})}),o.jsx(ti,{path:"*",element:o.jsx(gL,{})})]})})]})}));PN.createRoot(document.getElementById("root")).render(o.jsx(SL,{}));
