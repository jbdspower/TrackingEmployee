var q1=Object.defineProperty;var zv=e=>{throw TypeError(e)};var Z1=(e,t,r)=>t in e?q1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var $s=(e,t,r)=>Z1(e,typeof t!="symbol"?t+"":t,r),am=(e,t,r)=>t.has(e)||zv("Cannot "+r);var Ce=(e,t,r)=>(am(e,t,"read from private field"),r?r.call(e):t.get(e)),nn=(e,t,r)=>t.has(e)?zv("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Bt=(e,t,r,a)=>(am(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),Qn=(e,t,r)=>(am(e,t,"access private method"),r);var jd=(e,t,r,a)=>({set _(c){Bt(e,t,c,r)},get _(){return Ce(e,t,a)}});function G1(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const c in a)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(a,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>a[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();function wp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lm={exports:{}},Tc={},cm={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function Y1(){if(Bv)return Ht;Bv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function S(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function C(F,Q,Se){this.props=F,this.context=Q,this.refs=j,this.updater=Se||k}C.prototype.isReactComponent={},C.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},C.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function T(){}T.prototype=C.prototype;function D(F,Q,Se){this.props=F,this.context=Q,this.refs=j,this.updater=Se||k}var M=D.prototype=new T;M.constructor=D,P(M,C.prototype),M.isPureReactComponent=!0;var I=Array.isArray,O=Object.prototype.hasOwnProperty,q={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function te(F,Q,Se){var Te,je={},$=null,K=null;if(Q!=null)for(Te in Q.ref!==void 0&&(K=Q.ref),Q.key!==void 0&&($=""+Q.key),Q)O.call(Q,Te)&&!H.hasOwnProperty(Te)&&(je[Te]=Q[Te]);var le=arguments.length-2;if(le===1)je.children=Se;else if(1<le){for(var _e=Array(le),ke=0;ke<le;ke++)_e[ke]=arguments[ke+2];je.children=_e}if(F&&F.defaultProps)for(Te in le=F.defaultProps,le)je[Te]===void 0&&(je[Te]=le[Te]);return{$$typeof:e,type:F,key:$,ref:K,props:je,_owner:q.current}}function V(F,Q){return{$$typeof:e,type:F.type,key:Q,ref:F.ref,props:F.props,_owner:F._owner}}function Y(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function ee(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Se){return Q[Se]})}var he=/\/+/g;function De(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?ee(""+F.key):Q.toString(36)}function de(F,Q,Se,Te,je){var $=typeof F;($==="undefined"||$==="boolean")&&(F=null);var K=!1;if(F===null)K=!0;else switch($){case"string":case"number":K=!0;break;case"object":switch(F.$$typeof){case e:case t:K=!0}}if(K)return K=F,je=je(K),F=Te===""?"."+De(K,0):Te,I(je)?(Se="",F!=null&&(Se=F.replace(he,"$&/")+"/"),de(je,Q,Se,"",function(ke){return ke})):je!=null&&(Y(je)&&(je=V(je,Se+(!je.key||K&&K.key===je.key?"":(""+je.key).replace(he,"$&/")+"/")+F)),Q.push(je)),1;if(K=0,Te=Te===""?".":Te+":",I(F))for(var le=0;le<F.length;le++){$=F[le];var _e=Te+De($,le);K+=de($,Q,Se,_e,je)}else if(_e=S(F),typeof _e=="function")for(F=_e.call(F),le=0;!($=F.next()).done;)$=$.value,_e=Te+De($,le++),K+=de($,Q,Se,_e,je);else if($==="object")throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return K}function $e(F,Q,Se){if(F==null)return F;var Te=[],je=0;return de(F,Te,"","",function($){return Q.call(Se,$,je++)}),Te}function J(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(Se){(F._status===0||F._status===-1)&&(F._status=1,F._result=Se)},function(Se){(F._status===0||F._status===-1)&&(F._status=2,F._result=Se)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var xe={current:null},U={transition:null},fe={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:U,ReactCurrentOwner:q};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:$e,forEach:function(F,Q,Se){$e(F,function(){Q.apply(this,arguments)},Se)},count:function(F){var Q=0;return $e(F,function(){Q++}),Q},toArray:function(F){return $e(F,function(Q){return Q})||[]},only:function(F){if(!Y(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ht.Component=C,Ht.Fragment=r,Ht.Profiler=c,Ht.PureComponent=D,Ht.StrictMode=a,Ht.Suspense=v,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ht.act=oe,Ht.cloneElement=function(F,Q,Se){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Te=P({},F.props),je=F.key,$=F.ref,K=F._owner;if(Q!=null){if(Q.ref!==void 0&&($=Q.ref,K=q.current),Q.key!==void 0&&(je=""+Q.key),F.type&&F.type.defaultProps)var le=F.type.defaultProps;for(_e in Q)O.call(Q,_e)&&!H.hasOwnProperty(_e)&&(Te[_e]=Q[_e]===void 0&&le!==void 0?le[_e]:Q[_e])}var _e=arguments.length-2;if(_e===1)Te.children=Se;else if(1<_e){le=Array(_e);for(var ke=0;ke<_e;ke++)le[ke]=arguments[ke+2];Te.children=le}return{$$typeof:e,type:F.type,key:je,ref:$,props:Te,_owner:K}},Ht.createContext=function(F){return F={$$typeof:f,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:d,_context:F},F.Consumer=F},Ht.createElement=te,Ht.createFactory=function(F){var Q=te.bind(null,F);return Q.type=F,Q},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(F){return{$$typeof:p,render:F}},Ht.isValidElement=Y,Ht.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:J}},Ht.memo=function(F,Q){return{$$typeof:x,type:F,compare:Q===void 0?null:Q}},Ht.startTransition=function(F){var Q=U.transition;U.transition={};try{F()}finally{U.transition=Q}},Ht.unstable_act=oe,Ht.useCallback=function(F,Q){return xe.current.useCallback(F,Q)},Ht.useContext=function(F){return xe.current.useContext(F)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(F){return xe.current.useDeferredValue(F)},Ht.useEffect=function(F,Q){return xe.current.useEffect(F,Q)},Ht.useId=function(){return xe.current.useId()},Ht.useImperativeHandle=function(F,Q,Se){return xe.current.useImperativeHandle(F,Q,Se)},Ht.useInsertionEffect=function(F,Q){return xe.current.useInsertionEffect(F,Q)},Ht.useLayoutEffect=function(F,Q){return xe.current.useLayoutEffect(F,Q)},Ht.useMemo=function(F,Q){return xe.current.useMemo(F,Q)},Ht.useReducer=function(F,Q,Se){return xe.current.useReducer(F,Q,Se)},Ht.useRef=function(F){return xe.current.useRef(F)},Ht.useState=function(F){return xe.current.useState(F)},Ht.useSyncExternalStore=function(F,Q,Se){return xe.current.useSyncExternalStore(F,Q,Se)},Ht.useTransition=function(){return xe.current.useTransition()},Ht.version="18.3.1",Ht}var Uv;function _p(){return Uv||(Uv=1,cm.exports=Y1()),cm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function K1(){if(Hv)return Tc;Hv=1;var e=_p(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,v,x){var _,b={},S=null,k=null;x!==void 0&&(S=""+x),v.key!==void 0&&(S=""+v.key),v.ref!==void 0&&(k=v.ref);for(_ in v)a.call(v,_)&&!d.hasOwnProperty(_)&&(b[_]=v[_]);if(p&&p.defaultProps)for(_ in v=p.defaultProps,v)b[_]===void 0&&(b[_]=v[_]);return{$$typeof:t,type:p,key:S,ref:k,props:b,_owner:c.current}}return Tc.Fragment=r,Tc.jsx=f,Tc.jsxs=f,Tc}var Wv;function X1(){return Wv||(Wv=1,lm.exports=K1()),lm.exports}var o=X1(),g=_p();const Ue=wp(g),Ty=G1({__proto__:null,default:Ue},[g]),Q1=1,J1=1e6;let um=0;function eN(){return um=(um+1)%Number.MAX_SAFE_INTEGER,um.toString()}const dm=new Map,Vv=e=>{if(dm.has(e))return;const t=setTimeout(()=>{dm.delete(e),Bc({type:"REMOVE_TOAST",toastId:e})},J1);dm.set(e,t)},tN=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Q1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Vv(r):e.toasts.forEach(a=>{Vv(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Bd=[];let Ud={toasts:[]};function Bc(e){Ud=tN(Ud,e),Bd.forEach(t=>{t(Ud)})}function es({...e}){const t=eN(),r=c=>Bc({type:"UPDATE_TOAST",toast:{...c,id:t}}),a=()=>Bc({type:"DISMISS_TOAST",toastId:t});return Bc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:c=>{c||a()}}}),{id:t,dismiss:a,update:r}}function bo(){const[e,t]=g.useState(Ud);return g.useEffect(()=>(Bd.push(t),()=>{const r=Bd.indexOf(t);r>-1&&Bd.splice(r,1)}),[e]),{...e,toast:es,dismiss:r=>Bc({type:"DISMISS_TOAST",toastId:r})}}var fm={exports:{}},wr={},hm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function nN(){return qv||(qv=1,function(e){function t(U,fe){var oe=U.length;U.push(fe);e:for(;0<oe;){var F=oe-1>>>1,Q=U[F];if(0<c(Q,fe))U[F]=fe,U[oe]=Q,oe=F;else break e}}function r(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var fe=U[0],oe=U.pop();if(oe!==fe){U[0]=oe;e:for(var F=0,Q=U.length,Se=Q>>>1;F<Se;){var Te=2*(F+1)-1,je=U[Te],$=Te+1,K=U[$];if(0>c(je,oe))$<Q&&0>c(K,je)?(U[F]=K,U[$]=oe,F=$):(U[F]=je,U[Te]=oe,F=Te);else if($<Q&&0>c(K,oe))U[F]=K,U[$]=oe,F=$;else break e}}return fe}function c(U,fe){var oe=U.sortIndex-fe.sortIndex;return oe!==0?oe:U.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var v=[],x=[],_=1,b=null,S=3,k=!1,P=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(U){for(var fe=r(x);fe!==null;){if(fe.callback===null)a(x);else if(fe.startTime<=U)a(x),fe.sortIndex=fe.expirationTime,t(v,fe);else break;fe=r(x)}}function I(U){if(j=!1,M(U),!P)if(r(v)!==null)P=!0,J(O);else{var fe=r(x);fe!==null&&xe(I,fe.startTime-U)}}function O(U,fe){P=!1,j&&(j=!1,T(te),te=-1),k=!0;var oe=S;try{for(M(fe),b=r(v);b!==null&&(!(b.expirationTime>fe)||U&&!ee());){var F=b.callback;if(typeof F=="function"){b.callback=null,S=b.priorityLevel;var Q=F(b.expirationTime<=fe);fe=e.unstable_now(),typeof Q=="function"?b.callback=Q:b===r(v)&&a(v),M(fe)}else a(v);b=r(v)}if(b!==null)var Se=!0;else{var Te=r(x);Te!==null&&xe(I,Te.startTime-fe),Se=!1}return Se}finally{b=null,S=oe,k=!1}}var q=!1,H=null,te=-1,V=5,Y=-1;function ee(){return!(e.unstable_now()-Y<V)}function he(){if(H!==null){var U=e.unstable_now();Y=U;var fe=!0;try{fe=H(!0,U)}finally{fe?De():(q=!1,H=null)}}else q=!1}var De;if(typeof D=="function")De=function(){D(he)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,$e=de.port2;de.port1.onmessage=he,De=function(){$e.postMessage(null)}}else De=function(){C(he,0)};function J(U){H=U,q||(q=!0,De())}function xe(U,fe){te=C(function(){U(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){P||k||(P=!0,J(O))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return r(v)},e.unstable_next=function(U){switch(S){case 1:case 2:case 3:var fe=3;break;default:fe=S}var oe=S;S=fe;try{return U()}finally{S=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,fe){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var oe=S;S=U;try{return fe()}finally{S=oe}},e.unstable_scheduleCallback=function(U,fe,oe){var F=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?F+oe:F):oe=F,U){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=oe+Q,U={id:_++,callback:fe,priorityLevel:U,startTime:oe,expirationTime:Q,sortIndex:-1},oe>F?(U.sortIndex=oe,t(x,U),r(v)===null&&U===r(x)&&(j?(T(te),te=-1):j=!0,xe(I,oe-F))):(U.sortIndex=Q,t(v,U),P||k||(P=!0,J(O))),U},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(U){var fe=S;return function(){var oe=S;S=fe;try{return U.apply(this,arguments)}finally{S=oe}}}}(mm)),mm}var Zv;function rN(){return Zv||(Zv=1,hm.exports=nN()),hm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function sN(){if(Gv)return wr;Gv=1;var e=_p(),t=rN();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,c={};function d(n,i){f(n,i),f(n+"Capture",i)}function f(n,i){for(c[n]=i,n=0;n<i.length;n++)a.add(i[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},b={};function S(n){return v.call(b,n)?!0:v.call(_,n)?!1:x.test(n)?b[n]=!0:(_[n]=!0,!1)}function k(n,i,u,m){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function P(n,i,u,m){if(i===null||typeof i>"u"||k(n,i,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(n,i,u,m,w,N,R){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=w,this.mustUseProperty=u,this.propertyName=n,this.type=i,this.sanitizeURL=N,this.removeEmptyString=R}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new j(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];C[i]=new j(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new j(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new j(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new j(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new j(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new j(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new j(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new j(n,5,!1,n.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function D(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(T,D);C[i]=new j(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(T,D);C[i]=new j(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(T,D);C[i]=new j(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new j(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new j(n,1,!1,n.toLowerCase(),null,!0,!0)});function M(n,i,u,m){var w=C.hasOwnProperty(i)?C[i]:null;(w!==null?w.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,u,w,m)&&(u=null),m||w===null?S(i)&&(u===null?n.removeAttribute(i):n.setAttribute(i,""+u)):w.mustUseProperty?n[w.propertyName]=u===null?w.type===3?!1:"":u:(i=w.attributeName,m=w.attributeNamespace,u===null?n.removeAttribute(i):(w=w.type,u=w===3||w===4&&u===!0?"":""+u,m?n.setAttributeNS(m,i,u):n.setAttribute(i,u))))}var I=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),q=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),ee=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),De=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),U=Symbol.iterator;function fe(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,F;function Q(n){if(F===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+n}var Se=!1;function Te(n,i){if(!n||Se)return"";Se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ue){var m=ue}Reflect.construct(n,[],i)}else{try{i.call()}catch(ue){m=ue}n.call(i.prototype)}else{try{throw Error()}catch(ue){m=ue}n()}}catch(ue){if(ue&&m&&typeof ue.stack=="string"){for(var w=ue.stack.split(`
`),N=m.stack.split(`
`),R=w.length-1,B=N.length-1;1<=R&&0<=B&&w[R]!==N[B];)B--;for(;1<=R&&0<=B;R--,B--)if(w[R]!==N[B]){if(R!==1||B!==1)do if(R--,B--,0>B||w[R]!==N[B]){var G=`
`+w[R].replace(" at new "," at ");return n.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",n.displayName)),G}while(1<=R&&0<=B);break}}}finally{Se=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?Q(n):""}function je(n){switch(n.tag){case 5:return Q(n.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return n=Te(n.type,!1),n;case 11:return n=Te(n.type.render,!1),n;case 1:return n=Te(n.type,!0),n;default:return""}}function $(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case q:return"Portal";case V:return"Profiler";case te:return"StrictMode";case De:return"Suspense";case de:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ee:return(n.displayName||"Context")+".Consumer";case Y:return(n._context.displayName||"Context")+".Provider";case he:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $e:return i=n.displayName||null,i!==null?i:$(n.type)||"Memo";case J:i=n._payload,n=n._init;try{return $(n(i))}catch{}}return null}function K(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(i);case 8:return i===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function le(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _e(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ke(n){var i=_e(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),m=""+n[i];if(!n.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,N=u.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return w.call(this)},set:function(R){m=""+R,N.call(this,R)}}),Object.defineProperty(n,i,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ze(n){n._valueTracker||(n._valueTracker=ke(n))}function We(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var u=i.getValue(),m="";return n&&(m=_e(n)?n.checked?"true":"false":n.value),n=m,n!==u?(i.setValue(n),!0):!1}function it(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Tt(n,i){var u=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function ye(n,i){var u=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;u=le(i.value!=null?i.value:u),n._wrapperState={initialChecked:m,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ye(n,i){i=i.checked,i!=null&&M(n,"checked",i,!1)}function Z(n,i){Ye(n,i);var u=le(i.value),m=i.type;if(u!=null)m==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?be(n,i.type,u):i.hasOwnProperty("defaultValue")&&be(n,i.type,le(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function me(n,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,u||i===n.value||(n.value=i),n.defaultValue=i}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function be(n,i,u){(i!=="number"||it(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var ge=Array.isArray;function Ze(n,i,u,m){if(n=n.options,i){i={};for(var w=0;w<u.length;w++)i["$"+u[w]]=!0;for(u=0;u<n.length;u++)w=i.hasOwnProperty("$"+n[u].value),n[u].selected!==w&&(n[u].selected=w),w&&m&&(n[u].defaultSelected=!0)}else{for(u=""+le(u),i=null,w=0;w<n.length;w++){if(n[w].value===u){n[w].selected=!0,m&&(n[w].defaultSelected=!0);return}i!==null||n[w].disabled||(i=n[w])}i!==null&&(i.selected=!0)}}function rt(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function at(n,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(r(92));if(ge(u)){if(1<u.length)throw Error(r(93));u=u[0]}i=u}i==null&&(i=""),u=i}n._wrapperState={initialValue:le(u)}}function on(n,i){var u=le(i.value),m=le(i.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),i.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),m!=null&&(n.defaultValue=""+m)}function Ut(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function Dt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yt(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?Dt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var en,zt=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,m,w){MSApp.execUnsafeLocalFunction(function(){return n(i,u,m,w)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(en=en||document.createElement("div"),en.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=en.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function bt(n,i){if(i){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=i;return}}n.textContent=i}var Qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kn=["Webkit","ms","Moz","O"];Object.keys(Qe).forEach(function(n){kn.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Qe[i]=Qe[n]})});function dn(n,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||Qe.hasOwnProperty(n)&&Qe[n]?(""+i).trim():i+"px"}function It(n,i){n=n.style;for(var u in i)if(i.hasOwnProperty(u)){var m=u.indexOf("--")===0,w=dn(u,i[u],m);u==="float"&&(u="cssFloat"),m?n.setProperty(u,w):n[u]=w}}var Kt=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(n,i){if(i){if(Kt[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function Zt(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function Ne(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Oe=null,qe=null,z=null;function ae(n){if(n=oo(n)){if(typeof Oe!="function")throw Error(r(280));var i=n.stateNode;i&&(i=Wa(i),Oe(n.stateNode,n.type,i))}}function re(n){qe?z?z.push(n):z=[n]:qe=n}function we(){if(qe){var n=qe,i=z;if(z=qe=null,ae(n),i)for(n=0;n<i.length;n++)ae(i[n])}}function Re(n,i){return n(i)}function Ie(){}var Be=!1;function ft(n,i,u){if(Be)return n(i,u);Be=!0;try{return Re(n,i,u)}finally{Be=!1,(qe!==null||z!==null)&&(Ie(),we())}}function Ve(n,i){var u=n.stateNode;if(u===null)return null;var m=Wa(u);if(m===null)return null;u=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(r(231,i,typeof u));return u}var He=!1;if(p)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){He=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{He=!1}function st(n,i,u,m,w,N,R,B,G){var ue=Array.prototype.slice.call(arguments,3);try{i.apply(u,ue)}catch(Le){this.onError(Le)}}var xt=!1,Ke=null,St=!1,jt=null,Mt={onError:function(n){xt=!0,Ke=n}};function Qt(n,i,u,m,w,N,R,B,G){xt=!1,Ke=null,st.apply(Mt,arguments)}function Ei(n,i,u,m,w,N,R,B,G){if(Qt.apply(this,arguments),xt){if(xt){var ue=Ke;xt=!1,Ke=null}else throw Error(r(198));St||(St=!0,jt=ue)}}function Cs(n){var i=n,u=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(u=i.return),n=i.return;while(n)}return i.tag===3?u:null}function Gs(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Bl(n){if(Cs(n)!==n)throw Error(r(188))}function $f(n){var i=n.alternate;if(!i){if(i=Cs(n),i===null)throw Error(r(188));return i!==n?null:n}for(var u=n,m=i;;){var w=u.return;if(w===null)break;var N=w.alternate;if(N===null){if(m=w.return,m!==null){u=m;continue}break}if(w.child===N.child){for(N=w.child;N;){if(N===u)return Bl(w),n;if(N===m)return Bl(w),i;N=N.sibling}throw Error(r(188))}if(u.return!==m.return)u=w,m=N;else{for(var R=!1,B=w.child;B;){if(B===u){R=!0,u=w,m=N;break}if(B===m){R=!0,m=w,u=N;break}B=B.sibling}if(!R){for(B=N.child;B;){if(B===u){R=!0,u=N,m=w;break}if(B===m){R=!0,m=N,u=w;break}B=B.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==m)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?n:i}function mu(n){return n=$f(n),n!==null?pu(n):null}function pu(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=pu(n);if(i!==null)return i;n=n.sibling}return null}var gu=t.unstable_scheduleCallback,Ul=t.unstable_cancelCallback,zf=t.unstable_shouldYield,wa=t.unstable_requestPaint,yn=t.unstable_now,Bf=t.unstable_getCurrentPriorityLevel,Hl=t.unstable_ImmediatePriority,vu=t.unstable_UserBlockingPriority,_a=t.unstable_NormalPriority,Wl=t.unstable_LowPriority,No=t.unstable_IdlePriority,Ci=null,Er=null;function Pi(n){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Ci,n,void 0,(n.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:So,fn=Math.log,ba=Math.LN2;function So(n){return n>>>=0,n===0?32:31-(fn(n)/ba|0)|0}var ls=64,jo=4194304;function Ct(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function cn(n,i){var u=n.pendingLanes;if(u===0)return 0;var m=0,w=n.suspendedLanes,N=n.pingedLanes,R=u&268435455;if(R!==0){var B=R&~w;B!==0?m=Ct(B):(N&=R,N!==0&&(m=Ct(N)))}else R=u&~w,R!==0?m=Ct(R):N!==0&&(m=Ct(N));if(m===0)return 0;if(i!==0&&i!==m&&(i&w)===0&&(w=m&-m,N=i&-i,w>=N||w===16&&(N&4194240)!==0))return i;if((m&4)!==0&&(m|=u&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=m;0<i;)u=31-kt(i),w=1<<u,m|=n[u],i&=~w;return m}function Vl(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Na(n,i){for(var u=n.suspendedLanes,m=n.pingedLanes,w=n.expirationTimes,N=n.pendingLanes;0<N;){var R=31-kt(N),B=1<<R,G=w[R];G===-1?((B&u)===0||(B&m)!==0)&&(w[R]=Vl(B,i)):G<=i&&(n.expiredLanes|=B),N&=~B}}function Vn(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function xu(){var n=ls;return ls<<=1,(ls&4194240)===0&&(ls=64),n}function Eo(n){for(var i=[],u=0;31>u;u++)i.push(n);return i}function Cr(n,i,u){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-kt(i),n[i]=u}function jn(n,i){var u=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<u;){var w=31-kt(u),N=1<<w;i[w]=0,m[w]=-1,n[w]=-1,u&=~N}}function cs(n,i){var u=n.entangledLanes|=i;for(n=n.entanglements;u;){var m=31-kt(u),w=1<<m;w&i|n[m]&i&&(n[m]|=i),u&=~w}}var Gt=0;function Co(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Sa,Ys,ja,Ea,Ti,ki=!1,Po=[],Pr=null,us=null,Ur=null,Mi=new Map,Nt=new Map,Dn=[],an="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(n,i){switch(n){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Mi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(i.pointerId)}}function Ks(n,i,u,m,w,N){return n===null||n.nativeEvent!==N?(n={blockedOn:i,domEventName:u,eventSystemFlags:m,nativeEvent:N,targetContainers:[w]},i!==null&&(i=oo(i),i!==null&&Ys(i)),n):(n.eventSystemFlags|=m,i=n.targetContainers,w!==null&&i.indexOf(w)===-1&&i.push(w),n)}function Zl(n,i,u,m,w){switch(i){case"focusin":return Pr=Ks(Pr,n,i,u,m,w),!0;case"dragenter":return us=Ks(us,n,i,u,m,w),!0;case"mouseover":return Ur=Ks(Ur,n,i,u,m,w),!0;case"pointerover":var N=w.pointerId;return Mi.set(N,Ks(Mi.get(N)||null,n,i,u,m,w)),!0;case"gotpointercapture":return N=w.pointerId,Nt.set(N,Ks(Nt.get(N)||null,n,i,u,m,w)),!0}return!1}function Ca(n){var i=so(n.target);if(i!==null){var u=Cs(i);if(u!==null){if(i=u.tag,i===13){if(i=Gs(u),i!==null){n.blockedOn=i,Ti(n.priority,function(){ja(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hr(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var u=ka(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var m=new u.constructor(u.type,u);ve=m,u.target.dispatchEvent(m),ve=null}else return i=oo(u),i!==null&&Ys(i),n.blockedOn=u,!1;i.shift()}return!0}function Pa(n,i,u){Hr(n)&&u.delete(i)}function Ri(){ki=!1,Pr!==null&&Hr(Pr)&&(Pr=null),us!==null&&Hr(us)&&(us=null),Ur!==null&&Hr(Ur)&&(Ur=null),Mi.forEach(Pa),Nt.forEach(Pa)}function wn(n,i){n.blockedOn===i&&(n.blockedOn=null,ki||(ki=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ri)))}function Tr(n){function i(w){return wn(w,n)}if(0<Po.length){wn(Po[0],n);for(var u=1;u<Po.length;u++){var m=Po[u];m.blockedOn===n&&(m.blockedOn=null)}}for(Pr!==null&&wn(Pr,n),us!==null&&wn(us,n),Ur!==null&&wn(Ur,n),Mi.forEach(i),Nt.forEach(i),u=0;u<Dn.length;u++)m=Dn[u],m.blockedOn===n&&(m.blockedOn=null);for(;0<Dn.length&&(u=Dn[0],u.blockedOn===null);)Ca(u),u.blockedOn===null&&Dn.shift()}var Xs=I.ReactCurrentBatchConfig,Li=!0;function Uf(n,i,u,m){var w=Gt,N=Xs.transition;Xs.transition=null;try{Gt=1,Ai(n,i,u,m)}finally{Gt=w,Xs.transition=N}}function yu(n,i,u,m){var w=Gt,N=Xs.transition;Xs.transition=null;try{Gt=4,Ai(n,i,u,m)}finally{Gt=w,Xs.transition=N}}function Ai(n,i,u,m){if(Li){var w=ka(n,i,u,m);if(w===null)s(n,i,m,Ta,u),ql(n,m);else if(Zl(w,n,i,u,m))m.stopPropagation();else if(ql(n,m),i&4&&-1<an.indexOf(n)){for(;w!==null;){var N=oo(w);if(N!==null&&Sa(N),N=ka(n,i,u,m),N===null&&s(n,i,m,Ta,u),N===w)break;w=N}w!==null&&m.stopPropagation()}else s(n,i,m,null,u)}}var Ta=null;function ka(n,i,u,m){if(Ta=null,n=Ne(m),n=so(n),n!==null)if(i=Cs(n),i===null)n=null;else if(u=i.tag,u===13){if(n=Gs(i),n!==null)return n;n=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Ta=n,null}function qt(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bf()){case Hl:return 1;case vu:return 4;case _a:case Wl:return 16;case No:return 536870912;default:return 16}default:return 16}}var Ps=null,nr=null,Ts=null;function Gl(){if(Ts)return Ts;var n,i=nr,u=i.length,m,w="value"in Ps?Ps.value:Ps.textContent,N=w.length;for(n=0;n<u&&i[n]===w[n];n++);var R=u-n;for(m=1;m<=R&&i[u-m]===w[N-m];m++);return Ts=w.slice(n,1<m?1-m:void 0)}function Ma(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function To(){return!0}function wu(){return!1}function qn(n){function i(u,m,w,N,R){this._reactName=u,this._targetInst=w,this.type=m,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var B in n)n.hasOwnProperty(B)&&(u=n[B],this[B]=u?u(N):N[B]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?To:wu,this.isPropagationStopped=wu,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),i}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=qn(ko),Qs=oe({},ko,{view:0,detail:0}),Hf=qn(Qs),hr,Kl,Mo,kr=oe({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Mo&&(Mo&&n.type==="mousemove"?(hr=n.screenX-Mo.screenX,Kl=n.screenY-Mo.screenY):Kl=hr=0,Mo=n),hr)},movementY:function(n){return"movementY"in n?n.movementY:Kl}}),Xl=qn(kr),_u=oe({},kr,{dataTransfer:0}),Ql=qn(_u),Wf=oe({},Qs,{relatedTarget:0}),Ra=qn(Wf),bu=oe({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),Vf=qn(bu),qf=oe({},ko,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Jl=qn(qf),Zf=oe({},ko,{data:0}),ec=qn(Zf),Nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},La={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Js={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gf(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Js[n])?!!i[n]:!1}function eo(){return Gf}var mr=oe({},Qs,{key:function(n){if(n.key){var i=Nu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Ma(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?La[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eo,charCode:function(n){return n.type==="keypress"?Ma(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ma(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Su=qn(mr),ju=oe({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eu=qn(ju),tc=oe({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eo}),nc=qn(tc),Yf=oe({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kf=qn(Yf),Cu=oe({},kr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Xf=qn(Cu),Mr=[9,13,27,32],ks=p&&"CompositionEvent"in window,Di=null;p&&"documentMode"in document&&(Di=document.documentMode);var ds=p&&"TextEvent"in window&&!Di,Pu=p&&(!ks||Di&&8<Di&&11>=Di),to=" ",Tu=!1;function Ro(n,i){switch(n){case"keyup":return Mr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rc(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var fs=!1;function Qf(n,i){switch(n){case"compositionend":return rc(i);case"keypress":return i.which!==32?null:(Tu=!0,to);case"textInput":return n=i.data,n===to&&Tu?null:n;default:return null}}function Ms(n,i){if(fs)return n==="compositionend"||!ks&&Ro(n,i)?(n=Gl(),Ts=nr=Ps=null,fs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Pu&&i.locale!=="ko"?null:i.data;default:return null}}var Aa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ku(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Aa[n.type]:i==="textarea"}function Da(n,i,u,m){re(m),i=h(i,"onChange"),0<i.length&&(u=new Yl("onChange","change",null,u,m),n.push({event:u,listeners:i}))}var Ii=null,rr=null;function Jf(n){fc(n,0)}function hs(n){var i=io(n);if(We(i))return n}function eh(n,i){if(n==="change")return i}var Wr=!1;if(p){var Lo;if(p){var Ia="oninput"in document;if(!Ia){var Oa=document.createElement("div");Oa.setAttribute("oninput","return;"),Ia=typeof Oa.oninput=="function"}Lo=Ia}else Lo=!1;Wr=Lo&&(!document.documentMode||9<document.documentMode)}function Oi(){Ii&&(Ii.detachEvent("onpropertychange",Fa),rr=Ii=null)}function Fa(n){if(n.propertyName==="value"&&hs(rr)){var i=[];Da(i,rr,n,Ne(n)),ft(Jf,i)}}function $a(n,i,u){n==="focusin"?(Oi(),Ii=i,rr=u,Ii.attachEvent("onpropertychange",Fa)):n==="focusout"&&Oi()}function Ao(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return hs(rr)}function za(n,i){if(n==="click")return hs(i)}function sc(n,i){if(n==="input"||n==="change")return hs(i)}function Mu(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Rr=typeof Object.is=="function"?Object.is:Mu;function Rs(n,i){if(Rr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var u=Object.keys(n),m=Object.keys(i);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var w=u[m];if(!v.call(i,w)||!Rr(n[w],i[w]))return!1}return!0}function Ru(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oc(n,i){var u=Ru(n);n=0;for(var m;u;){if(u.nodeType===3){if(m=n+u.textContent.length,n<=i&&m>=i)return{node:u,offset:i-n};n=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ru(u)}}function Lu(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Lu(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function ic(){for(var n=window,i=it();i instanceof n.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)n=i.contentWindow;else break;i=it(n.document)}return i}function ac(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Vr(n){var i=ic(),u=n.focusedElem,m=n.selectionRange;if(i!==u&&u&&u.ownerDocument&&Lu(u.ownerDocument.documentElement,u)){if(m!==null&&ac(u)){if(i=m.start,n=m.end,n===void 0&&(n=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(n,u.value.length);else if(n=(i=u.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var w=u.textContent.length,N=Math.min(m.start,w);m=m.end===void 0?N:Math.min(m.end,w),!n.extend&&N>m&&(w=m,m=N,N=w),w=oc(u,N);var R=oc(u,m);w&&R&&(n.rangeCount!==1||n.anchorNode!==w.node||n.anchorOffset!==w.offset||n.focusNode!==R.node||n.focusOffset!==R.offset)&&(i=i.createRange(),i.setStart(w.node,w.offset),n.removeAllRanges(),N>m?(n.addRange(i),n.extend(R.node,R.offset)):(i.setEnd(R.node,R.offset),n.addRange(i)))}}for(i=[],n=u;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)n=i[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ba=p&&"documentMode"in document&&11>=document.documentMode,Do=null,Io=null,Fi=null,Ua=!1;function Au(n,i,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ua||Do==null||Do!==it(m)||(m=Do,"selectionStart"in m&&ac(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Fi&&Rs(Fi,m)||(Fi=m,m=h(Io,"onSelect"),0<m.length&&(i=new Yl("onSelect","select",null,i,u),n.push({event:i,listeners:m}),i.target=Do)))}function Ls(n,i){var u={};return u[n.toLowerCase()]=i.toLowerCase(),u["Webkit"+n]="webkit"+i,u["Moz"+n]="moz"+i,u}var Oo={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},As={},lc={};p&&(lc=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function $i(n){if(As[n])return As[n];if(!Oo[n])return n;var i=Oo[n],u;for(u in i)if(i.hasOwnProperty(u)&&u in lc)return As[n]=i[u];return n}var Du=$i("animationend"),qr=$i("animationiteration"),cc=$i("animationstart"),uc=$i("transitionend"),Fo=new Map,Iu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(n,i){Fo.set(n,i),d(i,[n])}for(var no=0;no<Iu.length;no++){var Ha=Iu[no],Ou=Ha.toLowerCase(),th=Ha[0].toUpperCase()+Ha.slice(1);Lr(Ou,"on"+th)}Lr(Du,"onAnimationEnd"),Lr(qr,"onAnimationIteration"),Lr(cc,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(uc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fu=new Set("cancel close invalid load scroll toggle".split(" ").concat($o));function dc(n,i,u){var m=n.type||"unknown-event";n.currentTarget=u,Ei(m,i,void 0,n),n.currentTarget=null}function fc(n,i){i=(i&4)!==0;for(var u=0;u<n.length;u++){var m=n[u],w=m.event;m=m.listeners;e:{var N=void 0;if(i)for(var R=m.length-1;0<=R;R--){var B=m[R],G=B.instance,ue=B.currentTarget;if(B=B.listener,G!==N&&w.isPropagationStopped())break e;dc(w,B,ue),N=G}else for(R=0;R<m.length;R++){if(B=m[R],G=B.instance,ue=B.currentTarget,B=B.listener,G!==N&&w.isPropagationStopped())break e;dc(w,B,ue),N=G}}}if(St)throw n=jt,St=!1,jt=null,n}function ln(n,i){var u=i[Ho];u===void 0&&(u=i[Ho]=new Set);var m=n+"__bubble";u.has(m)||($u(i,n,2,!1),u.add(m))}function hc(n,i,u){var m=0;i&&(m|=4),$u(u,n,m,i)}var zi="_reactListening"+Math.random().toString(36).slice(2);function zo(n){if(!n[zi]){n[zi]=!0,a.forEach(function(u){u!=="selectionchange"&&(Fu.has(u)||hc(u,!1,n),hc(u,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[zi]||(i[zi]=!0,hc("selectionchange",!1,i))}}function $u(n,i,u,m){switch(qt(i)){case 1:var w=Uf;break;case 4:w=yu;break;default:w=Ai}u=w.bind(null,i,u,n),w=void 0,!He||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(w=!0),m?w!==void 0?n.addEventListener(i,u,{capture:!0,passive:w}):n.addEventListener(i,u,!0):w!==void 0?n.addEventListener(i,u,{passive:w}):n.addEventListener(i,u,!1)}function s(n,i,u,m,w){var N=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var R=m.tag;if(R===3||R===4){var B=m.stateNode.containerInfo;if(B===w||B.nodeType===8&&B.parentNode===w)break;if(R===4)for(R=m.return;R!==null;){var G=R.tag;if((G===3||G===4)&&(G=R.stateNode.containerInfo,G===w||G.nodeType===8&&G.parentNode===w))return;R=R.return}for(;B!==null;){if(R=so(B),R===null)return;if(G=R.tag,G===5||G===6){m=N=R;continue e}B=B.parentNode}}m=m.return}ft(function(){var ue=N,Le=Ne(u),Ae=[];e:{var Me=Fo.get(n);if(Me!==void 0){var Xe=Yl,et=n;switch(n){case"keypress":if(Ma(u)===0)break e;case"keydown":case"keyup":Xe=Su;break;case"focusin":et="focus",Xe=Ra;break;case"focusout":et="blur",Xe=Ra;break;case"beforeblur":case"afterblur":Xe=Ra;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=nc;break;case Du:case qr:case cc:Xe=Vf;break;case uc:Xe=Kf;break;case"scroll":Xe=Hf;break;case"wheel":Xe=Xf;break;case"copy":case"cut":case"paste":Xe=Jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Eu}var tt=(i&4)!==0,Tn=!tt&&n==="scroll",se=tt?Me!==null?Me+"Capture":null:Me;tt=[];for(var X=ue,ie;X!==null;){ie=X;var Fe=ie.stateNode;if(ie.tag===5&&Fe!==null&&(ie=Fe,se!==null&&(Fe=Ve(X,se),Fe!=null&&tt.push(l(X,Fe,ie)))),Tn)break;X=X.return}0<tt.length&&(Me=new Xe(Me,et,null,u,Le),Ae.push({event:Me,listeners:tt}))}}if((i&7)===0){e:{if(Me=n==="mouseover"||n==="pointerover",Xe=n==="mouseout"||n==="pointerout",Me&&u!==ve&&(et=u.relatedTarget||u.fromElement)&&(so(et)||et[tn]))break e;if((Xe||Me)&&(Me=Le.window===Le?Le:(Me=Le.ownerDocument)?Me.defaultView||Me.parentWindow:window,Xe?(et=u.relatedTarget||u.toElement,Xe=ue,et=et?so(et):null,et!==null&&(Tn=Cs(et),et!==Tn||et.tag!==5&&et.tag!==6)&&(et=null)):(Xe=null,et=ue),Xe!==et)){if(tt=Xl,Fe="onMouseLeave",se="onMouseEnter",X="mouse",(n==="pointerout"||n==="pointerover")&&(tt=Eu,Fe="onPointerLeave",se="onPointerEnter",X="pointer"),Tn=Xe==null?Me:io(Xe),ie=et==null?Me:io(et),Me=new tt(Fe,X+"leave",Xe,u,Le),Me.target=Tn,Me.relatedTarget=ie,Fe=null,so(Le)===ue&&(tt=new tt(se,X+"enter",et,u,Le),tt.target=ie,tt.relatedTarget=Tn,Fe=tt),Tn=Fe,Xe&&et)t:{for(tt=Xe,se=et,X=0,ie=tt;ie;ie=y(ie))X++;for(ie=0,Fe=se;Fe;Fe=y(Fe))ie++;for(;0<X-ie;)tt=y(tt),X--;for(;0<ie-X;)se=y(se),ie--;for(;X--;){if(tt===se||se!==null&&tt===se.alternate)break t;tt=y(tt),se=y(se)}tt=null}else tt=null;Xe!==null&&E(Ae,Me,Xe,tt,!1),et!==null&&Tn!==null&&E(Ae,Tn,et,tt,!0)}}e:{if(Me=ue?io(ue):window,Xe=Me.nodeName&&Me.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Me.type==="file")var nt=eh;else if(ku(Me))if(Wr)nt=sc;else{nt=Ao;var ht=$a}else(Xe=Me.nodeName)&&Xe.toLowerCase()==="input"&&(Me.type==="checkbox"||Me.type==="radio")&&(nt=za);if(nt&&(nt=nt(n,ue))){Da(Ae,nt,u,Le);break e}ht&&ht(n,Me,ue),n==="focusout"&&(ht=Me._wrapperState)&&ht.controlled&&Me.type==="number"&&be(Me,"number",Me.value)}switch(ht=ue?io(ue):window,n){case"focusin":(ku(ht)||ht.contentEditable==="true")&&(Do=ht,Io=ue,Fi=null);break;case"focusout":Fi=Io=Do=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,Au(Ae,u,Le);break;case"selectionchange":if(Ba)break;case"keydown":case"keyup":Au(Ae,u,Le)}var mt;if(ks)e:{switch(n){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else fs?Ro(n,u)&&(Et="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(Et="onCompositionStart");Et&&(Pu&&u.locale!=="ko"&&(fs||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&fs&&(mt=Gl()):(Ps=Le,nr="value"in Ps?Ps.value:Ps.textContent,fs=!0)),ht=h(ue,Et),0<ht.length&&(Et=new ec(Et,n,null,u,Le),Ae.push({event:Et,listeners:ht}),mt?Et.data=mt:(mt=rc(u),mt!==null&&(Et.data=mt)))),(mt=ds?Qf(n,u):Ms(n,u))&&(ue=h(ue,"onBeforeInput"),0<ue.length&&(Le=new ec("onBeforeInput","beforeinput",null,u,Le),Ae.push({event:Le,listeners:ue}),Le.data=mt))}fc(Ae,i)})}function l(n,i,u){return{instance:n,listener:i,currentTarget:u}}function h(n,i){for(var u=i+"Capture",m=[];n!==null;){var w=n,N=w.stateNode;w.tag===5&&N!==null&&(w=N,N=Ve(n,u),N!=null&&m.unshift(l(n,N,w)),N=Ve(n,i),N!=null&&m.push(l(n,N,w))),n=n.return}return m}function y(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function E(n,i,u,m,w){for(var N=i._reactName,R=[];u!==null&&u!==m;){var B=u,G=B.alternate,ue=B.stateNode;if(G!==null&&G===m)break;B.tag===5&&ue!==null&&(B=ue,w?(G=Ve(u,N),G!=null&&R.unshift(l(u,G,B))):w||(G=Ve(u,N),G!=null&&R.push(l(u,G,B)))),u=u.return}R.length!==0&&n.push({event:i,listeners:R})}var A=/\r\n?/g,W=/\u0000|\uFFFD/g;function ne(n){return(typeof n=="string"?n:""+n).replace(A,`
`).replace(W,"")}function ce(n,i,u){if(i=ne(i),ne(n)!==i&&u)throw Error(r(425))}function Pe(){}var Ge=null,ut=null;function Lt(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var In=typeof setTimeout=="function"?setTimeout:void 0,Mn=typeof clearTimeout=="function"?clearTimeout:void 0,sr=typeof Promise=="function"?Promise:void 0,Zn=typeof queueMicrotask=="function"?queueMicrotask:typeof sr<"u"?function(n){return sr.resolve(null).then(n).catch(Bo)}:In;function Bo(n){setTimeout(function(){throw n})}function mc(n,i){var u=i,m=0;do{var w=u.nextSibling;if(n.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(m===0){n.removeChild(w),Tr(i);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=w}while(u);Tr(i)}function Ds(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function zu(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return n;i--}else u==="/$"&&i++}n=n.previousSibling}return null}var ro=Math.random().toString(36).slice(2),Zr="__reactFiber$"+ro,Uo="__reactProps$"+ro,tn="__reactContainer$"+ro,Ho="__reactEvents$"+ro,nh="__reactListeners$"+ro,rh="__reactHandles$"+ro;function so(n){var i=n[Zr];if(i)return i;for(var u=n.parentNode;u;){if(i=u[tn]||u[Zr]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(n=zu(n);n!==null;){if(u=n[Zr])return u;n=zu(n)}return i}n=u,u=n.parentNode}return null}function oo(n){return n=n[Zr]||n[tn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function io(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function Wa(n){return n[Uo]||null}var sh=[],Va=-1;function Wo(n){return{current:n}}function hn(n){0>Va||(n.current=sh[Va],sh[Va]=null,Va--)}function un(n,i){Va++,sh[Va]=n.current,n.current=i}var Vo={},Gn=Wo(Vo),pr=Wo(!1),Bi=Vo;function qa(n,i){var u=n.type.contextTypes;if(!u)return Vo;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var w={},N;for(N in u)w[N]=i[N];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=w),w}function gr(n){return n=n.childContextTypes,n!=null}function Bu(){hn(pr),hn(Gn)}function lg(n,i,u){if(Gn.current!==Vo)throw Error(r(168));un(Gn,i),un(pr,u)}function cg(n,i,u){var m=n.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var w in m)if(!(w in i))throw Error(r(108,K(n)||"Unknown",w));return oe({},u,m)}function Uu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Vo,Bi=Gn.current,un(Gn,n),un(pr,pr.current),!0}function ug(n,i,u){var m=n.stateNode;if(!m)throw Error(r(169));u?(n=cg(n,i,Bi),m.__reactInternalMemoizedMergedChildContext=n,hn(pr),hn(Gn),un(Gn,n)):hn(pr),un(pr,u)}var ao=null,Hu=!1,oh=!1;function dg(n){ao===null?ao=[n]:ao.push(n)}function d1(n){Hu=!0,dg(n)}function qo(){if(!oh&&ao!==null){oh=!0;var n=0,i=Gt;try{var u=ao;for(Gt=1;n<u.length;n++){var m=u[n];do m=m(!0);while(m!==null)}ao=null,Hu=!1}catch(w){throw ao!==null&&(ao=ao.slice(n+1)),gu(Hl,qo),w}finally{Gt=i,oh=!1}}return null}var Za=[],Ga=0,Wu=null,Vu=0,Gr=[],Yr=0,Ui=null,lo=1,co="";function Hi(n,i){Za[Ga++]=Vu,Za[Ga++]=Wu,Wu=n,Vu=i}function fg(n,i,u){Gr[Yr++]=lo,Gr[Yr++]=co,Gr[Yr++]=Ui,Ui=n;var m=lo;n=co;var w=32-kt(m)-1;m&=~(1<<w),u+=1;var N=32-kt(i)+w;if(30<N){var R=w-w%5;N=(m&(1<<R)-1).toString(32),m>>=R,w-=R,lo=1<<32-kt(i)+w|u<<w|m,co=N+n}else lo=1<<N|u<<w|m,co=n}function ih(n){n.return!==null&&(Hi(n,1),fg(n,1,0))}function ah(n){for(;n===Wu;)Wu=Za[--Ga],Za[Ga]=null,Vu=Za[--Ga],Za[Ga]=null;for(;n===Ui;)Ui=Gr[--Yr],Gr[Yr]=null,co=Gr[--Yr],Gr[Yr]=null,lo=Gr[--Yr],Gr[Yr]=null}var Ar=null,Dr=null,gn=!1,ms=null;function hg(n,i){var u=Jr(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=n,i=n.deletions,i===null?(n.deletions=[u],n.flags|=16):i.push(u)}function mg(n,i){switch(n.tag){case 5:var u=n.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Ar=n,Dr=Ds(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Ar=n,Dr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=Ui!==null?{id:lo,overflow:co}:null,n.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Jr(18,null,null,0),u.stateNode=i,u.return=n,n.child=u,Ar=n,Dr=null,!0):!1;default:return!1}}function lh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function ch(n){if(gn){var i=Dr;if(i){var u=i;if(!mg(n,i)){if(lh(n))throw Error(r(418));i=Ds(u.nextSibling);var m=Ar;i&&mg(n,i)?hg(m,u):(n.flags=n.flags&-4097|2,gn=!1,Ar=n)}}else{if(lh(n))throw Error(r(418));n.flags=n.flags&-4097|2,gn=!1,Ar=n}}}function pg(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ar=n}function qu(n){if(n!==Ar)return!1;if(!gn)return pg(n),gn=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Lt(n.type,n.memoizedProps)),i&&(i=Dr)){if(lh(n))throw gg(),Error(r(418));for(;i;)hg(n,i),i=Ds(i.nextSibling)}if(pg(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(i===0){Dr=Ds(n.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}n=n.nextSibling}Dr=null}}else Dr=Ar?Ds(n.stateNode.nextSibling):null;return!0}function gg(){for(var n=Dr;n;)n=Ds(n.nextSibling)}function Ya(){Dr=Ar=null,gn=!1}function uh(n){ms===null?ms=[n]:ms.push(n)}var f1=I.ReactCurrentBatchConfig;function pc(n,i,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var m=u.stateNode}if(!m)throw Error(r(147,n));var w=m,N=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===N?i.ref:(i=function(R){var B=w.refs;R===null?delete B[N]:B[N]=R},i._stringRef=N,i)}if(typeof n!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,n))}return n}function Zu(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function vg(n){var i=n._init;return i(n._payload)}function xg(n){function i(se,X){if(n){var ie=se.deletions;ie===null?(se.deletions=[X],se.flags|=16):ie.push(X)}}function u(se,X){if(!n)return null;for(;X!==null;)i(se,X),X=X.sibling;return null}function m(se,X){for(se=new Map;X!==null;)X.key!==null?se.set(X.key,X):se.set(X.index,X),X=X.sibling;return se}function w(se,X){return se=ei(se,X),se.index=0,se.sibling=null,se}function N(se,X,ie){return se.index=ie,n?(ie=se.alternate,ie!==null?(ie=ie.index,ie<X?(se.flags|=2,X):ie):(se.flags|=2,X)):(se.flags|=1048576,X)}function R(se){return n&&se.alternate===null&&(se.flags|=2),se}function B(se,X,ie,Fe){return X===null||X.tag!==6?(X=tm(ie,se.mode,Fe),X.return=se,X):(X=w(X,ie),X.return=se,X)}function G(se,X,ie,Fe){var nt=ie.type;return nt===H?Le(se,X,ie.props.children,Fe,ie.key):X!==null&&(X.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===J&&vg(nt)===X.type)?(Fe=w(X,ie.props),Fe.ref=pc(se,X,ie),Fe.return=se,Fe):(Fe=vd(ie.type,ie.key,ie.props,null,se.mode,Fe),Fe.ref=pc(se,X,ie),Fe.return=se,Fe)}function ue(se,X,ie,Fe){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=nm(ie,se.mode,Fe),X.return=se,X):(X=w(X,ie.children||[]),X.return=se,X)}function Le(se,X,ie,Fe,nt){return X===null||X.tag!==7?(X=Xi(ie,se.mode,Fe,nt),X.return=se,X):(X=w(X,ie),X.return=se,X)}function Ae(se,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number")return X=tm(""+X,se.mode,ie),X.return=se,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case O:return ie=vd(X.type,X.key,X.props,null,se.mode,ie),ie.ref=pc(se,null,X),ie.return=se,ie;case q:return X=nm(X,se.mode,ie),X.return=se,X;case J:var Fe=X._init;return Ae(se,Fe(X._payload),ie)}if(ge(X)||fe(X))return X=Xi(X,se.mode,ie,null),X.return=se,X;Zu(se,X)}return null}function Me(se,X,ie,Fe){var nt=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return nt!==null?null:B(se,X,""+ie,Fe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:return ie.key===nt?G(se,X,ie,Fe):null;case q:return ie.key===nt?ue(se,X,ie,Fe):null;case J:return nt=ie._init,Me(se,X,nt(ie._payload),Fe)}if(ge(ie)||fe(ie))return nt!==null?null:Le(se,X,ie,Fe,null);Zu(se,ie)}return null}function Xe(se,X,ie,Fe,nt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return se=se.get(ie)||null,B(X,se,""+Fe,nt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case O:return se=se.get(Fe.key===null?ie:Fe.key)||null,G(X,se,Fe,nt);case q:return se=se.get(Fe.key===null?ie:Fe.key)||null,ue(X,se,Fe,nt);case J:var ht=Fe._init;return Xe(se,X,ie,ht(Fe._payload),nt)}if(ge(Fe)||fe(Fe))return se=se.get(ie)||null,Le(X,se,Fe,nt,null);Zu(X,Fe)}return null}function et(se,X,ie,Fe){for(var nt=null,ht=null,mt=X,Et=X=0,Un=null;mt!==null&&Et<ie.length;Et++){mt.index>Et?(Un=mt,mt=null):Un=mt.sibling;var Jt=Me(se,mt,ie[Et],Fe);if(Jt===null){mt===null&&(mt=Un);break}n&&mt&&Jt.alternate===null&&i(se,mt),X=N(Jt,X,Et),ht===null?nt=Jt:ht.sibling=Jt,ht=Jt,mt=Un}if(Et===ie.length)return u(se,mt),gn&&Hi(se,Et),nt;if(mt===null){for(;Et<ie.length;Et++)mt=Ae(se,ie[Et],Fe),mt!==null&&(X=N(mt,X,Et),ht===null?nt=mt:ht.sibling=mt,ht=mt);return gn&&Hi(se,Et),nt}for(mt=m(se,mt);Et<ie.length;Et++)Un=Xe(mt,se,Et,ie[Et],Fe),Un!==null&&(n&&Un.alternate!==null&&mt.delete(Un.key===null?Et:Un.key),X=N(Un,X,Et),ht===null?nt=Un:ht.sibling=Un,ht=Un);return n&&mt.forEach(function(ti){return i(se,ti)}),gn&&Hi(se,Et),nt}function tt(se,X,ie,Fe){var nt=fe(ie);if(typeof nt!="function")throw Error(r(150));if(ie=nt.call(ie),ie==null)throw Error(r(151));for(var ht=nt=null,mt=X,Et=X=0,Un=null,Jt=ie.next();mt!==null&&!Jt.done;Et++,Jt=ie.next()){mt.index>Et?(Un=mt,mt=null):Un=mt.sibling;var ti=Me(se,mt,Jt.value,Fe);if(ti===null){mt===null&&(mt=Un);break}n&&mt&&ti.alternate===null&&i(se,mt),X=N(ti,X,Et),ht===null?nt=ti:ht.sibling=ti,ht=ti,mt=Un}if(Jt.done)return u(se,mt),gn&&Hi(se,Et),nt;if(mt===null){for(;!Jt.done;Et++,Jt=ie.next())Jt=Ae(se,Jt.value,Fe),Jt!==null&&(X=N(Jt,X,Et),ht===null?nt=Jt:ht.sibling=Jt,ht=Jt);return gn&&Hi(se,Et),nt}for(mt=m(se,mt);!Jt.done;Et++,Jt=ie.next())Jt=Xe(mt,se,Et,Jt.value,Fe),Jt!==null&&(n&&Jt.alternate!==null&&mt.delete(Jt.key===null?Et:Jt.key),X=N(Jt,X,Et),ht===null?nt=Jt:ht.sibling=Jt,ht=Jt);return n&&mt.forEach(function(V1){return i(se,V1)}),gn&&Hi(se,Et),nt}function Tn(se,X,ie,Fe){if(typeof ie=="object"&&ie!==null&&ie.type===H&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case O:e:{for(var nt=ie.key,ht=X;ht!==null;){if(ht.key===nt){if(nt=ie.type,nt===H){if(ht.tag===7){u(se,ht.sibling),X=w(ht,ie.props.children),X.return=se,se=X;break e}}else if(ht.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===J&&vg(nt)===ht.type){u(se,ht.sibling),X=w(ht,ie.props),X.ref=pc(se,ht,ie),X.return=se,se=X;break e}u(se,ht);break}else i(se,ht);ht=ht.sibling}ie.type===H?(X=Xi(ie.props.children,se.mode,Fe,ie.key),X.return=se,se=X):(Fe=vd(ie.type,ie.key,ie.props,null,se.mode,Fe),Fe.ref=pc(se,X,ie),Fe.return=se,se=Fe)}return R(se);case q:e:{for(ht=ie.key;X!==null;){if(X.key===ht)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){u(se,X.sibling),X=w(X,ie.children||[]),X.return=se,se=X;break e}else{u(se,X);break}else i(se,X);X=X.sibling}X=nm(ie,se.mode,Fe),X.return=se,se=X}return R(se);case J:return ht=ie._init,Tn(se,X,ht(ie._payload),Fe)}if(ge(ie))return et(se,X,ie,Fe);if(fe(ie))return tt(se,X,ie,Fe);Zu(se,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,X!==null&&X.tag===6?(u(se,X.sibling),X=w(X,ie),X.return=se,se=X):(u(se,X),X=tm(ie,se.mode,Fe),X.return=se,se=X),R(se)):u(se,X)}return Tn}var Ka=xg(!0),yg=xg(!1),Gu=Wo(null),Yu=null,Xa=null,dh=null;function fh(){dh=Xa=Yu=null}function hh(n){var i=Gu.current;hn(Gu),n._currentValue=i}function mh(n,i,u){for(;n!==null;){var m=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),n===u)break;n=n.return}}function Qa(n,i){Yu=n,dh=Xa=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(vr=!0),n.firstContext=null)}function Kr(n){var i=n._currentValue;if(dh!==n)if(n={context:n,memoizedValue:i,next:null},Xa===null){if(Yu===null)throw Error(r(308));Xa=n,Yu.dependencies={lanes:0,firstContext:n}}else Xa=Xa.next=n;return i}var Wi=null;function ph(n){Wi===null?Wi=[n]:Wi.push(n)}function wg(n,i,u,m){var w=i.interleaved;return w===null?(u.next=u,ph(i)):(u.next=w.next,w.next=u),i.interleaved=u,uo(n,m)}function uo(n,i){n.lanes|=i;var u=n.alternate;for(u!==null&&(u.lanes|=i),u=n,n=n.return;n!==null;)n.childLanes|=i,u=n.alternate,u!==null&&(u.childLanes|=i),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Zo=!1;function gh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function fo(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Go(n,i,u){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,(Xt&2)!==0){var w=m.pending;return w===null?i.next=i:(i.next=w.next,w.next=i),m.pending=i,uo(n,u)}return w=m.interleaved,w===null?(i.next=i,ph(m)):(i.next=w.next,w.next=i),m.interleaved=i,uo(n,u)}function Ku(n,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var m=i.lanes;m&=n.pendingLanes,u|=m,i.lanes=u,cs(n,u)}}function bg(n,i){var u=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var w=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var R={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};N===null?w=N=R:N=N.next=R,u=u.next}while(u!==null);N===null?w=N=i:N=N.next=i}else w=N=i;u={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:N,shared:m.shared,effects:m.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=i:n.next=i,u.lastBaseUpdate=i}function Xu(n,i,u,m){var w=n.updateQueue;Zo=!1;var N=w.firstBaseUpdate,R=w.lastBaseUpdate,B=w.shared.pending;if(B!==null){w.shared.pending=null;var G=B,ue=G.next;G.next=null,R===null?N=ue:R.next=ue,R=G;var Le=n.alternate;Le!==null&&(Le=Le.updateQueue,B=Le.lastBaseUpdate,B!==R&&(B===null?Le.firstBaseUpdate=ue:B.next=ue,Le.lastBaseUpdate=G))}if(N!==null){var Ae=w.baseState;R=0,Le=ue=G=null,B=N;do{var Me=B.lane,Xe=B.eventTime;if((m&Me)===Me){Le!==null&&(Le=Le.next={eventTime:Xe,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var et=n,tt=B;switch(Me=i,Xe=u,tt.tag){case 1:if(et=tt.payload,typeof et=="function"){Ae=et.call(Xe,Ae,Me);break e}Ae=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=tt.payload,Me=typeof et=="function"?et.call(Xe,Ae,Me):et,Me==null)break e;Ae=oe({},Ae,Me);break e;case 2:Zo=!0}}B.callback!==null&&B.lane!==0&&(n.flags|=64,Me=w.effects,Me===null?w.effects=[B]:Me.push(B))}else Xe={eventTime:Xe,lane:Me,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Le===null?(ue=Le=Xe,G=Ae):Le=Le.next=Xe,R|=Me;if(B=B.next,B===null){if(B=w.shared.pending,B===null)break;Me=B,B=Me.next,Me.next=null,w.lastBaseUpdate=Me,w.shared.pending=null}}while(!0);if(Le===null&&(G=Ae),w.baseState=G,w.firstBaseUpdate=ue,w.lastBaseUpdate=Le,i=w.shared.interleaved,i!==null){w=i;do R|=w.lane,w=w.next;while(w!==i)}else N===null&&(w.shared.lanes=0);Zi|=R,n.lanes=R,n.memoizedState=Ae}}function Ng(n,i,u){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var m=n[i],w=m.callback;if(w!==null){if(m.callback=null,m=u,typeof w!="function")throw Error(r(191,w));w.call(m)}}}var gc={},Is=Wo(gc),vc=Wo(gc),xc=Wo(gc);function Vi(n){if(n===gc)throw Error(r(174));return n}function vh(n,i){switch(un(xc,i),un(vc,n),un(Is,gc),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Yt(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=Yt(i,n)}hn(Is),un(Is,i)}function Ja(){hn(Is),hn(vc),hn(xc)}function Sg(n){Vi(xc.current);var i=Vi(Is.current),u=Yt(i,n.type);i!==u&&(un(vc,n),un(Is,u))}function xh(n){vc.current===n&&(hn(Is),hn(vc))}var _n=Wo(0);function Qu(n){for(var i=n;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yh=[];function wh(){for(var n=0;n<yh.length;n++)yh[n]._workInProgressVersionPrimary=null;yh.length=0}var Ju=I.ReactCurrentDispatcher,_h=I.ReactCurrentBatchConfig,qi=0,bn=null,On=null,zn=null,ed=!1,yc=!1,wc=0,h1=0;function Yn(){throw Error(r(321))}function bh(n,i){if(i===null)return!1;for(var u=0;u<i.length&&u<n.length;u++)if(!Rr(n[u],i[u]))return!1;return!0}function Nh(n,i,u,m,w,N){if(qi=N,bn=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ju.current=n===null||n.memoizedState===null?v1:x1,n=u(m,w),yc){N=0;do{if(yc=!1,wc=0,25<=N)throw Error(r(301));N+=1,zn=On=null,i.updateQueue=null,Ju.current=y1,n=u(m,w)}while(yc)}if(Ju.current=rd,i=On!==null&&On.next!==null,qi=0,zn=On=bn=null,ed=!1,i)throw Error(r(300));return n}function Sh(){var n=wc!==0;return wc=0,n}function Os(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?bn.memoizedState=zn=n:zn=zn.next=n,zn}function Xr(){if(On===null){var n=bn.alternate;n=n!==null?n.memoizedState:null}else n=On.next;var i=zn===null?bn.memoizedState:zn.next;if(i!==null)zn=i,On=n;else{if(n===null)throw Error(r(310));On=n,n={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},zn===null?bn.memoizedState=zn=n:zn=zn.next=n}return zn}function _c(n,i){return typeof i=="function"?i(n):i}function jh(n){var i=Xr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var m=On,w=m.baseQueue,N=u.pending;if(N!==null){if(w!==null){var R=w.next;w.next=N.next,N.next=R}m.baseQueue=w=N,u.pending=null}if(w!==null){N=w.next,m=m.baseState;var B=R=null,G=null,ue=N;do{var Le=ue.lane;if((qi&Le)===Le)G!==null&&(G=G.next={lane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),m=ue.hasEagerState?ue.eagerState:n(m,ue.action);else{var Ae={lane:Le,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null};G===null?(B=G=Ae,R=m):G=G.next=Ae,bn.lanes|=Le,Zi|=Le}ue=ue.next}while(ue!==null&&ue!==N);G===null?R=m:G.next=B,Rr(m,i.memoizedState)||(vr=!0),i.memoizedState=m,i.baseState=R,i.baseQueue=G,u.lastRenderedState=m}if(n=u.interleaved,n!==null){w=n;do N=w.lane,bn.lanes|=N,Zi|=N,w=w.next;while(w!==n)}else w===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Eh(n){var i=Xr(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=n;var m=u.dispatch,w=u.pending,N=i.memoizedState;if(w!==null){u.pending=null;var R=w=w.next;do N=n(N,R.action),R=R.next;while(R!==w);Rr(N,i.memoizedState)||(vr=!0),i.memoizedState=N,i.baseQueue===null&&(i.baseState=N),u.lastRenderedState=N}return[N,m]}function jg(){}function Eg(n,i){var u=bn,m=Xr(),w=i(),N=!Rr(m.memoizedState,w);if(N&&(m.memoizedState=w,vr=!0),m=m.queue,Ch(Tg.bind(null,u,m,n),[n]),m.getSnapshot!==i||N||zn!==null&&zn.memoizedState.tag&1){if(u.flags|=2048,bc(9,Pg.bind(null,u,m,w,i),void 0,null),Bn===null)throw Error(r(349));(qi&30)!==0||Cg(u,i,w)}return w}function Cg(n,i,u){n.flags|=16384,n={getSnapshot:i,value:u},i=bn.updateQueue,i===null?(i={lastEffect:null,stores:null},bn.updateQueue=i,i.stores=[n]):(u=i.stores,u===null?i.stores=[n]:u.push(n))}function Pg(n,i,u,m){i.value=u,i.getSnapshot=m,kg(i)&&Mg(n)}function Tg(n,i,u){return u(function(){kg(i)&&Mg(n)})}function kg(n){var i=n.getSnapshot;n=n.value;try{var u=i();return!Rr(n,u)}catch{return!0}}function Mg(n){var i=uo(n,1);i!==null&&xs(i,n,1,-1)}function Rg(n){var i=Os();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:n},i.queue=n,n=n.dispatch=g1.bind(null,bn,n),[i.memoizedState,n]}function bc(n,i,u,m){return n={tag:n,create:i,destroy:u,deps:m,next:null},i=bn.updateQueue,i===null?(i={lastEffect:null,stores:null},bn.updateQueue=i,i.lastEffect=n.next=n):(u=i.lastEffect,u===null?i.lastEffect=n.next=n:(m=u.next,u.next=n,n.next=m,i.lastEffect=n)),n}function Lg(){return Xr().memoizedState}function td(n,i,u,m){var w=Os();bn.flags|=n,w.memoizedState=bc(1|i,u,void 0,m===void 0?null:m)}function nd(n,i,u,m){var w=Xr();m=m===void 0?null:m;var N=void 0;if(On!==null){var R=On.memoizedState;if(N=R.destroy,m!==null&&bh(m,R.deps)){w.memoizedState=bc(i,u,N,m);return}}bn.flags|=n,w.memoizedState=bc(1|i,u,N,m)}function Ag(n,i){return td(8390656,8,n,i)}function Ch(n,i){return nd(2048,8,n,i)}function Dg(n,i){return nd(4,2,n,i)}function Ig(n,i){return nd(4,4,n,i)}function Og(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Fg(n,i,u){return u=u!=null?u.concat([n]):null,nd(4,4,Og.bind(null,i,n),u)}function Ph(){}function $g(n,i){var u=Xr();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&bh(i,m[1])?m[0]:(u.memoizedState=[n,i],n)}function zg(n,i){var u=Xr();i=i===void 0?null:i;var m=u.memoizedState;return m!==null&&i!==null&&bh(i,m[1])?m[0]:(n=n(),u.memoizedState=[n,i],n)}function Bg(n,i,u){return(qi&21)===0?(n.baseState&&(n.baseState=!1,vr=!0),n.memoizedState=u):(Rr(u,i)||(u=xu(),bn.lanes|=u,Zi|=u,n.baseState=!0),i)}function m1(n,i){var u=Gt;Gt=u!==0&&4>u?u:4,n(!0);var m=_h.transition;_h.transition={};try{n(!1),i()}finally{Gt=u,_h.transition=m}}function Ug(){return Xr().memoizedState}function p1(n,i,u){var m=Qo(n);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},Hg(n))Wg(i,u);else if(u=wg(n,i,u,m),u!==null){var w=ir();xs(u,n,m,w),Vg(u,i,m)}}function g1(n,i,u){var m=Qo(n),w={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hg(n))Wg(i,w);else{var N=n.alternate;if(n.lanes===0&&(N===null||N.lanes===0)&&(N=i.lastRenderedReducer,N!==null))try{var R=i.lastRenderedState,B=N(R,u);if(w.hasEagerState=!0,w.eagerState=B,Rr(B,R)){var G=i.interleaved;G===null?(w.next=w,ph(i)):(w.next=G.next,G.next=w),i.interleaved=w;return}}catch{}finally{}u=wg(n,i,w,m),u!==null&&(w=ir(),xs(u,n,m,w),Vg(u,i,m))}}function Hg(n){var i=n.alternate;return n===bn||i!==null&&i===bn}function Wg(n,i){yc=ed=!0;var u=n.pending;u===null?i.next=i:(i.next=u.next,u.next=i),n.pending=i}function Vg(n,i,u){if((u&4194240)!==0){var m=i.lanes;m&=n.pendingLanes,u|=m,i.lanes=u,cs(n,u)}}var rd={readContext:Kr,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},v1={readContext:Kr,useCallback:function(n,i){return Os().memoizedState=[n,i===void 0?null:i],n},useContext:Kr,useEffect:Ag,useImperativeHandle:function(n,i,u){return u=u!=null?u.concat([n]):null,td(4194308,4,Og.bind(null,i,n),u)},useLayoutEffect:function(n,i){return td(4194308,4,n,i)},useInsertionEffect:function(n,i){return td(4,2,n,i)},useMemo:function(n,i){var u=Os();return i=i===void 0?null:i,n=n(),u.memoizedState=[n,i],n},useReducer:function(n,i,u){var m=Os();return i=u!==void 0?u(i):i,m.memoizedState=m.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},m.queue=n,n=n.dispatch=p1.bind(null,bn,n),[m.memoizedState,n]},useRef:function(n){var i=Os();return n={current:n},i.memoizedState=n},useState:Rg,useDebugValue:Ph,useDeferredValue:function(n){return Os().memoizedState=n},useTransition:function(){var n=Rg(!1),i=n[0];return n=m1.bind(null,n[1]),Os().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,u){var m=bn,w=Os();if(gn){if(u===void 0)throw Error(r(407));u=u()}else{if(u=i(),Bn===null)throw Error(r(349));(qi&30)!==0||Cg(m,i,u)}w.memoizedState=u;var N={value:u,getSnapshot:i};return w.queue=N,Ag(Tg.bind(null,m,N,n),[n]),m.flags|=2048,bc(9,Pg.bind(null,m,N,u,i),void 0,null),u},useId:function(){var n=Os(),i=Bn.identifierPrefix;if(gn){var u=co,m=lo;u=(m&~(1<<32-kt(m)-1)).toString(32)+u,i=":"+i+"R"+u,u=wc++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=h1++,i=":"+i+"r"+u.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},x1={readContext:Kr,useCallback:$g,useContext:Kr,useEffect:Ch,useImperativeHandle:Fg,useInsertionEffect:Dg,useLayoutEffect:Ig,useMemo:zg,useReducer:jh,useRef:Lg,useState:function(){return jh(_c)},useDebugValue:Ph,useDeferredValue:function(n){var i=Xr();return Bg(i,On.memoizedState,n)},useTransition:function(){var n=jh(_c)[0],i=Xr().memoizedState;return[n,i]},useMutableSource:jg,useSyncExternalStore:Eg,useId:Ug,unstable_isNewReconciler:!1},y1={readContext:Kr,useCallback:$g,useContext:Kr,useEffect:Ch,useImperativeHandle:Fg,useInsertionEffect:Dg,useLayoutEffect:Ig,useMemo:zg,useReducer:Eh,useRef:Lg,useState:function(){return Eh(_c)},useDebugValue:Ph,useDeferredValue:function(n){var i=Xr();return On===null?i.memoizedState=n:Bg(i,On.memoizedState,n)},useTransition:function(){var n=Eh(_c)[0],i=Xr().memoizedState;return[n,i]},useMutableSource:jg,useSyncExternalStore:Eg,useId:Ug,unstable_isNewReconciler:!1};function ps(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var u in n)i[u]===void 0&&(i[u]=n[u]);return i}return i}function Th(n,i,u,m){i=n.memoizedState,u=u(m,i),u=u==null?i:oe({},i,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var sd={isMounted:function(n){return(n=n._reactInternals)?Cs(n)===n:!1},enqueueSetState:function(n,i,u){n=n._reactInternals;var m=ir(),w=Qo(n),N=fo(m,w);N.payload=i,u!=null&&(N.callback=u),i=Go(n,N,w),i!==null&&(xs(i,n,w,m),Ku(i,n,w))},enqueueReplaceState:function(n,i,u){n=n._reactInternals;var m=ir(),w=Qo(n),N=fo(m,w);N.tag=1,N.payload=i,u!=null&&(N.callback=u),i=Go(n,N,w),i!==null&&(xs(i,n,w,m),Ku(i,n,w))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var u=ir(),m=Qo(n),w=fo(u,m);w.tag=2,i!=null&&(w.callback=i),i=Go(n,w,m),i!==null&&(xs(i,n,m,u),Ku(i,n,m))}};function qg(n,i,u,m,w,N,R){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,N,R):i.prototype&&i.prototype.isPureReactComponent?!Rs(u,m)||!Rs(w,N):!0}function Zg(n,i,u){var m=!1,w=Vo,N=i.contextType;return typeof N=="object"&&N!==null?N=Kr(N):(w=gr(i)?Bi:Gn.current,m=i.contextTypes,N=(m=m!=null)?qa(n,w):Vo),i=new i(u,N),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=sd,n.stateNode=i,i._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=w,n.__reactInternalMemoizedMaskedChildContext=N),i}function Gg(n,i,u,m){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,m),i.state!==n&&sd.enqueueReplaceState(i,i.state,null)}function kh(n,i,u,m){var w=n.stateNode;w.props=u,w.state=n.memoizedState,w.refs={},gh(n);var N=i.contextType;typeof N=="object"&&N!==null?w.context=Kr(N):(N=gr(i)?Bi:Gn.current,w.context=qa(n,N)),w.state=n.memoizedState,N=i.getDerivedStateFromProps,typeof N=="function"&&(Th(n,i,N,u),w.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(i=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),i!==w.state&&sd.enqueueReplaceState(w,w.state,null),Xu(n,u,w,m),w.state=n.memoizedState),typeof w.componentDidMount=="function"&&(n.flags|=4194308)}function el(n,i){try{var u="",m=i;do u+=je(m),m=m.return;while(m);var w=u}catch(N){w=`
Error generating stack: `+N.message+`
`+N.stack}return{value:n,source:i,stack:w,digest:null}}function Mh(n,i,u){return{value:n,source:null,stack:u??null,digest:i??null}}function Rh(n,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var w1=typeof WeakMap=="function"?WeakMap:Map;function Yg(n,i,u){u=fo(-1,u),u.tag=3,u.payload={element:null};var m=i.value;return u.callback=function(){dd||(dd=!0,Zh=m),Rh(n,i)},u}function Kg(n,i,u){u=fo(-1,u),u.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var w=i.value;u.payload=function(){return m(w)},u.callback=function(){Rh(n,i)}}var N=n.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(u.callback=function(){Rh(n,i),typeof m!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var R=i.stack;this.componentDidCatch(i.value,{componentStack:R!==null?R:""})}),u}function Xg(n,i,u){var m=n.pingCache;if(m===null){m=n.pingCache=new w1;var w=new Set;m.set(i,w)}else w=m.get(i),w===void 0&&(w=new Set,m.set(i,w));w.has(u)||(w.add(u),n=A1.bind(null,n,i,u),i.then(n,n))}function Qg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function Jg(n,i,u,m,w){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=fo(-1,1),i.tag=2,Go(u,i,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=w,n)}var _1=I.ReactCurrentOwner,vr=!1;function or(n,i,u,m){i.child=n===null?yg(i,null,u,m):Ka(i,n.child,u,m)}function ev(n,i,u,m,w){u=u.render;var N=i.ref;return Qa(i,w),m=Nh(n,i,u,m,N,w),u=Sh(),n!==null&&!vr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~w,ho(n,i,w)):(gn&&u&&ih(i),i.flags|=1,or(n,i,m,w),i.child)}function tv(n,i,u,m,w){if(n===null){var N=u.type;return typeof N=="function"&&!em(N)&&N.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=N,nv(n,i,N,m,w)):(n=vd(u.type,null,m,i,i.mode,w),n.ref=i.ref,n.return=i,i.child=n)}if(N=n.child,(n.lanes&w)===0){var R=N.memoizedProps;if(u=u.compare,u=u!==null?u:Rs,u(R,m)&&n.ref===i.ref)return ho(n,i,w)}return i.flags|=1,n=ei(N,m),n.ref=i.ref,n.return=i,i.child=n}function nv(n,i,u,m,w){if(n!==null){var N=n.memoizedProps;if(Rs(N,m)&&n.ref===i.ref)if(vr=!1,i.pendingProps=m=N,(n.lanes&w)!==0)(n.flags&131072)!==0&&(vr=!0);else return i.lanes=n.lanes,ho(n,i,w)}return Lh(n,i,u,m,w)}function rv(n,i,u){var m=i.pendingProps,w=m.children,N=n!==null?n.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},un(nl,Ir),Ir|=u;else{if((u&1073741824)===0)return n=N!==null?N.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,un(nl,Ir),Ir|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=N!==null?N.baseLanes:u,un(nl,Ir),Ir|=m}else N!==null?(m=N.baseLanes|u,i.memoizedState=null):m=u,un(nl,Ir),Ir|=m;return or(n,i,w,u),i.child}function sv(n,i){var u=i.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Lh(n,i,u,m,w){var N=gr(u)?Bi:Gn.current;return N=qa(i,N),Qa(i,w),u=Nh(n,i,u,m,N,w),m=Sh(),n!==null&&!vr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~w,ho(n,i,w)):(gn&&m&&ih(i),i.flags|=1,or(n,i,u,w),i.child)}function ov(n,i,u,m,w){if(gr(u)){var N=!0;Uu(i)}else N=!1;if(Qa(i,w),i.stateNode===null)id(n,i),Zg(i,u,m),kh(i,u,m,w),m=!0;else if(n===null){var R=i.stateNode,B=i.memoizedProps;R.props=B;var G=R.context,ue=u.contextType;typeof ue=="object"&&ue!==null?ue=Kr(ue):(ue=gr(u)?Bi:Gn.current,ue=qa(i,ue));var Le=u.getDerivedStateFromProps,Ae=typeof Le=="function"||typeof R.getSnapshotBeforeUpdate=="function";Ae||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==m||G!==ue)&&Gg(i,R,m,ue),Zo=!1;var Me=i.memoizedState;R.state=Me,Xu(i,m,R,w),G=i.memoizedState,B!==m||Me!==G||pr.current||Zo?(typeof Le=="function"&&(Th(i,u,Le,m),G=i.memoizedState),(B=Zo||qg(i,u,B,m,Me,G,ue))?(Ae||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(i.flags|=4194308)):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=G),R.props=m,R.state=G,R.context=ue,m=B):(typeof R.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{R=i.stateNode,_g(n,i),B=i.memoizedProps,ue=i.type===i.elementType?B:ps(i.type,B),R.props=ue,Ae=i.pendingProps,Me=R.context,G=u.contextType,typeof G=="object"&&G!==null?G=Kr(G):(G=gr(u)?Bi:Gn.current,G=qa(i,G));var Xe=u.getDerivedStateFromProps;(Le=typeof Xe=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(B!==Ae||Me!==G)&&Gg(i,R,m,G),Zo=!1,Me=i.memoizedState,R.state=Me,Xu(i,m,R,w);var et=i.memoizedState;B!==Ae||Me!==et||pr.current||Zo?(typeof Xe=="function"&&(Th(i,u,Xe,m),et=i.memoizedState),(ue=Zo||qg(i,u,ue,m,Me,et,G)||!1)?(Le||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,et,G),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,et,G)),typeof R.componentDidUpdate=="function"&&(i.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof R.componentDidUpdate!="function"||B===n.memoizedProps&&Me===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&Me===n.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=et),R.props=m,R.state=et,R.context=G,m=ue):(typeof R.componentDidUpdate!="function"||B===n.memoizedProps&&Me===n.memoizedState||(i.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||B===n.memoizedProps&&Me===n.memoizedState||(i.flags|=1024),m=!1)}return Ah(n,i,u,m,N,w)}function Ah(n,i,u,m,w,N){sv(n,i);var R=(i.flags&128)!==0;if(!m&&!R)return w&&ug(i,u,!1),ho(n,i,N);m=i.stateNode,_1.current=i;var B=R&&typeof u.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,n!==null&&R?(i.child=Ka(i,n.child,null,N),i.child=Ka(i,null,B,N)):or(n,i,B,N),i.memoizedState=m.state,w&&ug(i,u,!0),i.child}function iv(n){var i=n.stateNode;i.pendingContext?lg(n,i.pendingContext,i.pendingContext!==i.context):i.context&&lg(n,i.context,!1),vh(n,i.containerInfo)}function av(n,i,u,m,w){return Ya(),uh(w),i.flags|=256,or(n,i,u,m),i.child}var Dh={dehydrated:null,treeContext:null,retryLane:0};function Ih(n){return{baseLanes:n,cachePool:null,transitions:null}}function lv(n,i,u){var m=i.pendingProps,w=_n.current,N=!1,R=(i.flags&128)!==0,B;if((B=R)||(B=n!==null&&n.memoizedState===null?!1:(w&2)!==0),B?(N=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(w|=1),un(_n,w&1),n===null)return ch(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(R=m.children,n=m.fallback,N?(m=i.mode,N=i.child,R={mode:"hidden",children:R},(m&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=R):N=xd(R,m,0,null),n=Xi(n,m,u,null),N.return=i,n.return=i,N.sibling=n,i.child=N,i.child.memoizedState=Ih(u),i.memoizedState=Dh,n):Oh(i,R));if(w=n.memoizedState,w!==null&&(B=w.dehydrated,B!==null))return b1(n,i,R,m,B,w,u);if(N){N=m.fallback,R=i.mode,w=n.child,B=w.sibling;var G={mode:"hidden",children:m.children};return(R&1)===0&&i.child!==w?(m=i.child,m.childLanes=0,m.pendingProps=G,i.deletions=null):(m=ei(w,G),m.subtreeFlags=w.subtreeFlags&14680064),B!==null?N=ei(B,N):(N=Xi(N,R,u,null),N.flags|=2),N.return=i,m.return=i,m.sibling=N,i.child=m,m=N,N=i.child,R=n.child.memoizedState,R=R===null?Ih(u):{baseLanes:R.baseLanes|u,cachePool:null,transitions:R.transitions},N.memoizedState=R,N.childLanes=n.childLanes&~u,i.memoizedState=Dh,m}return N=n.child,n=N.sibling,m=ei(N,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=u),m.return=i,m.sibling=null,n!==null&&(u=i.deletions,u===null?(i.deletions=[n],i.flags|=16):u.push(n)),i.child=m,i.memoizedState=null,m}function Oh(n,i){return i=xd({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function od(n,i,u,m){return m!==null&&uh(m),Ka(i,n.child,null,u),n=Oh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function b1(n,i,u,m,w,N,R){if(u)return i.flags&256?(i.flags&=-257,m=Mh(Error(r(422))),od(n,i,R,m)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(N=m.fallback,w=i.mode,m=xd({mode:"visible",children:m.children},w,0,null),N=Xi(N,w,R,null),N.flags|=2,m.return=i,N.return=i,m.sibling=N,i.child=m,(i.mode&1)!==0&&Ka(i,n.child,null,R),i.child.memoizedState=Ih(R),i.memoizedState=Dh,N);if((i.mode&1)===0)return od(n,i,R,null);if(w.data==="$!"){if(m=w.nextSibling&&w.nextSibling.dataset,m)var B=m.dgst;return m=B,N=Error(r(419)),m=Mh(N,m,void 0),od(n,i,R,m)}if(B=(R&n.childLanes)!==0,vr||B){if(m=Bn,m!==null){switch(R&-R){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(m.suspendedLanes|R))!==0?0:w,w!==0&&w!==N.retryLane&&(N.retryLane=w,uo(n,w),xs(m,n,w,-1))}return Jh(),m=Mh(Error(r(421))),od(n,i,R,m)}return w.data==="$?"?(i.flags|=128,i.child=n.child,i=D1.bind(null,n),w._reactRetry=i,null):(n=N.treeContext,Dr=Ds(w.nextSibling),Ar=i,gn=!0,ms=null,n!==null&&(Gr[Yr++]=lo,Gr[Yr++]=co,Gr[Yr++]=Ui,lo=n.id,co=n.overflow,Ui=i),i=Oh(i,m.children),i.flags|=4096,i)}function cv(n,i,u){n.lanes|=i;var m=n.alternate;m!==null&&(m.lanes|=i),mh(n.return,i,u)}function Fh(n,i,u,m,w){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:w}:(N.isBackwards=i,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=u,N.tailMode=w)}function uv(n,i,u){var m=i.pendingProps,w=m.revealOrder,N=m.tail;if(or(n,i,m.children,u),m=_n.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cv(n,u,i);else if(n.tag===19)cv(n,u,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(un(_n,m),(i.mode&1)===0)i.memoizedState=null;else switch(w){case"forwards":for(u=i.child,w=null;u!==null;)n=u.alternate,n!==null&&Qu(n)===null&&(w=u),u=u.sibling;u=w,u===null?(w=i.child,i.child=null):(w=u.sibling,u.sibling=null),Fh(i,!1,w,u,N);break;case"backwards":for(u=null,w=i.child,i.child=null;w!==null;){if(n=w.alternate,n!==null&&Qu(n)===null){i.child=w;break}n=w.sibling,w.sibling=u,u=w,w=n}Fh(i,!0,u,null,N);break;case"together":Fh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function id(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function ho(n,i,u){if(n!==null&&(i.dependencies=n.dependencies),Zi|=i.lanes,(u&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,u=ei(n,n.pendingProps),i.child=u,u.return=i;n.sibling!==null;)n=n.sibling,u=u.sibling=ei(n,n.pendingProps),u.return=i;u.sibling=null}return i.child}function N1(n,i,u){switch(i.tag){case 3:iv(i),Ya();break;case 5:Sg(i);break;case 1:gr(i.type)&&Uu(i);break;case 4:vh(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,w=i.memoizedProps.value;un(Gu,m._currentValue),m._currentValue=w;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(un(_n,_n.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?lv(n,i,u):(un(_n,_n.current&1),n=ho(n,i,u),n!==null?n.sibling:null);un(_n,_n.current&1);break;case 19:if(m=(u&i.childLanes)!==0,(n.flags&128)!==0){if(m)return uv(n,i,u);i.flags|=128}if(w=i.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),un(_n,_n.current),m)break;return null;case 22:case 23:return i.lanes=0,rv(n,i,u)}return ho(n,i,u)}var dv,$h,fv,hv;dv=function(n,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},$h=function(){},fv=function(n,i,u,m){var w=n.memoizedProps;if(w!==m){n=i.stateNode,Vi(Is.current);var N=null;switch(u){case"input":w=Tt(n,w),m=Tt(n,m),N=[];break;case"select":w=oe({},w,{value:void 0}),m=oe({},m,{value:void 0}),N=[];break;case"textarea":w=rt(n,w),m=rt(n,m),N=[];break;default:typeof w.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=Pe)}_t(u,m);var R;u=null;for(ue in w)if(!m.hasOwnProperty(ue)&&w.hasOwnProperty(ue)&&w[ue]!=null)if(ue==="style"){var B=w[ue];for(R in B)B.hasOwnProperty(R)&&(u||(u={}),u[R]="")}else ue!=="dangerouslySetInnerHTML"&&ue!=="children"&&ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&ue!=="autoFocus"&&(c.hasOwnProperty(ue)?N||(N=[]):(N=N||[]).push(ue,null));for(ue in m){var G=m[ue];if(B=w!=null?w[ue]:void 0,m.hasOwnProperty(ue)&&G!==B&&(G!=null||B!=null))if(ue==="style")if(B){for(R in B)!B.hasOwnProperty(R)||G&&G.hasOwnProperty(R)||(u||(u={}),u[R]="");for(R in G)G.hasOwnProperty(R)&&B[R]!==G[R]&&(u||(u={}),u[R]=G[R])}else u||(N||(N=[]),N.push(ue,u)),u=G;else ue==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,B=B?B.__html:void 0,G!=null&&B!==G&&(N=N||[]).push(ue,G)):ue==="children"?typeof G!="string"&&typeof G!="number"||(N=N||[]).push(ue,""+G):ue!=="suppressContentEditableWarning"&&ue!=="suppressHydrationWarning"&&(c.hasOwnProperty(ue)?(G!=null&&ue==="onScroll"&&ln("scroll",n),N||B===G||(N=[])):(N=N||[]).push(ue,G))}u&&(N=N||[]).push("style",u);var ue=N;(i.updateQueue=ue)&&(i.flags|=4)}},hv=function(n,i,u,m){u!==m&&(i.flags|=4)};function Nc(n,i){if(!gn)switch(n.tailMode){case"hidden":i=n.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function Kn(n){var i=n.alternate!==null&&n.alternate.child===n.child,u=0,m=0;if(i)for(var w=n.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags&14680064,m|=w.flags&14680064,w.return=n,w=w.sibling;else for(w=n.child;w!==null;)u|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=n,w=w.sibling;return n.subtreeFlags|=m,n.childLanes=u,i}function S1(n,i,u){var m=i.pendingProps;switch(ah(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(i),null;case 1:return gr(i.type)&&Bu(),Kn(i),null;case 3:return m=i.stateNode,Ja(),hn(pr),hn(Gn),wh(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(qu(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ms!==null&&(Kh(ms),ms=null))),$h(n,i),Kn(i),null;case 5:xh(i);var w=Vi(xc.current);if(u=i.type,n!==null&&i.stateNode!=null)fv(n,i,u,m,w),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(r(166));return Kn(i),null}if(n=Vi(Is.current),qu(i)){m=i.stateNode,u=i.type;var N=i.memoizedProps;switch(m[Zr]=i,m[Uo]=N,n=(i.mode&1)!==0,u){case"dialog":ln("cancel",m),ln("close",m);break;case"iframe":case"object":case"embed":ln("load",m);break;case"video":case"audio":for(w=0;w<$o.length;w++)ln($o[w],m);break;case"source":ln("error",m);break;case"img":case"image":case"link":ln("error",m),ln("load",m);break;case"details":ln("toggle",m);break;case"input":ye(m,N),ln("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!N.multiple},ln("invalid",m);break;case"textarea":at(m,N),ln("invalid",m)}_t(u,N),w=null;for(var R in N)if(N.hasOwnProperty(R)){var B=N[R];R==="children"?typeof B=="string"?m.textContent!==B&&(N.suppressHydrationWarning!==!0&&ce(m.textContent,B,n),w=["children",B]):typeof B=="number"&&m.textContent!==""+B&&(N.suppressHydrationWarning!==!0&&ce(m.textContent,B,n),w=["children",""+B]):c.hasOwnProperty(R)&&B!=null&&R==="onScroll"&&ln("scroll",m)}switch(u){case"input":ze(m),me(m,N,!0);break;case"textarea":ze(m),Ut(m);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(m.onclick=Pe)}m=w,i.updateQueue=m,m!==null&&(i.flags|=4)}else{R=w.nodeType===9?w:w.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Dt(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=R.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=R.createElement(u,{is:m.is}):(n=R.createElement(u),u==="select"&&(R=n,m.multiple?R.multiple=!0:m.size&&(R.size=m.size))):n=R.createElementNS(n,u),n[Zr]=i,n[Uo]=m,dv(n,i,!1,!1),i.stateNode=n;e:{switch(R=Zt(u,m),u){case"dialog":ln("cancel",n),ln("close",n),w=m;break;case"iframe":case"object":case"embed":ln("load",n),w=m;break;case"video":case"audio":for(w=0;w<$o.length;w++)ln($o[w],n);w=m;break;case"source":ln("error",n),w=m;break;case"img":case"image":case"link":ln("error",n),ln("load",n),w=m;break;case"details":ln("toggle",n),w=m;break;case"input":ye(n,m),w=Tt(n,m),ln("invalid",n);break;case"option":w=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},w=oe({},m,{value:void 0}),ln("invalid",n);break;case"textarea":at(n,m),w=rt(n,m),ln("invalid",n);break;default:w=m}_t(u,w),B=w;for(N in B)if(B.hasOwnProperty(N)){var G=B[N];N==="style"?It(n,G):N==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&zt(n,G)):N==="children"?typeof G=="string"?(u!=="textarea"||G!=="")&&bt(n,G):typeof G=="number"&&bt(n,""+G):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(c.hasOwnProperty(N)?G!=null&&N==="onScroll"&&ln("scroll",n):G!=null&&M(n,N,G,R))}switch(u){case"input":ze(n),me(n,m,!1);break;case"textarea":ze(n),Ut(n);break;case"option":m.value!=null&&n.setAttribute("value",""+le(m.value));break;case"select":n.multiple=!!m.multiple,N=m.value,N!=null?Ze(n,!!m.multiple,N,!1):m.defaultValue!=null&&Ze(n,!!m.multiple,m.defaultValue,!0);break;default:typeof w.onClick=="function"&&(n.onclick=Pe)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Kn(i),null;case 6:if(n&&i.stateNode!=null)hv(n,i,n.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(r(166));if(u=Vi(xc.current),Vi(Is.current),qu(i)){if(m=i.stateNode,u=i.memoizedProps,m[Zr]=i,(N=m.nodeValue!==u)&&(n=Ar,n!==null))switch(n.tag){case 3:ce(m.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ce(m.nodeValue,u,(n.mode&1)!==0)}N&&(i.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[Zr]=i,i.stateNode=m}return Kn(i),null;case 13:if(hn(_n),m=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(gn&&Dr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)gg(),Ya(),i.flags|=98560,N=!1;else if(N=qu(i),m!==null&&m.dehydrated!==null){if(n===null){if(!N)throw Error(r(318));if(N=i.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Zr]=i}else Ya(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Kn(i),N=!1}else ms!==null&&(Kh(ms),ms=null),N=!0;if(!N)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(_n.current&1)!==0?Fn===0&&(Fn=3):Jh())),i.updateQueue!==null&&(i.flags|=4),Kn(i),null);case 4:return Ja(),$h(n,i),n===null&&zo(i.stateNode.containerInfo),Kn(i),null;case 10:return hh(i.type._context),Kn(i),null;case 17:return gr(i.type)&&Bu(),Kn(i),null;case 19:if(hn(_n),N=i.memoizedState,N===null)return Kn(i),null;if(m=(i.flags&128)!==0,R=N.rendering,R===null)if(m)Nc(N,!1);else{if(Fn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(R=Qu(n),R!==null){for(i.flags|=128,Nc(N,!1),m=R.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=u,u=i.child;u!==null;)N=u,n=m,N.flags&=14680066,R=N.alternate,R===null?(N.childLanes=0,N.lanes=n,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=R.childLanes,N.lanes=R.lanes,N.child=R.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=R.memoizedProps,N.memoizedState=R.memoizedState,N.updateQueue=R.updateQueue,N.type=R.type,n=R.dependencies,N.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return un(_n,_n.current&1|2),i.child}n=n.sibling}N.tail!==null&&yn()>rl&&(i.flags|=128,m=!0,Nc(N,!1),i.lanes=4194304)}else{if(!m)if(n=Qu(R),n!==null){if(i.flags|=128,m=!0,u=n.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),Nc(N,!0),N.tail===null&&N.tailMode==="hidden"&&!R.alternate&&!gn)return Kn(i),null}else 2*yn()-N.renderingStartTime>rl&&u!==1073741824&&(i.flags|=128,m=!0,Nc(N,!1),i.lanes=4194304);N.isBackwards?(R.sibling=i.child,i.child=R):(u=N.last,u!==null?u.sibling=R:i.child=R,N.last=R)}return N.tail!==null?(i=N.tail,N.rendering=i,N.tail=i.sibling,N.renderingStartTime=yn(),i.sibling=null,u=_n.current,un(_n,m?u&1|2:u&1),i):(Kn(i),null);case 22:case 23:return Qh(),m=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(Ir&1073741824)!==0&&(Kn(i),i.subtreeFlags&6&&(i.flags|=8192)):Kn(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function j1(n,i){switch(ah(i),i.tag){case 1:return gr(i.type)&&Bu(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Ja(),hn(pr),hn(Gn),wh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return xh(i),null;case 13:if(hn(_n),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ya()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return hn(_n),null;case 4:return Ja(),null;case 10:return hh(i.type._context),null;case 22:case 23:return Qh(),null;case 24:return null;default:return null}}var ad=!1,Xn=!1,E1=typeof WeakSet=="function"?WeakSet:Set,Je=null;function tl(n,i){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){En(n,i,m)}else u.current=null}function zh(n,i,u){try{u()}catch(m){En(n,i,m)}}var mv=!1;function C1(n,i){if(Ge=Li,n=ic(),ac(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else e:{u=(u=n.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var w=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var R=0,B=-1,G=-1,ue=0,Le=0,Ae=n,Me=null;t:for(;;){for(var Xe;Ae!==u||w!==0&&Ae.nodeType!==3||(B=R+w),Ae!==N||m!==0&&Ae.nodeType!==3||(G=R+m),Ae.nodeType===3&&(R+=Ae.nodeValue.length),(Xe=Ae.firstChild)!==null;)Me=Ae,Ae=Xe;for(;;){if(Ae===n)break t;if(Me===u&&++ue===w&&(B=R),Me===N&&++Le===m&&(G=R),(Xe=Ae.nextSibling)!==null)break;Ae=Me,Me=Ae.parentNode}Ae=Xe}u=B===-1||G===-1?null:{start:B,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(ut={focusedElem:n,selectionRange:u},Li=!1,Je=i;Je!==null;)if(i=Je,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Je=n;else for(;Je!==null;){i=Je;try{var et=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(et!==null){var tt=et.memoizedProps,Tn=et.memoizedState,se=i.stateNode,X=se.getSnapshotBeforeUpdate(i.elementType===i.type?tt:ps(i.type,tt),Tn);se.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var ie=i.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Fe){En(i,i.return,Fe)}if(n=i.sibling,n!==null){n.return=i.return,Je=n;break}Je=i.return}return et=mv,mv=!1,et}function Sc(n,i,u){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var w=m=m.next;do{if((w.tag&n)===n){var N=w.destroy;w.destroy=void 0,N!==void 0&&zh(i,u,N)}w=w.next}while(w!==m)}}function ld(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&n)===n){var m=u.create;u.destroy=m()}u=u.next}while(u!==i)}}function Bh(n){var i=n.ref;if(i!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof i=="function"?i(n):i.current=n}}function pv(n){var i=n.alternate;i!==null&&(n.alternate=null,pv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Zr],delete i[Uo],delete i[Ho],delete i[nh],delete i[rh])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function gv(n){return n.tag===5||n.tag===3||n.tag===4}function vv(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Uh(n,i,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(n,i):u.insertBefore(n,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(n,u)):(i=u,i.appendChild(n)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Pe));else if(m!==4&&(n=n.child,n!==null))for(Uh(n,i,u),n=n.sibling;n!==null;)Uh(n,i,u),n=n.sibling}function Hh(n,i,u){var m=n.tag;if(m===5||m===6)n=n.stateNode,i?u.insertBefore(n,i):u.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(Hh(n,i,u),n=n.sibling;n!==null;)Hh(n,i,u),n=n.sibling}var Hn=null,gs=!1;function Yo(n,i,u){for(u=u.child;u!==null;)xv(n,i,u),u=u.sibling}function xv(n,i,u){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Ci,u)}catch{}switch(u.tag){case 5:Xn||tl(u,i);case 6:var m=Hn,w=gs;Hn=null,Yo(n,i,u),Hn=m,gs=w,Hn!==null&&(gs?(n=Hn,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Hn.removeChild(u.stateNode));break;case 18:Hn!==null&&(gs?(n=Hn,u=u.stateNode,n.nodeType===8?mc(n.parentNode,u):n.nodeType===1&&mc(n,u),Tr(n)):mc(Hn,u.stateNode));break;case 4:m=Hn,w=gs,Hn=u.stateNode.containerInfo,gs=!0,Yo(n,i,u),Hn=m,gs=w;break;case 0:case 11:case 14:case 15:if(!Xn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){w=m=m.next;do{var N=w,R=N.destroy;N=N.tag,R!==void 0&&((N&2)!==0||(N&4)!==0)&&zh(u,i,R),w=w.next}while(w!==m)}Yo(n,i,u);break;case 1:if(!Xn&&(tl(u,i),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(B){En(u,i,B)}Yo(n,i,u);break;case 21:Yo(n,i,u);break;case 22:u.mode&1?(Xn=(m=Xn)||u.memoizedState!==null,Yo(n,i,u),Xn=m):Yo(n,i,u);break;default:Yo(n,i,u)}}function yv(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new E1),i.forEach(function(m){var w=I1.bind(null,n,m);u.has(m)||(u.add(m),m.then(w,w))})}}function vs(n,i){var u=i.deletions;if(u!==null)for(var m=0;m<u.length;m++){var w=u[m];try{var N=n,R=i,B=R;e:for(;B!==null;){switch(B.tag){case 5:Hn=B.stateNode,gs=!1;break e;case 3:Hn=B.stateNode.containerInfo,gs=!0;break e;case 4:Hn=B.stateNode.containerInfo,gs=!0;break e}B=B.return}if(Hn===null)throw Error(r(160));xv(N,R,w),Hn=null,gs=!1;var G=w.alternate;G!==null&&(G.return=null),w.return=null}catch(ue){En(w,i,ue)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)wv(i,n),i=i.sibling}function wv(n,i){var u=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(vs(i,n),Fs(n),m&4){try{Sc(3,n,n.return),ld(3,n)}catch(tt){En(n,n.return,tt)}try{Sc(5,n,n.return)}catch(tt){En(n,n.return,tt)}}break;case 1:vs(i,n),Fs(n),m&512&&u!==null&&tl(u,u.return);break;case 5:if(vs(i,n),Fs(n),m&512&&u!==null&&tl(u,u.return),n.flags&32){var w=n.stateNode;try{bt(w,"")}catch(tt){En(n,n.return,tt)}}if(m&4&&(w=n.stateNode,w!=null)){var N=n.memoizedProps,R=u!==null?u.memoizedProps:N,B=n.type,G=n.updateQueue;if(n.updateQueue=null,G!==null)try{B==="input"&&N.type==="radio"&&N.name!=null&&Ye(w,N),Zt(B,R);var ue=Zt(B,N);for(R=0;R<G.length;R+=2){var Le=G[R],Ae=G[R+1];Le==="style"?It(w,Ae):Le==="dangerouslySetInnerHTML"?zt(w,Ae):Le==="children"?bt(w,Ae):M(w,Le,Ae,ue)}switch(B){case"input":Z(w,N);break;case"textarea":on(w,N);break;case"select":var Me=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!N.multiple;var Xe=N.value;Xe!=null?Ze(w,!!N.multiple,Xe,!1):Me!==!!N.multiple&&(N.defaultValue!=null?Ze(w,!!N.multiple,N.defaultValue,!0):Ze(w,!!N.multiple,N.multiple?[]:"",!1))}w[Uo]=N}catch(tt){En(n,n.return,tt)}}break;case 6:if(vs(i,n),Fs(n),m&4){if(n.stateNode===null)throw Error(r(162));w=n.stateNode,N=n.memoizedProps;try{w.nodeValue=N}catch(tt){En(n,n.return,tt)}}break;case 3:if(vs(i,n),Fs(n),m&4&&u!==null&&u.memoizedState.isDehydrated)try{Tr(i.containerInfo)}catch(tt){En(n,n.return,tt)}break;case 4:vs(i,n),Fs(n);break;case 13:vs(i,n),Fs(n),w=n.child,w.flags&8192&&(N=w.memoizedState!==null,w.stateNode.isHidden=N,!N||w.alternate!==null&&w.alternate.memoizedState!==null||(qh=yn())),m&4&&yv(n);break;case 22:if(Le=u!==null&&u.memoizedState!==null,n.mode&1?(Xn=(ue=Xn)||Le,vs(i,n),Xn=ue):vs(i,n),Fs(n),m&8192){if(ue=n.memoizedState!==null,(n.stateNode.isHidden=ue)&&!Le&&(n.mode&1)!==0)for(Je=n,Le=n.child;Le!==null;){for(Ae=Je=Le;Je!==null;){switch(Me=Je,Xe=Me.child,Me.tag){case 0:case 11:case 14:case 15:Sc(4,Me,Me.return);break;case 1:tl(Me,Me.return);var et=Me.stateNode;if(typeof et.componentWillUnmount=="function"){m=Me,u=Me.return;try{i=m,et.props=i.memoizedProps,et.state=i.memoizedState,et.componentWillUnmount()}catch(tt){En(m,u,tt)}}break;case 5:tl(Me,Me.return);break;case 22:if(Me.memoizedState!==null){Nv(Ae);continue}}Xe!==null?(Xe.return=Me,Je=Xe):Nv(Ae)}Le=Le.sibling}e:for(Le=null,Ae=n;;){if(Ae.tag===5){if(Le===null){Le=Ae;try{w=Ae.stateNode,ue?(N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(B=Ae.stateNode,G=Ae.memoizedProps.style,R=G!=null&&G.hasOwnProperty("display")?G.display:null,B.style.display=dn("display",R))}catch(tt){En(n,n.return,tt)}}}else if(Ae.tag===6){if(Le===null)try{Ae.stateNode.nodeValue=ue?"":Ae.memoizedProps}catch(tt){En(n,n.return,tt)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===n)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===n)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===n)break e;Le===Ae&&(Le=null),Ae=Ae.return}Le===Ae&&(Le=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:vs(i,n),Fs(n),m&4&&yv(n);break;case 21:break;default:vs(i,n),Fs(n)}}function Fs(n){var i=n.flags;if(i&2){try{e:{for(var u=n.return;u!==null;){if(gv(u)){var m=u;break e}u=u.return}throw Error(r(160))}switch(m.tag){case 5:var w=m.stateNode;m.flags&32&&(bt(w,""),m.flags&=-33);var N=vv(n);Hh(n,N,w);break;case 3:case 4:var R=m.stateNode.containerInfo,B=vv(n);Uh(n,B,R);break;default:throw Error(r(161))}}catch(G){En(n,n.return,G)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function P1(n,i,u){Je=n,_v(n)}function _v(n,i,u){for(var m=(n.mode&1)!==0;Je!==null;){var w=Je,N=w.child;if(w.tag===22&&m){var R=w.memoizedState!==null||ad;if(!R){var B=w.alternate,G=B!==null&&B.memoizedState!==null||Xn;B=ad;var ue=Xn;if(ad=R,(Xn=G)&&!ue)for(Je=w;Je!==null;)R=Je,G=R.child,R.tag===22&&R.memoizedState!==null?Sv(w):G!==null?(G.return=R,Je=G):Sv(w);for(;N!==null;)Je=N,_v(N),N=N.sibling;Je=w,ad=B,Xn=ue}bv(n)}else(w.subtreeFlags&8772)!==0&&N!==null?(N.return=w,Je=N):bv(n)}}function bv(n){for(;Je!==null;){var i=Je;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Xn||ld(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!Xn)if(u===null)m.componentDidMount();else{var w=i.elementType===i.type?u.memoizedProps:ps(i.type,u.memoizedProps);m.componentDidUpdate(w,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var N=i.updateQueue;N!==null&&Ng(i,N,m);break;case 3:var R=i.updateQueue;if(R!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}Ng(i,R,u)}break;case 5:var B=i.stateNode;if(u===null&&i.flags&4){u=B;var G=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&u.focus();break;case"img":G.src&&(u.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ue=i.alternate;if(ue!==null){var Le=ue.memoizedState;if(Le!==null){var Ae=Le.dehydrated;Ae!==null&&Tr(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Xn||i.flags&512&&Bh(i)}catch(Me){En(i,i.return,Me)}}if(i===n){Je=null;break}if(u=i.sibling,u!==null){u.return=i.return,Je=u;break}Je=i.return}}function Nv(n){for(;Je!==null;){var i=Je;if(i===n){Je=null;break}var u=i.sibling;if(u!==null){u.return=i.return,Je=u;break}Je=i.return}}function Sv(n){for(;Je!==null;){var i=Je;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{ld(4,i)}catch(G){En(i,u,G)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var w=i.return;try{m.componentDidMount()}catch(G){En(i,w,G)}}var N=i.return;try{Bh(i)}catch(G){En(i,N,G)}break;case 5:var R=i.return;try{Bh(i)}catch(G){En(i,R,G)}}}catch(G){En(i,i.return,G)}if(i===n){Je=null;break}var B=i.sibling;if(B!==null){B.return=i.return,Je=B;break}Je=i.return}}var T1=Math.ceil,cd=I.ReactCurrentDispatcher,Wh=I.ReactCurrentOwner,Qr=I.ReactCurrentBatchConfig,Xt=0,Bn=null,Rn=null,Wn=0,Ir=0,nl=Wo(0),Fn=0,jc=null,Zi=0,ud=0,Vh=0,Ec=null,xr=null,qh=0,rl=1/0,mo=null,dd=!1,Zh=null,Ko=null,fd=!1,Xo=null,hd=0,Cc=0,Gh=null,md=-1,pd=0;function ir(){return(Xt&6)!==0?yn():md!==-1?md:md=yn()}function Qo(n){return(n.mode&1)===0?1:(Xt&2)!==0&&Wn!==0?Wn&-Wn:f1.transition!==null?(pd===0&&(pd=xu()),pd):(n=Gt,n!==0||(n=window.event,n=n===void 0?16:qt(n.type)),n)}function xs(n,i,u,m){if(50<Cc)throw Cc=0,Gh=null,Error(r(185));Cr(n,u,m),((Xt&2)===0||n!==Bn)&&(n===Bn&&((Xt&2)===0&&(ud|=u),Fn===4&&Jo(n,Wn)),yr(n,m),u===1&&Xt===0&&(i.mode&1)===0&&(rl=yn()+500,Hu&&qo()))}function yr(n,i){var u=n.callbackNode;Na(n,i);var m=cn(n,n===Bn?Wn:0);if(m===0)u!==null&&Ul(u),n.callbackNode=null,n.callbackPriority=0;else if(i=m&-m,n.callbackPriority!==i){if(u!=null&&Ul(u),i===1)n.tag===0?d1(Ev.bind(null,n)):dg(Ev.bind(null,n)),Zn(function(){(Xt&6)===0&&qo()}),u=null;else{switch(Co(m)){case 1:u=Hl;break;case 4:u=vu;break;case 16:u=_a;break;case 536870912:u=No;break;default:u=_a}u=Av(u,jv.bind(null,n))}n.callbackPriority=i,n.callbackNode=u}}function jv(n,i){if(md=-1,pd=0,(Xt&6)!==0)throw Error(r(327));var u=n.callbackNode;if(sl()&&n.callbackNode!==u)return null;var m=cn(n,n===Bn?Wn:0);if(m===0)return null;if((m&30)!==0||(m&n.expiredLanes)!==0||i)i=gd(n,m);else{i=m;var w=Xt;Xt|=2;var N=Pv();(Bn!==n||Wn!==i)&&(mo=null,rl=yn()+500,Yi(n,i));do try{R1();break}catch(B){Cv(n,B)}while(!0);fh(),cd.current=N,Xt=w,Rn!==null?i=0:(Bn=null,Wn=0,i=Fn)}if(i!==0){if(i===2&&(w=Vn(n),w!==0&&(m=w,i=Yh(n,w))),i===1)throw u=jc,Yi(n,0),Jo(n,m),yr(n,yn()),u;if(i===6)Jo(n,m);else{if(w=n.current.alternate,(m&30)===0&&!k1(w)&&(i=gd(n,m),i===2&&(N=Vn(n),N!==0&&(m=N,i=Yh(n,N))),i===1))throw u=jc,Yi(n,0),Jo(n,m),yr(n,yn()),u;switch(n.finishedWork=w,n.finishedLanes=m,i){case 0:case 1:throw Error(r(345));case 2:Ki(n,xr,mo);break;case 3:if(Jo(n,m),(m&130023424)===m&&(i=qh+500-yn(),10<i)){if(cn(n,0)!==0)break;if(w=n.suspendedLanes,(w&m)!==m){ir(),n.pingedLanes|=n.suspendedLanes&w;break}n.timeoutHandle=In(Ki.bind(null,n,xr,mo),i);break}Ki(n,xr,mo);break;case 4:if(Jo(n,m),(m&4194240)===m)break;for(i=n.eventTimes,w=-1;0<m;){var R=31-kt(m);N=1<<R,R=i[R],R>w&&(w=R),m&=~N}if(m=w,m=yn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*T1(m/1960))-m,10<m){n.timeoutHandle=In(Ki.bind(null,n,xr,mo),m);break}Ki(n,xr,mo);break;case 5:Ki(n,xr,mo);break;default:throw Error(r(329))}}}return yr(n,yn()),n.callbackNode===u?jv.bind(null,n):null}function Yh(n,i){var u=Ec;return n.current.memoizedState.isDehydrated&&(Yi(n,i).flags|=256),n=gd(n,i),n!==2&&(i=xr,xr=u,i!==null&&Kh(i)),n}function Kh(n){xr===null?xr=n:xr.push.apply(xr,n)}function k1(n){for(var i=n;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var w=u[m],N=w.getSnapshot;w=w.value;try{if(!Rr(N(),w))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jo(n,i){for(i&=~Vh,i&=~ud,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var u=31-kt(i),m=1<<u;n[u]=-1,i&=~m}}function Ev(n){if((Xt&6)!==0)throw Error(r(327));sl();var i=cn(n,0);if((i&1)===0)return yr(n,yn()),null;var u=gd(n,i);if(n.tag!==0&&u===2){var m=Vn(n);m!==0&&(i=m,u=Yh(n,m))}if(u===1)throw u=jc,Yi(n,0),Jo(n,i),yr(n,yn()),u;if(u===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Ki(n,xr,mo),yr(n,yn()),null}function Xh(n,i){var u=Xt;Xt|=1;try{return n(i)}finally{Xt=u,Xt===0&&(rl=yn()+500,Hu&&qo())}}function Gi(n){Xo!==null&&Xo.tag===0&&(Xt&6)===0&&sl();var i=Xt;Xt|=1;var u=Qr.transition,m=Gt;try{if(Qr.transition=null,Gt=1,n)return n()}finally{Gt=m,Qr.transition=u,Xt=i,(Xt&6)===0&&qo()}}function Qh(){Ir=nl.current,hn(nl)}function Yi(n,i){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,Mn(u)),Rn!==null)for(u=Rn.return;u!==null;){var m=u;switch(ah(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Bu();break;case 3:Ja(),hn(pr),hn(Gn),wh();break;case 5:xh(m);break;case 4:Ja();break;case 13:hn(_n);break;case 19:hn(_n);break;case 10:hh(m.type._context);break;case 22:case 23:Qh()}u=u.return}if(Bn=n,Rn=n=ei(n.current,null),Wn=Ir=i,Fn=0,jc=null,Vh=ud=Zi=0,xr=Ec=null,Wi!==null){for(i=0;i<Wi.length;i++)if(u=Wi[i],m=u.interleaved,m!==null){u.interleaved=null;var w=m.next,N=u.pending;if(N!==null){var R=N.next;N.next=w,m.next=R}u.pending=m}Wi=null}return n}function Cv(n,i){do{var u=Rn;try{if(fh(),Ju.current=rd,ed){for(var m=bn.memoizedState;m!==null;){var w=m.queue;w!==null&&(w.pending=null),m=m.next}ed=!1}if(qi=0,zn=On=bn=null,yc=!1,wc=0,Wh.current=null,u===null||u.return===null){Fn=1,jc=i,Rn=null;break}e:{var N=n,R=u.return,B=u,G=i;if(i=Wn,B.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=G,Le=B,Ae=Le.tag;if((Le.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var Me=Le.alternate;Me?(Le.updateQueue=Me.updateQueue,Le.memoizedState=Me.memoizedState,Le.lanes=Me.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var Xe=Qg(R);if(Xe!==null){Xe.flags&=-257,Jg(Xe,R,B,N,i),Xe.mode&1&&Xg(N,ue,i),i=Xe,G=ue;var et=i.updateQueue;if(et===null){var tt=new Set;tt.add(G),i.updateQueue=tt}else et.add(G);break e}else{if((i&1)===0){Xg(N,ue,i),Jh();break e}G=Error(r(426))}}else if(gn&&B.mode&1){var Tn=Qg(R);if(Tn!==null){(Tn.flags&65536)===0&&(Tn.flags|=256),Jg(Tn,R,B,N,i),uh(el(G,B));break e}}N=G=el(G,B),Fn!==4&&(Fn=2),Ec===null?Ec=[N]:Ec.push(N),N=R;do{switch(N.tag){case 3:N.flags|=65536,i&=-i,N.lanes|=i;var se=Yg(N,G,i);bg(N,se);break e;case 1:B=G;var X=N.type,ie=N.stateNode;if((N.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Ko===null||!Ko.has(ie)))){N.flags|=65536,i&=-i,N.lanes|=i;var Fe=Kg(N,B,i);bg(N,Fe);break e}}N=N.return}while(N!==null)}kv(u)}catch(nt){i=nt,Rn===u&&u!==null&&(Rn=u=u.return);continue}break}while(!0)}function Pv(){var n=cd.current;return cd.current=rd,n===null?rd:n}function Jh(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Bn===null||(Zi&268435455)===0&&(ud&268435455)===0||Jo(Bn,Wn)}function gd(n,i){var u=Xt;Xt|=2;var m=Pv();(Bn!==n||Wn!==i)&&(mo=null,Yi(n,i));do try{M1();break}catch(w){Cv(n,w)}while(!0);if(fh(),Xt=u,cd.current=m,Rn!==null)throw Error(r(261));return Bn=null,Wn=0,Fn}function M1(){for(;Rn!==null;)Tv(Rn)}function R1(){for(;Rn!==null&&!zf();)Tv(Rn)}function Tv(n){var i=Lv(n.alternate,n,Ir);n.memoizedProps=n.pendingProps,i===null?kv(n):Rn=i,Wh.current=null}function kv(n){var i=n;do{var u=i.alternate;if(n=i.return,(i.flags&32768)===0){if(u=S1(u,i,Ir),u!==null){Rn=u;return}}else{if(u=j1(u,i),u!==null){u.flags&=32767,Rn=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Fn=6,Rn=null;return}}if(i=i.sibling,i!==null){Rn=i;return}Rn=i=n}while(i!==null);Fn===0&&(Fn=5)}function Ki(n,i,u){var m=Gt,w=Qr.transition;try{Qr.transition=null,Gt=1,L1(n,i,u,m)}finally{Qr.transition=w,Gt=m}return null}function L1(n,i,u,m){do sl();while(Xo!==null);if((Xt&6)!==0)throw Error(r(327));u=n.finishedWork;var w=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var N=u.lanes|u.childLanes;if(jn(n,N),n===Bn&&(Rn=Bn=null,Wn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||fd||(fd=!0,Av(_a,function(){return sl(),null})),N=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||N){N=Qr.transition,Qr.transition=null;var R=Gt;Gt=1;var B=Xt;Xt|=4,Wh.current=null,C1(n,u),wv(u,n),Vr(ut),Li=!!Ge,ut=Ge=null,n.current=u,P1(u),wa(),Xt=B,Gt=R,Qr.transition=N}else n.current=u;if(fd&&(fd=!1,Xo=n,hd=w),N=n.pendingLanes,N===0&&(Ko=null),Pi(u.stateNode),yr(n,yn()),i!==null)for(m=n.onRecoverableError,u=0;u<i.length;u++)w=i[u],m(w.value,{componentStack:w.stack,digest:w.digest});if(dd)throw dd=!1,n=Zh,Zh=null,n;return(hd&1)!==0&&n.tag!==0&&sl(),N=n.pendingLanes,(N&1)!==0?n===Gh?Cc++:(Cc=0,Gh=n):Cc=0,qo(),null}function sl(){if(Xo!==null){var n=Co(hd),i=Qr.transition,u=Gt;try{if(Qr.transition=null,Gt=16>n?16:n,Xo===null)var m=!1;else{if(n=Xo,Xo=null,hd=0,(Xt&6)!==0)throw Error(r(331));var w=Xt;for(Xt|=4,Je=n.current;Je!==null;){var N=Je,R=N.child;if((Je.flags&16)!==0){var B=N.deletions;if(B!==null){for(var G=0;G<B.length;G++){var ue=B[G];for(Je=ue;Je!==null;){var Le=Je;switch(Le.tag){case 0:case 11:case 15:Sc(8,Le,N)}var Ae=Le.child;if(Ae!==null)Ae.return=Le,Je=Ae;else for(;Je!==null;){Le=Je;var Me=Le.sibling,Xe=Le.return;if(pv(Le),Le===ue){Je=null;break}if(Me!==null){Me.return=Xe,Je=Me;break}Je=Xe}}}var et=N.alternate;if(et!==null){var tt=et.child;if(tt!==null){et.child=null;do{var Tn=tt.sibling;tt.sibling=null,tt=Tn}while(tt!==null)}}Je=N}}if((N.subtreeFlags&2064)!==0&&R!==null)R.return=N,Je=R;else e:for(;Je!==null;){if(N=Je,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:Sc(9,N,N.return)}var se=N.sibling;if(se!==null){se.return=N.return,Je=se;break e}Je=N.return}}var X=n.current;for(Je=X;Je!==null;){R=Je;var ie=R.child;if((R.subtreeFlags&2064)!==0&&ie!==null)ie.return=R,Je=ie;else e:for(R=X;Je!==null;){if(B=Je,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:ld(9,B)}}catch(nt){En(B,B.return,nt)}if(B===R){Je=null;break e}var Fe=B.sibling;if(Fe!==null){Fe.return=B.return,Je=Fe;break e}Je=B.return}}if(Xt=w,qo(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Ci,n)}catch{}m=!0}return m}finally{Gt=u,Qr.transition=i}}return!1}function Mv(n,i,u){i=el(u,i),i=Yg(n,i,1),n=Go(n,i,1),i=ir(),n!==null&&(Cr(n,1,i),yr(n,i))}function En(n,i,u){if(n.tag===3)Mv(n,n,u);else for(;i!==null;){if(i.tag===3){Mv(i,n,u);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ko===null||!Ko.has(m))){n=el(u,n),n=Kg(i,n,1),i=Go(i,n,1),n=ir(),i!==null&&(Cr(i,1,n),yr(i,n));break}}i=i.return}}function A1(n,i,u){var m=n.pingCache;m!==null&&m.delete(i),i=ir(),n.pingedLanes|=n.suspendedLanes&u,Bn===n&&(Wn&u)===u&&(Fn===4||Fn===3&&(Wn&130023424)===Wn&&500>yn()-qh?Yi(n,0):Vh|=u),yr(n,i)}function Rv(n,i){i===0&&((n.mode&1)===0?i=1:(i=jo,jo<<=1,(jo&130023424)===0&&(jo=4194304)));var u=ir();n=uo(n,i),n!==null&&(Cr(n,i,u),yr(n,u))}function D1(n){var i=n.memoizedState,u=0;i!==null&&(u=i.retryLane),Rv(n,u)}function I1(n,i){var u=0;switch(n.tag){case 13:var m=n.stateNode,w=n.memoizedState;w!==null&&(u=w.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(i),Rv(n,u)}var Lv;Lv=function(n,i,u){if(n!==null)if(n.memoizedProps!==i.pendingProps||pr.current)vr=!0;else{if((n.lanes&u)===0&&(i.flags&128)===0)return vr=!1,N1(n,i,u);vr=(n.flags&131072)!==0}else vr=!1,gn&&(i.flags&1048576)!==0&&fg(i,Vu,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;id(n,i),n=i.pendingProps;var w=qa(i,Gn.current);Qa(i,u),w=Nh(null,i,m,n,w,u);var N=Sh();return i.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,gr(m)?(N=!0,Uu(i)):N=!1,i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,gh(i),w.updater=sd,i.stateNode=w,w._reactInternals=i,kh(i,m,n,u),i=Ah(null,i,m,!0,N,u)):(i.tag=0,gn&&N&&ih(i),or(null,i,w,u),i=i.child),i;case 16:m=i.elementType;e:{switch(id(n,i),n=i.pendingProps,w=m._init,m=w(m._payload),i.type=m,w=i.tag=F1(m),n=ps(m,n),w){case 0:i=Lh(null,i,m,n,u);break e;case 1:i=ov(null,i,m,n,u);break e;case 11:i=ev(null,i,m,n,u);break e;case 14:i=tv(null,i,m,ps(m.type,n),u);break e}throw Error(r(306,m,""))}return i;case 0:return m=i.type,w=i.pendingProps,w=i.elementType===m?w:ps(m,w),Lh(n,i,m,w,u);case 1:return m=i.type,w=i.pendingProps,w=i.elementType===m?w:ps(m,w),ov(n,i,m,w,u);case 3:e:{if(iv(i),n===null)throw Error(r(387));m=i.pendingProps,N=i.memoizedState,w=N.element,_g(n,i),Xu(i,m,null,u);var R=i.memoizedState;if(m=R.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},i.updateQueue.baseState=N,i.memoizedState=N,i.flags&256){w=el(Error(r(423)),i),i=av(n,i,m,u,w);break e}else if(m!==w){w=el(Error(r(424)),i),i=av(n,i,m,u,w);break e}else for(Dr=Ds(i.stateNode.containerInfo.firstChild),Ar=i,gn=!0,ms=null,u=yg(i,null,m,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ya(),m===w){i=ho(n,i,u);break e}or(n,i,m,u)}i=i.child}return i;case 5:return Sg(i),n===null&&ch(i),m=i.type,w=i.pendingProps,N=n!==null?n.memoizedProps:null,R=w.children,Lt(m,w)?R=null:N!==null&&Lt(m,N)&&(i.flags|=32),sv(n,i),or(n,i,R,u),i.child;case 6:return n===null&&ch(i),null;case 13:return lv(n,i,u);case 4:return vh(i,i.stateNode.containerInfo),m=i.pendingProps,n===null?i.child=Ka(i,null,m,u):or(n,i,m,u),i.child;case 11:return m=i.type,w=i.pendingProps,w=i.elementType===m?w:ps(m,w),ev(n,i,m,w,u);case 7:return or(n,i,i.pendingProps,u),i.child;case 8:return or(n,i,i.pendingProps.children,u),i.child;case 12:return or(n,i,i.pendingProps.children,u),i.child;case 10:e:{if(m=i.type._context,w=i.pendingProps,N=i.memoizedProps,R=w.value,un(Gu,m._currentValue),m._currentValue=R,N!==null)if(Rr(N.value,R)){if(N.children===w.children&&!pr.current){i=ho(n,i,u);break e}}else for(N=i.child,N!==null&&(N.return=i);N!==null;){var B=N.dependencies;if(B!==null){R=N.child;for(var G=B.firstContext;G!==null;){if(G.context===m){if(N.tag===1){G=fo(-1,u&-u),G.tag=2;var ue=N.updateQueue;if(ue!==null){ue=ue.shared;var Le=ue.pending;Le===null?G.next=G:(G.next=Le.next,Le.next=G),ue.pending=G}}N.lanes|=u,G=N.alternate,G!==null&&(G.lanes|=u),mh(N.return,u,i),B.lanes|=u;break}G=G.next}}else if(N.tag===10)R=N.type===i.type?null:N.child;else if(N.tag===18){if(R=N.return,R===null)throw Error(r(341));R.lanes|=u,B=R.alternate,B!==null&&(B.lanes|=u),mh(R,u,i),R=N.sibling}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===i){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}or(n,i,w.children,u),i=i.child}return i;case 9:return w=i.type,m=i.pendingProps.children,Qa(i,u),w=Kr(w),m=m(w),i.flags|=1,or(n,i,m,u),i.child;case 14:return m=i.type,w=ps(m,i.pendingProps),w=ps(m.type,w),tv(n,i,m,w,u);case 15:return nv(n,i,i.type,i.pendingProps,u);case 17:return m=i.type,w=i.pendingProps,w=i.elementType===m?w:ps(m,w),id(n,i),i.tag=1,gr(m)?(n=!0,Uu(i)):n=!1,Qa(i,u),Zg(i,m,w),kh(i,m,w,u),Ah(null,i,m,!0,n,u);case 19:return uv(n,i,u);case 22:return rv(n,i,u)}throw Error(r(156,i.tag))};function Av(n,i){return gu(n,i)}function O1(n,i,u,m){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(n,i,u,m){return new O1(n,i,u,m)}function em(n){return n=n.prototype,!(!n||!n.isReactComponent)}function F1(n){if(typeof n=="function")return em(n)?1:0;if(n!=null){if(n=n.$$typeof,n===he)return 11;if(n===$e)return 14}return 2}function ei(n,i){var u=n.alternate;return u===null?(u=Jr(n.tag,i,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=i,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,i=n.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function vd(n,i,u,m,w,N){var R=2;if(m=n,typeof n=="function")em(n)&&(R=1);else if(typeof n=="string")R=5;else e:switch(n){case H:return Xi(u.children,w,N,i);case te:R=8,w|=8;break;case V:return n=Jr(12,u,i,w|2),n.elementType=V,n.lanes=N,n;case De:return n=Jr(13,u,i,w),n.elementType=De,n.lanes=N,n;case de:return n=Jr(19,u,i,w),n.elementType=de,n.lanes=N,n;case xe:return xd(u,w,N,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:R=10;break e;case ee:R=9;break e;case he:R=11;break e;case $e:R=14;break e;case J:R=16,m=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=Jr(R,u,i,w),i.elementType=n,i.type=m,i.lanes=N,i}function Xi(n,i,u,m){return n=Jr(7,n,m,i),n.lanes=u,n}function xd(n,i,u,m){return n=Jr(22,n,m,i),n.elementType=xe,n.lanes=u,n.stateNode={isHidden:!1},n}function tm(n,i,u){return n=Jr(6,n,null,i),n.lanes=u,n}function nm(n,i,u){return i=Jr(4,n.children!==null?n.children:[],n.key,i),i.lanes=u,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function $1(n,i,u,m,w){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=m,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function rm(n,i,u,m,w,N,R,B,G){return n=new $1(n,i,u,B,G),i===1?(i=1,N===!0&&(i|=8)):i=0,N=Jr(3,null,null,i),n.current=N,N.stateNode=n,N.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(N),n}function z1(n,i,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:m==null?null:""+m,children:n,containerInfo:i,implementation:u}}function Dv(n){if(!n)return Vo;n=n._reactInternals;e:{if(Cs(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(gr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var u=n.type;if(gr(u))return cg(n,u,i)}return i}function Iv(n,i,u,m,w,N,R,B,G){return n=rm(u,m,!0,n,w,N,R,B,G),n.context=Dv(null),u=n.current,m=ir(),w=Qo(u),N=fo(m,w),N.callback=i??null,Go(u,N,w),n.current.lanes=w,Cr(n,w,m),yr(n,m),n}function yd(n,i,u,m){var w=i.current,N=ir(),R=Qo(w);return u=Dv(u),i.context===null?i.context=u:i.pendingContext=u,i=fo(N,R),i.payload={element:n},m=m===void 0?null:m,m!==null&&(i.callback=m),n=Go(w,i,R),n!==null&&(xs(n,w,R,N),Ku(n,w,R)),R}function wd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Ov(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<i?u:i}}function sm(n,i){Ov(n,i),(n=n.alternate)&&Ov(n,i)}function B1(){return null}var Fv=typeof reportError=="function"?reportError:function(n){console.error(n)};function om(n){this._internalRoot=n}_d.prototype.render=om.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));yd(n,i,null,null)},_d.prototype.unmount=om.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Gi(function(){yd(null,n,null,null)}),i[tn]=null}};function _d(n){this._internalRoot=n}_d.prototype.unstable_scheduleHydration=function(n){if(n){var i=Ea();n={blockedOn:null,target:n,priority:i};for(var u=0;u<Dn.length&&i!==0&&i<Dn[u].priority;u++);Dn.splice(u,0,n),u===0&&Ca(n)}};function im(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function bd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function $v(){}function U1(n,i,u,m,w){if(w){if(typeof m=="function"){var N=m;m=function(){var ue=wd(R);N.call(ue)}}var R=Iv(i,m,n,0,null,!1,!1,"",$v);return n._reactRootContainer=R,n[tn]=R.current,zo(n.nodeType===8?n.parentNode:n),Gi(),R}for(;w=n.lastChild;)n.removeChild(w);if(typeof m=="function"){var B=m;m=function(){var ue=wd(G);B.call(ue)}}var G=rm(n,0,!1,null,null,!1,!1,"",$v);return n._reactRootContainer=G,n[tn]=G.current,zo(n.nodeType===8?n.parentNode:n),Gi(function(){yd(i,G,u,m)}),G}function Nd(n,i,u,m,w){var N=u._reactRootContainer;if(N){var R=N;if(typeof w=="function"){var B=w;w=function(){var G=wd(R);B.call(G)}}yd(i,R,n,w)}else R=U1(u,i,n,w,m);return wd(R)}Sa=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var u=Ct(i.pendingLanes);u!==0&&(cs(i,u|1),yr(i,yn()),(Xt&6)===0&&(rl=yn()+500,qo()))}break;case 13:Gi(function(){var m=uo(n,1);if(m!==null){var w=ir();xs(m,n,1,w)}}),sm(n,1)}},Ys=function(n){if(n.tag===13){var i=uo(n,134217728);if(i!==null){var u=ir();xs(i,n,134217728,u)}sm(n,134217728)}},ja=function(n){if(n.tag===13){var i=Qo(n),u=uo(n,i);if(u!==null){var m=ir();xs(u,n,i,m)}sm(n,i)}},Ea=function(){return Gt},Ti=function(n,i){var u=Gt;try{return Gt=n,i()}finally{Gt=u}},Oe=function(n,i,u){switch(i){case"input":if(Z(n,u),i=u.name,u.type==="radio"&&i!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var m=u[i];if(m!==n&&m.form===n.form){var w=Wa(m);if(!w)throw Error(r(90));We(m),Z(m,w)}}}break;case"textarea":on(n,u);break;case"select":i=u.value,i!=null&&Ze(n,!!u.multiple,i,!1)}},Re=Xh,Ie=Gi;var H1={usingClientEntryPoint:!1,Events:[oo,io,Wa,re,we,Xh]},Pc={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W1={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=mu(n),n===null?null:n.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||B1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{Ci=Sd.inject(W1),Er=Sd}catch{}}return wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H1,wr.createPortal=function(n,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(i))throw Error(r(200));return z1(n,i,null,u)},wr.createRoot=function(n,i){if(!im(n))throw Error(r(299));var u=!1,m="",w=Fv;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=rm(n,1,!1,null,null,u,!1,m,w),n[tn]=i.current,zo(n.nodeType===8?n.parentNode:n),new om(i)},wr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=mu(i),n=n===null?null:n.stateNode,n},wr.flushSync=function(n){return Gi(n)},wr.hydrate=function(n,i,u){if(!bd(i))throw Error(r(200));return Nd(null,n,i,!0,u)},wr.hydrateRoot=function(n,i,u){if(!im(n))throw Error(r(405));var m=u!=null&&u.hydratedSources||null,w=!1,N="",R=Fv;if(u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(N=u.identifierPrefix),u.onRecoverableError!==void 0&&(R=u.onRecoverableError)),i=Iv(i,null,n,1,u??null,w,!1,N,R),n[tn]=i.current,zo(n),m)for(n=0;n<m.length;n++)u=m[n],w=u._getVersion,w=w(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,w]:i.mutableSourceEagerHydrationData.push(u,w);return new _d(i)},wr.render=function(n,i,u){if(!bd(i))throw Error(r(200));return Nd(null,n,i,!1,u)},wr.unmountComponentAtNode=function(n){if(!bd(n))throw Error(r(40));return n._reactRootContainer?(Gi(function(){Nd(null,null,n,!1,function(){n._reactRootContainer=null,n[tn]=null})}),!0):!1},wr.unstable_batchedUpdates=Xh,wr.unstable_renderSubtreeIntoContainer=function(n,i,u,m){if(!bd(u))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return Nd(n,i,u,!1,m)},wr.version="18.3.1-next-f1338f8080-20240426",wr}var Yv;function ky(){if(Yv)return fm.exports;Yv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),fm.exports=sN(),fm.exports}var va=ky();const lf=wp(va);function lt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(c){if(e==null||e(c),r===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function oN(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function My(...e){return t=>e.forEach(r=>oN(r,t))}function Vt(...e){return g.useCallback(My(...e),e)}function Ll(e,t=[]){let r=[];function a(d,f){const p=g.createContext(f),v=r.length;r=[...r,f];function x(b){const{scope:S,children:k,...P}=b,j=(S==null?void 0:S[e][v])||p,C=g.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:k})}function _(b,S){const k=(S==null?void 0:S[e][v])||p,P=g.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return x.displayName=d+"Provider",[x,_]}const c=()=>{const d=r.map(f=>g.createContext(f));return function(p){const v=(p==null?void 0:p[e])||d;return g.useMemo(()=>({[`__scope${e}`]:{...p,[e]:v}}),[p,v])}};return c.scopeName=e,[a,iN(c,...t)]}function iN(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:v,scopeName:x})=>{const b=v(d)[`__scope${x}`];return{...p,...b}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var da=g.forwardRef((e,t)=>{const{children:r,...a}=e,c=g.Children.toArray(r),d=c.find(aN);if(d){const f=d.props.children,p=c.map(v=>v===d?g.Children.count(f)>1?g.Children.only(null):g.isValidElement(f)?f.props.children:null:v);return o.jsx(Om,{...a,ref:t,children:g.isValidElement(f)?g.cloneElement(f,void 0,p):null})}return o.jsx(Om,{...a,ref:t,children:r})});da.displayName="Slot";var Om=g.forwardRef((e,t)=>{const{children:r,...a}=e;if(g.isValidElement(r)){const c=cN(r);return g.cloneElement(r,{...lN(a,r.props),ref:t?My(t,c):c})}return g.Children.count(r)>1?g.Children.only(null):null});Om.displayName="SlotClone";var Ry=({children:e})=>o.jsx(o.Fragment,{children:e});function aN(e){return g.isValidElement(e)&&e.type===Ry}function lN(e,t){const r={...t};for(const a in t){const c=e[a],d=t[a];/^on[A-Z]/.test(a)?c&&d?r[a]=(...p)=>{d(...p),c(...p)}:c&&(r[a]=c):a==="style"?r[a]={...c,...d}:a==="className"&&(r[a]=[c,d].filter(Boolean).join(" "))}return{...e,...r}}function cN(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ly(e){const t=e+"CollectionProvider",[r,a]=Ll(t),[c,d]=r(t,{collectionRef:{current:null},itemMap:new Map}),f=k=>{const{scope:P,children:j}=k,C=Ue.useRef(null),T=Ue.useRef(new Map).current;return o.jsx(c,{scope:P,itemMap:T,collectionRef:C,children:j})};f.displayName=t;const p=e+"CollectionSlot",v=Ue.forwardRef((k,P)=>{const{scope:j,children:C}=k,T=d(p,j),D=Vt(P,T.collectionRef);return o.jsx(da,{ref:D,children:C})});v.displayName=p;const x=e+"CollectionItemSlot",_="data-radix-collection-item",b=Ue.forwardRef((k,P)=>{const{scope:j,children:C,...T}=k,D=Ue.useRef(null),M=Vt(P,D),I=d(x,j);return Ue.useEffect(()=>(I.itemMap.set(D,{ref:D,...T}),()=>void I.itemMap.delete(D))),o.jsx(da,{[_]:"",ref:M,children:C})});b.displayName=x;function S(k){const P=d(e+"CollectionConsumer",k);return Ue.useCallback(()=>{const C=P.collectionRef.current;if(!C)return[];const T=Array.from(C.querySelectorAll(`[${_}]`));return Array.from(P.itemMap.values()).sort((I,O)=>T.indexOf(I.ref.current)-T.indexOf(O.ref.current))},[P.collectionRef,P.itemMap])}return[{Provider:f,Slot:v,ItemSlot:b},S,a]}var uN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pt=uN.reduce((e,t)=>{const r=g.forwardRef((a,c)=>{const{asChild:d,...f}=a,p=d?da:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(p,{...f,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function cf(e,t){e&&va.flushSync(()=>e.dispatchEvent(t))}function xn(e){const t=g.useRef(e);return g.useEffect(()=>{t.current=e}),g.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function bp(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e);g.useEffect(()=>{const a=c=>{c.key==="Escape"&&r(c)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var dN="DismissableLayer",Fm="dismissableLayer.update",fN="dismissableLayer.pointerDownOutside",hN="dismissableLayer.focusOutside",Kv,Ay=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dy=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...v}=e,x=g.useContext(Ay),[_,b]=g.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=g.useState({}),P=Vt(t,H=>b(H)),j=Array.from(x.layers),[C]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(C),D=_?j.indexOf(_):-1,M=x.layersWithOutsidePointerEventsDisabled.size>0,I=D>=T,O=pN(H=>{const te=H.target,V=[...x.branches].some(Y=>Y.contains(te));!I||V||(c==null||c(H),f==null||f(H),H.defaultPrevented||p==null||p())},S),q=gN(H=>{const te=H.target;[...x.branches].some(Y=>Y.contains(te))||(d==null||d(H),f==null||f(H),H.defaultPrevented||p==null||p())},S);return bp(H=>{D===x.layers.size-1&&(a==null||a(H),!H.defaultPrevented&&p&&(H.preventDefault(),p()))},S),g.useEffect(()=>{if(_)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(Kv=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(_)),x.layers.add(_),Xv(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Kv)}},[_,S,r,x]),g.useEffect(()=>()=>{_&&(x.layers.delete(_),x.layersWithOutsidePointerEventsDisabled.delete(_),Xv())},[_,x]),g.useEffect(()=>{const H=()=>k({});return document.addEventListener(Fm,H),()=>document.removeEventListener(Fm,H)},[]),o.jsx(Pt.div,{...v,ref:P,style:{pointerEvents:M?I?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,q.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,q.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,O.onPointerDownCapture)})});Dy.displayName=dN;var mN="DismissableLayerBranch",Iy=g.forwardRef((e,t)=>{const r=g.useContext(Ay),a=g.useRef(null),c=Vt(t,a);return g.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(Pt.div,{...e,ref:c})});Iy.displayName=mN;function pN(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1),c=g.useRef(()=>{});return g.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let v=function(){Oy(fN,r,x,{discrete:!0})};const x={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=v,t.addEventListener("click",c.current,{once:!0})):v()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function gN(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1);return g.useEffect(()=>{const c=d=>{d.target&&!a.current&&Oy(hN,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Xv(){const e=new CustomEvent(Fm);document.dispatchEvent(e)}function Oy(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var vN=Dy,xN=Iy,Sn=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},yN="Portal",Fy=g.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=g.useState(!1);Sn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?lf.createPortal(o.jsx(Pt.div,{...a,ref:t}),f):null});Fy.displayName=yN;function wN(e,t){return g.useReducer((r,a)=>t[r][a]??r,e)}var xa=e=>{const{present:t,children:r}=e,a=_N(t),c=typeof r=="function"?r({present:a.isPresent}):g.Children.only(r),d=Vt(a.ref,bN(c));return typeof r=="function"||a.isPresent?g.cloneElement(c,{ref:d}):null};xa.displayName="Presence";function _N(e){const[t,r]=g.useState(),a=g.useRef({}),c=g.useRef(e),d=g.useRef("none"),f=e?"mounted":"unmounted",[p,v]=wN(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const x=Ed(a.current);d.current=p==="mounted"?x:"none"},[p]),Sn(()=>{const x=a.current,_=c.current;if(_!==e){const S=d.current,k=Ed(x);e?v("MOUNT"):k==="none"||(x==null?void 0:x.display)==="none"?v("UNMOUNT"):v(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,v]),Sn(()=>{if(t){const x=b=>{const k=Ed(a.current).includes(b.animationName);b.target===t&&k&&va.flushSync(()=>v("ANIMATION_END"))},_=b=>{b.target===t&&(d.current=Ed(a.current))};return t.addEventListener("animationstart",_),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{t.removeEventListener("animationstart",_),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:g.useCallback(x=>{x&&(a.current=getComputedStyle(x)),r(x)},[])}}function Ed(e){return(e==null?void 0:e.animationName)||"none"}function bN(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Wc({prop:e,defaultProp:t,onChange:r=()=>{}}){const[a,c]=NN({defaultProp:t,onChange:r}),d=e!==void 0,f=d?e:a,p=xn(r),v=g.useCallback(x=>{if(d){const b=typeof x=="function"?x(e):x;b!==e&&p(b)}else c(x)},[d,e,c,p]);return[f,v]}function NN({defaultProp:e,onChange:t}){const r=g.useState(e),[a]=r,c=g.useRef(a),d=xn(t);return g.useEffect(()=>{c.current!==a&&(d(a),c.current=a)},[a,c,d]),r}var SN="VisuallyHidden",nu=g.forwardRef((e,t)=>o.jsx(Pt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));nu.displayName=SN;var jN=nu,Np="ToastProvider",[Sp,EN,CN]=Ly("Toast"),[$y,zL]=Ll("Toast",[CN]),[PN,uf]=$y(Np),zy=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:f}=e,[p,v]=g.useState(null),[x,_]=g.useState(0),b=g.useRef(!1),S=g.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Np}\`. Expected non-empty \`string\`.`),o.jsx(Sp.Provider,{scope:t,children:o.jsx(PN,{scope:t,label:r,duration:a,swipeDirection:c,swipeThreshold:d,toastCount:x,viewport:p,onViewportChange:v,onToastAdd:g.useCallback(()=>_(k=>k+1),[]),onToastRemove:g.useCallback(()=>_(k=>k-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:S,children:f})})};zy.displayName=Np;var By="ToastViewport",TN=["F8"],$m="toast.viewportPause",zm="toast.viewportResume",Uy=g.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=TN,label:c="Notifications ({hotkey})",...d}=e,f=uf(By,r),p=EN(r),v=g.useRef(null),x=g.useRef(null),_=g.useRef(null),b=g.useRef(null),S=Vt(t,b,f.onViewportChange),k=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=f.toastCount>0;g.useEffect(()=>{const C=T=>{var M;a.every(I=>T[I]||T.code===I)&&((M=b.current)==null||M.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[a]),g.useEffect(()=>{const C=v.current,T=b.current;if(P&&C&&T){const D=()=>{if(!f.isClosePausedRef.current){const q=new CustomEvent($m);T.dispatchEvent(q),f.isClosePausedRef.current=!0}},M=()=>{if(f.isClosePausedRef.current){const q=new CustomEvent(zm);T.dispatchEvent(q),f.isClosePausedRef.current=!1}},I=q=>{!C.contains(q.relatedTarget)&&M()},O=()=>{C.contains(document.activeElement)||M()};return C.addEventListener("focusin",D),C.addEventListener("focusout",I),C.addEventListener("pointermove",D),C.addEventListener("pointerleave",O),window.addEventListener("blur",D),window.addEventListener("focus",M),()=>{C.removeEventListener("focusin",D),C.removeEventListener("focusout",I),C.removeEventListener("pointermove",D),C.removeEventListener("pointerleave",O),window.removeEventListener("blur",D),window.removeEventListener("focus",M)}}},[P,f.isClosePausedRef]);const j=g.useCallback(({tabbingDirection:C})=>{const D=p().map(M=>{const I=M.ref.current,O=[I,...UN(I)];return C==="forwards"?O:O.reverse()});return(C==="forwards"?D.reverse():D).flat()},[p]);return g.useEffect(()=>{const C=b.current;if(C){const T=D=>{var O,q,H;const M=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!M){const te=document.activeElement,V=D.shiftKey;if(D.target===C&&V){(O=x.current)==null||O.focus();return}const he=j({tabbingDirection:V?"backwards":"forwards"}),De=he.findIndex(de=>de===te);pm(he.slice(De+1))?D.preventDefault():V?(q=x.current)==null||q.focus():(H=_.current)==null||H.focus()}};return C.addEventListener("keydown",T),()=>C.removeEventListener("keydown",T)}},[p,j]),o.jsxs(xN,{ref:v,role:"region","aria-label":c.replace("{hotkey}",k),tabIndex:-1,style:{pointerEvents:P?void 0:"none"},children:[P&&o.jsx(Bm,{ref:x,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"forwards"});pm(C)}}),o.jsx(Sp.Slot,{scope:r,children:o.jsx(Pt.ol,{tabIndex:-1,...d,ref:S})}),P&&o.jsx(Bm,{ref:_,onFocusFromOutsideViewport:()=>{const C=j({tabbingDirection:"backwards"});pm(C)}})]})});Uy.displayName=By;var Hy="ToastFocusProxy",Bm=g.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...c}=e,d=uf(Hy,r);return o.jsx(nu,{"aria-hidden":!0,tabIndex:0,...c,ref:t,style:{position:"fixed"},onFocus:f=>{var x;const p=f.relatedTarget;!((x=d.viewport)!=null&&x.contains(p))&&a()}})});Bm.displayName=Hy;var df="Toast",kN="toast.swipeStart",MN="toast.swipeMove",RN="toast.swipeCancel",LN="toast.swipeEnd",Wy=g.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:c,onOpenChange:d,...f}=e,[p=!0,v]=Wc({prop:a,defaultProp:c,onChange:d});return o.jsx(xa,{present:r||p,children:o.jsx(IN,{open:p,...f,ref:t,onClose:()=>v(!1),onPause:xn(e.onPause),onResume:xn(e.onResume),onSwipeStart:lt(e.onSwipeStart,x=>{x.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:lt(e.onSwipeMove,x=>{const{x:_,y:b}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","move"),x.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${_}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:lt(e.onSwipeCancel,x=>{x.currentTarget.setAttribute("data-swipe","cancel"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:lt(e.onSwipeEnd,x=>{const{x:_,y:b}=x.detail.delta;x.currentTarget.setAttribute("data-swipe","end"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),x.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),x.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${_}px`),x.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),v(!1)})})})});Wy.displayName=df;var[AN,DN]=$y(df,{onClose(){}}),IN=g.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:c,open:d,onClose:f,onEscapeKeyDown:p,onPause:v,onResume:x,onSwipeStart:_,onSwipeMove:b,onSwipeCancel:S,onSwipeEnd:k,...P}=e,j=uf(df,r),[C,T]=g.useState(null),D=Vt(t,de=>T(de)),M=g.useRef(null),I=g.useRef(null),O=c||j.duration,q=g.useRef(0),H=g.useRef(O),te=g.useRef(0),{onToastAdd:V,onToastRemove:Y}=j,ee=xn(()=>{var $e;(C==null?void 0:C.contains(document.activeElement))&&(($e=j.viewport)==null||$e.focus()),f()}),he=g.useCallback(de=>{!de||de===1/0||(window.clearTimeout(te.current),q.current=new Date().getTime(),te.current=window.setTimeout(ee,de))},[ee]);g.useEffect(()=>{const de=j.viewport;if(de){const $e=()=>{he(H.current),x==null||x()},J=()=>{const xe=new Date().getTime()-q.current;H.current=H.current-xe,window.clearTimeout(te.current),v==null||v()};return de.addEventListener($m,J),de.addEventListener(zm,$e),()=>{de.removeEventListener($m,J),de.removeEventListener(zm,$e)}}},[j.viewport,O,v,x,he]),g.useEffect(()=>{d&&!j.isClosePausedRef.current&&he(O)},[d,O,j.isClosePausedRef,he]),g.useEffect(()=>(V(),()=>Y()),[V,Y]);const De=g.useMemo(()=>C?Xy(C):null,[C]);return j.viewport?o.jsxs(o.Fragment,{children:[De&&o.jsx(ON,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:De}),o.jsx(AN,{scope:r,onClose:ee,children:va.createPortal(o.jsx(Sp.ItemSlot,{scope:r,children:o.jsx(vN,{asChild:!0,onEscapeKeyDown:lt(p,()=>{j.isFocusedToastEscapeKeyDownRef.current||ee(),j.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Pt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":j.swipeDirection,...P,ref:D,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:lt(e.onKeyDown,de=>{de.key==="Escape"&&(p==null||p(de.nativeEvent),de.nativeEvent.defaultPrevented||(j.isFocusedToastEscapeKeyDownRef.current=!0,ee()))}),onPointerDown:lt(e.onPointerDown,de=>{de.button===0&&(M.current={x:de.clientX,y:de.clientY})}),onPointerMove:lt(e.onPointerMove,de=>{if(!M.current)return;const $e=de.clientX-M.current.x,J=de.clientY-M.current.y,xe=!!I.current,U=["left","right"].includes(j.swipeDirection),fe=["left","up"].includes(j.swipeDirection)?Math.min:Math.max,oe=U?fe(0,$e):0,F=U?0:fe(0,J),Q=de.pointerType==="touch"?10:2,Se={x:oe,y:F},Te={originalEvent:de,delta:Se};xe?(I.current=Se,Cd(MN,b,Te,{discrete:!1})):Qv(Se,j.swipeDirection,Q)?(I.current=Se,Cd(kN,_,Te,{discrete:!1}),de.target.setPointerCapture(de.pointerId)):(Math.abs($e)>Q||Math.abs(J)>Q)&&(M.current=null)}),onPointerUp:lt(e.onPointerUp,de=>{const $e=I.current,J=de.target;if(J.hasPointerCapture(de.pointerId)&&J.releasePointerCapture(de.pointerId),I.current=null,M.current=null,$e){const xe=de.currentTarget,U={originalEvent:de,delta:$e};Qv($e,j.swipeDirection,j.swipeThreshold)?Cd(LN,k,U,{discrete:!0}):Cd(RN,S,U,{discrete:!0}),xe.addEventListener("click",fe=>fe.preventDefault(),{once:!0})}})})})}),j.viewport)})]}):null}),ON=e=>{const{__scopeToast:t,children:r,...a}=e,c=uf(df,t),[d,f]=g.useState(!1),[p,v]=g.useState(!1);return zN(()=>f(!0)),g.useEffect(()=>{const x=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(x)},[]),p?null:o.jsx(Fy,{asChild:!0,children:o.jsx(nu,{...a,children:d&&o.jsxs(o.Fragment,{children:[c.label," ",r]})})})},FN="ToastTitle",Vy=g.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return o.jsx(Pt.div,{...a,ref:t})});Vy.displayName=FN;var $N="ToastDescription",qy=g.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return o.jsx(Pt.div,{...a,ref:t})});qy.displayName=$N;var Zy="ToastAction",Gy=g.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?o.jsx(Ky,{altText:r,asChild:!0,children:o.jsx(jp,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Zy}\`. Expected non-empty \`string\`.`),null)});Gy.displayName=Zy;var Yy="ToastClose",jp=g.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,c=DN(Yy,r);return o.jsx(Ky,{asChild:!0,children:o.jsx(Pt.button,{type:"button",...a,ref:t,onClick:lt(e.onClick,c.onClose)})})});jp.displayName=Yy;var Ky=g.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...c}=e;return o.jsx(Pt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...c,ref:t})});function Xy(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),BN(a)){const c=a.ariaHidden||a.hidden||a.style.display==="none",d=a.dataset.radixToastAnnounceExclude==="";if(!c)if(d){const f=a.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...Xy(a))}}),t}function Cd(e,t,r,{discrete:a}){const c=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var Qv=(e,t,r=0)=>{const a=Math.abs(e.x),c=Math.abs(e.y),d=a>c;return t==="left"||t==="right"?d&&a>r:!d&&c>r};function zN(e=()=>{}){const t=xn(e);Sn(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function BN(e){return e.nodeType===e.ELEMENT_NODE}function UN(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function pm(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var HN=zy,Qy=Uy,Jy=Wy,ew=Vy,tw=qy,nw=Gy,rw=jp;function sw(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(r=sw(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function ow(){for(var e,t,r=0,a="",c=arguments.length;r<c;r++)(e=arguments[r])&&(t=sw(e))&&(a&&(a+=" "),a+=t);return a}const Jv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ex=ow,ru=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return ex(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:c,defaultVariants:d}=t,f=Object.keys(c).map(x=>{const _=r==null?void 0:r[x],b=d==null?void 0:d[x];if(_===null)return null;const S=Jv(_)||Jv(b);return c[x][S]}),p=r&&Object.entries(r).reduce((x,_)=>{let[b,S]=_;return S===void 0||(x[b]=S),x},{}),v=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((x,_)=>{let{class:b,className:S,...k}=_;return Object.entries(k).every(P=>{let[j,C]=P;return Array.isArray(C)?C.includes({...d,...p}[j]):{...d,...p}[j]===C})?[...x,b,S]:x},[]);return ex(e,f,v,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iw=(...e)=>e.filter((t,r,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:c="",children:d,iconNode:f,...p},v)=>g.createElement("svg",{ref:v,...VN,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:iw("lucide",c),...p},[...f.map(([x,_])=>g.createElement(x,_)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=(e,t)=>{const r=g.forwardRef(({className:a,...c},d)=>g.createElement(qN,{ref:d,iconNode:t,className:iw(`lucide-${WN(e)}`,a),...c}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ct("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=ct("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=ct("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=ct("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ct("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ct("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=ct("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=ct("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=ct("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=ct("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=ct("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=ct("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ct("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ct("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=ct("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ct("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ct("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ct("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=ct("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=ct("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=ct("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ct("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=ct("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ct("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=ct("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=ct("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=ct("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=ct("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=ct("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=ct("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ct("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=ct("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kp="-",rS=e=>{const t=oS(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:f=>{const p=f.split(kp);return p[0]===""&&p.length!==1&&p.shift(),vw(p,t)||sS(f)},getConflictingClassGroupIds:(f,p)=>{const v=r[f]||[];return p&&a[f]?[...v,...a[f]]:v}}},vw=(e,t)=>{var f;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),c=a?vw(e.slice(1),a):void 0;if(c)return c;if(t.validators.length===0)return;const d=e.join(kp);return(f=t.validators.find(({validator:p})=>p(d)))==null?void 0:f.classGroupId},ox=/^\[(.+)\]$/,sS=e=>{if(ox.test(e)){const t=ox.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},oS=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return aS(Object.entries(e.classGroups),r).forEach(([d,f])=>{Vm(f,a,d,t)}),a},Vm=(e,t,r,a)=>{e.forEach(c=>{if(typeof c=="string"){const d=c===""?t:ix(t,c);d.classGroupId=r;return}if(typeof c=="function"){if(iS(c)){Vm(c(a),t,r,a);return}t.validators.push({validator:c,classGroupId:r});return}Object.entries(c).forEach(([d,f])=>{Vm(f,ix(t,d),r,a)})})},ix=(e,t)=>{let r=e;return t.split(kp).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},iS=e=>e.isThemeGetter,aS=(e,t)=>t?e.map(([r,a])=>{const c=a.map(d=>typeof d=="string"?t+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([f,p])=>[t+f,p])):d);return[r,c]}):e,lS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const c=(d,f)=>{r.set(d,f),t++,t>e&&(t=0,a=r,r=new Map)};return{get(d){let f=r.get(d);if(f!==void 0)return f;if((f=a.get(d))!==void 0)return c(d,f),f},set(d,f){r.has(d)?r.set(d,f):c(d,f)}}},xw="!",cS=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,c=t[0],d=t.length,f=p=>{const v=[];let x=0,_=0,b;for(let C=0;C<p.length;C++){let T=p[C];if(x===0){if(T===c&&(a||p.slice(C,C+d)===t)){v.push(p.slice(_,C)),_=C+d;continue}if(T==="/"){b=C;continue}}T==="["?x++:T==="]"&&x--}const S=v.length===0?p:p.substring(_),k=S.startsWith(xw),P=k?S.substring(1):S,j=b&&b>_?b-_:void 0;return{modifiers:v,hasImportantModifier:k,baseClassName:P,maybePostfixModifierPosition:j}};return r?p=>r({className:p,parseClassName:f}):f},uS=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},dS=e=>({cache:lS(e.cacheSize),parseClassName:cS(e),...rS(e)}),fS=/\s+/,hS=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:c}=t,d=[],f=e.trim().split(fS);let p="";for(let v=f.length-1;v>=0;v-=1){const x=f[v],{modifiers:_,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:k}=r(x);let P=!!k,j=a(P?S.substring(0,k):S);if(!j){if(!P){p=x+(p.length>0?" "+p:p);continue}if(j=a(S),!j){p=x+(p.length>0?" "+p:p);continue}P=!1}const C=uS(_).join(":"),T=b?C+xw:C,D=T+j;if(d.includes(D))continue;d.push(D);const M=c(j,P);for(let I=0;I<M.length;++I){const O=M[I];d.push(T+O)}p=x+(p.length>0?" "+p:p)}return p};function mS(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=yw(t))&&(a&&(a+=" "),a+=r);return a}const yw=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=yw(e[a]))&&(r&&(r+=" "),r+=t);return r};function pS(e,...t){let r,a,c,d=f;function f(v){const x=t.reduce((_,b)=>b(_),e());return r=dS(x),a=r.cache.get,c=r.cache.set,d=p,p(v)}function p(v){const x=a(v);if(x)return x;const _=hS(v,r);return c(v,_),_}return function(){return d(mS.apply(null,arguments))}}const mn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ww=/^\[(?:([a-z-]+):)?(.+)\]$/i,gS=/^\d+\/\d+$/,vS=new Set(["px","full","screen"]),xS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,_S=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,po=e=>gl(e)||vS.has(e)||gS.test(e),ni=e=>Al(e,"length",kS),gl=e=>!!e&&!Number.isNaN(Number(e)),xm=e=>Al(e,"number",gl),kc=e=>!!e&&Number.isInteger(Number(e)),NS=e=>e.endsWith("%")&&gl(e.slice(0,-1)),Ot=e=>ww.test(e),ri=e=>xS.test(e),SS=new Set(["length","size","percentage"]),jS=e=>Al(e,SS,_w),ES=e=>Al(e,"position",_w),CS=new Set(["image","url"]),PS=e=>Al(e,CS,RS),TS=e=>Al(e,"",MS),Mc=()=>!0,Al=(e,t,r)=>{const a=ww.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},kS=e=>yS.test(e)&&!wS.test(e),_w=()=>!1,MS=e=>_S.test(e),RS=e=>bS.test(e),LS=()=>{const e=mn("colors"),t=mn("spacing"),r=mn("blur"),a=mn("brightness"),c=mn("borderColor"),d=mn("borderRadius"),f=mn("borderSpacing"),p=mn("borderWidth"),v=mn("contrast"),x=mn("grayscale"),_=mn("hueRotate"),b=mn("invert"),S=mn("gap"),k=mn("gradientColorStops"),P=mn("gradientColorStopPositions"),j=mn("inset"),C=mn("margin"),T=mn("opacity"),D=mn("padding"),M=mn("saturate"),I=mn("scale"),O=mn("sepia"),q=mn("skew"),H=mn("space"),te=mn("translate"),V=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",Ot,t],he=()=>[Ot,t],De=()=>["",po,ni],de=()=>["auto",gl,Ot],$e=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],fe=()=>["","0",Ot],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[gl,Ot];return{cacheSize:500,separator:":",theme:{colors:[Mc],spacing:[po,ni],blur:["none","",ri,Ot],brightness:F(),borderColor:[e],borderRadius:["none","","full",ri,Ot],borderSpacing:he(),borderWidth:De(),contrast:F(),grayscale:fe(),hueRotate:F(),invert:fe(),gap:he(),gradientColorStops:[e],gradientColorStopPositions:[NS,ni],inset:ee(),margin:ee(),opacity:F(),padding:he(),saturate:F(),scale:F(),sepia:fe(),skew:F(),space:he(),translate:he()},classGroups:{aspect:[{aspect:["auto","square","video",Ot]}],container:["container"],columns:[{columns:[ri]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$e(),Ot]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[j]}],"inset-x":[{"inset-x":[j]}],"inset-y":[{"inset-y":[j]}],start:[{start:[j]}],end:[{end:[j]}],top:[{top:[j]}],right:[{right:[j]}],bottom:[{bottom:[j]}],left:[{left:[j]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",kc,Ot]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ot]}],grow:[{grow:fe()}],shrink:[{shrink:fe()}],order:[{order:["first","last","none",kc,Ot]}],"grid-cols":[{"grid-cols":[Mc]}],"col-start-end":[{col:["auto",{span:["full",kc,Ot]},Ot]}],"col-start":[{"col-start":de()}],"col-end":[{"col-end":de()}],"grid-rows":[{"grid-rows":[Mc]}],"row-start-end":[{row:["auto",{span:[kc,Ot]},Ot]}],"row-start":[{"row-start":de()}],"row-end":[{"row-end":de()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ot]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ot]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[H]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[H]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ot,t]}],"min-w":[{"min-w":[Ot,t,"min","max","fit"]}],"max-w":[{"max-w":[Ot,t,"none","full","min","max","fit","prose",{screen:[ri]},ri]}],h:[{h:[Ot,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ot,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ot,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ot,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ri,ni]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xm]}],"font-family":[{font:[Mc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ot]}],"line-clamp":[{"line-clamp":["none",gl,xm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",po,Ot]}],"list-image":[{"list-image":["none",Ot]}],"list-style-type":[{list:["none","disc","decimal",Ot]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",po,ni]}],"underline-offset":[{"underline-offset":["auto",po,Ot]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:he()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$e(),ES]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},PS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[P]}],"gradient-via-pos":[{via:[P]}],"gradient-to-pos":[{to:[P]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[p]}],"border-w-x":[{"border-x":[p]}],"border-w-y":[{"border-y":[p]}],"border-w-s":[{"border-s":[p]}],"border-w-e":[{"border-e":[p]}],"border-w-t":[{"border-t":[p]}],"border-w-r":[{"border-r":[p]}],"border-w-b":[{"border-b":[p]}],"border-w-l":[{"border-l":[p]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[p]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[p]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:J()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[po,Ot]}],"outline-w":[{outline:[po,ni]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:De()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[po,ni]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ri,TS]}],"shadow-color":[{shadow:[Mc]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[v]}],"drop-shadow":[{"drop-shadow":["","none",ri,Ot]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[b]}],saturate:[{saturate:[M]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[v]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ot]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",Ot]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ot]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[kc,Ot]}],"translate-x":[{"translate-x":[te]}],"translate-y":[{"translate-y":[te]}],"skew-x":[{"skew-x":[q]}],"skew-y":[{"skew-y":[q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ot]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ot]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":he()}],"scroll-mx":[{"scroll-mx":he()}],"scroll-my":[{"scroll-my":he()}],"scroll-ms":[{"scroll-ms":he()}],"scroll-me":[{"scroll-me":he()}],"scroll-mt":[{"scroll-mt":he()}],"scroll-mr":[{"scroll-mr":he()}],"scroll-mb":[{"scroll-mb":he()}],"scroll-ml":[{"scroll-ml":he()}],"scroll-p":[{"scroll-p":he()}],"scroll-px":[{"scroll-px":he()}],"scroll-py":[{"scroll-py":he()}],"scroll-ps":[{"scroll-ps":he()}],"scroll-pe":[{"scroll-pe":he()}],"scroll-pt":[{"scroll-pt":he()}],"scroll-pr":[{"scroll-pr":he()}],"scroll-pb":[{"scroll-pb":he()}],"scroll-pl":[{"scroll-pl":he()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ot]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[po,ni,xm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},AS=pS(LS);function wt(...e){return AS(ow(e))}const DS=HN,bw=g.forwardRef(({className:e,...t},r)=>o.jsx(Qy,{ref:r,className:wt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bw.displayName=Qy.displayName;const IS=ru("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Nw=g.forwardRef(({className:e,variant:t,...r},a)=>o.jsx(Jy,{ref:a,className:wt(IS({variant:t}),e),...r}));Nw.displayName=Jy.displayName;const OS=g.forwardRef(({className:e,...t},r)=>o.jsx(nw,{ref:r,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));OS.displayName=nw.displayName;const Sw=g.forwardRef(({className:e,...t},r)=>o.jsx(rw,{ref:r,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(ou,{className:"h-4 w-4"})}));Sw.displayName=rw.displayName;const jw=g.forwardRef(({className:e,...t},r)=>o.jsx(ew,{ref:r,className:wt("text-sm font-semibold",e),...t}));jw.displayName=ew.displayName;const Ew=g.forwardRef(({className:e,...t},r)=>o.jsx(tw,{ref:r,className:wt("text-sm opacity-90",e),...t}));Ew.displayName=tw.displayName;function FS(){const{toasts:e}=bo();return o.jsxs(DS,{children:[e.map(function({id:t,title:r,description:a,action:c,...d}){return o.jsxs(Nw,{...d,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(jw,{children:r}),a&&o.jsx(Ew,{children:a})]}),c,o.jsx(Sw,{})]},t)}),o.jsx(bw,{})]})}var Pd={},ax;function $S(){if(ax)return Pd;ax=1;var e=ky();return Pd.createRoot=e.createRoot,Pd.hydrateRoot=e.hydrateRoot,Pd}var zS=$S(),lx=["light","dark"],BS="(prefers-color-scheme: dark)",US=g.createContext(void 0),HS={setTheme:e=>{},themes:[]},WS=()=>{var e;return(e=g.useContext(US))!=null?e:HS};g.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:c,defaultTheme:d,value:f,attrs:p,nonce:v})=>{let x=d==="system",_=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${p.map(P=>`'${P}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,b=c?lx.includes(d)&&d?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${d}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",S=(P,j=!1,C=!0)=>{let T=f?f[P]:P,D=j?P+"|| ''":`'${T}'`,M="";return c&&C&&!j&&lx.includes(P)&&(M+=`d.style.colorScheme = '${P}';`),r==="class"?j||T?M+=`c.add(${D})`:M+="null":T&&(M+=`d[s](n,${D})`),M},k=e?`!function(){${_}${S(e)}}()`:a?`!function(){try{${_}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${x})){var t='${BS}',m=window.matchMedia(t);if(m.media!==t||m.matches){${S("dark")}}else{${S("light")}}}else if(e){${f?`var x=${JSON.stringify(f)};`:""}${S(f?"x[e]":"e",!0)}}${x?"":"else{"+S(d,!1,!1)+"}"}${b}}catch(e){}}()`:`!function(){try{${_}var e=localStorage.getItem('${t}');if(e){${f?`var x=${JSON.stringify(f)};`:""}${S(f?"x[e]":"e",!0)}}else{${S(d,!1,!1)};}${b}}catch(t){}}();`;return g.createElement("script",{nonce:v,dangerouslySetInnerHTML:{__html:k}})});var VS=e=>{switch(e){case"success":return GS;case"info":return KS;case"warning":return YS;case"error":return XS;default:return null}},qS=Array(12).fill(0),ZS=({visible:e})=>Ue.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},Ue.createElement("div",{className:"sonner-spinner"},qS.map((t,r)=>Ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),GS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),XS=Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),QS=()=>{let[e,t]=Ue.useState(document.hidden);return Ue.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},qm=1,JS=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...a}=e,c=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:qm++,d=this.toasts.find(p=>p.id===c),f=e.dismissible===void 0?!0:e.dismissible;return d?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...e,id:c,title:r}),{...p,...e,id:c,dismissible:f,title:r}):p):this.addToast({title:r,...a,dismissible:f,id:c}),c},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let a=e instanceof Promise?e:e(),c=r!==void 0;return a.then(async d=>{if(tj(d)&&!d.ok){c=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:r,type:"error",message:f,description:p})}else if(t.success!==void 0){c=!1;let f=typeof t.success=="function"?await t.success(d):t.success,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"success",message:f,description:p})}}).catch(async d=>{if(t.error!==void 0){c=!1;let f=typeof t.error=="function"?await t.error(d):t.error,p=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"error",message:f,description:p})}}).finally(()=>{var d;c&&(this.dismiss(r),r=void 0),(d=t.finally)==null||d.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||qm++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Fr=new JS,ej=(e,t)=>{let r=(t==null?void 0:t.id)||qm++;return Fr.addToast({title:e,...t,id:r}),r},tj=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nj=ej,rj=()=>Fr.toasts;Object.assign(nj,{success:Fr.success,info:Fr.info,warning:Fr.warning,error:Fr.error,custom:Fr.custom,message:Fr.message,promise:Fr.promise,dismiss:Fr.dismiss,loading:Fr.loading},{getHistory:rj});function sj(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}sj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Td(e){return e.label!==void 0}var oj=3,ij="32px",aj=4e3,lj=356,cj=14,uj=20,dj=200;function fj(...e){return e.filter(Boolean).join(" ")}var hj=e=>{var t,r,a,c,d,f,p,v,x,_;let{invert:b,toast:S,unstyled:k,interacting:P,setHeights:j,visibleToasts:C,heights:T,index:D,toasts:M,expanded:I,removeToast:O,defaultRichColors:q,closeButton:H,style:te,cancelButtonStyle:V,actionButtonStyle:Y,className:ee="",descriptionClassName:he="",duration:De,position:de,gap:$e,loadingIcon:J,expandByDefault:xe,classNames:U,icons:fe,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:F,cn:Q}=e,[Se,Te]=Ue.useState(!1),[je,$]=Ue.useState(!1),[K,le]=Ue.useState(!1),[_e,ke]=Ue.useState(!1),[ze,We]=Ue.useState(0),[it,Tt]=Ue.useState(0),ye=Ue.useRef(null),Ye=Ue.useRef(null),Z=D===0,me=D+1<=C,be=S.type,ge=S.dismissible!==!1,Ze=S.className||"",rt=S.descriptionClassName||"",at=Ue.useMemo(()=>T.findIndex(ve=>ve.toastId===S.id)||0,[T,S.id]),on=Ue.useMemo(()=>{var ve;return(ve=S.closeButton)!=null?ve:H},[S.closeButton,H]),Ut=Ue.useMemo(()=>S.duration||De||aj,[S.duration,De]),Dt=Ue.useRef(0),Yt=Ue.useRef(0),en=Ue.useRef(0),zt=Ue.useRef(null),[bt,Qe]=de.split("-"),kn=Ue.useMemo(()=>T.reduce((ve,Ne,Oe)=>Oe>=at?ve:ve+Ne.height,0),[T,at]),dn=QS(),It=S.invert||b,Kt=be==="loading";Yt.current=Ue.useMemo(()=>at*$e+kn,[at,kn]),Ue.useEffect(()=>{Te(!0)},[]),Ue.useLayoutEffect(()=>{if(!Se)return;let ve=Ye.current,Ne=ve.style.height;ve.style.height="auto";let Oe=ve.getBoundingClientRect().height;ve.style.height=Ne,Tt(Oe),j(qe=>qe.find(z=>z.toastId===S.id)?qe.map(z=>z.toastId===S.id?{...z,height:Oe}:z):[{toastId:S.id,height:Oe,position:S.position},...qe])},[Se,S.title,S.description,j,S.id]);let _t=Ue.useCallback(()=>{$(!0),We(Yt.current),j(ve=>ve.filter(Ne=>Ne.toastId!==S.id)),setTimeout(()=>{O(S)},dj)},[S,O,j,Yt]);Ue.useEffect(()=>{if(S.promise&&be==="loading"||S.duration===1/0||S.type==="loading")return;let ve,Ne=Ut;return I||P||F&&dn?(()=>{if(en.current<Dt.current){let Oe=new Date().getTime()-Dt.current;Ne=Ne-Oe}en.current=new Date().getTime()})():Ne!==1/0&&(Dt.current=new Date().getTime(),ve=setTimeout(()=>{var Oe;(Oe=S.onAutoClose)==null||Oe.call(S,S),_t()},Ne)),()=>clearTimeout(ve)},[I,P,xe,S,Ut,_t,S.promise,be,F,dn]),Ue.useEffect(()=>{let ve=Ye.current;if(ve){let Ne=ve.getBoundingClientRect().height;return Tt(Ne),j(Oe=>[{toastId:S.id,height:Ne,position:S.position},...Oe]),()=>j(Oe=>Oe.filter(qe=>qe.toastId!==S.id))}},[j,S.id]),Ue.useEffect(()=>{S.delete&&_t()},[_t,S.delete]);function Zt(){return fe!=null&&fe.loading?Ue.createElement("div",{className:"sonner-loader","data-visible":be==="loading"},fe.loading):J?Ue.createElement("div",{className:"sonner-loader","data-visible":be==="loading"},J):Ue.createElement(ZS,{visible:be==="loading"})}return Ue.createElement("li",{"aria-live":S.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Ye,className:Q(ee,Ze,U==null?void 0:U.toast,(t=S==null?void 0:S.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[be],(r=S==null?void 0:S.classNames)==null?void 0:r[be]),"data-sonner-toast":"","data-rich-colors":(a=S.richColors)!=null?a:q,"data-styled":!(S.jsx||S.unstyled||k),"data-mounted":Se,"data-promise":!!S.promise,"data-removed":je,"data-visible":me,"data-y-position":bt,"data-x-position":Qe,"data-index":D,"data-front":Z,"data-swiping":K,"data-dismissible":ge,"data-type":be,"data-invert":It,"data-swipe-out":_e,"data-expanded":!!(I||xe&&Se),style:{"--index":D,"--toasts-before":D,"--z-index":M.length-D,"--offset":`${je?ze:Yt.current}px`,"--initial-height":xe?"auto":`${it}px`,...te,...S.style},onPointerDown:ve=>{Kt||!ge||(ye.current=new Date,We(Yt.current),ve.target.setPointerCapture(ve.pointerId),ve.target.tagName!=="BUTTON"&&(le(!0),zt.current={x:ve.clientX,y:ve.clientY}))},onPointerUp:()=>{var ve,Ne,Oe,qe;if(_e||!ge)return;zt.current=null;let z=Number(((ve=Ye.current)==null?void 0:ve.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ae=new Date().getTime()-((Ne=ye.current)==null?void 0:Ne.getTime()),re=Math.abs(z)/ae;if(Math.abs(z)>=uj||re>.11){We(Yt.current),(Oe=S.onDismiss)==null||Oe.call(S,S),_t(),ke(!0);return}(qe=Ye.current)==null||qe.style.setProperty("--swipe-amount","0px"),le(!1)},onPointerMove:ve=>{var Ne;if(!zt.current||!ge)return;let Oe=ve.clientY-zt.current.y,qe=ve.clientX-zt.current.x,z=(bt==="top"?Math.min:Math.max)(0,Oe),ae=ve.pointerType==="touch"?10:2;Math.abs(z)>ae?(Ne=Ye.current)==null||Ne.style.setProperty("--swipe-amount",`${Oe}px`):Math.abs(qe)>ae&&(zt.current=null)}},on&&!S.jsx?Ue.createElement("button",{"aria-label":oe,"data-disabled":Kt,"data-close-button":!0,onClick:Kt||!ge?()=>{}:()=>{var ve;_t(),(ve=S.onDismiss)==null||ve.call(S,S)},className:Q(U==null?void 0:U.closeButton,(c=S==null?void 0:S.classNames)==null?void 0:c.closeButton)},Ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,S.jsx||Ue.isValidElement(S.title)?S.jsx||S.title:Ue.createElement(Ue.Fragment,null,be||S.icon||S.promise?Ue.createElement("div",{"data-icon":"",className:Q(U==null?void 0:U.icon,(d=S==null?void 0:S.classNames)==null?void 0:d.icon)},S.promise||S.type==="loading"&&!S.icon?S.icon||Zt():null,S.type!=="loading"?S.icon||(fe==null?void 0:fe[be])||VS(be):null):null,Ue.createElement("div",{"data-content":"",className:Q(U==null?void 0:U.content,(f=S==null?void 0:S.classNames)==null?void 0:f.content)},Ue.createElement("div",{"data-title":"",className:Q(U==null?void 0:U.title,(p=S==null?void 0:S.classNames)==null?void 0:p.title)},S.title),S.description?Ue.createElement("div",{"data-description":"",className:Q(he,rt,U==null?void 0:U.description,(v=S==null?void 0:S.classNames)==null?void 0:v.description)},S.description):null),Ue.isValidElement(S.cancel)?S.cancel:S.cancel&&Td(S.cancel)?Ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:S.cancelButtonStyle||V,onClick:ve=>{var Ne,Oe;Td(S.cancel)&&ge&&((Oe=(Ne=S.cancel).onClick)==null||Oe.call(Ne,ve),_t())},className:Q(U==null?void 0:U.cancelButton,(x=S==null?void 0:S.classNames)==null?void 0:x.cancelButton)},S.cancel.label):null,Ue.isValidElement(S.action)?S.action:S.action&&Td(S.action)?Ue.createElement("button",{"data-button":!0,"data-action":!0,style:S.actionButtonStyle||Y,onClick:ve=>{var Ne,Oe;Td(S.action)&&(ve.defaultPrevented||((Oe=(Ne=S.action).onClick)==null||Oe.call(Ne,ve),_t()))},className:Q(U==null?void 0:U.actionButton,(_=S==null?void 0:S.classNames)==null?void 0:_.actionButton)},S.action.label):null))};function cx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var mj=e=>{let{invert:t,position:r="bottom-right",hotkey:a=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:p,theme:v="light",richColors:x,duration:_,style:b,visibleToasts:S=oj,toastOptions:k,dir:P=cx(),gap:j=cj,loadingIcon:C,icons:T,containerAriaLabel:D="Notifications",pauseWhenPageIsHidden:M,cn:I=fj}=e,[O,q]=Ue.useState([]),H=Ue.useMemo(()=>Array.from(new Set([r].concat(O.filter(F=>F.position).map(F=>F.position)))),[O,r]),[te,V]=Ue.useState([]),[Y,ee]=Ue.useState(!1),[he,De]=Ue.useState(!1),[de,$e]=Ue.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Ue.useRef(null),xe=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=Ue.useRef(null),fe=Ue.useRef(!1),oe=Ue.useCallback(F=>{var Q;(Q=O.find(Se=>Se.id===F.id))!=null&&Q.delete||Fr.dismiss(F.id),q(Se=>Se.filter(({id:Te})=>Te!==F.id))},[O]);return Ue.useEffect(()=>Fr.subscribe(F=>{if(F.dismiss){q(Q=>Q.map(Se=>Se.id===F.id?{...Se,delete:!0}:Se));return}setTimeout(()=>{lf.flushSync(()=>{q(Q=>{let Se=Q.findIndex(Te=>Te.id===F.id);return Se!==-1?[...Q.slice(0,Se),{...Q[Se],...F},...Q.slice(Se+1)]:[F,...Q]})})})}),[]),Ue.useEffect(()=>{if(v!=="system"){$e(v);return}v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$e("dark"):$e("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:F})=>{$e(F?"dark":"light")})},[v]),Ue.useEffect(()=>{O.length<=1&&ee(!1)},[O]),Ue.useEffect(()=>{let F=Q=>{var Se,Te;a.every(je=>Q[je]||Q.code===je)&&(ee(!0),(Se=J.current)==null||Se.focus()),Q.code==="Escape"&&(document.activeElement===J.current||(Te=J.current)!=null&&Te.contains(document.activeElement))&&ee(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[a]),Ue.useEffect(()=>{if(J.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,fe.current=!1)}},[J.current]),O.length?Ue.createElement("section",{"aria-label":`${D} ${xe}`,tabIndex:-1},H.map((F,Q)=>{var Se;let[Te,je]=F.split("-");return Ue.createElement("ol",{key:F,dir:P==="auto"?cx():P,tabIndex:-1,ref:J,className:f,"data-sonner-toaster":!0,"data-theme":de,"data-y-position":Te,"data-x-position":je,style:{"--front-toast-height":`${((Se=te[0])==null?void 0:Se.height)||0}px`,"--offset":typeof p=="number"?`${p}px`:p||ij,"--width":`${lj}px`,"--gap":`${j}px`,...b},onBlur:$=>{fe.current&&!$.currentTarget.contains($.relatedTarget)&&(fe.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||fe.current||(fe.current=!0,U.current=$.relatedTarget)},onMouseEnter:()=>ee(!0),onMouseMove:()=>ee(!0),onMouseLeave:()=>{he||ee(!1)},onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||De(!0)},onPointerUp:()=>De(!1)},O.filter($=>!$.position&&Q===0||$.position===F).map(($,K)=>{var le,_e;return Ue.createElement(hj,{key:$.id,icons:T,index:K,toast:$,defaultRichColors:x,duration:(le=k==null?void 0:k.duration)!=null?le:_,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:t,visibleToasts:S,closeButton:(_e=k==null?void 0:k.closeButton)!=null?_e:d,interacting:he,position:F,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,removeToast:oe,toasts:O.filter(ke=>ke.position==$.position),heights:te.filter(ke=>ke.position==$.position),setHeights:V,expandByDefault:c,gap:j,loadingIcon:C,expanded:Y,pauseWhenPageIsHidden:M,cn:I})}))})):null};const pj=({...e})=>{const{theme:t="system"}=WS();return o.jsx(mj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function gj(e,t=[]){let r=[];function a(d,f){const p=g.createContext(f),v=r.length;r=[...r,f];const x=b=>{var T;const{scope:S,children:k,...P}=b,j=((T=S==null?void 0:S[e])==null?void 0:T[v])||p,C=g.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:k})};x.displayName=d+"Provider";function _(b,S){var j;const k=((j=S==null?void 0:S[e])==null?void 0:j[v])||p,P=g.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[x,_]}const c=()=>{const d=r.map(f=>g.createContext(f));return function(p){const v=(p==null?void 0:p[e])||d;return g.useMemo(()=>({[`__scope${e}`]:{...p,[e]:v}}),[p,v])}};return c.scopeName=e,[a,vj(c,...t)]}function vj(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:v,scopeName:x})=>{const b=v(d)[`__scope${x}`];return{...p,...b}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var xj="DismissableLayer",Zm="dismissableLayer.update",yj="dismissableLayer.pointerDownOutside",wj="dismissableLayer.focusOutside",ux,Cw=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Mp=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...v}=e,x=g.useContext(Cw),[_,b]=g.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=g.useState({}),P=Vt(t,H=>b(H)),j=Array.from(x.layers),[C]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(C),D=_?j.indexOf(_):-1,M=x.layersWithOutsidePointerEventsDisabled.size>0,I=D>=T,O=Nj(H=>{const te=H.target,V=[...x.branches].some(Y=>Y.contains(te));!I||V||(c==null||c(H),f==null||f(H),H.defaultPrevented||p==null||p())},S),q=Sj(H=>{const te=H.target;[...x.branches].some(Y=>Y.contains(te))||(d==null||d(H),f==null||f(H),H.defaultPrevented||p==null||p())},S);return bp(H=>{D===x.layers.size-1&&(a==null||a(H),!H.defaultPrevented&&p&&(H.preventDefault(),p()))},S),g.useEffect(()=>{if(_)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(ux=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(_)),x.layers.add(_),dx(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=ux)}},[_,S,r,x]),g.useEffect(()=>()=>{_&&(x.layers.delete(_),x.layersWithOutsidePointerEventsDisabled.delete(_),dx())},[_,x]),g.useEffect(()=>{const H=()=>k({});return document.addEventListener(Zm,H),()=>document.removeEventListener(Zm,H)},[]),o.jsx(Pt.div,{...v,ref:P,style:{pointerEvents:M?I?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,q.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,q.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,O.onPointerDownCapture)})});Mp.displayName=xj;var _j="DismissableLayerBranch",bj=g.forwardRef((e,t)=>{const r=g.useContext(Cw),a=g.useRef(null),c=Vt(t,a);return g.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(Pt.div,{...e,ref:c})});bj.displayName=_j;function Nj(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1),c=g.useRef(()=>{});return g.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let v=function(){Pw(yj,r,x,{discrete:!0})};const x={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=v,t.addEventListener("click",c.current,{once:!0})):v()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Sj(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1);return g.useEffect(()=>{const c=d=>{d.target&&!a.current&&Pw(wj,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function dx(){const e=new CustomEvent(Zm);document.dispatchEvent(e)}function Pw(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var jj=Ty.useId||(()=>{}),Ej=0;function vl(e){const[t,r]=g.useState(jj());return Sn(()=>{r(a=>a??String(Ej++))},[e]),t?`radix-${t}`:""}const Cj=["top","right","bottom","left"],vi=Math.min,zr=Math.max,Gd=Math.round,kd=Math.floor,xi=e=>({x:e,y:e}),Pj={left:"right",right:"left",bottom:"top",top:"bottom"},Tj={start:"end",end:"start"};function Gm(e,t,r){return zr(e,vi(t,r))}function wo(e,t){return typeof e=="function"?e(t):e}function _o(e){return e.split("-")[0]}function Dl(e){return e.split("-")[1]}function Rp(e){return e==="x"?"y":"x"}function Lp(e){return e==="y"?"height":"width"}function yi(e){return["top","bottom"].includes(_o(e))?"y":"x"}function Ap(e){return Rp(yi(e))}function kj(e,t,r){r===void 0&&(r=!1);const a=Dl(e),c=Ap(e),d=Lp(c);let f=c==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[d]>t.floating[d]&&(f=Yd(f)),[f,Yd(f)]}function Mj(e){const t=Yd(e);return[Ym(e),t,Ym(t)]}function Ym(e){return e.replace(/start|end/g,t=>Tj[t])}function Rj(e,t,r){const a=["left","right"],c=["right","left"],d=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return r?t?c:a:t?a:c;case"left":case"right":return t?d:f;default:return[]}}function Lj(e,t,r,a){const c=Dl(e);let d=Rj(_o(e),r==="start",a);return c&&(d=d.map(f=>f+"-"+c),t&&(d=d.concat(d.map(Ym)))),d}function Yd(e){return e.replace(/left|right|bottom|top/g,t=>Pj[t])}function Aj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tw(e){return typeof e!="number"?Aj(e):{top:e,right:e,bottom:e,left:e}}function Kd(e){const{x:t,y:r,width:a,height:c}=e;return{width:a,height:c,top:r,left:t,right:t+a,bottom:r+c,x:t,y:r}}function fx(e,t,r){let{reference:a,floating:c}=e;const d=yi(t),f=Ap(t),p=Lp(f),v=_o(t),x=d==="y",_=a.x+a.width/2-c.width/2,b=a.y+a.height/2-c.height/2,S=a[p]/2-c[p]/2;let k;switch(v){case"top":k={x:_,y:a.y-c.height};break;case"bottom":k={x:_,y:a.y+a.height};break;case"right":k={x:a.x+a.width,y:b};break;case"left":k={x:a.x-c.width,y:b};break;default:k={x:a.x,y:a.y}}switch(Dl(t)){case"start":k[f]-=S*(r&&x?-1:1);break;case"end":k[f]+=S*(r&&x?-1:1);break}return k}const Dj=async(e,t,r)=>{const{placement:a="bottom",strategy:c="absolute",middleware:d=[],platform:f}=r,p=d.filter(Boolean),v=await(f.isRTL==null?void 0:f.isRTL(t));let x=await f.getElementRects({reference:e,floating:t,strategy:c}),{x:_,y:b}=fx(x,a,v),S=a,k={},P=0;for(let j=0;j<p.length;j++){const{name:C,fn:T}=p[j],{x:D,y:M,data:I,reset:O}=await T({x:_,y:b,initialPlacement:a,placement:S,strategy:c,middlewareData:k,rects:x,platform:f,elements:{reference:e,floating:t}});_=D??_,b=M??b,k={...k,[C]:{...k[C],...I}},O&&P<=50&&(P++,typeof O=="object"&&(O.placement&&(S=O.placement),O.rects&&(x=O.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:c}):O.rects),{x:_,y:b}=fx(x,S,v)),j=-1)}return{x:_,y:b,placement:S,strategy:c,middlewareData:k}};async function qc(e,t){var r;t===void 0&&(t={});const{x:a,y:c,platform:d,rects:f,elements:p,strategy:v}=e,{boundary:x="clippingAncestors",rootBoundary:_="viewport",elementContext:b="floating",altBoundary:S=!1,padding:k=0}=wo(t,e),P=Tw(k),C=p[S?b==="floating"?"reference":"floating":b],T=Kd(await d.getClippingRect({element:(r=await(d.isElement==null?void 0:d.isElement(C)))==null||r?C:C.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(p.floating)),boundary:x,rootBoundary:_,strategy:v})),D=b==="floating"?{x:a,y:c,width:f.floating.width,height:f.floating.height}:f.reference,M=await(d.getOffsetParent==null?void 0:d.getOffsetParent(p.floating)),I=await(d.isElement==null?void 0:d.isElement(M))?await(d.getScale==null?void 0:d.getScale(M))||{x:1,y:1}:{x:1,y:1},O=Kd(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:p,rect:D,offsetParent:M,strategy:v}):D);return{top:(T.top-O.top+P.top)/I.y,bottom:(O.bottom-T.bottom+P.bottom)/I.y,left:(T.left-O.left+P.left)/I.x,right:(O.right-T.right+P.right)/I.x}}const Ij=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:c,rects:d,platform:f,elements:p,middlewareData:v}=t,{element:x,padding:_=0}=wo(e,t)||{};if(x==null)return{};const b=Tw(_),S={x:r,y:a},k=Ap(c),P=Lp(k),j=await f.getDimensions(x),C=k==="y",T=C?"top":"left",D=C?"bottom":"right",M=C?"clientHeight":"clientWidth",I=d.reference[P]+d.reference[k]-S[k]-d.floating[P],O=S[k]-d.reference[k],q=await(f.getOffsetParent==null?void 0:f.getOffsetParent(x));let H=q?q[M]:0;(!H||!await(f.isElement==null?void 0:f.isElement(q)))&&(H=p.floating[M]||d.floating[P]);const te=I/2-O/2,V=H/2-j[P]/2-1,Y=vi(b[T],V),ee=vi(b[D],V),he=Y,De=H-j[P]-ee,de=H/2-j[P]/2+te,$e=Gm(he,de,De),J=!v.arrow&&Dl(c)!=null&&de!==$e&&d.reference[P]/2-(de<he?Y:ee)-j[P]/2<0,xe=J?de<he?de-he:de-De:0;return{[k]:S[k]+xe,data:{[k]:$e,centerOffset:de-$e-xe,...J&&{alignmentOffset:xe}},reset:J}}}),Oj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:c,middlewareData:d,rects:f,initialPlacement:p,platform:v,elements:x}=t,{mainAxis:_=!0,crossAxis:b=!0,fallbackPlacements:S,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:j=!0,...C}=wo(e,t);if((r=d.arrow)!=null&&r.alignmentOffset)return{};const T=_o(c),D=yi(p),M=_o(p)===p,I=await(v.isRTL==null?void 0:v.isRTL(x.floating)),O=S||(M||!j?[Yd(p)]:Mj(p)),q=P!=="none";!S&&q&&O.push(...Lj(p,j,P,I));const H=[p,...O],te=await qc(t,C),V=[];let Y=((a=d.flip)==null?void 0:a.overflows)||[];if(_&&V.push(te[T]),b){const de=kj(c,f,I);V.push(te[de[0]],te[de[1]])}if(Y=[...Y,{placement:c,overflows:V}],!V.every(de=>de<=0)){var ee,he;const de=(((ee=d.flip)==null?void 0:ee.index)||0)+1,$e=H[de];if($e)return{data:{index:de,overflows:Y},reset:{placement:$e}};let J=(he=Y.filter(xe=>xe.overflows[0]<=0).sort((xe,U)=>xe.overflows[1]-U.overflows[1])[0])==null?void 0:he.placement;if(!J)switch(k){case"bestFit":{var De;const xe=(De=Y.filter(U=>{if(q){const fe=yi(U.placement);return fe===D||fe==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(fe=>fe>0).reduce((fe,oe)=>fe+oe,0)]).sort((U,fe)=>U[1]-fe[1])[0])==null?void 0:De[0];xe&&(J=xe);break}case"initialPlacement":J=p;break}if(c!==J)return{reset:{placement:J}}}return{}}}};function hx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mx(e){return Cj.some(t=>e[t]>=0)}const Fj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...c}=wo(e,t);switch(a){case"referenceHidden":{const d=await qc(t,{...c,elementContext:"reference"}),f=hx(d,r.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:mx(f)}}}case"escaped":{const d=await qc(t,{...c,altBoundary:!0}),f=hx(d,r.floating);return{data:{escapedOffsets:f,escaped:mx(f)}}}default:return{}}}}};async function $j(e,t){const{placement:r,platform:a,elements:c}=e,d=await(a.isRTL==null?void 0:a.isRTL(c.floating)),f=_o(r),p=Dl(r),v=yi(r)==="y",x=["left","top"].includes(f)?-1:1,_=d&&v?-1:1,b=wo(t,e);let{mainAxis:S,crossAxis:k,alignmentAxis:P}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return p&&typeof P=="number"&&(k=p==="end"?P*-1:P),v?{x:k*_,y:S*x}:{x:S*x,y:k*_}}const zj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:c,y:d,placement:f,middlewareData:p}=t,v=await $j(t,e);return f===((r=p.offset)==null?void 0:r.placement)&&(a=p.arrow)!=null&&a.alignmentOffset?{}:{x:c+v.x,y:d+v.y,data:{...v,placement:f}}}}},Bj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:c}=t,{mainAxis:d=!0,crossAxis:f=!1,limiter:p={fn:C=>{let{x:T,y:D}=C;return{x:T,y:D}}},...v}=wo(e,t),x={x:r,y:a},_=await qc(t,v),b=yi(_o(c)),S=Rp(b);let k=x[S],P=x[b];if(d){const C=S==="y"?"top":"left",T=S==="y"?"bottom":"right",D=k+_[C],M=k-_[T];k=Gm(D,k,M)}if(f){const C=b==="y"?"top":"left",T=b==="y"?"bottom":"right",D=P+_[C],M=P-_[T];P=Gm(D,P,M)}const j=p.fn({...t,[S]:k,[b]:P});return{...j,data:{x:j.x-r,y:j.y-a,enabled:{[S]:d,[b]:f}}}}}},Uj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:c,rects:d,middlewareData:f}=t,{offset:p=0,mainAxis:v=!0,crossAxis:x=!0}=wo(e,t),_={x:r,y:a},b=yi(c),S=Rp(b);let k=_[S],P=_[b];const j=wo(p,t),C=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(v){const M=S==="y"?"height":"width",I=d.reference[S]-d.floating[M]+C.mainAxis,O=d.reference[S]+d.reference[M]-C.mainAxis;k<I?k=I:k>O&&(k=O)}if(x){var T,D;const M=S==="y"?"width":"height",I=["top","left"].includes(_o(c)),O=d.reference[b]-d.floating[M]+(I&&((T=f.offset)==null?void 0:T[b])||0)+(I?0:C.crossAxis),q=d.reference[b]+d.reference[M]+(I?0:((D=f.offset)==null?void 0:D[b])||0)-(I?C.crossAxis:0);P<O?P=O:P>q&&(P=q)}return{[S]:k,[b]:P}}}},Hj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:c,rects:d,platform:f,elements:p}=t,{apply:v=()=>{},...x}=wo(e,t),_=await qc(t,x),b=_o(c),S=Dl(c),k=yi(c)==="y",{width:P,height:j}=d.floating;let C,T;b==="top"||b==="bottom"?(C=b,T=S===(await(f.isRTL==null?void 0:f.isRTL(p.floating))?"start":"end")?"left":"right"):(T=b,C=S==="end"?"top":"bottom");const D=j-_.top-_.bottom,M=P-_.left-_.right,I=vi(j-_[C],D),O=vi(P-_[T],M),q=!t.middlewareData.shift;let H=I,te=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(te=M),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(H=D),q&&!S){const Y=zr(_.left,0),ee=zr(_.right,0),he=zr(_.top,0),De=zr(_.bottom,0);k?te=P-2*(Y!==0||ee!==0?Y+ee:zr(_.left,_.right)):H=j-2*(he!==0||De!==0?he+De:zr(_.top,_.bottom))}await v({...t,availableWidth:te,availableHeight:H});const V=await f.getDimensions(p.floating);return P!==V.width||j!==V.height?{reset:{rects:!0}}:{}}}};function pf(){return typeof window<"u"}function Il(e){return kw(e)?(e.nodeName||"").toLowerCase():"#document"}function Br(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function qs(e){var t;return(t=(kw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kw(e){return pf()?e instanceof Node||e instanceof Br(e).Node:!1}function Ns(e){return pf()?e instanceof Element||e instanceof Br(e).Element:!1}function Vs(e){return pf()?e instanceof HTMLElement||e instanceof Br(e).HTMLElement:!1}function px(e){return!pf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Br(e).ShadowRoot}function iu(e){const{overflow:t,overflowX:r,overflowY:a,display:c}=Ss(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!["inline","contents"].includes(c)}function Wj(e){return["table","td","th"].includes(Il(e))}function gf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Dp(e){const t=Ip(),r=Ns(e)?Ss(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function Vj(e){let t=wi(e);for(;Vs(t)&&!kl(t);){if(Dp(t))return t;if(gf(t))return null;t=wi(t)}return null}function Ip(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kl(e){return["html","body","#document"].includes(Il(e))}function Ss(e){return Br(e).getComputedStyle(e)}function vf(e){return Ns(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function wi(e){if(Il(e)==="html")return e;const t=e.assignedSlot||e.parentNode||px(e)&&e.host||qs(e);return px(t)?t.host:t}function Mw(e){const t=wi(e);return kl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vs(t)&&iu(t)?t:Mw(t)}function Zc(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const c=Mw(e),d=c===((a=e.ownerDocument)==null?void 0:a.body),f=Br(c);if(d){const p=Km(f);return t.concat(f,f.visualViewport||[],iu(c)?c:[],p&&r?Zc(p):[])}return t.concat(c,Zc(c,[],r))}function Km(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Rw(e){const t=Ss(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const c=Vs(e),d=c?e.offsetWidth:r,f=c?e.offsetHeight:a,p=Gd(r)!==d||Gd(a)!==f;return p&&(r=d,a=f),{width:r,height:a,$:p}}function Op(e){return Ns(e)?e:e.contextElement}function xl(e){const t=Op(e);if(!Vs(t))return xi(1);const r=t.getBoundingClientRect(),{width:a,height:c,$:d}=Rw(t);let f=(d?Gd(r.width):r.width)/a,p=(d?Gd(r.height):r.height)/c;return(!f||!Number.isFinite(f))&&(f=1),(!p||!Number.isFinite(p))&&(p=1),{x:f,y:p}}const qj=xi(0);function Lw(e){const t=Br(e);return!Ip()||!t.visualViewport?qj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zj(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Br(e)?!1:t}function fa(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const c=e.getBoundingClientRect(),d=Op(e);let f=xi(1);t&&(a?Ns(a)&&(f=xl(a)):f=xl(e));const p=Zj(d,r,a)?Lw(d):xi(0);let v=(c.left+p.x)/f.x,x=(c.top+p.y)/f.y,_=c.width/f.x,b=c.height/f.y;if(d){const S=Br(d),k=a&&Ns(a)?Br(a):a;let P=S,j=Km(P);for(;j&&a&&k!==P;){const C=xl(j),T=j.getBoundingClientRect(),D=Ss(j),M=T.left+(j.clientLeft+parseFloat(D.paddingLeft))*C.x,I=T.top+(j.clientTop+parseFloat(D.paddingTop))*C.y;v*=C.x,x*=C.y,_*=C.x,b*=C.y,v+=M,x+=I,P=Br(j),j=Km(P)}}return Kd({width:_,height:b,x:v,y:x})}function Gj(e){let{elements:t,rect:r,offsetParent:a,strategy:c}=e;const d=c==="fixed",f=qs(a),p=t?gf(t.floating):!1;if(a===f||p&&d)return r;let v={scrollLeft:0,scrollTop:0},x=xi(1);const _=xi(0),b=Vs(a);if((b||!b&&!d)&&((Il(a)!=="body"||iu(f))&&(v=vf(a)),Vs(a))){const S=fa(a);x=xl(a),_.x=S.x+a.clientLeft,_.y=S.y+a.clientTop}return{width:r.width*x.x,height:r.height*x.y,x:r.x*x.x-v.scrollLeft*x.x+_.x,y:r.y*x.y-v.scrollTop*x.y+_.y}}function Yj(e){return Array.from(e.getClientRects())}function Xm(e,t){const r=vf(e).scrollLeft;return t?t.left+r:fa(qs(e)).left+r}function Kj(e){const t=qs(e),r=vf(e),a=e.ownerDocument.body,c=zr(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),d=zr(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let f=-r.scrollLeft+Xm(e);const p=-r.scrollTop;return Ss(a).direction==="rtl"&&(f+=zr(t.clientWidth,a.clientWidth)-c),{width:c,height:d,x:f,y:p}}function Xj(e,t){const r=Br(e),a=qs(e),c=r.visualViewport;let d=a.clientWidth,f=a.clientHeight,p=0,v=0;if(c){d=c.width,f=c.height;const x=Ip();(!x||x&&t==="fixed")&&(p=c.offsetLeft,v=c.offsetTop)}return{width:d,height:f,x:p,y:v}}function Qj(e,t){const r=fa(e,!0,t==="fixed"),a=r.top+e.clientTop,c=r.left+e.clientLeft,d=Vs(e)?xl(e):xi(1),f=e.clientWidth*d.x,p=e.clientHeight*d.y,v=c*d.x,x=a*d.y;return{width:f,height:p,x:v,y:x}}function gx(e,t,r){let a;if(t==="viewport")a=Xj(e,r);else if(t==="document")a=Kj(qs(e));else if(Ns(t))a=Qj(t,r);else{const c=Lw(e);a={...t,x:t.x-c.x,y:t.y-c.y}}return Kd(a)}function Aw(e,t){const r=wi(e);return r===t||!Ns(r)||kl(r)?!1:Ss(r).position==="fixed"||Aw(r,t)}function Jj(e,t){const r=t.get(e);if(r)return r;let a=Zc(e,[],!1).filter(p=>Ns(p)&&Il(p)!=="body"),c=null;const d=Ss(e).position==="fixed";let f=d?wi(e):e;for(;Ns(f)&&!kl(f);){const p=Ss(f),v=Dp(f);!v&&p.position==="fixed"&&(c=null),(d?!v&&!c:!v&&p.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||iu(f)&&!v&&Aw(e,f))?a=a.filter(_=>_!==f):c=p,f=wi(f)}return t.set(e,a),a}function eE(e){let{element:t,boundary:r,rootBoundary:a,strategy:c}=e;const f=[...r==="clippingAncestors"?gf(t)?[]:Jj(t,this._c):[].concat(r),a],p=f[0],v=f.reduce((x,_)=>{const b=gx(t,_,c);return x.top=zr(b.top,x.top),x.right=vi(b.right,x.right),x.bottom=vi(b.bottom,x.bottom),x.left=zr(b.left,x.left),x},gx(t,p,c));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function tE(e){const{width:t,height:r}=Rw(e);return{width:t,height:r}}function nE(e,t,r){const a=Vs(t),c=qs(t),d=r==="fixed",f=fa(e,!0,d,t);let p={scrollLeft:0,scrollTop:0};const v=xi(0);if(a||!a&&!d)if((Il(t)!=="body"||iu(c))&&(p=vf(t)),a){const k=fa(t,!0,d,t);v.x=k.x+t.clientLeft,v.y=k.y+t.clientTop}else c&&(v.x=Xm(c));let x=0,_=0;if(c&&!a&&!d){const k=c.getBoundingClientRect();_=k.top+p.scrollTop,x=k.left+p.scrollLeft-Xm(c,k)}const b=f.left+p.scrollLeft-v.x-x,S=f.top+p.scrollTop-v.y-_;return{x:b,y:S,width:f.width,height:f.height}}function ym(e){return Ss(e).position==="static"}function vx(e,t){if(!Vs(e)||Ss(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return qs(e)===r&&(r=r.ownerDocument.body),r}function Dw(e,t){const r=Br(e);if(gf(e))return r;if(!Vs(e)){let c=wi(e);for(;c&&!kl(c);){if(Ns(c)&&!ym(c))return c;c=wi(c)}return r}let a=vx(e,t);for(;a&&Wj(a)&&ym(a);)a=vx(a,t);return a&&kl(a)&&ym(a)&&!Dp(a)?r:a||Vj(e)||r}const rE=async function(e){const t=this.getOffsetParent||Dw,r=this.getDimensions,a=await r(e.floating);return{reference:nE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function sE(e){return Ss(e).direction==="rtl"}const oE={convertOffsetParentRelativeRectToViewportRelativeRect:Gj,getDocumentElement:qs,getClippingRect:eE,getOffsetParent:Dw,getElementRects:rE,getClientRects:Yj,getDimensions:tE,getScale:xl,isElement:Ns,isRTL:sE};function iE(e,t){let r=null,a;const c=qs(e);function d(){var p;clearTimeout(a),(p=r)==null||p.disconnect(),r=null}function f(p,v){p===void 0&&(p=!1),v===void 0&&(v=1),d();const{left:x,top:_,width:b,height:S}=e.getBoundingClientRect();if(p||t(),!b||!S)return;const k=kd(_),P=kd(c.clientWidth-(x+b)),j=kd(c.clientHeight-(_+S)),C=kd(x),D={rootMargin:-k+"px "+-P+"px "+-j+"px "+-C+"px",threshold:zr(0,vi(1,v))||1};let M=!0;function I(O){const q=O[0].intersectionRatio;if(q!==v){if(!M)return f();q?f(!1,q):a=setTimeout(()=>{f(!1,1e-7)},1e3)}M=!1}try{r=new IntersectionObserver(I,{...D,root:c.ownerDocument})}catch{r=new IntersectionObserver(I,D)}r.observe(e)}return f(!0),d}function aE(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:p=typeof IntersectionObserver=="function",animationFrame:v=!1}=a,x=Op(e),_=c||d?[...x?Zc(x):[],...Zc(t)]:[];_.forEach(T=>{c&&T.addEventListener("scroll",r,{passive:!0}),d&&T.addEventListener("resize",r)});const b=x&&p?iE(x,r):null;let S=-1,k=null;f&&(k=new ResizeObserver(T=>{let[D]=T;D&&D.target===x&&k&&(k.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var M;(M=k)==null||M.observe(t)})),r()}),x&&!v&&k.observe(x),k.observe(t));let P,j=v?fa(e):null;v&&C();function C(){const T=fa(e);j&&(T.x!==j.x||T.y!==j.y||T.width!==j.width||T.height!==j.height)&&r(),j=T,P=requestAnimationFrame(C)}return r(),()=>{var T;_.forEach(D=>{c&&D.removeEventListener("scroll",r),d&&D.removeEventListener("resize",r)}),b==null||b(),(T=k)==null||T.disconnect(),k=null,v&&cancelAnimationFrame(P)}}const lE=zj,cE=Bj,uE=Oj,dE=Hj,fE=Fj,xx=Ij,hE=Uj,mE=(e,t,r)=>{const a=new Map,c={platform:oE,...r},d={...c.platform,_c:a};return Dj(e,t,{...c,platform:d})};var Wd=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Xd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,c;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!Xd(e[a],t[a]))return!1;return!0}if(c=Object.keys(e),r=c.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,c[a]))return!1;for(a=r;a--!==0;){const d=c[a];if(!(d==="_owner"&&e.$$typeof)&&!Xd(e[d],t[d]))return!1}return!0}return e!==e&&t!==t}function Iw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yx(e,t){const r=Iw(e);return Math.round(t*r)/r}function wm(e){const t=g.useRef(e);return Wd(()=>{t.current=e}),t}function pE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:c,elements:{reference:d,floating:f}={},transform:p=!0,whileElementsMounted:v,open:x}=e,[_,b]=g.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[S,k]=g.useState(a);Xd(S,a)||k(a);const[P,j]=g.useState(null),[C,T]=g.useState(null),D=g.useCallback(U=>{U!==q.current&&(q.current=U,j(U))},[]),M=g.useCallback(U=>{U!==H.current&&(H.current=U,T(U))},[]),I=d||P,O=f||C,q=g.useRef(null),H=g.useRef(null),te=g.useRef(_),V=v!=null,Y=wm(v),ee=wm(c),he=wm(x),De=g.useCallback(()=>{if(!q.current||!H.current)return;const U={placement:t,strategy:r,middleware:S};ee.current&&(U.platform=ee.current),mE(q.current,H.current,U).then(fe=>{const oe={...fe,isPositioned:he.current!==!1};de.current&&!Xd(te.current,oe)&&(te.current=oe,va.flushSync(()=>{b(oe)}))})},[S,t,r,ee,he]);Wd(()=>{x===!1&&te.current.isPositioned&&(te.current.isPositioned=!1,b(U=>({...U,isPositioned:!1})))},[x]);const de=g.useRef(!1);Wd(()=>(de.current=!0,()=>{de.current=!1}),[]),Wd(()=>{if(I&&(q.current=I),O&&(H.current=O),I&&O){if(Y.current)return Y.current(I,O,De);De()}},[I,O,De,Y,V]);const $e=g.useMemo(()=>({reference:q,floating:H,setReference:D,setFloating:M}),[D,M]),J=g.useMemo(()=>({reference:I,floating:O}),[I,O]),xe=g.useMemo(()=>{const U={position:r,left:0,top:0};if(!J.floating)return U;const fe=yx(J.floating,_.x),oe=yx(J.floating,_.y);return p?{...U,transform:"translate("+fe+"px, "+oe+"px)",...Iw(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:fe,top:oe}},[r,p,J.floating,_.x,_.y]);return g.useMemo(()=>({..._,update:De,refs:$e,elements:J,floatingStyles:xe}),[_,De,$e,J,xe])}const gE=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:c}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?xx({element:a.current,padding:c}).fn(r):{}:a?xx({element:a,padding:c}).fn(r):{}}}},vE=(e,t)=>({...lE(e),options:[e,t]}),xE=(e,t)=>({...cE(e),options:[e,t]}),yE=(e,t)=>({...hE(e),options:[e,t]}),wE=(e,t)=>({...uE(e),options:[e,t]}),_E=(e,t)=>({...dE(e),options:[e,t]}),bE=(e,t)=>({...fE(e),options:[e,t]}),NE=(e,t)=>({...gE(e),options:[e,t]});var SE="Arrow",Ow=g.forwardRef((e,t)=>{const{children:r,width:a=10,height:c=5,...d}=e;return o.jsx(Pt.svg,{...d,ref:t,width:a,height:c,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ow.displayName=SE;var jE=Ow;function Fw(e){const[t,r]=g.useState(void 0);return Sn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(c=>{if(!Array.isArray(c)||!c.length)return;const d=c[0];let f,p;if("borderBoxSize"in d){const v=d.borderBoxSize,x=Array.isArray(v)?v[0]:v;f=x.inlineSize,p=x.blockSize}else f=e.offsetWidth,p=e.offsetHeight;r({width:f,height:p})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var Fp="Popper",[$w,xf]=Ll(Fp),[EE,zw]=$w(Fp),Bw=e=>{const{__scopePopper:t,children:r}=e,[a,c]=g.useState(null);return o.jsx(EE,{scope:t,anchor:a,onAnchorChange:c,children:r})};Bw.displayName=Fp;var Uw="PopperAnchor",Hw=g.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...c}=e,d=zw(Uw,r),f=g.useRef(null),p=Vt(t,f);return g.useEffect(()=>{d.onAnchorChange((a==null?void 0:a.current)||f.current)}),a?null:o.jsx(Pt.div,{...c,ref:p})});Hw.displayName=Uw;var $p="PopperContent",[CE,PE]=$w($p),Ww=g.forwardRef((e,t)=>{var K,le,_e,ke,ze,We;const{__scopePopper:r,side:a="bottom",sideOffset:c=0,align:d="center",alignOffset:f=0,arrowPadding:p=0,avoidCollisions:v=!0,collisionBoundary:x=[],collisionPadding:_=0,sticky:b="partial",hideWhenDetached:S=!1,updatePositionStrategy:k="optimized",onPlaced:P,...j}=e,C=zw($p,r),[T,D]=g.useState(null),M=Vt(t,it=>D(it)),[I,O]=g.useState(null),q=Fw(I),H=(q==null?void 0:q.width)??0,te=(q==null?void 0:q.height)??0,V=a+(d!=="center"?"-"+d:""),Y=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},ee=Array.isArray(x)?x:[x],he=ee.length>0,De={padding:Y,boundary:ee.filter(kE),altBoundary:he},{refs:de,floatingStyles:$e,placement:J,isPositioned:xe,middlewareData:U}=pE({strategy:"fixed",placement:V,whileElementsMounted:(...it)=>aE(...it,{animationFrame:k==="always"}),elements:{reference:C.anchor},middleware:[vE({mainAxis:c+te,alignmentAxis:f}),v&&xE({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?yE():void 0,...De}),v&&wE({...De}),_E({...De,apply:({elements:it,rects:Tt,availableWidth:ye,availableHeight:Ye})=>{const{width:Z,height:me}=Tt.reference,be=it.floating.style;be.setProperty("--radix-popper-available-width",`${ye}px`),be.setProperty("--radix-popper-available-height",`${Ye}px`),be.setProperty("--radix-popper-anchor-width",`${Z}px`),be.setProperty("--radix-popper-anchor-height",`${me}px`)}}),I&&NE({element:I,padding:p}),ME({arrowWidth:H,arrowHeight:te}),S&&bE({strategy:"referenceHidden",...De})]}),[fe,oe]=Zw(J),F=xn(P);Sn(()=>{xe&&(F==null||F())},[xe,F]);const Q=(K=U.arrow)==null?void 0:K.x,Se=(le=U.arrow)==null?void 0:le.y,Te=((_e=U.arrow)==null?void 0:_e.centerOffset)!==0,[je,$]=g.useState();return Sn(()=>{T&&$(window.getComputedStyle(T).zIndex)},[T]),o.jsx("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...$e,transform:xe?$e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:je,"--radix-popper-transform-origin":[(ke=U.transformOrigin)==null?void 0:ke.x,(ze=U.transformOrigin)==null?void 0:ze.y].join(" "),...((We=U.hide)==null?void 0:We.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(CE,{scope:r,placedSide:fe,onArrowChange:O,arrowX:Q,arrowY:Se,shouldHideArrow:Te,children:o.jsx(Pt.div,{"data-side":fe,"data-align":oe,...j,ref:M,style:{...j.style,animation:xe?void 0:"none"}})})})});Ww.displayName=$p;var Vw="PopperArrow",TE={top:"bottom",right:"left",bottom:"top",left:"right"},qw=g.forwardRef(function(t,r){const{__scopePopper:a,...c}=t,d=PE(Vw,a),f=TE[d.placedSide];return o.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:o.jsx(jE,{...c,ref:r,style:{...c.style,display:"block"}})})});qw.displayName=Vw;function kE(e){return e!==null}var ME=e=>({name:"transformOrigin",options:e,fn(t){var C,T,D;const{placement:r,rects:a,middlewareData:c}=t,f=((C=c.arrow)==null?void 0:C.centerOffset)!==0,p=f?0:e.arrowWidth,v=f?0:e.arrowHeight,[x,_]=Zw(r),b={start:"0%",center:"50%",end:"100%"}[_],S=(((T=c.arrow)==null?void 0:T.x)??0)+p/2,k=(((D=c.arrow)==null?void 0:D.y)??0)+v/2;let P="",j="";return x==="bottom"?(P=f?b:`${S}px`,j=`${-v}px`):x==="top"?(P=f?b:`${S}px`,j=`${a.floating.height+v}px`):x==="right"?(P=`${-v}px`,j=f?b:`${k}px`):x==="left"&&(P=`${a.floating.width+v}px`,j=f?b:`${k}px`),{data:{x:P,y:j}}}});function Zw(e){const[t,r="center"]=e.split("-");return[t,r]}var RE=Bw,Gw=Hw,Yw=Ww,Kw=qw,LE="Portal",Xw=g.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=g.useState(!1);Sn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?lf.createPortal(o.jsx(Pt.div,{...a,ref:t}),f):null});Xw.displayName=LE;function AE(e,t){return g.useReducer((r,a)=>t[r][a]??r,e)}var Qw=e=>{const{present:t,children:r}=e,a=DE(t),c=typeof r=="function"?r({present:a.isPresent}):g.Children.only(r),d=Vt(a.ref,IE(c));return typeof r=="function"||a.isPresent?g.cloneElement(c,{ref:d}):null};Qw.displayName="Presence";function DE(e){const[t,r]=g.useState(),a=g.useRef({}),c=g.useRef(e),d=g.useRef("none"),f=e?"mounted":"unmounted",[p,v]=AE(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const x=Md(a.current);d.current=p==="mounted"?x:"none"},[p]),Sn(()=>{const x=a.current,_=c.current;if(_!==e){const S=d.current,k=Md(x);e?v("MOUNT"):k==="none"||(x==null?void 0:x.display)==="none"?v("UNMOUNT"):v(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,v]),Sn(()=>{if(t){let x;const _=t.ownerDocument.defaultView??window,b=k=>{const j=Md(a.current).includes(k.animationName);if(k.target===t&&j&&(v("ANIMATION_END"),!c.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",x=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},S=k=>{k.target===t&&(d.current=Md(a.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(x),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:g.useCallback(x=>{x&&(a.current=getComputedStyle(x)),r(x)},[])}}function Md(e){return(e==null?void 0:e.animationName)||"none"}function IE(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var[yf,BL]=gj("Tooltip",[xf]),zp=xf(),Jw="TooltipProvider",OE=700,wx="tooltip.open",[FE,e0]=yf(Jw),t0=e=>{const{__scopeTooltip:t,delayDuration:r=OE,skipDelayDuration:a=300,disableHoverableContent:c=!1,children:d}=e,[f,p]=g.useState(!0),v=g.useRef(!1),x=g.useRef(0);return g.useEffect(()=>{const _=x.current;return()=>window.clearTimeout(_)},[]),o.jsx(FE,{scope:t,isOpenDelayed:f,delayDuration:r,onOpen:g.useCallback(()=>{window.clearTimeout(x.current),p(!1)},[]),onClose:g.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>p(!0),a)},[a]),isPointerInTransitRef:v,onPointerInTransitChange:g.useCallback(_=>{v.current=_},[]),disableHoverableContent:c,children:d})};t0.displayName=Jw;var n0="Tooltip",[UL,wf]=yf(n0),Qm="TooltipTrigger",$E=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,c=wf(Qm,r),d=e0(Qm,r),f=zp(r),p=g.useRef(null),v=Vt(t,p,c.onTriggerChange),x=g.useRef(!1),_=g.useRef(!1),b=g.useCallback(()=>x.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",b),[b]),o.jsx(Gw,{asChild:!0,...f,children:o.jsx(Pt.button,{"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute,...a,ref:v,onPointerMove:lt(e.onPointerMove,S=>{S.pointerType!=="touch"&&!_.current&&!d.isPointerInTransitRef.current&&(c.onTriggerEnter(),_.current=!0)}),onPointerLeave:lt(e.onPointerLeave,()=>{c.onTriggerLeave(),_.current=!1}),onPointerDown:lt(e.onPointerDown,()=>{x.current=!0,document.addEventListener("pointerup",b,{once:!0})}),onFocus:lt(e.onFocus,()=>{x.current||c.onOpen()}),onBlur:lt(e.onBlur,c.onClose),onClick:lt(e.onClick,c.onClose)})})});$E.displayName=Qm;var zE="TooltipPortal",[HL,BE]=yf(zE,{forceMount:void 0}),Ml="TooltipContent",r0=g.forwardRef((e,t)=>{const r=BE(Ml,e.__scopeTooltip),{forceMount:a=r.forceMount,side:c="top",...d}=e,f=wf(Ml,e.__scopeTooltip);return o.jsx(Qw,{present:a||f.open,children:f.disableHoverableContent?o.jsx(s0,{side:c,...d,ref:t}):o.jsx(UE,{side:c,...d,ref:t})})}),UE=g.forwardRef((e,t)=>{const r=wf(Ml,e.__scopeTooltip),a=e0(Ml,e.__scopeTooltip),c=g.useRef(null),d=Vt(t,c),[f,p]=g.useState(null),{trigger:v,onClose:x}=r,_=c.current,{onPointerInTransitChange:b}=a,S=g.useCallback(()=>{p(null),b(!1)},[b]),k=g.useCallback((P,j)=>{const C=P.currentTarget,T={x:P.clientX,y:P.clientY},D=qE(T,C.getBoundingClientRect()),M=ZE(T,D),I=GE(j.getBoundingClientRect()),O=KE([...M,...I]);p(O),b(!0)},[b]);return g.useEffect(()=>()=>S(),[S]),g.useEffect(()=>{if(v&&_){const P=C=>k(C,_),j=C=>k(C,v);return v.addEventListener("pointerleave",P),_.addEventListener("pointerleave",j),()=>{v.removeEventListener("pointerleave",P),_.removeEventListener("pointerleave",j)}}},[v,_,k,S]),g.useEffect(()=>{if(f){const P=j=>{const C=j.target,T={x:j.clientX,y:j.clientY},D=(v==null?void 0:v.contains(C))||(_==null?void 0:_.contains(C)),M=!YE(T,f);D?S():M&&(S(),x())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[v,_,f,x,S]),o.jsx(s0,{...e,ref:d})}),[HE,WE]=yf(n0,{isInside:!1}),s0=g.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":c,onEscapeKeyDown:d,onPointerDownOutside:f,...p}=e,v=wf(Ml,r),x=zp(r),{onClose:_}=v;return g.useEffect(()=>(document.addEventListener(wx,_),()=>document.removeEventListener(wx,_)),[_]),g.useEffect(()=>{if(v.trigger){const b=S=>{const k=S.target;k!=null&&k.contains(v.trigger)&&_()};return window.addEventListener("scroll",b,{capture:!0}),()=>window.removeEventListener("scroll",b,{capture:!0})}},[v.trigger,_]),o.jsx(Mp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:b=>b.preventDefault(),onDismiss:_,children:o.jsxs(Yw,{"data-state":v.stateAttribute,...x,...p,ref:t,style:{...p.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(Ry,{children:a}),o.jsx(HE,{scope:r,isInside:!0,children:o.jsx(jN,{id:v.contentId,role:"tooltip",children:c||a})})]})})});r0.displayName=Ml;var o0="TooltipArrow",VE=g.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,c=zp(r);return WE(o0,r).isInside?null:o.jsx(Kw,{...c,...a,ref:t})});VE.displayName=o0;function qE(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),c=Math.abs(t.right-e.x),d=Math.abs(t.left-e.x);switch(Math.min(r,a,c,d)){case d:return"left";case c:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function ZE(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function GE(e){const{top:t,right:r,bottom:a,left:c}=e;return[{x:c,y:t},{x:r,y:t},{x:r,y:a},{x:c,y:a}]}function YE(e,t){const{x:r,y:a}=e;let c=!1;for(let d=0,f=t.length-1;d<t.length;f=d++){const p=t[d].x,v=t[d].y,x=t[f].x,_=t[f].y;v>a!=_>a&&r<(x-p)*(a-v)/(_-v)+p&&(c=!c)}return c}function KE(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),XE(t)}function XE(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const c=e[a];for(;t.length>=2;){const d=t[t.length-1],f=t[t.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))t.pop();else break}t.push(c)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const c=e[a];for(;r.length>=2;){const d=r[r.length-1],f=r[r.length-2];if((d.x-f.x)*(c.y-f.y)>=(d.y-f.y)*(c.x-f.x))r.pop();else break}r.push(c)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var QE=t0,i0=r0;const JE=QE,eC=g.forwardRef(({className:e,sideOffset:t=4,...r},a)=>o.jsx(i0,{ref:a,sideOffset:t,className:wt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));eC.displayName=i0.displayName;var _f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bf=typeof window>"u"||"Deno"in globalThis;function ys(){}function tC(e,t){return typeof e=="function"?e(t):e}function nC(e){return typeof e=="number"&&e>=0&&e!==1/0}function rC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _x(e,t){return typeof e=="function"?e(t):e}function sC(e,t){return typeof e=="function"?e(t):e}function bx(e,t){const{type:r="all",exact:a,fetchStatus:c,predicate:d,queryKey:f,stale:p}=e;if(f){if(a){if(t.queryHash!==Bp(f,t.options))return!1}else if(!Yc(t.queryKey,f))return!1}if(r!=="all"){const v=t.isActive();if(r==="active"&&!v||r==="inactive"&&v)return!1}return!(typeof p=="boolean"&&t.isStale()!==p||c&&c!==t.state.fetchStatus||d&&!d(t))}function Nx(e,t){const{exact:r,status:a,predicate:c,mutationKey:d}=e;if(d){if(!t.options.mutationKey)return!1;if(r){if(Gc(t.options.mutationKey)!==Gc(d))return!1}else if(!Yc(t.options.mutationKey,d))return!1}return!(a&&t.state.status!==a||c&&!c(t))}function Bp(e,t){return((t==null?void 0:t.queryKeyHashFn)||Gc)(e)}function Gc(e){return JSON.stringify(e,(t,r)=>Jm(r)?Object.keys(r).sort().reduce((a,c)=>(a[c]=r[c],a),{}):r)}function Yc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Yc(e[r],t[r])):!1}function a0(e,t){if(e===t)return e;const r=Sx(e)&&Sx(t);if(r||Jm(e)&&Jm(t)){const a=r?e:Object.keys(e),c=a.length,d=r?t:Object.keys(t),f=d.length,p=r?[]:{};let v=0;for(let x=0;x<f;x++){const _=r?x:d[x];(!r&&a.includes(_)||r)&&e[_]===void 0&&t[_]===void 0?(p[_]=void 0,v++):(p[_]=a0(e[_],t[_]),p[_]===e[_]&&e[_]!==void 0&&v++)}return c===f&&v===c?e:p}return t}function Sx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Jm(e){if(!jx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!jx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function jx(e){return Object.prototype.toString.call(e)==="[object Object]"}function oC(e){return new Promise(t=>{setTimeout(t,e)})}function iC(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?a0(e,t):t}function aC(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function lC(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var l0=Symbol();function c0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===l0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ra,li,wl,_y,cC=(_y=class extends _f{constructor(){super();nn(this,ra);nn(this,li);nn(this,wl);Bt(this,wl,t=>{if(!bf&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ce(this,li)||this.setEventListener(Ce(this,wl))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,li))==null||t.call(this),Bt(this,li,void 0))}setEventListener(t){var r;Bt(this,wl,t),(r=Ce(this,li))==null||r.call(this),Bt(this,li,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){Ce(this,ra)!==t&&(Bt(this,ra,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ce(this,ra)=="boolean"?Ce(this,ra):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ra=new WeakMap,li=new WeakMap,wl=new WeakMap,_y),u0=new cC,_l,ci,bl,by,uC=(by=class extends _f{constructor(){super();nn(this,_l,!0);nn(this,ci);nn(this,bl);Bt(this,bl,t=>{if(!bf&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){Ce(this,ci)||this.setEventListener(Ce(this,bl))}onUnsubscribe(){var t;this.hasListeners()||((t=Ce(this,ci))==null||t.call(this),Bt(this,ci,void 0))}setEventListener(t){var r;Bt(this,bl,t),(r=Ce(this,ci))==null||r.call(this),Bt(this,ci,t(this.setOnline.bind(this)))}setOnline(t){Ce(this,_l)!==t&&(Bt(this,_l,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return Ce(this,_l)}},_l=new WeakMap,ci=new WeakMap,bl=new WeakMap,by),Qd=new uC;function dC(e){return Math.min(1e3*2**e,3e4)}function d0(e){return(e??"online")==="online"?Qd.isOnline():!0}var f0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _m(e){return e instanceof f0}function h0(e){let t=!1,r=0,a=!1,c,d,f;const p=new Promise((T,D)=>{d=T,f=D}),v=T=>{var D;a||(P(new f0(T)),(D=e.abort)==null||D.call(e))},x=()=>{t=!0},_=()=>{t=!1},b=()=>u0.isFocused()&&(e.networkMode==="always"||Qd.isOnline())&&e.canRun(),S=()=>d0(e.networkMode)&&e.canRun(),k=T=>{var D;a||(a=!0,(D=e.onSuccess)==null||D.call(e,T),c==null||c(),d(T))},P=T=>{var D;a||(a=!0,(D=e.onError)==null||D.call(e,T),c==null||c(),f(T))},j=()=>new Promise(T=>{var D;c=M=>{(a||b())&&T(M)},(D=e.onPause)==null||D.call(e)}).then(()=>{var T;c=void 0,a||(T=e.onContinue)==null||T.call(e)}),C=()=>{if(a)return;let T;const D=r===0?e.initialPromise:void 0;try{T=D??e.fn()}catch(M){T=Promise.reject(M)}Promise.resolve(T).then(k).catch(M=>{var te;if(a)return;const I=e.retry??(bf?0:3),O=e.retryDelay??dC,q=typeof O=="function"?O(r,M):O,H=I===!0||typeof I=="number"&&r<I||typeof I=="function"&&I(r,M);if(t||!H){P(M);return}r++,(te=e.onFail)==null||te.call(e,r,M),oC(q).then(()=>b()?void 0:j()).then(()=>{t?P(M):C()})})};return{promise:p,cancel:v,continue:()=>(c==null||c(),p),cancelRetry:x,continueRetry:_,canStart:S,start:()=>(S()?C():j().then(C),p)}}function fC(){let e=[],t=0,r=p=>{p()},a=p=>{p()},c=p=>setTimeout(p,0);const d=p=>{t?e.push(p):c(()=>{r(p)})},f=()=>{const p=e;e=[],p.length&&c(()=>{a(()=>{p.forEach(v=>{r(v)})})})};return{batch:p=>{let v;t++;try{v=p()}finally{t--,t||f()}return v},batchCalls:p=>(...v)=>{d(()=>{p(...v)})},schedule:d,setNotifyFunction:p=>{r=p},setBatchNotifyFunction:p=>{a=p},setScheduler:p=>{c=p}}}var lr=fC(),sa,Ny,m0=(Ny=class{constructor(){nn(this,sa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nC(this.gcTime)&&Bt(this,sa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bf?1/0:5*60*1e3))}clearGcTimeout(){Ce(this,sa)&&(clearTimeout(Ce(this,sa)),Bt(this,sa,void 0))}},sa=new WeakMap,Ny),Nl,Sl,ts,Jn,eu,oa,ws,vo,Sy,hC=(Sy=class extends m0{constructor(t){super();nn(this,ws);nn(this,Nl);nn(this,Sl);nn(this,ts);nn(this,Jn);nn(this,eu);nn(this,oa);Bt(this,oa,!1),Bt(this,eu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Bt(this,ts,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Bt(this,Nl,pC(this.options)),this.state=t.state??Ce(this,Nl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ce(this,Jn))==null?void 0:t.promise}setOptions(t){this.options={...Ce(this,eu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ce(this,ts).remove(this)}setData(t,r){const a=iC(this.state.data,t,this.options);return Qn(this,ws,vo).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){Qn(this,ws,vo).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,c;const r=(a=Ce(this,Jn))==null?void 0:a.promise;return(c=Ce(this,Jn))==null||c.cancel(t),r?r.then(ys).catch(ys):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ce(this,Nl))}isActive(){return this.observers.some(t=>sC(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!rC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ce(this,Jn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ce(this,Jn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ce(this,ts).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ce(this,Jn)&&(Ce(this,oa)?Ce(this,Jn).cancel({revert:!0}):Ce(this,Jn).cancelRetry()),this.scheduleGc()),Ce(this,ts).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qn(this,ws,vo).call(this,{type:"invalidate"})}fetch(t,r){var v,x,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ce(this,Jn))return Ce(this,Jn).continueRetry(),Ce(this,Jn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(S=>S.options.queryFn);b&&this.setOptions(b.options)}const a=new AbortController,c=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(Bt(this,oa,!0),a.signal)})},d=()=>{const b=c0(this.options,r),S={queryKey:this.queryKey,meta:this.meta};return c(S),Bt(this,oa,!1),this.options.persister?this.options.persister(b,S,this):b(S)},f={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};c(f),(v=this.options.behavior)==null||v.onFetch(f,this),Bt(this,Sl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=f.fetchOptions)==null?void 0:x.meta))&&Qn(this,ws,vo).call(this,{type:"fetch",meta:(_=f.fetchOptions)==null?void 0:_.meta});const p=b=>{var S,k,P,j;_m(b)&&b.silent||Qn(this,ws,vo).call(this,{type:"error",error:b}),_m(b)||((k=(S=Ce(this,ts).config).onError)==null||k.call(S,b,this),(j=(P=Ce(this,ts).config).onSettled)==null||j.call(P,this.state.data,b,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Bt(this,Jn,h0({initialPromise:r==null?void 0:r.initialPromise,fn:f.fetchFn,abort:a.abort.bind(a),onSuccess:b=>{var S,k,P,j;if(b===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(b)}catch(C){p(C);return}(k=(S=Ce(this,ts).config).onSuccess)==null||k.call(S,b,this),(j=(P=Ce(this,ts).config).onSettled)==null||j.call(P,b,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(b,S)=>{Qn(this,ws,vo).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{Qn(this,ws,vo).call(this,{type:"pause"})},onContinue:()=>{Qn(this,ws,vo).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),Ce(this,Jn).start()}},Nl=new WeakMap,Sl=new WeakMap,ts=new WeakMap,Jn=new WeakMap,eu=new WeakMap,oa=new WeakMap,ws=new WeakSet,vo=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...mC(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=t.error;return _m(c)&&c.revert&&Ce(this,Sl)?{...Ce(this,Sl),fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),lr.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),Ce(this,ts).notify({query:this,type:"updated",action:t})})},Sy);function mC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:d0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pC(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Bs,jy,gC=(jy=class extends _f{constructor(t={}){super();nn(this,Bs);this.config=t,Bt(this,Bs,new Map)}build(t,r,a){const c=r.queryKey,d=r.queryHash??Bp(c,r);let f=this.get(d);return f||(f=new hC({cache:this,queryKey:c,queryHash:d,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(c)}),this.add(f)),f}add(t){Ce(this,Bs).has(t.queryHash)||(Ce(this,Bs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ce(this,Bs).get(t.queryHash);r&&(t.destroy(),r===t&&Ce(this,Bs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){lr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ce(this,Bs).get(t)}getAll(){return[...Ce(this,Bs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>bx(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>bx(t,a)):r}notify(t){lr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Bs=new WeakMap,jy),Us,ar,ia,Hs,oi,Ey,vC=(Ey=class extends m0{constructor(t){super();nn(this,Hs);nn(this,Us);nn(this,ar);nn(this,ia);this.mutationId=t.mutationId,Bt(this,ar,t.mutationCache),Bt(this,Us,[]),this.state=t.state||xC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ce(this,Us).includes(t)||(Ce(this,Us).push(t),this.clearGcTimeout(),Ce(this,ar).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Bt(this,Us,Ce(this,Us).filter(r=>r!==t)),this.scheduleGc(),Ce(this,ar).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ce(this,Us).length||(this.state.status==="pending"?this.scheduleGc():Ce(this,ar).remove(this))}continue(){var t;return((t=Ce(this,ia))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,d,f,p,v,x,_,b,S,k,P,j,C,T,D,M,I,O,q,H;Bt(this,ia,h0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(te,V)=>{Qn(this,Hs,oi).call(this,{type:"failed",failureCount:te,error:V})},onPause:()=>{Qn(this,Hs,oi).call(this,{type:"pause"})},onContinue:()=>{Qn(this,Hs,oi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ce(this,ar).canRun(this)}));const r=this.state.status==="pending",a=!Ce(this,ia).canStart();try{if(!r){Qn(this,Hs,oi).call(this,{type:"pending",variables:t,isPaused:a}),await((d=(c=Ce(this,ar).config).onMutate)==null?void 0:d.call(c,t,this));const V=await((p=(f=this.options).onMutate)==null?void 0:p.call(f,t));V!==this.state.context&&Qn(this,Hs,oi).call(this,{type:"pending",context:V,variables:t,isPaused:a})}const te=await Ce(this,ia).start();return await((x=(v=Ce(this,ar).config).onSuccess)==null?void 0:x.call(v,te,t,this.state.context,this)),await((b=(_=this.options).onSuccess)==null?void 0:b.call(_,te,t,this.state.context)),await((k=(S=Ce(this,ar).config).onSettled)==null?void 0:k.call(S,te,null,this.state.variables,this.state.context,this)),await((j=(P=this.options).onSettled)==null?void 0:j.call(P,te,null,t,this.state.context)),Qn(this,Hs,oi).call(this,{type:"success",data:te}),te}catch(te){try{throw await((T=(C=Ce(this,ar).config).onError)==null?void 0:T.call(C,te,t,this.state.context,this)),await((M=(D=this.options).onError)==null?void 0:M.call(D,te,t,this.state.context)),await((O=(I=Ce(this,ar).config).onSettled)==null?void 0:O.call(I,void 0,te,this.state.variables,this.state.context,this)),await((H=(q=this.options).onSettled)==null?void 0:H.call(q,void 0,te,t,this.state.context)),te}finally{Qn(this,Hs,oi).call(this,{type:"error",error:te})}}finally{Ce(this,ar).runNext(this)}}},Us=new WeakMap,ar=new WeakMap,ia=new WeakMap,Hs=new WeakSet,oi=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),lr.batch(()=>{Ce(this,Us).forEach(a=>{a.onMutationUpdate(t)}),Ce(this,ar).notify({mutation:this,type:"updated",action:t})})},Ey);function xC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Or,tu,Cy,yC=(Cy=class extends _f{constructor(t={}){super();nn(this,Or);nn(this,tu);this.config=t,Bt(this,Or,new Map),Bt(this,tu,Date.now())}build(t,r,a){const c=new vC({mutationCache:this,mutationId:++jd(this,tu)._,options:t.defaultMutationOptions(r),state:a});return this.add(c),c}add(t){const r=Rd(t),a=Ce(this,Or).get(r)??[];a.push(t),Ce(this,Or).set(r,a),this.notify({type:"added",mutation:t})}remove(t){var a;const r=Rd(t);if(Ce(this,Or).has(r)){const c=(a=Ce(this,Or).get(r))==null?void 0:a.filter(d=>d!==t);c&&(c.length===0?Ce(this,Or).delete(r):Ce(this,Or).set(r,c))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const r=(a=Ce(this,Or).get(Rd(t)))==null?void 0:a.find(c=>c.state.status==="pending");return!r||r===t}runNext(t){var a;const r=(a=Ce(this,Or).get(Rd(t)))==null?void 0:a.find(c=>c!==t&&c.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){lr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Ce(this,Or).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(a=>Nx(r,a))}findAll(t={}){return this.getAll().filter(r=>Nx(t,r))}notify(t){lr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return lr.batch(()=>Promise.all(t.map(r=>r.continue().catch(ys))))}},Or=new WeakMap,tu=new WeakMap,Cy);function Rd(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Ex(e){return{onFetch:(t,r)=>{var _,b,S,k,P;const a=t.options,c=(S=(b=(_=t.fetchOptions)==null?void 0:_.meta)==null?void 0:b.fetchMore)==null?void 0:S.direction,d=((k=t.state.data)==null?void 0:k.pages)||[],f=((P=t.state.data)==null?void 0:P.pageParams)||[];let p={pages:[],pageParams:[]},v=0;const x=async()=>{let j=!1;const C=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(t.signal.aborted?j=!0:t.signal.addEventListener("abort",()=>{j=!0}),t.signal)})},T=c0(t.options,t.fetchOptions),D=async(M,I,O)=>{if(j)return Promise.reject();if(I==null&&M.pages.length)return Promise.resolve(M);const q={queryKey:t.queryKey,pageParam:I,direction:O?"backward":"forward",meta:t.options.meta};C(q);const H=await T(q),{maxPages:te}=t.options,V=O?lC:aC;return{pages:V(M.pages,H,te),pageParams:V(M.pageParams,I,te)}};if(c&&d.length){const M=c==="backward",I=M?wC:Cx,O={pages:d,pageParams:f},q=I(a,O);p=await D(O,q,M)}else{const M=e??d.length;do{const I=v===0?f[0]??a.initialPageParam:Cx(a,p);if(v>0&&I==null)break;p=await D(p,I),v++}while(v<M)}return p};t.options.persister?t.fetchFn=()=>{var j,C;return(C=(j=t.options).persister)==null?void 0:C.call(j,x,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=x}}}function Cx(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function wC(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var Cn,ui,di,jl,El,fi,Cl,Pl,Py,_C=(Py=class{constructor(e={}){nn(this,Cn);nn(this,ui);nn(this,di);nn(this,jl);nn(this,El);nn(this,fi);nn(this,Cl);nn(this,Pl);Bt(this,Cn,e.queryCache||new gC),Bt(this,ui,e.mutationCache||new yC),Bt(this,di,e.defaultOptions||{}),Bt(this,jl,new Map),Bt(this,El,new Map),Bt(this,fi,0)}mount(){jd(this,fi)._++,Ce(this,fi)===1&&(Bt(this,Cl,u0.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,Cn).onFocus())})),Bt(this,Pl,Qd.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ce(this,Cn).onOnline())})))}unmount(){var e,t;jd(this,fi)._--,Ce(this,fi)===0&&((e=Ce(this,Cl))==null||e.call(this),Bt(this,Cl,void 0),(t=Ce(this,Pl))==null||t.call(this),Bt(this,Pl,void 0))}isFetching(e){return Ce(this,Cn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ce(this,ui).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ce(this,Cn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),a=Ce(this,Cn).build(this,r);return e.revalidateIfStale&&a.isStaleByTime(_x(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Ce(this,Cn).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),c=Ce(this,Cn).get(a.queryHash),d=c==null?void 0:c.state.data,f=tC(t,d);if(f!==void 0)return Ce(this,Cn).build(this,a).setData(f,{...r,manual:!0})}setQueriesData(e,t,r){return lr.batch(()=>Ce(this,Cn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ce(this,Cn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ce(this,Cn);lr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ce(this,Cn),a={type:"active",...e};return lr.batch(()=>(r.findAll(e).forEach(c=>{c.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},a=lr.batch(()=>Ce(this,Cn).findAll(e).map(c=>c.cancel(r)));return Promise.all(a).then(ys).catch(ys)}invalidateQueries(e={},t={}){return lr.batch(()=>{if(Ce(this,Cn).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=lr.batch(()=>Ce(this,Cn).findAll(e).filter(c=>!c.isDisabled()).map(c=>{let d=c.fetch(void 0,r);return r.throwOnError||(d=d.catch(ys)),c.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(a).then(ys)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ce(this,Cn).build(this,t);return r.isStaleByTime(_x(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ys).catch(ys)}fetchInfiniteQuery(e){return e.behavior=Ex(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ys).catch(ys)}ensureInfiniteQueryData(e){return e.behavior=Ex(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Qd.isOnline()?Ce(this,ui).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ce(this,Cn)}getMutationCache(){return Ce(this,ui)}getDefaultOptions(){return Ce(this,di)}setDefaultOptions(e){Bt(this,di,e)}setQueryDefaults(e,t){Ce(this,jl).set(Gc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ce(this,jl).values()];let r={};return t.forEach(a=>{Yc(e,a.queryKey)&&(r={...r,...a.defaultOptions})}),r}setMutationDefaults(e,t){Ce(this,El).set(Gc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ce(this,El).values()];let r={};return t.forEach(a=>{Yc(e,a.mutationKey)&&(r={...r,...a.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ce(this,di).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Bp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===l0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ce(this,di).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ce(this,Cn).clear(),Ce(this,ui).clear()}},Cn=new WeakMap,ui=new WeakMap,di=new WeakMap,jl=new WeakMap,El=new WeakMap,fi=new WeakMap,Cl=new WeakMap,Pl=new WeakMap,Py),bC=g.createContext(void 0),NC=({client:e,children:t})=>(g.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(bC.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kc.apply(this,arguments)}var hi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hi||(hi={}));const Px="popstate";function SC(e){e===void 0&&(e={});function t(a,c){let{pathname:d,search:f,hash:p}=a.location;return ep("",{pathname:d,search:f,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(a,c){return typeof c=="string"?c:Jd(c)}return EC(t,r,null,e)}function An(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jC(){return Math.random().toString(36).substr(2,8)}function Tx(e,t){return{usr:e.state,key:e.key,idx:t}}function ep(e,t,r,a){return r===void 0&&(r=null),Kc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ol(t):t,{state:r,key:t&&t.key||a||jC()})}function Jd(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ol(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function EC(e,t,r,a){a===void 0&&(a={});let{window:c=document.defaultView,v5Compat:d=!1}=a,f=c.history,p=hi.Pop,v=null,x=_();x==null&&(x=0,f.replaceState(Kc({},f.state,{idx:x}),""));function _(){return(f.state||{idx:null}).idx}function b(){p=hi.Pop;let C=_(),T=C==null?null:C-x;x=C,v&&v({action:p,location:j.location,delta:T})}function S(C,T){p=hi.Push;let D=ep(j.location,C,T);x=_()+1;let M=Tx(D,x),I=j.createHref(D);try{f.pushState(M,"",I)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;c.location.assign(I)}d&&v&&v({action:p,location:j.location,delta:1})}function k(C,T){p=hi.Replace;let D=ep(j.location,C,T);x=_();let M=Tx(D,x),I=j.createHref(D);f.replaceState(M,"",I),d&&v&&v({action:p,location:j.location,delta:0})}function P(C){let T=c.location.origin!=="null"?c.location.origin:c.location.href,D=typeof C=="string"?C:Jd(C);return D=D.replace(/ $/,"%20"),An(T,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,T)}let j={get action(){return p},get location(){return e(c,f)},listen(C){if(v)throw new Error("A history only accepts one active listener");return c.addEventListener(Px,b),v=C,()=>{c.removeEventListener(Px,b),v=null}},createHref(C){return t(c,C)},createURL:P,encodeLocation(C){let T=P(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:S,replace:k,go(C){return f.go(C)}};return j}var kx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kx||(kx={}));function CC(e,t,r){return r===void 0&&(r="/"),PC(e,t,r)}function PC(e,t,r,a){let c=typeof t=="string"?Ol(t):t,d=Up(c.pathname||"/",r);if(d==null)return null;let f=g0(e);TC(f);let p=null;for(let v=0;p==null&&v<f.length;++v){let x=BC(d);p=FC(f[v],x)}return p}function g0(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let c=(d,f,p)=>{let v={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};v.relativePath.startsWith("/")&&(An(v.relativePath.startsWith(a),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(a.length));let x=mi([a,v.relativePath]),_=r.concat(v);d.children&&d.children.length>0&&(An(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),g0(d.children,t,_,x)),!(d.path==null&&!d.index)&&t.push({path:x,score:IC(x,d.index),routesMeta:_})};return e.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))c(d,f);else for(let v of v0(d.path))c(d,f,v)}),t}function v0(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,c=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return c?[d,""]:[d];let f=v0(a.join("/")),p=[];return p.push(...f.map(v=>v===""?d:[d,v].join("/"))),c&&p.push(...f),p.map(v=>e.startsWith("/")&&v===""?"/":v)}function TC(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:OC(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const kC=/^:[\w-]+$/,MC=3,RC=2,LC=1,AC=10,DC=-2,Mx=e=>e==="*";function IC(e,t){let r=e.split("/"),a=r.length;return r.some(Mx)&&(a+=DC),t&&(a+=RC),r.filter(c=>!Mx(c)).reduce((c,d)=>c+(kC.test(d)?MC:d===""?LC:AC),a)}function OC(e,t){return e.length===t.length&&e.slice(0,-1).every((a,c)=>a===t[c])?e[e.length-1]-t[t.length-1]:0}function FC(e,t,r){let{routesMeta:a}=e,c={},d="/",f=[];for(let p=0;p<a.length;++p){let v=a[p],x=p===a.length-1,_=d==="/"?t:t.slice(d.length)||"/",b=$C({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},_),S=v.route;if(!b)return null;Object.assign(c,b.params),f.push({params:c,pathname:mi([d,b.pathname]),pathnameBase:VC(mi([d,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(d=mi([d,b.pathnameBase]))}return f}function $C(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=zC(e.path,e.caseSensitive,e.end),c=t.match(r);if(!c)return null;let d=c[0],f=d.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:a.reduce((x,_,b)=>{let{paramName:S,isOptional:k}=_;if(S==="*"){let j=p[b]||"";f=d.slice(0,d.length-j.length).replace(/(.)\/+$/,"$1")}const P=p[b];return k&&!P?x[S]=void 0:x[S]=(P||"").replace(/%2F/g,"/"),x},{}),pathname:d,pathnameBase:f,pattern:e}}function zC(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),p0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,v)=>(a.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),a]}function BC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return p0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Up(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function UC(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:c=""}=typeof e=="string"?Ol(e):e;return{pathname:r?r.startsWith("/")?r:HC(r,t):t,search:qC(a),hash:ZC(c)}}function HC(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function bm(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WC(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function x0(e,t){let r=WC(e);return t?r.map((a,c)=>c===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function y0(e,t,r,a){a===void 0&&(a=!1);let c;typeof e=="string"?c=Ol(e):(c=Kc({},e),An(!c.pathname||!c.pathname.includes("?"),bm("?","pathname","search",c)),An(!c.pathname||!c.pathname.includes("#"),bm("#","pathname","hash",c)),An(!c.search||!c.search.includes("#"),bm("#","search","hash",c)));let d=e===""||c.pathname==="",f=d?"/":c.pathname,p;if(f==null)p=r;else{let b=t.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;c.pathname=S.join("/")}p=b>=0?t[b]:"/"}let v=UC(c,p),x=f&&f!=="/"&&f.endsWith("/"),_=(d||f===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(x||_)&&(v.pathname+="/"),v}const mi=e=>e.join("/").replace(/\/\/+/g,"/"),VC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function GC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w0=["post","put","patch","delete"];new Set(w0);const YC=["get",...w0];new Set(YC);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xc.apply(this,arguments)}const Hp=g.createContext(null),KC=g.createContext(null),ya=g.createContext(null),Nf=g.createContext(null),Ni=g.createContext({outlet:null,matches:[],isDataRoute:!1}),_0=g.createContext(null);function XC(e,t){let{relative:r}=t===void 0?{}:t;au()||An(!1);let{basename:a,navigator:c}=g.useContext(ya),{hash:d,pathname:f,search:p}=S0(e,{relative:r}),v=f;return a!=="/"&&(v=f==="/"?a:mi([a,f])),c.createHref({pathname:v,search:p,hash:d})}function au(){return g.useContext(Nf)!=null}function lu(){return au()||An(!1),g.useContext(Nf).location}function b0(e){g.useContext(ya).static||g.useLayoutEffect(e)}function N0(){let{isDataRoute:e}=g.useContext(Ni);return e?dP():QC()}function QC(){au()||An(!1);let e=g.useContext(Hp),{basename:t,future:r,navigator:a}=g.useContext(ya),{matches:c}=g.useContext(Ni),{pathname:d}=lu(),f=JSON.stringify(x0(c,r.v7_relativeSplatPath)),p=g.useRef(!1);return b0(()=>{p.current=!0}),g.useCallback(function(x,_){if(_===void 0&&(_={}),!p.current)return;if(typeof x=="number"){a.go(x);return}let b=y0(x,JSON.parse(f),d,_.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:mi([t,b.pathname])),(_.replace?a.replace:a.push)(b,_.state,_)},[t,a,f,d,e])}function JC(){let{matches:e}=g.useContext(Ni),t=e[e.length-1];return t?t.params:{}}function S0(e,t){let{relative:r}=t===void 0?{}:t,{future:a}=g.useContext(ya),{matches:c}=g.useContext(Ni),{pathname:d}=lu(),f=JSON.stringify(x0(c,a.v7_relativeSplatPath));return g.useMemo(()=>y0(e,JSON.parse(f),d,r==="path"),[e,f,d,r])}function eP(e,t){return tP(e,t)}function tP(e,t,r,a){au()||An(!1);let{navigator:c}=g.useContext(ya),{matches:d}=g.useContext(Ni),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let v=f?f.pathnameBase:"/";f&&f.route;let x=lu(),_;if(t){var b;let C=typeof t=="string"?Ol(t):t;v==="/"||(b=C.pathname)!=null&&b.startsWith(v)||An(!1),_=C}else _=x;let S=_.pathname||"/",k=S;if(v!=="/"){let C=v.replace(/^\//,"").split("/");k="/"+S.replace(/^\//,"").split("/").slice(C.length).join("/")}let P=CC(e,{pathname:k}),j=iP(P&&P.map(C=>Object.assign({},C,{params:Object.assign({},p,C.params),pathname:mi([v,c.encodeLocation?c.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?v:mi([v,c.encodeLocation?c.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),d,r,a);return t&&j?g.createElement(Nf.Provider,{value:{location:Xc({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:hi.Pop}},j):j}function nP(){let e=uP(),t=GC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:c},r):null,null)}const rP=g.createElement(nP,null);class sP extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Ni.Provider,{value:this.props.routeContext},g.createElement(_0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oP(e){let{routeContext:t,match:r,children:a}=e,c=g.useContext(Hp);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Ni.Provider,{value:t},a)}function iP(e,t,r,a){var c;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var d;if(!r)return null;if(r.errors)e=r.matches;else if((d=a)!=null&&d.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let f=e,p=(c=r)==null?void 0:c.errors;if(p!=null){let _=f.findIndex(b=>b.route.id&&(p==null?void 0:p[b.route.id])!==void 0);_>=0||An(!1),f=f.slice(0,Math.min(f.length,_+1))}let v=!1,x=-1;if(r&&a&&a.v7_partialHydration)for(let _=0;_<f.length;_++){let b=f[_];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=_),b.route.id){let{loaderData:S,errors:k}=r,P=b.route.loader&&S[b.route.id]===void 0&&(!k||k[b.route.id]===void 0);if(b.route.lazy||P){v=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}return f.reduceRight((_,b,S)=>{let k,P=!1,j=null,C=null;r&&(k=p&&b.route.id?p[b.route.id]:void 0,j=b.route.errorElement||rP,v&&(x<0&&S===0?(fP("route-fallback"),P=!0,C=null):x===S&&(P=!0,C=b.route.hydrateFallbackElement||null)));let T=t.concat(f.slice(0,S+1)),D=()=>{let M;return k?M=j:P?M=C:b.route.Component?M=g.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=_,g.createElement(oP,{match:b,routeContext:{outlet:_,matches:T,isDataRoute:r!=null},children:M})};return r&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?g.createElement(sP,{location:r.location,revalidation:r.revalidation,component:j,error:k,children:D(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):D()},null)}var j0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j0||{}),E0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E0||{});function aP(e){let t=g.useContext(Hp);return t||An(!1),t}function lP(e){let t=g.useContext(KC);return t||An(!1),t}function cP(e){let t=g.useContext(Ni);return t||An(!1),t}function C0(e){let t=cP(),r=t.matches[t.matches.length-1];return r.route.id||An(!1),r.route.id}function uP(){var e;let t=g.useContext(_0),r=lP(),a=C0();return t!==void 0?t:(e=r.errors)==null?void 0:e[a]}function dP(){let{router:e}=aP(j0.UseNavigateStable),t=C0(E0.UseNavigateStable),r=g.useRef(!1);return b0(()=>{r.current=!0}),g.useCallback(function(c,d){d===void 0&&(d={}),r.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,Xc({fromRouteId:t},d)))},[e,t])}const Rx={};function fP(e,t,r){Rx[e]||(Rx[e]=!0)}function ii(e){An(!1)}function hP(e){let{basename:t="/",children:r=null,location:a,navigationType:c=hi.Pop,navigator:d,static:f=!1,future:p}=e;au()&&An(!1);let v=t.replace(/^\/*/,"/"),x=g.useMemo(()=>({basename:v,navigator:d,static:f,future:Xc({v7_relativeSplatPath:!1},p)}),[v,p,d,f]);typeof a=="string"&&(a=Ol(a));let{pathname:_="/",search:b="",hash:S="",state:k=null,key:P="default"}=a,j=g.useMemo(()=>{let C=Up(_,v);return C==null?null:{location:{pathname:C,search:b,hash:S,state:k,key:P},navigationType:c}},[v,_,b,S,k,P,c]);return j==null?null:g.createElement(ya.Provider,{value:x},g.createElement(Nf.Provider,{children:r,value:j}))}function mP(e){let{children:t,location:r}=e;return eP(tp(t),r)}new Promise(()=>{});function tp(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(a,c)=>{if(!g.isValidElement(a))return;let d=[...t,c];if(a.type===g.Fragment){r.push.apply(r,tp(a.props.children,d));return}a.type!==ii&&An(!1),!a.props.index||!a.props.children||An(!1);let f={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=tp(a.props.children,d)),r.push(f)}),r}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},np.apply(this,arguments)}function pP(e,t){if(e==null)return{};var r={},a=Object.keys(e),c,d;for(d=0;d<a.length;d++)c=a[d],!(t.indexOf(c)>=0)&&(r[c]=e[c]);return r}function gP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vP(e,t){return e.button===0&&(!t||t==="_self")&&!gP(e)}const xP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],yP="6";try{window.__reactRouterVersion=yP}catch{}const wP="startTransition",Lx=Ty[wP];function _P(e){let{basename:t,children:r,future:a,window:c}=e,d=g.useRef();d.current==null&&(d.current=SC({window:c,v5Compat:!0}));let f=d.current,[p,v]=g.useState({action:f.action,location:f.location}),{v7_startTransition:x}=a||{},_=g.useCallback(b=>{x&&Lx?Lx(()=>v(b)):v(b)},[v,x]);return g.useLayoutEffect(()=>f.listen(_),[f,_]),g.createElement(hP,{basename:t,children:r,location:p.location,navigationType:p.action,navigator:f,future:a})}const bP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ws=g.forwardRef(function(t,r){let{onClick:a,relative:c,reloadDocument:d,replace:f,state:p,target:v,to:x,preventScrollReset:_,unstable_viewTransition:b}=t,S=pP(t,xP),{basename:k}=g.useContext(ya),P,j=!1;if(typeof x=="string"&&NP.test(x)&&(P=x,bP))try{let M=new URL(window.location.href),I=x.startsWith("//")?new URL(M.protocol+x):new URL(x),O=Up(I.pathname,k);I.origin===M.origin&&O!=null?x=O+I.search+I.hash:j=!0}catch{}let C=XC(x,{relative:c}),T=SP(x,{replace:f,state:p,target:v,preventScrollReset:_,relative:c,unstable_viewTransition:b});function D(M){a&&a(M),M.defaultPrevented||T(M)}return g.createElement("a",np({},S,{href:P||C,onClick:j||d?a:D,ref:r,target:v}))});var Ax;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ax||(Ax={}));var Dx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Dx||(Dx={}));function SP(e,t){let{target:r,replace:a,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p}=t===void 0?{}:t,v=N0(),x=lu(),_=S0(e,{relative:f});return g.useCallback(b=>{if(vP(b,r)){b.preventDefault();let S=a!==void 0?a:Jd(x)===Jd(_);v(e,{replace:S,state:c,preventScrollReset:d,relative:f,unstable_viewTransition:p})}},[x,v,_,a,c,r,e,d,f,p])}class pt{static init(){typeof window<"u"&&(this.baseUrl=window.location.origin,this.isInitialized=!0,console.log(`HttpClient: Initializing with baseUrl: ${this.baseUrl}`),console.log("HttpClient: Checking for fetch interference"),this.detectFetchInterference(),console.log(`HttpClient: Initialization complete. XHR mode: ${this.useXHROnly}`))}static ensureInitialized(){!this.isInitialized&&typeof window<"u"&&this.init(),!this.baseUrl&&typeof window<"u"&&(this.baseUrl=window.location.origin,console.log(`HttpClient: Fallback baseUrl set to: ${this.baseUrl}`))}static detectFetchInterference(){try{console.log("HttpClient: Checking for fetch interference...");const t={windowFS:!!window.FS,fullstoryScript:!!document.querySelector('script[src*="fullstory"]'),fsScript:!!document.querySelector('script[src*="fs.js"]'),userAgent:/fullstory/i.test(navigator.userAgent),fetchContainsFsJs:window.fetch.toString().includes("fs.js"),fetchTooShort:window.fetch.toString().length<50};if(console.log("HttpClient: FullStory detection checks:",t),Object.values(t).some(c=>c)){console.warn("FullStory detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}const a=window.fetch.toString();if(console.log("HttpClient: Fetch function length:",a.length),a.includes("eval")||a.includes("intercept")||a.includes("proxy")){console.warn("Fetch interception detected - switching to XMLHttpRequest mode immediately"),this.useXHROnly=!0;return}console.log("HttpClient: No fetch interference detected, using native fetch")}catch{console.warn("Could not detect fetch interference, using XMLHttpRequest as fallback"),this.useXHROnly=!0}}static forceXHRMode(){console.log("HttpClient: Forced to use XMLHttpRequest mode"),this.useXHROnly=!0}static isUsingXHR(){return this.useXHROnly}static async testConnection(){try{console.log("HttpClient: Testing connection...");const t=await this.get("/api/employees",!1),r=t.ok;return console.log(`HttpClient: Connection test ${r?"passed":"failed"} - Status: ${t.status}`),r}catch(t){return console.error("HttpClient: Connection test failed:",t),!1}}static async fallbackFetch(t,r={}){return console.log(`HttpClient: XMLHttpRequest attempt to ${t}`),new Promise((a,c)=>{const d=new XMLHttpRequest,f=r.method||"GET";try{const p=r.timeoutMs??25e3;if(d.withCredentials=!1,d.open(f,t),d.timeout=p,r.headers){const v=r.headers;Object.keys(v).forEach(x=>{if(x.toLowerCase()!=="signal")try{d.setRequestHeader(x,v[x])}catch(_){console.warn(`HttpClient: Failed to set header ${x}:`,_)}})}d.timeout=15e3,d.onreadystatechange=()=>{console.log(`HttpClient: XHR readyState: ${d.readyState}, status: ${d.status}`)},d.onload=()=>{var v;console.log(`HttpClient: XHR onload - Status: ${d.status}, Response: ${(v=d.responseText)==null?void 0:v.substring(0,100)}...`);try{if(d.status>=200&&d.status<300){const x=new Response(d.responseText,{status:d.status,statusText:d.statusText,headers:new Headers({"Content-Type":d.getResponseHeader("Content-Type")||"application/json"})});a(x)}else c(new Error(`HTTP error ${d.status}: ${d.statusText||"No status text"}`))}catch(x){console.error("HttpClient: Error creating response:",x),c(new Error(`Failed to create response: ${x}`))}},d.onerror=v=>{console.error("HttpClient: XHR error event:",v),console.error("HttpClient: XHR error details:",{status:d.status,statusText:d.statusText,readyState:d.readyState,responseText:d.responseText,responseURL:d.responseURL,url:t,method:f});let x="XMLHttpRequest failed";d.readyState===0?x=`Request not initialized - possible CORS or network issue for ${t}`:d.readyState===1?x="Request opened but not sent":d.readyState===2?x="Headers received but request incomplete":d.readyState===3?x="Request in progress":d.readyState===4&&(d.status===0?x=`Network error or CORS policy blocked request to ${t}. Check if server is running and CORS is configured.`:x=`HTTP error ${d.status}: ${d.statusText||"Unknown error"} for ${t}`),c(new Error(x))},d.ontimeout=()=>{console.error("HttpClient: XHR timeout"),c(new Error(`XMLHttpRequest timeout after ${p/1e3} seconds`))},d.onabort=()=>{console.log("HttpClient: XHR aborted (expected)")},console.log(`HttpClient: Sending XHR ${f} request to ${t}`),r.body?(console.log("HttpClient: Request body:",r.body),d.send(r.body)):d.send()}catch(p){console.error("HttpClient: Error setting up XMLHttpRequest:",p),c(new Error(`Failed to setup XMLHttpRequest: ${p}`))}})}static async request(t,r={}){this.ensureInitialized();const a=t.startsWith("http")?t:`${this.baseUrl}${t}`,c=r.method||"GET",d=c==="GET"&&!a.includes("?")?`${c}:${a}`:null;if(d&&this.pendingRequests.has(d))return console.log(`HttpClient: Reusing pending request for ${a}`),this.pendingRequests.get(d);if(console.log(`HttpClient: Request to ${a} (baseUrl: ${this.baseUrl}, endpoint: ${t})`),!a||a==="undefined"||a.includes("undefined"))throw console.error("HttpClient: Invalid URL constructed:",{url:a,baseUrl:this.baseUrl,endpoint:t}),new Error(`Invalid URL: ${a}`);const p={...r,headers:{...{"Content-Type":"application/json"},...r.headers}},v=this.executeRequest(a,p);return d&&(this.pendingRequests.set(d,v),v.finally(()=>{this.pendingRequests.delete(d)})),v}static async executeRequest(t,r){if(this.useXHROnly)return console.log(`HttpClient: Using XMLHttpRequest for ${t} (FullStory detected)`),this.fallbackFetch(t,r);let a=null,c=null;try{a=new AbortController;const{timeoutMs:d=15e3,...f}=r;c=setTimeout(()=>{a&&!a.signal.aborted&&a.abort(`Request timeout after ${d/1e3} seconds`)},d);const p={...f,signal:a.signal};console.log(`HttpClient: Attempting fetch to ${t}`);const v=await fetch(t,p);return c&&(clearTimeout(c),c=null),console.log(`HttpClient: Fetch successful to ${t}`,v.status),v}catch(d){if((d==null?void 0:d.name)==="AbortError")throw console.log(`HttpClient: Request aborted for ${t}`),d;return console.warn(`HttpClient: Fetch failed, trying fallback for ${t}:`,d),this.fallbackFetch(t,r)}}static async requestWithRetry(t,r={},a=2){var d,f;let c=null;for(let p=0;p<=a;p++)try{return await this.request(t,r)}catch(v){if(c=v,console.warn(`HttpClient: Attempt ${p+1} failed for ${t}:`,v),v instanceof TypeError&&(v.message.includes("fetch")||v.message.includes("Failed to fetch")||(d=v.stack)!=null&&d.includes("fullstory")||(f=v.stack)!=null&&f.includes("fs.js"))){console.log("HttpClient: FullStory error detected in retry, switching to XMLHttpRequest mode"),this.useXHROnly=!0;try{const x=t.startsWith("http")?t:`${this.baseUrl}${t}`,b={...r,headers:{...{"Content-Type":"application/json"},...r.headers}};return await this.fallbackFetch(x,b)}catch(x){console.error("HttpClient: XHR fallback also failed:",x)}}p<a&&await new Promise(x=>setTimeout(x,Math.pow(2,p)*1e3))}throw c}static async get(t,r=!1){return r?this.requestWithRetry(t,{method:"GET"}):this.request(t,{method:"GET"})}static async post(t,r,a=!0,c={}){const d={method:"POST",body:r?JSON.stringify(r):void 0,...c};return a?this.requestWithRetry(t,d):this.request(t,d)}static async put(t,r,a=!0,c={}){const d={method:"PUT",body:r?JSON.stringify(r):void 0,...c};return a?this.requestWithRetry(t,d):this.request(t,d)}static async delete(t,r=!1,a={}){return r?this.requestWithRetry(t,{method:"DELETE",...a}):this.request(t,{method:"DELETE",...a})}}$s(pt,"baseUrl",""),$s(pt,"isInitialized",!1),$s(pt,"useXHROnly",!1),$s(pt,"pendingRequests",new Map);pt.init();const gt=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:wt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));gt.displayName="Card";const Ft=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:wt("flex flex-col space-y-1.5 p-6",e),...t}));Ft.displayName="CardHeader";const $t=g.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:wt("text-2xl font-semibold leading-none tracking-tight",e),...t}));$t.displayName="CardTitle";const jP=g.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:wt("text-sm text-muted-foreground",e),...t}));jP.displayName="CardDescription";const vt=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:wt("p-6 pt-0",e),...t}));vt.displayName="CardContent";const EP=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:wt("flex items-center p-6 pt-0",e),...t}));EP.displayName="CardFooter";const CP=ru("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ee=g.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...c},d)=>{const f=a?da:"button";return o.jsx(f,{className:wt(CP({variant:t,size:r,className:e})),ref:d,...c})});Ee.displayName="Button";const PP=ru("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Rt({className:e,variant:t,...r}){return o.jsx("div",{className:wt(PP({variant:t}),e),...r})}var Fc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var TP=Fc.exports,Ix;function kP(){return Ix||(Ix=1,function(e,t){(function(r,a){a(t)})(TP,function(r){var a="1.9.4";function c(s){var l,h,y,E;for(h=1,y=arguments.length;h<y;h++){E=arguments[h];for(l in E)s[l]=E[l]}return s}var d=Object.create||function(){function s(){}return function(l){return s.prototype=l,new s}}();function f(s,l){var h=Array.prototype.slice;if(s.bind)return s.bind.apply(s,h.call(arguments,1));var y=h.call(arguments,2);return function(){return s.apply(l,y.length?y.concat(h.call(arguments)):arguments)}}var p=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++p),s._leaflet_id}function x(s,l,h){var y,E,A,W;return W=function(){y=!1,E&&(A.apply(h,E),E=!1)},A=function(){y?E=arguments:(s.apply(h,arguments),setTimeout(W,l),y=!0)},A}function _(s,l,h){var y=l[1],E=l[0],A=y-E;return s===y&&h?s:((s-E)%A+A)%A+E}function b(){return!1}function S(s,l){if(l===!1)return s;var h=Math.pow(10,l===void 0?6:l);return Math.round(s*h)/h}function k(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function P(s){return k(s).split(/\s+/)}function j(s,l){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?d(s.options):{});for(var h in l)s.options[h]=l[h];return s.options}function C(s,l,h){var y=[];for(var E in s)y.push(encodeURIComponent(h?E.toUpperCase():E)+"="+encodeURIComponent(s[E]));return(!l||l.indexOf("?")===-1?"?":"&")+y.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function D(s,l){return s.replace(T,function(h,y){var E=l[y];if(E===void 0)throw new Error("No value provided for variable "+h);return typeof E=="function"&&(E=E(l)),E})}var M=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function I(s,l){for(var h=0;h<s.length;h++)if(s[h]===l)return h;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var H=0;function te(s){var l=+new Date,h=Math.max(0,16-(l-H));return H=l+h,window.setTimeout(s,h)}var V=window.requestAnimationFrame||q("RequestAnimationFrame")||te,Y=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function ee(s,l,h){if(h&&V===te)s.call(l);else return V.call(window,f(s,l))}function he(s){s&&Y.call(window,s)}var De={__proto__:null,extend:c,create:d,bind:f,get lastId(){return p},stamp:v,throttle:x,wrapNum:_,falseFn:b,formatNum:S,trim:k,splitWords:P,setOptions:j,getParamString:C,template:D,isArray:M,indexOf:I,emptyImageUrl:O,requestFn:V,cancelFn:Y,requestAnimFrame:ee,cancelAnimFrame:he};function de(){}de.extend=function(s){var l=function(){j(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=l.__super__=this.prototype,y=d(h);y.constructor=l,l.prototype=y;for(var E in this)Object.prototype.hasOwnProperty.call(this,E)&&E!=="prototype"&&E!=="__super__"&&(l[E]=this[E]);return s.statics&&c(l,s.statics),s.includes&&($e(s.includes),c.apply(null,[y].concat(s.includes))),c(y,s),delete y.statics,delete y.includes,y.options&&(y.options=h.options?d(h.options):{},c(y.options,s.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var A=0,W=y._initHooks.length;A<W;A++)y._initHooks[A].call(this)}},l},de.include=function(s){var l=this.prototype.options;return c(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},de.mergeOptions=function(s){return c(this.prototype.options,s),this},de.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),h=typeof s=="function"?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function $e(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=M(s)?s:[s];for(var l=0;l<s.length;l++)s[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var J={on:function(s,l,h){if(typeof s=="object")for(var y in s)this._on(y,s[y],l);else{s=P(s);for(var E=0,A=s.length;E<A;E++)this._on(s[E],l,h)}return this},off:function(s,l,h){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var y in s)this._off(y,s[y],l);else{s=P(s);for(var E=arguments.length===1,A=0,W=s.length;A<W;A++)E?this._off(s[A]):this._off(s[A],l,h)}return this},_on:function(s,l,h,y){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(s,l,h)===!1){h===this&&(h=void 0);var E={fn:l,ctx:h};y&&(E.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(E)}},_off:function(s,l,h){var y,E,A;if(this._events&&(y=this._events[s],!!y)){if(arguments.length===1){if(this._firingCount)for(E=0,A=y.length;E<A;E++)y[E].fn=b;delete this._events[s];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var W=this._listens(s,l,h);if(W!==!1){var ne=y[W];this._firingCount&&(ne.fn=b,this._events[s]=y=y.slice()),y.splice(W,1)}}},fire:function(s,l,h){if(!this.listens(s,h))return this;var y=c({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var E=this._events[s];if(E){this._firingCount=this._firingCount+1||1;for(var A=0,W=E.length;A<W;A++){var ne=E[A],ce=ne.fn;ne.once&&this.off(s,ce,ne.ctx),ce.call(ne.ctx||this,y)}this._firingCount--}}return h&&this._propagateEvent(y),this},listens:function(s,l,h,y){typeof s!="string"&&console.warn('"string" type argument expected');var E=l;typeof l!="function"&&(y=!!l,E=void 0,h=void 0);var A=this._events&&this._events[s];if(A&&A.length&&this._listens(s,E,h)!==!1)return!0;if(y){for(var W in this._eventParents)if(this._eventParents[W].listens(s,l,h,y))return!0}return!1},_listens:function(s,l,h){if(!this._events)return!1;var y=this._events[s]||[];if(!l)return!!y.length;h===this&&(h=void 0);for(var E=0,A=y.length;E<A;E++)if(y[E].fn===l&&y[E].ctx===h)return E;return!1},once:function(s,l,h){if(typeof s=="object")for(var y in s)this._on(y,s[y],l,!0);else{s=P(s);for(var E=0,A=s.length;E<A;E++)this._on(s[E],l,h,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,c({layer:s.target,propagatedFrom:s.target},s),!0)}};J.addEventListener=J.on,J.removeEventListener=J.clearAllEventListeners=J.off,J.addOneTimeEventListener=J.once,J.fireEvent=J.fire,J.hasEventListeners=J.listens;var xe=de.extend(J);function U(s,l,h){this.x=h?Math.round(s):s,this.y=h?Math.round(l):l}var fe=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};U.prototype={clone:function(){return new U(this.x,this.y)},add:function(s){return this.clone()._add(oe(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(oe(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new U(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new U(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=fe(this.x),this.y=fe(this.y),this},distanceTo:function(s){s=oe(s);var l=s.x-this.x,h=s.y-this.y;return Math.sqrt(l*l+h*h)},equals:function(s){return s=oe(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=oe(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+S(this.x)+", "+S(this.y)+")"}};function oe(s,l,h){return s instanceof U?s:M(s)?new U(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new U(s.x,s.y):new U(s,l,h)}function F(s,l){if(s)for(var h=l?[s,l]:s,y=0,E=h.length;y<E;y++)this.extend(h[y])}F.prototype={extend:function(s){var l,h;if(!s)return this;if(s instanceof U||typeof s[0]=="number"||"x"in s)l=h=oe(s);else if(s=Q(s),l=s.min,h=s.max,!l||!h)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=h.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(s){return oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return oe(this.min.x,this.max.y)},getTopRight:function(){return oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,h;return typeof s[0]=="number"||s instanceof U?s=oe(s):s=Q(s),s instanceof F?(l=s.min,h=s.max):l=h=s,l.x>=this.min.x&&h.x<=this.max.x&&l.y>=this.min.y&&h.y<=this.max.y},intersects:function(s){s=Q(s);var l=this.min,h=this.max,y=s.min,E=s.max,A=E.x>=l.x&&y.x<=h.x,W=E.y>=l.y&&y.y<=h.y;return A&&W},overlaps:function(s){s=Q(s);var l=this.min,h=this.max,y=s.min,E=s.max,A=E.x>l.x&&y.x<h.x,W=E.y>l.y&&y.y<h.y;return A&&W},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var l=this.min,h=this.max,y=Math.abs(l.x-h.x)*s,E=Math.abs(l.y-h.y)*s;return Q(oe(l.x-y,l.y-E),oe(h.x+y,h.y+E))},equals:function(s){return s?(s=Q(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function Q(s,l){return!s||s instanceof F?s:new F(s,l)}function Se(s,l){if(s)for(var h=l?[s,l]:s,y=0,E=h.length;y<E;y++)this.extend(h[y])}Se.prototype={extend:function(s){var l=this._southWest,h=this._northEast,y,E;if(s instanceof je)y=s,E=s;else if(s instanceof Se){if(y=s._southWest,E=s._northEast,!y||!E)return this}else return s?this.extend($(s)||Te(s)):this;return!l&&!h?(this._southWest=new je(y.lat,y.lng),this._northEast=new je(E.lat,E.lng)):(l.lat=Math.min(y.lat,l.lat),l.lng=Math.min(y.lng,l.lng),h.lat=Math.max(E.lat,h.lat),h.lng=Math.max(E.lng,h.lng)),this},pad:function(s){var l=this._southWest,h=this._northEast,y=Math.abs(l.lat-h.lat)*s,E=Math.abs(l.lng-h.lng)*s;return new Se(new je(l.lat-y,l.lng-E),new je(h.lat+y,h.lng+E))},getCenter:function(){return new je((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new je(this.getNorth(),this.getWest())},getSouthEast:function(){return new je(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof je||"lat"in s?s=$(s):s=Te(s);var l=this._southWest,h=this._northEast,y,E;return s instanceof Se?(y=s.getSouthWest(),E=s.getNorthEast()):y=E=s,y.lat>=l.lat&&E.lat<=h.lat&&y.lng>=l.lng&&E.lng<=h.lng},intersects:function(s){s=Te(s);var l=this._southWest,h=this._northEast,y=s.getSouthWest(),E=s.getNorthEast(),A=E.lat>=l.lat&&y.lat<=h.lat,W=E.lng>=l.lng&&y.lng<=h.lng;return A&&W},overlaps:function(s){s=Te(s);var l=this._southWest,h=this._northEast,y=s.getSouthWest(),E=s.getNorthEast(),A=E.lat>l.lat&&y.lat<h.lat,W=E.lng>l.lng&&y.lng<h.lng;return A&&W},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return s?(s=Te(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Te(s,l){return s instanceof Se?s:new Se(s,l)}function je(s,l,h){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,h!==void 0&&(this.alt=+h)}je.prototype={equals:function(s,l){if(!s)return!1;s=$(s);var h=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return h<=(l===void 0?1e-9:l)},toString:function(s){return"LatLng("+S(this.lat,s)+", "+S(this.lng,s)+")"},distanceTo:function(s){return le.distance(this,$(s))},wrap:function(){return le.wrapLatLng(this)},toBounds:function(s){var l=180*s/40075017,h=l/Math.cos(Math.PI/180*this.lat);return Te([this.lat-l,this.lng-h],[this.lat+l,this.lng+h])},clone:function(){return new je(this.lat,this.lng,this.alt)}};function $(s,l,h){return s instanceof je?s:M(s)&&typeof s[0]!="object"?s.length===3?new je(s[0],s[1],s[2]):s.length===2?new je(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new je(s.lat,"lng"in s?s.lng:s.lon,s.alt):l===void 0?null:new je(s,l,h)}var K={latLngToPoint:function(s,l){var h=this.projection.project(s),y=this.scale(l);return this.transformation._transform(h,y)},pointToLatLng:function(s,l){var h=this.scale(l),y=this.transformation.untransform(s,h);return this.projection.unproject(y)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var l=this.projection.bounds,h=this.scale(s),y=this.transformation.transform(l.min,h),E=this.transformation.transform(l.max,h);return new F(y,E)},infinite:!1,wrapLatLng:function(s){var l=this.wrapLng?_(s.lng,this.wrapLng,!0):s.lng,h=this.wrapLat?_(s.lat,this.wrapLat,!0):s.lat,y=s.alt;return new je(h,l,y)},wrapLatLngBounds:function(s){var l=s.getCenter(),h=this.wrapLatLng(l),y=l.lat-h.lat,E=l.lng-h.lng;if(y===0&&E===0)return s;var A=s.getSouthWest(),W=s.getNorthEast(),ne=new je(A.lat-y,A.lng-E),ce=new je(W.lat-y,W.lng-E);return new Se(ne,ce)}},le=c({},K,{wrapLng:[-180,180],R:6371e3,distance:function(s,l){var h=Math.PI/180,y=s.lat*h,E=l.lat*h,A=Math.sin((l.lat-s.lat)*h/2),W=Math.sin((l.lng-s.lng)*h/2),ne=A*A+Math.cos(y)*Math.cos(E)*W*W,ce=2*Math.atan2(Math.sqrt(ne),Math.sqrt(1-ne));return this.R*ce}}),_e=6378137,ke={R:_e,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,h=this.MAX_LATITUDE,y=Math.max(Math.min(h,s.lat),-h),E=Math.sin(y*l);return new U(this.R*s.lng*l,this.R*Math.log((1+E)/(1-E))/2)},unproject:function(s){var l=180/Math.PI;return new je((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:function(){var s=_e*Math.PI;return new F([-s,-s],[s,s])}()};function ze(s,l,h,y){if(M(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=l,this._c=h,this._d=y}ze.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return l=l||1,s.x=l*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return l=l||1,new U((s.x/l-this._b)/this._a,(s.y/l-this._d)/this._c)}};function We(s,l,h,y){return new ze(s,l,h,y)}var it=c({},le,{code:"EPSG:3857",projection:ke,transformation:function(){var s=.5/(Math.PI*ke.R);return We(s,.5,-s,.5)}()}),Tt=c({},it,{code:"EPSG:900913"});function ye(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Ye(s,l){var h="",y,E,A,W,ne,ce;for(y=0,A=s.length;y<A;y++){for(ne=s[y],E=0,W=ne.length;E<W;E++)ce=ne[E],h+=(E?"L":"M")+ce.x+" "+ce.y;h+=l?Ke.svg?"z":"x":""}return h||"M0 0"}var Z=document.documentElement.style,me="ActiveXObject"in window,be=me&&!document.addEventListener,ge="msLaunchUri"in navigator&&!("documentMode"in document),Ze=xt("webkit"),rt=xt("android"),at=xt("android 2")||xt("android 3"),on=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ut=rt&&xt("Google")&&on<537&&!("AudioNode"in window),Dt=!!window.opera,Yt=!ge&&xt("chrome"),en=xt("gecko")&&!Ze&&!Dt&&!me,zt=!Yt&&xt("safari"),bt=xt("phantom"),Qe="OTransition"in Z,kn=navigator.platform.indexOf("Win")===0,dn=me&&"transition"in Z,It="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!at,Kt="MozPerspective"in Z,_t=!window.L_DISABLE_3D&&(dn||It||Kt)&&!Qe&&!bt,Zt=typeof orientation<"u"||xt("mobile"),ve=Zt&&Ze,Ne=Zt&&It,Oe=!window.PointerEvent&&window.MSPointerEvent,qe=!!(window.PointerEvent||Oe),z="ontouchstart"in window||!!window.TouchEvent,ae=!window.L_NO_TOUCH&&(z||qe),re=Zt&&Dt,we=Zt&&en,Re=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ie=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",b,l),window.removeEventListener("testPassiveEventSupport",b,l)}catch{}return s}(),Be=function(){return!!document.createElement("canvas").getContext}(),ft=!!(document.createElementNS&&ye("svg").createSVGRect),Ve=!!ft&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),He=!ft&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var l=s.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),ot=navigator.platform.indexOf("Mac")===0,st=navigator.platform.indexOf("Linux")===0;function xt(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ke={ie:me,ielt9:be,edge:ge,webkit:Ze,android:rt,android23:at,androidStock:Ut,opera:Dt,chrome:Yt,gecko:en,safari:zt,phantom:bt,opera12:Qe,win:kn,ie3d:dn,webkit3d:It,gecko3d:Kt,any3d:_t,mobile:Zt,mobileWebkit:ve,mobileWebkit3d:Ne,msPointer:Oe,pointer:qe,touch:ae,touchNative:z,mobileOpera:re,mobileGecko:we,retina:Re,passiveEvents:Ie,canvas:Be,svg:ft,vml:He,inlineSvg:Ve,mac:ot,linux:st},St=Ke.msPointer?"MSPointerDown":"pointerdown",jt=Ke.msPointer?"MSPointerMove":"pointermove",Mt=Ke.msPointer?"MSPointerUp":"pointerup",Qt=Ke.msPointer?"MSPointerCancel":"pointercancel",Ei={touchstart:St,touchmove:jt,touchend:Mt,touchcancel:Qt},Cs={touchstart:yn,touchmove:wa,touchend:wa,touchcancel:wa},Gs={},Bl=!1;function $f(s,l,h){return l==="touchstart"&&zf(),Cs[l]?(h=Cs[l].bind(this,h),s.addEventListener(Ei[l],h,!1),h):(console.warn("wrong event specified:",l),b)}function mu(s,l,h){if(!Ei[l]){console.warn("wrong event specified:",l);return}s.removeEventListener(Ei[l],h,!1)}function pu(s){Gs[s.pointerId]=s}function gu(s){Gs[s.pointerId]&&(Gs[s.pointerId]=s)}function Ul(s){delete Gs[s.pointerId]}function zf(){Bl||(document.addEventListener(St,pu,!0),document.addEventListener(jt,gu,!0),document.addEventListener(Mt,Ul,!0),document.addEventListener(Qt,Ul,!0),Bl=!0)}function wa(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var h in Gs)l.touches.push(Gs[h]);l.changedTouches=[l],s(l)}}function yn(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&wn(l),wa(s,l)}function Bf(s){var l={},h,y;for(y in s)h=s[y],l[y]=h&&h.bind?h.bind(s):h;return s=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Hl=200;function vu(s,l){s.addEventListener("dblclick",l);var h=0,y;function E(A){if(A.detail!==1){y=A.detail;return}if(!(A.pointerType==="mouse"||A.sourceCapabilities&&!A.sourceCapabilities.firesTouchEvents)){var W=Xs(A);if(!(W.some(function(ce){return ce instanceof HTMLLabelElement&&ce.attributes.for})&&!W.some(function(ce){return ce instanceof HTMLInputElement||ce instanceof HTMLSelectElement}))){var ne=Date.now();ne-h<=Hl?(y++,y===2&&l(Bf(A))):y=1,h=ne}}}return s.addEventListener("click",E),{dblclick:l,simDblclick:E}}function _a(s,l){s.removeEventListener("dblclick",l.dblclick),s.removeEventListener("click",l.simDblclick)}var Wl=Eo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),No=Eo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ci=No==="webkitTransition"||No==="OTransition"?No+"End":"transitionend";function Er(s){return typeof s=="string"?document.getElementById(s):s}function Pi(s,l){var h=s.style[l]||s.currentStyle&&s.currentStyle[l];if((!h||h==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(s,null);h=y?y[l]:null}return h==="auto"?null:h}function kt(s,l,h){var y=document.createElement(s);return y.className=l||"",h&&h.appendChild(y),y}function fn(s){var l=s.parentNode;l&&l.removeChild(s)}function ba(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function So(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function ls(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function jo(s,l){if(s.classList!==void 0)return s.classList.contains(l);var h=Na(s);return h.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(h)}function Ct(s,l){if(s.classList!==void 0)for(var h=P(l),y=0,E=h.length;y<E;y++)s.classList.add(h[y]);else if(!jo(s,l)){var A=Na(s);Vl(s,(A?A+" ":"")+l)}}function cn(s,l){s.classList!==void 0?s.classList.remove(l):Vl(s,k((" "+Na(s)+" ").replace(" "+l+" "," ")))}function Vl(s,l){s.className.baseVal===void 0?s.className=l:s.className.baseVal=l}function Na(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Vn(s,l){"opacity"in s.style?s.style.opacity=l:"filter"in s.style&&xu(s,l)}function xu(s,l){var h=!1,y="DXImageTransform.Microsoft.Alpha";try{h=s.filters.item(y)}catch{if(l===1)return}l=Math.round(l*100),h?(h.Enabled=l!==100,h.Opacity=l):s.style.filter+=" progid:"+y+"(opacity="+l+")"}function Eo(s){for(var l=document.documentElement.style,h=0;h<s.length;h++)if(s[h]in l)return s[h];return!1}function Cr(s,l,h){var y=l||new U(0,0);s.style[Wl]=(Ke.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(h?" scale("+h+")":"")}function jn(s,l){s._leaflet_pos=l,Ke.any3d?Cr(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function cs(s){return s._leaflet_pos||new U(0,0)}var Gt,Co,Sa;if("onselectstart"in document)Gt=function(){Nt(window,"selectstart",wn)},Co=function(){an(window,"selectstart",wn)};else{var Ys=Eo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Gt=function(){if(Ys){var s=document.documentElement.style;Sa=s[Ys],s[Ys]="none"}},Co=function(){Ys&&(document.documentElement.style[Ys]=Sa,Sa=void 0)}}function ja(){Nt(window,"dragstart",wn)}function Ea(){an(window,"dragstart",wn)}var Ti,ki;function Po(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(Pr(),Ti=s,ki=s.style.outlineStyle,s.style.outlineStyle="none",Nt(window,"keydown",Pr))}function Pr(){Ti&&(Ti.style.outlineStyle=ki,Ti=void 0,ki=void 0,an(window,"keydown",Pr))}function us(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function Ur(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}var Mi={__proto__:null,TRANSFORM:Wl,TRANSITION:No,TRANSITION_END:Ci,get:Er,getStyle:Pi,create:kt,remove:fn,empty:ba,toFront:So,toBack:ls,hasClass:jo,addClass:Ct,removeClass:cn,setClass:Vl,getClass:Na,setOpacity:Vn,testProp:Eo,setTransform:Cr,setPosition:jn,getPosition:cs,get disableTextSelection(){return Gt},get enableTextSelection(){return Co},disableImageDrag:ja,enableImageDrag:Ea,preventOutline:Po,restoreOutline:Pr,getSizedParentNode:us,getScale:Ur};function Nt(s,l,h,y){if(l&&typeof l=="object")for(var E in l)Zl(s,E,l[E],h);else{l=P(l);for(var A=0,W=l.length;A<W;A++)Zl(s,l[A],h,y)}return this}var Dn="_leaflet_events";function an(s,l,h,y){if(arguments.length===1)ql(s),delete s[Dn];else if(l&&typeof l=="object")for(var E in l)Ca(s,E,l[E],h);else if(l=P(l),arguments.length===2)ql(s,function(ne){return I(l,ne)!==-1});else for(var A=0,W=l.length;A<W;A++)Ca(s,l[A],h,y);return this}function ql(s,l){for(var h in s[Dn]){var y=h.split(/\d/)[0];(!l||l(y))&&Ca(s,y,null,null,h)}}var Ks={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Zl(s,l,h,y){var E=l+v(h)+(y?"_"+v(y):"");if(s[Dn]&&s[Dn][E])return this;var A=function(ne){return h.call(y||s,ne||window.event)},W=A;!Ke.touchNative&&Ke.pointer&&l.indexOf("touch")===0?A=$f(s,l,A):Ke.touch&&l==="dblclick"?A=vu(s,A):"addEventListener"in s?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?s.addEventListener(Ks[l]||l,A,Ke.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(A=function(ne){ne=ne||window.event,Ai(s,ne)&&W(ne)},s.addEventListener(Ks[l],A,!1)):s.addEventListener(l,W,!1):s.attachEvent("on"+l,A),s[Dn]=s[Dn]||{},s[Dn][E]=A}function Ca(s,l,h,y,E){E=E||l+v(h)+(y?"_"+v(y):"");var A=s[Dn]&&s[Dn][E];if(!A)return this;!Ke.touchNative&&Ke.pointer&&l.indexOf("touch")===0?mu(s,l,A):Ke.touch&&l==="dblclick"?_a(s,A):"removeEventListener"in s?s.removeEventListener(Ks[l]||l,A,!1):s.detachEvent("on"+l,A),s[Dn][E]=null}function Hr(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function Pa(s){return Zl(s,"wheel",Hr),this}function Ri(s){return Nt(s,"mousedown touchstart dblclick contextmenu",Hr),s._leaflet_disable_click=!0,this}function wn(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function Tr(s){return wn(s),Hr(s),this}function Xs(s){if(s.composedPath)return s.composedPath();for(var l=[],h=s.target;h;)l.push(h),h=h.parentNode;return l}function Li(s,l){if(!l)return new U(s.clientX,s.clientY);var h=Ur(l),y=h.boundingClientRect;return new U((s.clientX-y.left)/h.x-l.clientLeft,(s.clientY-y.top)/h.y-l.clientTop)}var Uf=Ke.linux&&Ke.chrome?window.devicePixelRatio:Ke.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function yu(s){return Ke.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/Uf:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function Ai(s,l){var h=l.relatedTarget;if(!h)return!0;try{for(;h&&h!==s;)h=h.parentNode}catch{return!1}return h!==s}var Ta={__proto__:null,on:Nt,off:an,stopPropagation:Hr,disableScrollPropagation:Pa,disableClickPropagation:Ri,preventDefault:wn,stop:Tr,getPropagationPath:Xs,getMousePosition:Li,getWheelDelta:yu,isExternalTarget:Ai,addListener:Nt,removeListener:an},ka=xe.extend({run:function(s,l,h,y){this.stop(),this._el=s,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=cs(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ee(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,h=this._duration*1e3;l<h?this._runFrame(this._easeOut(l/h),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){var h=this._startPos.add(this._offset.multiplyBy(s));l&&h._round(),jn(this._el,h),this.fire("step")},_complete:function(){he(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),qt=xe.extend({options:{crs:it,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=j(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView($(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=No&&Ke.any3d&&!Ke.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Nt(this._proxy,Ci,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,h){if(l=l===void 0?this._zoom:this._limitZoom(l),s=this._limitCenter($(s),l,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=c({animate:h.animate},h.zoom),h.pan=c({animate:h.animate,duration:h.duration},h.pan));var y=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,h.zoom):this._tryAnimatedPan(s,h.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(s,l,h.pan&&h.pan.noMoveStart),this},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return s=s||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,l)},zoomOut:function(s,l){return s=s||(Ke.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,l)},setZoomAround:function(s,l,h){var y=this.getZoomScale(l),E=this.getSize().divideBy(2),A=s instanceof U?s:this.latLngToContainerPoint(s),W=A.subtract(E).multiplyBy(1-1/y),ne=this.containerPointToLatLng(E.add(W));return this.setView(ne,l,{zoom:h})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Te(s);var h=oe(l.paddingTopLeft||l.padding||[0,0]),y=oe(l.paddingBottomRight||l.padding||[0,0]),E=this.getBoundsZoom(s,!1,h.add(y));if(E=typeof l.maxZoom=="number"?Math.min(l.maxZoom,E):E,E===1/0)return{center:s.getCenter(),zoom:E};var A=y.subtract(h).divideBy(2),W=this.project(s.getSouthWest(),E),ne=this.project(s.getNorthEast(),E),ce=this.unproject(W.add(ne).divideBy(2).add(A),E);return{center:ce,zoom:E}},fitBounds:function(s,l){if(s=Te(s),!s.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(s,l);return this.setView(h.center,h.zoom,l)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){if(s=oe(s).round(),l=l||{},!s.x&&!s.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ka,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ct(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,h,l.duration||.25,l.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,l,h){if(h=h||{},h.animate===!1||!Ke.any3d)return this.setView(s,l,h);this._stop();var y=this.project(this.getCenter()),E=this.project(s),A=this.getSize(),W=this._zoom;s=$(s),l=l===void 0?W:l;var ne=Math.max(A.x,A.y),ce=ne*this.getZoomScale(W,l),Pe=E.distanceTo(y)||1,Ge=1.42,ut=Ge*Ge;function Lt(tn){var Ho=tn?-1:1,nh=tn?ce:ne,rh=ce*ce-ne*ne+Ho*ut*ut*Pe*Pe,so=2*nh*ut*Pe,oo=rh/so,io=Math.sqrt(oo*oo+1)-oo,Wa=io<1e-9?-18:Math.log(io);return Wa}function In(tn){return(Math.exp(tn)-Math.exp(-tn))/2}function Mn(tn){return(Math.exp(tn)+Math.exp(-tn))/2}function sr(tn){return In(tn)/Mn(tn)}var Zn=Lt(0);function Bo(tn){return ne*(Mn(Zn)/Mn(Zn+Ge*tn))}function mc(tn){return ne*(Mn(Zn)*sr(Zn+Ge*tn)-In(Zn))/ut}function Ds(tn){return 1-Math.pow(1-tn,1.5)}var zu=Date.now(),ro=(Lt(1)-Zn)/Ge,Zr=h.duration?1e3*h.duration:1e3*ro*.8;function Uo(){var tn=(Date.now()-zu)/Zr,Ho=Ds(tn)*ro;tn<=1?(this._flyToFrame=ee(Uo,this),this._move(this.unproject(y.add(E.subtract(y).multiplyBy(mc(Ho)/Pe)),W),this.getScaleZoom(ne/Bo(Ho),W),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),Uo.call(this),this},flyToBounds:function(s,l){var h=this._getBoundsCenterZoom(s,l);return this.flyTo(h.center,h.zoom,l)},setMaxBounds:function(s){return s=Te(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,l){this._enforcingBounds=!0;var h=this.getCenter(),y=this._limitCenter(h,this._zoom,Te(s));return h.equals(y)||this.panTo(y,l),this._enforcingBounds=!1,this},panInside:function(s,l){l=l||{};var h=oe(l.paddingTopLeft||l.padding||[0,0]),y=oe(l.paddingBottomRight||l.padding||[0,0]),E=this.project(this.getCenter()),A=this.project(s),W=this.getPixelBounds(),ne=Q([W.min.add(h),W.max.subtract(y)]),ce=ne.getSize();if(!ne.contains(A)){this._enforcingBounds=!0;var Pe=A.subtract(ne.getCenter()),Ge=ne.extend(A).getSize().subtract(ce);E.x+=Pe.x<0?-Ge.x:Ge.x,E.y+=Pe.y<0?-Ge.y:Ge.y,this.panTo(this.unproject(E),l),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=c({animate:!1,pan:!0},s===!0?{animate:!0}:s);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),y=l.divideBy(2).round(),E=h.divideBy(2).round(),A=y.subtract(E);return!A.x&&!A.y?this:(s.animate&&s.pan?this.panBy(A):(s.pan&&this._rawPanBy(A),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=c({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),h=f(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,h,s):navigator.geolocation.getCurrentPosition(l,h,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var l=s.code,h=s.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l=s.coords.latitude,h=s.coords.longitude,y=new je(l,h),E=y.toBounds(s.coords.accuracy*2),A=this._locateOptions;if(A.setView){var W=this.getBoundsZoom(E);this.setView(y,A.maxZoom?Math.min(W,A.maxZoom):W)}var ne={latlng:y,bounds:E,timestamp:s.timestamp};for(var ce in s.coords)typeof s.coords[ce]=="number"&&(ne[ce]=s.coords[ce]);this.fire("locationfound",ne)}},addHandler:function(s,l){if(!l)return this;var h=this[s]=new l(this);return this._handlers.push(h),this.options[s]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),fn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(he(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)fn(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){var h="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),y=kt("div",h,l||this._mapPane);return s&&(this._panes[s]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),l=this.unproject(s.getBottomLeft()),h=this.unproject(s.getTopRight());return new Se(l,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,l,h){s=Te(s),h=oe(h||[0,0]);var y=this.getZoom()||0,E=this.getMinZoom(),A=this.getMaxZoom(),W=s.getNorthWest(),ne=s.getSouthEast(),ce=this.getSize().subtract(h),Pe=Q(this.project(ne,y),this.project(W,y)).getSize(),Ge=Ke.any3d?this.options.zoomSnap:1,ut=ce.x/Pe.x,Lt=ce.y/Pe.y,In=l?Math.max(ut,Lt):Math.min(ut,Lt);return y=this.getScaleZoom(In,y),Ge&&(y=Math.round(y/(Ge/100))*(Ge/100),y=l?Math.ceil(y/Ge)*Ge:Math.floor(y/Ge)*Ge),Math.max(E,Math.min(A,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new U(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){var h=this._getTopLeftPoint(s,l);return new F(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var h=this.options.crs;return l=l===void 0?this._zoom:l,h.scale(s)/h.scale(l)},getScaleZoom:function(s,l){var h=this.options.crs;l=l===void 0?this._zoom:l;var y=h.zoom(s*h.scale(l));return isNaN(y)?1/0:y},project:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint($(s),l)},unproject:function(s,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(oe(s),l)},layerPointToLatLng:function(s){var l=oe(s).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(s){var l=this.project($(s))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng($(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Te(s))},distance:function(s,l){return this.options.crs.distance($(s),$(l))},containerPointToLayerPoint:function(s){return oe(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return oe(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var l=this.containerPointToLayerPoint(oe(s));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint($(s)))},mouseEventToContainerPoint:function(s){return Li(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var l=this._container=Er(s);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Nt(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ke.any3d,Ct(s,"leaflet-container"+(Ke.touch?" leaflet-touch":"")+(Ke.retina?" leaflet-retina":"")+(Ke.ielt9?" leaflet-oldie":"")+(Ke.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Pi(s,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jn(this._mapPane,new U(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ct(s.markerPane,"leaflet-zoom-hide"),Ct(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,h){jn(this._mapPane,new U(0,0));var y=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var E=this._zoom!==l;this._moveStart(E,h)._move(s,l)._moveEnd(E),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,h,y){l===void 0&&(l=this._zoom);var E=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),y?h&&h.pinch&&this.fire("zoom",h):((E||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return he(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){jn(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var l=s?an:Nt;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ke.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){he(this._resizeRequest),this._resizeRequest=ee(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var h=[],y,E=l==="mouseout"||l==="mouseover",A=s.target||s.srcElement,W=!1;A;){if(y=this._targets[v(A)],y&&(l==="click"||l==="preclick")&&this._draggableMoved(y)){W=!0;break}if(y&&y.listens(l,!0)&&(E&&!Ai(A,s)||(h.push(y),E))||A===this._container)break;A=A.parentNode}return!h.length&&!W&&!E&&this.listens(l,!0)&&(h=[this]),h},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l=s.target||s.srcElement;if(!(!this._loaded||l._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(l))){var h=s.type;h==="mousedown"&&Po(l),this._fireDOMEvent(s,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,h){if(s.type==="click"){var y=c({},s);y.type="preclick",this._fireDOMEvent(y,y.type,h)}var E=this._findEventTargets(s,l);if(h){for(var A=[],W=0;W<h.length;W++)h[W].listens(l,!0)&&A.push(h[W]);E=A.concat(E)}if(E.length){l==="contextmenu"&&wn(s);var ne=E[0],ce={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var Pe=ne.getLatLng&&(!ne._radius||ne._radius<=10);ce.containerPoint=Pe?this.latLngToContainerPoint(ne.getLatLng()):this.mouseEventToContainerPoint(s),ce.layerPoint=this.containerPointToLayerPoint(ce.containerPoint),ce.latlng=Pe?ne.getLatLng():this.layerPointToLatLng(ce.layerPoint)}for(W=0;W<E.length;W++)if(E[W].fire(l,ce,!0),ce.originalEvent._stopped||E[W].options.bubblingMouseEvents===!1&&I(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return cs(this._mapPane)||new U(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){var h=s&&l!==void 0?this._getNewPixelOrigin(s,l):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var h=this.getSize()._divideBy(2);return this.project(s,l)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,h){var y=this._getNewPixelOrigin(h,l);return this.project(s,l)._subtract(y)},_latLngBoundsToNewLayerBounds:function(s,l,h){var y=this._getNewPixelOrigin(h,l);return Q([this.project(s.getSouthWest(),l)._subtract(y),this.project(s.getNorthWest(),l)._subtract(y),this.project(s.getSouthEast(),l)._subtract(y),this.project(s.getNorthEast(),l)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,h){if(!h)return s;var y=this.project(s,l),E=this.getSize().divideBy(2),A=new F(y.subtract(E),y.add(E)),W=this._getBoundsOffset(A,h,l);return Math.abs(W.x)<=1&&Math.abs(W.y)<=1?s:this.unproject(y.add(W),l)},_limitOffset:function(s,l){if(!l)return s;var h=this.getPixelBounds(),y=new F(h.min.add(s),h.max.add(s));return s.add(this._getBoundsOffset(y,l))},_getBoundsOffset:function(s,l,h){var y=Q(this.project(l.getNorthEast(),h),this.project(l.getSouthWest(),h)),E=y.min.subtract(s.min),A=y.max.subtract(s.max),W=this._rebound(E.x,-A.x),ne=this._rebound(E.y,-A.y);return new U(W,ne)},_rebound:function(s,l){return s+l>0?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),h=this.getMaxZoom(),y=Ke.any3d?this.options.zoomSnap:1;return y&&(s=Math.round(s/y)*y),Math.max(l,Math.min(h,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){cn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){var h=this._getCenterOffset(s)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,l),!0)},_createAnimProxy:function(){var s=this._proxy=kt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var h=Wl,y=this._proxy.style[h];Cr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),y===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();Cr(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(l),E=this._getCenterOffset(s)._divideBy(1-1/y);return h.animate!==!0&&!this.getSize().contains(E)?!1:(ee(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(s,l,!0)},this),!0)},_animateZoom:function(s,l,h,y){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,Ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&cn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ps(s,l){return new qt(s,l)}var nr=de.extend({options:{position:"topright"},initialize:function(s){j(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var l=this._container=this.onAdd(s),h=this.getPosition(),y=s._controlCorners[h];return Ct(l,"leaflet-control"),h.indexOf("bottom")!==-1?y.insertBefore(l,y.firstChild):y.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),Ts=function(s){return new nr(s)};qt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",h=this._controlContainer=kt("div",l+"control-container",this._container);function y(E,A){var W=l+E+" "+l+A;s[E+A]=kt("div",W,h)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)fn(this._controlCorners[s]);fn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gl=nr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,h,y){return h<y?-1:y<h?1:0}},initialize:function(s,l,h){j(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in s)this._addLayer(s[y],y);for(y in l)this._addLayer(l[y],y,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return nr.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(s));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(Ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):cn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return cn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=kt("div",s),h=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ri(l),Pa(l);var y=this._section=kt("section",s+"-list");h&&(this._map.on("click",this.collapse,this),Nt(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var E=this._layersLink=kt("a",s+"-toggle",l);E.href="#",E.title="Layers",E.setAttribute("role","button"),Nt(E,{keydown:function(A){A.keyCode===13&&this._expandSafely()},click:function(A){wn(A),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=kt("div",s+"-base",y),this._separator=kt("div",s+"-separator",y),this._overlaysList=kt("div",s+"-overlays",y),l.appendChild(y)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,h){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:h}),this.options.sortLayers&&this._layers.sort(f(function(y,E){return this.options.sortFunction(y.layer,E.layer,y.name,E.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ba(this._baseLayersList),ba(this._overlaysList),this._layerControlInputs=[];var s,l,h,y,E=0;for(h=0;h<this._layers.length;h++)y=this._layers[h],this._addItem(y),l=l||y.overlay,s=s||!y.overlay,E+=y.overlay?0:1;return this.options.hideSingleBase&&(s=s&&E>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=l&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var l=this._getLayer(v(s.target)),h=l.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;h&&this._map.fire(h,l)},_createRadioElement:function(s,l){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=h,y.firstChild},_addItem:function(s){var l=document.createElement("label"),h=this._map.hasLayer(s.layer),y;s.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=h):y=this._createRadioElement("leaflet-base-layers_"+v(this),h),this._layerControlInputs.push(y),y.layerId=v(s.layer),Nt(y,"click",this._onInputClick,this);var E=document.createElement("span");E.innerHTML=" "+s.name;var A=document.createElement("span");l.appendChild(A),A.appendChild(y),A.appendChild(E);var W=s.overlay?this._overlaysList:this._baseLayersList;return W.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,l,h,y=[],E=[];this._handlingClick=!0;for(var A=s.length-1;A>=0;A--)l=s[A],h=this._getLayer(l.layerId).layer,l.checked?y.push(h):l.checked||E.push(h);for(A=0;A<E.length;A++)this._map.hasLayer(E[A])&&this._map.removeLayer(E[A]);for(A=0;A<y.length;A++)this._map.hasLayer(y[A])||this._map.addLayer(y[A]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,l,h,y=this._map.getZoom(),E=s.length-1;E>=0;E--)l=s[E],h=this._getLayer(l.layerId).layer,l.disabled=h.options.minZoom!==void 0&&y<h.options.minZoom||h.options.maxZoom!==void 0&&y>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Nt(s,"click",wn),this.expand();var l=this;setTimeout(function(){an(s,"click",wn),l._preventClick=!1})}}),Ma=function(s,l,h){return new Gl(s,l,h)},To=nr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",h=kt("div",l+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,l+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,l+"-out",h,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,h,y,E){var A=kt("a",h,y);return A.innerHTML=s,A.href="#",A.title=l,A.setAttribute("role","button"),A.setAttribute("aria-label",l),Ri(A),Nt(A,"click",Tr),Nt(A,"click",E,this),Nt(A,"click",this._refocusOnMap,this),A},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";cn(this._zoomInButton,l),cn(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(Ct(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(Ct(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});qt.mergeOptions({zoomControl:!0}),qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new To,this.addControl(this.zoomControl))});var wu=function(s){return new To(s)},qn=nr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",h=kt("div",l),y=this.options;return this._addScales(y,l+"-line",h),s.on(y.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),h},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,h){s.metric&&(this._mScale=kt("div",l,h)),s.imperial&&(this._iScale=kt("div",l,h))},_update:function(){var s=this._map,l=s.getSize().y/2,h=s.distance(s.containerPointToLatLng([0,l]),s.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(h)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s),h=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,h,l/s)},_updateImperial:function(s){var l=s*3.2808399,h,y,E;l>5280?(h=l/5280,y=this._getRoundNum(h),this._updateScale(this._iScale,y+" mi",y/h)):(E=this._getRoundNum(l),this._updateScale(this._iScale,E+" ft",E/l))},_updateScale:function(s,l,h){s.style.width=Math.round(this.options.maxWidth*h)+"px",s.innerHTML=l},_getRoundNum:function(s){var l=Math.pow(10,(Math.floor(s)+"").length-1),h=s/l;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,l*h}}),ko=function(s){return new qn(s)},Yl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Qs=nr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ke.inlineSvg?Yl+" ":"")+"Leaflet</a>"},initialize:function(s){j(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=kt("div","leaflet-control-attribution"),Ri(this._container);for(var l in s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var l in this._attributions)this._attributions[l]&&s.push(l);var h=[];this.options.prefix&&h.push(this.options.prefix),s.length&&h.push(s.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});qt.mergeOptions({attributionControl:!0}),qt.addInitHook(function(){this.options.attributionControl&&new Qs().addTo(this)});var Hf=function(s){return new Qs(s)};nr.Layers=Gl,nr.Zoom=To,nr.Scale=qn,nr.Attribution=Qs,Ts.layers=Ma,Ts.zoom=wu,Ts.scale=ko,Ts.attribution=Hf;var hr=de.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});hr.addTo=function(s,l){return s.addHandler(l,this),this};var Kl={Events:J},Mo=Ke.touch?"touchstart mousedown":"mousedown",kr=xe.extend({options:{clickTolerance:3},initialize:function(s,l,h,y){j(this,y),this._element=s,this._dragStartTarget=l||s,this._preventOutline=h},enable:function(){this._enabled||(Nt(this._dragStartTarget,Mo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(kr._dragging===this&&this.finishDrag(!0),an(this._dragStartTarget,Mo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!jo(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){kr._dragging===this&&this.finishDrag();return}if(!(kr._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(kr._dragging=this,this._preventOutline&&Po(this._element),ja(),Gt(),!this._moving)){this.fire("down");var l=s.touches?s.touches[0]:s,h=us(this._element);this._startPoint=new U(l.clientX,l.clientY),this._startPos=cs(this._element),this._parentScale=Ur(h);var y=s.type==="mousedown";Nt(document,y?"mousemove":"touchmove",this._onMove,this),Nt(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var l=s.touches&&s.touches.length===1?s.touches[0]:s,h=new U(l.clientX,l.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,wn(s),this._moved||(this.fire("dragstart"),this._moved=!0,Ct(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),jn(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){cn(document.body,"leaflet-dragging"),this._lastTarget&&(cn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),an(document,"mousemove touchmove",this._onMove,this),an(document,"mouseup touchend touchcancel",this._onUp,this),Ea(),Co();var l=this._moved&&this._moving;this._moving=!1,kr._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Xl(s,l,h){var y,E=[1,4,2,8],A,W,ne,ce,Pe,Ge,ut,Lt;for(A=0,Ge=s.length;A<Ge;A++)s[A]._code=Js(s[A],l);for(ne=0;ne<4;ne++){for(ut=E[ne],y=[],A=0,Ge=s.length,W=Ge-1;A<Ge;W=A++)ce=s[A],Pe=s[W],ce._code&ut?Pe._code&ut||(Lt=La(Pe,ce,ut,l,h),Lt._code=Js(Lt,l),y.push(Lt)):(Pe._code&ut&&(Lt=La(Pe,ce,ut,l,h),Lt._code=Js(Lt,l),y.push(Lt)),y.push(ce));s=y}return s}function _u(s,l){var h,y,E,A,W,ne,ce,Pe,Ge;if(!s||s.length===0)throw new Error("latlngs not passed");mr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var ut=$([0,0]),Lt=Te(s),In=Lt.getNorthWest().distanceTo(Lt.getSouthWest())*Lt.getNorthEast().distanceTo(Lt.getNorthWest());In<1700&&(ut=Ql(s));var Mn=s.length,sr=[];for(h=0;h<Mn;h++){var Zn=$(s[h]);sr.push(l.project($([Zn.lat-ut.lat,Zn.lng-ut.lng])))}for(ne=ce=Pe=0,h=0,y=Mn-1;h<Mn;y=h++)E=sr[h],A=sr[y],W=E.y*A.x-A.y*E.x,ce+=(E.x+A.x)*W,Pe+=(E.y+A.y)*W,ne+=W*3;ne===0?Ge=sr[0]:Ge=[ce/ne,Pe/ne];var Bo=l.unproject(oe(Ge));return $([Bo.lat+ut.lat,Bo.lng+ut.lng])}function Ql(s){for(var l=0,h=0,y=0,E=0;E<s.length;E++){var A=$(s[E]);l+=A.lat,h+=A.lng,y++}return $([l/y,h/y])}var Wf={__proto__:null,clipPolygon:Xl,polygonCenter:_u,centroid:Ql};function Ra(s,l){if(!l||!s.length)return s.slice();var h=l*l;return s=Zf(s,h),s=qf(s,h),s}function bu(s,l,h){return Math.sqrt(eo(s,l,h,!0))}function Vf(s,l,h){return eo(s,l,h)}function qf(s,l){var h=s.length,y=typeof Uint8Array<"u"?Uint8Array:Array,E=new y(h);E[0]=E[h-1]=1,Jl(s,E,l,0,h-1);var A,W=[];for(A=0;A<h;A++)E[A]&&W.push(s[A]);return W}function Jl(s,l,h,y,E){var A=0,W,ne,ce;for(ne=y+1;ne<=E-1;ne++)ce=eo(s[ne],s[y],s[E],!0),ce>A&&(W=ne,A=ce);A>h&&(l[W]=1,Jl(s,l,h,y,W),Jl(s,l,h,W,E))}function Zf(s,l){for(var h=[s[0]],y=1,E=0,A=s.length;y<A;y++)Gf(s[y],s[E])>l&&(h.push(s[y]),E=y);return E<A-1&&h.push(s[A-1]),h}var ec;function Nu(s,l,h,y,E){var A=y?ec:Js(s,h),W=Js(l,h),ne,ce,Pe;for(ec=W;;){if(!(A|W))return[s,l];if(A&W)return!1;ne=A||W,ce=La(s,l,ne,h,E),Pe=Js(ce,h),ne===A?(s=ce,A=Pe):(l=ce,W=Pe)}}function La(s,l,h,y,E){var A=l.x-s.x,W=l.y-s.y,ne=y.min,ce=y.max,Pe,Ge;return h&8?(Pe=s.x+A*(ce.y-s.y)/W,Ge=ce.y):h&4?(Pe=s.x+A*(ne.y-s.y)/W,Ge=ne.y):h&2?(Pe=ce.x,Ge=s.y+W*(ce.x-s.x)/A):h&1&&(Pe=ne.x,Ge=s.y+W*(ne.x-s.x)/A),new U(Pe,Ge,E)}function Js(s,l){var h=0;return s.x<l.min.x?h|=1:s.x>l.max.x&&(h|=2),s.y<l.min.y?h|=4:s.y>l.max.y&&(h|=8),h}function Gf(s,l){var h=l.x-s.x,y=l.y-s.y;return h*h+y*y}function eo(s,l,h,y){var E=l.x,A=l.y,W=h.x-E,ne=h.y-A,ce=W*W+ne*ne,Pe;return ce>0&&(Pe=((s.x-E)*W+(s.y-A)*ne)/ce,Pe>1?(E=h.x,A=h.y):Pe>0&&(E+=W*Pe,A+=ne*Pe)),W=s.x-E,ne=s.y-A,y?W*W+ne*ne:new U(E,A)}function mr(s){return!M(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function Su(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mr(s)}function ju(s,l){var h,y,E,A,W,ne,ce,Pe;if(!s||s.length===0)throw new Error("latlngs not passed");mr(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Ge=$([0,0]),ut=Te(s),Lt=ut.getNorthWest().distanceTo(ut.getSouthWest())*ut.getNorthEast().distanceTo(ut.getNorthWest());Lt<1700&&(Ge=Ql(s));var In=s.length,Mn=[];for(h=0;h<In;h++){var sr=$(s[h]);Mn.push(l.project($([sr.lat-Ge.lat,sr.lng-Ge.lng])))}for(h=0,y=0;h<In-1;h++)y+=Mn[h].distanceTo(Mn[h+1])/2;if(y===0)Pe=Mn[0];else for(h=0,A=0;h<In-1;h++)if(W=Mn[h],ne=Mn[h+1],E=W.distanceTo(ne),A+=E,A>y){ce=(A-y)/E,Pe=[ne.x-ce*(ne.x-W.x),ne.y-ce*(ne.y-W.y)];break}var Zn=l.unproject(oe(Pe));return $([Zn.lat+Ge.lat,Zn.lng+Ge.lng])}var Eu={__proto__:null,simplify:Ra,pointToSegmentDistance:bu,closestPointOnSegment:Vf,clipSegment:Nu,_getEdgeIntersection:La,_getBitCode:Js,_sqClosestPointOnSegment:eo,isFlat:mr,_flat:Su,polylineCenter:ju},tc={project:function(s){return new U(s.lng,s.lat)},unproject:function(s){return new je(s.y,s.x)},bounds:new F([-180,-90],[180,90])},nc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new F([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var l=Math.PI/180,h=this.R,y=s.lat*l,E=this.R_MINOR/h,A=Math.sqrt(1-E*E),W=A*Math.sin(y),ne=Math.tan(Math.PI/4-y/2)/Math.pow((1-W)/(1+W),A/2);return y=-h*Math.log(Math.max(ne,1e-10)),new U(s.lng*l*h,y)},unproject:function(s){for(var l=180/Math.PI,h=this.R,y=this.R_MINOR/h,E=Math.sqrt(1-y*y),A=Math.exp(-s.y/h),W=Math.PI/2-2*Math.atan(A),ne=0,ce=.1,Pe;ne<15&&Math.abs(ce)>1e-7;ne++)Pe=E*Math.sin(W),Pe=Math.pow((1-Pe)/(1+Pe),E/2),ce=Math.PI/2-2*Math.atan(A*Pe)-W,W+=ce;return new je(W*l,s.x*l/h)}},Yf={__proto__:null,LonLat:tc,Mercator:nc,SphericalMercator:ke},Kf=c({},le,{code:"EPSG:3395",projection:nc,transformation:function(){var s=.5/(Math.PI*nc.R);return We(s,.5,-s,.5)}()}),Cu=c({},le,{code:"EPSG:4326",projection:tc,transformation:We(1/180,1,-1/180,.5)}),Xf=c({},K,{projection:tc,transformation:We(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,l){var h=l.lng-s.lng,y=l.lat-s.lat;return Math.sqrt(h*h+y*y)},infinite:!0});K.Earth=le,K.EPSG3395=Kf,K.EPSG3857=it,K.EPSG900913=Tt,K.EPSG4326=Cu,K.Simple=Xf;var Mr=xe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l=s.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var h=this.getEvents();l.on(h,this),this.once("remove",function(){l.off(h,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});qt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(s);return this._layers[l]?this:(this._layers[l]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var l=v(s);return this._layers[l]?(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},_addLayers:function(s){s=s?M(s)?s:[s]:[];for(var l=0,h=s.length;l<h;l++)this.addLayer(s[l])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var l=v(s);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,l=-1/0,h=this._getZoomSpan();for(var y in this._zoomBoundLayers){var E=this._zoomBoundLayers[y].options;s=E.minZoom===void 0?s:Math.min(s,E.minZoom),l=E.maxZoom===void 0?l:Math.max(l,E.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=s===1/0?void 0:s,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ks=Mr.extend({initialize:function(s,l){j(this,l),this._layers={};var h,y;if(s)for(h=0,y=s.length;h<y;h++)this.addLayer(s[h])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var l=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(s){var l=typeof s=="number"?s:this.getLayerId(s);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l=Array.prototype.slice.call(arguments,1),h,y;for(h in this._layers)y=this._layers[h],y[s]&&y[s].apply(y,l);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var h in this._layers)s.call(l,this._layers[h]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),Di=function(s,l){return new ks(s,l)},ds=ks.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),ks.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),ks.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new Se;for(var l in this._layers){var h=this._layers[l];s.extend(h.getBounds?h.getBounds():h.getLatLng())}return s}}),Pu=function(s,l){return new ds(s,l)},to=de.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){j(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var h=this._getIconUrl(s);if(!h){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(h,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(y,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(s,l){var h=this.options,y=h[l+"Size"];typeof y=="number"&&(y=[y,y]);var E=oe(y),A=oe(l==="shadow"&&h.shadowAnchor||h.iconAnchor||E&&E.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(h.className||""),A&&(s.style.marginLeft=-A.x+"px",s.style.marginTop=-A.y+"px"),E&&(s.style.width=E.x+"px",s.style.height=E.y+"px")},_createImg:function(s,l){return l=l||document.createElement("img"),l.src=s,l},_getIconUrl:function(s){return Ke.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function Tu(s){return new to(s)}var Ro=to.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof Ro.imagePath!="string"&&(Ro.imagePath=this._detectIconPath()),(this.options.imagePath||Ro.imagePath)+to.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var l=function(h,y,E){var A=y.exec(h);return A&&A[E]};return s=l(s,/^url\((['"])?(.+)\1\)$/,2),s&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=kt("div","leaflet-default-icon-path",document.body),l=Pi(s,"background-image")||Pi(s,"backgroundImage");if(document.body.removeChild(s),l=this._stripUrl(l),l)return l;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),rc=hr.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new kr(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ct(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&cn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,h=l._map,y=this._marker.options.autoPanSpeed,E=this._marker.options.autoPanPadding,A=cs(l._icon),W=h.getPixelBounds(),ne=h.getPixelOrigin(),ce=Q(W.min._subtract(ne).add(E),W.max._subtract(ne).subtract(E));if(!ce.contains(A)){var Pe=oe((Math.max(ce.max.x,A.x)-ce.max.x)/(W.max.x-ce.max.x)-(Math.min(ce.min.x,A.x)-ce.min.x)/(W.min.x-ce.min.x),(Math.max(ce.max.y,A.y)-ce.max.y)/(W.max.y-ce.max.y)-(Math.min(ce.min.y,A.y)-ce.min.y)/(W.min.y-ce.min.y)).multiplyBy(y);h.panBy(Pe,{animate:!1}),this._draggable._newPos._add(Pe),this._draggable._startPos._add(Pe),jn(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=ee(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(he(this._panRequest),this._panRequest=ee(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,h=l._shadow,y=cs(l._icon),E=l._map.layerPointToLatLng(y);h&&jn(h,y),l._latlng=E,s.latlng=E,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){he(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),fs=Mr.extend({options:{icon:new Ro,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){j(this,l),this._latlng=$(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=$(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=s.icon.createIcon(this._icon),y=!1;h!==this._icon&&(this._icon&&this._removeIcon(),y=!0,s.title&&(h.title=s.title),h.tagName==="IMG"&&(h.alt=s.alt||"")),Ct(h,l),s.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(h,"focus",this._panOnFocus,this);var E=s.icon.createShadow(this._shadow),A=!1;E!==this._shadow&&(this._removeShadow(),A=!0),E&&(Ct(E,l),E.alt=""),this._shadow=E,s.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),E&&A&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&an(this._icon,"focus",this._panOnFocus,this),fn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fn(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&jn(this._icon,s),this._shadow&&jn(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),rc)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new rc(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Vn(this._icon,s),this._shadow&&Vn(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var l=this.options.icon.options,h=l.iconSize?oe(l.iconSize):oe(0,0),y=l.iconAnchor?oe(l.iconAnchor):oe(0,0);s.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:h.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qf(s,l){return new fs(s,l)}var Ms=Mr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return j(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Aa=Ms.extend({options:{fill:!0,radius:10},initialize:function(s,l){j(this,l),this._latlng=$(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=$(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Ms.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,l=this._radiusY||s,h=this._clickTolerance(),y=[s+h,l+h];this._pxBounds=new F(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ku(s,l){return new Aa(s,l)}var Da=Aa.extend({initialize:function(s,l,h){if(typeof l=="number"&&(l=c({},h,{radius:l})),j(this,l),this._latlng=$(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Se(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Ms.prototype.setStyle,_project:function(){var s=this._latlng.lng,l=this._latlng.lat,h=this._map,y=h.options.crs;if(y.distance===le.distance){var E=Math.PI/180,A=this._mRadius/le.R/E,W=h.project([l+A,s]),ne=h.project([l-A,s]),ce=W.add(ne).divideBy(2),Pe=h.unproject(ce).lat,Ge=Math.acos((Math.cos(A*E)-Math.sin(l*E)*Math.sin(Pe*E))/(Math.cos(l*E)*Math.cos(Pe*E)))/E;(isNaN(Ge)||Ge===0)&&(Ge=A/Math.cos(Math.PI/180*l)),this._point=ce.subtract(h.getPixelOrigin()),this._radius=isNaN(Ge)?0:ce.x-h.project([Pe,s-Ge]).x,this._radiusY=ce.y-W.y}else{var ut=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(ut).x}this._updateBounds()}});function Ii(s,l,h){return new Da(s,l,h)}var rr=Ms.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){j(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,h=null,y=eo,E,A,W=0,ne=this._parts.length;W<ne;W++)for(var ce=this._parts[W],Pe=1,Ge=ce.length;Pe<Ge;Pe++){E=ce[Pe-1],A=ce[Pe];var ut=y(s,E,A,!0);ut<l&&(l=ut,h=y(s,E,A))}return h&&(h.distance=Math.sqrt(l)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ju(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=$(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Se,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return mr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],h=mr(s),y=0,E=s.length;y<E;y++)h?(l[y]=$(s[y]),this._bounds.extend(l[y])):l[y]=this._convertLatLngs(s[y]);return l},_project:function(){var s=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),l=new U(s,s);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(s,l,h){var y=s[0]instanceof je,E=s.length,A,W;if(y){for(W=[],A=0;A<E;A++)W[A]=this._map.latLngToLayerPoint(s[A]),h.extend(W[A]);l.push(W)}else for(A=0;A<E;A++)this._projectLatlngs(s[A],l,h)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,h,y,E,A,W,ne,ce;for(h=0,E=0,A=this._rings.length;h<A;h++)for(ce=this._rings[h],y=0,W=ce.length;y<W-1;y++)ne=Nu(ce[y],ce[y+1],s,y,!0),ne&&(l[E]=l[E]||[],l[E].push(ne[0]),(ne[1]!==ce[y+1]||y===W-2)&&(l[E].push(ne[1]),E++))}},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,h=0,y=s.length;h<y;h++)s[h]=Ra(s[h],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var h,y,E,A,W,ne,ce=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(h=0,A=this._parts.length;h<A;h++)for(ne=this._parts[h],y=0,W=ne.length,E=W-1;y<W;E=y++)if(!(!l&&y===0)&&bu(s,ne[E],ne[y])<=ce)return!0;return!1}});function Jf(s,l){return new rr(s,l)}rr._flat=Su;var hs=rr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _u(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var l=rr.prototype._convertLatLngs.call(this,s),h=l.length;return h>=2&&l[0]instanceof je&&l[0].equals(l[h-1])&&l.pop(),l},_setLatLngs:function(s){rr.prototype._setLatLngs.call(this,s),mr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,l=this.options.weight,h=new U(l,l);if(s=new F(s.min.subtract(h),s.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,E=this._rings.length,A;y<E;y++)A=Xl(this._rings[y],s,!0),A.length&&this._parts.push(A)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l=!1,h,y,E,A,W,ne,ce,Pe;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(A=0,ce=this._parts.length;A<ce;A++)for(h=this._parts[A],W=0,Pe=h.length,ne=Pe-1;W<Pe;ne=W++)y=h[W],E=h[ne],y.y>s.y!=E.y>s.y&&s.x<(E.x-y.x)*(s.y-y.y)/(E.y-y.y)+y.x&&(l=!l);return l||rr.prototype._containsPoint.call(this,s,!0)}});function eh(s,l){return new hs(s,l)}var Wr=ds.extend({initialize:function(s,l){j(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l=M(s)?s:s.features,h,y,E;if(l){for(h=0,y=l.length;h<y;h++)E=l[h],(E.geometries||E.geometry||E.features||E.coordinates)&&this.addData(E);return this}var A=this.options;if(A.filter&&!A.filter(s))return this;var W=Lo(s,A);return W?(W.feature=za(s),W.defaultOptions=W.options,this.resetStyle(W),A.onEachFeature&&A.onEachFeature(s,W),this.addLayer(W)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=c({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&(typeof l=="function"&&(l=l(s.feature)),s.setStyle(l))}});function Lo(s,l){var h=s.type==="Feature"?s.geometry:s,y=h?h.coordinates:null,E=[],A=l&&l.pointToLayer,W=l&&l.coordsToLatLng||Oa,ne,ce,Pe,Ge;if(!y&&!h)return null;switch(h.type){case"Point":return ne=W(y),Ia(A,s,ne,l);case"MultiPoint":for(Pe=0,Ge=y.length;Pe<Ge;Pe++)ne=W(y[Pe]),E.push(Ia(A,s,ne,l));return new ds(E);case"LineString":case"MultiLineString":return ce=Oi(y,h.type==="LineString"?0:1,W),new rr(ce,l);case"Polygon":case"MultiPolygon":return ce=Oi(y,h.type==="Polygon"?1:2,W),new hs(ce,l);case"GeometryCollection":for(Pe=0,Ge=h.geometries.length;Pe<Ge;Pe++){var ut=Lo({geometry:h.geometries[Pe],type:"Feature",properties:s.properties},l);ut&&E.push(ut)}return new ds(E);case"FeatureCollection":for(Pe=0,Ge=h.features.length;Pe<Ge;Pe++){var Lt=Lo(h.features[Pe],l);Lt&&E.push(Lt)}return new ds(E);default:throw new Error("Invalid GeoJSON object.")}}function Ia(s,l,h,y){return s?s(l,h):new fs(h,y&&y.markersInheritOptions&&y)}function Oa(s){return new je(s[1],s[0],s[2])}function Oi(s,l,h){for(var y=[],E=0,A=s.length,W;E<A;E++)W=l?Oi(s[E],l-1,h):(h||Oa)(s[E]),y.push(W);return y}function Fa(s,l){return s=$(s),s.alt!==void 0?[S(s.lng,l),S(s.lat,l),S(s.alt,l)]:[S(s.lng,l),S(s.lat,l)]}function $a(s,l,h,y){for(var E=[],A=0,W=s.length;A<W;A++)E.push(l?$a(s[A],mr(s[A])?0:l-1,h,y):Fa(s[A],y));return!l&&h&&E.length>0&&E.push(E[0].slice()),E}function Ao(s,l){return s.feature?c({},s.feature,{geometry:l}):za(l)}function za(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var sc={toGeoJSON:function(s){return Ao(this,{type:"Point",coordinates:Fa(this.getLatLng(),s)})}};fs.include(sc),Da.include(sc),Aa.include(sc),rr.include({toGeoJSON:function(s){var l=!mr(this._latlngs),h=$a(this._latlngs,l?1:0,!1,s);return Ao(this,{type:(l?"Multi":"")+"LineString",coordinates:h})}}),hs.include({toGeoJSON:function(s){var l=!mr(this._latlngs),h=l&&!mr(this._latlngs[0]),y=$a(this._latlngs,h?2:l?1:0,!0,s);return l||(y=[y]),Ao(this,{type:(h?"Multi":"")+"Polygon",coordinates:y})}}),ks.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(h){l.push(h.toGeoJSON(s).geometry.coordinates)}),Ao(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(s);var h=l==="GeometryCollection",y=[];return this.eachLayer(function(E){if(E.toGeoJSON){var A=E.toGeoJSON(s);if(h)y.push(A.geometry);else{var W=za(A);W.type==="FeatureCollection"?y.push.apply(y,W.features):y.push(W)}}}),h?Ao(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function Mu(s,l){return new Wr(s,l)}var Rr=Mu,Rs=Mr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,h){this._url=s,this._bounds=Te(l),j(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&So(this._image),this},bringToBack:function(){return this._map&&ls(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Te(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",l=this._image=s?this._url:kt("img");if(Ct(l,"leaflet-image-layer"),this._zoomAnimated&&Ct(l,"leaflet-zoom-animated"),this.options.className&&Ct(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(s){var l=this._map.getZoomScale(s.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;Cr(this._image,h,l)},_reset:function(){var s=this._image,l=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=l.getSize();jn(s,l.min),s.style.width=h.x+"px",s.style.height=h.y+"px"},_updateOpacity:function(){Vn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),Ru=function(s,l,h){return new Rs(s,l,h)},oc=Rs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",l=this._image=s?this._url:kt("video");if(Ct(l,"leaflet-image-layer"),this._zoomAnimated&&Ct(l,"leaflet-zoom-animated"),this.options.className&&Ct(l,this.options.className),l.onselectstart=b,l.onmousemove=b,l.onloadeddata=f(this.fire,this,"load"),s){for(var h=l.getElementsByTagName("source"),y=[],E=0;E<h.length;E++)y.push(h[E].src);this._url=h.length>0?y:[l.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var A=0;A<this._url.length;A++){var W=kt("source");W.src=this._url[A],l.appendChild(W)}}});function Lu(s,l,h){return new oc(s,l,h)}var ic=Rs.extend({_initImage:function(){var s=this._image=this._url;Ct(s,"leaflet-image-layer"),this._zoomAnimated&&Ct(s,"leaflet-zoom-animated"),this.options.className&&Ct(s,this.options.className),s.onselectstart=b,s.onmousemove=b}});function ac(s,l,h){return new ic(s,l,h)}var Vr=Mr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof je||M(s))?(this._latlng=$(s),j(this,l)):(j(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Vn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Vn(this._container,1),this.bringToFront(),this.options.interactive&&(Ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Vn(this._container,0),this._removeTimeout=setTimeout(f(fn,void 0,this._container),200)):fn(this._container),this.options.interactive&&(cn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=$(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&So(this._container),this},bringToBack:function(){return this._map&&ls(this._container),this},_prepareOpen:function(s){var l=this._source;if(!l._map)return!1;if(l instanceof ds){l=null;var h=this._source._layers;for(var y in h)if(h[y]._map){l=h[y];break}if(!l)return!1;this._source=l}if(!s)if(l.getCenter)s=l.getCenter();else if(l.getLatLng)s=l.getLatLng();else if(l.getBounds)s=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),l=oe(this.options.offset),h=this._getAnchor();this._zoomAnimated?jn(this._container,s.add(h)):l=l.add(s).add(h);var y=this._containerBottom=-l.y,E=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=y+"px",this._container.style.left=E+"px"}},_getAnchor:function(){return[0,0]}});qt.include({_initOverlay:function(s,l,h,y){var E=l;return E instanceof s||(E=new s(y).setContent(l)),h&&E.setLatLng(h),E}}),Mr.include({_initOverlay:function(s,l,h,y){var E=h;return E instanceof s?(j(E,y),E._source=this):(E=l&&!y?l:new s(y,this),E.setContent(h)),E}});var Ba=Vr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,Vr.prototype.openOn.call(this,s)},onAdd:function(s){Vr.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ms||this._source.on("preclick",Hr))},onRemove:function(s){Vr.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ms||this._source.off("preclick",Hr))},getEvents:function(){var s=Vr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=kt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=kt("div",s+"-content-wrapper",l);if(this._contentNode=kt("div",s+"-content",h),Ri(l),Pa(this._contentNode),Nt(l,"contextmenu",Hr),this._tipContainer=kt("div",s+"-tip-container",l),this._tip=kt("div",s+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=kt("a",s+"-close-button",l);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Nt(y,"click",function(E){wn(E),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,l=s.style;l.width="",l.whiteSpace="nowrap";var h=s.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),l.width=h+1+"px",l.whiteSpace="",l.height="";var y=s.offsetHeight,E=this.options.maxHeight,A="leaflet-popup-scrolled";E&&y>E?(l.height=E+"px",Ct(s,A)):cn(s,A),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),h=this._getAnchor();jn(this._container,l.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,l=parseInt(Pi(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+l,y=this._containerWidth,E=new U(this._containerLeft,-h-this._containerBottom);E._add(cs(this._container));var A=s.layerPointToContainerPoint(E),W=oe(this.options.autoPanPadding),ne=oe(this.options.autoPanPaddingTopLeft||W),ce=oe(this.options.autoPanPaddingBottomRight||W),Pe=s.getSize(),Ge=0,ut=0;A.x+y+ce.x>Pe.x&&(Ge=A.x+y-Pe.x+ce.x),A.x-Ge-ne.x<0&&(Ge=A.x-ne.x),A.y+h+ce.y>Pe.y&&(ut=A.y+h-Pe.y+ce.y),A.y-ut-ne.y<0&&(ut=A.y-ne.y),(Ge||ut)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([Ge,ut]))}},_getAnchor:function(){return oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Do=function(s,l){return new Ba(s,l)};qt.mergeOptions({closePopupOnClick:!0}),qt.include({openPopup:function(s,l,h){return this._initOverlay(Ba,s,l,h).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),Mr.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Ba,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof ds||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){Tr(s);var l=s.layer||s.target;if(this._popup._source===l&&!(l instanceof Ms)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=l,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var Io=Vr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){Vr.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){Vr.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=Vr.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",l=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=kt("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,h,y=this._map,E=this._container,A=y.latLngToContainerPoint(y.getCenter()),W=y.layerPointToContainerPoint(s),ne=this.options.direction,ce=E.offsetWidth,Pe=E.offsetHeight,Ge=oe(this.options.offset),ut=this._getAnchor();ne==="top"?(l=ce/2,h=Pe):ne==="bottom"?(l=ce/2,h=0):ne==="center"?(l=ce/2,h=Pe/2):ne==="right"?(l=0,h=Pe/2):ne==="left"?(l=ce,h=Pe/2):W.x<A.x?(ne="right",l=0,h=Pe/2):(ne="left",l=ce+(Ge.x+ut.x)*2,h=Pe/2),s=s.subtract(oe(l,h,!0)).add(Ge).add(ut),cn(E,"leaflet-tooltip-right"),cn(E,"leaflet-tooltip-left"),cn(E,"leaflet-tooltip-top"),cn(E,"leaflet-tooltip-bottom"),Ct(E,"leaflet-tooltip-"+ne),jn(E,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Vn(this._container,s)},_animateZoom:function(s){var l=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(l)},_getAnchor:function(){return oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fi=function(s,l){return new Io(s,l)};qt.include({openTooltip:function(s,l,h){return this._initOverlay(Io,s,l,h).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),Mr.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Io,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var l=s?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[l](h),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof ds||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&(Nt(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Nt(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var l=typeof s.getElement=="function"&&s.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var l=s.latlng,h,y;this._tooltip.options.sticky&&s.originalEvent&&(h=this._map.mouseEventToContainerPoint(s.originalEvent),y=this._map.containerPointToLayerPoint(h),l=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(l)}});var Ua=to.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var l=s&&s.tagName==="DIV"?s:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ba(l),l.appendChild(h.html)):l.innerHTML=h.html!==!1?h.html:"",h.bgPos){var y=oe(h.bgPos);l.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Au(s){return new Ua(s)}to.Default=Ro;var Ls=Mr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ke.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){j(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),fn(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(So(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ls(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof U?s:new U(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l=this.getPane().children,h=-s(-1/0,1/0),y=0,E=l.length,A;y<E;y++)A=l[y].style.zIndex,l[y]!==this._container&&A&&(h=s(h,+A));isFinite(h)&&(this.options.zIndex=h+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ke.ielt9){Vn(this._container,this.options.opacity);var s=+new Date,l=!1,h=!1;for(var y in this._tiles){var E=this._tiles[y];if(!(!E.current||!E.loaded)){var A=Math.min(1,(s-E.loaded)/200);Vn(E.el,A),A<1?l=!0:(E.active?h=!0:this._onOpaqueTile(E),E.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),l&&(he(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=kt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(s!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===s?(this._levels[h].el.style.zIndex=l-Math.abs(s-h),this._onUpdateLevel(h)):(fn(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var y=this._levels[s],E=this._map;return y||(y=this._levels[s]={},y.el=kt("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=l,y.origin=E.project(E.unproject(E.getPixelOrigin()),s).round(),y.zoom=s,this._setZoomTransform(y,E.getCenter(),E.getZoom()),b(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var s,l,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)l=this._tiles[s],l.retain=l.current;for(s in this._tiles)if(l=this._tiles[s],l.current&&!l.active){var y=l.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)fn(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,l,h,y){var E=Math.floor(s/2),A=Math.floor(l/2),W=h-1,ne=new U(+E,+A);ne.z=+W;var ce=this._tileCoordsToKey(ne),Pe=this._tiles[ce];return Pe&&Pe.active?(Pe.retain=!0,!0):(Pe&&Pe.loaded&&(Pe.retain=!0),W>y?this._retainParent(E,A,W,y):!1)},_retainChildren:function(s,l,h,y){for(var E=2*s;E<2*s+2;E++)for(var A=2*l;A<2*l+2;A++){var W=new U(E,A);W.z=h+1;var ne=this._tileCoordsToKey(W),ce=this._tiles[ne];if(ce&&ce.active){ce.retain=!0;continue}else ce&&ce.loaded&&(ce.retain=!0);h+1<y&&this._retainChildren(E,A,h+1,y)}},_resetView:function(s){var l=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return l.minNativeZoom!==void 0&&s<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,h,y){var E=Math.round(l);this.options.maxZoom!==void 0&&E>this.options.maxZoom||this.options.minZoom!==void 0&&E<this.options.minZoom?E=void 0:E=this._clampZoom(E);var A=this.options.updateWhenZooming&&E!==this._tileZoom;(!y||A)&&(this._tileZoom=E,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),E!==void 0&&this._update(s),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var h in this._levels)this._setZoomTransform(this._levels[h],s,l)},_setZoomTransform:function(s,l,h){var y=this._map.getZoomScale(h,s.zoom),E=s.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(l,h)).round();Ke.any3d?Cr(s.el,E,y):jn(s.el,E)},_resetGrid:function(){var s=this._map,l=s.options.crs,h=this._tileSize=this.getTileSize(),y=this._tileZoom,E=this._map.getPixelWorldBounds(this._tileZoom);E&&(this._globalTileRange=this._pxBoundsToTileRange(E)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],y).x/h.x),Math.ceil(s.project([0,l.wrapLng[1]],y).x/h.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],y).y/h.x),Math.ceil(s.project([l.wrapLat[1],0],y).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var l=this._map,h=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),y=l.getZoomScale(h,this._tileZoom),E=l.project(s,this._tileZoom).floor(),A=l.getSize().divideBy(y*2);return new F(E.subtract(A),E.add(A))},_update:function(s){var l=this._map;if(l){var h=this._clampZoom(l.getZoom());if(s===void 0&&(s=l.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(s),E=this._pxBoundsToTileRange(y),A=E.getCenter(),W=[],ne=this.options.keepBuffer,ce=new F(E.getBottomLeft().subtract([ne,-ne]),E.getTopRight().add([ne,-ne]));if(!(isFinite(E.min.x)&&isFinite(E.min.y)&&isFinite(E.max.x)&&isFinite(E.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Pe in this._tiles){var Ge=this._tiles[Pe].coords;(Ge.z!==this._tileZoom||!ce.contains(new U(Ge.x,Ge.y)))&&(this._tiles[Pe].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(s,h);return}for(var ut=E.min.y;ut<=E.max.y;ut++)for(var Lt=E.min.x;Lt<=E.max.x;Lt++){var In=new U(Lt,ut);if(In.z=this._tileZoom,!!this._isValidTile(In)){var Mn=this._tiles[this._tileCoordsToKey(In)];Mn?Mn.current=!0:W.push(In)}}if(W.sort(function(Zn,Bo){return Zn.distanceTo(A)-Bo.distanceTo(A)}),W.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var sr=document.createDocumentFragment();for(Lt=0;Lt<W.length;Lt++)this._addTile(W[Lt],sr);this._level.el.appendChild(sr)}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var h=this._globalTileRange;if(!l.wrapLng&&(s.x<h.min.x||s.x>h.max.x)||!l.wrapLat&&(s.y<h.min.y||s.y>h.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(s);return Te(this.options.bounds).overlaps(y)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,h=this.getTileSize(),y=s.scaleBy(h),E=y.add(h),A=l.unproject(y,s.z),W=l.unproject(E,s.z);return[A,W]},_tileCoordsToBounds:function(s){var l=this._tileCoordsToNwSe(s),h=new Se(l[0],l[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var l=s.split(":"),h=new U(+l[0],+l[1]);return h.z=+l[2],h},_removeTile:function(s){var l=this._tiles[s];l&&(fn(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){Ct(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=b,s.onmousemove=b,Ke.ielt9&&this.options.opacity<1&&Vn(s,this.options.opacity)},_addTile:function(s,l){var h=this._getTilePos(s),y=this._tileCoordsToKey(s),E=this.createTile(this._wrapCoords(s),f(this._tileReady,this,s));this._initTile(E),this.createTile.length<2&&ee(f(this._tileReady,this,s,null,E)),jn(E,h),this._tiles[y]={el:E,coords:s,current:!0},l.appendChild(E),this.fire("tileloadstart",{tile:E,coords:s})},_tileReady:function(s,l,h){l&&this.fire("tileerror",{error:l,tile:h,coords:s});var y=this._tileCoordsToKey(s);h=this._tiles[y],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Vn(h.el,0),he(this._fadeFrame),this._fadeFrame=ee(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),l||(Ct(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ke.ielt9||!this._map._fadeAnimated?ee(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new U(this._wrapX?_(s.x,this._wrapX):s.x,this._wrapY?_(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new F(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function Oo(s){return new Ls(s)}var As=Ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,l=j(this,l),l.detectRetina&&Ke.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&l===void 0&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var h=document.createElement("img");return Nt(h,"load",f(this._tileOnLoad,this,l,h)),Nt(h,"error",f(this._tileOnError,this,l,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(s),h},getTileUrl:function(s){var l={r:Ke.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-s.y;this.options.tms&&(l.y=h),l["-y"]=h}return D(this._url,c(l,this.options))},_tileOnLoad:function(s,l){Ke.ielt9?setTimeout(f(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,h){var y=this.options.errorTileUrl;y&&l.getAttribute("src")!==y&&(l.src=y),s(h,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,l=this.options.maxZoom,h=this.options.zoomReverse,y=this.options.zoomOffset;return h&&(s=l-s),s+y},_getSubdomain:function(s){var l=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var s,l;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(l=this._tiles[s].el,l.onload=b,l.onerror=b,!l.complete)){l.src=O;var h=this._tiles[s].coords;fn(l),delete this._tiles[s],this.fire("tileabort",{tile:l,coords:h})}},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",O),Ls.prototype._removeTile.call(this,s)},_tileReady:function(s,l,h){if(!(!this._map||h&&h.getAttribute("src")===O))return Ls.prototype._tileReady.call(this,s,l,h)}});function lc(s,l){return new As(s,l)}var $i=As.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,l){this._url=s;var h=c({},this.defaultWmsParams);for(var y in l)y in this.options||(h[y]=l[y]);l=j(this,l);var E=l.detectRetina&&Ke.retina?2:1,A=this.getTileSize();h.width=A.x*E,h.height=A.y*E,this.wmsParams=h},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,As.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),h=this._crs,y=Q(h.project(l[0]),h.project(l[1])),E=y.min,A=y.max,W=(this._wmsVersion>=1.3&&this._crs===Cu?[E.y,E.x,A.y,A.x]:[E.x,E.y,A.x,A.y]).join(","),ne=As.prototype.getTileUrl.call(this,s);return ne+C(this.wmsParams,ne,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+W},setParams:function(s,l){return c(this.wmsParams,s),l||this.redraw(),this}});function Du(s,l){return new $i(s,l)}As.WMS=$i,lc.wms=Du;var qr=Mr.extend({options:{padding:.1},initialize:function(s){j(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var h=this._map.getZoomScale(l,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),E=this._map.project(this._center,l),A=y.multiplyBy(-h).add(E).subtract(this._map._getNewPixelOrigin(s,l));Ke.any3d?Cr(this._container,A,h):jn(this._container,A)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),h=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new F(h,h.add(l.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cc=qr.extend({options:{tolerance:0},getEvents:function(){var s=qr.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Nt(s,"mousemove",this._onMouseMove,this),Nt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Nt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){he(this._redrawRequest),delete this._ctx,fn(this._container),an(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var l in this._layers)s=this._layers[l],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qr.prototype._update.call(this);var s=this._bounds,l=this._container,h=s.getSize(),y=Ke.retina?2:1;jn(l,s.min),l.width=y*h.x,l.height=y*h.y,l.style.width=h.x+"px",l.style.height=h.y+"px",Ke.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){qr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var l=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=s._order,h=l.next,y=l.prev;h?h.prev=y:this._drawLast=y,y?y.next=h:this._drawFirst=h,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var l=s.options.dashArray.split(/[, ]+/),h=[],y,E;for(E=0;E<l.length;E++){if(y=Number(l[E]),isNaN(y))return;h.push(y)}s.options._dashArray=h}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||ee(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var l=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var l=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,l=this._redrawBounds;if(this._ctx.save(),l){var h=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)s=y.layer,(!l||s._pxBounds&&s._pxBounds.intersects(l))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var h,y,E,A,W=s._parts,ne=W.length,ce=this._ctx;if(ne){for(ce.beginPath(),h=0;h<ne;h++){for(y=0,E=W[h].length;y<E;y++)A=W[h][y],ce[y?"lineTo":"moveTo"](A.x,A.y);l&&ce.closePath()}this._fillStroke(ce,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var l=s._point,h=this._ctx,y=Math.max(Math.round(s._radius),1),E=(Math.max(Math.round(s._radiusY),1)||y)/y;E!==1&&(h.save(),h.scale(1,E)),h.beginPath(),h.arc(l.x,l.y/E,y,0,Math.PI*2,!1),E!==1&&h.restore(),this._fillStroke(h,s)}},_fillStroke:function(s,l){var h=l.options;h.fill&&(s.globalAlpha=h.fillOpacity,s.fillStyle=h.fillColor||h.color,s.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=h.opacity,s.lineWidth=h.weight,s.strokeStyle=h.color,s.lineCap=h.lineCap,s.lineJoin=h.lineJoin,s.stroke())},_onClick:function(s){for(var l=this._map.mouseEventToLayerPoint(s),h,y,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(h))&&(y=h);this._fireEvent(y?[y]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,l)}},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(cn(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var h,y,E=this._drawFirst;E;E=E.next)h=E.layer,h.options.interactive&&h._containsPoint(l)&&(y=h);y!==this._hoveredLayer&&(this._handleMouseOut(s),y&&(Ct(this._container,"leaflet-interactive"),this._fireEvent([y],s,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,h){this._map._fireDOMEvent(l,h||l.type,s)},_bringToFront:function(s){var l=s._order;if(l){var h=l.next,y=l.prev;if(h)h.prev=y;else return;y?y.next=h:h&&(this._drawFirst=h),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(s)}},_bringToBack:function(s){var l=s._order;if(l){var h=l.next,y=l.prev;if(y)y.next=h;else return;h?h.prev=y:y&&(this._drawLast=y),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(s)}}});function uc(s){return Ke.canvas?new cc(s):null}var Fo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Iu={_initContainer:function(){this._container=kt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qr.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=Fo("shape");Ct(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=Fo("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;fn(l),s.removeInteractiveTarget(l),delete this._layers[v(s)]},_updateStyle:function(s){var l=s._stroke,h=s._fill,y=s.options,E=s._container;E.stroked=!!y.stroke,E.filled=!!y.fill,y.stroke?(l||(l=s._stroke=Fo("stroke")),E.appendChild(l),l.weight=y.weight+"px",l.color=y.color,l.opacity=y.opacity,y.dashArray?l.dashStyle=M(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=y.lineCap.replace("butt","flat"),l.joinstyle=y.lineJoin):l&&(E.removeChild(l),s._stroke=null),y.fill?(h||(h=s._fill=Fo("fill")),E.appendChild(h),h.color=y.fillColor||y.color,h.opacity=y.fillOpacity):h&&(E.removeChild(h),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),h=Math.round(s._radius),y=Math.round(s._radiusY||h);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+h+","+y+" 0,"+65535*360)},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){So(s._container)},_bringToBack:function(s){ls(s._container)}},Lr=Ke.vml?Fo:ye,no=qr.extend({_initContainer:function(){this._container=Lr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Lr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fn(this._container),an(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qr.prototype._update.call(this);var s=this._bounds,l=s.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,h.setAttribute("width",l.x),h.setAttribute("height",l.y)),jn(h,s.min),h.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(s){var l=s._path=Lr("path");s.options.className&&Ct(l,s.options.className),s.options.interactive&&Ct(l,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){fn(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var l=s._path,h=s.options;l&&(h.stroke?(l.setAttribute("stroke",h.color),l.setAttribute("stroke-opacity",h.opacity),l.setAttribute("stroke-width",h.weight),l.setAttribute("stroke-linecap",h.lineCap),l.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?l.setAttribute("stroke-dasharray",h.dashArray):l.removeAttribute("stroke-dasharray"),h.dashOffset?l.setAttribute("stroke-dashoffset",h.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),h.fill?(l.setAttribute("fill",h.fillColor||h.color),l.setAttribute("fill-opacity",h.fillOpacity),l.setAttribute("fill-rule",h.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,Ye(s._parts,l))},_updateCircle:function(s){var l=s._point,h=Math.max(Math.round(s._radius),1),y=Math.max(Math.round(s._radiusY),1)||h,E="a"+h+","+y+" 0 1,0 ",A=s._empty()?"M0 0":"M"+(l.x-h)+","+l.y+E+h*2+",0 "+E+-h*2+",0 ";this._setPath(s,A)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){So(s._path)},_bringToBack:function(s){ls(s._path)}});Ke.vml&&no.include(Iu);function Ha(s){return Ke.svg||Ke.vml?new no(s):null}qt.include({getRenderer:function(s){var l=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var l=this._paneRenderers[s];return l===void 0&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l},_createRenderer:function(s){return this.options.preferCanvas&&uc(s)||Ha(s)}});var Ou=hs.extend({initialize:function(s,l){hs.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=Te(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function th(s,l){return new Ou(s,l)}no.create=Lr,no.pointsToPath=Ye,Wr.geometryToLayer=Lo,Wr.coordsToLatLng=Oa,Wr.coordsToLatLngs=Oi,Wr.latLngToCoords=Fa,Wr.latLngsToCoords=$a,Wr.getFeature=Ao,Wr.asFeature=za,qt.mergeOptions({boxZoom:!0});var $o=hr.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){an(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Gt(),ja(),this._startPoint=this._map.mouseEventToContainerPoint(s),Nt(document,{contextmenu:Tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=kt("div","leaflet-zoom-box",this._container),Ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var l=new F(this._point,this._startPoint),h=l.getSize();jn(this._box,l.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(fn(this._box),cn(this._container,"leaflet-crosshair")),Co(),Ea(),an(document,{contextmenu:Tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new Se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qt.addInitHook("addHandler","boxZoom",$o),qt.mergeOptions({doubleClickZoom:!0});var Fu=hr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,h=l.getZoom(),y=l.options.zoomDelta,E=s.originalEvent.shiftKey?h-y:h+y;l.options.doubleClickZoom==="center"?l.setZoom(E):l.setZoomAround(s.containerPoint,E)}});qt.addInitHook("addHandler","doubleClickZoom",Fu),qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var dc=hr.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new kr(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}Ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){cn(this._map._container,"leaflet-grab"),cn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=Te(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var l=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(l),this._prunePositions(l)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;s.x<l.min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,l=Math.round(s/2),h=this._initialWorldOffset,y=this._draggable._newPos.x,E=(y-l+h)%s+l-h,A=(y+l+h)%s-l-h,W=Math.abs(E+h)<Math.abs(A+h)?E:A;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=W},_onDragEnd:function(s){var l=this._map,h=l.options,y=!h.inertia||s.noInertia||this._times.length<2;if(l.fire("dragend",s),y)l.fire("moveend");else{this._prunePositions(+new Date);var E=this._lastPos.subtract(this._positions[0]),A=(this._lastTime-this._times[0])/1e3,W=h.easeLinearity,ne=E.multiplyBy(W/A),ce=ne.distanceTo([0,0]),Pe=Math.min(h.inertiaMaxSpeed,ce),Ge=ne.multiplyBy(Pe/ce),ut=Pe/(h.inertiaDeceleration*W),Lt=Ge.multiplyBy(-ut/2).round();!Lt.x&&!Lt.y?l.fire("moveend"):(Lt=l._limitOffset(Lt,l.options.maxBounds),ee(function(){l.panBy(Lt,{duration:ut,easeLinearity:W,noMoveStart:!0,animate:!0})}))}}});qt.addInitHook("addHandler","dragging",dc),qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var fc=hr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Nt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),an(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,l=document.documentElement,h=s.scrollTop||l.scrollTop,y=s.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(y,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var l=this._panKeys={},h=this.keyCodes,y,E;for(y=0,E=h.left.length;y<E;y++)l[h.left[y]]=[-1*s,0];for(y=0,E=h.right.length;y<E;y++)l[h.right[y]]=[s,0];for(y=0,E=h.down.length;y<E;y++)l[h.down[y]]=[0,s];for(y=0,E=h.up.length;y<E;y++)l[h.up[y]]=[0,-1*s]},_setZoomDelta:function(s){var l=this._zoomKeys={},h=this.keyCodes,y,E;for(y=0,E=h.zoomIn.length;y<E;y++)l[h.zoomIn[y]]=s;for(y=0,E=h.zoomOut.length;y<E;y++)l[h.zoomOut[y]]=-s},_addHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){an(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l=s.keyCode,h=this._map,y;if(l in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(y=this._panKeys[l],s.shiftKey&&(y=oe(y).multiplyBy(3)),h.options.maxBounds&&(y=h._limitOffset(oe(y),h.options.maxBounds)),h.options.worldCopyJump){var E=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(y)));h.panTo(E)}else h.panBy(y)}else if(l in this._zoomKeys)h.setZoom(h.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Tr(s)}}});qt.addInitHook("addHandler","keyboard",fc),qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ln=hr.extend({addHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){an(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var l=yu(s),h=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var y=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),y),Tr(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),h=this._map.options.zoomSnap||0;s._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),E=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,A=h?Math.ceil(E/h)*h:E,W=s._limitZoom(l+(this._delta>0?A:-A))-l;this._delta=0,this._startTime=null,W&&(s.options.scrollWheelZoom==="center"?s.setZoom(l+W):s.setZoomAround(this._lastMousePos,l+W))}});qt.addInitHook("addHandler","scrollWheelZoom",ln);var hc=600;qt.mergeOptions({tapHold:Ke.touchNative&&Ke.safari&&Ke.mobile,tapTolerance:15});var zi=hr.extend({addHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){an(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var l=s.touches[0];this._startPos=this._newPos=new U(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Nt(document,"touchend",wn),Nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),hc),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){an(document,"touchend",wn),an(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),an(document,"touchend touchcancel contextmenu",this._cancel,this),an(document,"touchmove",this._onMove,this)},_onMove:function(s){var l=s.touches[0];this._newPos=new U(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){var h=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});h._simulated=!0,l.target.dispatchEvent(h)}});qt.addInitHook("addHandler","tapHold",zi),qt.mergeOptions({touchZoom:Ke.touch,bounceAtZoomLimits:!0});var zo=hr.extend({addHooks:function(){Ct(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){cn(this._map._container,"leaflet-touch-zoom"),an(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l=this._map;if(!(!s.touches||s.touches.length!==2||l._animatingZoom||this._zooming)){var h=l.mouseEventToContainerPoint(s.touches[0]),y=l.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(h.add(y)._divideBy(2))),this._startDist=h.distanceTo(y),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),wn(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var l=this._map,h=l.mouseEventToContainerPoint(s.touches[0]),y=l.mouseEventToContainerPoint(s.touches[1]),E=h.distanceTo(y)/this._startDist;if(this._zoom=l.getScaleZoom(E,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&E<1||this._zoom>l.getMaxZoom()&&E>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,E===1)return}else{var A=h._add(y)._divideBy(2)._subtract(this._centerPoint);if(E===1&&A.x===0&&A.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(A),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),he(this._animRequest);var W=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ee(W,this,!0),wn(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,he(this._animRequest),an(document,"touchmove",this._onTouchMove,this),an(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});qt.addInitHook("addHandler","touchZoom",zo),qt.BoxZoom=$o,qt.DoubleClickZoom=Fu,qt.Drag=dc,qt.Keyboard=fc,qt.ScrollWheelZoom=ln,qt.TapHold=zi,qt.TouchZoom=zo,r.Bounds=F,r.Browser=Ke,r.CRS=K,r.Canvas=cc,r.Circle=Da,r.CircleMarker=Aa,r.Class=de,r.Control=nr,r.DivIcon=Ua,r.DivOverlay=Vr,r.DomEvent=Ta,r.DomUtil=Mi,r.Draggable=kr,r.Evented=xe,r.FeatureGroup=ds,r.GeoJSON=Wr,r.GridLayer=Ls,r.Handler=hr,r.Icon=to,r.ImageOverlay=Rs,r.LatLng=je,r.LatLngBounds=Se,r.Layer=Mr,r.LayerGroup=ks,r.LineUtil=Eu,r.Map=qt,r.Marker=fs,r.Mixin=Kl,r.Path=Ms,r.Point=U,r.PolyUtil=Wf,r.Polygon=hs,r.Polyline=rr,r.Popup=Ba,r.PosAnimation=ka,r.Projection=Yf,r.Rectangle=Ou,r.Renderer=qr,r.SVG=no,r.SVGOverlay=ic,r.TileLayer=As,r.Tooltip=Io,r.Transformation=ze,r.Util=De,r.VideoOverlay=oc,r.bind=f,r.bounds=Q,r.canvas=uc,r.circle=Ii,r.circleMarker=ku,r.control=Ts,r.divIcon=Au,r.extend=c,r.featureGroup=Pu,r.geoJSON=Mu,r.geoJson=Rr,r.gridLayer=Oo,r.icon=Tu,r.imageOverlay=Ru,r.latLng=$,r.latLngBounds=Te,r.layerGroup=Di,r.map=Ps,r.marker=Qf,r.point=oe,r.polygon=eh,r.polyline=Jf,r.popup=Do,r.rectangle=th,r.setOptions=j,r.stamp=v,r.svg=Ha,r.svgOverlay=ac,r.tileLayer=lc,r.tooltip=Fi,r.transformation=We,r.version=a,r.videoOverlay=Lu;var $u=window.L;r.noConflict=function(){return window.L=$u,this},window.L=r})}(Fc,Fc.exports)),Fc.exports}var MP=kP();const Ln=wp(MP),RP=()=>({openRouteServiceKey:"your_production_api_key_here",mapboxKey:void 0,googleMapsKey:void 0}),Wp=()=>({type:"openroute",hasKey:!0,description:"OpenRouteService - Good accuracy, limited free tier"}),P0=()=>{const e=Wp(),t=[{service:"OpenRouteService",url:"https://openrouteservice.org/",freeLimit:"2,000 requests/day",paidOptions:"Available from 2.99/month",setup:"Set VITE_OPENROUTESERVICE_API_KEY in your .env file",recommended:!e.hasKey},{service:"MapBox",url:"https://www.mapbox.com/",freeLimit:"50,000 requests/month",paidOptions:"Pay-per-use beyond free tier",setup:"Set VITE_MAPBOX_API_KEY in your .env file",recommended:e.type==="free"},{service:"Google Maps",url:"https://developers.google.com/maps",freeLimit:"Paid service (requires billing)",paidOptions:"Most accurate, enterprise-grade",setup:"Set VITE_GOOGLE_MAPS_API_KEY in your .env file",recommended:!1}];return{current:e,recommendations:t}},ta=class ta{constructor(){$s(this,"cache",new Map);$s(this,"maxCacheSize",200);$s(this,"cacheTimeout",60*60*1e3)}static getInstance(){return ta.instance||(ta.instance=new ta),ta.instance}getCacheKey(t,r){return`${t.lat.toFixed(5)},${t.lng.toFixed(5)}_${r.lat.toFixed(5)},${r.lng.toFixed(5)}`}isValidCache(t){return Date.now()-t.timestamp<this.cacheTimeout}async getRouteFromORS(t,r){var a,c;try{const p=await fetch("https://api.openrouteservice.org/v2/directions/driving-car",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"your_production_api_key_here"},body:JSON.stringify({coordinates:[[t.lng,t.lat],[r.lng,r.lat]],format:"geojson"})});if(!p.ok)return console.warn(`ORS API failed: ${p.status} ${p.statusText}`),null;const v=await p.json();if(v.features&&v.features.length>0){const x=v.features[0];return{coordinates:x.geometry.coordinates.map(b=>[b[1],b[0]]),distance:((a=x.properties.segments[0])==null?void 0:a.distance)||0,duration:((c=x.properties.segments[0])==null?void 0:c.duration)||0,source:"road-api",confidence:"high"}}}catch(d){console.warn("ORS routing failed:",d.message)}return null}async getRouteFromMapbox(t,r){try{const a=RP();if(!a.mapboxKey)return null;const c=`https://api.mapbox.com/directions/v5/mapbox/driving/${t.lng},${t.lat};${r.lng},${r.lat}?geometries=geojson&access_token=${a.mapboxKey}`,d=new AbortController,f=setTimeout(()=>d.abort(),1e4),p=await fetch(c,{signal:d.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(f),!p.ok)return console.warn(`MapBox API failed: ${p.status} ${p.statusText}`),null;const v=await p.json();if(v.routes&&v.routes.length>0){const x=v.routes[0];return!x.geometry||!x.geometry.coordinates||x.geometry.coordinates.length<2?(console.warn("MapBox returned invalid geometry"),null):{coordinates:x.geometry.coordinates.map(b=>[b[1],b[0]]),distance:x.distance||0,duration:x.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("MapBox routing timed out"):console.warn("MapBox routing failed:",a.message)}return null}async getRouteFromOSRM(t,r){try{const a=`https://router.project-osrm.org/route/v1/driving/${t.lng},${t.lat};${r.lng},${r.lat}?overview=full&geometries=geojson`,c=new AbortController,d=setTimeout(()=>c.abort(),1e4),f=await fetch(a,{signal:c.signal,headers:{"User-Agent":"Field-Tracking-App/1.0"}});if(clearTimeout(d),!f.ok)return console.warn(`OSRM API failed: ${f.status} ${f.statusText}`),null;const p=await f.json();if(p.routes&&p.routes.length>0){const v=p.routes[0];return!v.geometry||!v.geometry.coordinates||v.geometry.coordinates.length<2?(console.warn("OSRM returned invalid geometry"),null):{coordinates:v.geometry.coordinates.map(_=>[_[1],_[0]]),distance:v.distance||0,duration:v.duration||0,source:"road-api",confidence:"high"}}}catch(a){a.name==="AbortError"?console.warn("OSRM routing timed out"):console.warn("OSRM routing failed:",a.message)}return null}calculateStraightLineDistance(t,r){const c=t.lat*Math.PI/180,d=r.lat*Math.PI/180,f=(r.lat-t.lat)*Math.PI/180,p=(t.lng-r.lng)*Math.PI/180,v=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))}createStraightLineRoute(t,r){const a=this.calculateStraightLineDistance(t,r),c=[];if(a>500){const d=Math.min(5,Math.floor(a/200));for(let f=0;f<=d;f++){const p=f/d,v=t.lat+(r.lat-t.lat)*p,x=t.lng+(r.lng-t.lng)*p;c.push([v,x])}}else c.push([t.lat,t.lng],[r.lat,r.lng]);return{coordinates:c,distance:a,duration:a/13.89,source:"straight-line",confidence:a<100?"medium":"low"}}async getRoute(t,r){const a=this.getCacheKey(t,r),c=this.cache.get(a);if(c&&this.isValidCache(c))return console.log(`Using cached route for ${this.calculateStraightLineDistance(t,r).toFixed(0)}m distance`),c.route;const d=this.calculateStraightLineDistance(t,r);if(d<30){console.log(`Short distance (${Math.round(d)}m), using direct line`);const p=this.createStraightLineRoute(t,r);return p.confidence="high",this.cache.set(a,{route:p,timestamp:Date.now()}),p}let f=null;if(d<1e4&&(f=await this.getRouteFromMapbox(t,r),!f&&d>50&&(f=await this.getRouteFromORS(t,r)),!f&&d>30&&(f=await this.getRouteFromOSRM(t,r))),!f){const p=d>=5e3?"Long distance":"API services unavailable";console.log(`${p} - using straight line for ${Math.round(d)}m distance`),f=this.createStraightLineRoute(t,r),d<200?f.confidence="medium":d>1e3&&(f.confidence="low")}if(this.cache.size>=this.maxCacheSize){const p=this.cache.keys().next().value;this.cache.delete(p)}return this.cache.set(a,{route:f,timestamp:Date.now()}),f}createGPSRoute(t){if(t.length<2)return{coordinates:[],distance:0,duration:0,source:"gps",confidence:"high"};const r=this.cleanGPSPoints(t),a=r.map(p=>[p.lat,p.lng]);let c=0;for(let p=1;p<r.length;p++){const v=r[p-1],x=r[p];c+=this.calculateStraightLineDistance(v,x)}let d=0;if(r[0].timestamp&&r[r.length-1].timestamp){const p=new Date(r[0].timestamp).getTime();d=(new Date(r[r.length-1].timestamp).getTime()-p)/1e3}else d=c/13.89;const f=this.assessGPSQuality(r,t.length);return console.log(` GPS route: ${r.length}/${t.length} points, ${(c/1e3).toFixed(2)}km, ${f} confidence`),{coordinates:a,distance:c,duration:d,source:"gps",confidence:f}}cleanGPSPoints(t){if(t.length<=2)return t;const r=[t[0]];for(let a=1;a<t.length;a++){const c=t[a],d=r[r.length-1],f=this.calculateStraightLineDistance(d,c);if(!(f<3)){if(c.timestamp&&d.timestamp){const p=(new Date(c.timestamp).getTime()-new Date(d.timestamp).getTime())/1e3;if(p>0&&p<5&&f>300){console.warn(`Skipping GPS outlier: ${Math.round(f)}m in ${p}s (${Math.round(f/p*3.6)}km/h)`);continue}}r.push(c)}}return r.length<2?(console.warn(`GPS cleaning removed too many points (${r.length}/${t.length}), using original`),t):r.length<t.length*.5?(console.warn(`GPS cleaning removed over 50% of points (${r.length}/${t.length}), using original`),t):(console.log(`GPS cleaning: kept ${r.length}/${t.length} points`),r)}assessGPSQuality(t,r){const a=t.length/r;return t.length>=10&&a>.7?"high":t.length>=5&&a>.5?"medium":"low"}async getRouteForPoints(t){if(t.length<2)return{coordinates:[],totalDistance:0,segments:[]};const r=[];let a=[],c=0,d=0;const f=15,p=t.length>f+1?this.selectKeyPoints(t,f):t;console.log(`Processing route with ${p.length} key points (from ${t.length} total GPS points)`);for(let b=0;b<p.length-1;b++)try{const S=await this.getRoute(p[b],p[b+1]);r.push(S),S.source==="road-api"&&d++,b===0?a.push(...S.coordinates):a.push(...S.coordinates.slice(1)),c+=S.distance}catch(S){console.warn(`Failed to get route for segment ${b}-${b+1}:`,S);const k=p[b],P=p[b+1],j=[[k.lat,k.lng],[P.lat,P.lng]];b===0?a.push(...j):a.push(j[1]);const C=this.calculateStraightLineDistance(k,P);c+=C}const v=r.length>0?d/r.length:0;let x="mixed",_="medium";return v>=.8?(x="road-api",_="high"):v>=.5?(x="road-mixed",_="medium"):(x="gps-fallback",_="low"),console.log(`Route complete: ${a.length} coordinates, ${Math.round(c/1e3*100)/100}km, ${d}/${r.length} road segments`),{coordinates:a,totalDistance:c,segments:r,source:x,confidence:_}}selectKeyPoints(t,r){if(t.length<=r)return t;const a=[t[0]],c=Math.floor(t.length/(r-2));for(let d=c;d<t.length-1;d+=c)a.push(t[d]);return a.push(t[t.length-1]),a}clearCache(){this.cache.clear()}};$s(ta,"instance");let rp=ta;const ns=rp.getInstance();delete Ln.Icon.Default.prototype._getIconUrl;Ln.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function Vp({employees:e,selectedEmployee:t,height:r="400px",onEmployeeClick:a,trackingSession:c,showRoute:d=!1}){const f=g.useRef(null),p=g.useRef(null),v=g.useRef({}),x=g.useRef(null),_=g.useRef([]),[b,S]=g.useState(!1),[k,P]=g.useState(null),[j,C]=g.useState(null);return g.useEffect(()=>{if(!p.current)return;f.current=Ln.map(p.current).setView([40.7128,-74.006],12),Ln.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(f.current);const T=document.createElement("link");return T.rel="stylesheet",T.href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css",document.head.appendChild(T),()=>{f.current&&(f.current.remove(),f.current=null),document.head.removeChild(T)}},[]),g.useEffect(()=>{if(!f.current||!e.length)return;Object.values(v.current).forEach(M=>{var I;(I=f.current)==null||I.removeLayer(M)}),v.current={};const T=M=>{var O;const I=M==="active"?"#22c55e":M==="meeting"?"#f59e0b":"#6b7280";return Ln.divIcon({html:`
          <div style="
            background-color: ${I};
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            ${t&&t===((O=e.find(q=>q.location.lat===parseFloat(M)&&q.location.lng===parseFloat(M)))==null?void 0:O.id)?"transform: scale(1.3);":""}
          "></div>
        `,className:"custom-div-icon",iconSize:[20,20],iconAnchor:[10,10]})},D=Ln.latLngBounds([]);e.forEach(M=>{if(M.location.lat&&M.location.lng){const I=Ln.marker([M.location.lat,M.location.lng],{icon:T(M.status)}).addTo(f.current);I.bindPopup(`
          <div style="min-width: 200px;">
            <h3 style="margin: 0 0 8px 0; font-weight: bold;">${M.name}</h3>
            <p style="margin: 0 0 4px 0; color: #666;">
              <span style="
                display: inline-block;
                padding: 2px 6px;
                border-radius: 4px;
                font-size: 12px;
                background-color: ${M.status==="active"?"#22c55e":M.status==="meeting"?"#f59e0b":"#6b7280"};
                color: white;
              ">${M.status==="active"?"On Route":M.status==="meeting"?"In Meeting":"Offline"}</span>
            </p>
            <p style="margin: 0 0 4px 0; font-size: 14px;">${M.location.address}</p>
            ${M.currentTask?`<p style="margin: 0 0 4px 0; font-size: 12px; font-style: italic;">${M.currentTask}</p>`:""}
            <p style="margin: 0; font-size: 12px; color: #888;">Updated ${M.lastUpdate}</p>
          </div>
        `),a&&I.on("click",()=>a(M.id)),v.current[M.id]=I,D.extend([M.location.lat,M.location.lng])}}),e.length>0&&D.isValid()&&f.current.fitBounds(D,{padding:[20,20]})},[e,t,a]),g.useEffect(()=>{if(!f.current)return;if(x.current&&(f.current.removeLayer(x.current),x.current=null),_.current.forEach(M=>{var I;(I=f.current)==null||I.removeLayer(M)}),_.current=[],!d||!c||!c.route.length){P(null),C(null);return}const T=c.route;if((async()=>{if(T.length<1){P("No GPS points available for route visualization"),C(null);return}S(!0),P(null);try{if(!f.current)return;let M=[],I="gps",O="medium";if(console.log(`Displaying route with ${T.length} GPS points`),T.length===1)M=[[T[0].lat,T[0].lng]],I="single-point",O="high";else if(M=T.map(V=>[V.lat,V.lng]),I="gps-points",O=T.length>=5?"medium":"basic",T.length>=2&&T.length<=10)try{if(console.log("Attempting road-based route enhancement..."),T.length<=3){const V=await ns.getRoute(T[0],T[T.length-1]);V.source==="road-api"&&V.coordinates.length>0&&(M=V.coordinates,I="road-direct",O="high",console.log("Successfully enhanced route with direct road routing"))}else{const V=await ns.createGPSRoute(T);V.coordinates.length>0&&(M=V.coordinates,I="gps-processed",O=V.confidence||"medium",console.log(`Successfully processed GPS route: ${V.confidence} confidence`))}}catch(V){console.warn("Route enhancement failed, using basic GPS points:",V.message)}const H=(()=>{switch(I){case"road-direct":case"road-api":return{color:"#2563eb",weight:5,opacity:.8,dashArray:void 0};case"gps-processed":return{color:"#16a34a",weight:4,opacity:.7,dashArray:void 0};case"single-point":return{color:"#dc2626",weight:6,opacity:.9,dashArray:void 0};default:return{color:"#ea580c",weight:3,opacity:.6,dashArray:"8, 4"}}})();if(I==="single-point"&&M.length===1){const V=M[0];x.current=Ln.circle(V,{radius:50,color:H.color,weight:H.weight,opacity:H.opacity,fillColor:H.color,fillOpacity:.3}).addTo(f.current)}else M.length>=2&&(x.current=Ln.polyline(M,{...H,smoothFactor:I.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current),Ln.polyline(M,{color:"#000000",weight:H.weight+2,opacity:.2,smoothFactor:I.includes("road")?.5:.2,lineCap:"round",lineJoin:"round"}).addTo(f.current).bringToBack());if(C((()=>{switch(I){case"road-direct":case"road-api":return{type:"Road Network",confidence:"High Accuracy",points:M.length};case"gps-processed":return{type:"Enhanced GPS",confidence:O==="high"?"High Accuracy":"Medium Accuracy",points:T.length};case"single-point":return{type:"Current Location",confidence:"High Accuracy",points:1};default:return{type:"GPS Points",confidence:"Basic Accuracy",points:T.length}}})()),console.log(` Displayed ${I} route: ${M.length} coordinates, ${O} confidence`),M.length>0)if(M.length===1)f.current.setView(M[0],16);else{const V=Ln.latLngBounds(M);f.current.fitBounds(V,{padding:[30,30]})}}catch(M){console.error("Error displaying route:",M),P(`Failed to display route: ${M.message}`),C(null);try{if(T.length>=1){const I=T.map(O=>[O.lat,O.lng]);if(I.length===1?x.current=Ln.circle(I[0],{radius:30,color:"#dc2626",weight:2,opacity:.7,fillColor:"#dc2626",fillOpacity:.2}).addTo(f.current):x.current=Ln.polyline(I,{color:"#dc2626",weight:3,opacity:.6,dashArray:"5, 5",smoothFactor:.1}).addTo(f.current),C({type:"Fallback GPS",confidence:"Limited",points:T.length}),P(null),I.length===1)f.current.setView(I[0],16);else{const O=Ln.latLngBounds(I);f.current.fitBounds(O,{padding:[20,20]})}}}catch(I){console.error("Even fallback route failed:",I),P("Unable to display any route visualization")}}finally{S(!1)}})(),c.startLocation){const M=Ln.divIcon({html:`
          <div style="
            background-color: #22c55e;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">S</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),I=Ln.marker([c.startLocation.lat,c.startLocation.lng],{icon:M}).addTo(f.current);I.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #22c55e;">Route Start</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${new Date(c.startTime).toLocaleString()}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            ${c.startLocation.address}
          </p>
        </div>
      `),_.current.push(I)}if(c.endLocation&&c.status==="completed"){const M=Ln.divIcon({html:`
          <div style="
            background-color: #ef4444;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
          ">E</div>
        `,className:"custom-div-icon",iconSize:[24,24],iconAnchor:[12,12]}),I=Ln.marker([c.endLocation.lat,c.endLocation.lng],{icon:M}).addTo(f.current);I.bindPopup(`
        <div style="min-width: 150px;">
          <h4 style="margin: 0 0 8px 0; color: #ef4444;">Route End</h4>
          <p style="margin: 0 0 4px 0; font-size: 12px;">
            ${c.endTime?new Date(c.endTime).toLocaleString():"In progress"}
          </p>
          <p style="margin: 0 0 4px 0; font-size: 12px; color: #666;">
            ${c.endLocation.address}
          </p>
          <p style="margin: 0; font-size: 12px; color: #666;">
            Distance: ${(c.totalDistance/1e3).toFixed(2)} km
          </p>
        </div>
      `),_.current.push(I)}if(T.length>2){const M=Math.max(1,Math.floor(T.length/5));T.forEach((I,O)=>{if(O>0&&O<T.length-1&&O%M===0){const q=Ln.divIcon({html:`
              <div style="
                background-color: #3b82f6;
                width: 8px;
                height: 8px;
                border-radius: 50%;
                border: 2px solid white;
                box-shadow: 0 1px 3px rgba(0,0,0,0.5);
                opacity: 0.9;
              "></div>
            `,className:"custom-div-icon",iconSize:[8,8],iconAnchor:[4,4]}),H=Ln.marker([I.lat,I.lng],{icon:q}).addTo(f.current);H.bindPopup(`
            <div style="min-width: 160px;">
              <h4 style="margin: 0 0 8px 0; color: #3b82f6;">Route Point</h4>
              <p style="margin: 0 0 4px 0; font-size: 12px;">
                <strong>Time:</strong> ${new Date(I.timestamp).toLocaleTimeString()}
              </p>
              <p style="margin: 0 0 4px 0; font-size: 11px; color: #666;">
                Position: ${I.lat.toFixed(6)}, ${I.lng.toFixed(6)}
              </p>
              <p style="margin: 0; font-size: 11px; color: #666;">
                Point ${O+1} of ${T.length}
              </p>
            </div>
          `),_.current.push(H)}})}},[d,c]),g.useEffect(()=>{if(!f.current||!t)return;const T=e.find(D=>D.id===t);T&&T.location.lat&&T.location.lng&&f.current.setView([T.location.lat,T.location.lng],15)},[t,e]),o.jsxs("div",{className:"relative",children:[o.jsx("div",{ref:p,style:{height:r,width:"100%",borderRadius:"8px"},className:"relative z-0"}),b&&o.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm border border-border rounded-md px-3 py-2 text-sm flex items-center space-x-2 z-10",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("span",{children:"Generating route..."})]}),d&&j&&o.jsxs("div",{className:`absolute top-2 right-2 backdrop-blur-sm border rounded-md px-3 py-2 text-sm z-10 ${j.confidence==="High Accuracy"?"bg-blue-500/90 border-blue-500 text-white":j.confidence==="Medium Accuracy"?"bg-green-500/90 border-green-500 text-white":j.confidence==="Basic Accuracy"?"bg-orange-500/90 border-orange-500 text-white":"bg-red-500/90 border-red-500 text-white"}`,children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{children:[j.type.includes("Road")?"":j.type.includes("GPS + Road")?"":""," ",j.type]})}),o.jsxs("div",{className:"text-xs mt-1 opacity-90",children:[j.confidence,"  ",j.points," ",j.points===1?"point":"points"]}),j.type.includes("Road")&&o.jsx("div",{className:"text-xs mt-1 opacity-75",children:" Road-optimized route"})]}),k&&o.jsxs("div",{className:"absolute top-2 left-2 bg-destructive/90 backdrop-blur-sm border border-destructive rounded-md px-3 py-2 text-sm text-destructive-foreground z-10",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{children:" Route Display Issue"})}),o.jsx("div",{className:"text-xs mt-1",children:k}),o.jsx("div",{className:"text-xs mt-1 opacity-80",children:" Route will improve with more GPS points"})]})]})}const vn=g.forwardRef(({className:e,type:t,...r},a)=>o.jsx("input",{type:t,className:wt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));vn.displayName="Input";function LP(e,t){const r=g.createContext(t),a=d=>{const{children:f,...p}=d,v=g.useMemo(()=>p,Object.values(p));return o.jsx(r.Provider,{value:v,children:f})};a.displayName=e+"Provider";function c(d){const f=g.useContext(r);if(f)return f;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[a,c]}function AP(e,t=[]){let r=[];function a(d,f){const p=g.createContext(f),v=r.length;r=[...r,f];const x=b=>{var T;const{scope:S,children:k,...P}=b,j=((T=S==null?void 0:S[e])==null?void 0:T[v])||p,C=g.useMemo(()=>P,Object.values(P));return o.jsx(j.Provider,{value:C,children:k})};x.displayName=d+"Provider";function _(b,S){var j;const k=((j=S==null?void 0:S[e])==null?void 0:j[v])||p,P=g.useContext(k);if(P)return P;if(f!==void 0)return f;throw new Error(`\`${b}\` must be used within \`${d}\``)}return[x,_]}const c=()=>{const d=r.map(f=>g.createContext(f));return function(p){const v=(p==null?void 0:p[e])||d;return g.useMemo(()=>({[`__scope${e}`]:{...p,[e]:v}}),[p,v])}};return c.scopeName=e,[a,DP(c,...t)]}function DP(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const f=a.reduce((p,{useScope:v,scopeName:x})=>{const b=v(d)[`__scope${x}`];return{...p,...b}},{});return g.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return r.scopeName=t.scopeName,r}var Nm="focusScope.autoFocusOnMount",Sm="focusScope.autoFocusOnUnmount",Ox={bubbles:!1,cancelable:!0},IP="FocusScope",qp=g.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:c,onUnmountAutoFocus:d,...f}=e,[p,v]=g.useState(null),x=xn(c),_=xn(d),b=g.useRef(null),S=Vt(t,j=>v(j)),k=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(a){let j=function(M){if(k.paused||!p)return;const I=M.target;p.contains(I)?b.current=I:ai(b.current,{select:!0})},C=function(M){if(k.paused||!p)return;const I=M.relatedTarget;I!==null&&(p.contains(I)||ai(b.current,{select:!0}))},T=function(M){if(document.activeElement===document.body)for(const O of M)O.removedNodes.length>0&&ai(p)};document.addEventListener("focusin",j),document.addEventListener("focusout",C);const D=new MutationObserver(T);return p&&D.observe(p,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",C),D.disconnect()}}},[a,p,k.paused]),g.useEffect(()=>{if(p){$x.add(k);const j=document.activeElement;if(!p.contains(j)){const T=new CustomEvent(Nm,Ox);p.addEventListener(Nm,x),p.dispatchEvent(T),T.defaultPrevented||(OP(UP(T0(p)),{select:!0}),document.activeElement===j&&ai(p))}return()=>{p.removeEventListener(Nm,x),setTimeout(()=>{const T=new CustomEvent(Sm,Ox);p.addEventListener(Sm,_),p.dispatchEvent(T),T.defaultPrevented||ai(j??document.body,{select:!0}),p.removeEventListener(Sm,_),$x.remove(k)},0)}}},[p,x,_,k]);const P=g.useCallback(j=>{if(!r&&!a||k.paused)return;const C=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,T=document.activeElement;if(C&&T){const D=j.currentTarget,[M,I]=FP(D);M&&I?!j.shiftKey&&T===I?(j.preventDefault(),r&&ai(M,{select:!0})):j.shiftKey&&T===M&&(j.preventDefault(),r&&ai(I,{select:!0})):T===D&&j.preventDefault()}},[r,a,k.paused]);return o.jsx(Pt.div,{tabIndex:-1,...f,ref:S,onKeyDown:P})});qp.displayName=IP;function OP(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(ai(a,{select:t}),document.activeElement!==r)return}function FP(e){const t=T0(e),r=Fx(t,e),a=Fx(t.reverse(),e);return[r,a]}function T0(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const c=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||c?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Fx(e,t){for(const r of e)if(!$P(r,{upTo:t}))return r}function $P(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zP(e){return e instanceof HTMLInputElement&&"select"in e}function ai(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zP(e)&&t&&e.select()}}var $x=BP();function BP(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zx(e,t),e.unshift(t)},remove(t){var r;e=zx(e,t),(r=e[0])==null||r.resume()}}}function zx(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function UP(e){return e.filter(t=>t.tagName!=="A")}function HP(e,t){return g.useReducer((r,a)=>t[r][a]??r,e)}var Sf=e=>{const{present:t,children:r}=e,a=WP(t),c=typeof r=="function"?r({present:a.isPresent}):g.Children.only(r),d=Vt(a.ref,VP(c));return typeof r=="function"||a.isPresent?g.cloneElement(c,{ref:d}):null};Sf.displayName="Presence";function WP(e){const[t,r]=g.useState(),a=g.useRef({}),c=g.useRef(e),d=g.useRef("none"),f=e?"mounted":"unmounted",[p,v]=HP(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const x=Ld(a.current);d.current=p==="mounted"?x:"none"},[p]),Sn(()=>{const x=a.current,_=c.current;if(_!==e){const S=d.current,k=Ld(x);e?v("MOUNT"):k==="none"||(x==null?void 0:x.display)==="none"?v("UNMOUNT"):v(_&&S!==k?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,v]),Sn(()=>{if(t){let x;const _=t.ownerDocument.defaultView??window,b=k=>{const j=Ld(a.current).includes(k.animationName);if(k.target===t&&j&&(v("ANIMATION_END"),!c.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",x=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},S=k=>{k.target===t&&(d.current=Ld(a.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",b),t.addEventListener("animationend",b),()=>{_.clearTimeout(x),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",b),t.removeEventListener("animationend",b)}}else v("ANIMATION_END")},[t,v]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:g.useCallback(x=>{x&&(a.current=getComputedStyle(x)),r(x)},[])}}function Ld(e){return(e==null?void 0:e.animationName)||"none"}function VP(e){var a,c;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jm=0;function qP(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bx()),document.body.insertAdjacentElement("beforeend",e[1]??Bx()),jm++,()=>{jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jm--}},[])}function Bx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var er=function(){return er=Object.assign||function(t){for(var r,a=1,c=arguments.length;a<c;a++){r=arguments[a];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},er.apply(this,arguments)};function Zp(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(r[a[c]]=e[a[c]]);return r}function k0(e,t,r){if(r||arguments.length===2)for(var a=0,c=t.length,d;a<c;a++)(d||!(a in t))&&(d||(d=Array.prototype.slice.call(t,0,a)),d[a]=t[a]);return e.concat(d||Array.prototype.slice.call(t))}var Uc="right-scroll-bar-position",Hc="width-before-scroll-bar",ZP="with-scroll-bars-hidden",GP="--removed-body-scroll-bar-size";function Em(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YP(e,t){var r=g.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var c=r.value;c!==a&&(r.value=a,r.callback(a,c))}}}})[0];return r.callback=t,r.facade}var KP=typeof window<"u"?g.useLayoutEffect:g.useEffect,Ux=new WeakMap;function M0(e,t){var r=YP(null,function(a){return e.forEach(function(c){return Em(c,a)})});return KP(function(){var a=Ux.get(r);if(a){var c=new Set(a),d=new Set(e),f=r.current;c.forEach(function(p){d.has(p)||Em(p,null)}),d.forEach(function(p){c.has(p)||Em(p,f)})}Ux.set(r,e)},[e]),r}function XP(e){return e}function QP(e,t){t===void 0&&(t=XP);var r=[],a=!1,c={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(d){var f=t(d,a);return r.push(f),function(){r=r.filter(function(p){return p!==f})}},assignSyncMedium:function(d){for(a=!0;r.length;){var f=r;r=[],f.forEach(d)}r={push:function(p){return d(p)},filter:function(){return r}}},assignMedium:function(d){a=!0;var f=[];if(r.length){var p=r;r=[],p.forEach(d),f=r}var v=function(){var _=f;f=[],_.forEach(d)},x=function(){return Promise.resolve().then(v)};x(),r={push:function(_){f.push(_),x()},filter:function(_){return f=f.filter(_),r}}}};return c}function R0(e){e===void 0&&(e={});var t=QP(null);return t.options=er({async:!0,ssr:!1},e),t}var L0=function(e){var t=e.sideCar,r=Zp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return g.createElement(a,er({},r))};L0.isSideCarExport=!0;function A0(e,t){return e.useMedium(t),L0}var D0=R0(),Cm=function(){},jf=g.forwardRef(function(e,t){var r=g.useRef(null),a=g.useState({onScrollCapture:Cm,onWheelCapture:Cm,onTouchMoveCapture:Cm}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,v=e.className,x=e.removeScrollBar,_=e.enabled,b=e.shards,S=e.sideCar,k=e.noIsolation,P=e.inert,j=e.allowPinchZoom,C=e.as,T=C===void 0?"div":C,D=e.gapMode,M=Zp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=S,O=M0([r,t]),q=er(er({},M),c);return g.createElement(g.Fragment,null,_&&g.createElement(I,{sideCar:D0,removeScrollBar:x,shards:b,noIsolation:k,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:r,gapMode:D}),f?g.cloneElement(g.Children.only(p),er(er({},q),{ref:O})):g.createElement(T,er({},q,{className:v,ref:O}),p))});jf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jf.classNames={fullWidth:Hc,zeroRight:Uc};var JP=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function eT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=JP();return t&&e.setAttribute("nonce",t),e}function tT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rT=function(){var e=0,t=null;return{add:function(r){e==0&&(t=eT())&&(tT(t,r),nT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sT=function(){var e=rT();return function(t,r){g.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Gp=function(){var e=sT(),t=function(r){var a=r.styles,c=r.dynamic;return e(a,c),null};return t},oT={left:0,top:0,right:0,gap:0},Pm=function(e){return parseInt(e||"",10)||0},iT=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],c=t[e==="padding"?"paddingRight":"marginRight"];return[Pm(r),Pm(a),Pm(c)]},aT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oT;var t=iT(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},lT=Gp(),yl="data-scroll-locked",cT=function(e,t,r,a){var c=e.left,d=e.top,f=e.right,p=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(ZP,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(p,"px ").concat(a,`;
  }
  body[`).concat(yl,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(f,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(p,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(p,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Uc,` {
    right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(Hc,` {
    margin-right: `).concat(p,"px ").concat(a,`;
  }
  
  .`).concat(Uc," .").concat(Uc,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Hc," .").concat(Hc,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(yl,`] {
    `).concat(GP,": ").concat(p,`px;
  }
`)},Hx=function(){var e=parseInt(document.body.getAttribute(yl)||"0",10);return isFinite(e)?e:0},uT=function(){g.useEffect(function(){return document.body.setAttribute(yl,(Hx()+1).toString()),function(){var e=Hx()-1;e<=0?document.body.removeAttribute(yl):document.body.setAttribute(yl,e.toString())}},[])},I0=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,c=a===void 0?"margin":a;uT();var d=g.useMemo(function(){return aT(c)},[c]);return g.createElement(lT,{styles:cT(d,!t,c,r?"":"!important")})},sp=!1;if(typeof window<"u")try{var Ad=Object.defineProperty({},"passive",{get:function(){return sp=!0,!0}});window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{sp=!1}var ol=sp?{passive:!1}:!1,dT=function(e){return e.tagName==="TEXTAREA"},O0=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!dT(e)&&r[t]==="visible")},fT=function(e){return O0(e,"overflowY")},hT=function(e){return O0(e,"overflowX")},Wx=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=F0(e,a);if(c){var d=$0(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},mT=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},pT=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},F0=function(e,t){return e==="v"?fT(t):hT(t)},$0=function(e,t){return e==="v"?mT(t):pT(t)},gT=function(e,t){return e==="h"&&t==="rtl"?-1:1},vT=function(e,t,r,a,c){var d=gT(e,window.getComputedStyle(t).direction),f=d*a,p=r.target,v=t.contains(p),x=!1,_=f>0,b=0,S=0;do{var k=$0(e,p),P=k[0],j=k[1],C=k[2],T=j-C-d*P;(P||T)&&F0(e,p)&&(b+=T,S+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!v&&p!==document.body||v&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(S)<1)&&(x=!0),x},Dd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vx=function(e){return[e.deltaX,e.deltaY]},qx=function(e){return e&&"current"in e?e.current:e},xT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},yT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wT=0,il=[];function _T(e){var t=g.useRef([]),r=g.useRef([0,0]),a=g.useRef(),c=g.useState(wT++)[0],d=g.useState(Gp)[0],f=g.useRef(e);g.useEffect(function(){f.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=k0([e.lockRef.current],(e.shards||[]).map(qx),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=g.useCallback(function(j,C){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!f.current.allowPinchZoom;var T=Dd(j),D=r.current,M="deltaX"in j?j.deltaX:D[0]-T[0],I="deltaY"in j?j.deltaY:D[1]-T[1],O,q=j.target,H=Math.abs(M)>Math.abs(I)?"h":"v";if("touches"in j&&H==="h"&&q.type==="range")return!1;var te=Wx(H,q);if(!te)return!0;if(te?O=H:(O=H==="v"?"h":"v",te=Wx(H,q)),!te)return!1;if(!a.current&&"changedTouches"in j&&(M||I)&&(a.current=O),!O)return!0;var V=a.current||O;return vT(V,C,j,V==="h"?M:I)},[]),v=g.useCallback(function(j){var C=j;if(!(!il.length||il[il.length-1]!==d)){var T="deltaY"in C?Vx(C):Dd(C),D=t.current.filter(function(O){return O.name===C.type&&(O.target===C.target||C.target===O.shadowParent)&&xT(O.delta,T)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var M=(f.current.shards||[]).map(qx).filter(Boolean).filter(function(O){return O.contains(C.target)}),I=M.length>0?p(C,M[0]):!f.current.noIsolation;I&&C.cancelable&&C.preventDefault()}}},[]),x=g.useCallback(function(j,C,T,D){var M={name:j,delta:C,target:T,should:D,shadowParent:bT(T)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(I){return I!==M})},1)},[]),_=g.useCallback(function(j){r.current=Dd(j),a.current=void 0},[]),b=g.useCallback(function(j){x(j.type,Vx(j),j.target,p(j,e.lockRef.current))},[]),S=g.useCallback(function(j){x(j.type,Dd(j),j.target,p(j,e.lockRef.current))},[]);g.useEffect(function(){return il.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:S}),document.addEventListener("wheel",v,ol),document.addEventListener("touchmove",v,ol),document.addEventListener("touchstart",_,ol),function(){il=il.filter(function(j){return j!==d}),document.removeEventListener("wheel",v,ol),document.removeEventListener("touchmove",v,ol),document.removeEventListener("touchstart",_,ol)}},[]);var k=e.removeScrollBar,P=e.inert;return g.createElement(g.Fragment,null,P?g.createElement(d,{styles:yT(c)}):null,k?g.createElement(I0,{gapMode:e.gapMode}):null)}function bT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const NT=A0(D0,_T);var z0=g.forwardRef(function(e,t){return g.createElement(jf,er({},e,{ref:t,sideCar:NT}))});z0.classNames=jf.classNames;var ST=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},al=new WeakMap,Id=new WeakMap,Od={},Tm=0,B0=function(e){return e&&(e.host||B0(e.parentNode))},jT=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=B0(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ET=function(e,t,r,a){var c=jT(t,Array.isArray(e)?e:[e]);Od[r]||(Od[r]=new WeakMap);var d=Od[r],f=[],p=new Set,v=new Set(c),x=function(b){!b||p.has(b)||(p.add(b),x(b.parentNode))};c.forEach(x);var _=function(b){!b||v.has(b)||Array.prototype.forEach.call(b.children,function(S){if(p.has(S))_(S);else try{var k=S.getAttribute(a),P=k!==null&&k!=="false",j=(al.get(S)||0)+1,C=(d.get(S)||0)+1;al.set(S,j),d.set(S,C),f.push(S),j===1&&P&&Id.set(S,!0),C===1&&S.setAttribute(r,"true"),P||S.setAttribute(a,"true")}catch(T){console.error("aria-hidden: cannot operate on ",S,T)}})};return _(t),p.clear(),Tm++,function(){f.forEach(function(b){var S=al.get(b)-1,k=d.get(b)-1;al.set(b,S),d.set(b,k),S||(Id.has(b)||b.removeAttribute(a),Id.delete(b)),k||b.removeAttribute(r)}),Tm--,Tm||(al=new WeakMap,al=new WeakMap,Id=new WeakMap,Od={})}},U0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),c=ST(e);return c?(a.push.apply(a,Array.from(c.querySelectorAll("[aria-live]"))),ET(a,c,r,"aria-hidden")):function(){return null}},Yp="Dialog",[H0,WL]=AP(Yp),[CT,js]=H0(Yp),W0=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:c,onOpenChange:d,modal:f=!0}=e,p=g.useRef(null),v=g.useRef(null),[x=!1,_]=Wc({prop:a,defaultProp:c,onChange:d});return o.jsx(CT,{scope:t,triggerRef:p,contentRef:v,contentId:vl(),titleId:vl(),descriptionId:vl(),open:x,onOpenChange:_,onOpenToggle:g.useCallback(()=>_(b=>!b),[_]),modal:f,children:r})};W0.displayName=Yp;var V0="DialogTrigger",q0=g.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=js(V0,r),d=Vt(t,c.triggerRef);return o.jsx(Pt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Qp(c.open),...a,ref:d,onClick:lt(e.onClick,c.onOpenToggle)})});q0.displayName=V0;var Kp="DialogPortal",[PT,Z0]=H0(Kp,{forceMount:void 0}),G0=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:c}=e,d=js(Kp,t);return o.jsx(PT,{scope:t,forceMount:r,children:g.Children.map(a,f=>o.jsx(Sf,{present:r||d.open,children:o.jsx(Xw,{asChild:!0,container:c,children:f})}))})};G0.displayName=Kp;var ef="DialogOverlay",Y0=g.forwardRef((e,t)=>{const r=Z0(ef,e.__scopeDialog),{forceMount:a=r.forceMount,...c}=e,d=js(ef,e.__scopeDialog);return d.modal?o.jsx(Sf,{present:a||d.open,children:o.jsx(TT,{...c,ref:t})}):null});Y0.displayName=ef;var TT=g.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=js(ef,r);return o.jsx(z0,{as:da,allowPinchZoom:!0,shards:[c.contentRef],children:o.jsx(Pt.div,{"data-state":Qp(c.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),ha="DialogContent",K0=g.forwardRef((e,t)=>{const r=Z0(ha,e.__scopeDialog),{forceMount:a=r.forceMount,...c}=e,d=js(ha,e.__scopeDialog);return o.jsx(Sf,{present:a||d.open,children:d.modal?o.jsx(kT,{...c,ref:t}):o.jsx(MT,{...c,ref:t})})});K0.displayName=ha;var kT=g.forwardRef((e,t)=>{const r=js(ha,e.__scopeDialog),a=g.useRef(null),c=Vt(t,r.contentRef,a);return g.useEffect(()=>{const d=a.current;if(d)return U0(d)},[]),o.jsx(X0,{...e,ref:c,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(e.onCloseAutoFocus,d=>{var f;d.preventDefault(),(f=r.triggerRef.current)==null||f.focus()}),onPointerDownOutside:lt(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,p=f.button===0&&f.ctrlKey===!0;(f.button===2||p)&&d.preventDefault()}),onFocusOutside:lt(e.onFocusOutside,d=>d.preventDefault())})}),MT=g.forwardRef((e,t)=>{const r=js(ha,e.__scopeDialog),a=g.useRef(!1),c=g.useRef(!1);return o.jsx(X0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var f,p;(f=e.onCloseAutoFocus)==null||f.call(e,d),d.defaultPrevented||(a.current||(p=r.triggerRef.current)==null||p.focus(),d.preventDefault()),a.current=!1,c.current=!1},onInteractOutside:d=>{var v,x;(v=e.onInteractOutside)==null||v.call(e,d),d.defaultPrevented||(a.current=!0,d.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const f=d.target;((x=r.triggerRef.current)==null?void 0:x.contains(f))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&c.current&&d.preventDefault()}})}),X0=g.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:c,onCloseAutoFocus:d,...f}=e,p=js(ha,r),v=g.useRef(null),x=Vt(t,v);return qP(),o.jsxs(o.Fragment,{children:[o.jsx(qp,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:c,onUnmountAutoFocus:d,children:o.jsx(Mp,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":Qp(p.open),...f,ref:x,onDismiss:()=>p.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(RT,{titleId:p.titleId}),o.jsx(AT,{contentRef:v,descriptionId:p.descriptionId})]})]})}),Xp="DialogTitle",Q0=g.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=js(Xp,r);return o.jsx(Pt.h2,{id:c.titleId,...a,ref:t})});Q0.displayName=Xp;var J0="DialogDescription",e_=g.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=js(J0,r);return o.jsx(Pt.p,{id:c.descriptionId,...a,ref:t})});e_.displayName=J0;var t_="DialogClose",n_=g.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,c=js(t_,r);return o.jsx(Pt.button,{type:"button",...a,ref:t,onClick:lt(e.onClick,()=>c.onOpenChange(!1))})});n_.displayName=t_;function Qp(e){return e?"open":"closed"}var r_="DialogTitleWarning",[VL,s_]=LP(r_,{contentName:ha,titleName:Xp,docsSlug:"dialog"}),RT=({titleId:e})=>{const t=s_(r_),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return g.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},LT="DialogDescriptionWarning",AT=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s_(LT).contentName}}.`;return g.useEffect(()=>{var d;const c=(d=e.current)==null?void 0:d.getAttribute("aria-describedby");t&&c&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},DT=W0,IT=q0,OT=G0,o_=Y0,i_=K0,a_=Q0,l_=e_,FT=n_;const Nr=DT,$T=IT,zT=OT,c_=g.forwardRef(({className:e,...t},r)=>o.jsx(o_,{ref:r,className:wt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c_.displayName=o_.displayName;const ur=g.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(zT,{children:[o.jsx(c_,{}),o.jsxs(i_,{ref:a,className:wt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(FT,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(ou,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ur.displayName=i_.displayName;const dr=({className:e,...t})=>o.jsx("div",{className:wt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});dr.displayName="DialogHeader";const ma=({className:e,...t})=>o.jsx("div",{className:wt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ma.displayName="DialogFooter";const fr=g.forwardRef(({className:e,...t},r)=>o.jsx(a_,{ref:r,className:wt("text-lg font-semibold leading-none tracking-tight",e),...t}));fr.displayName=a_.displayName;const Sr=g.forwardRef(({className:e,...t},r)=>o.jsx(l_,{ref:r,className:wt("text-sm text-muted-foreground",e),...t}));Sr.displayName=l_.displayName;function op(e){return new Date(e).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function BT(e){const t=new Date(e),r=new Date,a=t.toLocaleDateString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"}),c=r.toLocaleDateString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return a===c}function UT(){return new Date().toLocaleString("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function u_({employeeId:e,isOpen:t,onClose:r}){var $e;const[a,c]=g.useState([]),[d,f]=g.useState([]),[p,v]=g.useState(!1),[x,_]=g.useState(""),[b,S]=g.useState(1),[k,P]=g.useState(1),[j,C]=g.useState(0),[T,D]=g.useState(null),[M,I]=g.useState(!1),[O,q]=g.useState("all"),H=10;g.useEffect(()=>{t&&(te(),e&&V())},[t,e,b]);const te=async()=>{var J,xe,U,fe;v(!0);try{const oe=new URLSearchParams({page:b.toString(),limit:H.toString()});e&&oe.append("employeeId",e),console.log("Fetching meeting history for employee:",e);const F=await pt.get(`/api/meeting-history?${oe.toString()}`);if(F.ok){const Q=await F.json();console.log("Meeting history data received:",Q),console.log("Number of meetings:",((J=Q.meetings)==null?void 0:J.length)||0),((xe=Q.meetings)==null?void 0:xe.length)>0&&(console.log("First meeting details:",Q.meetings[0]),console.log("First meeting's meetingDetails:",Q.meetings[0].meetingDetails),console.log("Customer name:",(U=Q.meetings[0].meetingDetails)==null?void 0:U.customerName),console.log("Customer employee name:",(fe=Q.meetings[0].meetingDetails)==null?void 0:fe.customerEmployeeName)),c(Q.meetings||[]),C(Q.total||0),P(Q.totalPages||1)}else console.error("Failed to fetch meeting history:",F.status,F.statusText)}catch(oe){console.error("Error fetching meeting history:",oe),c([]),C(0),P(1)}finally{v(!1)}},V=async()=>{try{if(!e)return;console.log("Fetching incomplete meeting remarks for employee:",e);const J=await pt.get(`/api/incomplete-meeting-remarks?employeeId=${e}`);if(J.ok){const xe=await J.json();console.log("Incomplete meeting remarks data received:",xe),f(xe.meetings||[])}else console.error("Failed to fetch incomplete meeting remarks:",J.status,J.statusText),f([])}catch(J){console.error("Error fetching incomplete meeting remarks:",J),f([])}},Y=a.filter(J=>{var fe,oe,F,Q,Se;if(!x)return!0;const xe=x.toLowerCase(),U=J.meetingDetails;return((fe=U.customerName)==null?void 0:fe.toLowerCase().includes(xe))||((oe=U.customerEmployeeName)==null?void 0:oe.toLowerCase().includes(xe))||((F=U.customerEmail)==null?void 0:F.toLowerCase().includes(xe))||((Q=U.customerDepartment)==null?void 0:Q.toLowerCase().includes(xe))||((Se=U.customerDesignation)==null?void 0:Se.toLowerCase().includes(xe))||U.discussion.toLowerCase().includes(xe)}),ee=J=>{D(J),I(!0)},he=J=>op(J),De=()=>{b>1&&S(b-1)},de=()=>{b<k&&S(b+1)};return o.jsxs(o.Fragment,{children:[o.jsx(Nr,{open:t,onOpenChange:r,children:o.jsxs(ur,{className:"sm:max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[o.jsxs(dr,{children:[o.jsxs(fr,{className:"flex items-center space-x-2",children:[o.jsx(dw,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Meeting History"}),O==="all"&&j>0&&o.jsxs(Rt,{variant:"secondary",className:"ml-2",children:[j," meetings"]}),O==="incomplete"&&d.length>0&&o.jsxs(Rt,{variant:"destructive",className:"ml-2",children:[d.length," incomplete"]})]}),o.jsx(Sr,{children:O==="all"?"View completed meetings with customer details and discussion notes.":"View incomplete meeting remarks from your logout sessions."})]}),o.jsxs("div",{className:"flex space-x-2 border-b",children:[o.jsxs(Ee,{variant:O==="all"?"default":"ghost",size:"sm",onClick:()=>q("all"),className:"px-4",children:["All Meetings (",j,")"]}),o.jsxs(Ee,{variant:O==="incomplete"?"default":"ghost",size:"sm",onClick:()=>q("incomplete"),className:"px-4",children:["Incomplete Remarks (",d.length,")"]})]}),o.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col space-y-4",children:[O==="all"&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(vn,{placeholder:"Search meetings by customer, discussion...",value:x,onChange:J=>_(J.target.value),className:"pl-10"})]}),o.jsxs(Ee,{variant:"outline",size:"sm",children:[o.jsx(fw,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:O==="all"?o.jsx(o.Fragment,{children:p?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"})}):Y.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:x?"No meetings found matching your search.":"No meeting history available."}):o.jsx("div",{className:"space-y-3",children:Y.map(J=>{var xe;return o.jsx(gt,{className:"border-l-4 border-l-primary cursor-pointer hover:shadow-md transition-shadow",onClick:()=>ee(J),children:o.jsx(vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(is,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:he(J.timestamp)})]}),J.leadInfo&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rx,{className:"h-4 w-4 text-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-blue-600",children:["Lead: ",((xe=J.leadInfo)==null?void 0:xe.id)||null]})]}),J.meetingDetails.customers&&J.meetingDetails.customers.length>0?o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gm,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm font-medium",children:["Customers (",J.meetingDetails.customers.length,")"]})]}),J.meetingDetails.customers.map((U,fe)=>o.jsxs("div",{className:"ml-6 text-sm",children:[o.jsx("div",{className:"font-medium",children:U.customerName}),o.jsxs("div",{className:"text-muted-foreground",children:["Contact: ",U.customerEmployeeName,U.customerDesignation&&o.jsxs("span",{children:[" (",U.customerDesignation,")"]})]})]},fe))]}):o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gm,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:J.meetingDetails.customerName||"Unknown Company"})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[o.jsx(mf,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm",children:[J.meetingDetails.customerEmployeeName||"No contact person",J.meetingDetails.customerDesignation&&o.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",J.meetingDetails.customerDesignation,")"]})]})]})]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Tp,{className:"h-4 w-4 text-muted-foreground mt-0.5"}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:J.meetingDetails.discussion})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:J.meetingDetails.customers&&J.meetingDetails.customers.length>0?J.meetingDetails.customers.map((U,fe)=>o.jsxs("div",{className:"flex flex-wrap gap-1",children:[U.customerEmail&&o.jsxs(Rt,{variant:"outline",className:"text-xs",children:[o.jsx(pi,{className:"h-3 w-3 mr-1"}),U.customerEmail]}),U.customerMobile&&o.jsxs(Rt,{variant:"outline",className:"text-xs",children:[o.jsx(gi,{className:"h-3 w-3 mr-1"}),U.customerMobile]}),U.customerDepartment&&o.jsx(Rt,{variant:"secondary",className:"text-xs",children:U.customerDepartment})]},fe)):o.jsxs(o.Fragment,{children:[J.meetingDetails.customerEmail&&o.jsxs(Rt,{variant:"outline",className:"text-xs",children:[o.jsx(pi,{className:"h-3 w-3 mr-1"}),J.meetingDetails.customerEmail]}),J.meetingDetails.customerMobile&&o.jsxs(Rt,{variant:"outline",className:"text-xs",children:[o.jsx(gi,{className:"h-3 w-3 mr-1"}),J.meetingDetails.customerMobile]}),J.meetingDetails.customerDepartment&&o.jsx(Rt,{variant:"secondary",className:"text-xs",children:J.meetingDetails.customerDepartment})]})})]}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>ee(J),children:"View Details"})]})})},J.id)})})}):o.jsx(o.Fragment,{children:d.length===0?o.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No incomplete meeting remarks available."}):o.jsx("div",{className:"space-y-3",children:d.map(J=>o.jsx(gt,{className:"border-l-4 border-l-destructive cursor-pointer hover:shadow-md transition-shadow",onClick:()=>ee(J),children:o.jsx(vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(is,{className:"h-4 w-4 text-destructive"}),o.jsx("span",{className:"text-sm font-medium text-destructive",children:he(J.timestamp)})]}),J.meetingDetails.customers&&J.meetingDetails.customers.length>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gm,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{className:"text-sm font-medium",children:J.meetingDetails.customers[0].customerName})]}),J.meetingDetails.customers[0].customerEmployeeName&&o.jsxs("div",{className:"text-sm text-muted-foreground ml-6",children:["Contact: ",J.meetingDetails.customers[0].customerEmployeeName]})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(Nn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Reason:"}),o.jsx("p",{className:"text-sm line-clamp-2",children:J.meetingDetails.incompleteReason||J.meetingDetails.discussion})]})]})]}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>ee(J),children:"View"})]})})},J.id))})})}),O==="all"&&k>1&&o.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(b-1)*H+1," to"," ",Math.min(b*H,j)," of ",j," ","meetings"]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:De,disabled:b<=1,children:[o.jsx(aw,{className:"h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm",children:["Page ",b," of ",k]}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:de,disabled:b>=k,children:["Next",o.jsx(lw,{className:"h-4 w-4"})]})]})]})]})]})}),T&&o.jsx(Nr,{open:M,onOpenChange:I,children:o.jsxs(ur,{className:"sm:max-w-md",children:[o.jsxs(dr,{children:[o.jsx(fr,{children:"Meeting Details"}),o.jsx(Sr,{children:he(T.timestamp)})]}),o.jsxs("div",{className:"space-y-4",children:[T.meetingDetails.customers&&T.meetingDetails.customers.length>0?o.jsxs("div",{children:[o.jsxs("label",{className:"text-sm font-medium text-muted-foreground",children:["Customer Contacts (",T.meetingDetails.customers.length,")"]}),o.jsx("div",{className:"space-y-3 mt-2",children:T.meetingDetails.customers.map((J,xe)=>o.jsxs("div",{className:"p-3 bg-muted/20 rounded-md space-y-2",children:[o.jsx("div",{children:o.jsx("span",{className:"text-sm font-medium",children:J.customerName})}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("p",{children:J.customerEmployeeName})]}),J.customerDesignation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Position:"}),o.jsx("p",{children:J.customerDesignation})]}),J.customerDepartment&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("p",{children:J.customerDepartment})]}),J.customerEmail&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("p",{children:J.customerEmail})]}),J.customerMobile&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),o.jsx("p",{children:J.customerMobile})]})]})]},xe))})]}):o.jsxs(o.Fragment,{children:[T.meetingDetails.customerName&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Customer Name"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerName})]}),T.meetingDetails.customerEmployeeName&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Contact Person"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerEmployeeName})]}),T.meetingDetails.customerEmail&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerEmail})]}),T.meetingDetails.customerMobile&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Mobile"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerMobile})]}),T.meetingDetails.customerDesignation&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Designation"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerDesignation})]}),T.meetingDetails.customerDepartment&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),o.jsx("p",{className:"text-sm",children:T.meetingDetails.customerDepartment})]})]}),T.leadInfo&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Associated Lead"}),o.jsxs("div",{className:"p-3 bg-blue-50 rounded-md mt-2 space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rx,{className:"h-4 w-4 text-blue-500"}),o.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Lead ID: ",(($e=T.leadInfo)==null?void 0:$e.id)||null]})]}),o.jsxs("div",{className:"text-sm text-blue-600",children:["Company: ",T.leadInfo.companyName]}),o.jsxs("div",{className:"text-sm text-blue-600",children:["Contact: ",T.leadInfo.contactName]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Discussion"}),o.jsx("p",{className:"text-sm bg-muted/50 p-3 rounded-md mt-1",children:T.meetingDetails.discussion})]})]}),o.jsx("div",{className:"flex justify-end",children:o.jsx(Ee,{variant:"outline",onClick:()=>I(!1),children:"Close"})})]})})]})}function HT({onInstall:e,onDismiss:t}){const[r,a]=g.useState(null),[c,d]=g.useState(!1),[f,p]=g.useState(!1),[v,x]=g.useState(!1),[_,b]=g.useState(!1);g.useEffect(()=>{const P=window.matchMedia("(display-mode: standalone)").matches,j=/iPad|iPhone|iPod/.test(navigator.userAgent);b(P),x(j),p(P);const C=D=>{console.log("PWA install prompt available"),D.preventDefault(),a(D),d(!0)},T=()=>{console.log("PWA was installed"),p(!0),d(!1),a(null),e==null||e()};if(window.addEventListener("beforeinstallprompt",C),window.addEventListener("appinstalled",T),j&&!P){const D=setTimeout(()=>{d(!0)},2e3);return()=>clearTimeout(D)}return()=>{window.removeEventListener("beforeinstallprompt",C),window.removeEventListener("appinstalled",T)}},[e]);const S=async()=>{!r&&!v||r&&(r.prompt(),(await r.userChoice).outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),a(null),d(!1))},k=()=>{d(!1),t==null||t()};return f||!c?null:o.jsxs(gt,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-accent/5",children:[o.jsx(Ft,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs($t,{className:"flex items-center space-x-2 text-lg",children:[o.jsx(tS,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Install Fusion Tracker"}),o.jsx(Rt,{variant:"secondary",className:"bg-primary text-primary-foreground",children:"Recommended"})]}),o.jsx(Ee,{variant:"ghost",size:"sm",onClick:k,children:o.jsx(ou,{className:"h-4 w-4"})})]})}),o.jsxs(vt,{className:"space-y-4",children:[o.jsx("div",{className:"text-sm text-muted-foreground",children:"Install this app on your device for enhanced location tracking capabilities"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Hd,{className:"h-4 w-4 text-success"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Better Background Tracking"})," - Works when phone is in pocket"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(yo,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Improved GPS Accuracy"})," - More precise location updates"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(rs,{className:"h-4 w-4 text-info"}),o.jsxs("span",{children:[o.jsx("strong",{children:"App-like Experience"})," - Faster loading and better performance"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(KN,{className:"h-4 w-4 text-accent"}),o.jsxs("span",{children:[o.jsx("strong",{children:"Offline Support"})," - Basic functionality without internet"]})]})]}),v?o.jsxs("div",{className:"bg-info/10 border border-info/20 rounded-lg p-3",children:[o.jsx("div",{className:"text-sm font-medium text-info mb-2",children:"iOS Installation:"}),o.jsxs("ol",{className:"text-xs text-muted-foreground space-y-1 list-decimal list-inside",children:[o.jsxs("li",{children:["Tap the ",o.jsx("strong",{children:"Share"})," button (square with arrow) in Safari"]}),o.jsxs("li",{children:["Scroll down and tap ",o.jsx("strong",{children:'"Add to Home Screen"'})]}),o.jsxs("li",{children:["Tap ",o.jsx("strong",{children:'"Add"'})," to install the app"]}),o.jsx("li",{children:"Find the app on your home screen and open it"})]})]}):o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Ee,{onClick:S,className:"flex-1",disabled:!r,children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),"Install App"]}),o.jsx(Ee,{variant:"outline",onClick:k,children:"Not Now"})]}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx("strong",{children:"Note:"})," Installing as a PWA provides native app-like capabilities while maintaining all web features. No app store required."]})]})]})}function WT(){const[e,t]=g.useState(!1),[r,a]=g.useState(!1);return g.useEffect(()=>{const c=window.matchMedia("(display-mode: standalone)").matches,d=/iPad|iPhone|iPod/.test(navigator.userAgent);a(c);const f=v=>{t(!0)},p=()=>{a(!0),t(!1)};return window.addEventListener("beforeinstallprompt",f),window.addEventListener("appinstalled",p),d&&!c&&t(!0),()=>{window.removeEventListener("beforeinstallprompt",f),window.removeEventListener("appinstalled",p)}},[]),{canInstall:e,isInstalled:r}}function jr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function _i(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function VT(e,t){const r=jr(e);return isNaN(t)?_i(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const d_=6048e5,qT=864e5,f_=6e4,h_=36e5;let ZT={};function Ef(){return ZT}function Qc(e,t){var p,v,x,_;const r=Ef(),a=(t==null?void 0:t.weekStartsOn)??((v=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((_=(x=r.locale)==null?void 0:x.options)==null?void 0:_.weekStartsOn)??0,c=jr(e),d=c.getDay(),f=(d<a?7:0)+d-a;return c.setDate(c.getDate()-f),c.setHours(0,0,0,0),c}function tf(e){return Qc(e,{weekStartsOn:1})}function m_(e){const t=jr(e),r=t.getFullYear(),a=_i(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const c=tf(a),d=_i(e,0);d.setFullYear(r,0,4),d.setHours(0,0,0,0);const f=tf(d);return t.getTime()>=c.getTime()?r+1:t.getTime()>=f.getTime()?r:r-1}function Zx(e){const t=jr(e);return t.setHours(0,0,0,0),t}function Gx(e){const t=jr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function GT(e,t){const r=Zx(e),a=Zx(t),c=+r-Gx(r),d=+a-Gx(a);return Math.round((c-d)/qT)}function YT(e){const t=m_(e),r=_i(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),tf(r)}function KT(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function XT(e){if(!KT(e)&&typeof e!="number")return!1;const t=jr(e);return!isNaN(Number(t))}function QT(e){const t=jr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function JT(e){const t=jr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function e2(e){const t=jr(e),r=_i(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const t2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n2=(e,t,r)=>{let a;const c=t2[e];return typeof c=="string"?a=c:t===1?a=c.one:a=c.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function km(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const r2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},s2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i2={date:km({formats:r2,defaultWidth:"full"}),time:km({formats:s2,defaultWidth:"full"}),dateTime:km({formats:o2,defaultWidth:"full"})},a2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},l2=(e,t,r,a)=>a2[e];function Rc(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let c;if(a==="formatting"&&e.formattingValues){const f=e.defaultFormattingWidth||e.defaultWidth,p=r!=null&&r.width?String(r.width):f;c=e.formattingValues[p]||e.formattingValues[f]}else{const f=e.defaultWidth,p=r!=null&&r.width?String(r.width):e.defaultWidth;c=e.values[p]||e.values[f]}const d=e.argumentCallback?e.argumentCallback(t):t;return c[d]}}const c2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},u2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},d2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},f2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},h2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},m2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},p2=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},g2={ordinalNumber:p2,era:Rc({values:c2,defaultWidth:"wide"}),quarter:Rc({values:u2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Rc({values:d2,defaultWidth:"wide"}),day:Rc({values:f2,defaultWidth:"wide"}),dayPeriod:Rc({values:h2,defaultWidth:"wide",formattingValues:m2,defaultFormattingWidth:"wide"})};function Lc(e){return(t,r={})=>{const a=r.width,c=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],d=t.match(c);if(!d)return null;const f=d[0],p=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],v=Array.isArray(p)?x2(p,b=>b.test(f)):v2(p,b=>b.test(f));let x;x=e.valueCallback?e.valueCallback(v):v,x=r.valueCallback?r.valueCallback(x):x;const _=t.slice(f.length);return{value:x,rest:_}}}function v2(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function x2(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function y2(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const c=a[0],d=t.match(e.parsePattern);if(!d)return null;let f=e.valueCallback?e.valueCallback(d[0]):d[0];f=r.valueCallback?r.valueCallback(f):f;const p=t.slice(c.length);return{value:f,rest:p}}}const w2=/^(\d+)(th|st|nd|rd)?/i,_2=/\d+/i,b2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},N2={any:[/^b/i,/^(a|c)/i]},S2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},j2={any:[/1/i,/2/i,/3/i,/4/i]},E2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},C2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},T2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},k2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},R2={ordinalNumber:y2({matchPattern:w2,parsePattern:_2,valueCallback:e=>parseInt(e,10)}),era:Lc({matchPatterns:b2,defaultMatchWidth:"wide",parsePatterns:N2,defaultParseWidth:"any"}),quarter:Lc({matchPatterns:S2,defaultMatchWidth:"wide",parsePatterns:j2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Lc({matchPatterns:E2,defaultMatchWidth:"wide",parsePatterns:C2,defaultParseWidth:"any"}),day:Lc({matchPatterns:P2,defaultMatchWidth:"wide",parsePatterns:T2,defaultParseWidth:"any"}),dayPeriod:Lc({matchPatterns:k2,defaultMatchWidth:"any",parsePatterns:M2,defaultParseWidth:"any"})},L2={code:"en-US",formatDistance:n2,formatLong:i2,formatRelative:l2,localize:g2,match:R2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function A2(e){const t=jr(e);return GT(t,e2(t))+1}function D2(e){const t=jr(e),r=+tf(t)-+YT(t);return Math.round(r/d_)+1}function p_(e,t){var _,b,S,k;const r=jr(e),a=r.getFullYear(),c=Ef(),d=(t==null?void 0:t.firstWeekContainsDate)??((b=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??c.firstWeekContainsDate??((k=(S=c.locale)==null?void 0:S.options)==null?void 0:k.firstWeekContainsDate)??1,f=_i(e,0);f.setFullYear(a+1,0,d),f.setHours(0,0,0,0);const p=Qc(f,t),v=_i(e,0);v.setFullYear(a,0,d),v.setHours(0,0,0,0);const x=Qc(v,t);return r.getTime()>=p.getTime()?a+1:r.getTime()>=x.getTime()?a:a-1}function I2(e,t){var p,v,x,_;const r=Ef(),a=(t==null?void 0:t.firstWeekContainsDate)??((v=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(x=r.locale)==null?void 0:x.options)==null?void 0:_.firstWeekContainsDate)??1,c=p_(e,t),d=_i(e,0);return d.setFullYear(c,0,a),d.setHours(0,0,0,0),Qc(d,t)}function O2(e,t){const r=jr(e),a=+Qc(r,t)-+I2(r,t);return Math.round(a/d_)+1}function rn(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const si={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return rn(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):rn(r+1,2)},d(e,t){return rn(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return rn(e.getHours()%12||12,t.length)},H(e,t){return rn(e.getHours(),t.length)},m(e,t){return rn(e.getMinutes(),t.length)},s(e,t){return rn(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),c=Math.trunc(a*Math.pow(10,r-3));return rn(c,t.length)}},ll={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yx={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),c=a>0?a:1-a;return r.ordinalNumber(c,{unit:"year"})}return si.y(e,t)},Y:function(e,t,r,a){const c=p_(e,a),d=c>0?c:1-c;if(t==="YY"){const f=d%100;return rn(f,2)}return t==="Yo"?r.ordinalNumber(d,{unit:"year"}):rn(d,t.length)},R:function(e,t){const r=m_(e);return rn(r,t.length)},u:function(e,t){const r=e.getFullYear();return rn(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return rn(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return rn(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return si.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return rn(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const c=O2(e,a);return t==="wo"?r.ordinalNumber(c,{unit:"week"}):rn(c,t.length)},I:function(e,t,r){const a=D2(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):rn(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):si.d(e,t)},D:function(e,t,r){const a=A2(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):rn(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(d);case"ee":return rn(d,2);case"eo":return r.ordinalNumber(d,{unit:"day"});case"eee":return r.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(c,{width:"short",context:"formatting"});case"eeee":default:return r.day(c,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const c=e.getDay(),d=(c-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(d);case"cc":return rn(d,t.length);case"co":return r.ordinalNumber(d,{unit:"day"});case"ccc":return r.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(c,{width:"narrow",context:"standalone"});case"cccccc":return r.day(c,{width:"short",context:"standalone"});case"cccc":default:return r.day(c,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),c=a===0?7:a;switch(t){case"i":return String(c);case"ii":return rn(c,t.length);case"io":return r.ordinalNumber(c,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const c=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let c;switch(a===12?c=ll.noon:a===0?c=ll.midnight:c=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let c;switch(a>=17?c=ll.evening:a>=12?c=ll.afternoon:a>=4?c=ll.morning:c=ll.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return si.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):si.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):rn(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):rn(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):si.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):si.s(e,t)},S:function(e,t){return si.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Xx(a);case"XXXX":case"XX":return Qi(a);case"XXXXX":case"XXX":default:return Qi(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return Xx(a);case"xxxx":case"xx":return Qi(a);case"xxxxx":case"xxx":default:return Qi(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Kx(a,":");case"OOOO":default:return"GMT"+Qi(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Kx(a,":");case"zzzz":default:return"GMT"+Qi(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return rn(a,t.length)},T:function(e,t,r){const a=e.getTime();return rn(a,t.length)}};function Kx(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),c=Math.trunc(a/60),d=a%60;return d===0?r+String(c):r+String(c)+t+rn(d,2)}function Xx(e,t){return e%60===0?(e>0?"-":"+")+rn(Math.abs(e)/60,2):Qi(e,t)}function Qi(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),c=rn(Math.trunc(a/60),2),d=rn(a%60,2);return r+c+t+d}const Qx=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},g_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},F2=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],c=r[2];if(!c)return Qx(e,t);let d;switch(a){case"P":d=t.dateTime({width:"short"});break;case"PP":d=t.dateTime({width:"medium"});break;case"PPP":d=t.dateTime({width:"long"});break;case"PPPP":default:d=t.dateTime({width:"full"});break}return d.replace("{{date}}",Qx(a,t)).replace("{{time}}",g_(c,t))},$2={p:g_,P:F2},z2=/^D+$/,B2=/^Y+$/,U2=["D","DD","YY","YYYY"];function H2(e){return z2.test(e)}function W2(e){return B2.test(e)}function V2(e,t,r){const a=q2(e,t,r);if(console.warn(a),U2.includes(e))throw new RangeError(a)}function q2(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Z2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,G2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Y2=/^'([^]*?)'?$/,K2=/''/g,X2=/[a-zA-Z]/;function pn(e,t,r){var _,b,S,k;const a=Ef(),c=a.locale??L2,d=a.firstWeekContainsDate??((b=(_=a.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,f=a.weekStartsOn??((k=(S=a.locale)==null?void 0:S.options)==null?void 0:k.weekStartsOn)??0,p=jr(e);if(!XT(p))throw new RangeError("Invalid time value");let v=t.match(G2).map(P=>{const j=P[0];if(j==="p"||j==="P"){const C=$2[j];return C(P,c.formatLong)}return P}).join("").match(Z2).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const j=P[0];if(j==="'")return{isToken:!1,value:Q2(P)};if(Yx[j])return{isToken:!0,value:P};if(j.match(X2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:P}});c.localize.preprocessor&&(v=c.localize.preprocessor(p,v));const x={firstWeekContainsDate:d,weekStartsOn:f,locale:c};return v.map(P=>{if(!P.isToken)return P.value;const j=P.value;(W2(j)||H2(j))&&V2(j,t,String(e));const C=Yx[j[0]];return C(p,j,c.localize,x)}).join("")}function Q2(e){const t=e.match(Y2);return t?t[1].replace(K2,"'"):e}function Jx(e,t){return VT(e,-t)}function J2(e,t){const a=rk(e);let c;if(a.date){const v=sk(a.date,2);c=ok(v.restDateString,v.year)}if(!c||isNaN(c.getTime()))return new Date(NaN);const d=c.getTime();let f=0,p;if(a.time&&(f=ik(a.time),isNaN(f)))return new Date(NaN);if(a.timezone){if(p=ak(a.timezone),isNaN(p))return new Date(NaN)}else{const v=new Date(d+f),x=new Date(0);return x.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),x.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),x}return new Date(d+f+p)}const Fd={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ek=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tk=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nk=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rk(e){const t={},r=e.split(Fd.dateTimeDelimiter);let a;if(r.length>2)return t;if(/:/.test(r[0])?a=r[0]:(t.date=r[0],a=r[1],Fd.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Fd.timeZoneDelimiter)[0],a=e.substr(t.date.length,e.length))),a){const c=Fd.timezone.exec(a);c?(t.time=a.replace(c[1],""),t.timezone=c[1]):t.time=a}return t}function sk(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};const c=a[1]?parseInt(a[1]):null,d=a[2]?parseInt(a[2]):null;return{year:d===null?c:d*100,restDateString:e.slice((a[1]||a[2]).length)}}function ok(e,t){if(t===null)return new Date(NaN);const r=e.match(ek);if(!r)return new Date(NaN);const a=!!r[4],c=Ac(r[1]),d=Ac(r[2])-1,f=Ac(r[3]),p=Ac(r[4]),v=Ac(r[5])-1;if(a)return fk(t,p,v)?lk(t,p,v):new Date(NaN);{const x=new Date(0);return!uk(t,d,f)||!dk(t,c)?new Date(NaN):(x.setUTCFullYear(t,d,Math.max(c,f)),x)}}function Ac(e){return e?parseInt(e):1}function ik(e){const t=e.match(tk);if(!t)return NaN;const r=Mm(t[1]),a=Mm(t[2]),c=Mm(t[3]);return hk(r,a,c)?r*h_+a*f_+c*1e3:NaN}function Mm(e){return e&&parseFloat(e.replace(",","."))||0}function ak(e){if(e==="Z")return 0;const t=e.match(nk);if(!t)return 0;const r=t[1]==="+"?-1:1,a=parseInt(t[2]),c=t[3]&&parseInt(t[3])||0;return mk(a,c)?r*(a*h_+c*f_):NaN}function lk(e,t,r){const a=new Date(0);a.setUTCFullYear(e,0,4);const c=a.getUTCDay()||7,d=(t-1)*7+r+1-c;return a.setUTCDate(a.getUTCDate()+d),a}const ck=[31,null,31,30,31,30,31,31,30,31,30,31];function v_(e){return e%400===0||e%4===0&&e%100!==0}function uk(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(ck[t]||(v_(e)?29:28))}function dk(e,t){return t>=1&&t<=(v_(e)?366:365)}function fk(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function hk(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function mk(e,t){return t>=0&&t<=59}function x_({userId:e,onStartMeeting:t,startedMeetingMap:r,onEndMeetingFromFollowUp:a,onMeetingsFetched:c,refreshTrigger:d,hasActiveMeeting:f=!1,todaysFollowUpMeetings:p}){const[v,x]=g.useState([]),[_,b]=g.useState(!0),[S,k]=g.useState(null),[P,j]=g.useState(null),{toast:C}=bo(),T=p||v;g.useEffect(()=>{if(r&&Object.keys(r).length>0){const[V]=Object.keys(r);j(V||null)}else f||j(null)},[r,f]),g.useEffect(()=>{D();const V=setInterval(D,6e4);return()=>clearInterval(V)},[e]),g.useEffect(()=>{d!==void 0&&d>0&&(console.log(" Refresh trigger changed, fetching meetings and clearing local state"),D(),j(null))},[d]);const D=async()=>{if(!e){k("User ID is required"),b(!1);return}try{k(null),console.log("Fetching meetings for user:",e);const ee=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${e}`,he=await fetch(ee);if(!he.ok)throw new Error(`Failed to fetch meetings: ${he.status}`);const De=await he.json();console.log("All meetings fetched:",De.length);const de=De.filter(J=>{const xe=J.followupDate||J.date;if(!xe)return!1;try{const U=J2(xe);return BT(U.toISOString())&&J.status==="Approved"}catch{return console.warn("Invalid date format for meeting:",J._id),!1}});console.log("Today's approved meetings:",de.length),de.forEach(J=>{console.log(` Meeting ${J.companyName}: status="${J.meetingStatus}"`)});const $e=de.filter(J=>I(J));$e.length>0?(console.log(" Found active meetings from API after refresh:",$e.map(J=>({id:J._id,company:J.companyName,status:J.meetingStatus}))),j($e[0]._id)):console.log(" No active meetings found in API. Checking startedMeetingMap..."),p||x(de),c&&c(de)}catch(V){console.error("Error fetching meetings:",V),k(V instanceof Error?V.message:"Failed to fetch meetings")}finally{b(!1)}};console.log("Todays meeting");const M=V=>{var Y;return((Y=V.status)==null?void 0:Y.toLowerCase())==="completed"?!0:V.meetingStatus==="complete"||V.meetingStatus==="Completed"||V.meetingStatus==="COMPLETED"},I=V=>V.meetingStatus==="In Progress"||V.meetingStatus==="IN_PROGRESS"||V.meetingStatus==="Started"||V.meetingStatus==="meeting on-going",O=f||!!P||r&&Object.keys(r).length>0||T.some(V=>I(V)),q=V=>{if(console.log(" Today's Meeting: Attempting to start meeting:",V.companyName),console.log(" Has active meeting?",f),console.log(" Local active followUpId:",P),O){console.log(" BLOCKED: Cannot start - active meeting exists"),C({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting, starting and marking as local active..."),j(V._id),t(V)},H=V=>{switch(V){case"Approved":return"bg-success text-success-foreground";case"Pending":return"bg-warning text-warning-foreground";case"Rejected":return"bg-destructive text-destructive-foreground";default:return"bg-muted text-muted-foreground"}},te=V=>{switch(V){case"Call":return o.jsx(gi,{className:"h-4 w-4"});case"Email":return o.jsx(pi,{className:"h-4 w-4"});case"Meeting":return o.jsx(is,{className:"h-4 w-4"});default:return o.jsx(Nn,{className:"h-4 w-4"})}};return _?o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsxs($t,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsxs(Rt,{variant:"secondary",children:[o.jsx(Tl,{className:"h-3 w-3 animate-spin mr-1"}),"Loading..."]})]})}),o.jsx(vt,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Tl,{className:"h-8 w-8 animate-spin mx-auto text-muted-foreground"}),o.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Fetching today's approved meetings..."})]})})]}):S?o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsxs($t,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsx(Rt,{variant:"destructive",children:"Error"})]})}),o.jsx(vt,{children:o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nn,{className:"h-8 w-8 mx-auto text-destructive mb-2"}),o.jsx("p",{className:"text-sm text-destructive",children:S}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:D,className:"mt-4",children:"Retry"})]})})]}):o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsxs($t,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Today's Approved Meetings"}),o.jsxs(Rt,{variant:"secondary",children:[T.length," ",T.length===1?"meeting":"meetings"]})]})}),o.jsx(vt,{className:"p-0",children:T.length===0?o.jsxs("div",{className:"text-center py-8 px-4",children:[o.jsx(is,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),o.jsx("h4",{className:"font-medium mb-1",children:"No approved meetings for today"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Only approved meetings are shown here."})]}):o.jsx("div",{className:"divide-y max-h-[600px] overflow-y-auto",children:T.map(V=>{r&&r[V._id];const Y=P===V._id,he=I(V)||Y;return o.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[te(V.type),o.jsx("span",{className:"font-medium",children:V.type})]}),o.jsx(Rt,{className:H(V.status),variant:"secondary",children:V.status}),V.meetingTime&&o.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[o.jsx($n,{className:"h-3 w-3"}),V.meetingTime]})]}),o.jsxs("div",{className:"space-y-1",children:[V.companyName&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(hf,{className:"h-3 w-3"}),o.jsx("span",{className:"font-medium",children:V.companyName})]}),V.customerName&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(mf,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{className:"text-muted-foreground",children:V.customerName}),V.customerDesignation&&o.jsxs("span",{className:"text-muted-foreground",children:[" ",V.customerDesignation]})]}),V.customerMobile&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(gi,{className:"h-3 w-3"}),V.customerMobile]}),V.customerEmail&&o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(pi,{className:"h-3 w-3"}),V.customerEmail]}),V.remark&&o.jsxs("div",{className:"text-sm text-muted-foreground mt-2 p-2 bg-muted/50 rounded",children:[o.jsx("span",{className:"font-medium",children:"Note: "}),V.remark]})]})]}),V.meetingStatus==="Incomplete"||!1?o.jsxs(Ee,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 border-orange-500 text-orange-600",title:"Meeting marked as incomplete",children:[o.jsx(Nn,{className:"h-4 w-4 mr-2"}),"Incomplete"]}):M(V)?o.jsxs(Ee,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0",children:[o.jsx(rs,{className:"h-4 w-4 mr-2"}),"Complete"]}):he?o.jsxs(Ee,{size:"sm",variant:"destructive",onClick:()=>{console.log(" End Meeting clicked for:",V._id),console.log(" startedMeetingMap:",r);const de=r==null?void 0:r[V._id];a&&de?(console.log(" Calling onEndMeetingFromFollowUp with:",V._id,de),a(V._id,de)):(console.warn(" Cannot end meeting - missing handler or meetingId:",{hasHandler:!!a,meetingId:de,followUpId:V._id}),a&&a(V._id,""))},className:"flex-shrink-0",children:[o.jsx($n,{className:"h-4 w-4 mr-2"}),"End Meeting"]}):O?o.jsxs(Ee,{size:"sm",variant:"outline",disabled:!0,className:"flex-shrink-0 opacity-50 cursor-not-allowed",title:"Complete your current meeting first",children:[o.jsx(tx,{className:"h-4 w-4 mr-2"}),"Meeting Active"]}):o.jsxs(Ee,{size:"sm",onClick:()=>q(V),className:"flex-shrink-0",children:[o.jsx(tx,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})},V._id)})})})]})}var pk="Label",y_=g.forwardRef((e,t)=>o.jsx(Pt.label,{...e,ref:t,onMouseDown:r=>{var c;r.target.closest("button, input, select, textarea")||((c=e.onMouseDown)==null||c.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));y_.displayName=pk;var w_=y_;const gk=ru("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wt=g.forwardRef(({className:e,...t},r)=>o.jsx(w_,{ref:r,className:wt(gk(),e),...t}));Wt.displayName=w_.displayName;const bi=g.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:wt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));bi.displayName="Textarea";function ip(e,[t,r]){return Math.min(r,Math.max(t,e))}var vk=g.createContext(void 0);function __(e){const t=g.useContext(vk);return e||t||"ltr"}var xk="DismissableLayer",ap="dismissableLayer.update",yk="dismissableLayer.pointerDownOutside",wk="dismissableLayer.focusOutside",ey,b_=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),N_=g.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:f,onDismiss:p,...v}=e,x=g.useContext(b_),[_,b]=g.useState(null),S=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=g.useState({}),P=Vt(t,H=>b(H)),j=Array.from(x.layers),[C]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),T=j.indexOf(C),D=_?j.indexOf(_):-1,M=x.layersWithOutsidePointerEventsDisabled.size>0,I=D>=T,O=Nk(H=>{const te=H.target,V=[...x.branches].some(Y=>Y.contains(te));!I||V||(c==null||c(H),f==null||f(H),H.defaultPrevented||p==null||p())},S),q=Sk(H=>{const te=H.target;[...x.branches].some(Y=>Y.contains(te))||(d==null||d(H),f==null||f(H),H.defaultPrevented||p==null||p())},S);return bp(H=>{D===x.layers.size-1&&(a==null||a(H),!H.defaultPrevented&&p&&(H.preventDefault(),p()))},S),g.useEffect(()=>{if(_)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(ey=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(_)),x.layers.add(_),ty(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=ey)}},[_,S,r,x]),g.useEffect(()=>()=>{_&&(x.layers.delete(_),x.layersWithOutsidePointerEventsDisabled.delete(_),ty())},[_,x]),g.useEffect(()=>{const H=()=>k({});return document.addEventListener(ap,H),()=>document.removeEventListener(ap,H)},[]),o.jsx(Pt.div,{...v,ref:P,style:{pointerEvents:M?I?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,q.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,q.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,O.onPointerDownCapture)})});N_.displayName=xk;var _k="DismissableLayerBranch",bk=g.forwardRef((e,t)=>{const r=g.useContext(b_),a=g.useRef(null),c=Vt(t,a);return g.useEffect(()=>{const d=a.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),o.jsx(Pt.div,{...e,ref:c})});bk.displayName=_k;function Nk(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1),c=g.useRef(()=>{});return g.useEffect(()=>{const d=p=>{if(p.target&&!a.current){let v=function(){S_(yk,r,x,{discrete:!0})};const x={originalEvent:p};p.pointerType==="touch"?(t.removeEventListener("click",c.current),c.current=v,t.addEventListener("click",c.current,{once:!0})):v()}else t.removeEventListener("click",c.current);a.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",d),t.removeEventListener("click",c.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Sk(e,t=globalThis==null?void 0:globalThis.document){const r=xn(e),a=g.useRef(!1);return g.useEffect(()=>{const c=d=>{d.target&&!a.current&&S_(wk,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",c),()=>t.removeEventListener("focusin",c)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function ty(){const e=new CustomEvent(ap);document.dispatchEvent(e)}function S_(e,t,r,{discrete:a}){const c=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&c.addEventListener(e,t,{once:!0}),a?cf(c,d):c.dispatchEvent(d)}var Rm=0;function jk(){g.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ny()),document.body.insertAdjacentElement("beforeend",e[1]??ny()),Rm++,()=>{Rm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rm--}},[])}function ny(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Ek="Portal",j_=g.forwardRef((e,t)=>{var p;const{container:r,...a}=e,[c,d]=g.useState(!1);Sn(()=>d(!0),[]);const f=r||c&&((p=globalThis==null?void 0:globalThis.document)==null?void 0:p.body);return f?lf.createPortal(o.jsx(Pt.div,{...a,ref:t}),f):null});j_.displayName=Ek;function E_(e){const t=g.useRef({value:e,previous:e});return g.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var C_=R0(),Lm=function(){},Cf=g.forwardRef(function(e,t){var r=g.useRef(null),a=g.useState({onScrollCapture:Lm,onWheelCapture:Lm,onTouchMoveCapture:Lm}),c=a[0],d=a[1],f=e.forwardProps,p=e.children,v=e.className,x=e.removeScrollBar,_=e.enabled,b=e.shards,S=e.sideCar,k=e.noIsolation,P=e.inert,j=e.allowPinchZoom,C=e.as,T=C===void 0?"div":C,D=e.gapMode,M=Zp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=S,O=M0([r,t]),q=er(er({},M),c);return g.createElement(g.Fragment,null,_&&g.createElement(I,{sideCar:C_,removeScrollBar:x,shards:b,noIsolation:k,inert:P,setCallbacks:d,allowPinchZoom:!!j,lockRef:r,gapMode:D}),f?g.cloneElement(g.Children.only(p),er(er({},q),{ref:O})):g.createElement(T,er({},q,{className:v,ref:O}),p))});Cf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Cf.classNames={fullWidth:Hc,zeroRight:Uc};var lp=!1;if(typeof window<"u")try{var $d=Object.defineProperty({},"passive",{get:function(){return lp=!0,!0}});window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{lp=!1}var cl=lp?{passive:!1}:!1,Ck=function(e){return e.tagName==="TEXTAREA"},P_=function(e,t){var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ck(e)&&r[t]==="visible")},Pk=function(e){return P_(e,"overflowY")},Tk=function(e){return P_(e,"overflowX")},ry=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var c=T_(e,a);if(c){var d=k_(e,a),f=d[1],p=d[2];if(f>p)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},kk=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},Mk=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},T_=function(e,t){return e==="v"?Pk(t):Tk(t)},k_=function(e,t){return e==="v"?kk(t):Mk(t)},Rk=function(e,t){return e==="h"&&t==="rtl"?-1:1},Lk=function(e,t,r,a,c){var d=Rk(e,window.getComputedStyle(t).direction),f=d*a,p=r.target,v=t.contains(p),x=!1,_=f>0,b=0,S=0;do{var k=k_(e,p),P=k[0],j=k[1],C=k[2],T=j-C-d*P;(P||T)&&T_(e,p)&&(b+=T,S+=P),p instanceof ShadowRoot?p=p.host:p=p.parentNode}while(!v&&p!==document.body||v&&(t.contains(p)||t===p));return(_&&Math.abs(b)<1||!_&&Math.abs(S)<1)&&(x=!0),x},zd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},sy=function(e){return[e.deltaX,e.deltaY]},oy=function(e){return e&&"current"in e?e.current:e},Ak=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Dk=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ik=0,ul=[];function Ok(e){var t=g.useRef([]),r=g.useRef([0,0]),a=g.useRef(),c=g.useState(Ik++)[0],d=g.useState(Gp)[0],f=g.useRef(e);g.useEffect(function(){f.current=e},[e]),g.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var j=k0([e.lockRef.current],(e.shards||[]).map(oy),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var p=g.useCallback(function(j,C){if("touches"in j&&j.touches.length===2)return!f.current.allowPinchZoom;var T=zd(j),D=r.current,M="deltaX"in j?j.deltaX:D[0]-T[0],I="deltaY"in j?j.deltaY:D[1]-T[1],O,q=j.target,H=Math.abs(M)>Math.abs(I)?"h":"v";if("touches"in j&&H==="h"&&q.type==="range")return!1;var te=ry(H,q);if(!te)return!0;if(te?O=H:(O=H==="v"?"h":"v",te=ry(H,q)),!te)return!1;if(!a.current&&"changedTouches"in j&&(M||I)&&(a.current=O),!O)return!0;var V=a.current||O;return Lk(V,C,j,V==="h"?M:I)},[]),v=g.useCallback(function(j){var C=j;if(!(!ul.length||ul[ul.length-1]!==d)){var T="deltaY"in C?sy(C):zd(C),D=t.current.filter(function(O){return O.name===C.type&&(O.target===C.target||C.target===O.shadowParent)&&Ak(O.delta,T)})[0];if(D&&D.should){C.cancelable&&C.preventDefault();return}if(!D){var M=(f.current.shards||[]).map(oy).filter(Boolean).filter(function(O){return O.contains(C.target)}),I=M.length>0?p(C,M[0]):!f.current.noIsolation;I&&C.cancelable&&C.preventDefault()}}},[]),x=g.useCallback(function(j,C,T,D){var M={name:j,delta:C,target:T,should:D,shadowParent:Fk(T)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(I){return I!==M})},1)},[]),_=g.useCallback(function(j){r.current=zd(j),a.current=void 0},[]),b=g.useCallback(function(j){x(j.type,sy(j),j.target,p(j,e.lockRef.current))},[]),S=g.useCallback(function(j){x(j.type,zd(j),j.target,p(j,e.lockRef.current))},[]);g.useEffect(function(){return ul.push(d),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:S}),document.addEventListener("wheel",v,cl),document.addEventListener("touchmove",v,cl),document.addEventListener("touchstart",_,cl),function(){ul=ul.filter(function(j){return j!==d}),document.removeEventListener("wheel",v,cl),document.removeEventListener("touchmove",v,cl),document.removeEventListener("touchstart",_,cl)}},[]);var k=e.removeScrollBar,P=e.inert;return g.createElement(g.Fragment,null,P?g.createElement(d,{styles:Dk(c)}):null,k?g.createElement(I0,{gapMode:e.gapMode}):null)}function Fk(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $k=A0(C_,Ok);var M_=g.forwardRef(function(e,t){return g.createElement(Cf,er({},e,{ref:t,sideCar:$k}))});M_.classNames=Cf.classNames;var zk=[" ","Enter","ArrowUp","ArrowDown"],Bk=[" ","Enter"],cu="Select",[Pf,Tf,Uk]=Ly(cu),[Fl,qL]=Ll(cu,[Uk,xf]),kf=xf(),[Hk,Si]=Fl(cu),[Wk,Vk]=Fl(cu),R_=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:c,onOpenChange:d,value:f,defaultValue:p,onValueChange:v,dir:x,name:_,autoComplete:b,disabled:S,required:k}=e,P=kf(t),[j,C]=g.useState(null),[T,D]=g.useState(null),[M,I]=g.useState(!1),O=__(x),[q=!1,H]=Wc({prop:a,defaultProp:c,onChange:d}),[te,V]=Wc({prop:f,defaultProp:p,onChange:v}),Y=g.useRef(null),ee=j?!!j.closest("form"):!0,[he,De]=g.useState(new Set),de=Array.from(he).map($e=>$e.props.value).join(";");return o.jsx(RE,{...P,children:o.jsxs(Hk,{required:k,scope:t,trigger:j,onTriggerChange:C,valueNode:T,onValueNodeChange:D,valueNodeHasChildren:M,onValueNodeHasChildrenChange:I,contentId:vl(),value:te,onValueChange:V,open:q,onOpenChange:H,dir:O,triggerPointerDownPosRef:Y,disabled:S,children:[o.jsx(Pf.Provider,{scope:t,children:o.jsx(Wk,{scope:e.__scopeSelect,onNativeOptionAdd:g.useCallback($e=>{De(J=>new Set(J).add($e))},[]),onNativeOptionRemove:g.useCallback($e=>{De(J=>{const xe=new Set(J);return xe.delete($e),xe})},[]),children:r})}),ee?o.jsxs(rb,{"aria-hidden":!0,required:k,tabIndex:-1,name:_,autoComplete:b,value:te,onChange:$e=>V($e.target.value),disabled:S,children:[te===void 0?o.jsx("option",{value:""}):null,Array.from(he)]},de):null]})})};R_.displayName=cu;var L_="SelectTrigger",A_=g.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...c}=e,d=kf(r),f=Si(L_,r),p=f.disabled||a,v=Vt(t,f.onTriggerChange),x=Tf(r),[_,b,S]=sb(P=>{const j=x().filter(D=>!D.disabled),C=j.find(D=>D.value===f.value),T=ob(j,P,C);T!==void 0&&f.onValueChange(T.value)}),k=()=>{p||(f.onOpenChange(!0),S())};return o.jsx(Gw,{asChild:!0,...d,children:o.jsx(Pt.button,{type:"button",role:"combobox","aria-controls":f.contentId,"aria-expanded":f.open,"aria-required":f.required,"aria-autocomplete":"none",dir:f.dir,"data-state":f.open?"open":"closed",disabled:p,"data-disabled":p?"":void 0,"data-placeholder":nb(f.value)?"":void 0,...c,ref:v,onClick:lt(c.onClick,P=>{P.currentTarget.focus()}),onPointerDown:lt(c.onPointerDown,P=>{const j=P.target;j.hasPointerCapture(P.pointerId)&&j.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&(k(),f.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)},P.preventDefault())}),onKeyDown:lt(c.onKeyDown,P=>{const j=_.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&b(P.key),!(j&&P.key===" ")&&zk.includes(P.key)&&(k(),P.preventDefault())})})})});A_.displayName=L_;var D_="SelectValue",I_=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:c,children:d,placeholder:f="",...p}=e,v=Si(D_,r),{onValueNodeHasChildrenChange:x}=v,_=d!==void 0,b=Vt(t,v.onValueNodeChange);return Sn(()=>{x(_)},[x,_]),o.jsx(Pt.span,{...p,ref:b,style:{pointerEvents:"none"},children:nb(v.value)?o.jsx(o.Fragment,{children:f}):d})});I_.displayName=D_;var qk="SelectIcon",O_=g.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...c}=e;return o.jsx(Pt.span,{"aria-hidden":!0,...c,ref:t,children:a||""})});O_.displayName=qk;var Zk="SelectPortal",F_=e=>o.jsx(j_,{asChild:!0,...e});F_.displayName=Zk;var pa="SelectContent",$_=g.forwardRef((e,t)=>{const r=Si(pa,e.__scopeSelect),[a,c]=g.useState();if(Sn(()=>{c(new DocumentFragment)},[]),!r.open){const d=a;return d?va.createPortal(o.jsx(z_,{scope:e.__scopeSelect,children:o.jsx(Pf.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),d):null}return o.jsx(B_,{...e,ref:t})});$_.displayName=pa;var xo=10,[z_,ji]=Fl(pa),Gk="SelectContentImpl",B_=g.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:d,onPointerDownOutside:f,side:p,sideOffset:v,align:x,alignOffset:_,arrowPadding:b,collisionBoundary:S,collisionPadding:k,sticky:P,hideWhenDetached:j,avoidCollisions:C,...T}=e,D=Si(pa,r),[M,I]=g.useState(null),[O,q]=g.useState(null),H=Vt(t,K=>I(K)),[te,V]=g.useState(null),[Y,ee]=g.useState(null),he=Tf(r),[De,de]=g.useState(!1),$e=g.useRef(!1);g.useEffect(()=>{if(M)return U0(M)},[M]),jk();const J=g.useCallback(K=>{const[le,..._e]=he().map(We=>We.ref.current),[ke]=_e.slice(-1),ze=document.activeElement;for(const We of K)if(We===ze||(We==null||We.scrollIntoView({block:"nearest"}),We===le&&O&&(O.scrollTop=0),We===ke&&O&&(O.scrollTop=O.scrollHeight),We==null||We.focus(),document.activeElement!==ze))return},[he,O]),xe=g.useCallback(()=>J([te,M]),[J,te,M]);g.useEffect(()=>{De&&xe()},[De,xe]);const{onOpenChange:U,triggerPointerDownPosRef:fe}=D;g.useEffect(()=>{if(M){let K={x:0,y:0};const le=ke=>{var ze,We;K={x:Math.abs(Math.round(ke.pageX)-(((ze=fe.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((We=fe.current)==null?void 0:We.y)??0))}},_e=ke=>{K.x<=10&&K.y<=10?ke.preventDefault():M.contains(ke.target)||U(!1),document.removeEventListener("pointermove",le),fe.current=null};return fe.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",_e,{capture:!0})}}},[M,U,fe]),g.useEffect(()=>{const K=()=>U(!1);return window.addEventListener("blur",K),window.addEventListener("resize",K),()=>{window.removeEventListener("blur",K),window.removeEventListener("resize",K)}},[U]);const[oe,F]=sb(K=>{const le=he().filter(ze=>!ze.disabled),_e=le.find(ze=>ze.ref.current===document.activeElement),ke=ob(le,K,_e);ke&&setTimeout(()=>ke.ref.current.focus())}),Q=g.useCallback((K,le,_e)=>{const ke=!$e.current&&!_e;(D.value!==void 0&&D.value===le||ke)&&(V(K),ke&&($e.current=!0))},[D.value]),Se=g.useCallback(()=>M==null?void 0:M.focus(),[M]),Te=g.useCallback((K,le,_e)=>{const ke=!$e.current&&!_e;(D.value!==void 0&&D.value===le||ke)&&ee(K)},[D.value]),je=a==="popper"?cp:U_,$=je===cp?{side:p,sideOffset:v,align:x,alignOffset:_,arrowPadding:b,collisionBoundary:S,collisionPadding:k,sticky:P,hideWhenDetached:j,avoidCollisions:C}:{};return o.jsx(z_,{scope:r,content:M,viewport:O,onViewportChange:q,itemRefCallback:Q,selectedItem:te,onItemLeave:Se,itemTextRefCallback:Te,focusSelectedItem:xe,selectedItemText:Y,position:a,isPositioned:De,searchRef:oe,children:o.jsx(M_,{as:da,allowPinchZoom:!0,children:o.jsx(qp,{asChild:!0,trapped:D.open,onMountAutoFocus:K=>{K.preventDefault()},onUnmountAutoFocus:lt(c,K=>{var le;(le=D.trigger)==null||le.focus({preventScroll:!0}),K.preventDefault()}),children:o.jsx(N_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:K=>K.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:o.jsx(je,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:K=>K.preventDefault(),...T,...$,onPlaced:()=>de(!0),ref:H,style:{display:"flex",flexDirection:"column",outline:"none",...T.style},onKeyDown:lt(T.onKeyDown,K=>{const le=K.ctrlKey||K.altKey||K.metaKey;if(K.key==="Tab"&&K.preventDefault(),!le&&K.key.length===1&&F(K.key),["ArrowUp","ArrowDown","Home","End"].includes(K.key)){let ke=he().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(K.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(K.key)){const ze=K.target,We=ke.indexOf(ze);ke=ke.slice(We+1)}setTimeout(()=>J(ke)),K.preventDefault()}})})})})})})});B_.displayName=Gk;var Yk="SelectItemAlignedPosition",U_=g.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...c}=e,d=Si(pa,r),f=ji(pa,r),[p,v]=g.useState(null),[x,_]=g.useState(null),b=Vt(t,H=>_(H)),S=Tf(r),k=g.useRef(!1),P=g.useRef(!0),{viewport:j,selectedItem:C,selectedItemText:T,focusSelectedItem:D}=f,M=g.useCallback(()=>{if(d.trigger&&d.valueNode&&p&&x&&j&&C&&T){const H=d.trigger.getBoundingClientRect(),te=x.getBoundingClientRect(),V=d.valueNode.getBoundingClientRect(),Y=T.getBoundingClientRect();if(d.dir!=="rtl"){const ze=Y.left-te.left,We=V.left-ze,it=H.left-We,Tt=H.width+it,ye=Math.max(Tt,te.width),Ye=window.innerWidth-xo,Z=ip(We,[xo,Ye-ye]);p.style.minWidth=Tt+"px",p.style.left=Z+"px"}else{const ze=te.right-Y.right,We=window.innerWidth-V.right-ze,it=window.innerWidth-H.right-We,Tt=H.width+it,ye=Math.max(Tt,te.width),Ye=window.innerWidth-xo,Z=ip(We,[xo,Ye-ye]);p.style.minWidth=Tt+"px",p.style.right=Z+"px"}const ee=S(),he=window.innerHeight-xo*2,De=j.scrollHeight,de=window.getComputedStyle(x),$e=parseInt(de.borderTopWidth,10),J=parseInt(de.paddingTop,10),xe=parseInt(de.borderBottomWidth,10),U=parseInt(de.paddingBottom,10),fe=$e+J+De+U+xe,oe=Math.min(C.offsetHeight*5,fe),F=window.getComputedStyle(j),Q=parseInt(F.paddingTop,10),Se=parseInt(F.paddingBottom,10),Te=H.top+H.height/2-xo,je=he-Te,$=C.offsetHeight/2,K=C.offsetTop+$,le=$e+J+K,_e=fe-le;if(le<=Te){const ze=C===ee[ee.length-1].ref.current;p.style.bottom="0px";const We=x.clientHeight-j.offsetTop-j.offsetHeight,it=Math.max(je,$+(ze?Se:0)+We+xe),Tt=le+it;p.style.height=Tt+"px"}else{const ze=C===ee[0].ref.current;p.style.top="0px";const it=Math.max(Te,$e+j.offsetTop+(ze?Q:0)+$)+_e;p.style.height=it+"px",j.scrollTop=le-Te+j.offsetTop}p.style.margin=`${xo}px 0`,p.style.minHeight=oe+"px",p.style.maxHeight=he+"px",a==null||a(),requestAnimationFrame(()=>k.current=!0)}},[S,d.trigger,d.valueNode,p,x,j,C,T,d.dir,a]);Sn(()=>M(),[M]);const[I,O]=g.useState();Sn(()=>{x&&O(window.getComputedStyle(x).zIndex)},[x]);const q=g.useCallback(H=>{H&&P.current===!0&&(M(),D==null||D(),P.current=!1)},[M,D]);return o.jsx(Xk,{scope:r,contentWrapper:p,shouldExpandOnScrollRef:k,onScrollButtonChange:q,children:o.jsx("div",{ref:v,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:o.jsx(Pt.div,{...c,ref:b,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});U_.displayName=Yk;var Kk="SelectPopperPosition",cp=g.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:c=xo,...d}=e,f=kf(r);return o.jsx(Yw,{...f,...d,ref:t,align:a,collisionPadding:c,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cp.displayName=Kk;var[Xk,Jp]=Fl(pa,{}),up="SelectViewport",H_=g.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...c}=e,d=ji(up,r),f=Jp(up,r),p=Vt(t,d.onViewportChange),v=g.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Pf.Slot,{scope:r,children:o.jsx(Pt.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:p,style:{position:"relative",flex:1,overflow:"auto",...c.style},onScroll:lt(c.onScroll,x=>{const _=x.currentTarget,{contentWrapper:b,shouldExpandOnScrollRef:S}=f;if(S!=null&&S.current&&b){const k=Math.abs(v.current-_.scrollTop);if(k>0){const P=window.innerHeight-xo*2,j=parseFloat(b.style.minHeight),C=parseFloat(b.style.height),T=Math.max(j,C);if(T<P){const D=T+k,M=Math.min(P,D),I=D-M;b.style.height=M+"px",b.style.bottom==="0px"&&(_.scrollTop=I>0?I:0,b.style.justifyContent="flex-end")}}}v.current=_.scrollTop})})})]})});H_.displayName=up;var W_="SelectGroup",[Qk,Jk]=Fl(W_),eM=g.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=vl();return o.jsx(Qk,{scope:r,id:c,children:o.jsx(Pt.div,{role:"group","aria-labelledby":c,...a,ref:t})})});eM.displayName=W_;var V_="SelectLabel",q_=g.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=Jk(V_,r);return o.jsx(Pt.div,{id:c.id,...a,ref:t})});q_.displayName=V_;var nf="SelectItem",[tM,Z_]=Fl(nf),G_=g.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:c=!1,textValue:d,...f}=e,p=Si(nf,r),v=ji(nf,r),x=p.value===a,[_,b]=g.useState(d??""),[S,k]=g.useState(!1),P=Vt(t,T=>{var D;return(D=v.itemRefCallback)==null?void 0:D.call(v,T,a,c)}),j=vl(),C=()=>{c||(p.onValueChange(a),p.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(tM,{scope:r,value:a,disabled:c,textId:j,isSelected:x,onItemTextChange:g.useCallback(T=>{b(D=>D||((T==null?void 0:T.textContent)??"").trim())},[]),children:o.jsx(Pf.ItemSlot,{scope:r,value:a,disabled:c,textValue:_,children:o.jsx(Pt.div,{role:"option","aria-labelledby":j,"data-highlighted":S?"":void 0,"aria-selected":x&&S,"data-state":x?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...f,ref:P,onFocus:lt(f.onFocus,()=>k(!0)),onBlur:lt(f.onBlur,()=>k(!1)),onPointerUp:lt(f.onPointerUp,C),onPointerMove:lt(f.onPointerMove,T=>{var D;c?(D=v.onItemLeave)==null||D.call(v):T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:lt(f.onPointerLeave,T=>{var D;T.currentTarget===document.activeElement&&((D=v.onItemLeave)==null||D.call(v))}),onKeyDown:lt(f.onKeyDown,T=>{var M;((M=v.searchRef)==null?void 0:M.current)!==""&&T.key===" "||(Bk.includes(T.key)&&C(),T.key===" "&&T.preventDefault())})})})})});G_.displayName=nf;var $c="SelectItemText",Y_=g.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:c,...d}=e,f=Si($c,r),p=ji($c,r),v=Z_($c,r),x=Vk($c,r),[_,b]=g.useState(null),S=Vt(t,T=>b(T),v.onItemTextChange,T=>{var D;return(D=p.itemTextRefCallback)==null?void 0:D.call(p,T,v.value,v.disabled)}),k=_==null?void 0:_.textContent,P=g.useMemo(()=>o.jsx("option",{value:v.value,disabled:v.disabled,children:k},v.value),[v.disabled,v.value,k]),{onNativeOptionAdd:j,onNativeOptionRemove:C}=x;return Sn(()=>(j(P),()=>C(P)),[j,C,P]),o.jsxs(o.Fragment,{children:[o.jsx(Pt.span,{id:v.textId,...d,ref:S}),v.isSelected&&f.valueNode&&!f.valueNodeHasChildren?va.createPortal(d.children,f.valueNode):null]})});Y_.displayName=$c;var K_="SelectItemIndicator",X_=g.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return Z_(K_,r).isSelected?o.jsx(Pt.span,{"aria-hidden":!0,...a,ref:t}):null});X_.displayName=K_;var dp="SelectScrollUpButton",Q_=g.forwardRef((e,t)=>{const r=ji(dp,e.__scopeSelect),a=Jp(dp,e.__scopeSelect),[c,d]=g.useState(!1),f=Vt(t,a.onScrollButtonChange);return Sn(()=>{if(r.viewport&&r.isPositioned){let p=function(){const x=v.scrollTop>0;d(x)};const v=r.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),c?o.jsx(eb,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=r;p&&v&&(p.scrollTop=p.scrollTop-v.offsetHeight)}}):null});Q_.displayName=dp;var fp="SelectScrollDownButton",J_=g.forwardRef((e,t)=>{const r=ji(fp,e.__scopeSelect),a=Jp(fp,e.__scopeSelect),[c,d]=g.useState(!1),f=Vt(t,a.onScrollButtonChange);return Sn(()=>{if(r.viewport&&r.isPositioned){let p=function(){const x=v.scrollHeight-v.clientHeight,_=Math.ceil(v.scrollTop)<x;d(_)};const v=r.viewport;return p(),v.addEventListener("scroll",p),()=>v.removeEventListener("scroll",p)}},[r.viewport,r.isPositioned]),c?o.jsx(eb,{...e,ref:f,onAutoScroll:()=>{const{viewport:p,selectedItem:v}=r;p&&v&&(p.scrollTop=p.scrollTop+v.offsetHeight)}}):null});J_.displayName=fp;var eb=g.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...c}=e,d=ji("SelectScrollButton",r),f=g.useRef(null),p=Tf(r),v=g.useCallback(()=>{f.current!==null&&(window.clearInterval(f.current),f.current=null)},[]);return g.useEffect(()=>()=>v(),[v]),Sn(()=>{var _;const x=p().find(b=>b.ref.current===document.activeElement);(_=x==null?void 0:x.ref.current)==null||_.scrollIntoView({block:"nearest"})},[p]),o.jsx(Pt.div,{"aria-hidden":!0,...c,ref:t,style:{flexShrink:0,...c.style},onPointerDown:lt(c.onPointerDown,()=>{f.current===null&&(f.current=window.setInterval(a,50))}),onPointerMove:lt(c.onPointerMove,()=>{var x;(x=d.onItemLeave)==null||x.call(d),f.current===null&&(f.current=window.setInterval(a,50))}),onPointerLeave:lt(c.onPointerLeave,()=>{v()})})}),nM="SelectSeparator",tb=g.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return o.jsx(Pt.div,{"aria-hidden":!0,...a,ref:t})});tb.displayName=nM;var hp="SelectArrow",rM=g.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,c=kf(r),d=Si(hp,r),f=ji(hp,r);return d.open&&f.position==="popper"?o.jsx(Kw,{...c,...a,ref:t}):null});rM.displayName=hp;function nb(e){return e===""||e===void 0}var rb=g.forwardRef((e,t)=>{const{value:r,...a}=e,c=g.useRef(null),d=Vt(t,c),f=E_(r);return g.useEffect(()=>{const p=c.current,v=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(v,"value").set;if(f!==r&&_){const b=new Event("change",{bubbles:!0});_.call(p,r),p.dispatchEvent(b)}},[f,r]),o.jsx(nu,{asChild:!0,children:o.jsx("select",{...a,ref:d,defaultValue:r})})});rb.displayName="BubbleSelect";function sb(e){const t=xn(e),r=g.useRef(""),a=g.useRef(0),c=g.useCallback(f=>{const p=r.current+f;t(p),function v(x){r.current=x,window.clearTimeout(a.current),x!==""&&(a.current=window.setTimeout(()=>v(""),1e3))}(p)},[t]),d=g.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,c,d]}function ob(e,t,r){const c=t.length>1&&Array.from(t).every(x=>x===t[0])?t[0]:t,d=r?e.indexOf(r):-1;let f=sM(e,Math.max(d,0));c.length===1&&(f=f.filter(x=>x!==r));const v=f.find(x=>x.textValue.toLowerCase().startsWith(c.toLowerCase()));return v!==r?v:void 0}function sM(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var oM=R_,ib=A_,iM=I_,aM=O_,lM=F_,ab=$_,cM=H_,lb=q_,cb=G_,uM=Y_,dM=X_,ub=Q_,db=J_,fb=tb;const _s=oM,bs=iM,ss=g.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(ib,{ref:a,className:wt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(aM,{asChild:!0,children:o.jsx(Pp,{className:"h-4 w-4 opacity-50"})})]}));ss.displayName=ib.displayName;const hb=g.forwardRef(({className:e,...t},r)=>o.jsx(ub,{ref:r,className:wt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(GN,{className:"h-4 w-4"})}));hb.displayName=ub.displayName;const mb=g.forwardRef(({className:e,...t},r)=>o.jsx(db,{ref:r,className:wt("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Pp,{className:"h-4 w-4"})}));mb.displayName=db.displayName;const os=g.forwardRef(({className:e,children:t,position:r="popper",...a},c)=>o.jsx(lM,{children:o.jsxs(ab,{ref:c,className:wt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[o.jsx(hb,{}),o.jsx(cM,{className:wt("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(mb,{})]})}));os.displayName=ab.displayName;const fM=g.forwardRef(({className:e,...t},r)=>o.jsx(lb,{ref:r,className:wt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));fM.displayName=lb.displayName;const sn=g.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(cb,{ref:a,className:wt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(dM,{children:o.jsx(Cp,{className:"h-4 w-4"})})}),o.jsx(uM,{children:t})]}));sn.displayName=cb.displayName;const hM=g.forwardRef(({className:e,...t},r)=>o.jsx(fb,{ref:r,className:wt("-mx-1 my-1 h-px bg-muted",e),...t}));hM.displayName=fb.displayName;function iy({value:e,onValueChange:t,options:r=[],placeholder:a="Select an option...",emptyMessage:c="No options found.",disabled:d=!1,className:f,searchPlaceholder:p="Search..."}){const[v,x]=g.useState(!1),[_,b]=g.useState(""),S=Array.isArray(r)?r:[],k=_?S.filter(T=>{var q;if(!T||typeof T.value!="string"||typeof T.label!="string")return!1;const D=_.toLowerCase(),M=T.label.toLowerCase().includes(D),I=T.value.toLowerCase().includes(D),O=(q=T.searchTerms)==null?void 0:q.some(H=>H&&typeof H=="string"&&H.toLowerCase().includes(D));return M||I||O}):S,P=S.find(T=>(T==null?void 0:T.value)===e),j=T=>{t(T===e?"":T),x(!1),b("")},C=()=>{d||(x(!v),v||b(""))};return o.jsxs("div",{className:"relative",children:[o.jsxs(Ee,{variant:"outline",role:"combobox","aria-expanded":v,className:wt("w-full justify-between",f),disabled:d,onClick:C,type:"button",children:[P?P.label:a,o.jsx(Pp,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),v&&o.jsxs("div",{className:"absolute top-full left-0 right-0 z-[1001] mt-1 bg-popover border rounded-md shadow-lg",children:[o.jsxs("div",{className:"flex items-center border-b px-3 py-2",children:[o.jsx(su,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),o.jsx(vn,{placeholder:p,value:_,onChange:T=>b(T.target.value),className:"border-0 focus-visible:ring-0 focus-visible:ring-offset-0 h-8",autoFocus:!0})]}),o.jsx("div",{className:"max-h-64 overflow-y-auto",children:k.length>0?k.map((T,D)=>T&&T.value&&T.label?o.jsxs("button",{type:"button",className:wt("relative flex w-full cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",e===T.value&&"bg-accent text-accent-foreground"),onClick:()=>j(T.value),children:[o.jsx(Cp,{className:wt("mr-2 h-4 w-4",e===T.value?"opacity-100":"opacity-0")}),o.jsx("span",{className:"flex-1 text-left",children:T.label})]},`${T.value}-${D}`):null):o.jsx("div",{className:"px-2 py-1.5 text-sm text-muted-foreground",children:c})})]}),v&&o.jsx("div",{className:"fixed inset-0 z-[1000]",onClick:()=>x(!1)})]})}const mM=["Initial Client Meeting","Project Discussion","Equipment Installation","System Maintenance","Technical Support","Training Session","Progress Review","Problem Resolution","Contract Negotiation","Follow-up Meeting","Emergency Response","Consultation","Demo/Presentation","Site Survey","Other"];function pb({isOpen:e,onClose:t,onStartMeeting:r,employeeName:a,location:c,isLoading:d=!1,initialClientName:f="",initialCompanyName:p="",initialReason:v="",initialNotes:x=""}){var Tt;const[_,b]=g.useState(""),[S,k]=g.useState(""),[P,j]=g.useState(""),[C,T]=g.useState(""),[D,M]=g.useState({}),[I,O]=g.useState([]),[q,H]=g.useState(!1),[te,V]=g.useState(null),[Y,ee]=g.useState([]),[he,De]=g.useState(!1),[de,$e]=g.useState(null),[J,xe]=g.useState(""),[U,fe]=g.useState([]),[oe,F]=g.useState(!1),[Q,Se]=g.useState(""),[Te,je]=g.useState(!1),{toast:$}=bo(),K=async()=>{H(!0),V(null);try{console.log("Fetching companies from external API for start meeting...");const ye=await pt.request("https://jbdspower.in/LeafNetServer/api/customer",{method:"GET"});if(!ye.ok)throw new Error(`Failed to fetch customers: ${ye.statusText}`);const Ye=await ye.json();console.log("Customer API raw response:",Ye);const Z=Array.isArray(Ye)?Ye:[];console.log(`Fetched ${Z.length} companies for start meeting`,Z.slice(0,3)),O(Z)}catch(ye){console.error("Error fetching customers for start meeting:",ye),V(ye instanceof Error?ye.message:"Failed to fetch customers")}finally{H(!1)}},le=async()=>{De(!0),$e(null);try{console.log("Fetching leads from external API for start meeting...");const ye=await pt.request("https://jbdspower.in/LeafNetServer/api/getAllLead",{method:"GET"});if(!ye.ok)throw new Error(`Failed to fetch leads: ${ye.statusText}`);const Ye=await ye.json();console.log("Leads API raw response:",Ye);const Z=Array.isArray(Ye)?Ye:[];console.log(`Fetched ${Z.length} leads for start meeting`,Z.slice(0,3)),ee(Z)}catch(ye){console.error("Error fetching leads for start meeting:",ye),$e(ye instanceof Error?ye.message:"Failed to fetch leads")}finally{De(!1)}},_e=ye=>{if(!ye||ye==="custom"||!Array.isArray(Y)){fe([]);return}console.log("Filtering leads for company:",ye);const Ye=Y.filter(Z=>{if(!Z||!Z.CompanyName)return!1;const me=Z.CompanyName.toLowerCase().trim()===ye.toLowerCase().trim();return console.log(`Comparing "${Z.CompanyName}" with "${ye}": ${me}`),me});console.log(`Filtered ${Ye.length} leads for company "${ye}":`,Ye),fe(Ye)};console.log("filtered leads by compnay",_e),console.log("filtered leads",U);const ke=ye=>{console.log("Client selection changed:",ye),b(ye),xe(""),_e(ye)};g.useEffect(()=>{e?(K(),le(),(f||p)&&(k(f||""),b(p||"custom")),v&&j(v),x&&T(x)):(b(""),k(""),j(""),T(""),xe(""),M({}))},[e,f,p,v,x]),g.useEffect(()=>{Y.length>0&&_&&_!=="custom"?_e(_):fe([])},[Y,_]);const ze=async()=>{if(!Q.trim())return $({title:"Company Name Required",description:"Please enter a company name to create a lead.",variant:"destructive"}),!1;const ye=localStorage.getItem("idToken");if(!ye)return $({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"}),!1;const Ye=localStorage.getItem("user"),Z=Ye?JSON.parse(Ye)._id:"67daa55d9c4abb36045d5bfe";je(!0);try{const me={CompanyName:Q.trim(),Name:"New Lead",CreatedBy:Z,Id:`JBDSL-${Date.now().toString().slice(-4)}`};console.log(" Creating lead:",me),console.log(" Token:",ye.substring(0,20)+"...");const be=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${ye}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(me)});if(console.log(" Response:",be.status),be.ok){const ge=await be.json();return console.log(" Lead created:",ge),$({title:"Lead Created",description:`Lead created successfully for ${Q}`}),k(Q),b("custom"),le(),!0}else{const ge=await be.text();return console.error(" Failed:",be.status,ge),$({title:"Failed to Create Lead",description:`Error: ${be.status}`,variant:"destructive"}),!1}}catch(me){return console.error(" Error:",me),$({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"}),!1}finally{je(!1)}},We=async()=>{const ye={},Ye=_==="custom"?S:_;if(Ye.trim()||(ye.client="Client name is required"),P||(ye.reason="Meeting reason is required"),Object.keys(ye).length>0){M(ye);return}oe&&Q.trim()&&(await ze()||console.warn("Lead creation failed, but proceeding with meeting"));const Z=J&&Array.isArray(Y)?Y.find(me=>me&&me.Id===J):null;console.log("Starting meeting with data:",{clientName:Ye,reason:P,notes:C.trim(),leadId:J||void 0,leadInfo:Z||{}}),M({}),r({clientName:Ye,reason:P,notes:C.trim(),leadId:J||void 0,leadInfo:Z?{id:(Z==null?void 0:Z.Id)||{},companyName:Z.CompanyName,contactName:Z.Name}:void 0})},it=()=>{b(""),k(""),j(""),T(""),M({}),V(null),$e(null),xe(""),fe([]),F(!1),Se(""),t()};return o.jsx(Nr,{open:e,onOpenChange:it,children:o.jsxs(ur,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[o.jsxs(dr,{children:[o.jsxs(fr,{className:"flex items-center space-x-2",children:[o.jsx($n,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Start Meeting"})]}),o.jsxs(Sr,{children:["Create a new meeting record for ",a]})]}),o.jsxs("div",{className:"space-y-6 py-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground bg-muted/50 p-3 rounded-md",children:[o.jsx(cr,{className:"h-4 w-4"}),o.jsxs("span",{children:["Location: ",c]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Wt,{htmlFor:"client",children:"Client / Company"}),o.jsxs(Ee,{type:"button",variant:"outline",size:"sm",onClick:()=>{F(!oe),oe||Se("")},className:"h-8",children:[o.jsx(Vc,{className:"h-4 w-4 mr-1"}),oe?"Cancel":"Create New Lead"]})]}),te?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load companies"})]}),o.jsx("p",{className:"text-xs mt-1",children:te}),o.jsx("button",{type:"button",onClick:K,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"customClientFallback",children:"Enter Client Name Manually"}),o.jsx(vn,{id:"customClientFallback",value:S,onChange:ye=>{k(ye.target.value),b("custom")},placeholder:"Enter client name",className:D.client?"border-destructive":""})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsx(iy,{value:_,onValueChange:ke,options:[...Array.isArray(I)?Array.from(new Map(I.filter(ye=>{const Ye=ye&&ye.CustomerCompanyName&&typeof ye.CustomerCompanyName=="string"&&ye.CustomerCompanyName.trim().length>0;return!Ye&&ye&&console.warn("Invalid customer data:",ye),Ye}).map(ye=>[ye.CustomerCompanyName.trim(),ye])).values()).map(ye=>({value:ye.CustomerCompanyName.trim(),label:ye.CustomerCompanyName.trim(),searchTerms:[ye.CustomerCompanyName.trim()]})):[],{value:"custom",label:"Custom Client...",searchTerms:["custom","manual","other"]}],placeholder:q?"Loading companies...":"Select a company or choose custom",emptyMessage:"No companies found. Choose custom to enter manually.",disabled:q,searchPlaceholder:"Search companies...",className:D.client?"border-destructive":""}),o.jsx("div",{className:"text-xs text-muted-foreground",children:`Can't find your company? Use "Custom Client..." option above`})]}),D.client&&o.jsx("p",{className:"text-sm text-destructive",children:D.client})]}),oe&&o.jsxs("div",{className:"space-y-3 p-4 border-2 border-primary/30 rounded-lg bg-primary/5",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hf,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"font-semibold text-sm text-primary",children:"Create New Lead"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{htmlFor:"newLeadCompanyName",className:"text-sm font-medium",children:["Company Name for New Lead",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"newLeadCompanyName",value:Q,onChange:ye=>{Se(ye.target.value),k(ye.target.value),b("custom")},placeholder:"Enter company name to create lead",disabled:Te,className:"border-primary/50"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:" This will create a new lead and use it for the meeting"})]})]}),_==="custom"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"customClient",children:"Custom Client Name"}),o.jsx(vn,{id:"customClient",value:S,onChange:ye=>k(ye.target.value),placeholder:"Enter client name",className:D.client?"border-destructive":""})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{htmlFor:"lead",children:["Lead Association (Optional)",_&&_!=="custom"&&U.length>0&&o.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",U.length," leads for ",_,")"]})]}),de?o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load leads"})]}),o.jsx("p",{className:"text-xs mt-1",children:de}),o.jsx("button",{type:"button",onClick:le,className:"mt-2 px-3 py-1 bg-destructive/10 hover:bg-destructive/20 rounded text-xs",children:"Retry"})]}):o.jsxs(o.Fragment,{children:[_&&_!=="custom"&&Y.length>0&&U.length===0&&o.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted/50 rounded-md",children:['No leads found for "',_,'". You can still proceed without associating a lead.']}),(_&&_!=="custom"?U.length>0:Y.length>0)?o.jsx(iy,{value:J,onValueChange:ye=>{console.log("Lead selection changed:",ye),xe(ye)},options:Array.isArray(_&&_!=="custom"?U:Y)?Array.from(new Map((_&&_!=="custom"?U:Y).filter(ye=>{const Ye=ye&&ye.Id&&ye.CompanyName&&ye.Name&&typeof ye.Id=="string"&&typeof ye.CompanyName=="string"&&typeof ye.Name=="string"&&ye.Id.trim().length>0&&ye.CompanyName.trim().length>0&&ye.Name.trim().length>0;return!Ye&&ye&&console.warn("Invalid lead data:",ye),Ye}).map(ye=>[ye.Id.trim(),ye])).values()).map(ye=>({value:ye.Id.trim(),label:`${ye.Id.trim()} - ${ye.CompanyName.trim()} (${ye.Name.trim()})`,searchTerms:[ye.CompanyName.trim(),ye.Name.trim(),ye.Email||"",ye.Subject||"",ye.Stage||"",ye.Id.trim()].filter(Ye=>Ye&&typeof Ye=="string"&&Ye.length>0)})):[],placeholder:he?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads",emptyMessage:_&&_!=="custom"?`No leads found for ${_}`:"No leads available",disabled:he,searchPlaceholder:"Search leads by ID, company, name..."}):o.jsxs(_s,{value:J,onValueChange:xe,disabled:he,children:[o.jsx(ss,{children:o.jsx(bs,{placeholder:he?"Loading leads...":_&&_!=="custom"?`Select a lead for ${_} (optional)`:"Select a company first to see related leads"})}),o.jsx(os,{children:o.jsx(sn,{value:"no-leads",disabled:!0,children:he?"Loading...":"No leads available"})})]})]}),J&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.jsx(dw,{className:"h-3 w-3 inline mr-1"}),"Lead selected: ",(Tt=(_&&_!=="custom"?U:Y).find(ye=>ye.Id===J))==null?void 0:Tt.Subject]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"reason",children:"Meeting Reason / Type"}),o.jsxs(_s,{value:P,onValueChange:j,children:[o.jsx(ss,{className:D.reason?"border-destructive":"",children:o.jsx(bs,{placeholder:"Select meeting reason"})}),o.jsx(os,{children:mM.map(ye=>o.jsx(sn,{value:ye,children:ye},ye))})]}),D.reason&&o.jsx("p",{className:"text-sm text-destructive",children:D.reason})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"notes",children:"Notes (Optional)"}),o.jsx(bi,{id:"notes",value:C,onChange:ye=>T(ye.target.value),placeholder:"Add any additional notes about this meeting...",rows:3})]}),o.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(mf,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium",children:["Employee: ",a]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($n,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{children:["Start Time: ",UT()]})]})]})]}),o.jsxs(ma,{children:[o.jsx(Ee,{variant:"outline",onClick:it,disabled:d||Te,children:"Cancel"}),o.jsx(Ee,{onClick:We,disabled:d||Te,children:Te?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Tl,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Creating Lead..."})]}):d?"Starting...":"Start Meeting"})]})]})})}function pM(e,t){return g.useReducer((r,a)=>t[r][a]??r,e)}var eg="ScrollArea",[gb,ZL]=Ll(eg),[gM,as]=gb(eg),vb=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:c,scrollHideDelay:d=600,...f}=e,[p,v]=g.useState(null),[x,_]=g.useState(null),[b,S]=g.useState(null),[k,P]=g.useState(null),[j,C]=g.useState(null),[T,D]=g.useState(0),[M,I]=g.useState(0),[O,q]=g.useState(!1),[H,te]=g.useState(!1),V=Vt(t,ee=>v(ee)),Y=__(c);return o.jsx(gM,{scope:r,type:a,dir:Y,scrollHideDelay:d,scrollArea:p,viewport:x,onViewportChange:_,content:b,onContentChange:S,scrollbarX:k,onScrollbarXChange:P,scrollbarXEnabled:O,onScrollbarXEnabledChange:q,scrollbarY:j,onScrollbarYChange:C,scrollbarYEnabled:H,onScrollbarYEnabledChange:te,onCornerWidthChange:D,onCornerHeightChange:I,children:o.jsx(Pt.div,{dir:Y,...f,ref:V,style:{position:"relative","--radix-scroll-area-corner-width":T+"px","--radix-scroll-area-corner-height":M+"px",...e.style}})})});vb.displayName=eg;var xb="ScrollAreaViewport",yb=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:c,...d}=e,f=as(xb,r),p=g.useRef(null),v=Vt(t,p,f.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:c}),o.jsx(Pt.div,{"data-radix-scroll-area-viewport":"",...d,ref:v,style:{overflowX:f.scrollbarXEnabled?"scroll":"hidden",overflowY:f.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:f.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});yb.displayName=xb;var Zs="ScrollAreaScrollbar",tg=g.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=as(Zs,e.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:f}=c,p=e.orientation==="horizontal";return g.useEffect(()=>(p?d(!0):f(!0),()=>{p?d(!1):f(!1)}),[p,d,f]),c.type==="hover"?o.jsx(vM,{...a,ref:t,forceMount:r}):c.type==="scroll"?o.jsx(xM,{...a,ref:t,forceMount:r}):c.type==="auto"?o.jsx(wb,{...a,ref:t,forceMount:r}):c.type==="always"?o.jsx(ng,{...a,ref:t}):null});tg.displayName=Zs;var vM=g.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=as(Zs,e.__scopeScrollArea),[d,f]=g.useState(!1);return g.useEffect(()=>{const p=c.scrollArea;let v=0;if(p){const x=()=>{window.clearTimeout(v),f(!0)},_=()=>{v=window.setTimeout(()=>f(!1),c.scrollHideDelay)};return p.addEventListener("pointerenter",x),p.addEventListener("pointerleave",_),()=>{window.clearTimeout(v),p.removeEventListener("pointerenter",x),p.removeEventListener("pointerleave",_)}}},[c.scrollArea,c.scrollHideDelay]),o.jsx(xa,{present:r||d,children:o.jsx(wb,{"data-state":d?"visible":"hidden",...a,ref:t})})}),xM=g.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=as(Zs,e.__scopeScrollArea),d=e.orientation==="horizontal",f=Rf(()=>v("SCROLL_END"),100),[p,v]=pM("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return g.useEffect(()=>{if(p==="idle"){const x=window.setTimeout(()=>v("HIDE"),c.scrollHideDelay);return()=>window.clearTimeout(x)}},[p,c.scrollHideDelay,v]),g.useEffect(()=>{const x=c.viewport,_=d?"scrollLeft":"scrollTop";if(x){let b=x[_];const S=()=>{const k=x[_];b!==k&&(v("SCROLL"),f()),b=k};return x.addEventListener("scroll",S),()=>x.removeEventListener("scroll",S)}},[c.viewport,d,v,f]),o.jsx(xa,{present:r||p!=="hidden",children:o.jsx(ng,{"data-state":p==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:lt(e.onPointerEnter,()=>v("POINTER_ENTER")),onPointerLeave:lt(e.onPointerLeave,()=>v("POINTER_LEAVE"))})})}),wb=g.forwardRef((e,t)=>{const r=as(Zs,e.__scopeScrollArea),{forceMount:a,...c}=e,[d,f]=g.useState(!1),p=e.orientation==="horizontal",v=Rf(()=>{if(r.viewport){const x=r.viewport.offsetWidth<r.viewport.scrollWidth,_=r.viewport.offsetHeight<r.viewport.scrollHeight;f(p?x:_)}},10);return Rl(r.viewport,v),Rl(r.content,v),o.jsx(xa,{present:a||d,children:o.jsx(ng,{"data-state":d?"visible":"hidden",...c,ref:t})})}),ng=g.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,c=as(Zs,e.__scopeScrollArea),d=g.useRef(null),f=g.useRef(0),[p,v]=g.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),x=jb(p.viewport,p.content),_={...a,sizes:p,onSizesChange:v,hasThumb:x>0&&x<1,onThumbChange:S=>d.current=S,onThumbPointerUp:()=>f.current=0,onThumbPointerDown:S=>f.current=S};function b(S,k){return SM(S,f.current,p,k)}return r==="horizontal"?o.jsx(yM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const S=c.viewport.scrollLeft,k=ay(S,p,c.dir);d.current.style.transform=`translate3d(${k}px, 0, 0)`}},onWheelScroll:S=>{c.viewport&&(c.viewport.scrollLeft=S)},onDragScroll:S=>{c.viewport&&(c.viewport.scrollLeft=b(S,c.dir))}}):r==="vertical"?o.jsx(wM,{..._,ref:t,onThumbPositionChange:()=>{if(c.viewport&&d.current){const S=c.viewport.scrollTop,k=ay(S,p);d.current.style.transform=`translate3d(0, ${k}px, 0)`}},onWheelScroll:S=>{c.viewport&&(c.viewport.scrollTop=S)},onDragScroll:S=>{c.viewport&&(c.viewport.scrollTop=b(S))}}):null}),yM=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...c}=e,d=as(Zs,e.__scopeScrollArea),[f,p]=g.useState(),v=g.useRef(null),x=Vt(t,v,d.onScrollbarXChange);return g.useEffect(()=>{v.current&&p(getComputedStyle(v.current))},[v]),o.jsx(bb,{"data-orientation":"horizontal",...c,ref:x,sizes:r,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Mf(r)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.x),onDragScroll:_=>e.onDragScroll(_.x),onWheelScroll:(_,b)=>{if(d.viewport){const S=d.viewport.scrollLeft+_.deltaX;e.onWheelScroll(S),Cb(S,b)&&_.preventDefault()}},onResize:()=>{v.current&&d.viewport&&f&&a({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:v.current.clientWidth,paddingStart:sf(f.paddingLeft),paddingEnd:sf(f.paddingRight)}})}})}),wM=g.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...c}=e,d=as(Zs,e.__scopeScrollArea),[f,p]=g.useState(),v=g.useRef(null),x=Vt(t,v,d.onScrollbarYChange);return g.useEffect(()=>{v.current&&p(getComputedStyle(v.current))},[v]),o.jsx(bb,{"data-orientation":"vertical",...c,ref:x,sizes:r,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Mf(r)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.y),onDragScroll:_=>e.onDragScroll(_.y),onWheelScroll:(_,b)=>{if(d.viewport){const S=d.viewport.scrollTop+_.deltaY;e.onWheelScroll(S),Cb(S,b)&&_.preventDefault()}},onResize:()=>{v.current&&d.viewport&&f&&a({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:v.current.clientHeight,paddingStart:sf(f.paddingTop),paddingEnd:sf(f.paddingBottom)}})}})}),[_M,_b]=gb(Zs),bb=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:c,onThumbChange:d,onThumbPointerUp:f,onThumbPointerDown:p,onThumbPositionChange:v,onDragScroll:x,onWheelScroll:_,onResize:b,...S}=e,k=as(Zs,r),[P,j]=g.useState(null),C=Vt(t,V=>j(V)),T=g.useRef(null),D=g.useRef(""),M=k.viewport,I=a.content-a.viewport,O=xn(_),q=xn(v),H=Rf(b,10);function te(V){if(T.current){const Y=V.clientX-T.current.left,ee=V.clientY-T.current.top;x({x:Y,y:ee})}}return g.useEffect(()=>{const V=Y=>{const ee=Y.target;(P==null?void 0:P.contains(ee))&&O(Y,I)};return document.addEventListener("wheel",V,{passive:!1}),()=>document.removeEventListener("wheel",V,{passive:!1})},[M,P,I,O]),g.useEffect(q,[a,q]),Rl(P,H),Rl(k.content,H),o.jsx(_M,{scope:r,scrollbar:P,hasThumb:c,onThumbChange:xn(d),onThumbPointerUp:xn(f),onThumbPositionChange:q,onThumbPointerDown:xn(p),children:o.jsx(Pt.div,{...S,ref:C,style:{position:"absolute",...S.style},onPointerDown:lt(e.onPointerDown,V=>{V.button===0&&(V.target.setPointerCapture(V.pointerId),T.current=P.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k.viewport&&(k.viewport.style.scrollBehavior="auto"),te(V))}),onPointerMove:lt(e.onPointerMove,te),onPointerUp:lt(e.onPointerUp,V=>{const Y=V.target;Y.hasPointerCapture(V.pointerId)&&Y.releasePointerCapture(V.pointerId),document.body.style.webkitUserSelect=D.current,k.viewport&&(k.viewport.style.scrollBehavior=""),T.current=null})})})}),rf="ScrollAreaThumb",Nb=g.forwardRef((e,t)=>{const{forceMount:r,...a}=e,c=_b(rf,e.__scopeScrollArea);return o.jsx(xa,{present:r||c.hasThumb,children:o.jsx(bM,{ref:t,...a})})}),bM=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...c}=e,d=as(rf,r),f=_b(rf,r),{onThumbPositionChange:p}=f,v=Vt(t,b=>f.onThumbChange(b)),x=g.useRef(),_=Rf(()=>{x.current&&(x.current(),x.current=void 0)},100);return g.useEffect(()=>{const b=d.viewport;if(b){const S=()=>{if(_(),!x.current){const k=jM(b,p);x.current=k,p()}};return p(),b.addEventListener("scroll",S),()=>b.removeEventListener("scroll",S)}},[d.viewport,_,p]),o.jsx(Pt.div,{"data-state":f.hasThumb?"visible":"hidden",...c,ref:v,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:lt(e.onPointerDownCapture,b=>{const k=b.target.getBoundingClientRect(),P=b.clientX-k.left,j=b.clientY-k.top;f.onThumbPointerDown({x:P,y:j})}),onPointerUp:lt(e.onPointerUp,f.onThumbPointerUp)})});Nb.displayName=rf;var rg="ScrollAreaCorner",Sb=g.forwardRef((e,t)=>{const r=as(rg,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?o.jsx(NM,{...e,ref:t}):null});Sb.displayName=rg;var NM=g.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,c=as(rg,r),[d,f]=g.useState(0),[p,v]=g.useState(0),x=!!(d&&p);return Rl(c.scrollbarX,()=>{var b;const _=((b=c.scrollbarX)==null?void 0:b.offsetHeight)||0;c.onCornerHeightChange(_),v(_)}),Rl(c.scrollbarY,()=>{var b;const _=((b=c.scrollbarY)==null?void 0:b.offsetWidth)||0;c.onCornerWidthChange(_),f(_)}),x?o.jsx(Pt.div,{...a,ref:t,style:{width:d,height:p,position:"absolute",right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function sf(e){return e?parseInt(e,10):0}function jb(e,t){const r=e/t;return isNaN(r)?0:r}function Mf(e){const t=jb(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function SM(e,t,r,a="ltr"){const c=Mf(r),d=c/2,f=t||d,p=c-f,v=r.scrollbar.paddingStart+f,x=r.scrollbar.size-r.scrollbar.paddingEnd-p,_=r.content-r.viewport,b=a==="ltr"?[0,_]:[_*-1,0];return Eb([v,x],b)(e)}function ay(e,t,r="ltr"){const a=Mf(t),c=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,d=t.scrollbar.size-c,f=t.content-t.viewport,p=d-a,v=r==="ltr"?[0,f]:[f*-1,0],x=ip(e,v);return Eb([0,f],[0,p])(x)}function Eb(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function Cb(e,t){return e>0&&e<t}var jM=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function c(){const d={left:e.scrollLeft,top:e.scrollTop},f=r.left!==d.left,p=r.top!==d.top;(f||p)&&t(),r=d,a=window.requestAnimationFrame(c)}(),()=>window.cancelAnimationFrame(a)};function Rf(e,t){const r=xn(e),a=g.useRef(0);return g.useEffect(()=>()=>window.clearTimeout(a.current),[]),g.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function Rl(e,t){const r=xn(t);Sn(()=>{let a=0;if(e){const c=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return c.observe(e),()=>{window.cancelAnimationFrame(a),c.unobserve(e)}}},[e,r])}var Pb=vb,EM=yb,CM=Sb;const Tb=g.forwardRef(({className:e,children:t,...r},a)=>o.jsxs(Pb,{ref:a,className:wt("relative overflow-hidden",e),...r,children:[o.jsx(EM,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(kb,{}),o.jsx(CM,{})]}));Tb.displayName=Pb.displayName;const kb=g.forwardRef(({className:e,orientation:t="vertical",...r},a)=>o.jsx(tg,{ref:a,orientation:t,className:wt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Nb,{className:"relative flex-1 rounded-full bg-border"})}));kb.displayName=tg.displayName;function PM({isOpen:e,onClose:t,onSubmit:r,pendingMeetings:a}){const[c,d]=g.useState({}),[f,p]=g.useState({}),v=(b,S)=>{d(k=>({...k,[b]:S})),p(k=>{const P={...k};return delete P[b],P})},x=()=>{const b={};if(a.forEach(k=>{var P;(P=c[k._id])!=null&&P.trim()||(b[k._id]="Reason required")}),Object.keys(b).length>0){p(b);return}const S=a.map(k=>({meeting:k,reason:c[k._id].trim()}));r(S),d({}),p({})},_=()=>{d({}),p({}),t()};return o.jsx(Nr,{open:e,onOpenChange:_,children:o.jsxs(ur,{className:"sm:max-w-[600px] max-h-[90vh]",children:[o.jsxs(dr,{children:[o.jsxs(fr,{className:"flex items-center gap-2",children:[o.jsx(Nn,{className:"h-5 w-5 text-warning"}),"Incomplete Today's Meetings"]}),o.jsxs(Sr,{children:["You have ",a.length," incomplete meeting",a.length>1?"s":"",' scheduled for today. Please provide a reason for each meeting before logging out. These meetings will be marked as "Incomplete".']})]}),o.jsx(Tb,{className:"max-h-[60vh] pr-4",children:o.jsx("div",{className:"space-y-6 py-4",children:a.map((b,S)=>o.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:o.jsx(hf,{className:"h-4 w-4 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-semibold text-sm",children:b.companyName||"Unnamed Company"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.customerName,b.meetingTime&&`  ${b.meetingTime}`]}),b.remark&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:["Note: ",b.remark]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{htmlFor:`reason-${b._id}`,className:"text-sm",children:["Reason for not completing ",o.jsx("span",{className:"text-destructive",children:"*"})]}),o.jsx(bi,{id:`reason-${b._id}`,placeholder:"E.g., Client rescheduled, not available, technical issues...",value:c[b._id]||"",onChange:k=>v(b._id,k.target.value),rows:3,className:f[b._id]?"border-destructive":""}),f[b._id]&&o.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[o.jsx(Nn,{className:"h-3 w-3"}),f[b._id]]})]})]},b._id))})}),o.jsxs(ma,{children:[o.jsx(Ee,{variant:"outline",onClick:_,children:"Cancel"}),o.jsx(Ee,{onClick:x,children:"Submit All & Logout"})]})]})})}function TM(){var Te,je;const[e,t]=g.useState([]),[r,a]=g.useState(null),[c,d]=g.useState(!0),[f,p]=g.useState(new Date),[v,x]=g.useState(!0),[_,b]=g.useState(!1),[S,k]=g.useState([]),[P,j]=g.useState(!1),[C,T]=g.useState(null),[D,M]=g.useState(!1),[I,O]=g.useState(!1),[q,H]=g.useState(null),{canInstall:te,isInstalled:V}=WT();g.useEffect(()=>{const $=localStorage.getItem("user");if($)try{const K=JSON.parse($);H(K),!(K._id==="67daa55d9c4abb36045d5bfe")&&K._id&&(console.log(" Redirecting regular user to their tracking page"),es({title:"Access Denied",description:"Direct access to dashboard is not allowed. Redirecting to your tracking page...",variant:"destructive"}),setTimeout(()=>{window.location.href=`/tracking/${K._id}`},1500))}catch(K){console.error("Failed to parse user from localStorage:",K)}else console.error(" No user found in localStorage - access denied"),es({title:"Access Denied",description:"Please access the tracking page with a valid employee ID from the CRM system.",variant:"destructive"})},[]),g.useEffect(()=>{Y();const $=setInterval(Y,12e4);return()=>clearInterval($)},[]);const Y=async()=>{var $;try{console.log("Fetching employees");const K=await pt.get("/api/employees");if(K.ok){const le=await K.json();t(le.employees||[]),p(new Date),console.log("Employees data fetched successfully:",(($=le.employees)==null?void 0:$.length)||0)}else console.error(`Failed to fetch employees: ${K.status} ${K.statusText}`),t([])}catch(K){console.error("Error fetching employees:",K),t([])}finally{d(!1)}},ee=()=>{d(!0),Y()},he=async()=>{try{d(!0),console.log("Refreshing employee locations with Indian cities");const $=await pt.post("/api/employees/refresh-locations");if($.ok){const K=await $.json();console.log("Locations refreshed successfully:",K),await Y(),x(!1)}else{const K=await $.text().catch(()=>"Unknown error");console.error("Failed to refresh locations:",$.status,K),alert("Failed to refresh locations. Please try again.")}}catch($){console.error("Error refreshing locations:",$),alert("Error refreshing locations. Please check your connection and try again.")}finally{d(!1)}},De=$=>{window.location.href=`tel:${$}`},de=($,K)=>{const le=encodeURIComponent(`Regarding Field Operations - ${K}`),_e=encodeURIComponent(`Hi ${K.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${$}?subject=${le}&body=${_e}`},$e=async $=>{if(q!=null&&q._id)try{const K=await pt.get(`/api/meetings?employeeId=${q._id}&status=in-progress&limit=1`);if(K.ok){const le=await K.json();if(le.meetings&&le.meetings.length>0){es({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"}),console.log("Blocked: Active meeting exists:",le.meetings[0].id);return}}}catch(K){console.error("Error checking for active meetings:",K)}T($),j(!0)},J=async $=>{const K=e.find(le=>le.status==="active"||le.status==="meeting")||e[0];if(!K){es({title:"Error",description:"No active employee found to start meeting",variant:"destructive"});return}O(!0);try{const le=await pt.post("/api/meetings",{employeeId:K.id,location:{lat:K.location.lat,lng:K.location.lng,address:K.location.address},clientName:$.clientName,notes:`${$.reason}${$.notes?` - ${$.notes}`:""}`,leadId:$.leadId,leadInfo:$.leadInfo});if(le.ok)await pt.put(`/api/employees/${K.id}/status`,{status:"meeting"}),Y(),j(!1),T(null),es({title:"Meeting Started",description:`Meeting with ${$.clientName} has been started successfully`});else{const _e=await le.json().catch(()=>({error:"Failed to start meeting"}));es({title:"Cannot Start Meeting",description:_e.error||"Failed to start meeting",variant:"destructive"})}}catch(le){console.error("Error starting meeting:",le),es({title:"Error",description:"Failed to start meeting. Please try again.",variant:"destructive"})}finally{O(!1)}},xe=()=>{if(!(q!=null&&q._id)){fe();return}const $=S.filter(K=>!(K.meetingStatus==="complete"||K.meetingStatus==="Completed"||K.meetingStatus==="COMPLETED"));console.log("Incomplete today's meetings on logout:",$),$.length>0?M(!0):fe()},U=async $=>{console.log("Submitting incomplete meetings with reasons:",$);try{const K=$.map(async({meeting:_e,reason:ke})=>{try{const We="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),it=await fetch(`${We}/updateFollowUp/${_e._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});it.ok?console.log(` Updated meeting ${_e.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${_e.companyName} status:`,it.status)}catch(ze){console.error(`Error updating meeting ${_e.companyName}:`,ze)}});await Promise.all(K),(await pt.post("/api/incomplete-meeting-remarks",{employeeId:q._id,reason:"Multiple incomplete meetings",pendingMeetings:$.map(({meeting:_e,reason:ke})=>({_id:_e._id,leadId:_e.leadId,companyName:_e.companyName,customerName:_e.customerName,customerEmail:_e.customerEmail,customerMobile:_e.customerMobile,customerDesignation:_e.customerDesignation,meetingTime:_e.meetingTime,incompleteReason:ke}))})).ok?es({title:"Meetings Marked Incomplete",description:`${$.length} meeting(s) marked as incomplete with reasons.`}):(console.error("Failed to save incomplete meeting remarks"),es({title:"Warning",description:"Failed to save some meeting reasons, but meetings are marked incomplete.",variant:"destructive"}))}catch(K){console.error("Error saving incomplete meeting remarks:",K),es({title:"Warning",description:"Failed to save meeting reasons, but you can still logout.",variant:"destructive"})}M(!1),fe()},fe=()=>{localStorage.removeItem("idToken"),localStorage.removeItem("user"),es({title:"Logged Out",description:"You have been logged out successfully."}),window.location.href="/"},oe=$=>{switch($){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},F=$=>{switch($){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},Q=e.filter($=>$.status==="active"||$.status==="meeting");console.log("employee list",Q);const Se=e.length;return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between overflow-auto",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:o.jsx(cr,{className:"h-5 w-5 text-primary-foreground"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"FieldTracker"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Employee Location Management"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:ee,disabled:c,children:[o.jsx(pl,{className:`h-4 w-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),o.jsx(Ee,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Ws,{to:"/dashboard",children:[o.jsx(Ep,{className:"h-4 w-4 mr-2"}),"Dashboard"]})}),o.jsx(Ee,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Ws,{to:"/team-management",children:[o.jsx(la,{className:"h-4 w-4 mr-2"}),"Manage Team"]})}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>b(!0),children:[o.jsx(is,{className:"h-4 w-4 mr-2"}),"Meeting History"]}),o.jsx(Ee,{size:"sm",asChild:!0,disabled:e.length===0,children:o.jsxs(Ws,{to:`/tracking/${r||(e.length>0?e[0].id:"1")}`,children:[o.jsx(yo,{className:"h-4 w-4 mr-2"}),r?"View Selected":"Live View"]})}),q&&o.jsxs(Ee,{variant:"outline",size:"sm",onClick:xe,children:[o.jsx(QN,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsx("div",{className:"text-center mb-6",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last updated: ",f.toLocaleTimeString(),c&&"  Refreshing..."]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Active Employees"}),o.jsx(la,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-primary",children:Q.length}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",Se," total employees"]})]})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"In Meetings"}),o.jsx(Tp,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter($=>$.status==="meeting").length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently with clients"})]})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"On Route"}),o.jsx(yo,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter($=>$.status==="active").length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Moving to locations"})]})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Last Update"}),o.jsx($n,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-info",children:"1m"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg response time"})]})]})]}),c&&e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employee data..."})]}),te&&!V&&o.jsx("div",{className:"mb-6",children:o.jsx(HT,{onInstall:()=>console.log("PWA installed"),onDismiss:()=>console.log("PWA install dismissed")})}),v&&e.length>0&&o.jsx(gt,{className:"border-info bg-info/5",children:o.jsx(vt,{className:"pt-6",children:o.jsxs("div",{className:"flex items-start justify-between overflow-auto",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Nn,{className:"h-5 w-5 text-info mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-info mb-1",children:"Update Your Real Location"}),o.jsx("p",{className:"text-sm text-info/80 mb-3",children:`We've detected your team is in India. Click on any employee's "Live View" and use the "Start Tracking" button to update their real location for accurate tracking.`}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Ee,{size:"sm",variant:"outline",className:"border-info text-info hover:bg-info hover:text-white",onClick:()=>{const $=e[0];$&&window.open(`/tracking/${$.id}`,"_blank")},children:[o.jsx(yo,{className:"h-4 w-4 mr-2"}),"Enable Live Tracking"]}),o.jsxs(Ee,{size:"sm",className:"bg-info hover:bg-info/90 text-white",onClick:he,disabled:c,children:[o.jsx(cr,{className:"h-4 w-4 mr-2"}),"Update to Indian Cities"]})]})]})]}),o.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>x(!1),className:"text-info hover:text-info",children:o.jsx(ou,{className:"h-4 w-4"})})]})})}),!c&&e.length===0&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx(la,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),o.jsx("p",{className:"text-muted-foreground",children:"Add employees to start tracking their locations."})]}),!c&&(q==null?void 0:q._id)&&o.jsx("div",{className:"mb-8",children:o.jsx(x_,{userId:q._id,onStartMeeting:$e,onMeetingsFetched:k})}),!c&&e.length>0&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsxs($t,{className:"flex items-center justify-between ",children:[o.jsx("span",{children:"Field Team"}),o.jsxs(Rt,{variant:"secondary",children:[e.length," total"]})]})}),o.jsx(vt,{className:"p-0 sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:o.jsx("div",{className:"space-y-0",children:e.map($=>o.jsx("div",{className:`p-4 border-b last:border-b-0 cursor-pointer transition-colors hover:bg-muted/50 ${r===$.id?"bg-primary/5 border-l-4 border-l-primary":""}`,onClick:()=>a($.id),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx("h4",{className:"font-medium text-foreground",children:$.name}),o.jsx(Rt,{variant:"secondary",className:`text-xs ${oe($.status)}`,children:F($.status)})]}),$.designation&&o.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[$.designation,$.department&&`  ${$.department}`]}),o.jsxs("p",{className:"text-xs text-muted-foreground mb-1",children:[o.jsx(cr,{className:"h-3 w-3 inline mr-1"}),$.location.address]}),$.currentTask&&o.jsx("p",{className:"text-xs text-primary font-medium mb-1",children:$.currentTask}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.jsx($n,{className:"h-3 w-3 inline mr-1"}),"Updated ",$.lastUpdate]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:K=>{K.stopPropagation(),De($.phone)},title:"Call employee",children:o.jsx(gi,{className:"h-3 w-3"})}),o.jsx(Ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:K=>{K.stopPropagation(),de($.email,$.name)},title:"Send email",children:o.jsx(pi,{className:"h-3 w-3"})}),o.jsx(Ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",asChild:!0,title:"Track employee",children:o.jsx(Ws,{to:`/tracking/${$.id}`,onClick:K=>K.stopPropagation(),children:o.jsx(yo,{className:"h-3 w-3"})})})]})]})},$.id))})})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(gt,{className:"h-[600px]",children:[o.jsx(Ft,{children:o.jsxs($t,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Live Location Map"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>{r||a(null)},children:[o.jsx(yo,{className:"h-4 w-4 mr-2"}),r?"Center on Selected":"Fit All"]}),o.jsx("div",{className:"h-2 w-2 rounded-full bg-success animate-pulse"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:"Live"})]})]})}),o.jsxs(vt,{className:"p-4",children:[o.jsx(Vp,{employees:e,selectedEmployee:r,height:"500px",onEmployeeClick:a}),o.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm mt-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-success"}),o.jsx("span",{children:"On Route"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"}),o.jsx("span",{children:"In Meeting"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"}),o.jsx("span",{children:"Offline"})]})]})]})]})})]}),!c&&e.length>0&&o.jsx("div",{className:"mt-8",children:o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsx($t,{children:"Recent Activity"})}),o.jsx(vt,{children:o.jsx("div",{className:"space-y-4",children:e.filter($=>$.status!=="inactive").slice(0,3).map(($,K)=>o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:`h-2 w-2 rounded-full mt-2 ${$.status==="active"?"bg-success":$.status==="meeting"?"bg-warning":"bg-info"}`}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("p",{className:"text-sm font-medium",children:[$.name," ",$.status==="active"?"is on route":$.status==="meeting"?"started meeting":"updated location"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[$.location.address,"  ",$.lastUpdate]})]})]},$.id))})})]})})]}),o.jsx(u_,{isOpen:_,onClose:()=>b(!1)}),o.jsx(pb,{isOpen:P,onClose:()=>{j(!1),T(null)},onStartMeeting:J,employeeName:((Te=e[0])==null?void 0:Te.name)||"Employee",location:((je=e[0])==null?void 0:je.location.address)||"Unknown location",isLoading:I,initialClientName:(C==null?void 0:C.customerName)||"",initialCompanyName:(C==null?void 0:C.companyName)||"",initialReason:(C==null?void 0:C.type)||"",initialNotes:(C==null?void 0:C.remark)||""}),o.jsx(PM,{isOpen:D,onClose:()=>M(!1),onSubmit:U,pendingMeetings:S.filter($=>!($.meetingStatus==="complete"||$.meetingStatus==="Completed"||$.meetingStatus==="COMPLETED"))})]})}const dl=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:wt("w-full caption-bottom text-sm",e),...t})}));dl.displayName="Table";const fl=g.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:wt("[&_tr]:border-b",e),...t}));fl.displayName="TableHeader";const hl=g.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:wt("[&_tr:last-child]:border-0",e),...t}));hl.displayName="TableBody";const kM=g.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:wt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));kM.displayName="TableFooter";const $r=g.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:wt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));$r.displayName="TableRow";const yt=g.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:wt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));yt.displayName="TableHead";const dt=g.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:wt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));dt.displayName="TableCell";const MM=g.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:wt("mt-4 text-sm text-muted-foreground",e),...t}));MM.displayName="TableCaption";function Mb({employeeId:e,isOpen:t,onClose:r}){const[a,c]=g.useState([]),[d,f]=g.useState(!1),[p,v]=g.useState(null),[x,_]=g.useState(""),[b,S]=g.useState("all"),[k,P]=g.useState(1),[j,C]=g.useState(1),[T,D]=g.useState(0),{toast:M}=bo(),I=async(ee=1)=>{f(!0);try{const he=new URLSearchParams({page:ee.toString(),limit:"10"});e&&he.append("employeeId",e),b!=="all"&&he.append("status",b);const De=await pt.get(`/api/route-snapshots?${he}`);if(De.ok){const de=await De.json();c(de.snapshots),C(de.totalPages),D(de.total),P(de.page)}else throw new Error("Failed to fetch snapshots")}catch(he){console.error("Error fetching snapshots:",he),M({title:"Error",description:"Failed to load route snapshots. Please try again.",variant:"destructive"})}finally{f(!1)}};g.useEffect(()=>{t&&I(1)},[t,e,b]);const O=async ee=>{if(confirm("Are you sure you want to delete this snapshot?"))try{if((await pt.delete(`/api/route-snapshots/${ee}`)).ok)M({title:"Snapshot Deleted",description:"Route snapshot has been deleted successfully"}),I(k);else throw new Error("Failed to delete snapshot")}catch(he){console.error("Error deleting snapshot:",he),M({title:"Error",description:"Failed to delete snapshot. Please try again.",variant:"destructive"})}},q=a.filter(ee=>ee.title.toLowerCase().includes(x.toLowerCase())||ee.employeeName.toLowerCase().includes(x.toLowerCase())||ee.description&&ee.description.toLowerCase().includes(x.toLowerCase())),H=ee=>{if(!ee)return"N/A";const he=Math.floor(ee/3600),De=Math.floor(ee%3600/60);return he>0?`${he}h ${De}m`:`${De}m`},te=ee=>ee>1e3?`${(ee/1e3).toFixed(1)} km`:`${ee.toFixed(0)} m`,V=ee=>({id:ee.employeeId,name:ee.employeeName,email:"",phone:"",status:"active",location:ee.startLocation,lastUpdate:new Date(ee.captureTime).toLocaleString()}),Y=ee=>({id:ee.trackingSessionId||ee.id,employeeId:ee.employeeId,startTime:ee.captureTime,endTime:ee.endLocation?ee.captureTime:void 0,startLocation:ee.startLocation,endLocation:ee.endLocation,route:ee.route,totalDistance:ee.totalDistance,duration:ee.duration,status:ee.status});return o.jsxs(o.Fragment,{children:[o.jsx(Nr,{open:t,onOpenChange:r,children:o.jsxs(ur,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[o.jsxs(dr,{children:[o.jsxs(fr,{className:"flex items-center gap-2",children:[o.jsx(ml,{className:"h-5 w-5"}),"Route Snapshot History"]}),o.jsxs(Sr,{children:["View and manage saved route snapshots",e&&" for this employee"]})]}),o.jsxs("div",{className:"flex flex-col h-[70vh]",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"relative",children:[o.jsx(su,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),o.jsx(vn,{placeholder:"Search snapshots...",value:x,onChange:ee=>_(ee.target.value),className:"pl-10"})]})}),o.jsxs(_s,{value:b,onValueChange:S,children:[o.jsx(ss,{className:"w-32",children:o.jsx(bs,{})}),o.jsxs(os,{children:[o.jsx(sn,{value:"all",children:"All Status"}),o.jsx(sn,{value:"active",children:"Active"}),o.jsx(sn,{value:"completed",children:"Completed"})]})]}),o.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>I(k),disabled:d,children:o.jsx(pl,{className:`h-4 w-4 ${d?"animate-spin":""}`})})]}),o.jsx("div",{className:"flex-1 overflow-hidden",children:d?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(pl,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading snapshots..."})]})}):q.length===0?o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ml,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Snapshots Found"}),o.jsx("p",{className:"text-muted-foreground",children:x||b!=="all"?"Try adjusting your search criteria":"No route snapshots have been created yet"})]})}):o.jsx("div",{className:"overflow-y-auto h-full",children:o.jsx("div",{className:"grid gap-4",children:q.map(ee=>o.jsx(gt,{className:"hover:shadow-md transition-shadow",children:o.jsx(vt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("h3",{className:"font-semibold",children:ee.title}),o.jsx(Rt,{variant:"secondary",className:ee.status==="completed"?"bg-success text-success-foreground":"bg-warning text-warning-foreground",children:ee.status})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(is,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:new Date(ee.captureTime).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(aa,{className:"h-4 w-4 text-muted-foreground"}),o.jsxs("span",{children:[ee.snapshotMetadata.routePointsCount," points"]})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(cr,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:te(ee.totalDistance)})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx($n,{className:"h-4 w-4 text-muted-foreground"}),o.jsx("span",{children:H(ee.duration)})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:o.jsx("strong",{children:ee.employeeName})}),ee.description&&o.jsx("p",{className:"text-sm text-muted-foreground",children:ee.description})]}),o.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>v(ee),children:[o.jsx(uw,{className:"h-4 w-4 mr-1"}),"View"]}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>O(ee.id),className:"text-destructive hover:text-destructive",children:o.jsx(pw,{className:"h-4 w-4"})})]})]})})},ee.id))})})}),j>1&&o.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",q.length," of ",T," snapshots"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>I(k-1),disabled:k===1||d,children:[o.jsx(aw,{className:"h-4 w-4"}),"Previous"]}),o.jsxs("span",{className:"text-sm",children:["Page ",k," of ",j]}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>I(k+1),disabled:k===j||d,children:["Next",o.jsx(lw,{className:"h-4 w-4"})]})]})]})]})]})}),p&&o.jsx(Nr,{open:!!p,onOpenChange:()=>v(null),children:o.jsxs(ur,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(dr,{children:[o.jsx(fr,{children:p.title}),o.jsxs(Sr,{children:["Route snapshot captured on ",new Date(p.captureTime).toLocaleString()]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsx(gt,{children:o.jsxs(vt,{className:"p-4 text-center",children:[o.jsx(aa,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:p.snapshotMetadata.routePointsCount}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Route Points"})]})}),o.jsx(gt,{children:o.jsxs(vt,{className:"p-4 text-center",children:[o.jsx(cr,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:te(p.totalDistance)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Distance"})]})}),o.jsx(gt,{children:o.jsxs(vt,{className:"p-4 text-center",children:[o.jsx(is,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:p.meetings.length}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Meetings"})]})}),o.jsx(gt,{children:o.jsxs(vt,{className:"p-4 text-center",children:[o.jsx($n,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("div",{className:"text-2xl font-bold",children:H(p.duration)}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Duration"})]})})]}),o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsx($t,{children:"Route Visualization"})}),o.jsx(vt,{children:o.jsx(Vp,{employees:[V(p)],height:"400px",trackingSession:Y(p),showRoute:!0})})]}),p.description&&o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsx($t,{children:"Description"})}),o.jsx(vt,{children:o.jsx("p",{className:"text-sm",children:p.description})})]}),p.meetings.length>0&&o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsx($t,{children:"Meetings in Snapshot"})}),o.jsx(vt,{children:o.jsx("div",{className:"space-y-3",children:p.meetings.map(ee=>o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:ee.clientName||"Unknown Client"}),o.jsx("div",{className:"text-sm text-muted-foreground",children:ee.location.address}),o.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(ee.startTime).toLocaleString(),ee.endTime&&` - ${new Date(ee.endTime).toLocaleString()}`]})]}),o.jsx(Rt,{variant:"outline",children:ee.status})]},ee.id))})})]})]})]})})]})}const RM=e=>e>=7.5?"full_day":e>=3.5&&e<=7.5?"half_day":"absent";function LM(){const[e,t]=g.useState([]),[r,a]=g.useState(!0),[c,d]=g.useState({employeeId:"all",dateRange:"all",searchTerm:""}),[f,p]=g.useState(null),[v,x]=g.useState([]),[_,b]=g.useState([]),[S,k]=g.useState(!1),[P,j]=g.useState({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1}),[C,T]=g.useState({isOpen:!1,employeeId:""}),[D,M]=g.useState({}),[I,O]=g.useState({}),[q,H]=g.useState({totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0}),te=g.useRef(null);g.useEffect(()=>(te.current&&clearTimeout(te.current),te.current=setTimeout(()=>{V()},300),()=>{te.current&&clearTimeout(te.current)}),[c.employeeId,c.dateRange,c.startDate,c.endDate,c.searchTerm]),g.useEffect(()=>{var Z;f&&$e(f,((Z=e.find(me=>me.employeeId===f))==null?void 0:Z.employeeName)||"Unknown")},[c.dateRange,c.startDate,c.endDate]);const V=async()=>{try{a(!0);const Z=JSON.parse(localStorage.getItem("user")||"{}"),me=String((Z==null?void 0:Z._id)||"").trim(),be=String((Z==null?void 0:Z.email)||"").trim(),ge=new URLSearchParams;c.employeeId&&c.employeeId!=="all"&&ge.append("employeeId",c.employeeId),me&&ge.append("requesterId",me),be&&ge.append("requesterEmail",be),ge.append("dateRange",c.dateRange),c.startDate&&ge.append("startDate",c.startDate),c.endDate&&ge.append("endDate",c.endDate),c.searchTerm&&ge.append("search",c.searchTerm);const Ze=await pt.get(`/api/analytics/employees?${ge}`);if(Ze.ok){const rt=await Ze.json();t(rt.analytics||[]),H(rt.summary||{totalEmployees:0,activeMeetings:0,totalMeetingsToday:0,avgMeetingDuration:0})}else console.error("Failed to fetch analytics"),t([])}catch(Z){console.error("Error fetching analytics",Z),t([])}finally{a(!1)}},Y=(Z,me)=>{d(be=>{const ge={...be,[Z]:me};return Z==="dateRange"&&me!=="custom"&&(ge.startDate=void 0,ge.endDate=void 0),Z==="startDate"&&me&&!be.endDate&&(ge.endDate=pn(new Date,"yyyy-MM-dd")),ge})},ee=()=>{d(Z=>({...Z,startDate:void 0,endDate:void 0}))},he=Z=>{const me=new Date;let be,ge=pn(me,"yyyy-MM-dd");switch(Z){case"last7":be=pn(Jx(me,6),"yyyy-MM-dd");break;case"last30":be=pn(Jx(me,29),"yyyy-MM-dd");break;case"lastMonth":const Ze=new Date(me.getFullYear(),me.getMonth()-1,1),rt=new Date(me.getFullYear(),me.getMonth(),0);be=pn(Ze,"yyyy-MM-dd"),ge=pn(rt,"yyyy-MM-dd");break;case"thisMonth":be=pn(JT(me),"yyyy-MM-dd"),ge=pn(QT(me),"yyyy-MM-dd");break;default:return}d(Ze=>({...Ze,dateRange:"custom",startDate:be,endDate:ge}))},De=()=>{switch(c.dateRange){case"all":return"All Time";case"today":return"Today";case"yesterday":return"Yesterday";case"week":return"This Week";case"month":return"This Month";case"custom":if(c.startDate&&c.endDate){const Z=new Date(c.startDate),me=new Date(c.endDate),be=Z.getFullYear(),ge=me.getFullYear(),Ze=new Date().getFullYear();return be===ge&&be===Ze?`${pn(Z,"MMM dd")} - ${pn(me,"MMM dd")}`:be===ge?`${pn(Z,"MMM dd")} - ${pn(me,"MMM dd, yyyy")}`:`${pn(Z,"MMM dd, yyyy")} - ${pn(me,"MMM dd, yyyy")}`}return"Custom Range";default:return"Today"}},de=()=>{const Z=[["Employee Name","Total Meetings","Today's Meetings","Meeting Hours","Duty Hours"],...e.map(Ze=>[Ze.employeeName,Ze.totalMeetings.toString(),Ze.todayMeetings.toString(),`${Ze.totalMeetingHours.toFixed(1)}h`,`${Ze.totalDutyHours.toFixed(1)}h`])].map(Ze=>Ze.join(",")).join(`
`),me=new Blob([Z],{type:"text/csv"}),be=window.URL.createObjectURL(me),ge=document.createElement("a");ge.href=be,ge.download=`employee-analytics-${pn(new Date,"yyyy-MM-dd")}.csv`,ge.click(),window.URL.revokeObjectURL(be)},$e=async(Z,me)=>{var be,ge;console.log(` Fetching details for employee: ${Z} (${me})`),p(Z),k(!0);try{const Ze=JSON.parse(localStorage.getItem("user")||"{}"),rt=String((Ze==null?void 0:Ze._id)||"").trim(),at=String((Ze==null?void 0:Ze.email)||"").trim(),on=new URLSearchParams({dateRange:c.dateRange,...c.startDate&&{startDate:c.startDate},...c.endDate&&{endDate:c.endDate}});rt&&on.append("requesterId",rt),at&&on.append("requesterEmail",at);const Ut=`/api/analytics/employee-details/${Z}?${on.toString()}`;console.log(` Fetching employee details from: ${Ut}`);const Dt=await pt.get(Ut);if(Dt.ok){const Yt=await Dt.json();console.log(" Employee details received:",{dayRecords:((be=Yt.dayRecords)==null?void 0:be.length)||0,meetingRecords:((ge=Yt.meetingRecords)==null?void 0:ge.length)||0});const en=Yt.dayRecords||[],zt=Yt.meetingRecords||[];zt.length>0?(console.log(" First meeting record structure:",zt[0]),console.log(" Meeting ID present?",!!zt[0].meetingId),console.log(" Approval fields:",{approvalStatus:zt[0].approvalStatus,approvalReason:zt[0].approvalReason,approvedBy:zt[0].approvedBy,approvedByName:zt[0].approvedByName}),console.log(" All meeting IDs:",zt.map(bt=>({meetingId:bt.meetingId,hasId:!!bt.meetingId,company:bt.companyName,approvedBy:bt.approvedBy,approvedByName:bt.approvedByName})))):console.warn(" No meeting records received from API");try{const bt=new URLSearchParams({employeeId:Z});c.startDate&&bt.append("startDate",c.startDate),c.endDate&&bt.append("endDate",c.endDate),rt&&bt.append("requesterId",rt),at&&bt.append("requesterEmail",at);const Qe=`/api/analytics/attendance?${bt}`;console.log(` Fetching attendance from: ${Qe}`);const kn=await pt.get(Qe);if(console.log(` Attendance response status: ${kn.status}`),kn.ok){const dn=await kn.json();if(console.log(" Attendance data received:",dn),dn.success&&dn.data){console.log(` Processing ${dn.data.length} attendance records`);const It=new Map(dn.data.map(_t=>[_t.date,_t]));let Kt=0;en.forEach(_t=>{const Zt=It.get(_t.date);_t.automaticAttendanceStatus=RM(_t.totalDutyHours),Zt?(_t.attendanceStatus=Zt.attendanceStatus,_t.attendanceReason=Zt.attendanceReason,Kt++,console.log(` Merged attendance for ${_t.date}:`,{status:Zt.attendanceStatus,reason:Zt.attendanceReason,automaticStatus:_t.automaticAttendanceStatus})):(_t.attendanceStatus=_t.automaticAttendanceStatus,_t.attendanceReason="Auto-calculated based on duty hours")}),console.log(` Merged ${Kt} attendance records with day records`)}else console.log(" No attendance data in response")}else console.warn(` Attendance API returned status: ${kn.status}`)}catch(bt){console.error(" Failed to fetch attendance data:",bt)}if(console.log(` Setting state with ${en.length} day records and ${zt.length} meeting records`),zt.length>0){console.log(" Sample meeting record:",zt[0]);const bt=zt.filter(Qe=>!Qe.meetingId);bt.length>0&&console.error(` ${bt.length} meetings are missing IDs!`,bt),console.log(" Meeting IDs:",zt.map(Qe=>({id:Qe.meetingId,company:Qe.companyName,hasId:!!Qe.meetingId})))}x(en),b(zt)}else console.error(` Failed to fetch employee details - Status: ${Dt.status}`),x([]),b([])}catch(Ze){console.error(" Error fetching employee details:",Ze),x([]),b([])}finally{k(!1),console.log(" Employee details loading complete")}},J=()=>{p(null),x([]),b([])},xe=(Z,me)=>{const be=["bg-blue-50 border-blue-200 text-blue-900","bg-green-50 border-green-200 text-green-900","bg-purple-50 border-purple-200 text-purple-900","bg-orange-50 border-orange-200 text-orange-900","bg-pink-50 border-pink-200 text-pink-900","bg-indigo-50 border-indigo-200 text-indigo-900"];return be[me%be.length]},U=async(Z,me)=>{var Ze,rt;if(!Z){console.error("No employee ID provided for meeting history");return}console.log("meeting works perfectly");const be=((Ze=e.find(at=>at.employeeId===Z))==null?void 0:Ze.employeeName)||(f===Z?"Selected Employee":"Unknown Employee"),ge=me?`employee: ${Z} (${be}), leadId: ${me}`:`employee: ${Z} (${be})`;console.log(`Opening meeting history for ${ge}`),j({isOpen:!0,employeeId:Z,employeeName:me?`${be} - Lead ${me}`:be,meetingHistory:[],loading:!0});try{const at=new URLSearchParams;at.append("employeeId",Z),at.append("limit","50"),at.append("_t",Date.now().toString()),me&&at.append("leadId",me),c.dateRange!=="all"?(at.append("dateRange",c.dateRange),c.startDate&&at.append("startDate",c.startDate),c.endDate&&at.append("endDate",c.endDate),console.log(`Applying date filter to meeting history for ${be}:`,c.dateRange)):console.log(`Showing ALL meetings in history for ${be} (All Time filter selected)`),console.log(`Fetching meeting history for ${be} with filters: ${at.toString()}`);const Ut=await pt.get(`/api/meeting-history?${at.toString()}`);if(Ut.ok){const Dt=await Ut.json();console.log(`Meeting history response for ${be}: ${((rt=Dt.meetings)==null?void 0:rt.length)||0} records`);const Yt=Dt.meetings||[],en=Yt.filter(bt=>bt.employeeId!==Z);en.length>0&&console.error(`WARNING: Found ${en.length} meetings that don't belong to employee ${Z}:`,en.map(bt=>({meetingEmployeeId:bt.employeeId,leadId:bt.leadId})));const zt=Yt.filter(bt=>bt.employeeId===Z);console.log(`After filtering: ${zt.length} meetings actually belong to ${be}`),j(bt=>({...bt,meetingHistory:zt,loading:!1}))}else console.error(`Failed to fetch meeting history for ${be}`),j(Dt=>({...Dt,meetingHistory:[],loading:!1}))}catch(at){console.error(`Error fetching meeting history for ${be}:`,at),j(on=>({...on,meetingHistory:[],loading:!1}))}},fe=()=>{console.log("Closing meeting history modal"),j({isOpen:!1,employeeId:"",employeeName:"",meetingHistory:[],loading:!1})},oe=Z=>{T({isOpen:!0,employeeId:Z})},F=()=>{T({isOpen:!1,employeeId:""})},Q=[{value:"full_day",label:"Full Day"},{value:"half_day",label:"Half Day"},{value:"off",label:"Off"},{value:"short_leave",label:"Short Leave"},{value:"absent",label:"Absent"},{value:"ot",label:"OT"}],Se=(Z,me,be)=>{M(ge=>({...ge,[Z]:{attendanceStatus:me||"full_day",attendanceReason:be||"",isEditing:!0,isSaving:!1}}))},Te=Z=>{M(me=>{const be={...me};return delete be[Z],be})},je=(Z,me)=>{M(be=>({...be,[Z]:{...be[Z],attendanceStatus:me}}))},$=(Z,me)=>{M(be=>({...be,[Z]:{...be[Z],attendanceReason:me}}))},K=async Z=>{var be;const me=D[Z];if(!(!me||!f)){console.log(` Saving attendance for ${Z}:`,me),M(ge=>({...ge,[Z]:{...ge[Z],isSaving:!0}}));try{const ge=JSON.parse(localStorage.getItem("user")||"{}"),Ze=(ge==null?void 0:ge._id)||null;console.log(` Logged-in user ID: ${Ze}`);const rt=await pt.post("/api/analytics/save-attendance",{employeeId:f,date:Z,attendanceStatus:me.attendanceStatus,attendanceReason:me.attendanceReason,attendenceCreated:Ze,isManual:!0});if(rt.ok){const at=await rt.json();console.log(" Attendance saved successfully:",at),console.log(" Refetching employee details to update attendanceAddedBy...");const on=((be=e.find(Ut=>Ut.employeeId===f))==null?void 0:be.employeeName)||"Employee";await $e(f,on),Te(Z),console.log(` Attendance updated in UI for ${Z}`)}else{console.error(` Failed to save attendance - Status: ${rt.status}`);const at=await rt.text();console.error("Error response:",at),alert("Failed to save attendance. Please try again.")}}catch(ge){console.error(" Error saving attendance:",ge),alert("Error saving attendance. Please try again.")}finally{M(ge=>({...ge,[Z]:{...ge[Z],isSaving:!1}}))}}},le=Z=>{const me=Math.floor(Z),be=Math.round((Z-me)*60);return`${me}h ${be}m`},_e=[{value:"ok",label:"OK"},{value:"not_ok",label:"Not OK"},{value:"pending",label:"Pending"}],ke=Z=>Z.meetingId?Z.meetingId:`${Z.date}_${Z.companyName}_${Z.meetingInTime}`.replace(/\s+/g,"_"),ze=Z=>{const me=ke(Z);console.log(` Editing meeting approval for: ${me}`,{meetingId:Z.meetingId,company:Z.companyName,date:Z.date}),O(be=>({...be,[me]:{approvalStatus:Z.approvalStatus||"",approvalReason:Z.approvalReason||"",isEditing:!0,isSaving:!1,meetingId:Z.meetingId,meetingKey:me}}))},We=Z=>{O(me=>{const be={...me};return delete be[Z],be})},it=(Z,me)=>{O(be=>({...be,[Z]:{...be[Z],approvalStatus:me}}))},Tt=(Z,me)=>{O(be=>({...be,[Z]:{...be[Z],approvalReason:me}}))},ye=async Z=>{const me=I[Z];if(!me||!me.approvalStatus){alert("Please select an approval status");return}if(!me.approvalReason.trim()){alert("Please provide a reason for your approval decision");return}const be=_.find(ge=>ke(ge)===Z);if(!be){console.error(" Cannot find meeting record for key:",Z),alert("Error: Meeting record not found.");return}console.log(` Saving meeting approval for ${Z}:`,{meetingId:me.meetingId,employeeId:f,date:be.date,company:be.companyName,status:me.approvalStatus,reason:me.approvalReason}),O(ge=>({...ge,[Z]:{...ge[Z],isSaving:!0}}));try{const ge=JSON.parse(localStorage.getItem("user")||"{}"),Ze=(ge==null?void 0:ge._id)||null;console.log(` Logged-in user ID: ${Ze}`);let rt;if(me.meetingId){const at=`/api/meetings/${me.meetingId}/approval`;console.log(` Sending PUT request to: ${at}`),rt=await pt.put(at,{approvalStatus:me.approvalStatus,approvalReason:me.approvalReason,approvedBy:Ze})}else{const at="/api/meetings/approval-by-details";console.log(` Sending PUT request to: ${at} (using composite key)`),rt=await pt.put(at,{employeeId:f,date:be.date,companyName:be.companyName,meetingInTime:be.meetingInTime,approvalStatus:me.approvalStatus,approvalReason:me.approvalReason,approvedBy:Ze})}if(console.log(` Response status: ${rt.status}`),rt.ok){const at=await rt.json();console.log(" Meeting approval saved successfully:",at),b(on=>on.map(Ut=>ke(Ut)===Z?{...Ut,approvalStatus:me.approvalStatus,approvalReason:me.approvalReason}:Ut)),We(Z),console.log(` Meeting approval updated in UI for ${Z}`)}else{console.error(` Failed to save meeting approval - Status: ${rt.status}`);const at=await rt.text();console.error("Error response:",at),alert("Failed to save meeting approval. Please try again.")}}catch(ge){console.error(" Error saving meeting approval:",ge),alert("Error saving meeting approval. Please try again.")}finally{O(ge=>({...ge,[Z]:{...ge[Z],isSaving:!1}}))}},Ye=Z=>{switch(Z){case"active":return o.jsx(Rt,{className:"bg-success text-success-foreground",children:"Active"});case"meeting":return o.jsx(Rt,{className:"bg-warning text-warning-foreground",children:"In Meeting"});case"inactive":return o.jsx(Rt,{variant:"secondary",children:"Offline"});default:return o.jsx(Rt,{variant:"secondary",children:"Unknown"})}};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Analytics Dashboard"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Employee performance and meeting analytics for"," ",De()]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ee,{asChild:!0,variant:"outline",size:"sm",children:o.jsxs(Ws,{to:"/route-test",children:[o.jsx(mw,{className:"h-4 w-4 mr-2"}),"Test Route Tracking"]})}),o.jsxs(Ee,{onClick:de,variant:"outline",children:[o.jsx(cw,{className:"h-4 w-4 mr-2"}),"Export Data"]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Total Employees"}),o.jsx(la,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold",children:q.totalEmployees}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Active in system"})]})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Active Meetings"}),o.jsx(Ep,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-warning",children:q.activeMeetings}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently ongoing"})]})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsxs($t,{className:"text-sm font-medium",children:["Meetings ",De()]}),o.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-success",children:q.totalMeetingsToday}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed meetings"})]})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Avg Meeting Duration"}),o.jsx(nS,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsxs("div",{className:"text-2xl font-bold text-info",children:[q.avgMeetingDuration.toFixed(1),"h"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Per meeting"})]})]})]}),o.jsxs(gt,{className:"mb-6",children:[o.jsx(Ft,{children:o.jsxs($t,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(fw,{className:"h-4 w-4 mr-2"}),"Filters"]}),c.dateRange==="custom"&&c.startDate&&c.endDate&&o.jsxs(Rt,{variant:"secondary",className:"text-xs",children:["Custom: ",pn(new Date(c.startDate),"MMM dd")," -"," ",pn(new Date(c.endDate),"MMM dd")]})]})}),o.jsx(vt,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"search",children:"Search Employee"}),o.jsxs("div",{className:"relative",children:[o.jsx(su,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),o.jsx(vn,{id:"search",placeholder:"Search by name...",value:c.searchTerm,onChange:Z=>Y("searchTerm",Z.target.value),className:"pl-8"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{children:"Employee"}),o.jsxs(_s,{value:c.employeeId,onValueChange:Z=>Y("employeeId",Z),children:[o.jsx(ss,{children:o.jsx(bs,{placeholder:"All Employees"})}),o.jsxs(os,{children:[o.jsx(sn,{value:"all",children:"All Employees"}),e.map(Z=>o.jsx(sn,{value:Z.employeeId,children:Z.employeeName},Z.employeeId))]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{children:"Date Range"}),o.jsxs(_s,{value:c.dateRange,onValueChange:Z=>Y("dateRange",Z),children:[o.jsx(ss,{children:o.jsx(bs,{})}),o.jsxs(os,{children:[o.jsx(sn,{value:"all",children:"All Time"}),o.jsx(sn,{value:"today",children:"Today"}),o.jsx(sn,{value:"yesterday",children:"Yesterday"}),o.jsx(sn,{value:"week",children:"This Week"}),o.jsx(sn,{value:"month",children:"This Month"}),o.jsx(sn,{value:"custom",children:"Custom Range"})]})]})]}),c.dateRange==="custom"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"startDate",children:"Start Date"}),o.jsx(vn,{id:"startDate",type:"date",value:c.startDate||"",onChange:Z=>Y("startDate",Z.target.value),max:c.endDate||pn(new Date,"yyyy-MM-dd")})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"endDate",children:"End Date"}),o.jsx(vn,{id:"endDate",type:"date",value:c.endDate||"",onChange:Z=>Y("endDate",Z.target.value),min:c.startDate||"",max:pn(new Date,"yyyy-MM-dd")}),c.dateRange==="custom"&&(!c.startDate||!c.endDate)&&o.jsx("p",{className:"text-xs text-amber-600",children:"Please select both start and end dates"})]})]}),c.dateRange==="custom"&&o.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-2 xl:col-span-2",children:[o.jsx(Wt,{children:"Quick Select"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>he("last7"),className:"text-xs",children:"Last 7 Days"}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>he("last30"),className:"text-xs",children:"Last 30 Days"}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>he("thisMonth"),className:"text-xs",children:"This Month"}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>he("lastMonth"),className:"text-xs",children:"Last Month"})]})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2 lg:col-span-1 xl:col-span-1",children:[o.jsx(Wt,{children:""}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs(Ee,{onClick:V,className:"flex-1",disabled:r||c.dateRange==="custom"&&(!c.startDate||!c.endDate),children:[o.jsx(ZN,{className:"h-4 w-4 mr-2"}),r?"Loading...":"Apply Filter"]}),c.dateRange==="custom"&&o.jsx(Ee,{variant:"outline",onClick:ee,disabled:r,children:"Clear"})]})]})]})})]}),f?o.jsxs("div",{className:"space-y-6",children:[o.jsx(gt,{children:o.jsx(vt,{className:"pt-6",children:o.jsxs(Ee,{onClick:J,variant:"outline",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Employee List"]})})}),S?o.jsx(gt,{children:o.jsx(vt,{className:"py-12",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employee details..."})]})})}):o.jsxs(o.Fragment,{children:[Array.from(new Set([...v.map(me=>me.date),..._.map(me=>me.date)])).sort((me,be)=>new Date(be).getTime()-new Date(me).getTime()).map((me,be)=>{var at,on,Ut,Dt,Yt,en,zt,bt;const ge=v.find(Qe=>Qe.date===me),Ze=_.filter(Qe=>Qe.date===me),rt=xe(me,be);return o.jsxs("div",{className:`p-4 rounded-lg border-2 ${rt}`,children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:pn(new Date(me),"EEEE, MMMM dd, yyyy")}),ge&&o.jsxs(gt,{className:"mb-4",children:[o.jsx(Ft,{children:o.jsx($t,{className:"text-sm",children:"Daily Summary"})}),o.jsx(vt,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(dl,{children:[o.jsx(fl,{children:o.jsxs($r,{className:rt,children:[o.jsx(yt,{children:"Date"}),o.jsx(yt,{children:"Total Meetings"}),o.jsx(yt,{children:"Start Location Time"}),o.jsx(yt,{children:"Start Location Address"}),o.jsx(yt,{children:"Out Location Time"}),o.jsx(yt,{children:"Out Location Address"}),o.jsx(yt,{children:"Total Duty Hours"}),o.jsx(yt,{children:"Meeting Time"}),o.jsx(yt,{children:"Travel & Lunch Time"}),o.jsx(yt,{children:"Attendance Status"}),o.jsx(yt,{children:"Reason"}),o.jsx(yt,{children:"Attendance Added By"}),o.jsx(yt,{children:"Actions"})]})}),o.jsx(hl,{children:o.jsxs($r,{className:`${rt} opacity-80`,children:[o.jsx(dt,{children:pn(new Date(ge.date),"MM/dd/yyyy")}),o.jsx(dt,{children:ge.totalMeetings}),o.jsx(dt,{children:ge.startLocationTime?pn(new Date(ge.startLocationTime),"HH:mm"):"-"}),o.jsx(dt,{children:ge.startLocationAddress||"-"}),o.jsx(dt,{children:ge.outLocationTime?pn(new Date(ge.outLocationTime),"HH:mm"):"-"}),o.jsx(dt,{children:ge.outLocationAddress||"-"}),o.jsx(dt,{children:le(ge.totalDutyHours)}),o.jsx(dt,{children:le(ge.meetingTime)}),o.jsx(dt,{children:le(ge.travelAndLunchTime)}),o.jsx(dt,{children:(at=D[me])!=null&&at.isEditing?o.jsxs(_s,{value:D[me].attendanceStatus,onValueChange:Qe=>je(me,Qe),children:[o.jsx(ss,{className:"w-32",children:o.jsx(bs,{})}),o.jsx(os,{children:Q.map(Qe=>o.jsx(sn,{value:Qe.value,children:Qe.label},Qe.value))})]}):o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm",children:ge.attendanceStatus?((on=Q.find(Qe=>Qe.value===ge.attendanceStatus))==null?void 0:on.label)||ge.attendanceStatus:"Full Day"}),ge.automaticAttendanceStatus&&ge.attendanceStatus!==ge.automaticAttendanceStatus&&o.jsx(Rt,{variant:"outline",className:"text-xs",children:"Manual"})]}),ge.automaticAttendanceStatus&&ge.attendanceStatus!==ge.automaticAttendanceStatus&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:["Auto: ",((Ut=Q.find(Qe=>Qe.value===ge.automaticAttendanceStatus))==null?void 0:Ut.label)||ge.automaticAttendanceStatus,"(",ge.totalDutyHours.toFixed(2),"h)"]})]})}),o.jsx(dt,{children:(Dt=D[me])!=null&&Dt.isEditing?o.jsx(bi,{value:D[me].attendanceReason,onChange:Qe=>$(me,Qe.target.value),placeholder:"Enter reason...",className:"w-40 h-16 text-xs"}):o.jsx("div",{className:"max-w-40 text-xs",children:ge.attendanceReason||"-"})}),o.jsx(dt,{children:o.jsx("div",{className:"text-xs text-muted-foreground",children:ge.attendanceAddedBy||"-"})}),o.jsx(dt,{children:(Yt=D[me])!=null&&Yt.isEditing?o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ee,{size:"sm",onClick:()=>K(me),disabled:(en=D[me])==null?void 0:en.isSaving,className:"h-7 px-2",children:(zt=D[me])!=null&&zt.isSaving?o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):o.jsx(Hm,{className:"h-3 w-3"})}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>Te(me),disabled:(bt=D[me])==null?void 0:bt.isSaving,className:"h-7 px-2",children:""})]}):o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>Se(me,ge.attendanceStatus,ge.attendanceReason),className:"h-7 px-2",children:o.jsx(Wm,{className:"h-3 w-3"})})})]})})]})})})]}),Ze.length>0&&o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsx($t,{className:"text-sm",children:"Meeting Details"})}),o.jsx(vt,{children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(dl,{children:[o.jsx(fl,{children:o.jsxs($r,{className:rt,children:[o.jsx(yt,{children:"Employee Name"}),o.jsx(yt,{children:"Company Name"}),o.jsx(yt,{children:"Date"}),o.jsx(yt,{children:"Lead ID"}),o.jsx(yt,{children:"Meeting In Time"}),o.jsx(yt,{children:"Meeting In Location"}),o.jsx(yt,{children:"Meeting Out Time"}),o.jsx(yt,{children:"Meeting Out Location"}),o.jsx(yt,{children:"Total Stay Time"}),o.jsx(yt,{children:"Discussion"}),o.jsx(yt,{children:"Meeting Person"}),o.jsx(yt,{children:"Approval Status"}),o.jsx(yt,{children:"Approval Reason"}),o.jsx(yt,{children:"Approved By"}),o.jsx(yt,{children:"Attachments"}),o.jsx(yt,{children:"Actions"}),o.jsx(yt,{children:"History"})]})}),o.jsx(hl,{children:Ze.map((Qe,kn)=>{var dn;return o.jsxs($r,{className:`${rt} opacity-80`,children:[o.jsx(dt,{children:((dn=e.find(It=>It.employeeId===f))==null?void 0:dn.employeeName)||Qe.employeeName}),o.jsx(dt,{children:Qe.companyName}),o.jsx(dt,{children:pn(new Date(Qe.date),"MM/dd/yyyy")}),o.jsx(dt,{children:Qe.leadId||"-"}),o.jsx(dt,{children:Qe.meetingInTime}),o.jsx(dt,{children:Qe.meetingInLocation}),o.jsx(dt,{children:Qe.meetingOutTime}),o.jsx(dt,{children:Qe.meetingOutLocation}),o.jsx(dt,{children:le(Qe.totalStayTime)}),o.jsx(dt,{className:"max-w-xs truncate",children:Qe.discussion||"-"}),o.jsx(dt,{children:Qe.meetingPerson}),o.jsx(dt,{children:(()=>{var Kt;const It=ke(Qe);return(Kt=I[It])!=null&&Kt.isEditing?o.jsxs(_s,{value:I[It].approvalStatus,onValueChange:_t=>it(It,_t),children:[o.jsx(ss,{className:"w-28",children:o.jsx(bs,{placeholder:"Select..."})}),o.jsx(os,{children:_e.map(_t=>o.jsx(sn,{value:_t.value,children:_t.label},_t.value))})]}):o.jsx("div",{className:"flex items-center space-x-2",children:Qe.approvalStatus?o.jsx(Rt,{variant:Qe.approvalStatus==="ok"?"default":"destructive",className:Qe.approvalStatus==="ok"?"bg-success text-success-foreground":"",children:Qe.approvalStatus==="ok"?"OK":"Not OK"}):o.jsx("span",{className:"text-xs text-muted-foreground",children:"Not reviewed"})})})()}),o.jsx(dt,{children:(()=>{var Kt;const It=ke(Qe);return(Kt=I[It])!=null&&Kt.isEditing?o.jsx(bi,{value:I[It].approvalReason,onChange:_t=>Tt(It,_t.target.value),placeholder:"Enter reason (required)...",className:"w-48 h-16 text-xs"}):o.jsx("div",{className:"max-w-48 text-xs",children:Qe.approvalReason||"-"})})()}),o.jsx(dt,{children:o.jsx("div",{className:"text-xs text-muted-foreground",children:Qe.approvedByName||"-"})}),o.jsx(dt,{children:Qe.attachments&&Qe.attachments.length>0?o.jsx("div",{className:"flex flex-col space-y-1",children:Qe.attachments.map((It,Kt)=>{const _t=It.startsWith("data:");let Zt=`File ${Kt+1}`,ve="";if(_t){const Ne=It.match(/data:([^;]+);/);if(Ne){ve=Ne[1];const Oe=ve.split("/")[1];Zt=`attachment-${Kt+1}.${Oe}`}}else Zt=It.split("/").pop()||Zt;return o.jsxs("a",{href:It,download:Zt,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline flex items-center space-x-1",children:[o.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),o.jsx("span",{className:"truncate max-w-[150px]",title:Zt,children:Zt})]},Kt)})}):o.jsx("div",{className:"text-xs text-muted-foreground",children:"-"})}),o.jsx(dt,{children:(()=>{var Kt,_t,Zt,ve;const It=ke(Qe);return(Kt=I[It])!=null&&Kt.isEditing?o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ee,{size:"sm",onClick:()=>ye(It),disabled:(_t=I[It])==null?void 0:_t.isSaving,className:"h-7 px-2",children:(Zt=I[It])!=null&&Zt.isSaving?o.jsx("div",{className:"animate-spin h-3 w-3 border-2 border-white border-t-transparent rounded-full"}):o.jsx(Hm,{className:"h-3 w-3"})}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>We(It),disabled:(ve=I[It])==null?void 0:ve.isSaving,className:"h-7 px-2",children:""})]}):o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>ze(Qe),className:"h-7 px-2",title:"Edit approval",children:o.jsx(Wm,{className:"h-3 w-3"})})})()}),o.jsx(dt,{children:o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>{const It=f,Kt=Qe.leadId;U(It,Kt)},children:[o.jsx(ml,{className:"h-4 w-4 mr-1"}),"History"]})})]},kn)})})]})})})]})]},me)}),v.length===0&&_.length===0&&o.jsx(gt,{children:o.jsx(vt,{className:"py-12",children:o.jsx("div",{className:"text-center",children:o.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected employee and date range"})})})})]})]}):o.jsxs(gt,{children:[o.jsxs(Ft,{children:[o.jsx($t,{children:"Employee Analytics"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed breakdown of employee performance and meeting statistics"})]}),o.jsx(vt,{children:r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading analytics..."})]}):e.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No data available for the selected filters"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(dl,{children:[o.jsx(fl,{children:o.jsxs($r,{children:[o.jsx(yt,{children:"Employee Name"}),o.jsx(yt,{children:"Status"}),o.jsx(yt,{className:"text-center",children:"Total Meetings"}),o.jsx(yt,{className:"text-center",children:"Today's Meetings"}),o.jsx(yt,{className:"text-center",children:"Meeting Hours"}),o.jsx(yt,{className:"text-center",children:"Duty Hours"}),o.jsx(yt,{className:"text-center",children:"Actions"})]})}),o.jsx(hl,{children:e.map(Z=>o.jsxs($r,{children:[o.jsx(dt,{className:"font-medium",children:Z.employeeName}),o.jsx(dt,{children:Ye(Z.status)}),o.jsx(dt,{className:"text-center",children:o.jsx(Rt,{variant:"outline",children:Z.totalMeetings})}),o.jsx(dt,{className:"text-center",children:o.jsx(Rt,{variant:"outline",className:Z.todayMeetings>0?"bg-success/10 text-success border-success":"",children:Z.todayMeetings})}),o.jsx(dt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx($n,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{children:le(Z.totalMeetingHours)})]})}),o.jsx(dt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx($n,{className:"h-3 w-3 text-muted-foreground"}),o.jsx("span",{children:le(Z.totalDutyHours)})]})}),o.jsx(dt,{className:"text-center",children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>$e(Z.employeeId,Z.employeeName),children:[o.jsx(uw,{className:"h-4 w-4 mr-1"}),"View Details"]}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>oe(Z.employeeId),children:[o.jsx(ml,{className:"h-4 w-4 mr-1"}),"Route History"]})]})})]},Z.employeeId))})]})})})]})]}),o.jsx(Nr,{open:P.isOpen,onOpenChange:fe,children:o.jsxs(ur,{className:"sm:max-w-[1200px] max-h-[80vh] overflow-y-auto",children:[o.jsxs(dr,{children:[o.jsxs(fr,{className:"flex items-center space-x-2",children:[o.jsx(ml,{className:"h-5 w-5 text-primary"}),o.jsxs("span",{children:["Meeting History - ",P.employeeName," (ID:"," ",P.employeeId,")"]})]}),o.jsx(Sr,{children:"Complete meeting history and interactions for this employee"})]}),o.jsx("div",{className:"space-y-4",children:P.loading?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading meeting history..."})]}):P.meetingHistory.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No meeting history found for this employee"})}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(dl,{children:[o.jsx(fl,{children:o.jsxs($r,{children:[o.jsx(yt,{children:"Date"}),o.jsx(yt,{children:"Employee"}),o.jsx(yt,{children:"Company"}),o.jsx(yt,{children:"Lead ID"}),o.jsx(yt,{children:"Customer Name"}),o.jsx(yt,{children:"Contact Person"}),o.jsx(yt,{children:"Contact Details"}),o.jsx(yt,{children:"Discussion"}),o.jsx(yt,{children:"Status"})]})}),o.jsx(hl,{children:P.meetingHistory.map((Z,me)=>{var be,ge,Ze,rt,at,on,Ut,Dt,Yt,en,zt,bt,Qe,kn,dn,It,Kt,_t,Zt,ve,Ne,Oe,qe,z,ae,re,we,Re,Ie,Be,ft,Ve,He,ot,st,xt,Ke;return o.jsxs($r,{children:[o.jsx(dt,{children:pn(new Date(Z.timestamp),"MMM dd, yyyy HH:mm")}),o.jsx(dt,{className:"font-medium",children:P.employeeName}),o.jsx(dt,{className:"font-medium",children:((be=Z.meetingDetails)==null?void 0:be.customerName)||((rt=(Ze=(ge=Z.meetingDetails)==null?void 0:ge.customers)==null?void 0:Ze[0])==null?void 0:rt.customerName)||((at=Z.leadInfo)==null?void 0:at.companyName)||"-"}),o.jsx(dt,{children:Z.leadId?o.jsx(Rt,{variant:"outline",children:Z.leadId}):o.jsx("span",{className:"text-muted-foreground",children:"-"})}),o.jsx(dt,{children:((Ut=(on=Z.meetingDetails)==null?void 0:on.customers)==null?void 0:Ut.map(St=>St.customerName).join(", "))||((Dt=Z.meetingDetails)==null?void 0:Dt.customerName)||"-"}),o.jsx(dt,{children:((en=(Yt=Z.meetingDetails)==null?void 0:Yt.customers)==null?void 0:en.map(St=>St.customerEmployeeName).join(", "))||((zt=Z.meetingDetails)==null?void 0:zt.customerEmployeeName)||"-"}),o.jsx(dt,{children:o.jsxs("div",{className:"text-xs space-y-1",children:[(((kn=(Qe=(bt=Z.meetingDetails)==null?void 0:bt.customers)==null?void 0:Qe[0])==null?void 0:kn.customerEmail)||((dn=Z.meetingDetails)==null?void 0:dn.customerEmail))&&o.jsxs("div",{children:[""," ",((_t=(Kt=(It=Z.meetingDetails)==null?void 0:It.customers)==null?void 0:Kt[0])==null?void 0:_t.customerEmail)||((Zt=Z.meetingDetails)==null?void 0:Zt.customerEmail)]}),(((Oe=(Ne=(ve=Z.meetingDetails)==null?void 0:ve.customers)==null?void 0:Ne[0])==null?void 0:Oe.customerMobile)||((qe=Z.meetingDetails)==null?void 0:qe.customerMobile))&&o.jsxs("div",{children:[""," ",((re=(ae=(z=Z.meetingDetails)==null?void 0:z.customers)==null?void 0:ae[0])==null?void 0:re.customerMobile)||((we=Z.meetingDetails)==null?void 0:we.customerMobile)]}),(((Be=(Ie=(Re=Z.meetingDetails)==null?void 0:Re.customers)==null?void 0:Ie[0])==null?void 0:Be.customerDesignation)||((ft=Z.meetingDetails)==null?void 0:ft.customerDesignation))&&o.jsxs("div",{children:[""," ",((ot=(He=(Ve=Z.meetingDetails)==null?void 0:Ve.customers)==null?void 0:He[0])==null?void 0:ot.customerDesignation)||((st=Z.meetingDetails)==null?void 0:st.customerDesignation)]})]})}),o.jsx(dt,{className:"max-w-xs",children:o.jsx("div",{className:"truncate",title:(xt=Z.meetingDetails)==null?void 0:xt.discussion,children:((Ke=Z.meetingDetails)==null?void 0:Ke.discussion)||"-"})}),o.jsx(dt,{children:o.jsx(Rt,{variant:"default",className:"bg-success text-success-foreground",children:"Completed"})})]},me)})})]})})})]})}),o.jsx(Mb,{employeeId:C.employeeId,isOpen:C.isOpen,onClose:F})]})}const AM=(e={})=>{const[t,r]=g.useState({latitude:null,longitude:null,accuracy:null,error:null,loading:!0}),{enableHighAccuracy:a=!1,maximumAge:c=6e4,timeout:d=15e3,watchPosition:f=!1}=e,p=g.useCallback(_=>(r({latitude:_.coords.latitude,longitude:_.coords.longitude,accuracy:_.coords.accuracy,error:null,loading:!1}),_),[]),v=g.useCallback(_=>{let b="An unknown error occurred";switch(_.code){case _.PERMISSION_DENIED:b="Location access denied by user";break;case _.POSITION_UNAVAILABLE:b="Location information unavailable";break;case _.TIMEOUT:b="Location request timed out";break}return r(S=>({...S,error:b,loading:!1})),null},[]),x=g.useCallback(()=>new Promise(_=>{if(!navigator.geolocation){r(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1})),_(null);return}r(b=>({...b,loading:!0,error:null})),navigator.geolocation.getCurrentPosition(b=>_(p(b)),b=>_(v(b)),{enableHighAccuracy:a,maximumAge:c,timeout:d})}),[a,c,d,p,v]);return g.useEffect(()=>{if(!navigator.geolocation){r(b=>({...b,error:"Geolocation is not supported by this browser",loading:!1}));return}let _=null;return f?_=navigator.geolocation.watchPosition(p,v,{enableHighAccuracy:a,maximumAge:c,timeout:d}):x(),()=>{_!==null&&navigator.geolocation.clearWatch(_)}},[f,x,p,v,a,c,d]),{...t,getCurrentPosition:x}};function DM({employeeId:e,employeeName:t,onLocationUpdate:r,trackingEnabled:a=!1,onTrackingSessionStart:c,onTrackingSessionEnd:d,todaysMeetings:f=[]}){const{toast:p}=bo(),[v,x]=g.useState(!1),[_,b]=g.useState(""),[S,k]=g.useState(!1),[P,j]=g.useState([]),[C,T]=g.useState({}),D=()=>{try{const ve=localStorage.getItem(`tracking_${e}`);if(ve){const Ne=JSON.parse(ve);if(console.log(" Restored tracking state from localStorage:",Ne),Ne.isTracking===!0)return!0}}catch(ve){console.warn("Error reading tracking state from localStorage:",ve)}return!1},[M,I]=g.useState(D),[O,q]=g.useState(null),[H,te]=g.useState(0),[V,Y]=g.useState(null),[ee,he]=g.useState(0),[De,de]=g.useState(0),J=(()=>{try{const ve=localStorage.getItem(`trackingData_${e}`);if(ve){const Ne=JSON.parse(ve);return console.log(" Restored tracking data from localStorage:",Ne),{currentSession:Ne.currentSession,trackingStartTime:Ne.trackingStartTime?new Date(Ne.trackingStartTime):null,routeCoordinates:Ne.routeCoordinates||[],totalDistance:Ne.totalDistance||0}}}catch(ve){console.warn("Error reading tracking data from localStorage:",ve)}return{currentSession:null,trackingStartTime:null,routeCoordinates:[],totalDistance:0}})(),[xe,U]=g.useState(J.currentSession),[fe,oe]=g.useState(J.trackingStartTime),[F,Q]=g.useState(null),[Se,Te]=g.useState(0),[je,$]=g.useState(J.routeCoordinates),[K,le]=g.useState(J.totalDistance),_e=g.useRef(null),ke=(ve,Ne,Oe,qe,z)=>{try{const ae={isTracking:ve,timestamp:new Date().toISOString()},re={currentSession:Ne,trackingStartTime:Oe==null?void 0:Oe.toISOString(),routeCoordinates:qe,totalDistance:z,lastSaved:new Date().toISOString()};localStorage.setItem(`tracking_${e}`,JSON.stringify(ae)),localStorage.setItem(`trackingData_${e}`,JSON.stringify(re)),console.log(" Tracking state saved to localStorage")}catch(ae){console.warn("Error saving tracking state to localStorage:",ae)}},ze=()=>{try{localStorage.removeItem(`tracking_${e}`),localStorage.removeItem(`trackingData_${e}`),console.log(" Tracking state cleared from localStorage")}catch(ve){console.warn("Error clearing tracking state from localStorage:",ve)}},[We,it]=g.useState(!1),[Tt,ye]=g.useState(!1),[Ye,Z]=g.useState(!1),[me,be]=g.useState(null),{latitude:ge,longitude:Ze,accuracy:rt,error:at,loading:on,getCurrentPosition:Ut}=AM({enableHighAccuracy:!0,maximumAge:0,timeout:3e4,watchPosition:M});g.useEffect(()=>{var ve;M&&fe&&xe&&(console.log(" Restored active tracking session, resuming..."),Ut(),c==null||c(xe),Ye&&Tt&&(console.log(" Restarting background tracking via Service Worker"),(ve=navigator.serviceWorker.controller)==null||ve.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}})))},[]),g.useEffect(()=>{const ve=()=>{M&&xe&&(ke(M,xe,fe,je,K),console.log(" Saved tracking state before page unload"))};return window.addEventListener("beforeunload",ve),()=>{window.removeEventListener("beforeunload",ve)}},[M,xe,fe,je,K]),g.useEffect(()=>{const ve=window.matchMedia("(display-mode: standalone)").matches,Ne=window.matchMedia("(display-mode: standalone)").matches;it(ve||Ne);const Oe="serviceWorker"in navigator,qe="Notification"in window;return ye(Oe&&qe),Oe&&navigator.serviceWorker.ready.then(z=>{console.log("Service Worker ready for location tracking"),Z(!0),navigator.serviceWorker.addEventListener("message",Yt)}),()=>{"serviceWorker"in navigator&&navigator.serviceWorker.removeEventListener("message",Yt)}},[]);const Dt=g.useCallback((ve,Ne,Oe,qe)=>{const ae=ve*Math.PI/180,re=Oe*Math.PI/180,we=(Oe-ve)*Math.PI/180,Re=(Ne-qe)*Math.PI/180,Ie=Math.sin(we/2)*Math.sin(we/2)+Math.cos(ae)*Math.cos(re)*Math.sin(Re/2)*Math.sin(Re/2);return 6371e3*(2*Math.atan2(Math.sqrt(Ie),Math.sqrt(1-Ie)))},[]),Yt=g.useCallback(ve=>{var Ne,Oe;if(((Ne=ve.data)==null?void 0:Ne.type)==="LOCATION_UPDATE"){const qe=ve.data.payload;if(console.log("Received background location update:",qe),M){const z={lat:qe.latitude,lng:qe.longitude,address:`${qe.latitude.toFixed(6)}, ${qe.longitude.toFixed(6)}`,timestamp:qe.timestamp};$(ae=>{const re=[...ae,z];if(ae.length>0){const we=ae[ae.length-1],Re=Dt(we.lat,we.lng,qe.latitude,qe.longitude);le(Ie=>Ie+Re)}return re})}}((Oe=ve.data)==null?void 0:Oe.type)==="GET_EMPLOYEE_ID"&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"EMPLOYEE_ID_RESPONSE",payload:e})},[M,e,Dt]);g.useEffect(()=>(M&&fe?(Te(Date.now()-fe.getTime()),_e.current=setInterval(()=>{Te(Date.now()-fe.getTime())},1e3)):_e.current&&(clearInterval(_e.current),_e.current=null),()=>{_e.current&&clearInterval(_e.current)}),[M,fe]),g.useEffect(()=>{if(ge&&Ze&&rt&&M){const ve=Date.now(),Ne=ve-De;if((()=>{if(De===0)return!0;if(Ne<3e4)return!1;if(Ne>=12e4)return!0;if(je.length>0){const qe=je[je.length-1];if(Dt(qe.lat,qe.lng,ge,Ze)>10)return!0}return!1})()){en(ge,Ze,rt);const qe={lat:ge,lng:Ze,address:`${ge.toFixed(6)}, ${Ze.toFixed(6)}`,timestamp:new Date().toISOString()};$(z=>{if(!(()=>{if(z.length===0)return!0;const we=z[z.length-1];return!!(Dt(we.lat,we.lng,ge,Ze)>10||rt&&rt<10&&(!we.accuracy||rt<we.accuracy*.5)||new Date().getTime()-new Date(we.timestamp).getTime()>6e5)})()){const we=Dt(z[z.length-1].lat,z[z.length-1].lng,ge,Ze);return we>2&&console.log(`Route point filtered: moved ${we.toFixed(1)}m (threshold: 10m)`),z}const re=[...z,{...qe,accuracy:rt}];if(z.length>0){const we=z[z.length-1],Re=Dt(we.lat,we.lng,ge,Ze);le(Ie=>{const Be=Ie+Re;return ke(!0,xe,fe,re,Be),console.log(` Added route point: ${Re.toFixed(1)}m from last, ${re.length} total points, ${(Be/1e3).toFixed(2)}km total`),Be})}else ke(!0,xe,fe,re,K),console.log(` Added first route point at ${ge.toFixed(6)}, ${Ze.toFixed(6)}`);return re}),q(new Date),te(z=>z+1),de(ve),r==null||r(ge,Ze,rt)}else{const qe=Ne<2e3?`Rate limited: ${Math.ceil((2e3-Ne)/1e3)}s remaining`:"No significant movement detected";console.log(qe)}}},[ge,Ze,rt,M,r,De,Dt]),console.log("testing location");const en=async(ve,Ne,Oe,qe=0)=>{try{console.log("Attempting to update location:",{employeeId:e,lat:ve,lng:Ne,accuracy:Oe,retryCount:qe});const z=new AbortController,ae=setTimeout(()=>z.abort(),1e4),re=await pt.put(`/api/employees/${e}/location`,{lat:ve,lng:Ne,accuracy:Oe},{signal:z.signal});if(clearTimeout(ae),!re.ok){const Re=await re.text();throw new Error(`Failed to update location: ${re.status} ${re.statusText} - ${Re}`)}const we=await re.json();console.log("Location update successful:",we),Y(null),he(0)}catch(z){if(console.error("Error updating location:",z),qe<1&&z instanceof TypeError&&z.message.includes("fetch")||z.name==="AbortError"){console.log("Retrying location update after error..."),setTimeout(()=>en(ve,Ne,Oe,qe+1),1e4);return}Y(z instanceof Error?z.message:"Unknown error"),he(ae=>ae+1),ee>=1&&(I(!1),console.warn("Disabling tracking due to repeated failures"))}},zt=async()=>{var we;const ve=new Date;oe(ve),Q(null),Te(0),$([]),le(0),I(!0);try{if("wakeLock"in navigator){const Re=await navigator.wakeLock.request("screen");be(Re),console.log("Wake lock acquired for better tracking")}}catch(Re){console.warn("Wake lock failed:",Re)}let Ne=ge||0,Oe=Ze||0,qe="Getting location...";try{console.log(" Fetching fresh location for start position...");const Re=await Ut();if(Re&&Re.coords){Ne=Re.coords.latitude,Oe=Re.coords.longitude,console.log(" Fresh start location obtained:",{lat:Ne,lng:Oe});try{console.log(" Fetching address for start location...");const Ie=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Ne}&lon=${Oe}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"}});Ie.ok?(qe=(await Ie.json()).display_name||`${Ne.toFixed(6)}, ${Oe.toFixed(6)}`,console.log(" Start address resolved:",qe)):qe=`${Ne.toFixed(6)}, ${Oe.toFixed(6)}`}catch(Ie){console.warn(" Failed to get start address, using coordinates:",Ie),qe=`${Ne.toFixed(6)}, ${Oe.toFixed(6)}`}}}catch(Re){console.warn(" Failed to get fresh start location:",Re),qe=Ne&&Oe?`${Ne.toFixed(6)}, ${Oe.toFixed(6)}`:"Getting location..."}Ye&&Tt&&(console.log("Starting background tracking via Service Worker"),(we=navigator.serviceWorker.controller)==null||we.postMessage({type:"START_BACKGROUND_TRACKING",payload:{employeeId:e}}));const z=`session_${e}_${ve.getTime()}`,ae={lat:Ne,lng:Oe,address:qe,timestamp:ve.toISOString()},re={id:z,employeeId:e,startTime:ve.toISOString(),startLocation:ae,route:[],totalDistance:0,status:"active"};console.log("Starting tracking session with address:",re),U(re),ke(!0,re,ve,[],0),c==null||c(re)};console.log("testing ");const bt=async()=>{const ve=new Date;Q(ve),I(!1);try{const Ne=(f||[]).filter(Oe=>{var z;const qe=(z=Oe.meetingStatus)==null?void 0:z.toLowerCase();return qe!=="complete"&&qe!=="completed"&&qe!=="approved"});if(Ne&&Ne.length>0){console.log("Incomplete meetings detected:",Ne),j(Ne);const Oe={};Ne.forEach(qe=>{Oe[qe._id]=""}),T(Oe),x(!0),I(!0),Q(null),p({title:"Incomplete Meetings",description:`You have ${Ne.length} incomplete meeting(s). Please provide a reason before logging out.`,variant:"destructive"});return}}catch(Ne){console.warn("Error checking for incomplete meetings:",Ne)}await Qe(ve)},Qe=async ve=>{var ae;console.log(" Starting performStopTracking - fetching fresh location...");let Ne=ge,Oe=Ze,qe=rt,z=ge&&Ze?`${ge.toFixed(6)}, ${Ze.toFixed(6)}`:"Location unavailable";try{console.log(" Requesting fresh GPS location for end position...");const re=await Ut();if(re&&re.coords){Ne=re.coords.latitude,Oe=re.coords.longitude,qe=re.coords.accuracy,console.log(" Fresh end location obtained:",{lat:Ne,lng:Oe,accuracy:qe});try{console.log(" Fetching address for end location..."),await new Promise(Re=>setTimeout(Re,1e3));const we=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Ne}&lon=${Oe}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"EmployeeTrackingApp/1.0"},signal:AbortSignal.timeout(5e3)});we.ok?(z=(await we.json()).display_name||`${Ne.toFixed(6)}, ${Oe.toFixed(6)}`,console.log(" End address resolved:",z)):(console.warn(" Address API returned error:",we.status),z=`${Ne.toFixed(6)}, ${Oe.toFixed(6)}`)}catch(we){console.warn(" Failed to get address, using coordinates:",we),z=`${Ne.toFixed(6)}, ${Oe.toFixed(6)}`}await en(Ne,Oe,qe)}else console.warn(" Fresh location not available, using last known location:",{lat:Ne,lng:Oe})}catch(re){console.warn(" Failed to get fresh location, using last known:",re)}if(me)try{await me.release(),be(null),console.log("Wake lock released")}catch(re){console.warn("Failed to release wake lock:",re)}if(Ye&&(console.log("Stopping background tracking via Service Worker"),(ae=navigator.serviceWorker.controller)==null||ae.postMessage({type:"STOP_BACKGROUND_TRACKING"})),_e.current&&(clearInterval(_e.current),_e.current=null),console.log("Stopping tracking - Debug info:",{hasCurrentSession:!!xe,hasCoordinates:!!(Ne&&Oe),endLat:Ne,endLng:Oe,routePointsCount:je.length,totalDistance:K,elapsedTime:Se}),xe){const re={lat:Ne||xe.startLocation.lat,lng:Oe||xe.startLocation.lng,address:z,timestamp:ve.toISOString()};let we=K;if(je.length>=2)try{console.log(`Calculating accurate distance for ${je.length} GPS points...`);const Ie=ns.createGPSRoute(je);Ie.distance>0?(we=Ie.distance,console.log(`Distance updated to GPS-calculated: ${(we/1e3).toFixed(2)} km (was ${(K/1e3).toFixed(2)} km)`)):console.log(`Keeping original GPS distance: ${(K/1e3).toFixed(2)} km`)}catch(Ie){console.warn("Failed to calculate improved distance, using original GPS distance:",Ie.message)}else console.log(`Route has only ${je.length} points, keeping GPS distance: ${(K/1e3).toFixed(2)} km`);const Re={...xe,endTime:ve.toISOString(),endLocation:re,route:je.length>0?je:[xe.startLocation],totalDistance:we,duration:Se/1e3,status:"completed"};console.log("Calling onTrackingSessionEnd with session:",Re),U(Re),ze(),d==null||d(Re)}else console.log("Cannot end tracking session - no current session"),ze()},kn=async()=>{if(P.some(Ne=>!C[Ne._id]||!C[Ne._id].trim())){p({title:"Error",description:"Please provide a reason for each incomplete meeting.",variant:"destructive"});return}k(!0);try{console.log("Saving incomplete meeting remarks for employee:",e),console.log("Incomplete meetings:",P),console.log("Meeting remarks:",C);const Ne=P.map(async re=>{try{const Re="https://jbdspower.in/LeafNetServer/api".replace("/getAllLead",""),Ie=await fetch(`${Re}/updateFollowUp/${re._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"Incomplete"})});Ie.ok?console.log(` Updated meeting ${re.companyName} to Incomplete status`):console.warn(`Failed to update meeting ${re.companyName} status:`,Ie.status)}catch(we){console.error(`Error updating meeting ${re.companyName}:`,we)}});await Promise.all(Ne);const Oe=P.map(re=>({_id:re._id,leadId:re.leadId,companyName:re.companyName,customerName:re.customerName,customerEmail:re.customerEmail||"",customerMobile:re.customerMobile||"",customerDesignation:re.customerDesignation||"",meetingTime:re.meetingTime||"",incompleteReason:C[re._id]})),qe=await pt.post("/api/incomplete-meeting-remarks",{employeeId:e,reason:"Multiple incomplete meetings",pendingMeetings:Oe});if(!qe.ok){const re=await qe.text().catch(()=>"Unknown error");throw new Error(`Failed to save remark: ${qe.status} ${re}`)}const z=await qe.json();console.log("Incomplete meeting remarks saved:",z),p({title:"Meetings Marked Incomplete",description:`${P.length} meeting(s) marked as incomplete with reasons.`}),I(!1),x(!1),T({}),j([]),await Qe(new Date)}catch(Ne){console.error("Error saving remark:",Ne),p({title:"Error",description:Ne instanceof Error?Ne.message:"Failed to save remark",variant:"destructive"})}finally{k(!1)}},dn=()=>{x(!1),b(""),j([])},It=ve=>ve?ve<=10?"bg-success":ve<=50?"bg-warning":"bg-destructive":"bg-muted",Kt=ve=>ve?ve<=10?"High":ve<=50?"Medium":"Low":"Unknown",_t=ve=>{const Ne=Math.floor(ve/1e3),Oe=Math.floor(Ne/60),qe=Math.floor(Oe/60);return qe>0?`${qe}h ${Oe%60}m ${Ne%60}s`:Oe>0?`${Oe}m ${Ne%60}s`:`${Ne}s`},Zt=ve=>ve>=1e3?`${(ve/1e3).toFixed(2)} km`:`${Math.round(ve)} m`;return o.jsxs(gt,{className:"w-full",children:[o.jsx(Ft,{children:o.jsxs($t,{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(cr,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Location Tracking"})]}),o.jsx(Rt,{variant:M?"default":"secondary",className:M?"bg-success":"",children:M?"Active":"Inactive"})]})}),o.jsxs(vt,{className:"space-y-4",children:[o.jsxs("div",{className:"text-sm text-muted-foreground",children:["Tracking for: ",o.jsx("span",{className:"font-medium",children:t})]}),We&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm bg-primary/10 border border-primary/20 rounded-lg p-2",children:[o.jsx(Hd,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-primary font-medium",children:"PWA Mode Active"}),o.jsx(Rt,{variant:"secondary",className:"text-xs",children:Tt?"Background Tracking Enabled":"Limited Background"})]}),!We&&Tt&&o.jsxs("div",{className:"text-xs text-muted-foreground bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Hd,{className:"h-3 w-3 text-amber-600"}),o.jsx("span",{className:"font-medium text-amber-700 dark:text-amber-400",children:"Better Tracking Available"})]}),o.jsx("p",{className:"mt-1",children:"Install this app to your home screen for improved background GPS tracking when phone is in pocket."})]}),M&&fe&&o.jsxs("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(sx,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"font-medium",children:"Session Active"})]}),o.jsx("div",{className:"text-sm font-mono text-primary",children:_t(Se)})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Started"}),o.jsx("div",{className:"font-medium",children:fe.toLocaleTimeString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Distance"}),o.jsx("div",{className:"font-medium",children:Zt(K)})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[o.jsx(aa,{className:"h-3 w-3"}),o.jsxs("span",{children:["Route points: ",je.length]})]})]}),!M&&F&&fe&&o.jsxs("div",{className:"bg-success/5 border border-success/20 rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(rs,{className:"h-4 w-4 text-success"}),o.jsx("span",{className:"font-medium",children:"Last Session"})]}),o.jsx("div",{className:"text-sm font-mono text-success",children:_t(F.getTime()-fe.getTime())})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Started"}),o.jsx("div",{className:"font-medium",children:fe.toLocaleTimeString()})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Ended"}),o.jsx("div",{className:"font-medium",children:F.toLocaleTimeString()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-muted-foreground flex items-center",children:[o.jsx(hw,{className:"h-3 w-3 mr-1"}),"Distance"]}),o.jsx("div",{className:"font-medium",children:Zt(K)})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-muted-foreground flex items-center",children:[o.jsx(aa,{className:"h-3 w-3 mr-1"}),"Points"]}),o.jsx("div",{className:"font-medium",children:je.length})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[on&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(Tl,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Getting location..."})]}),at&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsx("span",{children:at})]}),V&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsxs("span",{children:["Update failed: ",V," (Failures: ",ee,")"]})]}),ge&&Ze&&!on&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-success",children:[o.jsx(rs,{className:"h-4 w-4"}),o.jsx("span",{children:"Location acquired"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Latitude"}),o.jsx("div",{className:"font-mono",children:ge.toFixed(6)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-muted-foreground",children:"Longitude"}),o.jsx("div",{className:"font-mono",children:Ze.toFixed(6)})]})]}),rt&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Accuracy"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:`h-2 w-2 rounded-full ${It(rt)}`}),o.jsxs("span",{className:"text-sm",children:[Kt(rt)," (",Math.round(rt),"m)"]})]})]}),O&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[o.jsx($n,{className:"h-4 w-4"}),o.jsxs("span",{children:["Last update: ",O.toLocaleTimeString()," (",H," updates)"]})]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[M?o.jsx(Ee,{onClick:bt,variant:"destructive",className:"flex-1",children:"LogOut"}):o.jsxs(Ee,{onClick:zt,className:"flex-1",children:[o.jsx(yo,{className:"h-4 w-4 mr-2"}),"LogIn"]}),o.jsxs(Ee,{variant:"outline",onClick:Ut,children:[o.jsx(cr,{className:"h-4 w-4 mr-2"}),"Update Now"]})]}),!M&&o.jsxs("div",{className:"text-xs text-muted-foreground p-3 bg-muted/50 rounded-md",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Note:"})," Location tracking requires permission and works best outdoors or near windows. High accuracy mode uses GPS and may drain battery faster."]}),We?o.jsxs("p",{className:"mt-2 text-success",children:[o.jsx("strong",{children:"PWA Mode:"})," Enhanced background tracking is active. Your route will be tracked even when the phone is in your pocket."]}):o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Tip:"})," Install this app to your home screen for better background tracking when phone is in pocket."]}),o.jsxs("p",{className:"mt-2",children:[o.jsx("strong",{children:"Auto-capture:"})," Route map will be automatically saved when you stop tracking."]})]}),M&&o.jsxs("div",{className:"text-xs text-info p-3 bg-info/10 border border-info/20 rounded-md",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(aa,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Route will be auto-captured when tracking stops"})]}),fe&&xe&&o.jsxs("p",{className:"flex items-center mt-1 text-success",children:[o.jsx(rs,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Tracking restored from previous session"})]}),We&&Tt&&o.jsxs("p",{className:"flex items-center mt-1 text-success",children:[o.jsx(Hd,{className:"h-3 w-3 mr-1"}),o.jsx("strong",{children:"Background tracking active - keep phone in pocket"})]}),me&&o.jsxs("p",{className:"flex items-center mt-1 text-amber-600",children:[o.jsx(sx,{className:"h-3 w-3 mr-1"}),"Screen sleep disabled for better tracking"]})]}),o.jsx(Nr,{open:v,onOpenChange:dn,children:o.jsxs(ur,{className:"sm:max-w-[600px]",children:[o.jsxs(dr,{children:[o.jsxs(fr,{className:"flex items-center gap-2",children:[o.jsx(Nn,{className:"h-5 w-5 text-warning"}),"Incomplete Meetings"]}),o.jsxs(Sr,{children:["You have ",P.length," incomplete meeting(s) today. Please provide a reason for each company before logging out."]})]}),o.jsxs("div",{className:"space-y-4 py-4 max-h-[380px] overflow-y-auto",children:[P.map(ve=>o.jsxs("div",{className:"border border-muted-foreground/10 rounded-lg p-3 bg-muted/40 space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Nn,{className:"h-4 w-4 text-warning mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold",children:ve.companyName||"No Company Name"}),o.jsxs("div",{className:"text-xs text-muted-foreground",children:[ve.customerName&&o.jsxs(o.Fragment,{children:["Contact: ",ve.customerName]}),ve.meetingTime&&o.jsxs(o.Fragment,{children:[" "," Time: ",ve.meetingTime]})]})]})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs(Wt,{className:"text-xs",htmlFor:`reason-${ve._id}`,children:["Reason for not completing this meeting",o.jsx("span",{className:"text-destructive",children:" *"})]}),o.jsx(bi,{id:`reason-${ve._id}`,placeholder:"E.g., client postponed, decision maker not available, visit rescheduled, etc...",value:C[ve._id]||"",onChange:Ne=>T(Oe=>({...Oe,[ve._id]:Ne.target.value})),rows:3,disabled:S})]})]},ve._id)),P.length===0&&o.jsx("p",{className:"text-sm text-muted-foreground",children:"No incomplete meetings found."})]}),o.jsxs(ma,{children:[o.jsx(Ee,{variant:"outline",onClick:dn,disabled:S,children:"Cancel"}),o.jsx(Ee,{onClick:kn,disabled:S,children:S?o.jsxs(o.Fragment,{children:[o.jsx(XN,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Submit & Logout"})]})]})})]})]})}const Rb=g.forwardRef(({onEmployeeSelect:e,selectedEmployeeId:t,disabled:r=!1,onAddNewEmployee:a,filterByCompany:c},d)=>{const[f,p]=g.useState([]),[v,x]=g.useState([]),[_,b]=g.useState([]),[S,k]=g.useState(!1),[P,j]=g.useState(null),C=async()=>{k(!0),j(null);try{const O=await fetch("https://jbdspower.in/LeafNetServer/api/customer");if(!O.ok)throw new Error(`Failed to fetch customers: ${O.statusText}`);const q=await O.json(),H=Array.isArray(q)?q:[];p(H);let te=H.flatMap(V=>(V.Employees||[]).map(Y=>({...Y,customerName:V.CustomerCompanyName,customerId:V._id})));c&&typeof c=="string"&&(te=te.filter(V=>{var Y;return((Y=V.customerName)==null?void 0:Y.toLowerCase().trim())===c.toLowerCase().trim()}),console.log(`Filtered employees for company "${c}":`,te.length)),x(te)}catch(O){console.error("Error fetching customers:",O),j(O instanceof Error?O.message:"Failed to fetch customers")}finally{k(!1)}},T=(O,q,H)=>{const te={...O,customerName:q,customerId:H};console.log("Adding temporary employee:",te),b(V=>{const Y=[...V,te];try{localStorage.setItem("tempCustomerEmployees",JSON.stringify(Y))}catch(ee){console.error("Error saving temporary employees:",ee)}return console.log("Updated temp employees:",Y),Y})};g.useEffect(()=>{C()},[c]),g.useEffect(()=>{console.log("tempEmployees changed:",_)},[_]),g.useEffect(()=>{typeof window<"u"&&(window.debugCustomerSelector={getTempEmployees:()=>_,getEmployees:()=>v,addTestEmployee:()=>{const O={_id:`temp_test_${Date.now()}`,CustomerEmpName:"Test Employee",Designation:"Test Position",Department:"Test Dept",Mobile:"1234567890",Email:"test@test.com"};T(O,"Test Company",`temp_customer_${Date.now()}`)}})},[_,v,T]);const D=()=>{console.log("Clearing temporary employees"),b([]);try{localStorage.removeItem("tempCustomerEmployees")}catch(O){console.error("Error clearing temporary employees:",O)}},M=()=>{console.log("Resetting customer employee selection"),D()};g.useImperativeHandle(d,()=>({refreshCustomers:C,addTempEmployee:T,clearTempEmployees:D,resetSelection:M}));const I=O=>{const H=[...v,..._].find(te=>te._id===O);if(console.log("CustomerEmployeeSelector: Employee selected:",O),console.log("CustomerEmployeeSelector: Found employee:",H),H)if(H._id.startsWith("temp_")){const te={_id:H.customerId,CustomerCompanyName:H.customerName,Employees:[H],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:H.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for temp employee:",H.CustomerEmpName,te.CustomerCompanyName),e(H,te)}else{const te=f.find(V=>V._id===H.customerId);te?(console.log("CustomerEmployeeSelector: Calling onEmployeeSelect for regular employee:",H.CustomerEmpName,te.CustomerCompanyName),e(H,te)):console.error("CustomerEmployeeSelector: Customer not found for employee:",H)}};return P?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Wt,{className:"text-sm text-destructive",children:"Customer Employee"}),a&&o.jsxs(Ee,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:r,className:"flex items-center space-x-1",children:[o.jsx(Vc,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Add New"})]})]}),o.jsxs("div",{className:"border border-destructive rounded-md p-3 text-sm text-destructive",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsx("p",{className:"font-medium",children:"Failed to load customer employees"})]}),o.jsx("p",{className:"text-xs mt-1",children:P}),o.jsx(Ee,{type:"button",variant:"outline",size:"sm",onClick:C,className:"mt-2",children:"Try Again"})]})]}):o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(Wt,{htmlFor:"customerEmployee",className:"text-sm",children:["Select Customer Employee",o.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&o.jsxs("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:[c," only"]}),_.length>0&&o.jsxs("span",{className:"ml-2 text-xs bg-primary/10 text-primary px-2 py-1 rounded",children:["+",_.length," new"]})]}),a&&o.jsxs(Ee,{type:"button",variant:"outline",size:"sm",onClick:a,disabled:r||S,className:"flex items-center space-x-1",children:[o.jsx(Vc,{className:"h-3 w-3"}),o.jsx("span",{className:"text-xs",children:"Add New"})]})]}),o.jsxs(_s,{onValueChange:I,value:t||"",disabled:r||S,children:[o.jsx(ss,{className:"w-full",children:o.jsx(bs,{placeholder:S?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Tl,{className:"h-4 w-4 animate-spin"}),o.jsx("span",{children:"Loading employees..."})]}):"Select a customer employee"})}),o.jsx(os,{children:(()=>{const O=v.length+_.length;return console.log("Rendering dropdown - Regular employees:",v.length,"Temp employees:",_.length),O===0?o.jsx(sn,{value:"no-employees",disabled:!0,children:"No employees found"}):o.jsxs(o.Fragment,{children:[_.map(q=>o.jsxs(sn,{value:q._id,children:[q.CustomerEmpName," (",q.customerName,") *"]},q._id)),v.map(q=>o.jsxs(sn,{value:q._id,children:[q.CustomerEmpName," (",q.customerName,")"]},q._id))]})})()})]})]})});Rb.displayName="CustomerEmployeeSelector";var sg="Checkbox",[IM,GL]=Ll(sg),[OM,FM]=IM(sg),Lb=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:c,defaultChecked:d,required:f,disabled:p,value:v="on",onCheckedChange:x,..._}=e,[b,S]=g.useState(null),k=Vt(t,M=>S(M)),P=g.useRef(!1),j=b?!!b.closest("form"):!0,[C=!1,T]=Wc({prop:c,defaultProp:d,onChange:x}),D=g.useRef(C);return g.useEffect(()=>{const M=b==null?void 0:b.form;if(M){const I=()=>T(D.current);return M.addEventListener("reset",I),()=>M.removeEventListener("reset",I)}},[b,T]),o.jsxs(OM,{scope:r,state:C,disabled:p,children:[o.jsx(Pt.button,{type:"button",role:"checkbox","aria-checked":ca(C)?"mixed":C,"aria-required":f,"data-state":Ib(C),"data-disabled":p?"":void 0,disabled:p,value:v,..._,ref:k,onKeyDown:lt(e.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:lt(e.onClick,M=>{T(I=>ca(I)?!0:!I),j&&(P.current=M.isPropagationStopped(),P.current||M.stopPropagation())})}),j&&o.jsx($M,{control:b,bubbles:!P.current,name:a,value:v,checked:C,required:f,disabled:p,style:{transform:"translateX(-100%)"}})]})});Lb.displayName=sg;var Ab="CheckboxIndicator",Db=g.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...c}=e,d=FM(Ab,r);return o.jsx(xa,{present:a||ca(d.state)||d.state===!0,children:o.jsx(Pt.span,{"data-state":Ib(d.state),"data-disabled":d.disabled?"":void 0,...c,ref:t,style:{pointerEvents:"none",...e.style}})})});Db.displayName=Ab;var $M=e=>{const{control:t,checked:r,bubbles:a=!0,...c}=e,d=g.useRef(null),f=E_(r),p=Fw(t);return g.useEffect(()=>{const v=d.current,x=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(x,"checked").set;if(f!==r&&b){const S=new Event("click",{bubbles:a});v.indeterminate=ca(r),b.call(v,ca(r)?!1:r),v.dispatchEvent(S)}},[f,r,a]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:ca(r)?!1:r,...c,tabIndex:-1,ref:d,style:{...e.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ca(e){return e==="indeterminate"}function Ib(e){return ca(e)?"indeterminate":e?"checked":"unchecked"}var Ob=Lb,zM=Db;const Fb=g.forwardRef(({className:e,...t},r)=>o.jsx(Ob,{ref:r,className:wt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(zM,{className:wt("flex items-center justify-center text-current"),children:o.jsx(Cp,{className:"h-4 w-4"})})}));Fb.displayName=Ob.displayName;const BM="https://jbdspower.in/LeafNetServer/api",UM="68340889566d91e049668f07";function HM({isOpen:e,onClose:t,onAddEmployee:r,isLoading:a=!1,defaultCustomerName:c=""}){const[d,f]=g.useState({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),[p,v]=g.useState({}),[x,_]=g.useState(!1),[b,S]=g.useState(!1),{toast:k}=bo();g.useEffect(()=>{e&&c&&f(I=>({...I,customerName:c}))},[e,c]);const P=()=>{const I={};return d.customerName.trim()||(I.customerName="Customer name is required"),d.customerEmployeeName.trim()||(I.customerEmployeeName="Employee name is required"),d.designation.trim()||(I.designation="Designation is required"),d.department.trim()||(I.department="Department is required"),d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)||(I.email="Please enter a valid email address"):I.email="Email is required",d.mobile.trim()?/^[\+]?[1-9][\d]{9,15}$/.test(d.mobile.replace(/[\s\-\(\)]/g,""))||(I.mobile="Please enter a valid mobile number (10-16 digits)"):I.mobile="Mobile number is required",v(I),Object.keys(I).length===0},j=(I,O)=>{f(q=>({...q,[I]:O})),p[I]&&v(q=>{const H={...q};return delete H[I],H})},C=async I=>{if(I.preventDefault(),!!P()){_(!0);try{const O={CustomerEmpName:d.customerEmployeeName,Department:d.department,Designation:d.designation,Email:d.email,Mobile:d.mobile};console.log("Saving employee to CRM:",O);const q=await fetch(`${BM}/addcustomerEmployee/${UM}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!q.ok){const te=await q.text();throw console.error("CRM API error:",te),new Error(`Failed to save to CRM: ${q.status}`)}const H=await q.json();console.log("Employee saved to CRM successfully:",H),await r(d),b&&await T(),D()}catch(O){throw console.error("Error adding customer employee:",O),O}finally{_(!1)}}},T=async()=>{console.log(" Creating lead from customer employee data");const I=localStorage.getItem("idToken");if(!I){k({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"});return}const O=localStorage.getItem("user"),q=O?JSON.parse(O)._id:"67daa55d9c4abb36045d5bfe";try{const H={CompanyName:d.customerName,Name:d.customerEmployeeName,CreatedBy:q,Id:`JBDSL-${Date.now().toString().slice(-4)}`};d.email&&(H.Email=d.email),d.mobile&&(H.Mobile=d.mobile),d.designation&&(H.Designation=d.designation),d.department&&(H.Department=d.department),console.log(" Sending lead creation request:",H);const te=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${I}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(te.ok){const V=await te.json();console.log(" Lead created successfully:",V),k({title:"Lead Created",description:`Lead created successfully for ${d.customerEmployeeName} at ${d.customerName}`})}else{const V=await te.text();console.error(" Failed to create lead:",te.status,V),k({title:"Failed to Create Lead",description:`Error: ${te.status}`,variant:"destructive"})}}catch(H){console.error(" Error creating lead:",H),k({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"})}},D=()=>{x||a||(f({customerName:"",customerEmployeeName:"",email:"",mobile:"",designation:"",department:""}),v({}),S(!1),t())},M=x||a;return o.jsx(Nr,{open:e,onOpenChange:D,children:o.jsxs(ur,{className:"sm:max-w-md max-h-[90vh] overflow-y-auto",children:[o.jsxs(dr,{children:[o.jsxs(fr,{className:"flex items-center space-x-2",children:[o.jsx(gw,{className:"h-5 w-5 text-primary"}),o.jsx("span",{children:"Add New Customer Employee"})]}),o.jsx(Sr,{children:c?o.jsxs(o.Fragment,{children:["Create a new employee record for"," ",o.jsxs("span",{className:"font-medium",children:['"',c,'"']}),". The company name has been auto-filled from your current meeting."]}):o.jsx(o.Fragment,{children:"Create a new customer employee record. All fields marked with * are required."})})]}),o.jsxs("form",{onSubmit:C,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{htmlFor:"customerName",className:"text-sm",children:["Customer/Company Name",o.jsx("span",{className:"text-destructive ml-1",children:"*"}),c&&o.jsx("span",{className:"text-muted-foreground ml-2 text-xs",children:"(Auto-filled from meeting)"})]}),o.jsx(vn,{id:"customerName",type:"text",placeholder:"Enter company/customer name",value:d.customerName,onChange:I=>j("customerName",I.target.value),disabled:M,className:p.customerName?"border-destructive":""}),p.customerName&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.customerName})]}),c&&d.customerName===c&&o.jsxs("div",{className:"text-xs text-muted-foreground",children:['Customer name auto-filled from "',c,'" meeting. You can edit if needed.']})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{htmlFor:"customerEmployeeName",className:"text-sm",children:["Employee Name",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"customerEmployeeName",type:"text",placeholder:"Enter employee full name",value:d.customerEmployeeName,onChange:I=>j("customerEmployeeName",I.target.value),disabled:M,className:p.customerEmployeeName?"border-destructive":""}),p.customerEmployeeName&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.customerEmployeeName})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{htmlFor:"email",className:"text-sm",children:["Email Address",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"email",type:"email",placeholder:"employee@company.com",value:d.email,onChange:I=>j("email",I.target.value),disabled:M,className:p.email?"border-destructive":"",required:!0}),p.email&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.email})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{htmlFor:"mobile",className:"text-sm",children:["Mobile Number",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"mobile",type:"tel",placeholder:"1234567890",value:d.mobile,onChange:I=>j("mobile",I.target.value),disabled:M,className:p.mobile?"border-destructive":"",required:!0}),p.mobile&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.mobile})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{htmlFor:"designation",className:"text-sm",children:["Designation",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"designation",type:"text",placeholder:"e.g., Manager, Director, CEO",value:d.designation,onChange:I=>j("designation",I.target.value),disabled:M,className:p.designation?"border-destructive":""}),p.designation&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.designation})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{htmlFor:"department",className:"text-sm",children:["Department",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(vn,{id:"department",type:"text",placeholder:"e.g., Sales, IT, HR, Operations",value:d.department,onChange:I=>j("department",I.target.value),disabled:M,className:p.department?"border-destructive":""}),p.department&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:p.department})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 pb-2 border-t",children:[o.jsx(Fb,{id:"createLead",checked:b,onCheckedChange:I=>S(I),disabled:M}),o.jsx(Wt,{htmlFor:"createLead",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Create Lead after adding employee"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[o.jsx(Ee,{type:"button",variant:"outline",onClick:D,disabled:M,children:"Cancel"}),o.jsx(Ee,{type:"submit",disabled:M,className:"min-w-[120px]",children:x||a?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Adding..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rs,{className:"h-4 w-4"}),o.jsx("span",{children:"Add Employee"})]})})]})]})]})})}function WM({isOpen:e,onClose:t,onEndMeeting:r,employeeName:a,isLoading:c=!1,currentMeeting:d=null,followUpMeetingData:f=null}){const[p,v]=g.useState({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),[x,_]=g.useState({}),[b,S]=g.useState(!1),[k,P]=g.useState(!1),[j,C]=g.useState([]),[T,D]=g.useState(null),[M,I]=g.useState(null),[O,q]=g.useState(!1),[H,te]=g.useState(!1),V=g.useRef(null),Y=g.useRef(null),[ee,he]=g.useState([]),De=g.useRef(null),{toast:de}=bo();g.useEffect(()=>{if(e&&f){console.log(" Prefilling form with follow-up meeting data:",f);const $={customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};console.log(" Created customer contact from follow-up:",$),C([$]),v(K=>{const le={...K,customers:[$],customerName:f.companyName,customerEmployeeName:f.customerName,customerEmail:f.customerEmail||"",customerMobile:String(f.customerMobile||""),customerDesignation:f.customerDesignation||"",customerDepartment:""};return console.log(" Updated formData with customer:",le),le}),console.log(" Form prefilled with customer data")}else e&&!f&&console.log(" Modal opened but no followUpMeetingData provided")},[e,f]),g.useEffect(()=>{console.log(" selectedCustomers changed:",j.length,j)},[j]),g.useEffect(()=>{if(j.length===0){te(!1);return}const $=j.some(K=>{var le,_e;return!((le=K.customerEmail)!=null&&le.trim())||!((_e=K.customerMobile)!=null&&_e.trim())});te($)},[j]);const $e=()=>{var K;const $={};if(console.log("Validating form with selectedCustomers:",j.length),console.log("Form data customers:",(K=p.customers)==null?void 0:K.length),j.length===0&&($.customers="Please add at least one customer contact",console.log("Validation failed: No customers selected")),j.forEach((le,_e)=>{var ke,ze;(ke=le.customerEmail)!=null&&ke.trim()||($[`customer_${_e}_email`]=`Email is required for ${le.customerEmployeeName}`),(ze=le.customerMobile)!=null&&ze.trim()||($[`customer_${_e}_mobile`]=`Mobile number is required for ${le.customerEmployeeName}`)}),p.discussion.trim()||($.discussion="Discussion details are required",console.log("Validation failed: No discussion provided")),p.customerEmail&&p.customerEmail.trim()!==""&&typeof p.customerEmail=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.customerEmail)&&($.customerEmail="Please enter a valid email address"),p.customerMobile&&p.customerMobile.trim()!==""&&typeof p.customerMobile=="string"){const le=p.customerMobile.replace(/[\s\-\(\)]/g,"");/^\+?\d{7,15}$/.test(le)||($.customerMobile="Please enter a valid mobile number")}return console.log("Validation errors:",$),_($),Object.keys($).length>0&&setTimeout(()=>{var le;(le=V.current)==null||le.scrollIntoView({behavior:"smooth",block:"center"})},300),Object.keys($).length===0},J=($,K)=>{v(le=>({...le,[$]:K})),x[$]&&_(le=>{const _e={...le};return delete _e[$],_e})},xe=($,K)=>{console.log("EndMeetingModal: Customer employee selected:",$),console.log("EndMeetingModal: Customer selected:",K),D($),I(K);const le={customerName:K.CustomerCompanyName,customerEmployeeName:$.CustomerEmpName,customerEmail:String($.Email||""),customerMobile:String($.Mobile||""),customerDesignation:String($.Designation||""),customerDepartment:String($.Department||"")};if(j.some(ke=>ke.customerName===le.customerName&&ke.customerEmployeeName===le.customerEmployeeName))console.log("EndMeetingModal: Customer already in list, skipping");else{const ke=[...j,le];C(ke),v(ze=>{var We,it,Tt,ye,Ye,Z;return{...ze,customers:ke,customerName:((We=ke[0])==null?void 0:We.customerName)||"",customerEmployeeName:((it=ke[0])==null?void 0:it.customerEmployeeName)||"",customerEmail:((Tt=ke[0])==null?void 0:Tt.customerEmail)||"",customerMobile:((ye=ke[0])==null?void 0:ye.customerMobile)||"",customerDesignation:((Ye=ke[0])==null?void 0:Ye.customerDesignation)||"",customerDepartment:((Z=ke[0])==null?void 0:Z.customerDepartment)||""}}),console.log("EndMeetingModal: Added customer to list:",le),D(null),I(null)}},U=$=>{const K=j.filter((le,_e)=>_e!==$);C(K),v(le=>{var _e,ke,ze,We,it,Tt;return{...le,customers:K,customerName:((_e=K[0])==null?void 0:_e.customerName)||"",customerEmployeeName:((ke=K[0])==null?void 0:ke.customerEmployeeName)||"",customerEmail:((ze=K[0])==null?void 0:ze.customerEmail)||"",customerMobile:((We=K[0])==null?void 0:We.customerMobile)||"",customerDesignation:((it=K[0])==null?void 0:it.customerDesignation)||"",customerDepartment:((Tt=K[0])==null?void 0:Tt.customerDepartment)||""}}),console.log("EndMeetingModal: Removed customer from list, remaining:",K.length)},fe=async $=>{try{const le={_id:`temp_${Date.now()}`,CustomerEmpName:$.customerEmployeeName,Designation:$.designation,Department:$.department,Mobile:$.mobile,Email:$.email},_e={_id:`temp_customer_${Date.now()}`,CustomerCompanyName:$.customerName,Employees:[le],GstNumber:"",Status:"Active",RJBDSName:"",LedgerType:{_id:"",Name:"",__v:0},Dealer:{_id:"",Name:"",__v:0},Mode:{_id:"",Name:"",__v:0},CompanyName:{_id:"",companyName:$.customerName,__v:0},Addresses:[],Gst:"",BusinessType:"",AdharNumber:"",PanNumber:"",ImportExportCode:"",WhatsappNumber:"",OpBalance:0,BankDetails:{AccountholderName:"",AccountNumber:"",IFSC:"",BankName:"",BranchName:"",AccountType:""},UploadGSTCertificate:null,UploadAdharCardFront:null,UploadAdharCardBack:null,UploadPanCard:null,CancelledCheque:null,DistributorAuthorizedCertificate:null,UploadImportExportCertificate:null,CustomerId:"",CustomerStatus:"Temporary",updatedAt:new Date().toISOString(),__v:0};return console.log("Creating new customer employee:",$),console.log("Generated employee object:",le),console.log("Generated customer object:",_e),await new Promise(ke=>setTimeout(ke,1e3)),Y.current?(console.log("Adding temp employee to selector..."),Y.current.addTempEmployee(le,$.customerName,_e._id),console.log("Temp employee added to selector")):console.error("customerSelectorRef.current is null!"),setTimeout(()=>{var ke;xe(le,_e),(ke=V.current)==null||ke.blur()},100),console.log("Customer employee added successfully!"),{employee:le,customer:_e}}catch(K){throw console.error("Error adding customer employee:",K),K}},oe=async $=>{var le,_e,ke;$.preventDefault(),console.log(" EndMeetingModal: Form submit triggered"),console.log("EndMeetingModal: Form data before validation:",p),console.log("EndMeetingModal: Selected customers:",j),console.log("EndMeetingModal: Discussion:",p.discussion),console.log("EndMeetingModal: Attached files:",ee.length);const K=$e();if(console.log("EndMeetingModal: Validation result:",K),!K){console.log("EndMeetingModal: Form validation failed with errors:",x);const ze=document.querySelector(".border-destructive");ze&&ze.scrollIntoView({behavior:"smooth",block:"center"});return}console.log(" EndMeetingModal: Validation passed, processing files..."),S(!0);try{let ze=[];if(ee.length>0){if(!(d!=null&&d.id)){de({title:"Missing Meeting ID",description:"Cannot upload files without a meeting ID.",variant:"destructive"}),S(!1);return}console.log(" Uploading attachments..."),de({title:"Uploading files",description:"Please wait while files are uploaded..."});const Tt=new FormData;ee.forEach(ge=>Tt.append("files",ge));const ye=new AbortController,Z=setTimeout(()=>{ye.abort("Upload timeout")},12e4),me=await fetch(`/api/meetings/${d.id}/attachments`,{method:"POST",body:Tt,signal:ye.signal});if(clearTimeout(Z),!me.ok){const ge=await me.text();throw new Error(ge||`File upload failed with status ${me.status}`)}const be=await me.json();ze=Array.isArray(be.attachments)?be.attachments:[],console.log(` Uploaded ${ze.length} files`)}const We={...p,attachments:ze.length>0?ze:void 0},it={...We,outLocation:typeof We.outLocation=="object"?((le=We.outLocation)==null?void 0:le.address)||`${(_e=We.outLocation)==null?void 0:_e.lat}, ${(ke=We.outLocation)==null?void 0:ke.lng}`:We.outLocation};console.log("EndMeetingModal: Final payload:",it),await r(it),console.log(" Meeting ended successfully, clearing temp employees"),Y.current&&Y.current.clearTempEmployees(),Te()}catch(ze){console.error(" Error ending meeting:",ze),de({title:"Error",description:"Failed to end meeting. Please try again.",variant:"destructive"})}finally{S(!1)}},F=async()=>{if(console.log(" Creating lead from meeting data"),j.length===0){de({title:"No Customer Selected",description:"Please select at least one customer to create a lead.",variant:"destructive"});return}const $=j[0],K=localStorage.getItem("idToken");if(!K){de({title:"Authentication Error",description:"No authentication token found. Please log in again.",variant:"destructive"});return}const le=localStorage.getItem("userId")||"67daa55d9c4abb36045d5bfe";P(!0);try{const _e={CompanyName:$.customerName,Name:$.customerEmployeeName,Email:$.customerEmail||"",Mobile:$.customerMobile||"",Designation:$.customerDesignation||"",Department:$.customerDepartment||"purchase",CreatedBy:le,Id:`JBDSL-${Date.now().toString().slice(-4)}`};console.log(" Sending lead creation request:",_e);const ke=await fetch(`https://jbdspower.in/LeafNetServer/api/createLead?auth=${K}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_e)});if(ke.ok){const ze=await ke.json();console.log(" Lead created successfully:",ze),de({title:"Lead Created",description:`Lead created successfully for ${$.customerEmployeeName} at ${$.customerName}`})}else{const ze=await ke.text();console.error(" Failed to create lead:",ke.status,ze),de({title:"Failed to Create Lead",description:`Error: ${ke.status} - ${ze.substring(0,100)}`,variant:"destructive"})}}catch(_e){console.error(" Error creating lead:",_e),de({title:"Error",description:"Failed to create lead. Please try again.",variant:"destructive"})}finally{P(!1)}},Q=$=>{const K=$.target.files;if(K&&K.length>0){const le=Array.from(K),_e=5*1024*1024,ke=le.filter(We=>We.size>_e),ze=le.filter(We=>We.size<=_e);if(ke.length>0){const We=ke.map(it=>`${it.name} (${(it.size/1024/1024).toFixed(2)} MB)`).join(", ");de({title:"File Size Limit Exceeded",description:`The following file(s) exceed 5MB limit: ${We}`,variant:"destructive"}),console.warn(" Oversized files rejected:",ke.map(it=>({name:it.name,size:it.size})))}if(ze.length>0){const We=ee.reduce((Ye,Z)=>Ye+Z.size,0),it=ze.reduce((Ye,Z)=>Ye+Z.size,0),Tt=We+it,ye=10*1024*1024;Tt>ye?(de({title:"Total Size Limit Exceeded",description:`Total file size cannot exceed 10MB. Current: ${(We/1024/1024).toFixed(2)} MB, Adding: ${(it/1024/1024).toFixed(2)} MB`,variant:"destructive"}),console.warn(" Total size limit exceeded:",{currentTotalSize:We,newTotalSize:it,totalSize:Tt})):(he(Ye=>[...Ye,...ze]),console.log(" Files attached:",ze.map(Ye=>({name:Ye.name,size:`${(Ye.size/1024).toFixed(2)} KB`}))),de({title:"Files Attached",description:`${ze.length} file(s) attached successfully`}))}}De.current&&(De.current.value="")},Se=$=>{he(K=>K.filter((le,_e)=>_e!==$)),console.log(" File removed at index:",$)},Te=()=>{if(b||c){console.log(" Cannot close: Form is submitting or loading");return}console.log(" EndMeetingModal: Closing and resetting all state"),v({incomplete:!1,customers:[],discussion:"",customerName:"",customerEmployeeName:"",customerEmail:"",customerMobile:"",customerDesignation:"",customerDepartment:""}),_({}),C([]),D(null),I(null),q(!1),he([]),Y.current&&Y.current.resetSelection(),t()},je=b||c||k;return o.jsx(Nr,{open:e,onOpenChange:Te,children:o.jsxs(ur,{className:"sm:max-w-md  max-h-[90vh] overflow-y-auto",children:[o.jsxs(dr,{children:[o.jsxs(fr,{className:"flex items-center space-x-2",children:[o.jsx($n,{className:"h-5 w-5 text-destructive"}),o.jsx("span",{children:"End Meetin"})]}),o.jsxs(Sr,{children:["Complete the meeting for"," ",o.jsx("span",{className:"font-medium",children:a})," by providing customer details and discussion summary."]})]}),o.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 py-2 border-b",children:[o.jsx(mf,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-medium",children:"Select Customer Employee"})]}),o.jsxs("div",{className:"space-y-4",children:[(d==null?void 0:d.clientName)&&o.jsxs("div",{className:"bg-primary/5 p-3 rounded-md text-sm",children:[o.jsx("div",{className:"flex items-center space-x-2",children:o.jsxs("span",{className:"font-medium",children:["Meeting with: ",d.clientName]})}),o.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Showing employees for this company only"})]}),o.jsx(Rb,{ref:Y,onEmployeeSelect:xe,selectedEmployeeId:T==null?void 0:T._id,disabled:je,onAddNewEmployee:()=>q(!0),filterByCompany:d==null?void 0:d.clientName}),H&&o.jsxs("div",{className:"relative mt-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-4 w-4"}),o.jsx("span",{children:"Email & mobile number are required. Please add or update customer contact."})]}),o.jsx("div",{className:"absolute right-2 animate-bounce text-destructive",style:{top:"-3.9rem"},children:o.jsx("div",{className:"relative",children:o.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 32 32",fill:"none",className:"text-destructive",children:[o.jsx("line",{x1:"16",y1:"28",x2:"16",y2:"8",stroke:"currentColor",strokeWidth:"2"}),o.jsx("path",{d:"M10 14L16 8L22 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})})]}),x.customers&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:x.customers})]}),j.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(hf,{className:"h-4 w-4 text-primary"}),o.jsxs("span",{className:"font-medium text-sm",children:["Selected Customer Contacts (",j.length,")"]})]}),o.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:j.map(($,K)=>o.jsxs("div",{className:"p-3 border rounded-lg bg-muted/20 relative",children:[o.jsx(Ee,{type:"button",variant:"outline",size:"sm",onClick:()=>U(K),className:"absolute top-2 right-2 h-6 w-6 p-0 text-destructive hover:text-destructive",disabled:je,children:""}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm pr-8",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Company:"}),o.jsx("div",{className:"font-medium",children:$.customerName})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Contact:"}),o.jsx("div",{className:"font-medium",children:$.customerEmployeeName})]}),$.customerDesignation&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Position:"}),o.jsx("div",{children:$.customerDesignation})]}),$.customerDepartment&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Department:"}),o.jsx("div",{children:$.customerDepartment})]}),$.customerEmail&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Email:"}),o.jsx("div",{className:"text-xs",children:$.customerEmail})]}),$.customerMobile&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Mobile:"}),o.jsx("div",{className:"text-xs",children:$.customerMobile})]})]})]},K))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{htmlFor:"discussion",className:"text-sm",children:["Discussion Details",o.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),o.jsx(bi,{id:"discussion",placeholder:"Describe what was discussed in the meeting, key points, outcomes, and next steps...",value:p.discussion,onChange:$=>J("discussion",$.target.value),disabled:je,rows:4,className:x.discussion?"border-destructive":""}),x.discussion&&o.jsxs("div",{className:"flex items-center space-x-1 text-sm text-destructive",children:[o.jsx(Nn,{className:"h-3 w-3"}),o.jsx("span",{children:x.discussion})]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"This field is required and will be included in the meeting record."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Wt,{className:"text-sm flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(vm,{className:"h-4 w-4"}),o.jsx("span",{children:"Attach Files (Optional)"})]}),o.jsx("span",{className:"text-xs text-muted-foreground font-normal",children:"Max 5MB per file"})]}),o.jsx("input",{ref:De,type:"file",multiple:!0,onChange:Q,disabled:je,className:"hidden",accept:"image/*,.pdf,.doc,.docx,.xls,.xlsx"}),o.jsxs(Ee,{type:"button",variant:"outline",onClick:()=>{var $;return($=De.current)==null?void 0:$.click()},disabled:je,className:"w-full",children:[o.jsx(vm,{className:"h-4 w-4 mr-2"}),"Choose Files"]}),o.jsx("div",{className:"text-xs text-muted-foreground",children:"Supported: Images, PDF, DOC, DOCX, XLS, XLSX  Max 5MB per file  Max 10MB total"}),ee.length>0&&o.jsxs("div",{className:"space-y-2 mt-2",children:[o.jsxs("div",{className:"text-xs text-muted-foreground flex items-center justify-between",children:[o.jsxs("span",{children:[ee.length," file(s) attached"]}),o.jsxs("span",{children:["Total: ",(ee.reduce(($,K)=>$+K.size,0)/1024/1024).toFixed(2)," MB"]})]}),o.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:ee.map(($,K)=>o.jsxs("div",{className:"flex items-center justify-between p-2 border rounded bg-muted/20",children:[o.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[o.jsx(vm,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),o.jsx("span",{className:"text-xs truncate",title:$.name,children:$.name}),o.jsxs("span",{className:"text-xs text-muted-foreground flex-shrink-0",children:["(",($.size/1024).toFixed(1)," KB)"]})]}),o.jsx(Ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>Se(K),disabled:je,className:"h-6 w-6 p-0 ml-2 flex-shrink-0",children:o.jsx(ou,{className:"h-3 w-3"})})]},K))})]})]}),o.jsxs("div",{className:"flex justify-between items-center pt-4",children:[o.jsx(Ee,{type:"button",variant:"outline",onClick:F,disabled:je||j.length===0,className:"min-w-[120px]",children:k?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),o.jsx("span",{children:"Creating..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(gw,{className:"h-4 w-4"}),o.jsx("span",{children:"Create Lead"})]})}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx(Ee,{type:"button",variant:"outline",onClick:Te,disabled:je,children:"Cancel"}),o.jsx(Ee,{type:"submit",variant:"destructive",disabled:je,className:"min-w-[120px]",children:b||c?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),o.jsx("span",{children:"Ending..."})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rs,{className:"h-4 w-4"}),o.jsx("span",{children:"End Meeting"})]})})]})]})]}),o.jsx(HM,{isOpen:O,onClose:()=>q(!1),onAddEmployee:fe,isLoading:c,defaultCustomerName:d==null?void 0:d.clientName})]})})}function VM({employee:e,trackingSession:t,meetings:r,isOpen:a,onClose:c,onSnapshotCreated:d}){const[f,p]=g.useState(""),[v,x]=g.useState(""),[_,b]=g.useState(!1),{toast:S}=bo();g.useEffect(()=>{if(a&&!f){const D=new Date,M=D.toLocaleDateString(),I=D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});p(`${e.name} Route - ${M} ${I}`)}},[a,e.name,f]);const k=()=>{const D=[];if(t!=null&&t.route&&D.push(...t.route),r.forEach(q=>{D.push(q.location)}),D.push(e.location),D.length===0)return{north:e.location.lat+.01,south:e.location.lat-.01,east:e.location.lng+.01,west:e.location.lng-.01};const M=D.map(q=>q.lat),I=D.map(q=>q.lng),O=.005;return{north:Math.max(...M)+O,south:Math.min(...M)-O,east:Math.max(...I)+O,west:Math.min(...I)-O}},P=()=>r.map(D=>({id:D.id,location:D.location,clientName:D.clientName,startTime:D.startTime,endTime:D.endTime,status:D.status})),j=async()=>{if(!f.trim()){S({title:"Title Required",description:"Please enter a title for the snapshot",variant:"destructive"});return}b(!0);try{const D={employeeId:e.id,employeeName:e.name,trackingSessionId:t==null?void 0:t.id,title:f.trim(),description:v.trim()||void 0,startLocation:(t==null?void 0:t.startLocation)||e.location,endLocation:t==null?void 0:t.endLocation,route:(t==null?void 0:t.route)||[e.location],meetings:P(),totalDistance:(t==null?void 0:t.totalDistance)||0,duration:t==null?void 0:t.duration,status:(t==null?void 0:t.status)||"active",mapBounds:k()},M=await pt.post("/api/route-snapshots",D);if(M.ok){const I=await M.json();S({title:"Snapshot Created",description:"Route snapshot has been saved successfully"}),d==null||d(I),c(),p(""),x("")}else throw new Error("Failed to create snapshot")}catch(D){console.error("Error creating snapshot:",D),S({title:"Error",description:"Failed to create route snapshot. Please try again.",variant:"destructive"})}finally{b(!1)}},T=(()=>{var q;const D=((q=t==null?void 0:t.route)==null?void 0:q.length)||1,M=(t==null?void 0:t.totalDistance)||0,I=r.length,O=t==null?void 0:t.duration;return{routePoints:D,totalDistance:M,meetingCount:I,duration:O}})();return o.jsx(Nr,{open:a,onOpenChange:c,children:o.jsxs(ur,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(dr,{children:[o.jsxs(fr,{className:"flex items-center gap-2",children:[o.jsx(Um,{className:"h-5 w-5"}),"Create Manual Route Snapshot"]}),o.jsxs(Sr,{children:["Manually capture and save ",e.name,"'s current route and meeting locations for historical reference. Note: Routes are also automatically captured when tracking stops."]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"title",children:"Route Title *"}),o.jsx(vn,{id:"title",value:f,onChange:D=>p(D.target.value),placeholder:"Enter a descriptive title for this snapshot",className:"w-full"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Wt,{htmlFor:"description",children:"Description (Optional)"}),o.jsx(bi,{id:"description",value:v,onChange:D=>x(D.target.value),placeholder:"Add any additional notes about this route snapshot",className:"w-full",rows:3})]})]}),o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsx($t,{className:"text-lg",children:"Route Summary"})}),o.jsxs(vt,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(aa,{className:"h-4 w-4"}),"Route Points"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.routePoints})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(cr,{className:"h-4 w-4"}),"Total Distance"]}),o.jsxs("div",{className:"text-2xl font-bold",children:[(T.totalDistance/1e3).toFixed(1)," km"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx(is,{className:"h-4 w-4"}),"Meetings"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.meetingCount})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[o.jsx($n,{className:"h-4 w-4"}),"Duration"]}),o.jsx("div",{className:"text-2xl font-bold",children:T.duration?`${Math.floor(T.duration/60)}m`:"Active"})]})]}),o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Current Location"}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(cr,{className:"h-4 w-4 text-primary mt-1"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm",children:e.location.address}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.location.lat.toFixed(6),", ",e.location.lng.toFixed(6)]})]})]})]})}),t&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Tracking Session"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rt,{variant:"secondary",className:t.status==="active"?"bg-success text-success-foreground":"bg-muted text-muted-foreground",children:t.status}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started: ",new Date(t.startTime).toLocaleString()]})]})]})}),r.length>0&&o.jsx("div",{className:"pt-4 border-t",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h4",{className:"font-medium",children:"Meetings in Snapshot"}),o.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:[r.slice(0,3).map(D=>o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:D.clientName||"Unknown Client"}),o.jsx(Rt,{variant:"outline",className:"text-xs",children:D.status})]},D.id)),r.length>3&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.length-3," more meetings"]})]})]})})]})]})]}),o.jsxs(ma,{children:[o.jsx(Ee,{variant:"outline",onClick:c,disabled:_,children:"Cancel"}),o.jsx(Ee,{onClick:j,disabled:_,children:_?o.jsxs(o.Fragment,{children:[o.jsx(Tl,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Snapshot..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hm,{className:"h-4 w-4 mr-2"}),"Save Route"]})})]})]})})}function $b(e,t){return function(){return e.apply(t,arguments)}}const{toString:qM}=Object.prototype,{getPrototypeOf:og}=Object,{iterator:Lf,toStringTag:zb}=Symbol,Af=(e=>t=>{const r=qM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Es=e=>(e=e.toLowerCase(),t=>Af(t)===e),Df=e=>t=>typeof t===e,{isArray:$l}=Array,Jc=Df("undefined");function uu(e){return e!==null&&!Jc(e)&&e.constructor!==null&&!Jc(e.constructor)&&_r(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Bb=Es("ArrayBuffer");function ZM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Bb(e.buffer),t}const GM=Df("string"),_r=Df("function"),Ub=Df("number"),du=e=>e!==null&&typeof e=="object",YM=e=>e===!0||e===!1,Vd=e=>{if(Af(e)!=="object")return!1;const t=og(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zb in e)&&!(Lf in e)},KM=e=>{if(!du(e)||uu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},XM=Es("Date"),QM=Es("File"),JM=Es("Blob"),eR=Es("FileList"),tR=e=>du(e)&&_r(e.pipe),nR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_r(e.append)&&((t=Af(e))==="formdata"||t==="object"&&_r(e.toString)&&e.toString()==="[object FormData]"))},rR=Es("URLSearchParams"),[sR,oR,iR,aR]=["ReadableStream","Request","Response","Headers"].map(Es),lR=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fu(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,c;if(typeof e!="object"&&(e=[e]),$l(e))for(a=0,c=e.length;a<c;a++)t.call(null,e[a],a,e);else{if(uu(e))return;const d=r?Object.getOwnPropertyNames(e):Object.keys(e),f=d.length;let p;for(a=0;a<f;a++)p=d[a],t.call(null,e[p],p,e)}}function Hb(e,t){if(uu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let a=r.length,c;for(;a-- >0;)if(c=r[a],t===c.toLowerCase())return c;return null}const na=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wb=e=>!Jc(e)&&e!==na;function mp(){const{caseless:e}=Wb(this)&&this||{},t={},r=(a,c)=>{const d=e&&Hb(t,c)||c;Vd(t[d])&&Vd(a)?t[d]=mp(t[d],a):Vd(a)?t[d]=mp({},a):$l(a)?t[d]=a.slice():t[d]=a};for(let a=0,c=arguments.length;a<c;a++)arguments[a]&&fu(arguments[a],r);return t}const cR=(e,t,r,{allOwnKeys:a}={})=>(fu(t,(c,d)=>{r&&_r(c)?e[d]=$b(c,r):e[d]=c},{allOwnKeys:a}),e),uR=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dR=(e,t,r,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},fR=(e,t,r,a)=>{let c,d,f;const p={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)f=c[d],(!a||a(f,e,t))&&!p[f]&&(t[f]=e[f],p[f]=!0);e=r!==!1&&og(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},hR=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const a=e.indexOf(t,r);return a!==-1&&a===r},mR=e=>{if(!e)return null;if($l(e))return e;let t=e.length;if(!Ub(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},pR=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&og(Uint8Array)),gR=(e,t)=>{const a=(e&&e[Lf]).call(e);let c;for(;(c=a.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},vR=(e,t)=>{let r;const a=[];for(;(r=e.exec(t))!==null;)a.push(r);return a},xR=Es("HTMLFormElement"),yR=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,c){return a.toUpperCase()+c}),ly=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),wR=Es("RegExp"),Vb=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),a={};fu(r,(c,d)=>{let f;(f=t(c,d,e))!==!1&&(a[d]=f||c)}),Object.defineProperties(e,a)},_R=e=>{Vb(e,(t,r)=>{if(_r(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(_r(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},bR=(e,t)=>{const r={},a=c=>{c.forEach(d=>{r[d]=!0})};return $l(e)?a(e):a(String(e).split(t)),r},NR=()=>{},SR=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function jR(e){return!!(e&&_r(e.append)&&e[zb]==="FormData"&&e[Lf])}const ER=e=>{const t=new Array(10),r=(a,c)=>{if(du(a)){if(t.indexOf(a)>=0)return;if(uu(a))return a;if(!("toJSON"in a)){t[c]=a;const d=$l(a)?[]:{};return fu(a,(f,p)=>{const v=r(f,c+1);!Jc(v)&&(d[p]=v)}),t[c]=void 0,d}}return a};return r(e,0)},CR=Es("AsyncFunction"),PR=e=>e&&(du(e)||_r(e))&&_r(e.then)&&_r(e.catch),qb=((e,t)=>e?setImmediate:t?((r,a)=>(na.addEventListener("message",({source:c,data:d})=>{c===na&&d===r&&a.length&&a.shift()()},!1),c=>{a.push(c),na.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",_r(na.postMessage)),TR=typeof queueMicrotask<"u"?queueMicrotask.bind(na):typeof process<"u"&&process.nextTick||qb,kR=e=>e!=null&&_r(e[Lf]),pe={isArray:$l,isArrayBuffer:Bb,isBuffer:uu,isFormData:nR,isArrayBufferView:ZM,isString:GM,isNumber:Ub,isBoolean:YM,isObject:du,isPlainObject:Vd,isEmptyObject:KM,isReadableStream:sR,isRequest:oR,isResponse:iR,isHeaders:aR,isUndefined:Jc,isDate:XM,isFile:QM,isBlob:JM,isRegExp:wR,isFunction:_r,isStream:tR,isURLSearchParams:rR,isTypedArray:pR,isFileList:eR,forEach:fu,merge:mp,extend:cR,trim:lR,stripBOM:uR,inherits:dR,toFlatObject:fR,kindOf:Af,kindOfTest:Es,endsWith:hR,toArray:mR,forEachEntry:gR,matchAll:vR,isHTMLForm:xR,hasOwnProperty:ly,hasOwnProp:ly,reduceDescriptors:Vb,freezeMethods:_R,toObjectSet:bR,toCamelCase:yR,noop:NR,toFiniteNumber:SR,findKey:Hb,global:na,isContextDefined:Wb,isSpecCompliantForm:jR,toJSONObject:ER,isAsyncFn:CR,isThenable:PR,setImmediate:qb,asap:TR,isIterable:kR};function At(e,t,r,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),a&&(this.request=a),c&&(this.response=c,this.status=c.status?c.status:null)}pe.inherits(At,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const Zb=At.prototype,Gb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Gb[e]={value:e}});Object.defineProperties(At,Gb);Object.defineProperty(Zb,"isAxiosError",{value:!0});At.from=(e,t,r,a,c,d)=>{const f=Object.create(Zb);return pe.toFlatObject(e,f,function(v){return v!==Error.prototype},p=>p!=="isAxiosError"),At.call(f,e.message,t,r,a,c),f.cause=e,f.name=e.name,d&&Object.assign(f,d),f};const MR=null;function pp(e){return pe.isPlainObject(e)||pe.isArray(e)}function Yb(e){return pe.endsWith(e,"[]")?e.slice(0,-2):e}function cy(e,t,r){return e?e.concat(t).map(function(c,d){return c=Yb(c),!r&&d?"["+c+"]":c}).join(r?".":""):t}function RR(e){return pe.isArray(e)&&!e.some(pp)}const LR=pe.toFlatObject(pe,{},null,function(t){return/^is[A-Z]/.test(t)});function If(e,t,r){if(!pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,C){return!pe.isUndefined(C[j])});const a=r.metaTokens,c=r.visitor||_,d=r.dots,f=r.indexes,v=(r.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(t);if(!pe.isFunction(c))throw new TypeError("visitor must be a function");function x(P){if(P===null)return"";if(pe.isDate(P))return P.toISOString();if(pe.isBoolean(P))return P.toString();if(!v&&pe.isBlob(P))throw new At("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(P)||pe.isTypedArray(P)?v&&typeof Blob=="function"?new Blob([P]):Buffer.from(P):P}function _(P,j,C){let T=P;if(P&&!C&&typeof P=="object"){if(pe.endsWith(j,"{}"))j=a?j:j.slice(0,-2),P=JSON.stringify(P);else if(pe.isArray(P)&&RR(P)||(pe.isFileList(P)||pe.endsWith(j,"[]"))&&(T=pe.toArray(P)))return j=Yb(j),T.forEach(function(M,I){!(pe.isUndefined(M)||M===null)&&t.append(f===!0?cy([j],I,d):f===null?j:j+"[]",x(M))}),!1}return pp(P)?!0:(t.append(cy(C,j,d),x(P)),!1)}const b=[],S=Object.assign(LR,{defaultVisitor:_,convertValue:x,isVisitable:pp});function k(P,j){if(!pe.isUndefined(P)){if(b.indexOf(P)!==-1)throw Error("Circular reference detected in "+j.join("."));b.push(P),pe.forEach(P,function(T,D){(!(pe.isUndefined(T)||T===null)&&c.call(t,T,pe.isString(D)?D.trim():D,j,S))===!0&&k(T,j?j.concat(D):[D])}),b.pop()}}if(!pe.isObject(e))throw new TypeError("data must be an object");return k(e),t}function uy(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function ig(e,t){this._pairs=[],e&&If(e,this,t)}const Kb=ig.prototype;Kb.append=function(t,r){this._pairs.push([t,r])};Kb.toString=function(t){const r=t?function(a){return t.call(this,a,uy)}:uy;return this._pairs.map(function(c){return r(c[0])+"="+r(c[1])},"").join("&")};function AR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Xb(e,t,r){if(!t)return e;const a=r&&r.encode||AR;pe.isFunction(r)&&(r={serialize:r});const c=r&&r.serialize;let d;if(c?d=c(t,r):d=pe.isURLSearchParams(t)?t.toString():new ig(t,r).toString(a),d){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class dy{constructor(){this.handlers=[]}use(t,r,a){return this.handlers.push({fulfilled:t,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){pe.forEach(this.handlers,function(a){a!==null&&t(a)})}}const Qb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},DR=typeof URLSearchParams<"u"?URLSearchParams:ig,IR=typeof FormData<"u"?FormData:null,OR=typeof Blob<"u"?Blob:null,FR={isBrowser:!0,classes:{URLSearchParams:DR,FormData:IR,Blob:OR},protocols:["http","https","file","blob","url","data"]},ag=typeof window<"u"&&typeof document<"u",gp=typeof navigator=="object"&&navigator||void 0,$R=ag&&(!gp||["ReactNative","NativeScript","NS"].indexOf(gp.product)<0),zR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",BR=ag&&window.location.href||"http://localhost",UR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ag,hasStandardBrowserEnv:$R,hasStandardBrowserWebWorkerEnv:zR,navigator:gp,origin:BR},Symbol.toStringTag,{value:"Module"})),tr={...UR,...FR};function HR(e,t){return If(e,new tr.classes.URLSearchParams,{visitor:function(r,a,c,d){return tr.isNode&&pe.isBuffer(r)?(this.append(a,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function WR(e){return pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VR(e){const t={},r=Object.keys(e);let a;const c=r.length;let d;for(a=0;a<c;a++)d=r[a],t[d]=e[d];return t}function Jb(e){function t(r,a,c,d){let f=r[d++];if(f==="__proto__")return!0;const p=Number.isFinite(+f),v=d>=r.length;return f=!f&&pe.isArray(c)?c.length:f,v?(pe.hasOwnProp(c,f)?c[f]=[c[f],a]:c[f]=a,!p):((!c[f]||!pe.isObject(c[f]))&&(c[f]=[]),t(r,a,c[f],d)&&pe.isArray(c[f])&&(c[f]=VR(c[f])),!p)}if(pe.isFormData(e)&&pe.isFunction(e.entries)){const r={};return pe.forEachEntry(e,(a,c)=>{t(WR(a),c,r,0)}),r}return null}function qR(e,t,r){if(pe.isString(e))try{return(t||JSON.parse)(e),pe.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const hu={transitional:Qb,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const a=r.getContentType()||"",c=a.indexOf("application/json")>-1,d=pe.isObject(t);if(d&&pe.isHTMLForm(t)&&(t=new FormData(t)),pe.isFormData(t))return c?JSON.stringify(Jb(t)):t;if(pe.isArrayBuffer(t)||pe.isBuffer(t)||pe.isStream(t)||pe.isFile(t)||pe.isBlob(t)||pe.isReadableStream(t))return t;if(pe.isArrayBufferView(t))return t.buffer;if(pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(d){if(a.indexOf("application/x-www-form-urlencoded")>-1)return HR(t,this.formSerializer).toString();if((p=pe.isFileList(t))||a.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return If(p?{"files[]":t}:t,v&&new v,this.formSerializer)}}return d||c?(r.setContentType("application/json",!1),qR(t)):t}],transformResponse:[function(t){const r=this.transitional||hu.transitional,a=r&&r.forcedJSONParsing,c=this.responseType==="json";if(pe.isResponse(t)||pe.isReadableStream(t))return t;if(t&&pe.isString(t)&&(a&&!this.responseType||c)){const f=!(r&&r.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(p){if(f)throw p.name==="SyntaxError"?At.from(p,At.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tr.classes.FormData,Blob:tr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],e=>{hu.headers[e]={}});const ZR=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),GR=e=>{const t={};let r,a,c;return e&&e.split(`
`).forEach(function(f){c=f.indexOf(":"),r=f.substring(0,c).trim().toLowerCase(),a=f.substring(c+1).trim(),!(!r||t[r]&&ZR[r])&&(r==="set-cookie"?t[r]?t[r].push(a):t[r]=[a]:t[r]=t[r]?t[r]+", "+a:a)}),t},fy=Symbol("internals");function Dc(e){return e&&String(e).trim().toLowerCase()}function qd(e){return e===!1||e==null?e:pe.isArray(e)?e.map(qd):String(e)}function YR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)t[a[1]]=a[2];return t}const KR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Am(e,t,r,a,c){if(pe.isFunction(a))return a.call(this,t,r);if(c&&(t=r),!!pe.isString(t)){if(pe.isString(a))return t.indexOf(a)!==-1;if(pe.isRegExp(a))return a.test(t)}}function XR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,a)=>r.toUpperCase()+a)}function QR(e,t){const r=pe.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(c,d,f){return this[a].call(this,t,c,d,f)},configurable:!0})})}let br=class{constructor(t){t&&this.set(t)}set(t,r,a){const c=this;function d(p,v,x){const _=Dc(v);if(!_)throw new Error("header name must be a non-empty string");const b=pe.findKey(c,_);(!b||c[b]===void 0||x===!0||x===void 0&&c[b]!==!1)&&(c[b||v]=qd(p))}const f=(p,v)=>pe.forEach(p,(x,_)=>d(x,_,v));if(pe.isPlainObject(t)||t instanceof this.constructor)f(t,r);else if(pe.isString(t)&&(t=t.trim())&&!KR(t))f(GR(t),r);else if(pe.isObject(t)&&pe.isIterable(t)){let p={},v,x;for(const _ of t){if(!pe.isArray(_))throw TypeError("Object iterator must return a key-value pair");p[x=_[0]]=(v=p[x])?pe.isArray(v)?[...v,_[1]]:[v,_[1]]:_[1]}f(p,r)}else t!=null&&d(r,t,a);return this}get(t,r){if(t=Dc(t),t){const a=pe.findKey(this,t);if(a){const c=this[a];if(!r)return c;if(r===!0)return YR(c);if(pe.isFunction(r))return r.call(this,c,a);if(pe.isRegExp(r))return r.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Dc(t),t){const a=pe.findKey(this,t);return!!(a&&this[a]!==void 0&&(!r||Am(this,this[a],a,r)))}return!1}delete(t,r){const a=this;let c=!1;function d(f){if(f=Dc(f),f){const p=pe.findKey(a,f);p&&(!r||Am(a,a[p],p,r))&&(delete a[p],c=!0)}}return pe.isArray(t)?t.forEach(d):d(t),c}clear(t){const r=Object.keys(this);let a=r.length,c=!1;for(;a--;){const d=r[a];(!t||Am(this,this[d],d,t,!0))&&(delete this[d],c=!0)}return c}normalize(t){const r=this,a={};return pe.forEach(this,(c,d)=>{const f=pe.findKey(a,d);if(f){r[f]=qd(c),delete r[d];return}const p=t?XR(d):String(d).trim();p!==d&&delete r[d],r[p]=qd(c),a[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return pe.forEach(this,(a,c)=>{a!=null&&a!==!1&&(r[c]=t&&pe.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const a=new this(t);return r.forEach(c=>a.set(c)),a}static accessor(t){const a=(this[fy]=this[fy]={accessors:{}}).accessors,c=this.prototype;function d(f){const p=Dc(f);a[p]||(QR(c,f),a[p]=!0)}return pe.isArray(t)?t.forEach(d):d(t),this}};br.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(br.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[r]=a}}});pe.freezeMethods(br);function Dm(e,t){const r=this||hu,a=t||r,c=br.from(a.headers);let d=a.data;return pe.forEach(e,function(p){d=p.call(r,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function e1(e){return!!(e&&e.__CANCEL__)}function zl(e,t,r){At.call(this,e??"canceled",At.ERR_CANCELED,t,r),this.name="CanceledError"}pe.inherits(zl,At,{__CANCEL__:!0});function t1(e,t,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):t(new At("Request failed with status code "+r.status,[At.ERR_BAD_REQUEST,At.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function JR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function eL(e,t){e=e||10;const r=new Array(e),a=new Array(e);let c=0,d=0,f;return t=t!==void 0?t:1e3,function(v){const x=Date.now(),_=a[d];f||(f=x),r[c]=v,a[c]=x;let b=d,S=0;for(;b!==c;)S+=r[b++],b=b%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),x-f<t)return;const k=_&&x-_;return k?Math.round(S*1e3/k):void 0}}function tL(e,t){let r=0,a=1e3/t,c,d;const f=(x,_=Date.now())=>{r=_,c=null,d&&(clearTimeout(d),d=null),e(...x)};return[(...x)=>{const _=Date.now(),b=_-r;b>=a?f(x,_):(c=x,d||(d=setTimeout(()=>{d=null,f(c)},a-b)))},()=>c&&f(c)]}const of=(e,t,r=3)=>{let a=0;const c=eL(50,250);return tL(d=>{const f=d.loaded,p=d.lengthComputable?d.total:void 0,v=f-a,x=c(v),_=f<=p;a=f;const b={loaded:f,total:p,progress:p?f/p:void 0,bytes:v,rate:x||void 0,estimated:x&&p&&_?(p-f)/x:void 0,event:d,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(b)},r)},hy=(e,t)=>{const r=e!=null;return[a=>t[0]({lengthComputable:r,total:e,loaded:a}),t[1]]},my=e=>(...t)=>pe.asap(()=>e(...t)),nL=tr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,tr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(tr.origin),tr.navigator&&/(msie|trident)/i.test(tr.navigator.userAgent)):()=>!0,rL=tr.hasStandardBrowserEnv?{write(e,t,r,a,c,d){const f=[e+"="+encodeURIComponent(t)];pe.isNumber(r)&&f.push("expires="+new Date(r).toGMTString()),pe.isString(a)&&f.push("path="+a),pe.isString(c)&&f.push("domain="+c),d===!0&&f.push("secure"),document.cookie=f.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function oL(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function n1(e,t,r){let a=!sL(t);return e&&(a||r==!1)?oL(e,t):t}const py=e=>e instanceof br?{...e}:e;function ga(e,t){t=t||{};const r={};function a(x,_,b,S){return pe.isPlainObject(x)&&pe.isPlainObject(_)?pe.merge.call({caseless:S},x,_):pe.isPlainObject(_)?pe.merge({},_):pe.isArray(_)?_.slice():_}function c(x,_,b,S){if(pe.isUndefined(_)){if(!pe.isUndefined(x))return a(void 0,x,b,S)}else return a(x,_,b,S)}function d(x,_){if(!pe.isUndefined(_))return a(void 0,_)}function f(x,_){if(pe.isUndefined(_)){if(!pe.isUndefined(x))return a(void 0,x)}else return a(void 0,_)}function p(x,_,b){if(b in t)return a(x,_);if(b in e)return a(void 0,x)}const v={url:d,method:d,data:d,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p,headers:(x,_,b)=>c(py(x),py(_),b,!0)};return pe.forEach(Object.keys({...e,...t}),function(_){const b=v[_]||c,S=b(e[_],t[_],_);pe.isUndefined(S)&&b!==p||(r[_]=S)}),r}const r1=e=>{const t=ga({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:c,xsrfCookieName:d,headers:f,auth:p}=t;t.headers=f=br.from(f),t.url=Xb(n1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&f.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let v;if(pe.isFormData(r)){if(tr.hasStandardBrowserEnv||tr.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if((v=f.getContentType())!==!1){const[x,..._]=v?v.split(";").map(b=>b.trim()).filter(Boolean):[];f.setContentType([x||"multipart/form-data",..._].join("; "))}}if(tr.hasStandardBrowserEnv&&(a&&pe.isFunction(a)&&(a=a(t)),a||a!==!1&&nL(t.url))){const x=c&&d&&rL.read(d);x&&f.set(c,x)}return t},iL=typeof XMLHttpRequest<"u",aL=iL&&function(e){return new Promise(function(r,a){const c=r1(e);let d=c.data;const f=br.from(c.headers).normalize();let{responseType:p,onUploadProgress:v,onDownloadProgress:x}=c,_,b,S,k,P;function j(){k&&k(),P&&P(),c.cancelToken&&c.cancelToken.unsubscribe(_),c.signal&&c.signal.removeEventListener("abort",_)}let C=new XMLHttpRequest;C.open(c.method.toUpperCase(),c.url,!0),C.timeout=c.timeout;function T(){if(!C)return;const M=br.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),O={data:!p||p==="text"||p==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:M,config:e,request:C};t1(function(H){r(H),j()},function(H){a(H),j()},O),C=null}"onloadend"in C?C.onloadend=T:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(T)},C.onabort=function(){C&&(a(new At("Request aborted",At.ECONNABORTED,e,C)),C=null)},C.onerror=function(){a(new At("Network Error",At.ERR_NETWORK,e,C)),C=null},C.ontimeout=function(){let I=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const O=c.transitional||Qb;c.timeoutErrorMessage&&(I=c.timeoutErrorMessage),a(new At(I,O.clarifyTimeoutError?At.ETIMEDOUT:At.ECONNABORTED,e,C)),C=null},d===void 0&&f.setContentType(null),"setRequestHeader"in C&&pe.forEach(f.toJSON(),function(I,O){C.setRequestHeader(O,I)}),pe.isUndefined(c.withCredentials)||(C.withCredentials=!!c.withCredentials),p&&p!=="json"&&(C.responseType=c.responseType),x&&([S,P]=of(x,!0),C.addEventListener("progress",S)),v&&C.upload&&([b,k]=of(v),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",k)),(c.cancelToken||c.signal)&&(_=M=>{C&&(a(!M||M.type?new zl(null,e,C):M),C.abort(),C=null)},c.cancelToken&&c.cancelToken.subscribe(_),c.signal&&(c.signal.aborted?_():c.signal.addEventListener("abort",_)));const D=JR(c.url);if(D&&tr.protocols.indexOf(D)===-1){a(new At("Unsupported protocol "+D+":",At.ERR_BAD_REQUEST,e));return}C.send(d||null)})},lL=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let a=new AbortController,c;const d=function(x){if(!c){c=!0,p();const _=x instanceof Error?x:this.reason;a.abort(_ instanceof At?_:new zl(_ instanceof Error?_.message:_))}};let f=t&&setTimeout(()=>{f=null,d(new At(`timeout ${t} of ms exceeded`,At.ETIMEDOUT))},t);const p=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(x=>{x.unsubscribe?x.unsubscribe(d):x.removeEventListener("abort",d)}),e=null)};e.forEach(x=>x.addEventListener("abort",d));const{signal:v}=a;return v.unsubscribe=()=>pe.asap(p),v}},cL=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let a=0,c;for(;a<r;)c=a+t,yield e.slice(a,c),a=c},uL=async function*(e,t){for await(const r of dL(e))yield*cL(r,t)},dL=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:a}=await t.read();if(r)break;yield a}}finally{await t.cancel()}},gy=(e,t,r,a)=>{const c=uL(e,t);let d=0,f,p=v=>{f||(f=!0,a&&a(v))};return new ReadableStream({async pull(v){try{const{done:x,value:_}=await c.next();if(x){p(),v.close();return}let b=_.byteLength;if(r){let S=d+=b;r(S)}v.enqueue(new Uint8Array(_))}catch(x){throw p(x),x}},cancel(v){return p(v),c.return()}},{highWaterMark:2})},Of=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",s1=Of&&typeof ReadableStream=="function",fL=Of&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),o1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},hL=s1&&o1(()=>{let e=!1;const t=new Request(tr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),vy=64*1024,vp=s1&&o1(()=>pe.isReadableStream(new Response("").body)),af={stream:vp&&(e=>e.body)};Of&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!af[t]&&(af[t]=pe.isFunction(e[t])?r=>r[t]():(r,a)=>{throw new At(`Response type '${t}' is not supported`,At.ERR_NOT_SUPPORT,a)})})})(new Response);const mL=async e=>{if(e==null)return 0;if(pe.isBlob(e))return e.size;if(pe.isSpecCompliantForm(e))return(await new Request(tr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(e)||pe.isArrayBuffer(e))return e.byteLength;if(pe.isURLSearchParams(e)&&(e=e+""),pe.isString(e))return(await fL(e)).byteLength},pL=async(e,t)=>{const r=pe.toFiniteNumber(e.getContentLength());return r??mL(t)},gL=Of&&(async e=>{let{url:t,method:r,data:a,signal:c,cancelToken:d,timeout:f,onDownloadProgress:p,onUploadProgress:v,responseType:x,headers:_,withCredentials:b="same-origin",fetchOptions:S}=r1(e);x=x?(x+"").toLowerCase():"text";let k=lL([c,d&&d.toAbortSignal()],f),P;const j=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let C;try{if(v&&hL&&r!=="get"&&r!=="head"&&(C=await pL(_,a))!==0){let O=new Request(t,{method:"POST",body:a,duplex:"half"}),q;if(pe.isFormData(a)&&(q=O.headers.get("content-type"))&&_.setContentType(q),O.body){const[H,te]=hy(C,of(my(v)));a=gy(O.body,vy,H,te)}}pe.isString(b)||(b=b?"include":"omit");const T="credentials"in Request.prototype;P=new Request(t,{...S,signal:k,method:r.toUpperCase(),headers:_.normalize().toJSON(),body:a,duplex:"half",credentials:T?b:void 0});let D=await fetch(P,S);const M=vp&&(x==="stream"||x==="response");if(vp&&(p||M&&j)){const O={};["status","statusText","headers"].forEach(V=>{O[V]=D[V]});const q=pe.toFiniteNumber(D.headers.get("content-length")),[H,te]=p&&hy(q,of(my(p),!0))||[];D=new Response(gy(D.body,vy,H,()=>{te&&te(),j&&j()}),O)}x=x||"text";let I=await af[pe.findKey(af,x)||"text"](D,e);return!M&&j&&j(),await new Promise((O,q)=>{t1(O,q,{data:I,headers:br.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:P})})}catch(T){throw j&&j(),T&&T.name==="TypeError"&&/Load failed|fetch/i.test(T.message)?Object.assign(new At("Network Error",At.ERR_NETWORK,e,P),{cause:T.cause||T}):At.from(T,T&&T.code,e,P)}}),xp={http:MR,xhr:aL,fetch:gL};pe.forEach(xp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xy=e=>`- ${e}`,vL=e=>pe.isFunction(e)||e===null||e===!1,i1={getAdapter:e=>{e=pe.isArray(e)?e:[e];const{length:t}=e;let r,a;const c={};for(let d=0;d<t;d++){r=e[d];let f;if(a=r,!vL(r)&&(a=xp[(f=String(r)).toLowerCase()],a===void 0))throw new At(`Unknown adapter '${f}'`);if(a)break;c[f||"#"+d]=a}if(!a){const d=Object.entries(c).map(([p,v])=>`adapter ${p} `+(v===!1?"is not supported by the environment":"is not available in the build"));let f=t?d.length>1?`since :
`+d.map(xy).join(`
`):" "+xy(d[0]):"as no adapter specified";throw new At("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return a},adapters:xp};function Im(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zl(null,e)}function yy(e){return Im(e),e.headers=br.from(e.headers),e.data=Dm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),i1.getAdapter(e.adapter||hu.adapter)(e).then(function(a){return Im(e),a.data=Dm.call(e,e.transformResponse,a),a.headers=br.from(a.headers),a},function(a){return e1(a)||(Im(e),a&&a.response&&(a.response.data=Dm.call(e,e.transformResponse,a.response),a.response.headers=br.from(a.response.headers))),Promise.reject(a)})}const a1="1.11.0",Ff={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ff[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const wy={};Ff.transitional=function(t,r,a){function c(d,f){return"[Axios v"+a1+"] Transitional option '"+d+"'"+f+(a?". "+a:"")}return(d,f,p)=>{if(t===!1)throw new At(c(f," has been removed"+(r?" in "+r:"")),At.ERR_DEPRECATED);return r&&!wy[f]&&(wy[f]=!0,console.warn(c(f," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(d,f,p):!0}};Ff.spelling=function(t){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function xL(e,t,r){if(typeof e!="object")throw new At("options must be an object",At.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let c=a.length;for(;c-- >0;){const d=a[c],f=t[d];if(f){const p=e[d],v=p===void 0||f(p,d,e);if(v!==!0)throw new At("option "+d+" must be "+v,At.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new At("Unknown option "+d,At.ERR_BAD_OPTION)}}const Zd={assertOptions:xL,validators:Ff},zs=Zd.validators;let ua=class{constructor(t){this.defaults=t||{},this.interceptors={request:new dy,response:new dy}}async request(t,r){try{return await this._request(t,r)}catch(a){if(a instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{a.stack?d&&!String(a.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+d):a.stack=d}catch{}}throw a}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=ga(this.defaults,r);const{transitional:a,paramsSerializer:c,headers:d}=r;a!==void 0&&Zd.assertOptions(a,{silentJSONParsing:zs.transitional(zs.boolean),forcedJSONParsing:zs.transitional(zs.boolean),clarifyTimeoutError:zs.transitional(zs.boolean)},!1),c!=null&&(pe.isFunction(c)?r.paramsSerializer={serialize:c}:Zd.assertOptions(c,{encode:zs.function,serialize:zs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Zd.assertOptions(r,{baseUrl:zs.spelling("baseURL"),withXsrfToken:zs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let f=d&&pe.merge(d.common,d[r.method]);d&&pe.forEach(["delete","get","head","post","put","patch","common"],P=>{delete d[P]}),r.headers=br.concat(f,d);const p=[];let v=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(v=v&&j.synchronous,p.unshift(j.fulfilled,j.rejected))});const x=[];this.interceptors.response.forEach(function(j){x.push(j.fulfilled,j.rejected)});let _,b=0,S;if(!v){const P=[yy.bind(this),void 0];for(P.unshift(...p),P.push(...x),S=P.length,_=Promise.resolve(r);b<S;)_=_.then(P[b++],P[b++]);return _}S=p.length;let k=r;for(b=0;b<S;){const P=p[b++],j=p[b++];try{k=P(k)}catch(C){j.call(this,C);break}}try{_=yy.call(this,k)}catch(P){return Promise.reject(P)}for(b=0,S=x.length;b<S;)_=_.then(x[b++],x[b++]);return _}getUri(t){t=ga(this.defaults,t);const r=n1(t.baseURL,t.url,t.allowAbsoluteUrls);return Xb(r,t.params,t.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(t){ua.prototype[t]=function(r,a){return this.request(ga(a||{},{method:t,url:r,data:(a||{}).data}))}});pe.forEach(["post","put","patch"],function(t){function r(a){return function(d,f,p){return this.request(ga(p||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:d,data:f}))}}ua.prototype[t]=r(),ua.prototype[t+"Form"]=r(!0)});let yL=class l1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const a=this;this.promise.then(c=>{if(!a._listeners)return;let d=a._listeners.length;for(;d-- >0;)a._listeners[d](c);a._listeners=null}),this.promise.then=c=>{let d;const f=new Promise(p=>{a.subscribe(p),d=p}).then(c);return f.cancel=function(){a.unsubscribe(d)},f},t(function(d,f,p){a.reason||(a.reason=new zl(d,f,p),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=a=>{t.abort(a)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new l1(function(c){t=c}),cancel:t}}};function wL(e){return function(r){return e.apply(null,r)}}function _L(e){return pe.isObject(e)&&e.isAxiosError===!0}const yp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yp).forEach(([e,t])=>{yp[t]=e});function c1(e){const t=new ua(e),r=$b(ua.prototype.request,t);return pe.extend(r,ua.prototype,t,{allOwnKeys:!0}),pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(c){return c1(ga(e,c))},r}const Pn=c1(hu);Pn.Axios=ua;Pn.CanceledError=zl;Pn.CancelToken=yL;Pn.isCancel=e1;Pn.VERSION=a1;Pn.toFormData=If;Pn.AxiosError=At;Pn.Cancel=Pn.CanceledError;Pn.all=function(t){return Promise.all(t)};Pn.spread=wL;Pn.isAxiosError=_L;Pn.mergeConfig=ga;Pn.AxiosHeaders=br;Pn.formToJSON=e=>Jb(pe.isHTMLForm(e)?new FormData(e):e);Pn.getAdapter=i1.getAdapter;Pn.HttpStatusCode=yp;Pn.default=Pn;const{Axios:XL,AxiosError:QL,CanceledError:JL,isCancel:eA,CancelToken:tA,VERSION:nA,all:rA,Cancel:sA,isAxiosError:oA,spread:iA,toFormData:aA,AxiosHeaders:lA,HttpStatusCode:cA,formToJSON:uA,getAdapter:dA,mergeConfig:fA}=Pn;function bL(){g.useEffect(()=>{console.log(" Device Detection:",{isMobile:Se(),userAgent:navigator.userAgent,platform:navigator.platform})},[]);const e=N0(),{employeeId:t}=JC(),{toast:r}=bo(),[a,c]=g.useState(null),[d,f]=g.useState([]),[p,v]=g.useState([]),[x,_]=g.useState(!0),[b,S]=g.useState(!0),[k,P]=g.useState(!1),[j,C]=g.useState(!1),[T,D]=g.useState(!1),[M,I]=g.useState(null),[O,q]=g.useState(null),[H,te]=g.useState(!1),[V,Y]=g.useState(!1),[ee,he]=g.useState(!1),[De,de]=g.useState({}),[$e,J]=g.useState(!1),[xe,U]=g.useState([]),[fe,oe]=g.useState(!1),[F,Q]=g.useState(null),Se=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Te=(z=0)=>{const ae=Se(),we=(ae?15e3:1e4)+z*(ae?5e3:3e3);return{enableHighAccuracy:ae,maximumAge:ae?0:3e4,timeout:we}},je=async(z,ae)=>{try{const re=new AbortController,we=setTimeout(()=>re.abort(),5e3),Re=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${z}&lon=${ae}&zoom=18&addressdetails=1`,{signal:re.signal});if(clearTimeout(we),Re.ok)return(await Re.json()).display_name||`${z.toFixed(6)}, ${ae.toFixed(6)}`}catch(re){console.warn("Address lookup failed:",re)}return`${z.toFixed(6)}, ${ae.toFixed(6)}`},$=()=>F?{lat:F.coords.latitude,lng:F.coords.longitude,address:`${F.coords.latitude.toFixed(6)}, ${F.coords.longitude.toFixed(6)}`}:a!=null&&a.location?{lat:a.location.lat,lng:a.location.lng,address:a.location.address||`${a.location.lat.toFixed(6)}, ${a.location.lng.toFixed(6)}`}:null,K=async()=>{console.log(" Opening Duty Completed modal"),J(!0),oe(!0);try{const z=new Date;z.setHours(0,0,0,0);const ae=new Date(z);ae.setDate(ae.getDate()+1),console.log(" Fetching meetings for date range:",{start:z.toISOString(),end:ae.toISOString()});let re;try{if(re=await pt.get(`/api/meetings/today?employeeId=${t}`),re.ok){const we=await re.json();console.log(" Today's meetings data from dedicated endpoint:",we);const Re=we.meetings.map((Ie,Be)=>{const ft=Ie.startTime&&Ie.endTime?Math.floor((new Date(Ie.endTime).getTime()-new Date(Ie.startTime).getTime())/36e5*10)/10:0;return{serialNumber:Be+1,companyName:Ie.clientName||"Unknown",attendanceStatus:"",totalDutyHours:ft}});U(Re),r({title:"Today's Summary Loaded",description:`${we.summary.totalMeetings} meetings, ${we.summary.totalDutyHours} hours total`});return}}catch(we){console.warn(" Dedicated endpoint failed, falling back to existing API:",we)}if(console.log(" Using existing meetings API with date filtering..."),re=await pt.get(`/api/meetings?employeeId=${t}&startDate=${z.toISOString()}&endDate=${ae.toISOString()}&limit=50`),re.ok){const we=await re.json();console.log(" Meetings data from existing API:",we);const Re=we.meetings.filter(Ve=>{const He=new Date(Ve.startTime);return He>=z&&He<ae}),Ie=Re.map((Ve,He)=>{const ot=Ve.startTime&&Ve.endTime?Math.floor((new Date(Ve.endTime).getTime()-new Date(Ve.startTime).getTime())/36e5*10)/10:0;return{serialNumber:He+1,companyName:Ve.clientName||"Unknown",attendanceStatus:"",totalDutyHours:ot}});U(Ie);const Be=Re.filter(Ve=>Ve.status==="completed"&&Ve.endTime),ft=Ie.reduce((Ve,He)=>Ve+(He.totalDutyHours||0),0);r({title:"Today's Summary Loaded",description:`${Re.length} meetings, ${ft.toFixed(1)} hours total`})}else throw console.error("Failed to fetch meetings from existing API:",re.status),new Error(`API returned ${re.status}`)}catch(z){console.error("Error fetching today's meetings:",z),r({title:"Error Loading Data",description:"Failed to load today's meeting data. Using cached data.",variant:"destructive"});const ae=new Date;ae.setHours(0,0,0,0);const re=new Date(ae);re.setDate(re.getDate()+1);const Re=d.filter(Ie=>{const Be=new Date(Ie.startTime);return Be>=ae&&Be<re}).map((Ie,Be)=>({serialNumber:Be+1,companyName:Ie.clientName||"Unknown",attendanceStatus:"",totalDutyHours:Ie.startTime&&Ie.endTime?Math.floor((new Date(Ie.endTime).getTime()-new Date(Ie.startTime).getTime())/(1e3*60*60)*10)/10:0}));U(Re)}finally{oe(!1)}};g.useEffect(()=>{console.log(" startedMeetingMap updated:",De)},[De]);const[le,_e]=g.useState(null),[ke,ze]=g.useState({}),[We,it]=g.useState(new Set),[Tt,ye]=g.useState(0);g.useEffect(()=>{console.log(" Meetings state changed:",{count:d.length,meetings:d.map(z=>({id:z.id,status:z.status,client:z.clientName})),hasActive:d.some(z=>z.status==="in-progress"||z.status==="started")})},[d]),g.useEffect(()=>{if(!t){console.error(" No employee ID in URL - access denied"),r({title:"Access Denied",description:"Please access the tracking page with a valid employee ID",variant:"destructive"});return}console.log(" Loading tracking page for employee:",t),(async()=>{try{await Promise.all([Ye(),Z()])}catch(ae){console.error("Failed to initialize tracking data:",ae)}})()},[t,e]),console.log("testing");const Ye=async(z=0)=>{try{console.log("Fetching employee:",{employeeId:t,retryCount:z});const ae=await pt.get(`/api/employees/${t}`);if(ae.ok)try{const re=ae.headers.get("content-type");if(re&&re.includes("application/json")){const we=await ae.json();c(we),console.log("Employee data fetched successfully:",we)}else{const we=await ae.text();console.error("Server returned non-JSON response:",we.substring(0,200)),c(null)}}catch(re){console.error("Error parsing employee response:",re),c(null)}else console.error(`Failed to fetch employee: ${ae.status} ${ae.statusText}`),c(null)}catch(ae){if(console.error("Error fetching employee:",ae),z<1&&ae instanceof TypeError&&(ae.message.includes("fetch")||ae.message.includes("body stream"))){console.log("Retrying employee fetch after network error..."),setTimeout(()=>Ye(z+1),2e3);return}c(null)}},Z=async(z=0)=>{try{console.log(" Fetching meetings:",{employeeId:t,retryCount:z});const ae=await pt.get(`/api/meetings?employeeId=${t}&limit=5`);if(ae.ok)try{const re=ae.headers.get("content-type");if(re&&re.includes("application/json")){const Re=(await ae.json()).meetings||[];f(Re),console.log(" Meetings data fetched successfully:",{count:Re.length,meetings:Re.map(Be=>({id:Be.id,status:Be.status,followUpId:Be.followUpId,client:Be.clientName}))});const Ie=Re.filter(Be=>Be.status==="in-progress"||Be.status==="started");if(Ie.length>0){console.log(" Found active meetings after refresh:",Ie.map(ft=>({id:ft.id,followUpId:ft.followUpId})));const Be={};Ie.forEach(ft=>{ft.followUpId&&(console.log(" Restoring startedMeetingMap for follow-up meeting:",ft.followUpId,"->",ft.id),Be[ft.followUpId]=ft.id)}),Object.keys(Be).length>0&&de(ft=>({...ft,...Be})),I(Ie[0].id)}else console.log(" No active meetings found"),I(null)}else{const we=await ae.text();console.error("Server returned non-JSON response for meetings:",we.substring(0,200)),f([])}}catch(re){console.error("Error parsing meetings response:",re),f([])}else console.error(`Failed to fetch meetings: ${ae.status} ${ae.statusText}`),f([])}catch(ae){if(console.error("Error fetching meetings:",ae),z<1&&ae instanceof TypeError&&(ae.message.includes("fetch")||ae.message.includes("body stream"))){console.log("Retrying meetings fetch after network error..."),setTimeout(()=>Z(z+1),2e3);return}f([])}finally{_(!1)}},me=z=>{console.log("Today's follow-up meetings fetched:",z.length),v(z)},be=z=>{console.log(" Attempting to start meeting from follow-up:",z.companyName),console.log(" Current meetings:",d.map(we=>({id:we.id,status:we.status,client:we.clientName}))),console.log(" Total meetings:",d.length);const ae=d.find(we=>we.status==="in-progress"||we.status==="started");if(console.log(" Active meeting check result:",ae?`Found: ${ae.id}`:"None"),ae){console.log(" BLOCKED: Active meeting exists:",ae.id),r({title:"Cannot Start Meeting",description:"You already have an active meeting. Please complete it before starting a new one.",variant:"destructive"});return}console.log(" No active meeting found, proceeding to start...");const re={clientName:z.companyName,reason:`Follow-up meeting - ${z.type}`,notes:z.remark||`Meeting with ${z.customerName} from ${z.companyName}`,leadId:z.leadId,leadInfo:{id:z.leadId,companyName:z.companyName,contactName:z.customerName}};kn(re,z._id)},ge=(z,ae,re)=>{console.log("Location updated:",{lat:z,lng:ae,accuracy:re}),Ye()},Ze=(z,ae,re)=>{const we=`https://www.google.com/maps?q=${z},${ae}`,Re=`https://maps.apple.com/?q=${z},${ae}`;/iPad|iPhone|iPod/.test(navigator.userAgent)?window.open(Re,"_blank"):window.open(we,"_blank")},rt=z=>{window.location.href=`tel:${z}`},at=(z,ae)=>{const re=encodeURIComponent(`Regarding Field Operations - ${ae}`),we=encodeURIComponent(`Hi ${ae.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${z}?subject=${re}&body=${we}`},on=(z,ae)=>{const re=encodeURIComponent(`Hi ${ae.split(" ")[0]}, checking in on your current location and status.`);window.location.href=`sms:${z}?body=${re}`},[Ut,Dt]=g.useState(null),Yt=z=>{console.log("handleEndMeetingClick called with meetingId:",z),I(z),D(!0)},en=async(z,ae)=>{console.log(" handleEndMeetingFromFollowUp called with:",{followUpId:z,meetingId:ae}),console.log(" Fetching active meeting from local database AND external API..."),r({title:"Loading Meeting Data",description:"Searching for active meeting..."});let re=ae,we=null;try{if(!re||re===""){if(console.log(" Step 1: Checking local database..."),z)try{console.log(" Querying local database by followUpId:",z);const Ie=await pt.get(`/api/meetings/active?followUpId=${z}`);Ie.ok?(we=await Ie.json(),re=we.id,console.log(" Found active meeting in LOCAL DATABASE:",re)):console.warn(" Not found in local database by followUpId (404)")}catch(Ie){console.warn(" Error querying local database by followUpId:",Ie)}if(!re&&t)try{console.log(" Querying local database by employeeId:",t);const Ie=await pt.get(`/api/meetings/active?employeeId=${t}`);Ie.ok?(we=await Ie.json(),re=we.id,console.log(" Found active meeting in LOCAL DATABASE:",re)):console.warn(" Not found in local database by employeeId (404)")}catch(Ie){console.warn(" Error querying local database by employeeId:",Ie)}console.log(" Step 1 complete. finalMeetingId:",re||"not found")}if((!re||re==="")&&(console.log(" Step 2: Not found in local database, checking external API..."),t))try{const ft=`${"https://jbdspower.in/LeafNetServer/api".replace("/getAllLead","")}/getFollowUpHistory?userId=${t}`;console.log(" Querying external API:",ft);const Ve=await fetch(ft);if(Ve.ok){const He=await Ve.json();console.log(" External API returned",He.length,"follow-ups");const ot=He.find(st=>st.meetingStatus==="meeting on-going"||st.meetingStatus==="In Progress"||st.meetingStatus==="IN_PROGRESS"||st.meetingStatus==="Started");if(ot){console.log(" Found ongoing meeting in EXTERNAL API:",ot._id),console.log(" External meeting data:",{id:ot._id,status:ot.meetingStatus,company:ot.companyName,customer:ot.customerName});let st=!1;try{const xt=await pt.get(`/api/meetings/active?followUpId=${ot._id}`);xt.ok&&(we=await xt.json(),re=we.id,st=!0,console.log(" Found corresponding meeting in local database:",re))}catch(xt){console.warn(" Error searching local database (404 expected):",xt.message)}if(!st&&!re){console.warn(" External API shows ongoing meeting, but not found in local database"),console.warn(" Creating meeting in local database from external API data...");try{if(!a)console.error(" Cannot create meeting: No employee data");else{const xt=await pt.post("/api/meetings",{employeeId:a.id,location:{lat:a.location.lat,lng:a.location.lng,address:a.location.address},clientName:ot.companyName,notes:`Recovered meeting from external API - ${ot.type}: ${ot.remark}`,followUpId:ot._id,leadId:ot.leadId||void 0,externalMeetingStatus:ot.meetingStatus});xt.ok?(we=await xt.json(),re=we.id,console.log(" Successfully created meeting in local database:",re),console.log(" Meeting recovered from external API")):console.error(" Failed to create meeting in local database")}}catch(xt){console.error(" Error creating meeting in local database:",xt)}}}else console.warn(" No ongoing meetings found in external API"),console.log("Available meetings:",He.map(st=>({id:st._id,status:st.meetingStatus,company:st.companyName})))}else console.error(" External API request failed:",Ve.status)}catch(Ie){console.error(" Error querying external API:",Ie)}if(!re||re===""){console.error(" No active meeting found in LOCAL DATABASE or EXTERNAL API!"),console.error("Searched with:",{followUpId:z,employeeId:t}),r({title:"No Active Meeting",description:"No active meeting found. The meeting may not have been saved properly when started.",variant:"destructive"});return}console.log(" Final meeting ID:",re),we&&(console.log(" Updating local state with meeting data..."),f(Ie=>Ie.find(ft=>ft.id===we.id)?(console.log(" Meeting already in local state"),Ie):(console.log(" Adding meeting to local state"),[we,...Ie])),we.followUpId&&(console.log(" Restoring startedMeetingMap:",{[we.followUpId]:we.id}),de(Ie=>({...Ie,[we.followUpId]:we.id}))));let Re=ke[re];!Re&&z&&(Re=p.find(Ie=>Ie._id===z),console.log(" Found follow-up data from todaysFollowUpMeetings:",!!Re)),!Re&&(we!=null&&we.followUpId)&&(Re=p.find(Ie=>Ie._id===we.followUpId),console.log(" Found follow-up data by activeMeetingData.followUpId:",!!Re)),Re?(console.log(" Setting follow-up data for modal:",{company:Re.companyName,customer:Re.customerName}),_e(Re)):(console.warn(" No follow-up data found for meeting:",re),console.warn("Modal will open without pre-filled customer data")),console.log(" Opening End Meeting modal with meeting ID:",re),I(re),D(!0)}catch(Re){console.error(" Error in handleEndMeetingFromFollowUp:",Re),r({title:"Error",description:"Failed to load meeting data from database. Please try again.",variant:"destructive"})}},zt=()=>{console.log("End meeting attempt. Employee status:",a==null?void 0:a.status,"Available meetings:",d);const z=d.find(ae=>ae.status==="in-progress"||ae.status==="started");z?Yt(z.id):(console.error("No active meeting found to end. Available meetings:",d),r({title:"No Active Meeting",description:"No active meeting found for this employee. Please start a meeting first.",variant:"destructive"}))},bt=async z=>{var ft;console.log(" handleEndMeetingWithDetails called with:",{activeMeetingId:M,meetingDetails:z,hasCustomers:((ft=z.customers)==null?void 0:ft.length)>0,hasDiscussion:!!z.discussion});const ae=new Date().toISOString();if(console.log(" Meeting end time captured:",ae),!ae||ae.length===0){console.error(" CRITICAL ERROR: Failed to capture end time!"),r({title:"Error",description:"Failed to capture end time. Please try again.",variant:"destructive"});return}let re=M;if(!re){console.error(" Cannot end meeting: No activeMeetingId set!"),r({title:"Error",description:"No active meeting found. Please try again.",variant:"destructive"});return}const we=d.find(Ve=>Ve.id===re);if(!we){console.error(" Cannot find current meeting in local state:",re),r({title:"Error",description:"Meeting data not found. Please refresh and try again.",variant:"destructive"});return}const Re=new Date(we.startTime).getTime(),Be=new Date(ae).getTime()-Re;if(console.log(" TIME VALIDATION:",{startTime:we.startTime,endTime:ae,durationMs:Be,durationMinutes:Math.round(Be/(1e3*60))}),Be<3e4&&(console.warn(" WARNING: Meeting duration is very short:",Be,"ms"),Be<=0)){console.error(" CRITICAL ERROR: End time is not after start time!");const Ve=new Date(Re+6e4).toISOString();console.log(" FIXED: Using buffered end time:",Ve)}Dt(re);try{console.log("Ending meeting with details:",M,z);let Ve=null;const He=3;let ot=0;for(;ot<He&&!Ve;)try{if(console.log(` Attempt ${ot+1}/${He}: Fetching location for meeting end...`),ot===0){const Mt=Se();r({title:Mt?"Getting GPS Location...":"Approximating Location...",description:Mt?"Using GPS for precise location":"Using network-based location (faster)"})}if(!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const Mt=await navigator.permissions.query({name:"geolocation"});if(console.log("Location permission status:",Mt.state),Mt.state==="denied"){r({title:"Location Permission Denied",description:"Please enable location access in your browser settings and try again.",variant:"destructive"}),Dt(null);return}Mt.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}const St=await new Promise((Mt,Qt)=>{const Ei=15e3+ot*5e3;navigator.geolocation.getCurrentPosition(Mt,Qt,{enableHighAccuracy:!0,maximumAge:0,timeout:Ei})});let jt=`${St.coords.latitude.toFixed(6)}, ${St.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address..."),jt=await je(St.coords.latitude,St.coords.longitude),console.log(" Address resolved:",jt)}catch(Mt){console.warn(" Failed to get address, using coordinates:",Mt),jt=`${St.coords.latitude.toFixed(6)}, ${St.coords.longitude.toFixed(6)}`}Ve={lat:St.coords.latitude,lng:St.coords.longitude,address:jt,timestamp:ae},console.log(" Fresh end location obtained:",Ve),r({title:"Location Obtained",description:"Ending meeting..."})}catch(St){ot++,console.error(` Location fetch attempt ${ot} failed:`,St);const jt=Se(),Mt=jt?3:1;if(ot<Mt)r({title:"Retrying Location",description:`Attempt ${ot+1}/${Mt}. ${jt?"Ensure GPS is enabled":"Checking network location..."}`}),await new Promise(Qt=>setTimeout(Qt,jt?1e3:500));else{const Qt=St instanceof GeolocationPositionError?St.code===1?"Location permission denied. Please enable location in your browser settings.":St.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";r({title:"Location Required",description:Qt,variant:"destructive"}),Dt(null);return}}if(!Ve){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),Dt(null);return}console.log(" Sending PUT request to:",`/api/meetings/${re}`);const st=d.find(St=>St.id===re);if(!st){console.error(" Cannot find current meeting in local state:",re),r({title:"Error",description:"Meeting data not found. Please refresh and try again.",variant:"destructive"}),Dt(null);return}console.log(" Current meeting data:",{id:st.id,startTime:st.startTime,clientName:st.clientName,status:st.status});const xt={status:"completed",endTime:ae,meetingDetails:z,location:{...st.location,endLocation:{lat:Ve.lat,lng:Ve.lng,address:Ve.address,timestamp:Ve.timestamp}}};console.log(" Update payload (preserving original startTime):",xt);const Ke=await pt.put(`/api/meetings/${re}`,xt,!0,{timeoutMs:6e4});if(Ke.ok){console.log("Meeting ended successfully");const St=Object.keys(De).find(jt=>De[jt]===re);if(St&&(console.log(" Optimistically updating local meeting status to complete for:",St),v(jt=>{const Mt=jt.map(Qt=>Qt._id===St?{...Qt,meetingStatus:"complete"}:Qt);return console.log(" Optimistic update applied. Meeting should now show as Complete"),console.log(" Updated meetings:",Mt.map(Qt=>({id:Qt._id,company:Qt.companyName,status:Qt.meetingStatus}))),Mt})),St&&(console.log(" Clearing startedMeetingMap for instant UI update:",St),de(jt=>{const Mt={...jt};return delete Mt[St],console.log(" StartedMeetingMap cleared. Button should now show Complete"),Mt})),St)try{console.log("Updating follow-up status for:",St);const jt=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${St}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"complete"})});jt.ok?console.log(" Follow-up meeting status updated to 'complete' in external API"):(console.error(" Failed to update follow-up status:",jt.status),console.log(" Rolling back optimistic update due to API failure"),v(Mt=>Mt.map(Qt=>Qt._id===St?{...Qt,meetingStatus:"In Progress"}:Qt)),de(Mt=>({...Mt,[St]:re})))}catch(jt){console.error(" Error updating follow-up status:",jt),console.log(" Rolling back optimistic update due to API error"),v(Mt=>Mt.map(Qt=>Qt._id===St?{...Qt,meetingStatus:"In Progress"}:Qt)),de(Mt=>({...Mt,[St]:re}))}try{const jt=d.find(Qt=>Qt.id===re);console.log("Attempting to add meeting to history with details:",{sessionId:(O==null?void 0:O.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:z,leadId:jt==null?void 0:jt.leadId,leadInfo:jt==null?void 0:jt.leadInfo});const Mt=await pt.post("/api/meeting-history",{sessionId:(O==null?void 0:O.id)||`manual_${Date.now()}`,employeeId:t,meetingDetails:z,leadId:jt==null?void 0:jt.leadId,leadInfo:jt==null?void 0:jt.leadInfo});if(Mt.ok){const Qt=await Mt.json();console.log("Meeting added to history successfully:",Qt)}else{const Qt=await Mt.text();console.error("Failed to add meeting to history:",Mt.status,Qt)}}catch(jt){console.error("Error adding meeting to history:",jt)}ze(jt=>{const Mt={...jt};return delete Mt[re],Mt}),it(jt=>{const Mt=new Set(jt);return Mt.delete(re),Mt}),setTimeout(()=>{ye(jt=>jt+1)},500),await pt.put(`/api/employees/${t}/status`,{status:"active"}),await Promise.all([Z(),Ye()])}else{const St=await Ke.text();throw console.error("Failed to end meeting:",Ke.status,St),new Error(`Failed to end meeting: ${St}`)}}catch(Ve){throw console.error("Error ending meeting:",Ve),Ve}finally{Dt(null),I(null)}},Qe=async z=>{if(!a)return;const ae=new Date().toISOString();console.log(" Meeting start time captured:",ae),C(!0);try{let re=null;const we=3;let Re=0;for(;Re<we&&!re;)try{if(console.log(` Attempt ${Re+1}/${we}: Fetching location for meeting start...`),Re===0){const He=Se();r({title:He?"Getting GPS Location...":"Approximating Location...",description:He?"Using GPS for precise location":"Using network-based location (faster)"})}if(!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const He=await navigator.permissions.query({name:"geolocation"});console.log("Location permission status:",He.state),He.state==="denied"&&console.warn("Permission API reports denied; trying live geolocation anyway."),He.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}let Be;!Se()&&F?Date.now()-F.timestamp<12e4?(console.log(" Using cached location for desktop start meeting"),Be=F,r({title:"Using Recent Location",description:"Using location from 2 minutes ago (desktop optimization)"})):(Be=await new Promise((ot,st)=>{const xt=Te(Re);console.log("Desktop location settings:",xt),navigator.geolocation.getCurrentPosition(ot,st,xt)}),Q(Be)):Be=await new Promise((He,ot)=>{const st=Te(Re);console.log("Mobile location settings:",st),navigator.geolocation.getCurrentPosition(He,ot,st)});let Ve=`${Be.coords.latitude.toFixed(6)}, ${Be.coords.longitude.toFixed(6)}`;try{console.log(" Fetching address..."),Ve=await je(Be.coords.latitude,Be.coords.longitude),console.log(" Address resolved:",Ve)}catch(He){console.warn(" Failed to get address, using coordinates:",He),Ve=`${Be.coords.latitude.toFixed(6)}, ${Be.coords.longitude.toFixed(6)}`}re={lat:Be.coords.latitude,lng:Be.coords.longitude,address:Ve},console.log(" Fresh start location obtained:",re),r({title:"Location Obtained",description:"Starting meeting..."})}catch(Be){Re++,console.error(` Location fetch attempt ${Re} failed:`,Be);const ft=Se(),Ve=ft?3:1;if(Re<Ve)r({title:"Retrying Location",description:`Attempt ${Re+1}/${Ve}. ${ft?"Ensure GPS is enabled":"Checking network location..."}`}),await new Promise(He=>setTimeout(He,ft?1e3:500));else{const He=Be instanceof GeolocationPositionError?Be.code===1?"Location permission denied. Please enable location in your browser settings.":Be.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";if(Be instanceof GeolocationPositionError&&Be.code===1){const st=$();if(st){re=st,r({title:"Location Permission Denied",description:"Using last known location to start the meeting."});break}}r({title:"Location Required",description:He,variant:"destructive"}),C(!1);return}}if(!re){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),C(!1);return}const Ie=await pt.post("/api/meetings",{employeeId:a.id,location:re,clientName:z.clientName,notes:`${z.reason}${z.notes?` - ${z.notes}`:""}`,leadId:z.leadId,leadInfo:z.leadInfo,startTime:ae});if(Ie.ok){const Be=await Ie.json();console.log(" Meeting created successfully:",{id:Be.id,clientName:Be.clientName,status:Be.status,startTime:Be.startTime,location:Be.location}),f(ft=>{console.log(" Adding meeting to state:",{id:Be.id,clientName:Be.clientName,status:Be.status}),console.log(" Previous meetings count:",ft.length);const Ve=[Be,...ft];return console.log(" New meetings count:",Ve.length),Ve}),await Pn.put(`/api/employees/${t}/status`,{status:"meeting"}),Ye(),P(!1),r({title:"Meeting Started",description:`Meeting with ${z.clientName} has been started`}),console.log(" Meeting started successfully - UI should now show End Meeting button")}else{const Be=await Ie.json().catch(()=>({error:"Failed to start meeting"}));r({title:"Cannot Start Meeting",description:Be.error||"Failed to start meeting",variant:"destructive"})}}catch(re){console.error("Error starting meeting:",re),r({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{C(!1)}},kn=async(z,ae)=>{if(!a)return;const re=new Date().toISOString();console.log(" Follow-up meeting start time captured:",re),C(!0);try{const we=p.find(He=>He._id===ae);console.log(" Storing follow-up data for meeting:",we);let Re=null;const Ie=Se(),Be=Ie?3:1;let ft=0;for(;ft<Be&&!Re;)try{if(console.log(` Attempt ${ft+1}/${Be}: Fetching location for meeting start...`),ft===0&&r({title:Ie?"Getting GPS Location...":"Approximating Location...",description:Ie?"Using GPS for precise location":"Using network-based location (faster)"}),!navigator.geolocation)throw new Error("Geolocation is not supported by your browser");if(navigator.permissions){const st=await navigator.permissions.query({name:"geolocation"});console.log("Location permission status:",st.state),st.state==="denied"&&console.warn("Permission API reports denied; trying live geolocation anyway."),st.state==="prompt"&&r({title:"Location Permission Required",description:"Please allow location access when prompted."})}let He;!Ie&&F?Date.now()-F.timestamp<12e4?(console.log(" Using cached location for desktop follow-up meeting"),He=F,r({title:"Using Recent Location",description:"Using location from 2 minutes ago (desktop optimization)"})):(He=await new Promise((xt,Ke)=>{const St=Te(ft);console.log("Desktop follow-up location settings:",St),navigator.geolocation.getCurrentPosition(xt,Ke,St)}),Q(He)):He=await new Promise((st,xt)=>{const Ke=Te(ft);console.log("Mobile follow-up location settings:",Ke),navigator.geolocation.getCurrentPosition(st,xt,Ke)});let ot=await je(He.coords.latitude,He.coords.longitude);Re={lat:He.coords.latitude,lng:He.coords.longitude,address:ot},console.log(" Fresh start location obtained:",Re),r({title:"Location Obtained",description:"Starting meeting..."})}catch(He){if(ft++,console.error(` Location fetch attempt ${ft} failed:`,He),ft<Be)r({title:"Retrying Location",description:`Attempt ${ft+1}/${Be}. ${Ie?"Ensure GPS is enabled":"Checking network location..."}`}),await new Promise(ot=>setTimeout(ot,Ie?1e3:500));else{const ot=He instanceof GeolocationPositionError?He.code===1?"Location permission denied. Please enable location in your browser settings.":He.code===2?"Unable to determine your location. Please check your device's location settings.":"Location request timed out. Please ensure location services are enabled and try again.":"Failed to access location. Please check your location settings and try again.";if(He instanceof GeolocationPositionError&&He.code===1){const xt=$();if(xt){Re=xt,r({title:"Location Permission Denied",description:"Using last known location to start the meeting."});break}}r({title:"Location Required",description:ot,variant:"destructive"}),C(!1);return}}if(!Re){r({title:"Location Required",description:"Unable to get your location after multiple attempts. Please check your settings.",variant:"destructive"}),C(!1);return}console.log(" Creating follow-up meeting with payload:",{employeeId:a.id,location:Re,clientName:z.clientName,notes:`${z.reason}${z.notes?` - ${z.notes}`:""}`,leadId:z.leadId,leadInfo:z.leadInfo,followUpId:ae,externalMeetingStatus:"meeting on-going"});const Ve=await pt.post("/api/meetings",{employeeId:a.id,location:Re,clientName:z.clientName,notes:`${z.reason}${z.notes?` - ${z.notes}`:""}`,leadId:z.leadId,leadInfo:z.leadInfo,followUpId:ae,externalMeetingStatus:"meeting on-going",startTime:re});if(Ve.ok){const He=await Ve.json();console.log(" Follow-up meeting created successfully:",{id:He.id,clientName:He.clientName,status:He.status,startTime:He.startTime,location:He.location,followUpId:He.followUpId});const ot={...He,status:"in-progress",startTime:He.startTime||new Date().toISOString(),location:{...He.location,address:He.location.address||Re.address}};f(st=>(console.log(" Adding follow-up meeting to state:",ot.id),console.log(" Meeting details for state:",{id:ot.id,clientName:ot.clientName,status:ot.status,startTime:ot.startTime,location:ot.location}),[ot,...st])),de(st=>{const xt={...st,[ae]:He.id};return console.log(" Updated startedMeetingMap:",xt),xt}),we&&(ze(st=>({...st,[He.id]:we})),console.log(" Stored follow-up data for meeting ID:",He.id));try{const st=await fetch(`https://jbdspower.in/LeafNetServer/api/updateFollowUp/${ae}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({meetingStatus:"meeting on-going"})});st.ok?console.log(" Updated follow-up meetingStatus to 'meeting on-going' for:",ae):console.warn(" Failed to update follow-up meetingStatus:",st.status)}catch(st){console.error(" Failed to update follow-up meetingStatus to meeting on-going:",st)}try{await Pn.put(`/api/employees/${t}/status`,{status:"meeting"}),console.log(" Employee status updated to 'meeting'")}catch(st){console.error(" Failed to update employee status:",st)}Ye(),r({title:"Meeting Started",description:`Meeting with ${z.clientName} has been started`}),console.log(" Follow-up meeting started successfully - should now appear in Recent Meetings")}else{const He=await Ve.json().catch(()=>({error:"Failed to start meeting"}));console.error(" Failed to create follow-up meeting:",He),r({title:"Cannot Start Meeting",description:He.error||"Failed to start meeting",variant:"destructive"})}}catch(we){console.error(" Error starting follow-up meeting:",we),r({title:"Error",description:"Failed to start meeting",variant:"destructive"})}finally{C(!1)}},dn=()=>{const z=d.find(ae=>ae.status==="in-progress"||ae.status==="started");if(z){console.log("Blocked: Active meeting exists:",{id:z.id,clientName:z.clientName,status:z.status,startTime:z.startTime}),r({title:"Cannot Start Meeting",description:`You already have an active meeting with ${z.clientName}. Please complete it before starting a new one.`,variant:"destructive"});return}console.log(" No active meeting found, opening start meeting modal"),P(!0)},It=async z=>{q(z),console.log(" Tracking session started:",z);try{const ae=await pt.post("/api/tracking-sessions",{id:z.id,employeeId:z.employeeId,startTime:z.startTime,startLocation:z.startLocation,route:z.route||[],totalDistance:z.totalDistance||0,status:z.status});if(ae.ok){const re=await ae.json();console.log(" Tracking session saved to server:",re)}else console.error(" Failed to save tracking session:",ae.status)}catch(ae){console.error(" Error saving tracking session:",ae)}},Kt=async z=>{q(z),console.log(" Tracking session ended:",z);try{const ae=await pt.put(`/api/tracking-sessions/${z.id}`,{endTime:z.endTime,endLocation:z.endLocation,route:z.route||[],totalDistance:z.totalDistance||0,duration:z.duration,status:z.status});if(ae.ok){const re=await ae.json();console.log(" Tracking session updated on server:",re)}else console.error(" Failed to update tracking session:",ae.status)}catch(ae){console.error(" Error updating tracking session:",ae)}if(console.log("Auto-snapshot conditions:",{hasEmployee:!!a,sessionStatus:z.status,shouldCreateSnapshot:a&&z.status==="completed"}),a&&z.status==="completed")try{console.log("Auto-creating route snapshot for completed tracking session"),await _t(z)}catch(ae){console.error("Error auto-creating route snapshot:",ae)}else console.log("Skipping auto-snapshot:",{reason:a?z.status!=="completed"?`Session status is ${z.status}`:"Unknown":"No employee data"})},_t=async z=>{if(!a)return;const ae=()=>{const Ve=[];if(z.route&&Ve.push(...z.route),d.forEach(xt=>{Ve.push(xt.location)}),Ve.push(a.location),Ve.length===0)return{north:a.location.lat+.01,south:a.location.lat-.01,east:a.location.lng+.01,west:a.location.lng-.01};const He=Ve.map(xt=>xt.lat),ot=Ve.map(xt=>xt.lng),st=.005;return{north:Math.max(...He)+st,south:Math.min(...He)-st,east:Math.max(...ot)+st,west:Math.min(...ot)-st}},re=()=>d.map(Ve=>({id:Ve.id,location:Ve.location,clientName:Ve.clientName,startTime:Ve.startTime,endTime:Ve.endTime,status:Ve.status})),we=new Date,Re=we.toLocaleDateString(),Ie=we.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Be=`${a.name} Route - ${Re} ${Ie}`,ft={employeeId:a.id,employeeName:a.name,trackingSessionId:z.id,title:Be,description:`Auto-captured route snapshot when tracking stopped. Duration: ${Math.round((z.duration||0)/60)} minutes.`,startLocation:z.startLocation,endLocation:z.endLocation,route:z.route||[a.location],meetings:re(),totalDistance:z.totalDistance||0,duration:z.duration,status:z.status,mapBounds:ae()};try{const Ve=await pt.post("/api/route-snapshots",ft);if(Ve.ok){const He=await Ve.json();console.log("Auto-created route snapshot:",He),r({title:"Route Auto-Captured",description:`${He.title} saved successfully`})}else throw new Error("Failed to auto-create route snapshot")}catch(Ve){console.error("Error auto-creating route snapshot:",Ve),r({title:"Auto-capture Failed",description:"Use 'Manual Capture' button to save route",variant:"destructive"})}},Zt=z=>{switch(z){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},ve=z=>{switch(z){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}};if(x)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading tracking data..."})]})});if(!a)return o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-muted-foreground mb-4",children:"Employee not found"}),o.jsx(Ee,{asChild:!0,children:o.jsx(Ws,{to:"/",children:"Return to Dashboard"})})]})});const Ne=JSON.parse(localStorage.getItem("user")||"{}"),qe=(Ne==null?void 0:Ne._id)==="67daa55d9c4abb36045d5bfe";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[qe&&o.jsx(Ee,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Ws,{to:"/",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{className:"flex items-center justify-between w-full",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:a.name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Real-time Tracking"})]}),o.jsx(Ee,{variant:"outline",onClick:K,className:"ml-4",children:"Duty Completed"})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>Y(!0),className:"text-primary",children:[o.jsx(Um,{className:"h-4 w-4 mr-1"}),"Manual Capture"]}),o.jsx(Rt,{variant:"secondary",className:`${Zt(a.status)}`,children:ve(a.status)})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(x_,{userId:t,onStartMeeting:be,startedMeetingMap:De,onEndMeetingFromFollowUp:en,onMeetingsFetched:me,refreshTrigger:Tt,hasActiveMeeting:d.some(z=>z.status==="in-progress"||z.status==="started"),todaysFollowUpMeetings:p}),o.jsxs("div",{className:"space-y-6",children:[o.jsx(DM,{employeeId:a.id,employeeName:a.name,onLocationUpdate:ge,trackingEnabled:a.status==="active",onTrackingSessionStart:It,onTrackingSessionEnd:Kt,todaysMeetings:p}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsxs($t,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Current Location"}),d.find(ae=>ae.status==="in-progress"||ae.status==="started")||a.status==="meeting"?o.jsxs(Ee,{variant:"destructive",size:"sm",onClick:zt,disabled:Ut!==null,children:[o.jsx($n,{className:"h-4 w-4 mr-2"}),Ut?"Ending...":"End Meeting"]}):o.jsxs(Ee,{variant:"outline",size:"sm",onClick:dn,children:[o.jsx(Vc,{className:"h-4 w-4 mr-2"}),"Start Meeting"]})]})}),o.jsxs(vt,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(cr,{className:"h-5 w-5 text-primary mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:a.location.address}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.location.lat.toFixed(6),","," ",a.location.lng.toFixed(6)]}),o.jsxs("p",{className:"text-xs text-muted-foreground flex items-center mt-1",children:[o.jsx($n,{className:"h-3 w-3 mr-1"}),"Last updated ",a.lastUpdate]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(Ee,{variant:"outline",className:"w-full",onClick:()=>S(!b),children:[o.jsx(yo,{className:"h-4 w-4 mr-2"}),b?"Hide Map":"View on Map"]}),o.jsxs(Ee,{variant:"outline",className:"w-full",onClick:()=>Ze(a.location.lat,a.location.lng,a.location.address),children:[o.jsx(cr,{className:"h-4 w-4 mr-2"}),"Open in Maps App"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>Y(!0),className:"text-primary",children:[o.jsx(Um,{className:"h-4 w-4 mr-2"}),"Manual Capture"]}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>he(!0),children:[o.jsx(ml,{className:"h-4 w-4 mr-2"}),"View History"]})]})]}),b&&a&&o.jsx("div",{className:"mt-4",children:o.jsx(Vp,{employees:[a],height:"300px",trackingSession:O,showRoute:O!==null})})]})]}),o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsxs($t,{className:"flex items-center justify-between",children:[o.jsx("span",{children:"Recent Meetings"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Rt,{variant:"secondary",children:d.length}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>te(!0),children:[o.jsx(is,{className:"h-4 w-4 mr-2"}),"History"]})]})]})}),o.jsx(vt,{children:d.length===0?o.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No recent meetings"}):o.jsx("div",{className:"space-y-4",children:d.sort((z,ae)=>new Date(ae.startTime).getTime()-new Date(z.startTime).getTime()).map(z=>{var ae;return console.log(" Rendering meeting:",{id:z.id,clientName:z.clientName,status:z.status,startTime:z.startTime,location:z.location,followUpId:z.followUpId}),o.jsxs("div",{className:`border rounded-lg p-3 space-y-2 ${z.status==="in-progress"?"border-warning bg-warning/5":"border-border"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("h4",{className:"font-medium",children:[z.clientName||"Unknown Client",z.followUpId&&o.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Follow-up"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Rt,{variant:"secondary",className:z.status==="completed"?"bg-success text-success-foreground":z.status==="in-progress"?"bg-warning text-warning-foreground":"bg-info text-info-foreground",children:z.status}),z.status==="in-progress"&&o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>Yt(z.id),disabled:Ut===z.id,children:Ut===z.id?"Ending...":"End Meeting"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(cr,{className:"h-3 w-3 mr-1"}),((ae=z.location)==null?void 0:ae.address)||"Location not available"]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx(is,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Started:"}),o.jsx("span",{className:"ml-1",children:z.startTime?op(z.startTime):"Time not available"})]}),z.endTime&&o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[o.jsx($n,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Ended:"}),o.jsx("span",{className:"ml-1",children:op(z.endTime)})]}),z.status==="in-progress"&&o.jsxs("p",{className:"text-sm text-success flex items-center",children:[o.jsx($n,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Duration:"}),o.jsx("span",{className:"ml-1",children:(()=>{const re=Date.now()-new Date(z.startTime).getTime(),we=Math.floor(re/(1e3*60)),Re=Math.floor(we/60),Ie=we%60;return Re>0?`${Re}h:${Ie.toString().padStart(2,"0")}m`:`${Ie}m`})()})]}),z.endTime&&z.status==="completed"&&o.jsxs("p",{className:"text-sm text-info flex items-center",children:[o.jsx($n,{className:"h-3 w-3 mr-1"}),o.jsx("span",{className:"font-medium",children:"Duration:"}),o.jsx("span",{className:"ml-1",children:(()=>{const re=new Date(z.endTime).getTime()-new Date(z.startTime).getTime(),we=Math.floor(re/(1e3*60)),Re=Math.floor(we/60),Ie=we%60;return Re>0?`${Re}h:${Ie.toString().padStart(2,"0")}m`:`${Ie}m`})()})]})]}),z.notes&&o.jsx("p",{className:"text-sm",children:z.notes})]},z.id)})})})]}),o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsx($t,{children:"Employee Information"})}),o.jsxs(vt,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Name"}),o.jsx("span",{className:"font-medium",children:a.name})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("span",{className:"font-medium",children:a.email})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("span",{className:"font-medium",children:a.phone})]}),a.designation&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Designation"}),o.jsx("span",{className:"font-medium",children:a.designation})]}),a.department&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Department"}),o.jsx("span",{className:"font-medium",children:a.department})]}),a.companyName&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Company"}),o.jsx("span",{className:"font-medium text-right max-w-xs",children:a.companyName})]}),a.reportTo&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Reports To"}),o.jsx("span",{className:"font-medium",children:a.reportTo})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),o.jsx(Rt,{variant:"secondary",className:`${Zt(a.status)}`,children:ve(a.status)})]}),a.currentTask&&o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Task"}),o.jsx("span",{className:"font-medium text-right max-w-xs",children:a.currentTask})]})]}),d.find(ae=>ae.status==="in-progress"||ae.status==="started")||a.status==="meeting"?o.jsx("div",{className:"pt-4 pb-2",children:o.jsxs(Ee,{variant:"destructive",size:"sm",className:"w-full",onClick:zt,disabled:Ut!==null,children:[o.jsx($n,{className:"h-4 w-4 mr-2"}),Ut?"Ending Meeting...":"End Current Meeting"]})}):null,o.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-4",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>rt(a.phone),children:[o.jsx(gi,{className:"h-4 w-4 mr-2"}),"Call"]}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>at(a.email,a.name),children:[o.jsx(pi,{className:"h-4 w-4 mr-2"}),"Email"]}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>on(a.phone,a.name),className:"col-span-2",children:[o.jsx(Tp,{className:"h-4 w-4 mr-2"}),"Send Message"]})]})]})]})]})]})]})}),a&&o.jsx(pb,{isOpen:k,onClose:()=>P(!1),onStartMeeting:Qe,employeeName:a.name,location:a.location.address,isLoading:j}),a&&o.jsx(WM,{isOpen:T,onClose:()=>{D(!1),I(null),_e(null)},onEndMeeting:bt,employeeName:a.name,isLoading:Ut!==null,currentMeeting:M?d.find(z=>z.id===M):null,followUpMeetingData:le}),o.jsx(u_,{employeeId:t,isOpen:H,onClose:()=>te(!1)}),a&&o.jsx(VM,{employee:a,trackingSession:O,meetings:d,isOpen:V,onClose:()=>Y(!1),onSnapshotCreated:z=>{console.log("Snapshot created:",z)}}),o.jsx(Mb,{employeeId:t,isOpen:ee,onClose:()=>he(!1)}),o.jsx(Nr,{open:$e,onOpenChange:J,children:o.jsxs(ur,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[o.jsx(dr,{children:o.jsx(fr,{className:"text-2xl font-bold text-center",children:"Today's Meetings & Duty Summary"})}),o.jsx("div",{className:"space-y-6 py-4",children:fe?o.jsxs("div",{className:"flex flex-col justify-center items-center py-12",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading today's meeting details..."})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"border rounded-lg",children:o.jsxs(dl,{children:[o.jsx(fl,{children:o.jsxs($r,{children:[o.jsx(yt,{className:"w-[80px] text-center font-bold",children:"Sr. No."}),o.jsx(yt,{className:"font-bold",children:"Company Name"}),o.jsx(yt,{className:"text-right font-bold",children:"Meeting Duration"})]})}),o.jsx(hl,{children:xe.length>0?o.jsxs(o.Fragment,{children:[xe.map(z=>o.jsxs($r,{children:[o.jsx(dt,{className:"text-center font-medium",children:z.serialNumber}),o.jsx(dt,{className:"font-medium",children:z.companyName}),o.jsx(dt,{className:"text-right font-medium",children:z.totalDutyHours?`${z.totalDutyHours} hours`:"In Progress"})]},z.serialNumber)),(()=>{const z=xe.reduce((we,Re)=>we+(Re.totalDutyHours||0),0);let ae="Pending Verification",re="bg-gray-500 hover:bg-gray-600";return z>=7.5?(ae="Full Day",re="bg-green-500 hover:bg-green-600"):z>=3.5&&z<=7.5?(ae="Half Day",re="bg-yellow-500 hover:bg-yellow-600"):(ae="Absent",re="bg-blue-500 hover:bg-red-600"),o.jsxs($r,{className:"bg-muted/30 border-t-2 border-primary",children:[o.jsx(dt,{colSpan:2,className:"text-right font-bold pr-4",children:o.jsxs("div",{className:"flex items-center justify-start",children:[o.jsx("span",{className:"mr-4",children:"Total Duty Hours:"}),o.jsx(Rt,{variant:"default",className:re,children:ae})]})}),o.jsxs(dt,{className:"text-right font-bold text-lg",children:[z.toFixed(1)," hours"]})]})})()]}):o.jsx($r,{children:o.jsx(dt,{colSpan:3,className:"text-center py-8 text-muted-foreground",children:"No meetings recorded for today"})})})]})}),o.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg border",children:[o.jsx("h3",{className:"font-bold text-lg mb-2",children:" Summary Information:"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Date:"})," ",new Date().toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Total Meetings:"})," ",xe.length]}),o.jsxs("p",{children:[" ",o.jsx("strong",{children:"Completed Meetings:"})," ",xe.filter(z=>z.totalDutyHours>0).length]}),o.jsxs("p",{className:"text-muted-foreground mt-3",children:[o.jsx("strong",{children:"Note:"})," The attendance shown above is auto-generated based on today's completed meetings. Final attendance (Full Day / Half Day) will be confirmed after HR verification."]})]})]}),o.jsxs("div",{className:"flex justify-end space-x-4",children:[o.jsx(Ee,{variant:"outline",onClick:()=>J(!1),children:"Close"}),o.jsx(Ee,{onClick:()=>{const z=xe.reduce((ae,re)=>ae+(re.totalDutyHours||0),0);r({title:"Summary Submitted",description:`Today's duty summary (${z.toFixed(1)} hours) has been submitted for HR verification.`}),J(!1)},children:"Submit to HR"})]})]})})]})})]})}function NL(){const[e,t]=g.useState([]),[r,a]=g.useState(!0),[c,d]=g.useState(""),[f,p]=g.useState("all"),[v,x]=g.useState(!1),[_,b]=g.useState(!1),[S,k]=g.useState(null),[P,j]=g.useState({name:"",email:"",phone:"",status:"active"});g.useEffect(()=>{C()},[]);const C=async()=>{var Y;try{console.log("TeamManagement: Fetching employees...");const ee=await pt.get("/api/employees");if(ee.ok){const he=await ee.json();console.log("TeamManagement: Successfully fetched employees:",((Y=he.employees)==null?void 0:Y.length)||0),t(he.employees||[])}else console.error("TeamManagement: Failed to fetch employees - Status:",ee.status),t([])}catch(ee){console.error("TeamManagement: Error fetching employees:",ee),t([])}finally{a(!1)}},T=async()=>{try{const Y=await pt.post("/api/employees",{...P,location:{lat:40.7128,lng:-74.006,address:"New York, NY",timestamp:new Date().toISOString()},lastUpdate:"Just now",deviceId:`device_${Date.now()}`});Y.ok?(console.log("TeamManagement: Employee added successfully"),C(),x(!1),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to add employee - Status:",Y.status)}catch(Y){console.error("TeamManagement: Error adding employee:",Y)}},D=async()=>{if(S)try{const Y=await pt.put(`/api/employees/${S.id}`,P);Y.ok?(console.log("TeamManagement: Employee updated successfully"),C(),b(!1),k(null),j({name:"",email:"",phone:"",status:"active"})):console.error("TeamManagement: Failed to update employee - Status:",Y.status)}catch(Y){console.error("TeamManagement: Error updating employee:",Y)}},M=async Y=>{if(confirm("Are you sure you want to delete this employee?"))try{const ee=await pt.delete(`/api/employees/${Y}`);ee.ok?(console.log("TeamManagement: Employee deleted successfully"),C()):console.error("TeamManagement: Failed to delete employee - Status:",ee.status)}catch(ee){console.error("TeamManagement: Error deleting employee:",ee)}},I=Y=>{window.location.href=`tel:${Y}`},O=(Y,ee)=>{const he=encodeURIComponent(`Regarding Field Operations - ${ee}`),De=encodeURIComponent(`Hi ${ee.split(" ")[0]},

I wanted to follow up regarding your current field operations.

Best regards`);window.location.href=`mailto:${Y}?subject=${he}&body=${De}`},q=Y=>{k(Y),j({name:Y.name,email:Y.email,phone:Y.phone,status:Y.status}),b(!0)},H=Y=>{switch(Y){case"active":return"bg-success text-success-foreground";case"meeting":return"bg-warning text-warning-foreground";case"inactive":return"bg-muted text-muted-foreground";default:return"bg-muted text-muted-foreground"}},te=Y=>{switch(Y){case"active":return"On Route";case"meeting":return"In Meeting";case"inactive":return"Offline";default:return"Unknown"}},V=e.filter(Y=>{const ee=Y.name.toLowerCase().includes(c.toLowerCase())||Y.email.toLowerCase().includes(c.toLowerCase()),he=f==="all"||Y.status===f;return ee&&he});return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ee,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Ws,{to:"/",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Team Management"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your field team employees"})]})]}),o.jsxs(Nr,{open:v,onOpenChange:x,children:[o.jsx($T,{asChild:!0,children:o.jsxs(Ee,{children:[o.jsx(Vc,{className:"h-4 w-4 mr-2"}),"Add Employee"]})}),o.jsxs(ur,{children:[o.jsxs(dr,{children:[o.jsx(fr,{children:"Add New Employee"}),o.jsx(Sr,{children:"Add a new field employee to your team."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Wt,{htmlFor:"name",children:"Name"}),o.jsx(vn,{id:"name",value:P.name,onChange:Y=>j({...P,name:Y.target.value}),placeholder:"Enter full name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Wt,{htmlFor:"email",children:"Email"}),o.jsx(vn,{id:"email",type:"email",value:P.email,onChange:Y=>j({...P,email:Y.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Wt,{htmlFor:"phone",children:"Phone"}),o.jsx(vn,{id:"phone",type:"tel",value:P.phone,onChange:Y=>j({...P,phone:Y.target.value}),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Wt,{htmlFor:"status",children:"Status"}),o.jsxs(_s,{value:P.status,onValueChange:Y=>j({...P,status:Y}),children:[o.jsx(ss,{children:o.jsx(bs,{placeholder:"Select status"})}),o.jsxs(os,{children:[o.jsx(sn,{value:"active",children:"Active"}),o.jsx(sn,{value:"inactive",children:"Inactive"}),o.jsx(sn,{value:"meeting",children:"In Meeting"})]})]})]})]}),o.jsxs(ma,{children:[o.jsx(Ee,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),o.jsx(Ee,{onClick:T,children:"Add Employee"})]})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(su,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o.jsx(vn,{placeholder:"Search employees...",value:c,onChange:Y=>d(Y.target.value),className:"pl-10"})]}),o.jsxs(_s,{value:f,onValueChange:p,children:[o.jsx(ss,{className:"w-full sm:w-[180px]",children:o.jsx(bs,{placeholder:"Filter by status"})}),o.jsxs(os,{children:[o.jsx(sn,{value:"all",children:"All Statuses"}),o.jsx(sn,{value:"active",children:"Active"}),o.jsx(sn,{value:"meeting",children:"In Meeting"}),o.jsx(sn,{value:"inactive",children:"Inactive"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Total Employees"}),o.jsx(la,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsx(vt,{children:o.jsx("div",{className:"text-2xl font-bold",children:e.length})})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Active"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-success"})]}),o.jsx(vt,{children:o.jsx("div",{className:"text-2xl font-bold text-success",children:e.filter(Y=>Y.status==="active").length})})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"In Meetings"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-warning"})]}),o.jsx(vt,{children:o.jsx("div",{className:"text-2xl font-bold text-warning",children:e.filter(Y=>Y.status==="meeting").length})})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Offline"}),o.jsx("div",{className:"h-3 w-3 rounded-full bg-muted"})]}),o.jsx(vt,{children:o.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:e.filter(Y=>Y.status==="inactive").length})})]})]}),o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsxs($t,{children:["Team Members (",V.length,")"]})}),o.jsx(vt,{children:r?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading employees..."})]}):V.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(la,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No employees found"}),o.jsx("p",{className:"text-muted-foreground",children:c||f!=="all"?"Try adjusting your search or filters.":"Add your first employee to get started."})]}):o.jsx("div",{className:"space-y-4",children:V.map(Y=>o.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 transition-colors",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"font-semibold text-lg",children:Y.name}),o.jsx(Rt,{variant:"secondary",className:`text-xs ${H(Y.status)}`,children:te(Y.status)})]}),o.jsxs("div",{className:"space-y-1 text-sm text-muted-foreground",children:[o.jsxs("p",{className:"flex items-center",children:[o.jsx(pi,{className:"h-3 w-3 mr-2"}),Y.email]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(gi,{className:"h-3 w-3 mr-2"}),Y.phone]}),o.jsxs("p",{className:"flex items-center",children:[o.jsx(cr,{className:"h-3 w-3 mr-2"}),Y.location.address]}),Y.currentTask&&o.jsxs("p",{className:"text-primary font-medium",children:["Current Task: ",Y.currentTask]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>I(Y.phone),children:[o.jsx(gi,{className:"h-3 w-3 mr-1"}),"Call"]}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>O(Y.email,Y.name),children:[o.jsx(pi,{className:"h-3 w-3 mr-1"}),"Email"]}),o.jsx(Ee,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Ws,{to:`/tracking/${Y.id}`,children:[o.jsx(yo,{className:"h-3 w-3 mr-1"}),"Track"]})}),o.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>q(Y),children:[o.jsx(Wm,{className:"h-3 w-3 mr-1"}),"Edit"]}),o.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>M(Y.id),className:"text-destructive hover:text-destructive",children:o.jsx(pw,{className:"h-3 w-3"})})]})]})},Y.id))})})]})]}),o.jsx(Nr,{open:_,onOpenChange:b,children:o.jsxs(ur,{children:[o.jsxs(dr,{children:[o.jsx(fr,{children:"Edit Employee"}),o.jsx(Sr,{children:"Update employee information."})]}),o.jsxs("div",{className:"grid gap-4 py-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Wt,{htmlFor:"edit-name",children:"Name"}),o.jsx(vn,{id:"edit-name",value:P.name,onChange:Y=>j({...P,name:Y.target.value}),placeholder:"Enter full name"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Wt,{htmlFor:"edit-email",children:"Email"}),o.jsx(vn,{id:"edit-email",type:"email",value:P.email,onChange:Y=>j({...P,email:Y.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Wt,{htmlFor:"edit-phone",children:"Phone"}),o.jsx(vn,{id:"edit-phone",type:"tel",value:P.phone,onChange:Y=>j({...P,phone:Y.target.value}),placeholder:"Enter phone number"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(Wt,{htmlFor:"edit-status",children:"Status"}),o.jsxs(_s,{value:P.status,onValueChange:Y=>j({...P,status:Y}),children:[o.jsx(ss,{children:o.jsx(bs,{placeholder:"Select status"})}),o.jsxs(os,{children:[o.jsx(sn,{value:"active",children:"Active"}),o.jsx(sn,{value:"inactive",children:"Inactive"}),o.jsx(sn,{value:"meeting",children:"In Meeting"})]})]})]})]}),o.jsxs(ma,{children:[o.jsx(Ee,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),o.jsx(Ee,{onClick:D,children:"Save Changes"})]})]})})]})}const SL=ru("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ji=g.forwardRef(({className:e,variant:t,...r},a)=>o.jsx("div",{ref:a,role:"alert",className:wt(SL({variant:t}),e),...r}));Ji.displayName="Alert";const jL=g.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:wt("mb-1 font-medium leading-none tracking-tight",e),...t}));jL.displayName="AlertTitle";const ea=g.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:wt("text-sm [&_p]:leading-relaxed",e),...t}));ea.displayName="AlertDescription";function EL(){const[e,t]=g.useState(null),[r,a]=g.useState(!0),[c,d]=g.useState(!1),[f,p]=g.useState(null),[v,x]=g.useState(null),[_,b]=g.useState(!1),[S,k]=g.useState(!1);g.useEffect(()=>{P()},[]);const P=async()=>{try{a(!0),x(null);const M=await pt.get("/api/data-status");if(M.ok){const I=await M.json();t(I),console.log("Data status:",I)}else throw new Error(`Failed to fetch data status: ${M.status}`)}catch(M){console.error("Error fetching data status:",M),x(M.message)}finally{a(!1)}},j=async()=>{try{d(!0),p(null),x(null);const M=await pt.post("/api/data-sync",{});if(M.ok){const I=await M.json();p(I),console.log("Sync result:",I),await P()}else throw new Error(`Sync failed: ${M.status} ${M.statusText}`)}catch(M){console.error("Error syncing data:",M),x(M.message)}finally{d(!1)}},C=async()=>{try{b(!0),x(null),k(!1);const M=await pt.post("/api/employees/clear-cache",{});if(M.ok){const I=await M.json();k(!0),console.log("Location cache cleared:",I.message)}else throw new Error(`Cache clear failed: ${M.status} ${M.statusText}`)}catch(M){x(M instanceof Error?M.message:"Failed to clear location cache")}finally{b(!1)}},T=(M,I)=>M===0&&I>0?"text-yellow-600":M>0?"text-green-600":"text-gray-600",D=(M,I)=>M===0&&I>0?o.jsx(Oc,{className:"h-4 w-4 text-yellow-600"}):M>0?o.jsx(rs,{className:"h-4 w-4 text-green-600"}):o.jsx(nx,{className:"h-4 w-4 text-gray-600"});return r?o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(pl,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading data status..."})]})})}):o.jsx("div",{className:"min-h-screen bg-background p-6",children:o.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"Data Management"}),o.jsx("p",{className:"text-muted-foreground",children:"Monitor and synchronize MongoDB data storage"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs(Ee,{onClick:P,variant:"outline",disabled:r,children:[o.jsx(pl,{className:"h-4 w-4 mr-2"}),"Refresh"]}),o.jsxs(Ee,{onClick:j,disabled:c,className:"bg-primary hover:bg-primary/90",children:[o.jsx(nx,{className:"h-4 w-4 mr-2"}),c?"Syncing...":"Sync Data"]}),o.jsxs(Ee,{onClick:C,disabled:_,variant:"outline",className:"border-orange-500 text-orange-600 hover:bg-orange-50",children:[o.jsx(pl,{className:"h-4 w-4 mr-2"}),_?"Clearing...":"Clear Location Cache"]})]})]}),v&&o.jsxs(Ji,{variant:"destructive",children:[o.jsx(Oc,{className:"h-4 w-4"}),o.jsx(ea,{children:v})]}),f&&o.jsxs(Ji,{className:"border-green-200 bg-green-50",children:[o.jsx(rs,{className:"h-4 w-4 text-green-600"}),o.jsxs(ea,{className:"text-green-800",children:[o.jsx("strong",{children:f.message}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsxs("p",{children:[" Meetings in MongoDB: ",f.stats.totalMeetingsInMongoDB]}),o.jsxs("p",{children:[" History in MongoDB: ",f.stats.totalHistoryInMongoDB]}),o.jsxs("p",{children:[" Meetings synced: ",f.stats.meetingsSynced]}),o.jsxs("p",{children:[" History synced: ",f.stats.historySynced]})]})]})]}),S&&o.jsxs(Ji,{className:"border-orange-200 bg-orange-50",children:[o.jsx(rs,{className:"h-4 w-4 text-orange-600"}),o.jsxs(ea,{className:"text-orange-800",children:[o.jsx("strong",{children:"Location cache cleared successfully!"}),o.jsxs("div",{className:"mt-2 text-sm",children:[o.jsx("p",{children:" All employees will now use real GPS location data"}),o.jsx("p",{children:" No more hardcoded cities (Delhi, Mumbai, etc.)"}),o.jsx("p",{children:" Refresh the employee list to see updated locations"})]})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"MongoDB Meetings"}),D(e.mongoDB.meetings,e.inMemory.meetings)]}),o.jsxs(vt,{children:[o.jsx("div",{className:`text-2xl font-bold ${T(e.mongoDB.meetings,e.inMemory.meetings)}`,children:e.mongoDB.meetings}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["In-memory: ",e.inMemory.meetings]})]})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Meeting History"}),o.jsx(is,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.mongoDB.history}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Historical records"})]})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Employees"}),o.jsx(la,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.mongoDB.employees}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Employee records"})]})]}),o.jsxs(gt,{children:[o.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx($t,{className:"text-sm font-medium",children:"Tracking Sessions"}),o.jsx(Ep,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(vt,{children:[o.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.mongoDB.trackingSessions}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Location sessions"})]})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsx($t,{className:"text-lg",children:"Sample Meeting Data"})}),o.jsx(vt,{children:e.mongoDB.sampleMeeting?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleMeeting.id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),o.jsxs("span",{children:[e.mongoDB.sampleMeeting.employeeId.substring(0,8),"..."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Status:"}),o.jsx(Rt,{variant:"outline",children:e.mongoDB.sampleMeeting.status})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Lead ID:"}),o.jsx("span",{children:e.mongoDB.sampleMeeting.leadId||"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Has Details:"}),o.jsx(Rt,{variant:e.mongoDB.sampleMeeting.hasDetails?"default":"secondary",children:e.mongoDB.sampleMeeting.hasDetails?"Yes":"No"})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No meeting data found"})})]}),o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsx($t,{className:"text-lg",children:"Sample History Data"})}),o.jsx(vt,{children:e.mongoDB.sampleHistory?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"ID:"}),o.jsx("span",{className:"font-mono text-xs",children:e.mongoDB.sampleHistory.id})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Employee:"}),o.jsxs("span",{children:[e.mongoDB.sampleHistory.employeeId.substring(0,8),"..."]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Customers:"}),o.jsx(Rt,{variant:"outline",children:e.mongoDB.sampleHistory.hasCustomers?"Yes":"No"})]}),o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("span",{className:"text-muted-foreground",children:"Discussion:"}),o.jsx("span",{className:"text-xs bg-muted p-2 rounded",children:e.mongoDB.sampleHistory.discussion||"No discussion"})]})]}):o.jsx("p",{className:"text-muted-foreground",children:"No history data found"})})]})]}),e&&o.jsxs(gt,{children:[o.jsx(Ft,{children:o.jsx($t,{className:"text-lg",children:"Recommendations"})}),o.jsx(vt,{children:o.jsxs("div",{className:"space-y-3",children:[e.mongoDB.meetings===0&&e.inMemory.meetings>0&&o.jsxs(Ji,{className:"border-yellow-200 bg-yellow-50",children:[o.jsx(Oc,{className:"h-4 w-4 text-yellow-600"}),o.jsxs(ea,{className:"text-yellow-800",children:[o.jsx("strong",{children:"Data Sync Needed:"})," You have ",e.inMemory.meetings,' meetings in memory but none in MongoDB. Click "Sync Data" to fix this.']})]}),e.mongoDB.meetings>e.mongoDB.history&&o.jsxs(Ji,{className:"border-blue-200 bg-blue-50",children:[o.jsx(Oc,{className:"h-4 w-4 text-blue-600"}),o.jsxs(ea,{className:"text-blue-800",children:[o.jsx("strong",{children:"Missing History:"})," You have more meetings (",e.mongoDB.meetings,") than history entries (",e.mongoDB.history,"). Some meetings might not have been completed with proper details."]})]}),e.mongoDB.meetings>0&&e.mongoDB.history>0&&o.jsxs(Ji,{className:"border-green-200 bg-green-50",children:[o.jsx(rs,{className:"h-4 w-4 text-green-600"}),o.jsxs(ea,{className:"text-green-800",children:[o.jsx("strong",{children:"Data Looks Good:"})," Your MongoDB storage is working properly with ",e.mongoDB.meetings," meetings and ",e.mongoDB.history," history entries."]})]})]})})]})]})})}const go=[{lat:28.6139,lng:77.209,address:"Connaught Place, New Delhi",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"Karol Bagh",timestamp:"2024-01-15T09:15:00.000Z"},{lat:28.6511,lng:77.241,address:"Civil Lines",timestamp:"2024-01-15T09:30:00.000Z"},{lat:28.6785,lng:77.2654,address:"GTB Nagar",timestamp:"2024-01-15T09:45:00.000Z"},{lat:28.7041,lng:77.1025,address:"Rohini",timestamp:"2024-01-15T10:00:00.000Z"},{lat:28.7342,lng:77.0822,address:"Sector 3 Rohini",timestamp:"2024-01-15T10:10:00.000Z"},{lat:28.7503,lng:77.0689,address:"Client Office, Rohini",timestamp:"2024-01-15T10:20:00.000Z"}],Ic=[{lat:28.6139,lng:77.209,address:"Start",timestamp:"2024-01-15T09:00:00.000Z"},{lat:28.6254,lng:77.2232,address:"End",timestamp:"2024-01-15T09:15:00.000Z"}];class u1{constructor(){$s(this,"results",[])}async runAllTests(){console.log(" Starting Route Tracking Comprehensive Tests"),console.log("=".repeat(60)),await this.testAPIConfiguration(),await this.testDistanceCalculations(),await this.testRouteProcessing(),await this.testRoutingAPIs(),await this.testGPSRouteCreation(),this.displayResults()}async testAPIConfiguration(){console.log(`
 Testing API Configuration...`);const t=Wp();P0(),console.log(`Current API: ${t.type} - ${t.description}`),console.log(`Has paid keys: ${t.hasKey}`),this.results.push({test:"API Configuration",status:" Pass",details:`Using ${t.type} API`,recommendation:t.hasKey?"Good to go!":"Consider upgrading to paid API for better reliability"})}async testDistanceCalculations(){console.log(`
 Testing Distance Calculations...`);const t=go[0],r=go[go.length-1],a=this.calculateStraightLineDistance(t,r);console.log(`Straight-line distance: ${(a/1e3).toFixed(2)} km`);const c=ns.createGPSRoute(go);console.log(`GPS route distance: ${(c.distance/1e3).toFixed(2)} km`),console.log(`GPS route confidence: ${c.confidence}`);const d=c.distance>a&&c.distance<a*2;this.results.push({test:"Distance Calculations",status:d?" Pass":" Warning",details:`GPS: ${(c.distance/1e3).toFixed(2)}km, Straight: ${(a/1e3).toFixed(2)}km`,recommendation:d?"Distance calculations look correct":"GPS distance seems unrealistic"})}async testRouteProcessing(){console.log(`
 Testing Route Processing...`);const t=await ns.getRouteForPoints(go);console.log(`Processed route coordinates: ${t.coordinates.length}`),console.log(`Total distance: ${(t.totalDistance/1e3).toFixed(2)} km`),console.log(`Route source: ${t.source}`),console.log(`Route confidence: ${t.confidence}`);const r=t.totalDistance>0,a=t.coordinates.length>=2;this.results.push({test:"Route Processing",status:r&&a?" Pass":" Fail",details:`${t.coordinates.length} coords, ${(t.totalDistance/1e3).toFixed(2)}km`,recommendation:r?"Route processing working correctly":"Route processing needs fixing"})}async testRoutingAPIs(){console.log(`
 Testing Routing APIs...`);const t=Ic[0],r=Ic[1];try{const a=await ns.getRoute(t,r);console.log(`API route source: ${a.source}`),console.log(`API route confidence: ${a.confidence}`),console.log(`API route distance: ${(a.distance/1e3).toFixed(2)} km`),console.log(`API route coordinates: ${a.coordinates.length}`);const c=a.coordinates.length>=2&&a.distance>0;this.results.push({test:"Routing APIs",status:c?" Pass":" Warning",details:`${a.source} source, ${a.confidence} confidence`,recommendation:a.source==="road-api"?"APIs working well":"APIs limited, consider paid service"})}catch(a){console.error("API routing failed:",a),this.results.push({test:"Routing APIs",status:" Fail",details:`Error: ${a.message}`,recommendation:"APIs not working, need paid service or fix"})}}async testGPSRouteCreation(){console.log(`
 Testing GPS Route Creation...`);const t=[{points:go.slice(0,1),name:"Single point"},{points:go.slice(0,2),name:"Two points"},{points:go.slice(0,4),name:"Four points"},{points:go,name:"Full route"}];for(const r of t){const a=ns.createGPSRoute(r.points);console.log(`${r.name}: ${(a.distance/1e3).toFixed(2)}km, ${a.confidence} confidence`)}this.results.push({test:"GPS Route Creation",status:" Pass",details:"All point counts handled correctly",recommendation:"GPS route creation working properly"})}calculateStraightLineDistance(t,r){const c=t.lat*Math.PI/180,d=r.lat*Math.PI/180,f=(r.lat-t.lat)*Math.PI/180,p=(t.lng-r.lng)*Math.PI/180,v=Math.sin(f/2)*Math.sin(f/2)+Math.cos(c)*Math.cos(d)*Math.sin(p/2)*Math.sin(p/2);return 6371e3*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))}displayResults(){console.log(`
`+"=".repeat(60)),console.log(" TEST RESULTS SUMMARY"),console.log("=".repeat(60)),this.results.forEach((c,d)=>{console.log(`
${d+1}. ${c.test}`),console.log(`   Status: ${c.status}`),console.log(`   Details: ${c.details}`),console.log(`    ${c.recommendation}`)});const t=this.results.filter(c=>c.status.includes("")).length,r=this.results.filter(c=>c.status.includes("")).length,a=this.results.filter(c=>c.status.includes("")).length;console.log(`
`+"=".repeat(60)),console.log(` OVERALL RESULTS: ${t} Pass, ${r} Warning, ${a} Fail`),a>0?(console.log(`
 CRITICAL ISSUES FOUND - Route tracking may not work properly`),console.log("   Recommend using a paid API service for reliable routing")):r>0?(console.log(`
 SOME LIMITATIONS DETECTED - Route tracking working but could be improved`),console.log("   Consider upgrading to a paid API for better accuracy")):console.log(`
 ALL TESTS PASSED - Route tracking should work well!`),console.log(`
 API UPGRADE OPTIONS:`),console.log("    OpenRouteService: 2.99/month for 2000 requests/day"),console.log("    MapBox: Free 50k/month then pay-per-use"),console.log("    Google Maps: Enterprise-grade accuracy (requires billing)"),console.log(`
 TO ENABLE PAID APIs:`),console.log("   Add to your .env file:"),console.log("   VITE_OPENROUTESERVICE_API_KEY=your_key_here"),console.log("   VITE_MAPBOX_API_KEY=your_key_here"),console.log("   VITE_GOOGLE_MAPS_API_KEY=your_key_here")}async quickTest(){console.log(" Running Quick Route Tracking Test...");try{const t=ns.createGPSRoute(Ic),r=t.distance>0,a=await ns.getRoute(Ic[0],Ic[1]),c=a.coordinates.length>=2,d=r&&c;return console.log(` Quick test ${d?"PASSED":"FAILED"}`),console.log(`   GPS distance: ${(t.distance/1e3).toFixed(2)}km`),console.log(`   API source: ${a.source}, confidence: ${a.confidence}`),d}catch(t){return console.error(" Quick test FAILED:",t.message),!1}}}const CL=new u1,PL=()=>CL.quickTest();function TL(){const[e,t]=g.useState(!1),[r,a]=g.useState(!1),[c,d]=g.useState(null),[f,p]=g.useState([]),v=Wp(),x=P0(),_=async()=>{t(!0),p([]);const S=console.log,k=[];console.log=(...P)=>{k.push(P.join(" ")),S(...P)};try{const P=await PL();d(P),p(k)}catch(P){d(!1),p([...k,`Error: ${P.message}`])}finally{console.log=S,t(!1)}},b=async()=>{a(!0),p([]);const S=console.log,k=[];console.log=(...P)=>{k.push(P.join(" ")),S(...P)};try{await new u1().runAllTests(),p(k)}catch(P){p([...k,`Error: ${P.message}`])}finally{console.log=S,a(!1)}};return o.jsxs(gt,{className:"w-full max-w-4xl mx-auto",children:[o.jsxs(Ft,{children:[o.jsxs($t,{className:"flex items-center gap-2",children:[o.jsx(mw,{className:"h-5 w-5"}),"Route Tracking Test Panel"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality after the fixes"})]}),o.jsxs(vt,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(eS,{className:"h-4 w-4"}),"API Configuration"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"Current API"}),o.jsx(Rt,{variant:v.hasKey?"default":"secondary",children:v.type.toUpperCase()})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium",children:"API Status"}),o.jsx(Rt,{variant:v.hasKey?"default":"destructive",children:v.hasKey?"Configured":"Free Tier"})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:v.hasKey?"Using configured API key":"Using free public APIs (limited)"})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(JN,{className:"h-4 w-4"}),"Run Tests"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ee,{onClick:_,disabled:e,className:"w-full",variant:"outline",children:e?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Running..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cr,{className:"h-4 w-4"}),"Quick Test"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Tests basic distance calculation and API routing (~30 seconds)"}),c!==null&&o.jsx("div",{className:"flex items-center gap-2 mt-2",children:c?o.jsxs(o.Fragment,{children:[o.jsx(rs,{className:"h-4 w-4 text-green-500"}),o.jsx("span",{className:"text-sm text-green-700",children:"Test Passed"})]}):o.jsxs(o.Fragment,{children:[o.jsx(YN,{className:"h-4 w-4 text-red-500"}),o.jsx("span",{className:"text-sm text-red-700",children:"Test Failed"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ee,{onClick:b,disabled:r,className:"w-full",children:r?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Running..."]}):o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(aa,{className:"h-4 w-4"}),"Full Test Suite"]})}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive testing of all route tracking features (~2 minutes)"})]})]})]}),f.length>0&&o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"text-lg font-semibold",children:"Test Output"}),o.jsx("div",{className:"p-4 bg-muted rounded-lg max-h-96 overflow-y-auto",children:o.jsx("pre",{className:"text-sm font-mono whitespace-pre-wrap",children:f.join(`
`)})})]}),!v.hasKey&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Oc,{className:"h-4 w-4"}),"Recommendations"]}),o.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[o.jsx("p",{className:"text-sm mb-3",children:"You're using free APIs which may be limited. For better reliability:"}),o.jsx("div",{className:"space-y-2",children:x.recommendations.filter(S=>S.recommended).map((S,k)=>o.jsxs("div",{className:"text-sm",children:[o.jsxs("strong",{children:[S.service,":"]})," ",S.freeLimit," free, ",S.paidOptions,o.jsx("br",{}),o.jsx("code",{className:"text-xs bg-gray-100 px-1 rounded",children:S.setup})]},k))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(hw,{className:"h-4 w-4"}),"Issues Fixed"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Distance Calculation"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Fixed 0 distance showing for 40km routes"}),o.jsx("li",{children:" Improved GPS point filtering (5m instead of 8m)"}),o.jsx("li",{children:" Better distance accumulation logic"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Route Visualization"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:' Fixed "Not enough points" error'}),o.jsx("li",{children:" Simplified route display logic"}),o.jsx("li",{children:" Better fallback for single GPS points"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" API Reliability"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Added timeout handling"}),o.jsx("li",{children:" Improved error handling"}),o.jsx("li",{children:" Better fallback strategies"})]})]}),o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Performance"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Reduced API calls for long routes"}),o.jsx("li",{children:" Better caching strategies"}),o.jsx("li",{children:" More efficient GPS processing"})]})]})]})]})]})]})}function kL(){return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b bg-card shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Ee,{variant:"outline",size:"sm",asChild:!0,children:o.jsxs(Ws,{to:"/dashboard",children:[o.jsx(ff,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Route Tracking Test"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Test and verify route tracking functionality"})]})]})})}),o.jsx("div",{className:"container mx-auto px-4 py-6",children:o.jsx(TL,{})})]})}const ML=()=>{const e=lu();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),o.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};class zc extends Error{}zc.prototype.name="InvalidTokenError";function RL(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let a=r.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a}))}function LL(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return RL(t)}catch{return atob(t)}}function AL(e,t){if(typeof e!="string")throw new zc("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,a=e.split(".")[r];if(typeof a!="string")throw new zc(`Invalid token specified: missing part #${r+1}`);let c;try{c=LL(a)}catch(d){throw new zc(`Invalid token specified: invalid base64 for part #${r+1} (${d.message})`)}try{return JSON.parse(c)}catch(d){throw new zc(`Invalid token specified: invalid json for part #${r+1} (${d.message})`)}}const DL=()=>{console.log(" Testing GPS routing functionality...");const e=[{lat:40.7128,lng:-74.006,address:"Start Location",timestamp:"2024-01-01T10:00:00Z"},{lat:40.713,lng:-74.0058,address:"Point 1",timestamp:"2024-01-01T10:01:00Z"},{lat:40.7135,lng:-74.0055,address:"Point 2",timestamp:"2024-01-01T10:02:00Z"},{lat:40.714,lng:-74.005,address:"Point 3",timestamp:"2024-01-01T10:03:00Z"},{lat:40.7145,lng:-74.0045,address:"End Location",timestamp:"2024-01-01T10:04:00Z"}],t=ns.createGPSRoute(e);console.log(" GPS Route Result:",{source:t.source,confidence:t.confidence,coordinateCount:t.coordinates.length,distance:`${(t.distance/1e3).toFixed(2)} km`,duration:`${Math.round(t.duration)} seconds`}),console.log(" Testing edge cases...");const r=ns.createGPSRoute([]);console.log("Empty route:",r);const a=ns.createGPSRoute([e[0]]);return console.log("Single point route:",a),t},IL=()=>{console.log(`
 ROUTING COMPARISON:

 GPS TRACKING (RECOMMENDED):
-  Shows EXACT path taken by employee
-  High accuracy with real GPS coordinates
-  No dependency on external APIs
-  Works offline
-  Captures actual employee behavior

 ROAD API ROUTING:
-  Shows theoretical road-based route
-  May not match actual employee path
-  Depends on external services (OSRM/ORS)
-  Can fail due to network/API issues
-  Limited accuracy for tracking purposes

 STRAIGHT LINE FALLBACK:
-  Shows direct line between points
-  Ignores roads, buildings, obstacles
-  Very poor accuracy for tracking
-  Only useful as last resort
-  Does not represent actual route
  `)};pt.init();window.addEventListener("unhandledrejection",e=>{var t;((t=e.reason)==null?void 0:t.name)==="AbortError"&&(console.warn("Caught unhandled AbortError:",e.reason.message),e.preventDefault()),e.reason instanceof TypeError&&(e.reason.message.includes("fetch")||e.reason.message.includes("Failed to fetch"))&&(console.warn("Caught FullStory fetch interference:",e.reason.message),pt.forceXHRMode(),e.preventDefault())});if(typeof window<"u"){const e=window.fetch.toString();(e.includes("eval")||e.includes("fullstory")||e.length<50||window.FS)&&console.warn("FullStory detected on page load - HttpClient will use XMLHttpRequest on fetch failures")}const OL=new _C({defaultOptions:{queries:{retry:2,retryDelay:e=>Math.min(1e3*2**e,3e4)}}}),FL=()=>(g.useEffect(()=>{const t=new URLSearchParams(window.location.search).get("token");if(t)try{const r=AL(t);localStorage.setItem("idToken",t),localStorage.setItem("user",JSON.stringify(r)),console.log("Authenticated user:",r),window.history.replaceState({},document.title,window.location.pathname)}catch(r){console.error("Invalid token:",r)}console.log(" Initializing GPS routing system..."),DL(),IL()},[]),o.jsx(NC,{client:OL,children:o.jsxs(JE,{children:[o.jsx(FS,{}),o.jsx(pj,{}),o.jsx(_P,{children:o.jsxs(mP,{children:[o.jsx(ii,{path:"/",element:o.jsx(TM,{})}),o.jsx(ii,{path:"/dashboard",element:o.jsx(LM,{})}),o.jsx(ii,{path:"/tracking/:employeeId",element:o.jsx(bL,{})}),o.jsx(ii,{path:"/team-management",element:o.jsx(NL,{})}),o.jsx(ii,{path:"/data-management",element:o.jsx(EL,{})}),o.jsx(ii,{path:"/route-test",element:o.jsx(kL,{})}),o.jsx(ii,{path:"*",element:o.jsx(ML,{})})]})})]})}));zS.createRoot(document.getElementById("root")).render(o.jsx(FL,{}));
